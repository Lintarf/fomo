(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=a(s);fetch(s.href,u)}})();function Rl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cv(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(a,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),a}var zc={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Rv(){if(Jm)return dl;Jm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,s,u){var c=null;if(u!==void 0&&(c=""+u),s.key!==void 0&&(c=""+s.key),"key"in s){u={};for(var h in s)h!=="key"&&(u[h]=s[h])}else u=s;return s=u.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:u}}return dl.Fragment=r,dl.jsx=a,dl.jsxs=a,dl}var Wm;function Ov(){return Wm||(Wm=1,zc.exports=Rv()),zc.exports}var d=Ov(),Uc={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Dv(){if(ep)return Ne;ep=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function C(k,$,ee){this.props=k,this.context=$,this.refs=E,this.updater=ee||b}C.prototype.isReactComponent={},C.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=C.prototype;function O(k,$,ee){this.props=k,this.context=$,this.refs=E,this.updater=ee||b}var N=O.prototype=new T;N.constructor=O,j(N,C.prototype),N.isPureReactComponent=!0;var G=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function te(k,$,ee,_,oe,ye){return ee=ye.ref,{$$typeof:t,type:k,key:$,ref:ee!==void 0?ee:null,props:ye}}function se(k,$){return te(k.type,$,void 0,void 0,void 0,k.props)}function ce(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function U(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ee){return $[ee]})}var z=/\/+/g;function Y(k,$){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):$.toString(36)}function K(){}function W(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(K,K):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ie(k,$,ee,_,oe){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var ue=!1;if(k===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(k.$$typeof){case t:case r:ue=!0;break;case x:return ue=k._init,ie(ue(k._payload),$,ee,_,oe)}}if(ue)return oe=oe(k),ue=_===""?"."+Y(k,0):_,G(oe)?(ee="",ue!=null&&(ee=ue.replace(z,"$&/")+"/"),ie(oe,$,ee,"",function(rt){return rt})):oe!=null&&(ce(oe)&&(oe=se(oe,ee+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(z,"$&/")+"/")+ue)),$.push(oe)),1;ue=0;var Ie=_===""?".":_+":";if(G(k))for(var Ce=0;Ce<k.length;Ce++)_=k[Ce],ye=Ie+Y(_,Ce),ue+=ie(_,$,ee,ye,oe);else if(Ce=v(k),typeof Ce=="function")for(k=Ce.call(k),Ce=0;!(_=k.next()).done;)_=_.value,ye=Ie+Y(_,Ce++),ue+=ie(_,$,ee,ye,oe);else if(ye==="object"){if(typeof k.then=="function")return ie(W(k),$,ee,_,oe);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function M(k,$,ee){if(k==null)return k;var _=[],oe=0;return ie(k,_,"","",function(ye){return $.call(ee,ye,oe++)}),_}function q(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=ee)},function(ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=ee)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var le=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function he(){}return Ne.Children={map:M,forEach:function(k,$,ee){M(k,function(){$.apply(this,arguments)},ee)},count:function(k){var $=0;return M(k,function(){$++}),$},toArray:function(k){return M(k,function($){return $})||[]},only:function(k){if(!ce(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=C,Ne.Fragment=a,Ne.Profiler=s,Ne.PureComponent=O,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return V.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,$,ee){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _=j({},k.props),oe=k.key,ye=void 0;if($!=null)for(ue in $.ref!==void 0&&(ye=void 0),$.key!==void 0&&(oe=""+$.key),$)!D.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(_[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)_.children=ee;else if(1<ue){for(var Ie=Array(ue),Ce=0;Ce<ue;Ce++)Ie[Ce]=arguments[Ce+2];_.children=Ie}return te(k.type,oe,void 0,void 0,ye,_)},Ne.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ne.createElement=function(k,$,ee){var _,oe={},ye=null;if($!=null)for(_ in $.key!==void 0&&(ye=""+$.key),$)D.call($,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(oe[_]=$[_]);var ue=arguments.length-2;if(ue===1)oe.children=ee;else if(1<ue){for(var Ie=Array(ue),Ce=0;Ce<ue;Ce++)Ie[Ce]=arguments[Ce+2];oe.children=Ie}if(k&&k.defaultProps)for(_ in ue=k.defaultProps,ue)oe[_]===void 0&&(oe[_]=ue[_]);return te(k,ye,void 0,void 0,null,oe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:h,render:k}},Ne.isValidElement=ce,Ne.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:q}},Ne.memo=function(k,$){return{$$typeof:m,type:k,compare:$===void 0?null:$}},Ne.startTransition=function(k){var $=V.T,ee={};V.T=ee;try{var _=k(),oe=V.S;oe!==null&&oe(ee,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(he,le)}catch(ye){le(ye)}finally{V.T=$}},Ne.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ne.use=function(k){return V.H.use(k)},Ne.useActionState=function(k,$,ee){return V.H.useActionState(k,$,ee)},Ne.useCallback=function(k,$){return V.H.useCallback(k,$)},Ne.useContext=function(k){return V.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,$){return V.H.useDeferredValue(k,$)},Ne.useEffect=function(k,$,ee){var _=V.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(k,$)},Ne.useId=function(){return V.H.useId()},Ne.useImperativeHandle=function(k,$,ee){return V.H.useImperativeHandle(k,$,ee)},Ne.useInsertionEffect=function(k,$){return V.H.useInsertionEffect(k,$)},Ne.useLayoutEffect=function(k,$){return V.H.useLayoutEffect(k,$)},Ne.useMemo=function(k,$){return V.H.useMemo(k,$)},Ne.useOptimistic=function(k,$){return V.H.useOptimistic(k,$)},Ne.useReducer=function(k,$,ee){return V.H.useReducer(k,$,ee)},Ne.useRef=function(k){return V.H.useRef(k)},Ne.useState=function(k){return V.H.useState(k)},Ne.useSyncExternalStore=function(k,$,ee){return V.H.useSyncExternalStore(k,$,ee)},Ne.useTransition=function(){return V.H.useTransition()},Ne.version="19.1.0",Ne}var tp;function Hd(){return tp||(tp=1,Uc.exports=Dv()),Uc.exports}var F=Hd();const aa=Rl(F);var Bc={exports:{}},fl={},Pc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function Lv(){return np||(np=1,function(t){function r(M,q){var le=M.length;M.push(q);e:for(;0<le;){var he=le-1>>>1,k=M[he];if(0<s(k,q))M[he]=q,M[le]=k,le=he;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var q=M[0],le=M.pop();if(le!==q){M[0]=le;e:for(var he=0,k=M.length,$=k>>>1;he<$;){var ee=2*(he+1)-1,_=M[ee],oe=ee+1,ye=M[oe];if(0>s(_,le))oe<k&&0>s(ye,_)?(M[he]=ye,M[oe]=le,he=oe):(M[he]=_,M[ee]=le,he=ee);else if(oe<k&&0>s(ye,le))M[he]=ye,M[oe]=le,he=oe;else break e}}return q}function s(M,q){var le=M.sortIndex-q.sortIndex;return le!==0?le:M.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],x=1,y=null,v=3,b=!1,j=!1,E=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function G(M){for(var q=a(m);q!==null;){if(q.callback===null)i(m);else if(q.startTime<=M)i(m),q.sortIndex=q.expirationTime,r(p,q);else break;q=a(m)}}function V(M){if(E=!1,G(M),!j)if(a(p)!==null)j=!0,D||(D=!0,Y());else{var q=a(m);q!==null&&ie(V,q.startTime-M)}}var D=!1,te=-1,se=5,ce=-1;function U(){return C?!0:!(t.unstable_now()-ce<se)}function z(){if(C=!1,D){var M=t.unstable_now();ce=M;var q=!0;try{e:{j=!1,E&&(E=!1,O(te),te=-1),b=!0;var le=v;try{t:{for(G(M),y=a(p);y!==null&&!(y.expirationTime>M&&U());){var he=y.callback;if(typeof he=="function"){y.callback=null,v=y.priorityLevel;var k=he(y.expirationTime<=M);if(M=t.unstable_now(),typeof k=="function"){y.callback=k,G(M),q=!0;break t}y===a(p)&&i(p),G(M)}else i(p);y=a(p)}if(y!==null)q=!0;else{var $=a(m);$!==null&&ie(V,$.startTime-M),q=!1}}break e}finally{y=null,v=le,b=!1}q=void 0}}finally{q?Y():D=!1}}}var Y;if(typeof N=="function")Y=function(){N(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=z,Y=function(){W.postMessage(null)}}else Y=function(){T(z,0)};function ie(M,q){te=T(function(){M(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var le=v;v=q;try{return M()}finally{v=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var le=v;v=M;try{return q()}finally{v=le}},t.unstable_scheduleCallback=function(M,q,le){var he=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,M){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,M={id:x++,callback:q,priorityLevel:M,startTime:le,expirationTime:k,sortIndex:-1},le>he?(M.sortIndex=le,r(m,M),a(p)===null&&M===a(m)&&(E?(O(te),te=-1):E=!0,ie(V,le-he))):(M.sortIndex=k,r(p,M),j||b||(j=!0,D||(D=!0,Y()))),M},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(M){var q=v;return function(){var le=v;v=q;try{return M.apply(this,arguments)}finally{v=le}}}}(qc)),qc}var rp;function Mv(){return rp||(rp=1,Pc.exports=Lv()),Pc.exports}var Ic={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function zv(){if(ap)return Tt;ap=1;var t=Hd();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:p,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return u(p,m,null,x)},Tt.flushSync=function(p){var m=c.T,x=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=x,i.d.f()}},Tt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Tt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Tt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):x==="script"&&i.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Tt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin);i.d.L(p,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Tt.requestFormReset=function(p){i.d.r(p)},Tt.unstable_batchedUpdates=function(p,m){return p(m)},Tt.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var ip;function Uv(){if(ip)return Ic.exports;ip=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ic.exports=zv(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Bv(){if(lp)return fl;lp=1;var t=Mv(),r=Hd(),a=Uv();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var l=e,o=n;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return h(f),e;if(g===o)return h(f),n;g=g.sibling}throw Error(i(188))}if(l.return!==o.return)l=f,o=g;else{for(var w=!1,S=f.child;S;){if(S===l){w=!0,l=f,o=g;break}if(S===o){w=!0,o=f,l=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===l){w=!0,l=g,o=f;break}if(S===o){w=!0,o=g,l=f;break}S=S.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==o)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case N:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:W(e.type)||"Memo";case se:n=e._payload,e=e._init;try{return W(e(n))}catch{}}return null}var ie=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],k=-1;function $(e){return{current:e}}function ee(e){0>k||(e.current=he[k],he[k]=null,k--)}function _(e,n){k++,he[k]=e.current,e.current=n}var oe=$(null),ye=$(null),ue=$(null),Ie=$(null);function Ce(e,n){switch(_(ue,n),_(ye,e),_(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Em(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Em(n),e=Nm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(oe),_(oe,e)}function rt(){ee(oe),ee(ye),ee(ue)}function at(e){e.memoizedState!==null&&_(Ie,e);var n=oe.current,l=Nm(n,e.type);n!==l&&(_(ye,e),_(oe,l))}function Nt(e){ye.current===e&&(ee(oe),ee(ye)),Ie.current===e&&(ee(Ie),ll._currentValue=le)}var Se=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,Kn=t.unstable_shouldYield,Zn=t.unstable_requestPaint,it=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,Mr=t.unstable_ImmediatePriority,zr=t.unstable_UserBlockingPriority,Jn=t.unstable_NormalPriority,mi=t.unstable_LowPriority,oa=t.unstable_IdlePriority,Wn=t.log,er=t.unstable_setDisableYieldValue,Q=null,re=null;function ge(e){if(typeof Wn=="function"&&er(e),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Q,e)}catch{}}var be=Math.clz32?Math.clz32:pn,Be=Math.log,Dt=Math.LN2;function pn(e){return e>>>=0,e===0?32:31-(Be(e)/Dt|0)|0}var ne=256,fe=4194304;function je(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pe(e,n,l){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?f=je(o):(w&=S,w!==0?f=je(w):l||(l=S&~e,l!==0&&(f=je(l))))):(S=o&~g,S!==0?f=je(S):w!==0?f=je(w):l||(l=o&~e,l!==0&&(f=je(l)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,l=n&-n,g>=l||g===32&&(l&4194048)!==0)?n:f}function _e(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function pt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var e=ne;return ne<<=1,(ne&4194048)===0&&(ne=256),e}function Ft(){var e=fe;return fe<<=1,(fe&62914560)===0&&(fe=4194304),e}function Sn(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eo(e,n,l,o,f,g){var w=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,P=e.hiddenUpdates;for(l=w&~l;0<l;){var X=31-be(l),J=1<<X;S[X]=0,A[X]=-1;var I=P[X];if(I!==null)for(P[X]=null,X=0;X<I.length;X++){var H=I[X];H!==null&&(H.lane&=-536870913)}l&=~J}o!==0&&pi(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function pi(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-be(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function Ul(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var o=31-be(l),f=1<<o;f&n|e[o]&n&&(e[o]|=n),l&=~f}}function gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nr(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Ym(e.type))}function No(e,n){var l=q.p;try{return q.p=e,n()}finally{q.p=l}}var Yt=Math.random().toString(36).slice(2),lt="__reactFiber$"+Yt,et="__reactProps$"+Yt,rr="__reactContainer$"+Yt,xi="__reactEvents$"+Yt,Ao="__reactListeners$"+Yt,Bl="__reactHandles$"+Yt,Vt="__reactResources$"+Yt,jn="__reactMarker$"+Yt;function To(e){delete e[lt],delete e[et],delete e[xi],delete e[Ao],delete e[Bl]}function ua(e){var n=e[lt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[rr]||l[lt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Rm(e);e!==null;){if(l=e[lt])return l;e=Rm(e)}return n}e=l,l=e.parentNode}return null}function ca(e){if(e=e[lt]||e[rr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function da(e){var n=e[Vt];return n||(n=e[Vt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function gt(e){e[jn]=!0}var pf=new Set,gf={};function Ur(e,n){fa(e,n),fa(e+"Capture",n)}function fa(e,n){for(gf[e]=n,e=0;e<n.length;e++)pf.add(n[e])}var ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xf={},yf={};function Sy(e){return Se.call(yf,e)?!0:Se.call(xf,e)?!1:ky.test(e)?yf[e]=!0:(xf[e]=!0,!1)}function Pl(e,n,l){if(Sy(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function ql(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function On(e,n,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+o)}}var Co,bf;function ha(e){if(Co===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Co=n&&n[1]||"",bf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Co+e+bf}var Ro=!1;function Oo(e,n){if(!e||Ro)return"";Ro=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var I=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){I=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){I=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&I&&typeof H.stack=="string")return[H.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var A=w.split(`
`),P=S.split(`
`);for(f=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(o===A.length||f===P.length)for(o=A.length-1,f=P.length-1;1<=o&&0<=f&&A[o]!==P[f];)f--;for(;1<=o&&0<=f;o--,f--)if(A[o]!==P[f]){if(o!==1||f!==1)do if(o--,f--,0>f||A[o]!==P[f]){var X=`
`+A[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=f);break}}}finally{Ro=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ha(l):""}function jy(e){switch(e.tag){case 26:case 27:case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return Oo(e.type,!1);case 11:return Oo(e.type.render,!1);case 1:return Oo(e.type,!0);case 31:return ha("Activity");default:return""}}function vf(e){try{var n="";do n+=jy(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _y(e){var n=wf(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Il(e){e._valueTracker||(e._valueTracker=_y(e))}function kf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),o="";return e&&(o=wf(e)?e.checked?"true":"false":e.value),e=o,e!==l?(n.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ey=/[\n"\\]/g;function ln(e){return e.replace(Ey,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Do(e,n,l,o,f,g,w,S){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?Lo(e,w,an(n)):l!=null?Lo(e,w,an(l)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+an(S):e.removeAttribute("name")}function Sf(e,n,l,o,f,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;l=l!=null?""+an(l):"",n=n!=null?""+an(n):l,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function Lo(e,n,l){n==="number"&&Hl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ma(e,n,l,o){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&o&&(e[l].defaultSelected=!0)}else{for(l=""+an(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function jf(e,n,l){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+an(l):""}function _f(e,n,l,o){if(n==null){if(o!=null){if(l!=null)throw Error(i(92));if(ie(o)){if(1<o.length)throw Error(i(93));o=o[0]}l=o}l==null&&(l=""),n=l}l=an(n),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function pa(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ef(e,n,l){var o=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,l):typeof l!="number"||l===0||Ny.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Nf(e,n,l){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&l[f]!==o&&Ef(e,f,o)}else for(var g in n)n.hasOwnProperty(g)&&Ef(e,g,n[g])}function Mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ay=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ty=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(e){return Ty.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zo=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,xa=null;function Af(e){var n=ca(e);if(n&&(e=n.stateNode)){var l=e[et]||null;e:switch(e=n.stateNode,n.type){case"input":if(Do(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var o=l[n];if(o!==e&&o.form===e.form){var f=o[et]||null;if(!f)throw Error(i(90));Do(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)o=l[n],o.form===e.form&&kf(o)}break e;case"textarea":jf(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&ma(e,!!l.multiple,n,!1)}}}var Bo=!1;function Tf(e,n,l){if(Bo)return e(n,l);Bo=!0;try{var o=e(n);return o}finally{if(Bo=!1,(ga!==null||xa!==null)&&(As(),ga&&(n=ga,e=xa,xa=ga=null,Af(n),e)))for(n=0;n<e.length;n++)Af(e[n])}}function bi(e,n){var l=e.stateNode;if(l===null)return null;var o=l[et]||null;if(o===null)return null;l=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(i(231,n,typeof l));return l}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=!1;if(Dn)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){Po=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{Po=!1}var ar=null,qo=null,Fl=null;function Cf(){if(Fl)return Fl;var e,n=qo,l=n.length,o,f="value"in ar?ar.value:ar.textContent,g=f.length;for(e=0;e<l&&n[e]===f[e];e++);var w=l-e;for(o=1;o<=w&&n[l-o]===f[g-o];o++);return Fl=f.slice(e,1<o?1-o:void 0)}function Gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Rf(){return!1}function zt(e){function n(l,o,f,g,w){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yl:Rf,this.isPropagationStopped=Rf,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),n}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=zt(Br),wi=x({},Br,{view:0,detail:0}),Cy=zt(wi),Io,Ho,ki,Ql=x({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Io=e.screenX-ki.screenX,Ho=e.screenY-ki.screenY):Ho=Io=0,ki=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),Of=zt(Ql),Ry=x({},Ql,{dataTransfer:0}),Oy=zt(Ry),Dy=x({},wi,{relatedTarget:0}),$o=zt(Dy),Ly=x({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),My=zt(Ly),zy=x({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uy=zt(zy),By=x({},Br,{data:0}),Df=zt(By),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Iy[e])?!!n[e]:!1}function Fo(){return Hy}var $y=x({},wi,{key:function(e){if(e.key){var n=Py[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fo,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fy=zt($y),Gy=x({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lf=zt(Gy),Yy=x({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fo}),Vy=zt(Yy),Qy=x({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xy=zt(Qy),Ky=x({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=zt(Ky),Jy=x({},Br,{newState:0,oldState:0}),Wy=zt(Jy),eb=[9,13,27,32],Go=Dn&&"CompositionEvent"in window,Si=null;Dn&&"documentMode"in document&&(Si=document.documentMode);var tb=Dn&&"TextEvent"in window&&!Si,Mf=Dn&&(!Go||Si&&8<Si&&11>=Si),zf=" ",Uf=!1;function Bf(e,n){switch(e){case"keyup":return eb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function nb(e,n){switch(e){case"compositionend":return Pf(n);case"keypress":return n.which!==32?null:(Uf=!0,zf);case"textInput":return e=n.data,e===zf&&Uf?null:e;default:return null}}function rb(e,n){if(ya)return e==="compositionend"||!Go&&Bf(e,n)?(e=Cf(),Fl=qo=ar=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mf&&n.locale!=="ko"?null:n.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ab[e.type]:n==="textarea"}function If(e,n,l,o){ga?xa?xa.push(o):xa=[o]:ga=o,n=Ls(n,"onChange"),0<n.length&&(l=new Vl("onChange","change",null,l,o),e.push({event:l,listeners:n}))}var ji=null,_i=null;function ib(e){wm(e,0)}function Xl(e){var n=yi(e);if(kf(n))return e}function Hf(e,n){if(e==="change")return n}var $f=!1;if(Dn){var Yo;if(Dn){var Vo="oninput"in document;if(!Vo){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),Vo=typeof Ff.oninput=="function"}Yo=Vo}else Yo=!1;$f=Yo&&(!document.documentMode||9<document.documentMode)}function Gf(){ji&&(ji.detachEvent("onpropertychange",Yf),_i=ji=null)}function Yf(e){if(e.propertyName==="value"&&Xl(_i)){var n=[];If(n,_i,e,Uo(e)),Tf(ib,n)}}function lb(e,n,l){e==="focusin"?(Gf(),ji=n,_i=l,ji.attachEvent("onpropertychange",Yf)):e==="focusout"&&Gf()}function sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(_i)}function ob(e,n){if(e==="click")return Xl(n)}function ub(e,n){if(e==="input"||e==="change")return Xl(n)}function cb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Qt=typeof Object.is=="function"?Object.is:cb;function Ei(e,n){if(Qt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!Se.call(n,f)||!Qt(e[f],n[f]))return!1}return!0}function Vf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qf(e,n){var l=Vf(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=n&&o>=n)return{node:l,offset:n-e};e=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vf(l)}}function Xf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Hl(e.document)}return n}function Qo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var db=Dn&&"documentMode"in document&&11>=document.documentMode,ba=null,Xo=null,Ni=null,Ko=!1;function Zf(e,n,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ko||ba==null||ba!==Hl(o)||(o=ba,"selectionStart"in o&&Qo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ni&&Ei(Ni,o)||(Ni=o,o=Ls(Xo,"onSelect"),0<o.length&&(n=new Vl("onSelect","select",null,n,l),e.push({event:n,listeners:o}),n.target=ba)))}function Pr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var va={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Zo={},Jf={};Dn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function qr(e){if(Zo[e])return Zo[e];if(!va[e])return e;var n=va[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Jf)return Zo[e]=n[l];return e}var Wf=qr("animationend"),eh=qr("animationiteration"),th=qr("animationstart"),fb=qr("transitionrun"),hb=qr("transitionstart"),mb=qr("transitioncancel"),nh=qr("transitionend"),rh=new Map,Jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jo.push("scrollEnd");function gn(e,n){rh.set(e,n),Ur(n,[e])}var ah=new WeakMap;function sn(e,n){if(typeof e=="object"&&e!==null){var l=ah.get(e);return l!==void 0?l:(n={value:e,source:n,stack:vf(n)},ah.set(e,n),n)}return{value:e,source:n,stack:vf(n)}}var on=[],wa=0,Wo=0;function Kl(){for(var e=wa,n=Wo=wa=0;n<e;){var l=on[n];on[n++]=null;var o=on[n];on[n++]=null;var f=on[n];on[n++]=null;var g=on[n];if(on[n++]=null,o!==null&&f!==null){var w=o.pending;w===null?f.next=f:(f.next=w.next,w.next=f),o.pending=f}g!==0&&ih(l,f,g)}}function Zl(e,n,l,o){on[wa++]=e,on[wa++]=n,on[wa++]=l,on[wa++]=o,Wo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function eu(e,n,l,o){return Zl(e,n,l,o),Jl(e)}function ka(e,n){return Zl(e,null,null,n),Jl(e)}function ih(e,n,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-be(l),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=l|536870912),g):null}function Jl(e){if(50<Ji)throw Ji=0,lc=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Sa={};function pb(e,n,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,l,o){return new pb(e,n,l,o)}function tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ln(e,n){var l=e.alternate;return l===null?(l=Xt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function lh(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Wl(e,n,l,o,f,g){var w=0;if(o=e,typeof e=="function")tu(e)&&(w=1);else if(typeof e=="string")w=xv(e,l,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=Xt(31,l,n,f),e.elementType=ce,e.lanes=g,e;case j:return Ir(l.children,f,g,n);case E:w=8,f|=24;break;case C:return e=Xt(12,l,n,f|2),e.elementType=C,e.lanes=g,e;case V:return e=Xt(13,l,n,f),e.elementType=V,e.lanes=g,e;case D:return e=Xt(19,l,n,f),e.elementType=D,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case N:w=10;break e;case O:w=9;break e;case G:w=11;break e;case te:w=14;break e;case se:w=16,o=null;break e}w=29,l=Error(i(130,e===null?"null":typeof e,"")),o=null}return n=Xt(w,l,n,f),n.elementType=e,n.type=o,n.lanes=g,n}function Ir(e,n,l,o){return e=Xt(7,e,o,n),e.lanes=l,e}function nu(e,n,l){return e=Xt(6,e,null,n),e.lanes=l,e}function ru(e,n,l){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ja=[],_a=0,es=null,ts=0,un=[],cn=0,Hr=null,Mn=1,zn="";function $r(e,n){ja[_a++]=ts,ja[_a++]=es,es=e,ts=n}function sh(e,n,l){un[cn++]=Mn,un[cn++]=zn,un[cn++]=Hr,Hr=e;var o=Mn;e=zn;var f=32-be(o)-1;o&=~(1<<f),l+=1;var g=32-be(n)+f;if(30<g){var w=f-f%5;g=(o&(1<<w)-1).toString(32),o>>=w,f-=w,Mn=1<<32-be(n)+f|l<<f|o,zn=g+e}else Mn=1<<g|l<<f|o,zn=e}function au(e){e.return!==null&&($r(e,1),sh(e,1,0))}function iu(e){for(;e===es;)es=ja[--_a],ja[_a]=null,ts=ja[--_a],ja[_a]=null;for(;e===Hr;)Hr=un[--cn],un[cn]=null,zn=un[--cn],un[cn]=null,Mn=un[--cn],un[cn]=null}var Lt=null,tt=null,qe=!1,Fr=null,_n=!1,lu=Error(i(519));function Gr(e){var n=Error(i(418,""));throw Ci(sn(n,e)),lu}function oh(e){var n=e.stateNode,l=e.type,o=e.memoizedProps;switch(n[lt]=e,n[et]=o,l){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(l=0;l<el.length;l++)De(el[l],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),Sf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Il(n);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),_f(n,o.value,o.defaultValue,o.children),Il(n)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||o.suppressHydrationWarning===!0||_m(n.textContent,l)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Ms),n=!0):n=!1,n||Gr(e)}function uh(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Lt=Lt.return}}function Ai(e){if(e!==Lt)return!1;if(!qe)return uh(e),qe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||kc(e.type,e.memoizedProps)),l=!l),l&&tt&&Gr(e),uh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){tt=yn(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}tt=null}}else n===27?(n=tt,vr(e.type)?(e=Ec,Ec=null,tt=e):tt=n):tt=Lt?yn(e.stateNode.nextSibling):null;return!0}function Ti(){tt=Lt=null,qe=!1}function ch(){var e=Fr;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Fr=null),e}function Ci(e){Fr===null?Fr=[e]:Fr.push(e)}var su=$(null),Yr=null,Un=null;function ir(e,n,l){_(su,n._currentValue),n._currentValue=l}function Bn(e){e._currentValue=su.current,ee(su)}function ou(e,n,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===l)break;e=e.return}}function uu(e,n,l,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var A=0;A<n.length;A++)if(S.context===n[A]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),ou(g.return,l,e),o||(w=null);break e}g=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),ou(w,l,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Ri(e,n,l,o){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=f.type;Qt(f.pendingProps.value,w.value)||(e!==null?e.push(S):e=[S])}}else if(f===Ie.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}f=f.return}e!==null&&uu(n,e,l,o),n.flags|=262144}function ns(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Yr=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return dh(Yr,e)}function rs(e,n){return Yr===null&&Vr(e),dh(e,n)}function dh(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Un===null){if(e===null)throw Error(i(308));Un=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Un=Un.next=n;return l}var gb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},xb=t.unstable_scheduleCallback,yb=t.unstable_NormalPriority,ht={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new gb,data:new Map,refCount:0}}function Oi(e){e.refCount--,e.refCount===0&&xb(yb,function(){e.controller.abort()})}var Di=null,du=0,Ea=0,Na=null;function bb(e,n){if(Di===null){var l=Di=[];du=0,Ea=hc(),Na={status:"pending",value:void 0,then:function(o){l.push(o)}}}return du++,n.then(fh,fh),n}function fh(){if(--du===0&&Di!==null){Na!==null&&(Na.status="fulfilled");var e=Di;Di=null,Ea=0,Na=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function vb(e,n){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var hh=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bb(e,n),hh!==null&&hh(e,n)};var Qr=$(null);function fu(){var e=Qr.current;return e!==null?e:Xe.pooledCache}function as(e,n){n===null?_(Qr,Qr.current):_(Qr,n.pool)}function mh(){var e=fu();return e===null?null:{parent:ht._currentValue,pool:e}}var Li=Error(i(460)),ph=Error(i(474)),is=Error(i(542)),hu={then:function(){}};function gh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ls(){}function xh(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(ls,ls),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bh(e),e;default:if(typeof n.status=="string")n.then(ls,ls);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bh(e),e}throw Mi=n,Li}}var Mi=null;function yh(){if(Mi===null)throw Error(i(459));var e=Mi;return Mi=null,e}function bh(e){if(e===Li||e===is)throw Error(i(483))}var lr=!1;function mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function or(e,n,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Jl(e),ih(e,null,l),n}return Zl(e,o,n,l),Jl(e)}function zi(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,Ul(e,l)}}function gu(e,n){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=n:g=g.next=n}else f=g=n;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var xu=!1;function Ui(){if(xu){var e=Na;if(e!==null)throw e}}function Bi(e,n,l,o){xu=!1;var f=e.updateQueue;lr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var A=S,P=A.next;A.next=null,w===null?g=P:w.next=P,w=A;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==w&&(S===null?X.firstBaseUpdate=P:S.next=P,X.lastBaseUpdate=A))}if(g!==null){var J=f.baseState;w=0,X=P=A=null,S=g;do{var I=S.lane&-536870913,H=I!==S.lane;if(H?(ze&I)===I:(o&I)===I){I!==0&&I===Ea&&(xu=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=e,ve=S;I=n;var Ye=l;switch(ve.tag){case 1:if(ke=ve.payload,typeof ke=="function"){J=ke.call(Ye,J,I);break e}J=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=ve.payload,I=typeof ke=="function"?ke.call(Ye,J,I):ke,I==null)break e;J=x({},J,I);break e;case 2:lr=!0}}I=S.callback,I!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[I]:H.push(I))}else H={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(P=X=H,A=J):X=X.next=H,w|=I;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(A=J),f.baseState=A,f.firstBaseUpdate=P,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),gr|=w,e.lanes=w,e.memoizedState=J}}function vh(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function wh(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)vh(l[e],n)}var Aa=$(null),ss=$(0);function kh(e,n){e=Gn,_(ss,e),_(Aa,n),Gn=e|n.baseLanes}function yu(){_(ss,Gn),_(Aa,Aa.current)}function bu(){Gn=ss.current,ee(Aa),ee(ss)}var ur=0,Te=null,Fe=null,ct=null,os=!1,Ta=!1,Xr=!1,us=0,Pi=0,Ca=null,wb=0;function st(){throw Error(i(321))}function vu(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Qt(e[l],n[l]))return!1;return!0}function wu(e,n,l,o,f,g){return ur=g,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?i0:l0,Xr=!1,g=l(o,f),Xr=!1,Ta&&(g=jh(n,l,o,f)),Sh(e),g}function Sh(e){M.H=ps;var n=Fe!==null&&Fe.next!==null;if(ur=0,ct=Fe=Te=null,os=!1,Pi=0,Ca=null,n)throw Error(i(300));e===null||xt||(e=e.dependencies,e!==null&&ns(e)&&(xt=!0))}function jh(e,n,l,o){Te=e;var f=0;do{if(Ta&&(Ca=null),Pi=0,Ta=!1,25<=f)throw Error(i(301));if(f+=1,ct=Fe=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}M.H=Ab,g=n(l,o)}while(Ta);return g}function kb(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?qi(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Te.flags|=1024),n}function ku(){var e=us!==0;return us=0,e}function Su(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function ju(e){if(os){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}os=!1}ur=0,ct=Fe=Te=null,Ta=!1,Pi=us=0,Ca=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Te.memoizedState=ct=e:ct=ct.next=e,ct}function dt(){if(Fe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=ct===null?Te.memoizedState:ct.next;if(n!==null)ct=n,Fe=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ct===null?Te.memoizedState=ct=e:ct=ct.next=e}return ct}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qi(e){var n=Pi;return Pi+=1,Ca===null&&(Ca=[]),e=xh(Ca,e,n),n=Te,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?i0:l0),e}function cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qi(e);if(e.$$typeof===N)return At(e)}throw Error(i(438,String(e)))}function Eu(e){var n=null,l=Te.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=_u(),Te.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),o=0;o<e;o++)l[o]=U;return n.index++,l}function Pn(e,n){return typeof n=="function"?n(e):n}function ds(e){var n=dt();return Nu(n,Fe,e)}function Nu(e,n,l){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=l;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}n.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var S=w=null,A=null,P=n,X=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(ze&J)===J:(ur&J)===J){var I=P.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Ea&&(X=!0);else if((ur&I)===I){P=P.next,I===Ea&&(X=!0);continue}else J={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=J,w=g):A=A.next=J,Te.lanes|=I,gr|=I;J=P.action,Xr&&l(g,J),g=P.hasEagerState?P.eagerState:l(g,J)}else I={lane:J,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=I,w=g):A=A.next=I,Te.lanes|=J,gr|=J;P=P.next}while(P!==null&&P!==n);if(A===null?w=g:A.next=S,!Qt(g,e.memoizedState)&&(xt=!0,X&&(l=Na,l!==null)))throw l;e.memoizedState=g,e.baseState=w,e.baseQueue=A,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Au(e){var n=dt(),l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=e;var o=l.dispatch,f=l.pending,g=n.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);Qt(g,n.memoizedState)||(xt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),l.lastRenderedState=g}return[g,o]}function _h(e,n,l){var o=Te,f=dt(),g=qe;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=n();var w=!Qt((Fe||f).memoizedState,l);w&&(f.memoizedState=l,xt=!0),f=f.queue;var S=Ah.bind(null,o,f,e);if(Ii(2048,8,S,[e]),f.getSnapshot!==n||w||ct!==null&&ct.memoizedState.tag&1){if(o.flags|=2048,Ra(9,fs(),Nh.bind(null,o,f,l,n),null),Xe===null)throw Error(i(349));g||(ur&124)!==0||Eh(o,n,l)}return l}function Eh(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Te.updateQueue,n===null?(n=_u(),Te.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Nh(e,n,l,o){n.value=l,n.getSnapshot=o,Th(n)&&Ch(e)}function Ah(e,n,l){return l(function(){Th(n)&&Ch(e)})}function Th(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Qt(e,l)}catch{return!0}}function Ch(e){var n=ka(e,2);n!==null&&en(n,e,2)}function Tu(e){var n=Ut();if(typeof e=="function"){var l=e;if(e=l(),Xr){ge(!0);try{l()}finally{ge(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},n}function Rh(e,n,l,o){return e.baseState=l,Nu(e,Fe,typeof o=="function"?o:Pn)}function Sb(e,n,l,o,f){if(ms(e))throw Error(i(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};M.T!==null?l(!0):g.isTransition=!1,o(g),l=n.pending,l===null?(g.next=n.pending=g,Oh(n,g)):(g.next=l.next,n.pending=l.next=g)}}function Oh(e,n){var l=n.action,o=n.payload,f=e.state;if(n.isTransition){var g=M.T,w={};M.T=w;try{var S=l(f,o),A=M.S;A!==null&&A(w,S),Dh(e,n,S)}catch(P){Cu(e,n,P)}finally{M.T=g}}else try{g=l(f,o),Dh(e,n,g)}catch(P){Cu(e,n,P)}}function Dh(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Lh(e,n,o)},function(o){return Cu(e,n,o)}):Lh(e,n,l)}function Lh(e,n,l){n.status="fulfilled",n.value=l,Mh(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Oh(e,l)))}function Cu(e,n,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=l,Mh(n),n=n.next;while(n!==o)}e.action=null}function Mh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zh(e,n){return n}function Uh(e,n){if(qe){var l=Xe.formState;if(l!==null){e:{var o=Te;if(qe){if(tt){t:{for(var f=tt,g=_n;f.nodeType!==8;){if(!g){f=null;break t}if(f=yn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){tt=yn(f.nextSibling),o=f.data==="F!";break e}}Gr(o)}o=!1}o&&(n=l[0])}}return l=Ut(),l.memoizedState=l.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:n},l.queue=o,l=n0.bind(null,Te,o),o.dispatch=l,o=Tu(!1),g=Mu.bind(null,Te,!1,o.queue),o=Ut(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,l=Sb.bind(null,Te,f,g,l),f.dispatch=l,o.memoizedState=e,[n,l,!1]}function Bh(e){var n=dt();return Ph(n,Fe,e)}function Ph(e,n,l){if(n=Nu(e,n,zh)[0],e=ds(Pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qi(n)}catch(w){throw w===Li?is:w}else o=n;n=dt();var f=n.queue,g=f.dispatch;return l!==n.memoizedState&&(Te.flags|=2048,Ra(9,fs(),jb.bind(null,f,l),null)),[o,g,e]}function jb(e,n){e.action=n}function qh(e){var n=dt(),l=Fe;if(l!==null)return Ph(n,l,e);dt(),n=n.memoizedState,l=dt();var o=l.queue.dispatch;return l.memoizedState=e,[n,o,!1]}function Ra(e,n,l,o){return e={tag:e,create:l,deps:o,inst:n,next:null},n=Te.updateQueue,n===null&&(n=_u(),Te.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,n.lastEffect=e),e}function fs(){return{destroy:void 0,resource:void 0}}function Ih(){return dt().memoizedState}function hs(e,n,l,o){var f=Ut();o=o===void 0?null:o,Te.flags|=e,f.memoizedState=Ra(1|n,fs(),l,o)}function Ii(e,n,l,o){var f=dt();o=o===void 0?null:o;var g=f.memoizedState.inst;Fe!==null&&o!==null&&vu(o,Fe.memoizedState.deps)?f.memoizedState=Ra(n,g,l,o):(Te.flags|=e,f.memoizedState=Ra(1|n,g,l,o))}function Hh(e,n){hs(8390656,8,e,n)}function $h(e,n){Ii(2048,8,e,n)}function Fh(e,n){return Ii(4,2,e,n)}function Gh(e,n){return Ii(4,4,e,n)}function Yh(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vh(e,n,l){l=l!=null?l.concat([e]):null,Ii(4,4,Yh.bind(null,n,e),l)}function Ru(){}function Qh(e,n){var l=dt();n=n===void 0?null:n;var o=l.memoizedState;return n!==null&&vu(n,o[1])?o[0]:(l.memoizedState=[e,n],e)}function Xh(e,n){var l=dt();n=n===void 0?null:n;var o=l.memoizedState;if(n!==null&&vu(n,o[1]))return o[0];if(o=e(),Xr){ge(!0);try{e()}finally{ge(!1)}}return l.memoizedState=[o,n],o}function Ou(e,n,l){return l===void 0||(ur&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=J0(),Te.lanes|=e,gr|=e,l)}function Kh(e,n,l,o){return Qt(l,n)?l:Aa.current!==null?(e=Ou(e,l,o),Qt(e,n)||(xt=!0),e):(ur&42)===0?(xt=!0,e.memoizedState=l):(e=J0(),Te.lanes|=e,gr|=e,n)}function Zh(e,n,l,o,f){var g=q.p;q.p=g!==0&&8>g?g:8;var w=M.T,S={};M.T=S,Mu(e,!1,n,l);try{var A=f(),P=M.S;if(P!==null&&P(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=vb(A,o);Hi(e,n,X,Wt(e))}else Hi(e,n,o,Wt(e))}catch(J){Hi(e,n,{then:function(){},status:"rejected",reason:J},Wt())}finally{q.p=g,M.T=w}}function _b(){}function Du(e,n,l,o){if(e.tag!==5)throw Error(i(476));var f=Jh(e).queue;Zh(e,f,n,le,l===null?_b:function(){return Wh(e),l(o)})}function Jh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:le},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wh(e){var n=Jh(e).next.queue;Hi(e,n,{},Wt())}function Lu(){return At(ll)}function e0(){return dt().memoizedState}function t0(){return dt().memoizedState}function Eb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Wt();e=sr(l);var o=or(n,e,l);o!==null&&(en(o,n,l),zi(o,n,l)),n={cache:cu()},e.payload=n;return}n=n.return}}function Nb(e,n,l){var o=Wt();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ms(e)?r0(n,l):(l=eu(e,n,l,o),l!==null&&(en(l,e,o),a0(l,n,o)))}function n0(e,n,l){var o=Wt();Hi(e,n,l,o)}function Hi(e,n,l,o){var f={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ms(e))r0(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,S=g(w,l);if(f.hasEagerState=!0,f.eagerState=S,Qt(S,w))return Zl(e,n,f,0),Xe===null&&Kl(),!1}catch{}finally{}if(l=eu(e,n,f,o),l!==null)return en(l,e,o),a0(l,n,o),!0}return!1}function Mu(e,n,l,o){if(o={lane:2,revertLane:hc(),action:o,hasEagerState:!1,eagerState:null,next:null},ms(e)){if(n)throw Error(i(479))}else n=eu(e,l,o,2),n!==null&&en(n,e,2)}function ms(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function r0(e,n){Ta=os=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function a0(e,n,l){if((l&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,Ul(e,l)}}var ps={readContext:At,use:cs,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},i0={readContext:At,use:cs,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:At,useEffect:Hh,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,hs(4194308,4,Yh.bind(null,n,e),l)},useLayoutEffect:function(e,n){return hs(4194308,4,e,n)},useInsertionEffect:function(e,n){hs(4,2,e,n)},useMemo:function(e,n){var l=Ut();n=n===void 0?null:n;var o=e();if(Xr){ge(!0);try{e()}finally{ge(!1)}}return l.memoizedState=[o,n],o},useReducer:function(e,n,l){var o=Ut();if(l!==void 0){var f=l(n);if(Xr){ge(!0);try{l(n)}finally{ge(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Nb.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=Tu(e);var n=e.queue,l=n0.bind(null,Te,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Ru,useDeferredValue:function(e,n){var l=Ut();return Ou(l,e,n)},useTransition:function(){var e=Tu(!1);return e=Zh.bind(null,Te,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var o=Te,f=Ut();if(qe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=n(),Xe===null)throw Error(i(349));(ze&124)!==0||Eh(o,n,l)}f.memoizedState=l;var g={value:l,getSnapshot:n};return f.queue=g,Hh(Ah.bind(null,o,g,e),[e]),o.flags|=2048,Ra(9,fs(),Nh.bind(null,o,g,l,n),null),l},useId:function(){var e=Ut(),n=Xe.identifierPrefix;if(qe){var l=zn,o=Mn;l=(o&~(1<<32-be(o)-1)).toString(32)+l,n=""+n+"R"+l,l=us++,0<l&&(n+="H"+l.toString(32)),n+=""}else l=wb++,n=""+n+"r"+l.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Lu,useFormState:Uh,useActionState:Uh,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Mu.bind(null,Te,!0,l),l.dispatch=n,[e,n]},useMemoCache:Eu,useCacheRefresh:function(){return Ut().memoizedState=Eb.bind(null,Te)}},l0={readContext:At,use:cs,useCallback:Qh,useContext:At,useEffect:$h,useImperativeHandle:Vh,useInsertionEffect:Fh,useLayoutEffect:Gh,useMemo:Xh,useReducer:ds,useRef:Ih,useState:function(){return ds(Pn)},useDebugValue:Ru,useDeferredValue:function(e,n){var l=dt();return Kh(l,Fe.memoizedState,e,n)},useTransition:function(){var e=ds(Pn)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:qi(e),n]},useSyncExternalStore:_h,useId:e0,useHostTransitionStatus:Lu,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,n){var l=dt();return Rh(l,Fe,e,n)},useMemoCache:Eu,useCacheRefresh:t0},Ab={readContext:At,use:cs,useCallback:Qh,useContext:At,useEffect:$h,useImperativeHandle:Vh,useInsertionEffect:Fh,useLayoutEffect:Gh,useMemo:Xh,useReducer:Au,useRef:Ih,useState:function(){return Au(Pn)},useDebugValue:Ru,useDeferredValue:function(e,n){var l=dt();return Fe===null?Ou(l,e,n):Kh(l,Fe.memoizedState,e,n)},useTransition:function(){var e=Au(Pn)[0],n=dt().memoizedState;return[typeof e=="boolean"?e:qi(e),n]},useSyncExternalStore:_h,useId:e0,useHostTransitionStatus:Lu,useFormState:qh,useActionState:qh,useOptimistic:function(e,n){var l=dt();return Fe!==null?Rh(l,Fe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:t0},Oa=null,$i=0;function gs(e){var n=$i;return $i+=1,Oa===null&&(Oa=[]),xh(Oa,e,n)}function Fi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xs(e,n){throw n.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function s0(e){var n=e._init;return n(e._payload)}function o0(e){function n(L,R){if(e){var B=L.deletions;B===null?(L.deletions=[R],L.flags|=16):B.push(R)}}function l(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function o(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function f(L,R){return L=Ln(L,R),L.index=0,L.sibling=null,L}function g(L,R,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<R?(L.flags|=67108866,R):B):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function w(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,R,B,Z){return R===null||R.tag!==6?(R=nu(B,L.mode,Z),R.return=L,R):(R=f(R,B),R.return=L,R)}function A(L,R,B,Z){var de=B.type;return de===j?X(L,R,B.props.children,Z,B.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&s0(de)===R.type)?(R=f(R,B.props),Fi(R,B),R.return=L,R):(R=Wl(B.type,B.key,B.props,null,L.mode,Z),Fi(R,B),R.return=L,R)}function P(L,R,B,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=ru(B,L.mode,Z),R.return=L,R):(R=f(R,B.children||[]),R.return=L,R)}function X(L,R,B,Z,de){return R===null||R.tag!==7?(R=Ir(B,L.mode,Z,de),R.return=L,R):(R=f(R,B),R.return=L,R)}function J(L,R,B){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=nu(""+R,L.mode,B),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return B=Wl(R.type,R.key,R.props,null,L.mode,B),Fi(B,R),B.return=L,B;case b:return R=ru(R,L.mode,B),R.return=L,R;case se:var Z=R._init;return R=Z(R._payload),J(L,R,B)}if(ie(R)||Y(R))return R=Ir(R,L.mode,B,null),R.return=L,R;if(typeof R.then=="function")return J(L,gs(R),B);if(R.$$typeof===N)return J(L,rs(L,R),B);xs(L,R)}return null}function I(L,R,B,Z){var de=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:S(L,R,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return B.key===de?A(L,R,B,Z):null;case b:return B.key===de?P(L,R,B,Z):null;case se:return de=B._init,B=de(B._payload),I(L,R,B,Z)}if(ie(B)||Y(B))return de!==null?null:X(L,R,B,Z,null);if(typeof B.then=="function")return I(L,R,gs(B),Z);if(B.$$typeof===N)return I(L,R,rs(L,B),Z);xs(L,B)}return null}function H(L,R,B,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,S(R,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return L=L.get(Z.key===null?B:Z.key)||null,A(R,L,Z,de);case b:return L=L.get(Z.key===null?B:Z.key)||null,P(R,L,Z,de);case se:var Re=Z._init;return Z=Re(Z._payload),H(L,R,B,Z,de)}if(ie(Z)||Y(Z))return L=L.get(B)||null,X(R,L,Z,de,null);if(typeof Z.then=="function")return H(L,R,B,gs(Z),de);if(Z.$$typeof===N)return H(L,R,B,rs(R,Z),de);xs(R,Z)}return null}function ke(L,R,B,Z){for(var de=null,Re=null,me=R,we=R=0,bt=null;me!==null&&we<B.length;we++){me.index>we?(bt=me,me=null):bt=me.sibling;var Pe=I(L,me,B[we],Z);if(Pe===null){me===null&&(me=bt);break}e&&me&&Pe.alternate===null&&n(L,me),R=g(Pe,R,we),Re===null?de=Pe:Re.sibling=Pe,Re=Pe,me=bt}if(we===B.length)return l(L,me),qe&&$r(L,we),de;if(me===null){for(;we<B.length;we++)me=J(L,B[we],Z),me!==null&&(R=g(me,R,we),Re===null?de=me:Re.sibling=me,Re=me);return qe&&$r(L,we),de}for(me=o(me);we<B.length;we++)bt=H(me,L,we,B[we],Z),bt!==null&&(e&&bt.alternate!==null&&me.delete(bt.key===null?we:bt.key),R=g(bt,R,we),Re===null?de=bt:Re.sibling=bt,Re=bt);return e&&me.forEach(function(_r){return n(L,_r)}),qe&&$r(L,we),de}function ve(L,R,B,Z){if(B==null)throw Error(i(151));for(var de=null,Re=null,me=R,we=R=0,bt=null,Pe=B.next();me!==null&&!Pe.done;we++,Pe=B.next()){me.index>we?(bt=me,me=null):bt=me.sibling;var _r=I(L,me,Pe.value,Z);if(_r===null){me===null&&(me=bt);break}e&&me&&_r.alternate===null&&n(L,me),R=g(_r,R,we),Re===null?de=_r:Re.sibling=_r,Re=_r,me=bt}if(Pe.done)return l(L,me),qe&&$r(L,we),de;if(me===null){for(;!Pe.done;we++,Pe=B.next())Pe=J(L,Pe.value,Z),Pe!==null&&(R=g(Pe,R,we),Re===null?de=Pe:Re.sibling=Pe,Re=Pe);return qe&&$r(L,we),de}for(me=o(me);!Pe.done;we++,Pe=B.next())Pe=H(me,L,we,Pe.value,Z),Pe!==null&&(e&&Pe.alternate!==null&&me.delete(Pe.key===null?we:Pe.key),R=g(Pe,R,we),Re===null?de=Pe:Re.sibling=Pe,Re=Pe);return e&&me.forEach(function(Tv){return n(L,Tv)}),qe&&$r(L,we),de}function Ye(L,R,B,Z){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case v:e:{for(var de=B.key;R!==null;){if(R.key===de){if(de=B.type,de===j){if(R.tag===7){l(L,R.sibling),Z=f(R,B.props.children),Z.return=L,L=Z;break e}}else if(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&s0(de)===R.type){l(L,R.sibling),Z=f(R,B.props),Fi(Z,B),Z.return=L,L=Z;break e}l(L,R);break}else n(L,R);R=R.sibling}B.type===j?(Z=Ir(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=Wl(B.type,B.key,B.props,null,L.mode,Z),Fi(Z,B),Z.return=L,L=Z)}return w(L);case b:e:{for(de=B.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){l(L,R.sibling),Z=f(R,B.children||[]),Z.return=L,L=Z;break e}else{l(L,R);break}else n(L,R);R=R.sibling}Z=ru(B,L.mode,Z),Z.return=L,L=Z}return w(L);case se:return de=B._init,B=de(B._payload),Ye(L,R,B,Z)}if(ie(B))return ke(L,R,B,Z);if(Y(B)){if(de=Y(B),typeof de!="function")throw Error(i(150));return B=de.call(B),ve(L,R,B,Z)}if(typeof B.then=="function")return Ye(L,R,gs(B),Z);if(B.$$typeof===N)return Ye(L,R,rs(L,B),Z);xs(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,R!==null&&R.tag===6?(l(L,R.sibling),Z=f(R,B),Z.return=L,L=Z):(l(L,R),Z=nu(B,L.mode,Z),Z.return=L,L=Z),w(L)):l(L,R)}return function(L,R,B,Z){try{$i=0;var de=Ye(L,R,B,Z);return Oa=null,de}catch(me){if(me===Li||me===is)throw me;var Re=Xt(29,me,null,L.mode);return Re.lanes=Z,Re.return=L,Re}finally{}}}var Da=o0(!0),u0=o0(!1),dn=$(null),En=null;function cr(e){var n=e.alternate;_(mt,mt.current&1),_(dn,e),En===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(En=e)}function c0(e){if(e.tag===22){if(_(mt,mt.current),_(dn,e),En===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(En=e)}}else dr()}function dr(){_(mt,mt.current),_(dn,dn.current)}function qn(e){ee(dn),En===e&&(En=null),ee(mt)}var mt=$(0);function ys(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||_c(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zu(e,n,l,o){n=e.memoizedState,l=l(o,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Uu={enqueueSetState:function(e,n,l){e=e._reactInternals;var o=Wt(),f=sr(o);f.payload=n,l!=null&&(f.callback=l),n=or(e,f,o),n!==null&&(en(n,e,o),zi(n,e,o))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var o=Wt(),f=sr(o);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=or(e,f,o),n!==null&&(en(n,e,o),zi(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Wt(),o=sr(l);o.tag=2,n!=null&&(o.callback=n),n=or(e,o,l),n!==null&&(en(n,e,l),zi(n,e,l))}};function d0(e,n,l,o,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,w):n.prototype&&n.prototype.isPureReactComponent?!Ei(l,o)||!Ei(f,g):!0}function f0(e,n,l,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,o),n.state!==e&&Uu.enqueueReplaceState(n,n.state,null)}function Kr(e,n){var l=n;if("ref"in n){l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function h0(e){bs(e)}function m0(e){console.error(e)}function p0(e){bs(e)}function vs(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function g0(e,n,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Bu(e,n,l){return l=sr(l),l.tag=3,l.payload={element:null},l.callback=function(){vs(e,n)},l}function x0(e){return e=sr(e),e.tag=3,e}function y0(e,n,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){g0(n,l,o)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){g0(n,l,o),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Tb(e,n,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=l.alternate,n!==null&&Ri(n,l,f,!0),l=dn.current,l!==null){switch(l.tag){case 13:return En===null?oc():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===hu?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([o]):n.add(o),cc(e,o,f)),!1;case 22:return l.flags|=65536,o===hu?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([o]):l.add(o)),cc(e,o,f)),!1}throw Error(i(435,l.tag))}return cc(e,o,f),oc(),!1}if(qe)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==lu&&(e=Error(i(422),{cause:o}),Ci(sn(e,l)))):(o!==lu&&(n=Error(i(423),{cause:o}),Ci(sn(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=sn(o,l),f=Bu(e.stateNode,o,f),gu(e,f),nt!==4&&(nt=2)),!1;var g=Error(i(520),{cause:o});if(g=sn(g,l),Zi===null?Zi=[g]:Zi.push(g),nt!==4&&(nt=2),n===null)return!0;o=sn(o,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Bu(l.stateNode,o,e),gu(l,e),!1;case 1:if(n=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xr===null||!xr.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=x0(f),y0(f,e,l,o),gu(l,f),!1}l=l.return}while(l!==null);return!1}var b0=Error(i(461)),xt=!1;function jt(e,n,l,o){n.child=e===null?u0(n,null,l,o):Da(n,e.child,l,o)}function v0(e,n,l,o,f){l=l.render;var g=n.ref;if("ref"in o){var w={};for(var S in o)S!=="ref"&&(w[S]=o[S])}else w=o;return Vr(n),o=wu(e,n,l,w,g,f),S=ku(),e!==null&&!xt?(Su(e,n,f),In(e,n,f)):(qe&&S&&au(n),n.flags|=1,jt(e,n,o,f),n.child)}function w0(e,n,l,o,f){if(e===null){var g=l.type;return typeof g=="function"&&!tu(g)&&g.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=g,k0(e,n,g,o,f)):(e=Wl(l.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Yu(e,f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ei,l(w,o)&&e.ref===n.ref)return In(e,n,f)}return n.flags|=1,e=Ln(g,o),e.ref=n.ref,e.return=n,n.child=e}function k0(e,n,l,o,f){if(e!==null){var g=e.memoizedProps;if(Ei(g,o)&&e.ref===n.ref)if(xt=!1,n.pendingProps=o=g,Yu(e,f))(e.flags&131072)!==0&&(xt=!0);else return n.lanes=e.lanes,In(e,n,f)}return Pu(e,n,l,o,f)}function S0(e,n,l){var o=n.pendingProps,f=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|l:l,e!==null){for(f=n.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return j0(e,n,o,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&as(n,g!==null?g.cachePool:null),g!==null?kh(n,g):yu(),c0(n);else return n.lanes=n.childLanes=536870912,j0(e,n,g!==null?g.baseLanes|l:l,l)}else g!==null?(as(n,g.cachePool),kh(n,g),dr(),n.memoizedState=null):(e!==null&&as(n,null),yu(),dr());return jt(e,n,f,l),n.child}function j0(e,n,l,o){var f=fu();return f=f===null?null:{parent:ht._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},e!==null&&as(n,null),yu(),c0(n),e!==null&&Ri(e,n,o,!0),null}function ws(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Pu(e,n,l,o,f){return Vr(n),l=wu(e,n,l,o,void 0,f),o=ku(),e!==null&&!xt?(Su(e,n,f),In(e,n,f)):(qe&&o&&au(n),n.flags|=1,jt(e,n,l,f),n.child)}function _0(e,n,l,o,f,g){return Vr(n),n.updateQueue=null,l=jh(n,o,l,f),Sh(e),o=ku(),e!==null&&!xt?(Su(e,n,g),In(e,n,g)):(qe&&o&&au(n),n.flags|=1,jt(e,n,l,g),n.child)}function E0(e,n,l,o,f){if(Vr(n),n.stateNode===null){var g=Sa,w=l.contextType;typeof w=="object"&&w!==null&&(g=At(w)),g=new l(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Uu,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},mu(n),w=l.contextType,g.context=typeof w=="object"&&w!==null?At(w):Sa,g.state=n.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(zu(n,l,w,o),g.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Uu.enqueueReplaceState(g,g.state,null),Bi(n,o,g,f),Ui(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var S=n.memoizedProps,A=Kr(l,S);g.props=A;var P=g.context,X=l.contextType;w=Sa,typeof X=="object"&&X!==null&&(w=At(X));var J=l.getDerivedStateFromProps;X=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||P!==w)&&f0(n,g,o,w),lr=!1;var I=n.memoizedState;g.state=I,Bi(n,o,g,f),Ui(),P=n.memoizedState,S||I!==P||lr?(typeof J=="function"&&(zu(n,l,J,o),P=n.memoizedState),(A=lr||d0(n,l,A,o,I,P,w))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),g.props=o,g.state=P,g.context=w,o=A):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,pu(e,n),w=n.memoizedProps,X=Kr(l,w),g.props=X,J=n.pendingProps,I=g.context,P=l.contextType,A=Sa,typeof P=="object"&&P!==null&&(A=At(P)),S=l.getDerivedStateFromProps,(P=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==J||I!==A)&&f0(n,g,o,A),lr=!1,I=n.memoizedState,g.state=I,Bi(n,o,g,f),Ui();var H=n.memoizedState;w!==J||I!==H||lr||e!==null&&e.dependencies!==null&&ns(e.dependencies)?(typeof S=="function"&&(zu(n,l,S,o),H=n.memoizedState),(X=lr||d0(n,l,X,o,I,H,A)||e!==null&&e.dependencies!==null&&ns(e.dependencies))?(P||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,H,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,H,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),g.props=o,g.state=H,g.context=A,o=X):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,ws(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Da(n,e.child,null,f),n.child=Da(n,null,l,f)):jt(e,n,l,f),n.memoizedState=g.state,e=n.child):e=In(e,n,f),e}function N0(e,n,l,o){return Ti(),n.flags|=256,jt(e,n,l,o),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iu(e){return{baseLanes:e,cachePool:mh()}}function Hu(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=fn),e}function A0(e,n,l){var o=n.pendingProps,f=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(qe){if(f?cr(n):dr(),qe){var S=tt,A;if(A=S){e:{for(A=S,S=_n;A.nodeType!==8;){if(!S){S=null;break e}if(A=yn(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(n.memoizedState={dehydrated:S,treeContext:Hr!==null?{id:Mn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},A=Xt(18,null,null,0),A.stateNode=S,A.return=n,n.child=A,Lt=n,tt=null,A=!0):A=!1}A||Gr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return _c(S)?n.lanes=32:n.lanes=536870912,null;qn(n)}return S=o.children,o=o.fallback,f?(dr(),f=n.mode,S=ks({mode:"hidden",children:S},f),o=Ir(o,f,l,null),S.return=n,o.return=n,S.sibling=o,n.child=S,f=n.child,f.memoizedState=Iu(l),f.childLanes=Hu(e,w,l),n.memoizedState=qu,o):(cr(n),$u(n,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(g)n.flags&256?(cr(n),n.flags&=-257,n=Fu(e,n,l)):n.memoizedState!==null?(dr(),n.child=e.child,n.flags|=128,n=null):(dr(),f=o.fallback,S=n.mode,o=ks({mode:"visible",children:o.children},S),f=Ir(f,S,l,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Da(n,e.child,null,l),o=n.child,o.memoizedState=Iu(l),o.childLanes=Hu(e,w,l),n.memoizedState=qu,n=f);else if(cr(n),_c(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var P=w.dgst;w=P,o=Error(i(419)),o.stack="",o.digest=w,Ci({value:o,source:null,stack:null}),n=Fu(e,n,l)}else if(xt||Ri(e,n,l,!1),w=(l&e.childLanes)!==0,xt||w){if(w=Xe,w!==null&&(o=l&-l,o=(o&42)!==0?1:gi(o),o=(o&(w.suspendedLanes|l))!==0?0:o,o!==0&&o!==A.retryLane))throw A.retryLane=o,ka(e,o),en(w,e,o),b0;S.data==="$?"||oc(),n=Fu(e,n,l)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,tt=yn(S.nextSibling),Lt=n,qe=!0,Fr=null,_n=!1,e!==null&&(un[cn++]=Mn,un[cn++]=zn,un[cn++]=Hr,Mn=e.id,zn=e.overflow,Hr=n),n=$u(n,o.children),n.flags|=4096);return n}return f?(dr(),f=o.fallback,S=n.mode,A=e.child,P=A.sibling,o=Ln(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,P!==null?f=Ln(P,f):(f=Ir(f,S,l,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,S=e.child.memoizedState,S===null?S=Iu(l):(A=S.cachePool,A!==null?(P=ht._currentValue,A=A.parent!==P?{parent:P,pool:P}:A):A=mh(),S={baseLanes:S.baseLanes|l,cachePool:A}),f.memoizedState=S,f.childLanes=Hu(e,w,l),n.memoizedState=qu,o):(cr(n),l=e.child,e=l.sibling,l=Ln(l,{mode:"visible",children:o.children}),l.return=n,l.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=l,n.memoizedState=null,l)}function $u(e,n){return n=ks({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ks(e,n){return e=Xt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fu(e,n,l){return Da(n,e.child,null,l),e=$u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function T0(e,n,l){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ou(e.return,n,l)}function Gu(e,n,l,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=l,g.tailMode=f)}function C0(e,n,l){var o=n.pendingProps,f=o.revealOrder,g=o.tail;if(jt(e,n,o.children,l),o=mt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T0(e,l,n);else if(e.tag===19)T0(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(_(mt,o),f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&ys(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Gu(n,!1,f,l,g);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&ys(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Gu(n,!0,l,null,g);break;case"together":Gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function In(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),gr|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ri(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,l=Ln(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Ln(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Yu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ns(e)))}function Cb(e,n,l){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ir(n,ht,e.memoizedState.cache),Ti();break;case 27:case 5:at(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(cr(n),n.flags|=128,null):(l&n.child.childLanes)!==0?A0(e,n,l):(cr(n),e=In(e,n,l),e!==null?e.sibling:null);cr(n);break;case 19:var f=(e.flags&128)!==0;if(o=(l&n.childLanes)!==0,o||(Ri(e,n,l,!1),o=(l&n.childLanes)!==0),f){if(o)return C0(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_(mt,mt.current),o)break;return null;case 22:case 23:return n.lanes=0,S0(e,n,l);case 24:ir(n,ht,e.memoizedState.cache)}return In(e,n,l)}function R0(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)xt=!0;else{if(!Yu(e,l)&&(n.flags&128)===0)return xt=!1,Cb(e,n,l);xt=(e.flags&131072)!==0}else xt=!1,qe&&(n.flags&1048576)!==0&&sh(n,ts,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")tu(o)?(e=Kr(o,e),n.tag=1,n=E0(null,n,o,e,l)):(n.tag=0,n=Pu(null,n,o,e,l));else{if(o!=null){if(f=o.$$typeof,f===G){n.tag=11,n=v0(null,n,o,e,l);break e}else if(f===te){n.tag=14,n=w0(null,n,o,e,l);break e}}throw n=W(o)||o,Error(i(306,n,""))}}return n;case 0:return Pu(e,n,n.type,n.pendingProps,l);case 1:return o=n.type,f=Kr(o,n.pendingProps),E0(e,n,o,f,l);case 3:e:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(i(387));o=n.pendingProps;var g=n.memoizedState;f=g.element,pu(e,n),Bi(n,o,null,l);var w=n.memoizedState;if(o=w.cache,ir(n,ht,o),o!==g.cache&&uu(n,[ht],l,!0),Ui(),o=w.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=N0(e,n,o,l);break e}else if(o!==f){f=sn(Error(i(424)),n),Ci(f),n=N0(e,n,o,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=yn(e.firstChild),Lt=n,qe=!0,Fr=null,_n=!0,l=u0(n,null,o,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ti(),o===f){n=In(e,n,l);break e}jt(e,n,o,l)}n=n.child}return n;case 26:return ws(e,n),e===null?(l=Mm(n.type,null,n.pendingProps,null))?n.memoizedState=l:qe||(l=n.type,e=n.pendingProps,o=zs(ue.current).createElement(l),o[lt]=n,o[et]=e,Et(o,l,e),gt(o),n.stateNode=o):n.memoizedState=Mm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return at(n),e===null&&qe&&(o=n.stateNode=Om(n.type,n.pendingProps,ue.current),Lt=n,_n=!0,f=tt,vr(n.type)?(Ec=f,tt=yn(o.firstChild)):tt=f),jt(e,n,n.pendingProps.children,l),ws(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qe&&((f=o=tt)&&(o=av(o,n.type,n.pendingProps,_n),o!==null?(n.stateNode=o,Lt=n,tt=yn(o.firstChild),_n=!1,f=!0):f=!1),f||Gr(n)),at(n),f=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,o=g.children,kc(f,g)?o=null:w!==null&&kc(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=wu(e,n,kb,null,null,l),ll._currentValue=f),ws(e,n),jt(e,n,o,l),n.child;case 6:return e===null&&qe&&((e=l=tt)&&(l=iv(l,n.pendingProps,_n),l!==null?(n.stateNode=l,Lt=n,tt=null,e=!0):e=!1),e||Gr(n)),null;case 13:return A0(e,n,l);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Da(n,null,o,l):jt(e,n,o,l),n.child;case 11:return v0(e,n,n.type,n.pendingProps,l);case 7:return jt(e,n,n.pendingProps,l),n.child;case 8:return jt(e,n,n.pendingProps.children,l),n.child;case 12:return jt(e,n,n.pendingProps.children,l),n.child;case 10:return o=n.pendingProps,ir(n,n.type,o.value),jt(e,n,o.children,l),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Vr(n),f=At(f),o=o(f),n.flags|=1,jt(e,n,o,l),n.child;case 14:return w0(e,n,n.type,n.pendingProps,l);case 15:return k0(e,n,n.type,n.pendingProps,l);case 19:return C0(e,n,l);case 31:return o=n.pendingProps,l=n.mode,o={mode:o.mode,children:o.children},e===null?(l=ks(o,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Ln(e.child,o),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return S0(e,n,l);case 24:return Vr(n),o=At(ht),e===null?(f=fu(),f===null&&(f=Xe,g=cu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),n.memoizedState={parent:o,cache:f},mu(n),ir(n,ht,f)):((e.lanes&l)!==0&&(pu(e,n),Bi(n,null,null,l),Ui()),f=e.memoizedState,g=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ir(n,ht,o)):(o=g.cache,ir(n,ht,o),o!==f.cache&&uu(n,[ht],l,!0))),jt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Hn(e){e.flags|=4}function O0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qm(n)){if(n=dn.current,n!==null&&((ze&4194048)===ze?En!==null:(ze&62914560)!==ze&&(ze&536870912)===0||n!==En))throw Mi=hu,ph;e.flags|=8192}}function Ss(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ft():536870912,e.lanes|=n,Ua|=n)}function Gi(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=l,n}function Rb(e,n,l){var o=n.pendingProps;switch(iu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return l=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bn(ht),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ai(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ch())),We(n),null;case 26:return l=n.memoizedState,e===null?(Hn(n),l!==null?(We(n),O0(n,l)):(We(n),n.flags&=-16777217)):l?l!==e.memoizedState?(Hn(n),We(n),O0(n,l)):(We(n),n.flags&=-16777217):(e.memoizedProps!==o&&Hn(n),We(n),n.flags&=-16777217),null;case 27:Nt(n),l=ue.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return We(n),null}e=oe.current,Ai(n)?oh(n):(e=Om(f,o,l),n.stateNode=e,Hn(n))}return We(n),null;case 5:if(Nt(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return We(n),null}if(e=oe.current,Ai(n))oh(n);else{switch(f=zs(ue.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(l,{is:o.is}):f.createElement(l)}}e[lt]=n,e[et]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(Et(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Hn(n)}}return We(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(e=ue.current,Ai(n)){if(e=n.stateNode,l=n.memoizedProps,o=null,f=Lt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[lt]=n,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||_m(e.nodeValue,l)),e||Gr(n)}else e=zs(e).createTextNode(o),e[lt]=n,n.stateNode=e}return We(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ai(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[lt]=n}else Ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),f=!1}else f=ch(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(qn(n),n):(qn(n),null)}if(qn(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),Ss(n,n.updateQueue),We(n),null;case 4:return rt(),e===null&&xc(n.stateNode.containerInfo),We(n),null;case 10:return Bn(n.type),We(n),null;case 19:if(ee(mt),f=n.memoizedState,f===null)return We(n),null;if(o=(n.flags&128)!==0,g=f.rendering,g===null)if(o)Gi(f,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=ys(e),g!==null){for(n.flags|=128,Gi(f,!1),e=g.updateQueue,n.updateQueue=e,Ss(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)lh(l,e),l=l.sibling;return _(mt,mt.current&1|2),n.child}e=e.sibling}f.tail!==null&&it()>Es&&(n.flags|=128,o=!0,Gi(f,!1),n.lanes=4194304)}else{if(!o)if(e=ys(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Ss(n,e),Gi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qe)return We(n),null}else 2*it()-f.renderingStartTime>Es&&l!==536870912&&(n.flags|=128,o=!0,Gi(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(e=f.last,e!==null?e.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=it(),n.sibling=null,e=mt.current,_(mt,o?e&1|2:e&1),n):(We(n),null);case 22:case 23:return qn(n),bu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(l&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),l=n.updateQueue,l!==null&&Ss(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==l&&(n.flags|=2048),e!==null&&ee(Qr),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bn(ht),We(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Ob(e,n){switch(iu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bn(ht),rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Nt(n),null;case 13:if(qn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(mt),null;case 4:return rt(),null;case 10:return Bn(n.type),null;case 22:case 23:return qn(n),bu(),e!==null&&ee(Qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bn(ht),null;case 25:return null;default:return null}}function D0(e,n){switch(iu(n),n.tag){case 3:Bn(ht),rt();break;case 26:case 27:case 5:Nt(n);break;case 4:rt();break;case 13:qn(n);break;case 19:ee(mt);break;case 10:Bn(n.type);break;case 22:case 23:qn(n),bu(),e!==null&&ee(Qr);break;case 24:Bn(ht)}}function Yi(e,n){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){o=void 0;var g=l.create,w=l.inst;o=g(),w.destroy=o}l=l.next}while(l!==f)}}catch(S){Ve(n,n.return,S)}}function fr(e,n,l){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var w=o.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=n;var A=l,P=S;try{P()}catch(X){Ve(f,A,X)}}}o=o.next}while(o!==g)}}catch(X){Ve(n,n.return,X)}}function L0(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{wh(n,l)}catch(o){Ve(e,e.return,o)}}}function M0(e,n,l){l.props=Kr(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Ve(e,n,o)}}function Vi(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(f){Ve(e,n,f)}}function Nn(e,n){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Ve(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ve(e,n,f)}else l.current=null}function z0(e){var n=e.type,l=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Ve(e,e.return,f)}}function Vu(e,n,l){try{var o=e.stateNode;Wb(o,e.type,l,n),o[et]=n}catch(f){Ve(e,e.return,f)}}function U0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&vr(e.type)||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Ms));else if(o!==4&&(o===27&&vr(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Xu(e,n,l),e=e.sibling;e!==null;)Xu(e,n,l),e=e.sibling}function js(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(o!==4&&(o===27&&vr(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(js(e,n,l),e=e.sibling;e!==null;)js(e,n,l),e=e.sibling}function B0(e){var n=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Et(n,o,l),n[lt]=e,n[et]=l}catch(g){Ve(e,e.return,g)}}var $n=!1,ot=!1,Ku=!1,P0=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Db(e,n){if(e=e.containerInfo,vc=Hs,e=Kf(e),Qo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,S=-1,A=-1,P=0,X=0,J=e,I=null;t:for(;;){for(var H;J!==l||f!==0&&J.nodeType!==3||(S=w+f),J!==g||o!==0&&J.nodeType!==3||(A=w+o),J.nodeType===3&&(w+=J.nodeValue.length),(H=J.firstChild)!==null;)I=J,J=H;for(;;){if(J===e)break t;if(I===l&&++P===f&&(S=w),I===g&&++X===o&&(A=w),(H=J.nextSibling)!==null)break;J=I,I=J.parentNode}J=H}l=S===-1||A===-1?null:{start:S,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(wc={focusedElem:e,selectionRange:l},Hs=!1,yt=n;yt!==null;)if(n=yt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,yt=e;else for(;yt!==null;){switch(n=yt,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=n,f=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var ke=Kr(l.type,f,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(ke,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ve(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)jc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,yt=e;break}yt=n.return}}function q0(e,n,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:hr(e,l),o&4&&Yi(5,l);break;case 1:if(hr(e,l),o&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(w){Ve(l,l.return,w)}else{var f=Kr(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ve(l,l.return,w)}}o&64&&L0(l),o&512&&Vi(l,l.return);break;case 3:if(hr(e,l),o&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{wh(e,n)}catch(w){Ve(l,l.return,w)}}break;case 27:n===null&&o&4&&B0(l);case 26:case 5:hr(e,l),n===null&&o&4&&z0(l),o&512&&Vi(l,l.return);break;case 12:hr(e,l);break;case 13:hr(e,l),o&4&&$0(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Hb.bind(null,l),lv(e,l))));break;case 22:if(o=l.memoizedState!==null||$n,!o){n=n!==null&&n.memoizedState!==null||ot,f=$n;var g=ot;$n=o,(ot=n)&&!g?mr(e,l,(l.subtreeFlags&8772)!==0):hr(e,l),$n=f,ot=g}break;case 30:break;default:hr(e,l)}}function I0(e){var n=e.alternate;n!==null&&(e.alternate=null,I0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&To(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Bt=!1;function Fn(e,n,l){for(l=l.child;l!==null;)H0(e,n,l),l=l.sibling}function H0(e,n,l){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Q,l)}catch{}switch(l.tag){case 26:ot||Nn(l,n),Fn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ot||Nn(l,n);var o=Je,f=Bt;vr(l.type)&&(Je=l.stateNode,Bt=!1),Fn(e,n,l),nl(l.stateNode),Je=o,Bt=f;break;case 5:ot||Nn(l,n);case 6:if(o=Je,f=Bt,Je=null,Fn(e,n,l),Je=o,Bt=f,Je!==null)if(Bt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(g){Ve(l,n,g)}else try{Je.removeChild(l.stateNode)}catch(g){Ve(l,n,g)}break;case 18:Je!==null&&(Bt?(e=Je,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),cl(e)):Cm(Je,l.stateNode));break;case 4:o=Je,f=Bt,Je=l.stateNode.containerInfo,Bt=!0,Fn(e,n,l),Je=o,Bt=f;break;case 0:case 11:case 14:case 15:ot||fr(2,l,n),ot||fr(4,l,n),Fn(e,n,l);break;case 1:ot||(Nn(l,n),o=l.stateNode,typeof o.componentWillUnmount=="function"&&M0(l,n,o)),Fn(e,n,l);break;case 21:Fn(e,n,l);break;case 22:ot=(o=ot)||l.memoizedState!==null,Fn(e,n,l),ot=o;break;default:Fn(e,n,l)}}function $0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(l){Ve(n,n.return,l)}}function Lb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new P0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new P0),n;default:throw Error(i(435,e.tag))}}function Zu(e,n){var l=Lb(e);n.forEach(function(o){var f=$b.bind(null,e,o);l.has(o)||(l.add(o),o.then(f,f))})}function Kt(e,n){var l=n.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],g=e,w=n,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(vr(S.type)){Je=S.stateNode,Bt=!1;break e}break;case 5:Je=S.stateNode,Bt=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,Bt=!0;break e}S=S.return}if(Je===null)throw Error(i(160));H0(g,w,f),Je=null,Bt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)F0(n,e),n=n.sibling}var xn=null;function F0(e,n){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(n,e),Zt(e),o&4&&(fr(3,e,e.return),Yi(3,e),fr(5,e,e.return));break;case 1:Kt(n,e),Zt(e),o&512&&(ot||l===null||Nn(l,l.return)),o&64&&$n&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=xn;if(Kt(n,e),Zt(e),o&512&&(ot||l===null||Nn(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){e:{o=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[jn]||g[lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),Et(g,o,l),g[lt]=e,gt(g),o=g;break e;case"link":var w=Bm("link","href",f).get(o+(l.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(S,1);break t}}g=f.createElement(o),Et(g,o,l),f.head.appendChild(g);break;case"meta":if(w=Bm("meta","content",f).get(o+(l.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(S,1);break t}}g=f.createElement(o),Et(g,o,l),f.head.appendChild(g);break;default:throw Error(i(468,o))}g[lt]=e,gt(g),o=g}e.stateNode=o}else Pm(f,e.type,e.stateNode);else e.stateNode=Um(f,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?Pm(f,e.type,e.stateNode):Um(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,l.memoizedProps)}break;case 27:Kt(n,e),Zt(e),o&512&&(ot||l===null||Nn(l,l.return)),l!==null&&o&4&&Vu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Kt(n,e),Zt(e),o&512&&(ot||l===null||Nn(l,l.return)),e.flags&32){f=e.stateNode;try{pa(f,"")}catch(H){Ve(e,e.return,H)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Vu(e,f,l!==null?l.memoizedProps:f)),o&1024&&(Ku=!0);break;case 6:if(Kt(n,e),Zt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(H){Ve(e,e.return,H)}}break;case 3:if(Ps=null,f=xn,xn=Us(n.containerInfo),Kt(n,e),xn=f,Zt(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{cl(n.containerInfo)}catch(H){Ve(e,e.return,H)}Ku&&(Ku=!1,G0(e));break;case 4:o=xn,xn=Us(e.stateNode.containerInfo),Kt(n,e),Zt(e),xn=o;break;case 12:Kt(n,e),Zt(e);break;case 13:Kt(n,e),Zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rc=it()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,P=$n,X=ot;if($n=P||f,ot=X||A,Kt(n,e),ot=X,$n=P,Zt(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||A||$n||ot||Zr(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(g=A.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=A.stateNode;var J=A.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(H){Ve(A,A.return,H)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(H){Ve(A,A.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,Zu(e,l))));break;case 19:Kt(n,e),Zt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:Kt(n,e),Zt(e)}}function Zt(e){var n=e.flags;if(n&2){try{for(var l,o=e.return;o!==null;){if(U0(o)){l=o;break}o=o.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,g=Qu(e);js(e,g,f);break;case 5:var w=l.stateNode;l.flags&32&&(pa(w,""),l.flags&=-33);var S=Qu(e);js(e,S,w);break;case 3:case 4:var A=l.stateNode.containerInfo,P=Qu(e);Xu(e,P,A);break;default:throw Error(i(161))}}catch(X){Ve(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function G0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;G0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)q0(e,n.alternate,n),n=n.sibling}function Zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fr(4,n,n.return),Zr(n);break;case 1:Nn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&M0(n,n.return,l),Zr(n);break;case 27:nl(n.stateNode);case 26:case 5:Nn(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}e=e.sibling}}function mr(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:mr(f,g,l),Yi(4,g);break;case 1:if(mr(f,g,l),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Ve(o,o.return,P)}if(o=g,f=o.updateQueue,f!==null){var S=o.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)vh(A[f],S)}catch(P){Ve(o,o.return,P)}}l&&w&64&&L0(g),Vi(g,g.return);break;case 27:B0(g);case 26:case 5:mr(f,g,l),l&&o===null&&w&4&&z0(g),Vi(g,g.return);break;case 12:mr(f,g,l);break;case 13:mr(f,g,l),l&&w&4&&$0(f,g);break;case 22:g.memoizedState===null&&mr(f,g,l),Vi(g,g.return);break;case 30:break;default:mr(f,g,l)}n=n.sibling}}function Ju(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Oi(l))}function Wu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oi(e))}function An(e,n,l,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Y0(e,n,l,o),n=n.sibling}function Y0(e,n,l,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:An(e,n,l,o),f&2048&&Yi(9,n);break;case 1:An(e,n,l,o);break;case 3:An(e,n,l,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oi(e)));break;case 12:if(f&2048){An(e,n,l,o),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ve(n,n.return,A)}}else An(e,n,l,o);break;case 13:An(e,n,l,o);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?An(e,n,l,o):Qi(e,n):g._visibility&2?An(e,n,l,o):(g._visibility|=2,La(e,n,l,o,(n.subtreeFlags&10256)!==0)),f&2048&&Ju(w,n);break;case 24:An(e,n,l,o),f&2048&&Wu(n.alternate,n);break;default:An(e,n,l,o)}}function La(e,n,l,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,S=l,A=o,P=w.flags;switch(w.tag){case 0:case 11:case 15:La(g,w,S,A,f),Yi(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?La(g,w,S,A,f):Qi(g,w):(X._visibility|=2,La(g,w,S,A,f)),f&&P&2048&&Ju(w.alternate,w);break;case 24:La(g,w,S,A,f),f&&P&2048&&Wu(w.alternate,w);break;default:La(g,w,S,A,f)}n=n.sibling}}function Qi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,o=n,f=o.flags;switch(o.tag){case 22:Qi(l,o),f&2048&&Ju(o.alternate,o);break;case 24:Qi(l,o),f&2048&&Wu(o.alternate,o);break;default:Qi(l,o)}n=n.sibling}}var Xi=8192;function Ma(e){if(e.subtreeFlags&Xi)for(e=e.child;e!==null;)V0(e),e=e.sibling}function V0(e){switch(e.tag){case 26:Ma(e),e.flags&Xi&&e.memoizedState!==null&&bv(xn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e);break;case 3:case 4:var n=xn;xn=Us(e.stateNode.containerInfo),Ma(e),xn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xi,Xi=16777216,Ma(e),Xi=n):Ma(e));break;default:Ma(e)}}function Q0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ki(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];yt=o,K0(o,e)}Q0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)X0(e),e=e.sibling}function X0(e){switch(e.tag){case 0:case 11:case 15:Ki(e),e.flags&2048&&fr(9,e,e.return);break;case 3:Ki(e);break;case 12:Ki(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_s(e)):Ki(e);break;default:Ki(e)}}function _s(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];yt=o,K0(o,e)}Q0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fr(8,n,n.return),_s(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,_s(n));break;default:_s(n)}e=e.sibling}}function K0(e,n){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:fr(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oi(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,yt=o;else e:for(l=e;yt!==null;){o=yt;var f=o.sibling,g=o.return;if(I0(o),o===l){yt=null;break e}if(f!==null){f.return=g,yt=f;break e}yt=g}}}var Mb={getCacheForType:function(e){var n=At(ht),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},zb=typeof WeakMap=="function"?WeakMap:Map,He=0,Xe=null,Oe=null,ze=0,$e=0,Jt=null,pr=!1,za=!1,ec=!1,Gn=0,nt=0,gr=0,Jr=0,tc=0,fn=0,Ua=0,Zi=null,Pt=null,nc=!1,rc=0,Es=1/0,Ns=null,xr=null,_t=0,yr=null,Ba=null,Pa=0,ac=0,ic=null,Z0=null,Ji=0,lc=null;function Wt(){if((He&2)!==0&&ze!==0)return ze&-ze;if(M.T!==null){var e=Ea;return e!==0?e:hc()}return nr()}function J0(){fn===0&&(fn=(ze&536870912)===0||qe?$t():536870912);var e=dn.current;return e!==null&&(e.flags|=32),fn}function en(e,n,l){(e===Xe&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(qa(e,0),br(e,ze,fn,!1)),tr(e,l),((He&2)===0||e!==Xe)&&(e===Xe&&((He&2)===0&&(Jr|=l),nt===4&&br(e,ze,fn,!1)),Tn(e))}function W0(e,n,l){if((He&6)!==0)throw Error(i(327));var o=!l&&(n&124)===0&&(n&e.expiredLanes)===0||_e(e,n),f=o?Pb(e,n):uc(e,n,!0),g=o;do{if(f===0){za&&!o&&br(e,n,0,!1);break}else{if(l=e.current.alternate,g&&!Ub(l)){f=uc(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var S=e;f=Zi;var A=S.current.memoizedState.isDehydrated;if(A&&(qa(S,w).flags|=256),w=uc(S,w,!1),w!==2){if(ec&&!A){S.errorRecoveryDisabledLanes|=g,Jr|=g,f=4;break e}g=Pt,Pt=f,g!==null&&(Pt===null?Pt=g:Pt.push.apply(Pt,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){qa(e,0),br(e,n,0,!0);break}e:{switch(o=e,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:br(o,n,fn,!pr);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=rc+300-it(),10<f)){if(br(o,n,fn,!pr),pe(o,0,!0)!==0)break e;o.timeoutHandle=Am(em.bind(null,o,l,Pt,Ns,nc,n,fn,Jr,Ua,pr,g,2,-0,0),f);break e}em(o,l,Pt,Ns,nc,n,fn,Jr,Ua,pr,g,0,-0,0)}}break}while(!0);Tn(e)}function em(e,n,l,o,f,g,w,S,A,P,X,J,I,H){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:yv},V0(n),J=vv(),J!==null)){e.cancelPendingCommit=J(sm.bind(null,e,n,g,l,o,f,w,S,A,X,1,I,H)),br(e,g,w,!P);return}sm(e,n,g,l,o,f,w,S,A)}function Ub(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],g=f.getSnapshot;f=f.value;try{if(!Qt(g(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function br(e,n,l,o){n&=~tc,n&=~Jr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var g=31-be(f),w=1<<g;o[g]=-1,f&=~w}l!==0&&pi(e,l,n)}function As(){return(He&6)===0?(Wi(0),!1):!0}function sc(){if(Oe!==null){if($e===0)var e=Oe.return;else e=Oe,Un=Yr=null,ju(e),Oa=null,$i=0,e=Oe;for(;e!==null;)D0(e.alternate,e),e=e.return;Oe=null}}function qa(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,tv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),sc(),Xe=e,Oe=l=Ln(e.current,null),ze=n,$e=0,Jt=null,pr=!1,za=_e(e,n),ec=!1,Ua=fn=tc=Jr=gr=nt=0,Pt=Zi=null,nc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-be(o),g=1<<f;n|=e[f],o&=~g}return Gn=n,Kl(),l}function tm(e,n){Te=null,M.H=ps,n===Li||n===is?(n=yh(),$e=3):n===ph?(n=yh(),$e=4):$e=n===b0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jt=n,Oe===null&&(nt=1,vs(e,sn(n,e.current)))}function nm(){var e=M.H;return M.H=ps,e===null?ps:e}function rm(){var e=M.A;return M.A=Mb,e}function oc(){nt=4,pr||(ze&4194048)!==ze&&dn.current!==null||(za=!0),(gr&134217727)===0&&(Jr&134217727)===0||Xe===null||br(Xe,ze,fn,!1)}function uc(e,n,l){var o=He;He|=2;var f=nm(),g=rm();(Xe!==e||ze!==n)&&(Ns=null,qa(e,n)),n=!1;var w=nt;e:do try{if($e!==0&&Oe!==null){var S=Oe,A=Jt;switch($e){case 8:sc(),w=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var P=$e;if($e=0,Jt=null,Ia(e,S,A,P),l&&za){w=0;break e}break;default:P=$e,$e=0,Jt=null,Ia(e,S,A,P)}}Bb(),w=nt;break}catch(X){tm(e,X)}while(!0);return n&&e.shellSuspendCounter++,Un=Yr=null,He=o,M.H=f,M.A=g,Oe===null&&(Xe=null,ze=0,Kl()),w}function Bb(){for(;Oe!==null;)am(Oe)}function Pb(e,n){var l=He;He|=2;var o=nm(),f=rm();Xe!==e||ze!==n?(Ns=null,Es=it()+500,qa(e,n)):za=_e(e,n);e:do try{if($e!==0&&Oe!==null){n=Oe;var g=Jt;t:switch($e){case 1:$e=0,Jt=null,Ia(e,n,g,1);break;case 2:case 9:if(gh(g)){$e=0,Jt=null,im(n);break}n=function(){$e!==2&&$e!==9||Xe!==e||($e=7),Tn(e)},g.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:gh(g)?($e=0,Jt=null,im(n)):($e=0,Jt=null,Ia(e,n,g,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var S=Oe;if(!w||qm(w)){$e=0,Jt=null;var A=S.sibling;if(A!==null)Oe=A;else{var P=S.return;P!==null?(Oe=P,Ts(P)):Oe=null}break t}}$e=0,Jt=null,Ia(e,n,g,5);break;case 6:$e=0,Jt=null,Ia(e,n,g,6);break;case 8:sc(),nt=6;break e;default:throw Error(i(462))}}qb();break}catch(X){tm(e,X)}while(!0);return Un=Yr=null,M.H=o,M.A=f,He=l,Oe!==null?0:(Xe=null,ze=0,Kl(),nt)}function qb(){for(;Oe!==null&&!Kn();)am(Oe)}function am(e){var n=R0(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,n===null?Ts(e):Oe=n}function im(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=_0(l,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=_0(l,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:ju(n);default:D0(l,n),n=Oe=lh(n,Gn),n=R0(l,n,Gn)}e.memoizedProps=e.pendingProps,n===null?Ts(e):Oe=n}function Ia(e,n,l,o){Un=Yr=null,ju(n),Oa=null,$i=0;var f=n.return;try{if(Tb(e,f,n,l,ze)){nt=1,vs(e,sn(l,e.current)),Oe=null;return}}catch(g){if(f!==null)throw Oe=f,g;nt=1,vs(e,sn(l,e.current)),Oe=null;return}n.flags&32768?(qe||o===1?e=!0:za||(ze&536870912)!==0?e=!1:(pr=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),lm(n,e)):Ts(n)}function Ts(e){var n=e;do{if((n.flags&32768)!==0){lm(n,pr);return}e=n.return;var l=Rb(n.alternate,n,Gn);if(l!==null){Oe=l;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);nt===0&&(nt=5)}function lm(e,n){do{var l=Ob(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);nt=6,Oe=null}function sm(e,n,l,o,f,g,w,S,A){e.cancelPendingCommit=null;do Cs();while(_t!==0);if((He&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(g=n.lanes|n.childLanes,g|=Wo,Eo(e,l,g,w,S,A),e===Xe&&(Oe=Xe=null,ze=0),Ba=n,yr=e,Pa=l,ac=g,ic=f,Z0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fb(Jn,function(){return fm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,f=q.p,q.p=2,w=He,He|=4;try{Db(e,n,l)}finally{He=w,q.p=f,M.T=o}}_t=1,om(),um(),cm()}}function om(){if(_t===1){_t=0;var e=yr,n=Ba,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var o=q.p;q.p=2;var f=He;He|=4;try{F0(n,e);var g=wc,w=Kf(e.containerInfo),S=g.focusedElem,A=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&Xf(S.ownerDocument.documentElement,S)){if(A!==null&&Qo(S)){var P=A.start,X=A.end;if(X===void 0&&(X=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,I=J&&J.defaultView||window;if(I.getSelection){var H=I.getSelection(),ke=S.textContent.length,ve=Math.min(A.start,ke),Ye=A.end===void 0?ve:Math.min(A.end,ke);!H.extend&&ve>Ye&&(w=Ye,Ye=ve,ve=w);var L=Qf(S,ve),R=Qf(S,Ye);if(L&&R&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var B=J.createRange();B.setStart(L.node,L.offset),H.removeAllRanges(),ve>Ye?(H.addRange(B),H.extend(R.node,R.offset)):(B.setEnd(R.node,R.offset),H.addRange(B))}}}}for(J=[],H=S;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Z=J[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hs=!!vc,wc=vc=null}finally{He=f,q.p=o,M.T=l}}e.current=n,_t=2}}function um(){if(_t===2){_t=0;var e=yr,n=Ba,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var o=q.p;q.p=2;var f=He;He|=4;try{q0(e,n.alternate,n)}finally{He=f,q.p=o,M.T=l}}_t=3}}function cm(){if(_t===4||_t===3){_t=0,Zn();var e=yr,n=Ba,l=Pa,o=Z0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_t=5:(_t=0,Ba=yr=null,dm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(xr=null),Gt(l),n=n.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Q,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,f=q.p,q.p=2,M.T=null;try{for(var g=e.onRecoverableError,w=0;w<o.length;w++){var S=o[w];g(S.value,{componentStack:S.stack})}}finally{M.T=n,q.p=f}}(Pa&3)!==0&&Cs(),Tn(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===lc?Ji++:(Ji=0,lc=e):Ji=0,Wi(0)}}function dm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Oi(n)))}function Cs(e){return om(),um(),cm(),fm()}function fm(){if(_t!==5)return!1;var e=yr,n=ac;ac=0;var l=Gt(Pa),o=M.T,f=q.p;try{q.p=32>l?32:l,M.T=null,l=ic,ic=null;var g=yr,w=Pa;if(_t=0,Ba=yr=null,Pa=0,(He&6)!==0)throw Error(i(331));var S=He;if(He|=4,X0(g.current),Y0(g,g.current,w,l),He=S,Wi(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Q,g)}catch{}return!0}finally{q.p=f,M.T=o,dm(e,n)}}function hm(e,n,l){n=sn(l,n),n=Bu(e.stateNode,n,2),e=or(e,n,2),e!==null&&(tr(e,2),Tn(e))}function Ve(e,n,l){if(e.tag===3)hm(e,e,l);else for(;n!==null;){if(n.tag===3){hm(n,e,l);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=sn(l,e),l=x0(2),o=or(n,l,2),o!==null&&(y0(l,o,n,e),tr(o,2),Tn(o));break}}n=n.return}}function cc(e,n,l){var o=e.pingCache;if(o===null){o=e.pingCache=new zb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(l)||(ec=!0,f.add(l),e=Ib.bind(null,e,n,l),n.then(e,e))}function Ib(e,n,l){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Xe===e&&(ze&l)===l&&(nt===4||nt===3&&(ze&62914560)===ze&&300>it()-rc?(He&2)===0&&qa(e,0):tc|=l,Ua===ze&&(Ua=0)),Tn(e)}function mm(e,n){n===0&&(n=Ft()),e=ka(e,n),e!==null&&(tr(e,n),Tn(e))}function Hb(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),mm(e,l)}function $b(e,n){var l=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),mm(e,l)}function Fb(e,n){return ut(e,n)}var Rs=null,Ha=null,dc=!1,Os=!1,fc=!1,Wr=0;function Tn(e){e!==Ha&&e.next===null&&(Ha===null?Rs=Ha=e:Ha=Ha.next=e),Os=!0,dc||(dc=!0,Yb())}function Wi(e,n){if(!fc&&Os){fc=!0;do for(var l=!1,o=Rs;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var w=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-be(42|e)+1)-1,g&=f&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,ym(o,g))}else g=ze,g=pe(o,o===Xe?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||_e(o,g)||(l=!0,ym(o,g));o=o.next}while(l);fc=!1}}function Gb(){pm()}function pm(){Os=dc=!1;var e=0;Wr!==0&&(ev()&&(e=Wr),Wr=0);for(var n=it(),l=null,o=Rs;o!==null;){var f=o.next,g=gm(o,n);g===0?(o.next=null,l===null?Rs=f:l.next=f,f===null&&(Ha=l)):(l=o,(e!==0||(g&3)!==0)&&(Os=!0)),o=f}Wi(e)}function gm(e,n){for(var l=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-be(g),S=1<<w,A=f[w];A===-1?((S&l)===0||(S&o)!==0)&&(f[w]=pt(S,n)):A<=n&&(e.expiredLanes|=S),g&=~S}if(n=Xe,l=ze,l=pe(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===n&&($e===2||$e===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&St(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||_e(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(o!==null&&St(o),Gt(l)){case 2:case 8:l=zr;break;case 32:l=Jn;break;case 268435456:l=oa;break;default:l=Jn}return o=xm.bind(null,e),l=ut(l,o),e.callbackPriority=n,e.callbackNode=l,n}return o!==null&&o!==null&&St(o),e.callbackPriority=2,e.callbackNode=null,2}function xm(e,n){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Cs()&&e.callbackNode!==l)return null;var o=ze;return o=pe(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(W0(e,o,n),gm(e,it()),e.callbackNode!=null&&e.callbackNode===l?xm.bind(null,e):null)}function ym(e,n){if(Cs())return null;W0(e,n,!0)}function Yb(){nv(function(){(He&6)!==0?ut(Mr,Gb):pm()})}function hc(){return Wr===0&&(Wr=$t()),Wr}function bm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$l(""+e)}function vm(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Vb(e,n,l,o,f){if(n==="submit"&&l&&l.stateNode===f){var g=bm((f[et]||null).action),w=o.submitter;w&&(n=(n=w[et]||null)?bm(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var S=new Vl("action","action",null,o,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Wr!==0){var A=w?vm(f,w):new FormData(f);Du(l,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(S.preventDefault(),A=w?vm(f,w):new FormData(f),Du(l,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var mc=0;mc<Jo.length;mc++){var pc=Jo[mc],Qb=pc.toLowerCase(),Xb=pc[0].toUpperCase()+pc.slice(1);gn(Qb,"on"+Xb)}gn(Wf,"onAnimationEnd"),gn(eh,"onAnimationIteration"),gn(th,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(fb,"onTransitionRun"),gn(hb,"onTransitionStart"),gn(mb,"onTransitionCancel"),gn(nh,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function wm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],f=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var w=o.length-1;0<=w;w--){var S=o[w],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=P;try{g(f)}catch(X){bs(X)}f.currentTarget=null,g=A}else for(w=0;w<o.length;w++){if(S=o[w],A=S.instance,P=S.currentTarget,S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=P;try{g(f)}catch(X){bs(X)}f.currentTarget=null,g=A}}}}function De(e,n){var l=n[xi];l===void 0&&(l=n[xi]=new Set);var o=e+"__bubble";l.has(o)||(km(n,e,2,!1),l.add(o))}function gc(e,n,l){var o=0;n&&(o|=4),km(l,e,o,n)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function xc(e){if(!e[Ds]){e[Ds]=!0,pf.forEach(function(l){l!=="selectionchange"&&(Kb.has(l)||gc(l,!1,e),gc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ds]||(n[Ds]=!0,gc("selectionchange",!1,n))}}function km(e,n,l,o){switch(Ym(n)){case 2:var f=Sv;break;case 8:f=jv;break;default:f=Rc}l=f.bind(null,n,l,e),f=void 0,!Po||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function yc(e,n,l,o,f){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var S=o.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=o.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=ua(S),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){o=g=w;continue e}S=S.parentNode}}o=o.return}Tf(function(){var P=g,X=Uo(l),J=[];e:{var I=rh.get(e);if(I!==void 0){var H=Vl,ke=e;switch(e){case"keypress":if(Gl(l)===0)break e;case"keydown":case"keyup":H=Fy;break;case"focusin":ke="focus",H=$o;break;case"focusout":ke="blur",H=$o;break;case"beforeblur":case"afterblur":H=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Vy;break;case Wf:case eh:case th:H=My;break;case nh:H=Xy;break;case"scroll":case"scrollend":H=Cy;break;case"wheel":H=Zy;break;case"copy":case"cut":case"paste":H=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Lf;break;case"toggle":case"beforetoggle":H=Wy}var ve=(n&4)!==0,Ye=!ve&&(e==="scroll"||e==="scrollend"),L=ve?I!==null?I+"Capture":null:I;ve=[];for(var R=P,B;R!==null;){var Z=R;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=bi(R,L),Z!=null&&ve.push(tl(R,Z,B))),Ye)break;R=R.return}0<ve.length&&(I=new H(I,ke,null,l,X),J.push({event:I,listeners:ve}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",I&&l!==zo&&(ke=l.relatedTarget||l.fromElement)&&(ua(ke)||ke[rr]))break e;if((H||I)&&(I=X.window===X?X:(I=X.ownerDocument)?I.defaultView||I.parentWindow:window,H?(ke=l.relatedTarget||l.toElement,H=P,ke=ke?ua(ke):null,ke!==null&&(Ye=u(ke),ve=ke.tag,ke!==Ye||ve!==5&&ve!==27&&ve!==6)&&(ke=null)):(H=null,ke=P),H!==ke)){if(ve=Of,Z="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Lf,Z="onPointerLeave",L="onPointerEnter",R="pointer"),Ye=H==null?I:yi(H),B=ke==null?I:yi(ke),I=new ve(Z,R+"leave",H,l,X),I.target=Ye,I.relatedTarget=B,Z=null,ua(X)===P&&(ve=new ve(L,R+"enter",ke,l,X),ve.target=B,ve.relatedTarget=Ye,Z=ve),Ye=Z,H&&ke)t:{for(ve=H,L=ke,R=0,B=ve;B;B=$a(B))R++;for(B=0,Z=L;Z;Z=$a(Z))B++;for(;0<R-B;)ve=$a(ve),R--;for(;0<B-R;)L=$a(L),B--;for(;R--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=$a(ve),L=$a(L)}ve=null}else ve=null;H!==null&&Sm(J,I,H,ve,!1),ke!==null&&Ye!==null&&Sm(J,Ye,ke,ve,!0)}}e:{if(I=P?yi(P):window,H=I.nodeName&&I.nodeName.toLowerCase(),H==="select"||H==="input"&&I.type==="file")var de=Hf;else if(qf(I))if($f)de=ub;else{de=sb;var Re=lb}else H=I.nodeName,!H||H.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?P&&Mo(P.elementType)&&(de=Hf):de=ob;if(de&&(de=de(e,P))){If(J,de,l,X);break e}Re&&Re(e,I,P),e==="focusout"&&P&&I.type==="number"&&P.memoizedProps.value!=null&&Lo(I,"number",I.value)}switch(Re=P?yi(P):window,e){case"focusin":(qf(Re)||Re.contentEditable==="true")&&(ba=Re,Xo=P,Ni=null);break;case"focusout":Ni=Xo=ba=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,Zf(J,l,X);break;case"selectionchange":if(db)break;case"keydown":case"keyup":Zf(J,l,X)}var me;if(Go)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ya?Bf(e,l)&&(we="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Mf&&l.locale!=="ko"&&(ya||we!=="onCompositionStart"?we==="onCompositionEnd"&&ya&&(me=Cf()):(ar=X,qo="value"in ar?ar.value:ar.textContent,ya=!0)),Re=Ls(P,we),0<Re.length&&(we=new Df(we,e,null,l,X),J.push({event:we,listeners:Re}),me?we.data=me:(me=Pf(l),me!==null&&(we.data=me)))),(me=tb?nb(e,l):rb(e,l))&&(we=Ls(P,"onBeforeInput"),0<we.length&&(Re=new Df("onBeforeInput","beforeinput",null,l,X),J.push({event:Re,listeners:we}),Re.data=me)),Vb(J,e,P,l,X)}wm(J,n)})}function tl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Ls(e,n){for(var l=n+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=bi(e,l),f!=null&&o.unshift(tl(e,f,g)),f=bi(e,n),f!=null&&o.push(tl(e,f,g))),e.tag===3)return o;e=e.return}return[]}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,n,l,o,f){for(var g=n._reactName,w=[];l!==null&&l!==o;){var S=l,A=S.alternate,P=S.stateNode;if(S=S.tag,A!==null&&A===o)break;S!==5&&S!==26&&S!==27||P===null||(A=P,f?(P=bi(l,g),P!=null&&w.unshift(tl(l,P,A))):f||(P=bi(l,g),P!=null&&w.push(tl(l,P,A)))),l=l.return}w.length!==0&&e.push({event:n,listeners:w})}var Zb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function jm(e){return(typeof e=="string"?e:""+e).replace(Zb,`
`).replace(Jb,"")}function _m(e,n){return n=jm(n),jm(e)===n}function Ms(){}function Ge(e,n,l,o,f,g){switch(l){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pa(e,""+o);break;case"className":ql(e,"class",o);break;case"tabIndex":ql(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,l,o);break;case"style":Nf(e,o,g);break;case"data":if(n!=="object"){ql(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=$l(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(n!=="input"&&Ge(e,n,"name",f.name,f,null),Ge(e,n,"formEncType",f.formEncType,f,null),Ge(e,n,"formMethod",f.formMethod,f,null),Ge(e,n,"formTarget",f.formTarget,f,null)):(Ge(e,n,"encType",f.encType,f,null),Ge(e,n,"method",f.method,f,null),Ge(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=$l(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Ms);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=$l(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":De("beforetoggle",e),De("toggle",e),Pl(e,"popover",o);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Pl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ay.get(l)||l,Pl(e,l,o))}}function bc(e,n,l,o,f,g){switch(l){case"style":Nf(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"children":typeof o=="string"?pa(e,o):(typeof o=="number"||typeof o=="bigint")&&pa(e,""+o);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),g=e[et]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,o,f);break e}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Pl(e,l,o)}}}function Et(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var o=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ge(e,n,g,w,l,null)}}f&&Ge(e,n,"srcSet",l.srcSet,l,null),o&&Ge(e,n,"src",l.src,l,null);return;case"input":De("invalid",e);var S=g=w=f=null,A=null,P=null;for(o in l)if(l.hasOwnProperty(o)){var X=l[o];if(X!=null)switch(o){case"name":f=X;break;case"type":w=X;break;case"checked":A=X;break;case"defaultChecked":P=X;break;case"value":g=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,n));break;default:Ge(e,n,o,X,l,null)}}Sf(e,g,S,A,P,w,f,!1),Il(e);return;case"select":De("invalid",e),o=w=g=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":o=S;default:Ge(e,n,f,S,l,null)}n=g,l=w,e.multiple=!!o,n!=null?ma(e,!!o,n,!1):l!=null&&ma(e,!!o,l,!0);return;case"textarea":De("invalid",e),g=f=o=null;for(w in l)if(l.hasOwnProperty(w)&&(S=l[w],S!=null))switch(w){case"value":o=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ge(e,n,w,S,l,null)}_f(e,o,f,g),Il(e);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(o=l[A],o!=null))switch(A){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,n,A,o,l,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)De(el[o],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(o=l[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ge(e,n,P,o,l,null)}return;default:if(Mo(n)){for(X in l)l.hasOwnProperty(X)&&(o=l[X],o!==void 0&&bc(e,n,X,o,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(o=l[S],o!=null&&Ge(e,n,S,o,l,null))}function Wb(e,n,l,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,S=null,A=null,P=null,X=null;for(H in l){var J=l[H];if(l.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=J;default:o.hasOwnProperty(H)||Ge(e,n,H,null,o,J)}}for(var I in o){var H=o[I];if(J=l[I],o.hasOwnProperty(I)&&(H!=null||J!=null))switch(I){case"type":g=H;break;case"name":f=H;break;case"checked":P=H;break;case"defaultChecked":X=H;break;case"value":w=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:H!==J&&Ge(e,n,I,H,o,J)}}Do(e,w,S,A,P,X,g,f);return;case"select":H=w=S=I=null;for(g in l)if(A=l[g],l.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":H=A;default:o.hasOwnProperty(g)||Ge(e,n,g,null,o,A)}for(f in o)if(g=o[f],A=l[f],o.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":I=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==A&&Ge(e,n,f,g,o,A)}n=S,l=w,o=H,I!=null?ma(e,!!l,I,!1):!!o!=!!l&&(n!=null?ma(e,!!l,n,!0):ma(e,!!l,l?[]:"",!1));return;case"textarea":H=I=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(e,n,S,null,o,f)}for(w in o)if(f=o[w],g=l[w],o.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":I=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ge(e,n,w,f,o,g)}jf(e,I,H);return;case"option":for(var ke in l)if(I=l[ke],l.hasOwnProperty(ke)&&I!=null&&!o.hasOwnProperty(ke))switch(ke){case"selected":e.selected=!1;break;default:Ge(e,n,ke,null,o,I)}for(A in o)if(I=o[A],H=l[A],o.hasOwnProperty(A)&&I!==H&&(I!=null||H!=null))switch(A){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ge(e,n,A,I,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)I=l[ve],l.hasOwnProperty(ve)&&I!=null&&!o.hasOwnProperty(ve)&&Ge(e,n,ve,null,o,I);for(P in o)if(I=o[P],H=l[P],o.hasOwnProperty(P)&&I!==H&&(I!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,n));break;default:Ge(e,n,P,I,o,H)}return;default:if(Mo(n)){for(var Ye in l)I=l[Ye],l.hasOwnProperty(Ye)&&I!==void 0&&!o.hasOwnProperty(Ye)&&bc(e,n,Ye,void 0,o,I);for(X in o)I=o[X],H=l[X],!o.hasOwnProperty(X)||I===H||I===void 0&&H===void 0||bc(e,n,X,I,o,H);return}}for(var L in l)I=l[L],l.hasOwnProperty(L)&&I!=null&&!o.hasOwnProperty(L)&&Ge(e,n,L,null,o,I);for(J in o)I=o[J],H=l[J],!o.hasOwnProperty(J)||I===H||I==null&&H==null||Ge(e,n,J,I,o,H)}var vc=null,wc=null;function zs(e){return e.nodeType===9?e:e.ownerDocument}function Em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sc=null;function ev(){var e=window.event;return e&&e.type==="popstate"?e===Sc?!1:(Sc=e,!0):(Sc=null,!1)}var Am=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(rv)}:Am;function rv(e){setTimeout(function(){throw e})}function vr(e){return e==="head"}function Cm(e,n){var l=n,o=0,f=0;do{var g=l.nextSibling;if(e.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<o&&8>o){l=o;var w=e.ownerDocument;if(l&1&&nl(w.documentElement),l&2&&nl(w.body),l&4)for(l=w.head,nl(l),w=l.firstChild;w;){var S=w.nextSibling,A=w.nodeName;w[jn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=S}}if(f===0){e.removeChild(g),cl(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:o=l.charCodeAt(0)-48;else o=0;l=g}while(l);cl(n)}function jc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jc(l),To(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function av(e,n,l,o){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[jn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=yn(e.nextSibling),e===null)break}return null}function iv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=yn(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lv(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var o=function(){n(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Ec=null;function Rm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function Om(e,n,l){switch(n=zs(l),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function nl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);To(e)}var hn=new Map,Dm=new Set;function Us(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=q.d;q.d={f:sv,r:ov,D:uv,C:cv,L:dv,m:fv,X:mv,S:hv,M:pv};function sv(){var e=Yn.f(),n=As();return e||n}function ov(e){var n=ca(e);n!==null&&n.tag===5&&n.type==="form"?Wh(n):Yn.r(e)}var Fa=typeof document>"u"?null:document;function Lm(e,n,l){var o=Fa;if(o&&typeof n=="string"&&n){var f=ln(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Dm.has(f)||(Dm.add(f),e={rel:e,crossOrigin:l,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function uv(e){Yn.D(e),Lm("dns-prefetch",e,null)}function cv(e,n){Yn.C(e,n),Lm("preconnect",e,n)}function dv(e,n,l){Yn.L(e,n,l);var o=Fa;if(o&&e&&n){var f='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+ln(l.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var g=f;switch(n){case"style":g=Ga(e);break;case"script":g=Ya(e)}hn.has(g)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),hn.set(g,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(rl(g))||n==="script"&&o.querySelector(al(g))||(n=o.createElement("link"),Et(n,"link",e),gt(n),o.head.appendChild(n)))}}function fv(e,n){Yn.m(e,n);var l=Fa;if(l&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ya(e)}if(!hn.has(g)&&(e=x({rel:"modulepreload",href:e},n),hn.set(g,e),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(al(g)))return}o=l.createElement("link"),Et(o,"link",e),gt(o),l.head.appendChild(o)}}}function hv(e,n,l){Yn.S(e,n,l);var o=Fa;if(o&&e){var f=da(o).hoistableStyles,g=Ga(e);n=n||"default";var w=f.get(g);if(!w){var S={loading:0,preload:null};if(w=o.querySelector(rl(g)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=hn.get(g))&&Nc(e,l);var A=w=o.createElement("link");gt(A),Et(A,"link",e),A._p=new Promise(function(P,X){A.onload=P,A.onerror=X}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bs(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(g,w)}}}function mv(e,n){Yn.X(e,n);var l=Fa;if(l&&e){var o=da(l).hoistableScripts,f=Ya(e),g=o.get(f);g||(g=l.querySelector(al(f)),g||(e=x({src:e,async:!0},n),(n=hn.get(f))&&Ac(e,n),g=l.createElement("script"),gt(g),Et(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function pv(e,n){Yn.M(e,n);var l=Fa;if(l&&e){var o=da(l).hoistableScripts,f=Ya(e),g=o.get(f);g||(g=l.querySelector(al(f)),g||(e=x({src:e,async:!0,type:"module"},n),(n=hn.get(f))&&Ac(e,n),g=l.createElement("script"),gt(g),Et(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Mm(e,n,l,o){var f=(f=ue.current)?Us(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Ga(l.href),l=da(f).hoistableStyles,o=l.get(n),o||(o={type:"style",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ga(l.href);var g=da(f).hoistableStyles,w=g.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=f.querySelector(rl(e)))&&!g._p&&(w.instance=g,w.state.loading=5),hn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hn.set(e,l),g||gv(f,e,l,w.state))),n&&o===null)throw Error(i(528,""));return w}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(l),l=da(f).hoistableScripts,o=l.get(n),o||(o={type:"script",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ga(e){return'href="'+ln(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function zm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function gv(e,n,l,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Et(n,"link",l),gt(n),e.head.appendChild(n))}function Ya(e){return'[src="'+ln(e)+'"]'}function al(e){return"script[async]"+e}function Um(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ln(l.href)+'"]');if(o)return n.instance=o,gt(o),o;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),gt(o),Et(o,"style",f),Bs(o,l.precedence,e),n.instance=o;case"stylesheet":f=Ga(l.href);var g=e.querySelector(rl(f));if(g)return n.state.loading|=4,n.instance=g,gt(g),g;o=zm(l),(f=hn.get(f))&&Nc(o,f),g=(e.ownerDocument||e).createElement("link"),gt(g);var w=g;return w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),Et(g,"link",o),n.state.loading|=4,Bs(g,l.precedence,e),n.instance=g;case"script":return g=Ya(l.src),(f=e.querySelector(al(g)))?(n.instance=f,gt(f),f):(o=l,(f=hn.get(g))&&(o=x({},l),Ac(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),gt(f),Et(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Bs(o,l.precedence,e));return n.instance}function Bs(e,n,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,w=0;w<o.length;w++){var S=o[w];if(S.dataset.precedence===n)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Nc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ac(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ps=null;function Bm(e,n,l){if(Ps===null){var o=new Map,f=Ps=new Map;f.set(l,o)}else f=Ps,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[jn]||g[lt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var S=o.get(w);S?S.push(g):o.set(w,[g])}}return o}function Pm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function xv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function yv(){}function bv(e,n,l){if(il===null)throw Error(i(475));var o=il;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ga(l.href),g=e.querySelector(rl(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=qs.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,gt(g);return}g=e.ownerDocument||e,l=zm(l),(f=hn.get(f))&&Nc(l,f),g=g.createElement("link"),gt(g);var w=g;w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),Et(g,"link",l),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=qs.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function vv(){if(il===null)throw Error(i(475));var e=il;return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function qs(){if(this.count--,this.count===0){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Is=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Is=new Map,n.forEach(wv,e),Is=null,qs.call(e))}function wv(e,n){if(!(n.state.loading&4)){var l=Is.get(e);if(l)var o=l.get(null);else{l=new Map,Is.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),o=w)}o&&l.set(null,o)}f=n.instance,w=f.getAttribute("data-precedence"),g=l.get(w)||o,g===o&&l.set(null,f),l.set(w,f),this.count++,o=qs.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:N,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function kv(e,n,l,o,f,g,w,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Im(e,n,l,o,f,g,w,S,A,P,X,J){return e=new kv(e,n,l,w,S,A,P,J),n=1,g===!0&&(n|=24),g=Xt(3,null,null,n),e.current=g,g.stateNode=e,n=cu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:n},mu(g),e}function Hm(e){return e?(e=Sa,e):Sa}function $m(e,n,l,o,f,g){f=Hm(f),o.context===null?o.context=f:o.pendingContext=f,o=sr(n),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=or(e,o,n),l!==null&&(en(l,e,n),zi(l,e,n))}function Fm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Cc(e,n){Fm(e,n),(e=e.alternate)&&Fm(e,n)}function Gm(e){if(e.tag===13){var n=ka(e,67108864);n!==null&&en(n,e,67108864),Cc(e,67108864)}}var Hs=!0;function Sv(e,n,l,o){var f=M.T;M.T=null;var g=q.p;try{q.p=2,Rc(e,n,l,o)}finally{q.p=g,M.T=f}}function jv(e,n,l,o){var f=M.T;M.T=null;var g=q.p;try{q.p=8,Rc(e,n,l,o)}finally{q.p=g,M.T=f}}function Rc(e,n,l,o){if(Hs){var f=Oc(o);if(f===null)yc(e,n,o,$s,l),Vm(e,o);else if(Ev(f,e,n,l,o))o.stopPropagation();else if(Vm(e,o),n&4&&-1<_v.indexOf(e)){for(;f!==null;){var g=ca(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=je(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var A=1<<31-be(w);S.entanglements[1]|=A,w&=~A}Tn(g),(He&6)===0&&(Es=it()+500,Wi(0))}}break;case 13:S=ka(g,2),S!==null&&en(S,g,2),As(),Cc(g,2)}if(g=Oc(o),g===null&&yc(e,n,o,$s,l),g===f)break;f=g}f!==null&&o.stopPropagation()}else yc(e,n,o,null,l)}}function Oc(e){return e=Uo(e),Dc(e)}var $s=null;function Dc(e){if($s=null,e=ua(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=c(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $s=e,null}function Ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case Mr:return 2;case zr:return 8;case Jn:case mi:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Lc=!1,wr=null,kr=null,Sr=null,sl=new Map,ol=new Map,jr=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vm(e,n){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(n.pointerId)}}function ul(e,n,l,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},n!==null&&(n=ca(n),n!==null&&Gm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Ev(e,n,l,o,f){switch(n){case"focusin":return wr=ul(wr,e,n,l,o,f),!0;case"dragenter":return kr=ul(kr,e,n,l,o,f),!0;case"mouseover":return Sr=ul(Sr,e,n,l,o,f),!0;case"pointerover":var g=f.pointerId;return sl.set(g,ul(sl.get(g)||null,e,n,l,o,f)),!0;case"gotpointercapture":return g=f.pointerId,ol.set(g,ul(ol.get(g)||null,e,n,l,o,f)),!0}return!1}function Qm(e){var n=ua(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=c(l),n!==null){e.blockedOn=n,No(e.priority,function(){if(l.tag===13){var o=Wt();o=gi(o);var f=ka(l,o);f!==null&&en(f,l,o),Cc(l,o)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Oc(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);zo=o,l.target.dispatchEvent(o),zo=null}else return n=ca(l),n!==null&&Gm(n),e.blockedOn=l,!1;n.shift()}return!0}function Xm(e,n,l){Fs(e)&&l.delete(n)}function Nv(){Lc=!1,wr!==null&&Fs(wr)&&(wr=null),kr!==null&&Fs(kr)&&(kr=null),Sr!==null&&Fs(Sr)&&(Sr=null),sl.forEach(Xm),ol.forEach(Xm)}function Gs(e,n){e.blockedOn===n&&(e.blockedOn=null,Lc||(Lc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nv)))}var Ys=null;function Km(e){Ys!==e&&(Ys=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ys===e&&(Ys=null);for(var n=0;n<e.length;n+=3){var l=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Dc(o||l)===null)continue;break}var g=ca(l);g!==null&&(e.splice(n,3),n-=3,Du(g,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function cl(e){function n(A){return Gs(A,e)}wr!==null&&Gs(wr,e),kr!==null&&Gs(kr,e),Sr!==null&&Gs(Sr,e),sl.forEach(n),ol.forEach(n);for(var l=0;l<jr.length;l++){var o=jr[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(l=jr[0],l.blockedOn===null);)Qm(l),l.blockedOn===null&&jr.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],g=l[o+1],w=f[et]||null;if(typeof g=="function")w||Km(l);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[et]||null)S=w.formAction;else if(Dc(f)!==null)continue}else S=w.action;typeof S=="function"?l[o+1]=S:(l.splice(o,3),o-=3),Km(l)}}}function Mc(e){this._internalRoot=e}Vs.prototype.render=Mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var l=n.current,o=Wt();$m(l,o,e,n,null,null)},Vs.prototype.unmount=Mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;$m(e.current,2,null,e,null,null),As(),n[rr]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var n=nr();e={blockedOn:null,target:e,priority:n};for(var l=0;l<jr.length&&n!==0&&n<jr[l].priority;l++);jr.splice(l,0,e),l===0&&Qm(e)}};var Zm=r.version;if(Zm!=="19.1.0")throw Error(i(527,Zm,"19.1.0"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Av={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Q=Qs.inject(Av),re=Qs}catch{}}return fl.createRoot=function(e,n){if(!s(e))throw Error(i(299));var l=!1,o="",f=h0,g=m0,w=p0,S=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Im(e,1,!1,null,null,l,o,f,g,w,S,null),e[rr]=n.current,xc(e),new Mc(n)},fl.hydrateRoot=function(e,n,l){if(!s(e))throw Error(i(299));var o=!1,f="",g=h0,w=m0,S=p0,A=null,P=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(P=l.formState)),n=Im(e,1,!0,n,l??null,o,f,g,w,S,A,P),n.context=Hm(null),l=n.current,o=Wt(),o=gi(o),f=sr(o),f.callback=null,or(l,f,o),l=o,n.current.lanes=l,tr(n,l),Tn(n),e[rr]=n.current,xc(e),new Vs(n)},fl.version="19.1.0",fl}var sp;function Pv(){if(sp)return Bc.exports;sp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Bc.exports=Bv(),Bc.exports}var qv=Pv();const Iv=Rl(qv),op=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),up=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Hv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),uo=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),yd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),bd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),cp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),vd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),wd=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),co=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Yg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),bo=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),dp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),$v=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),Fv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),so=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),li=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:d.jsxs("g",{children:[d.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),d.jsx("g",{})]})}),Or=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),wn=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Gv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Vg=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),fo=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Yv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Vv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),fp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),hp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),mp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),pp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),gp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Qv=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),Xv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),xp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),Kv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Zv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Jv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Wv=({onImageSelect:t,isLoading:r,isTradingMode:a=!0,preview:i})=>{const[s,u]=F.useState(!1),c=F.useRef(null),h=F.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const j=new FileReader;j.onloadend=()=>{try{const E=j.result;t(b)}catch(E){console.error("Error processing image file:",E),alert("Gagal memproses file gambar. Silakan coba file lain.")}},j.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},j.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[t]),p=F.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?u(!0):b.type==="dragleave"&&u(!1)},[]),m=F.useCallback(b=>{b.preventDefault(),b.stopPropagation(),u(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&h(b.dataTransfer.files[0])},[h]),x=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&h(b.target.files[0])},y=()=>{var b;(b=c.current)==null||b.click()},v=F.useCallback(b=>{var C,T;if(r||!c.current)return;const j=(C=b.clipboardData)==null?void 0:C.items;if(!j)return;const E=(T=Array.from(j).find(O=>O.kind==="file"&&O.type.startsWith("image/")))==null?void 0:T.getAsFile();E&&(b.preventDefault(),h(E))},[r,h]);return F.useEffect(()=>{if(a)return document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}},[v,a]),d.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${s?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!i&&"bg-white dark:bg-slate-800"}`}`,children:[d.jsx("input",{ref:c,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:x,disabled:r}),i?d.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[d.jsx("img",{src:i,className:r?"w-full h-full object-contain blur-sm opacity-70 transition-all":"w-full h-full object-contain transition-all",alt:"Chart Preview",style:{maxHeight:320,maxWidth:"100%"}}),r&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/60 dark:bg-slate-900/60 z-10",children:[d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-500 mb-2"}),d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Analyzing Chart..."})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx(dp,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),d.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),d.jsxs("button",{type:"button",onClick:y,disabled:r,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[d.jsx(dp,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},hl="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",ml="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",yp="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",e1=({params:t,timeframeSettings:r})=>{const[a,i]=F.useState(t.accountBalance||""),[s,u]=F.useState(t.leverage||"10"),[c,h]=F.useState(t.entryPrice||""),[p,m]=F.useState(t.stopLoss||""),[x,y]=F.useState(""),[v,b]=F.useState("LONG"),j=C=>parseFloat(C.replace(",",".")),E=F.useMemo(()=>{const C=j(a),T=j(s),O=j(c),N=j(p),G=j(x);if([C,T,O,N,G].some(isNaN)||C<=0||T<=0||O<=0||N<=0||G<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const V=C*T;let D=0,te=0,se=0,ce=0;v==="LONG"?(D=(N-O)*V/O,te=(G-O)*V/O,se=Math.abs(te/Math.abs(D)),ce=O*(1-1/T)):(D=(O-N)*V/O,te=(O-G)*V/O,se=Math.abs(te/Math.abs(D)),ce=O*(1+1/T));const U=C,z=C,Y=`${(D/C*100).toFixed(2)}%`,K=`${(te/C*100).toFixed(2)}%`;let W="";return se<1?W="RRR di bawah standar minimum!":D>=0?W="Stop Loss tidak valid (tidak rugi)!":te<=0&&(W="Take Profit tidak valid (tidak untung)!"),{contract:`$${V.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:N,slMargin:`$${U.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${D>=0?"+":""}$${D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:Y,tp:G,tpMargin:`$${z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${te>=0?"+":""}$${te.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:K,rrr:se.toFixed(2),liq:ce.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:W}},[a,s,c,p,x,v]);return d.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx(Fv,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:r.text})]})}),d.jsx("div",{className:ml,children:d.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),d.jsx("input",{type:"number",className:hl,value:a,onChange:C=>i(C.target.value),placeholder:"e.g. 6.64"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),d.jsx("input",{type:"number",className:hl,value:s,onChange:C=>u(C.target.value),min:1,max:125})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),d.jsx("input",{type:"number",className:hl,value:c,onChange:C=>h(C.target.value),placeholder:"e.g. 0.621"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),d.jsx("input",{type:"number",className:hl,value:p,onChange:C=>m(C.target.value),placeholder:"e.g. 0.62552"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),d.jsx("input",{type:"number",className:hl,value:x,onChange:C=>y(C.target.value),placeholder:"e.g. 0.6185"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),d.jsxs("div",{className:"flex gap-3 mt-1",children:[d.jsx("button",{onClick:()=>b("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${v==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),d.jsx("button",{onClick:()=>b("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${v==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:ml,children:[d.jsx("h4",{className:yp,children:"Nilai Kontrak"}),d.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[d.jsx("span",{children:"Total Kontrak"}),d.jsx("span",{children:E.contract})]})]}),d.jsxs("div",{className:ml+" border-l-4 border-red-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi SL (USDT)"}),d.jsx("span",{children:E.sl})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:E.slMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:E.slProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:E.slProfitPct})]})]}),d.jsxs("div",{className:ml+" border-l-4 border-emerald-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi TP (USDT)"}),d.jsx("span",{children:E.tp})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:E.tpMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:E.tpProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:E.tpProfitPct})]})]}),d.jsxs("div",{className:ml,children:[d.jsx("h4",{className:yp,children:"Ringkasan"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),d.jsx("span",{children:E.rrr})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Liquidation Price (estimasi)"}),d.jsx("span",{children:E.liq})]})]}),E.warning&&d.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:E.warning})]})]})};function t1(t,r){const a={};return(t[t.length-1]===""?[...t,""]:t).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const n1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,r1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,a1={};function bp(t,r){return(a1.jsx?r1:n1).test(t)}const i1=/[ \t\n\f\r]/g;function l1(t){return typeof t=="object"?t.type==="text"?vp(t.value):!1:vp(t)}function vp(t){return t.replace(i1,"")===""}class Ol{constructor(r,a,i){this.normal=a,this.property=r,i&&(this.space=i)}}Ol.prototype.normal={};Ol.prototype.property={};Ol.prototype.space=void 0;function Xg(t,r){const a={},i={};for(const s of t)Object.assign(a,s.property),Object.assign(i,s.normal);return new Ol(a,i,r)}function kd(t){return t.toLowerCase()}class Ht{constructor(r,a){this.attribute=a,this.property=r}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let s1=0;const Ae=la(),ft=la(),Sd=la(),ae=la(),Ze=la(),si=la(),tn=la();function la(){return 2**++s1}const jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:ft,commaOrSpaceSeparated:tn,commaSeparated:si,number:ae,overloadedBoolean:Sd,spaceSeparated:Ze},Symbol.toStringTag,{value:"Module"})),Hc=Object.keys(jd);class $d extends Ht{constructor(r,a,i,s){let u=-1;if(super(r,a),wp(this,"space",s),typeof i=="number")for(;++u<Hc.length;){const c=Hc[u];wp(this,Hc[u],(i&jd[c])===jd[c])}}}$d.prototype.defined=!0;function wp(t,r,a){a&&(t[r]=a)}function ci(t){const r={},a={};for(const[i,s]of Object.entries(t.properties)){const u=new $d(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),r[i]=u,a[kd(i)]=i,a[kd(u.attribute)]=i}return new Ol(r,a,t.space)}const Kg=ci({properties:{ariaActiveDescendant:null,ariaAtomic:ft,ariaAutoComplete:null,ariaBusy:ft,ariaChecked:ft,ariaColCount:ae,ariaColIndex:ae,ariaColSpan:ae,ariaControls:Ze,ariaCurrent:null,ariaDescribedBy:Ze,ariaDetails:null,ariaDisabled:ft,ariaDropEffect:Ze,ariaErrorMessage:null,ariaExpanded:ft,ariaFlowTo:Ze,ariaGrabbed:ft,ariaHasPopup:null,ariaHidden:ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ze,ariaLevel:ae,ariaLive:null,ariaModal:ft,ariaMultiLine:ft,ariaMultiSelectable:ft,ariaOrientation:null,ariaOwns:Ze,ariaPlaceholder:null,ariaPosInSet:ae,ariaPressed:ft,ariaReadOnly:ft,ariaRelevant:null,ariaRequired:ft,ariaRoleDescription:Ze,ariaRowCount:ae,ariaRowIndex:ae,ariaRowSpan:ae,ariaSelected:ft,ariaSetSize:ae,ariaSort:null,ariaValueMax:ae,ariaValueMin:ae,ariaValueNow:ae,ariaValueText:null,role:null},transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()}});function Zg(t,r){return r in t?t[r]:r}function Jg(t,r){return Zg(t,r.toLowerCase())}const o1=ci({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:si,acceptCharset:Ze,accessKey:Ze,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Ze,autoFocus:Ae,autoPlay:Ae,blocking:Ze,capture:null,charSet:null,checked:Ae,cite:null,className:Ze,cols:ae,colSpan:null,content:null,contentEditable:ft,controls:Ae,controlsList:Ze,coords:ae|si,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:Sd,draggable:ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Ze,height:ae,hidden:Sd,high:ae,href:null,hrefLang:null,htmlFor:Ze,httpEquiv:Ze,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Ze,itemRef:Ze,itemScope:Ae,itemType:Ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:ae,manifest:null,max:null,maxLength:ae,media:null,method:null,min:null,minLength:ae,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:ae,pattern:null,ping:Ze,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Ze,required:Ae,reversed:Ae,rows:ae,rowSpan:ae,sandbox:Ze,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:ae,sizes:null,slot:null,span:ae,spellCheck:ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ae,step:null,style:null,tabIndex:ae,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:ft,width:ae,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ze,axis:null,background:null,bgColor:null,border:ae,borderColor:null,bottomMargin:ae,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ae,leftMargin:ae,link:null,longDesc:null,lowSrc:null,marginHeight:ae,marginWidth:ae,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ae,rules:null,scheme:null,scrolling:ft,standby:null,summary:null,text:null,topMargin:ae,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ae,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:ae,security:null,unselectable:null},space:"html",transform:Jg}),u1=ci({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:tn,accentHeight:ae,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ae,amplitude:ae,arabicForm:null,ascent:ae,attributeName:null,attributeType:null,azimuth:ae,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ae,by:null,calcMode:null,capHeight:ae,className:Ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ae,diffuseConstant:ae,direction:null,display:null,dur:null,divisor:ae,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ae,enableBackground:null,end:null,event:null,exponent:ae,externalResourcesRequired:null,fill:null,fillOpacity:ae,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:si,g2:si,glyphName:si,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ae,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ae,horizOriginX:ae,horizOriginY:ae,id:null,ideographic:ae,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ae,k:ae,k1:ae,k2:ae,k3:ae,k4:ae,kernelMatrix:tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ae,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ae,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ae,overlineThickness:ae,paintOrder:null,panose1:null,path:null,pathLength:ae,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ae,pointsAtY:ae,pointsAtZ:ae,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tn,rev:tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tn,requiredFeatures:tn,requiredFonts:tn,requiredFormats:tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ae,specularExponent:ae,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ae,strikethroughThickness:ae,string:null,stroke:null,strokeDashArray:tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ae,strokeOpacity:ae,strokeWidth:null,style:null,surfaceScale:ae,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tn,tabIndex:ae,tableValues:null,target:null,targetX:ae,targetY:ae,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ae,underlineThickness:ae,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ae,values:null,vAlphabetic:ae,vMathematical:ae,vectorEffect:null,vHanging:ae,vIdeographic:ae,version:null,vertAdvY:ae,vertOriginX:ae,vertOriginY:ae,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ae,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Zg}),Wg=ci({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()}}),ex=ci({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Jg}),tx=ci({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()}}),c1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},d1=/[A-Z]/g,kp=/-[a-z]/g,f1=/^data[-\w.:]+$/i;function h1(t,r){const a=kd(r);let i=r,s=Ht;if(a in t.normal)return t.property[t.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&f1.test(r)){if(r.charAt(4)==="-"){const u=r.slice(5).replace(kp,p1);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=r.slice(4);if(!kp.test(u)){let c=u.replace(d1,m1);c.charAt(0)!=="-"&&(c="-"+c),r="data"+c}}s=$d}return new s(i,r)}function m1(t){return"-"+t.toLowerCase()}function p1(t){return t.charAt(1).toUpperCase()}const g1=Xg([Kg,o1,Wg,ex,tx],"html"),Fd=Xg([Kg,u1,Wg,ex,tx],"svg");function x1(t){return t.join(" ").trim()}var Va={},$c,Sp;function y1(){if(Sp)return $c;Sp=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",x="*",y="",v="comment",b="declaration";$c=function(E,C){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];C=C||{};var T=1,O=1;function N(K){var W=K.match(r);W&&(T+=W.length);var ie=K.lastIndexOf(p);O=~ie?K.length-ie:O+K.length}function G(){var K={line:T,column:O};return function(W){return W.position=new V(K),se(),W}}function V(K){this.start=K,this.end={line:T,column:O},this.source=C.source}V.prototype.content=E;function D(K){var W=new Error(C.source+":"+T+":"+O+": "+K);if(W.reason=K,W.filename=C.source,W.line=T,W.column=O,W.source=E,!C.silent)throw W}function te(K){var W=K.exec(E);if(W){var ie=W[0];return N(ie),E=E.slice(ie.length),W}}function se(){te(a)}function ce(K){var W;for(K=K||[];W=U();)W!==!1&&K.push(W);return K}function U(){var K=G();if(!(m!=E.charAt(0)||x!=E.charAt(1))){for(var W=2;y!=E.charAt(W)&&(x!=E.charAt(W)||m!=E.charAt(W+1));)++W;if(W+=2,y===E.charAt(W-1))return D("End of comment missing");var ie=E.slice(2,W-2);return O+=2,N(ie),E=E.slice(W),O+=2,K({type:v,comment:ie})}}function z(){var K=G(),W=te(i);if(W){if(U(),!te(s))return D("property missing ':'");var ie=te(u),M=K({type:b,property:j(W[0].replace(t,y)),value:ie?j(ie[0].replace(t,y)):y});return te(c),M}}function Y(){var K=[];ce(K);for(var W;W=z();)W!==!1&&(K.push(W),ce(K));return K}return se(),Y()};function j(E){return E?E.replace(h,y):y}return $c}var jp;function b1(){if(jp)return Va;jp=1;var t=Va&&Va.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Va,"__esModule",{value:!0}),Va.default=a;var r=t(y1());function a(i,s){var u=null;if(!i||typeof i!="string")return u;var c=(0,r.default)(i),h=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,x=p.value;h?s(m,x,p):x&&(u=u||{},u[m]=x)}}),u}return Va}var pl={},_p;function v1(){if(_p)return pl;_p=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(m){return!m||a.test(m)||t.test(m)},c=function(m,x){return x.toUpperCase()},h=function(m,x){return"".concat(x,"-")},p=function(m,x){return x===void 0&&(x={}),u(m)?m:(m=m.toLowerCase(),x.reactCompat?m=m.replace(s,h):m=m.replace(i,h),m.replace(r,c))};return pl.camelCase=p,pl}var gl,Ep;function w1(){if(Ep)return gl;Ep=1;var t=gl&&gl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},r=t(b1()),a=v1();function i(s,u){var c={};return!s||typeof s!="string"||(0,r.default)(s,function(h,p){h&&p&&(c[(0,a.camelCase)(h,u)]=p)}),c}return i.default=i,gl=i,gl}var k1=w1();const S1=Rl(k1),nx=rx("end"),Gd=rx("start");function rx(t){return r;function r(a){const i=a&&a.position&&a.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function j1(t){const r=Gd(t),a=nx(t);if(r&&a)return{start:r,end:a}}function wl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Np(t.position):"start"in t||"end"in t?Np(t):"line"in t||"column"in t?_d(t):""}function _d(t){return Ap(t&&t.line)+":"+Ap(t&&t.column)}function Np(t){return _d(t&&t.start)+"-"+_d(t&&t.end)}function Ap(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(r,a,i){super(),typeof a=="string"&&(i=a,a=void 0);let s="",u={},c=!1;if(a&&("line"in a&&"column"in a?u={place:a}:"start"in a&&"end"in a?u={place:a}:"type"in a?u={ancestors:[a],place:a.position}:u={...a}),typeof r=="string"?s=r:!u.cause&&r&&(c=!0,s=r.message,u.cause=r),!u.ruleId&&!u.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?u.ruleId=i:(u.source=i.slice(0,p),u.ruleId=i.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=h?h.line:void 0,this.name=wl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const Yd={}.hasOwnProperty,_1=new Map,E1=/[A-Z]/g,N1=new Set(["table","tbody","thead","tfoot","tr"]),A1=new Set(["td","th"]),ax="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function T1(t,r){if(!r||r.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=r.filePath||void 0;let i;if(r.development){if(typeof r.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=U1(a,r.jsxDEV)}else{if(typeof r.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof r.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=z1(a,r.jsx,r.jsxs)}const s={Fragment:r.Fragment,ancestors:[],components:r.components||{},create:i,elementAttributeNameCase:r.elementAttributeNameCase||"react",evaluater:r.createEvaluater?r.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:r.ignoreInvalidStyle||!1,passKeys:r.passKeys!==!1,passNode:r.passNode||!1,schema:r.space==="svg"?Fd:g1,stylePropertyNameCase:r.stylePropertyNameCase||"dom",tableCellAlignToStyle:r.tableCellAlignToStyle!==!1},u=ix(s,t,void 0);return u&&typeof u!="string"?u:s.create(t,s.Fragment,{children:u||void 0},void 0)}function ix(t,r,a){if(r.type==="element")return C1(t,r,a);if(r.type==="mdxFlowExpression"||r.type==="mdxTextExpression")return R1(t,r);if(r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement")return D1(t,r,a);if(r.type==="mdxjsEsm")return O1(t,r);if(r.type==="root")return L1(t,r,a);if(r.type==="text")return M1(t,r)}function C1(t,r,a){const i=t.schema;let s=i;r.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Fd,t.schema=s),t.ancestors.push(r);const u=sx(t,r.tagName,!1),c=B1(t,r);let h=Qd(t,r);return N1.has(r.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!l1(p):!0})),lx(t,c,u,r),Vd(c,h),t.ancestors.pop(),t.schema=i,t.create(r,u,c,a)}function R1(t,r){if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Al(t,r.position)}function O1(t,r){if(r.data&&r.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(r.data.estree);Al(t,r.position)}function D1(t,r,a){const i=t.schema;let s=i;r.name==="svg"&&i.space==="html"&&(s=Fd,t.schema=s),t.ancestors.push(r);const u=r.name===null?t.Fragment:sx(t,r.name,!0),c=P1(t,r),h=Qd(t,r);return lx(t,c,u,r),Vd(c,h),t.ancestors.pop(),t.schema=i,t.create(r,u,c,a)}function L1(t,r,a){const i={};return Vd(i,Qd(t,r)),t.create(r,t.Fragment,i,a)}function M1(t,r){return r.value}function lx(t,r,a,i){typeof a!="string"&&a!==t.Fragment&&t.passNode&&(r.node=i)}function Vd(t,r){if(r.length>0){const a=r.length>1?r:r[0];a&&(t.children=a)}}function z1(t,r,a){return i;function i(s,u,c,h){const m=Array.isArray(c.children)?a:r;return h?m(u,c,h):m(u,c)}}function U1(t,r){return a;function a(i,s,u,c){const h=Array.isArray(u.children),p=Gd(i);return r(s,u,c,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function B1(t,r){const a={};let i,s;for(s in r.properties)if(s!=="children"&&Yd.call(r.properties,s)){const u=q1(t,s,r.properties[s]);if(u){const[c,h]=u;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&A1.has(r.tagName)?i=h:a[c]=h}}if(i){const u=a.style||(a.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return a}function P1(t,r){const a={};for(const i of r.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const u=i.data.estree.body[0];u.type;const c=u.expression;c.type;const h=c.properties[0];h.type,Object.assign(a,t.evaluater.evaluateExpression(h.argument))}else Al(t,r.position);else{const s=i.name;let u;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,u=t.evaluater.evaluateExpression(h.expression)}else Al(t,r.position);else u=i.value===null?!0:i.value;a[s]=u}return a}function Qd(t,r){const a=[];let i=-1;const s=t.passKeys?new Map:_1;for(;++i<r.children.length;){const u=r.children[i];let c;if(t.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const h=ix(t,u,c);h!==void 0&&a.push(h)}return a}function q1(t,r,a){const i=h1(t.schema,r);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=i.commaSeparated?t1(a):x1(a)),i.property==="style"){let s=typeof a=="object"?a:I1(t,String(a));return t.stylePropertyNameCase==="css"&&(s=H1(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?c1[i.property]||i.property:i.attribute,a]}}function I1(t,r){try{return S1(r,{reactCompat:!0})}catch(a){if(t.ignoreInvalidStyle)return{};const i=a,s=new Ot("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=ax+"#cannot-parse-style-attribute",s}}function sx(t,r,a){let i;if(!a)i={type:"Literal",value:r};else if(r.includes(".")){const s=r.split(".");let u=-1,c;for(;++u<s.length;){const h=bp(s[u])?{type:"Identifier",name:s[u]}:{type:"Literal",value:s[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(u&&h.type==="Literal"),optional:!1}:h}i=c}else i=bp(r)&&!/^[a-z]/.test(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};if(i.type==="Literal"){const s=i.value;return Yd.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);Al(t)}function Al(t,r){const a=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:r,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=ax+"#cannot-handle-mdx-estrees-without-createevaluater",a}function H1(t){const r={};let a;for(a in t)Yd.call(t,a)&&(r[$1(a)]=t[a]);return r}function $1(t){let r=t.replace(E1,F1);return r.slice(0,3)==="ms-"&&(r="-"+r),r}function F1(t){return"-"+t.toLowerCase()}const Fc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},G1={};function Xd(t,r){const a=G1,i=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,s=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return ox(t,i,s)}function ox(t,r,a){if(Y1(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Tp(t.children,r,a)}return Array.isArray(t)?Tp(t,r,a):""}function Tp(t,r,a){const i=[];let s=-1;for(;++s<t.length;)i[s]=ox(t[s],r,a);return i.join("")}function Y1(t){return!!(t&&typeof t=="object")}const Cp=document.createElement("i");function Kd(t){const r="&"+t+";";Cp.innerHTML=r;const a=Cp.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===r?!1:a}function nn(t,r,a,i){const s=t.length;let u=0,c;if(r<0?r=-r>s?0:s+r:r=r>s?s:r,a=a>0?a:0,i.length<1e4)c=Array.from(i),c.unshift(r,a),t.splice(...c);else for(a&&t.splice(r,a);u<i.length;)c=i.slice(u,u+1e4),c.unshift(r,0),t.splice(...c),u+=1e4,r+=1e4}function mn(t,r){return t.length>0?(nn(t,t.length,0,r),t):r}const Rp={}.hasOwnProperty;function ux(t){const r={};let a=-1;for(;++a<t.length;)V1(r,t[a]);return r}function V1(t,r){let a;for(a in r){const s=(Rp.call(t,a)?t[a]:void 0)||(t[a]={}),u=r[a];let c;if(u)for(c in u){Rp.call(s,c)||(s[c]=[]);const h=u[c];Q1(s[c],Array.isArray(h)?h:h?[h]:[])}}}function Q1(t,r){let a=-1;const i=[];for(;++a<r.length;)(r[a].add==="after"?t:i).push(r[a]);nn(t,0,0,i)}function cx(t,r){const a=Number.parseInt(t,r);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function kn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mt=Dr(/[A-Za-z]/),Rt=Dr(/[\dA-Za-z]/),X1=Dr(/[#-'*+\--9=?A-Z^-~]/);function ho(t){return t!==null&&(t<32||t===127)}const Ed=Dr(/\d/),K1=Dr(/[\dA-Fa-f]/),Z1=Dr(/[!-/:-@[-`{-~]/);function xe(t){return t!==null&&t<-2}function Qe(t){return t!==null&&(t<0||t===32)}function Me(t){return t===-2||t===-1||t===32}const vo=Dr(new RegExp("\\p{P}|\\p{S}","u")),ia=Dr(/\s/);function Dr(t){return r;function r(a){return a!==null&&a>-1&&t.test(String.fromCharCode(a))}}function di(t){const r=[];let a=-1,i=0,s=0;for(;++a<t.length;){const u=t.charCodeAt(a);let c="";if(u===37&&Rt(t.charCodeAt(a+1))&&Rt(t.charCodeAt(a+2)))s=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=t.charCodeAt(a+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),s=1):c=""}else c=String.fromCharCode(u);c&&(r.push(t.slice(i,a),encodeURIComponent(c)),i=a+s+1,c=""),s&&(a+=s,s=0)}return r.join("")+t.slice(i)}function Ue(t,r,a,i){const s=i?i-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(p){return Me(p)?(t.enter(a),h(p)):r(p)}function h(p){return Me(p)&&u++<s?(t.consume(p),h):(t.exit(a),r(p))}}const J1={tokenize:W1};function W1(t){const r=t.attempt(this.parser.constructs.contentInitial,i,s);let a;return r;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ue(t,r,"linePrefix")}function s(h){return t.enter("paragraph"),u(h)}function u(h){const p=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=p),a=p,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return xe(h)?(t.consume(h),t.exit("chunkText"),u):(t.consume(h),c)}}const ew={tokenize:tw},Op={tokenize:nw};function tw(t){const r=this,a=[];let i=0,s,u,c;return h;function h(N){if(i<a.length){const G=a[i];return r.containerState=G[1],t.attempt(G[0].continuation,p,m)(N)}return m(N)}function p(N){if(i++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,s&&O();const G=r.events.length;let V=G,D;for(;V--;)if(r.events[V][0]==="exit"&&r.events[V][1].type==="chunkFlow"){D=r.events[V][1].end;break}T(i);let te=G;for(;te<r.events.length;)r.events[te][1].end={...D},te++;return nn(r.events,V+1,0,r.events.slice(G)),r.events.length=te,m(N)}return h(N)}function m(N){if(i===a.length){if(!s)return v(N);if(s.currentConstruct&&s.currentConstruct.concrete)return j(N);r.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(Op,x,y)(N)}function x(N){return s&&O(),T(i),v(N)}function y(N){return r.parser.lazy[r.now().line]=i!==a.length,c=r.now().offset,j(N)}function v(N){return r.containerState={},t.attempt(Op,b,j)(N)}function b(N){return i++,a.push([r.currentConstruct,r.containerState]),v(N)}function j(N){if(N===null){s&&O(),T(0),t.consume(N);return}return s=s||r.parser.flow(r.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:u}),E(N)}function E(N){if(N===null){C(t.exit("chunkFlow"),!0),T(0),t.consume(N);return}return xe(N)?(t.consume(N),C(t.exit("chunkFlow")),i=0,r.interrupt=void 0,h):(t.consume(N),E)}function C(N,G){const V=r.sliceStream(N);if(G&&V.push(null),N.previous=u,u&&(u.next=N),u=N,s.defineSkip(N.start),s.write(V),r.parser.lazy[N.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<c&&(!s.events[D][1].end||s.events[D][1].end.offset>c))return;const te=r.events.length;let se=te,ce,U;for(;se--;)if(r.events[se][0]==="exit"&&r.events[se][1].type==="chunkFlow"){if(ce){U=r.events[se][1].end;break}ce=!0}for(T(i),D=te;D<r.events.length;)r.events[D][1].end={...U},D++;nn(r.events,se+1,0,r.events.slice(te)),r.events.length=D}}function T(N){let G=a.length;for(;G-- >N;){const V=a[G];r.containerState=V[1],V[0].exit.call(r,t)}a.length=N}function O(){s.write([null]),u=void 0,s=void 0,r.containerState._closeFlow=void 0}}function nw(t,r,a){return Ue(t,t.attempt(this.parser.constructs.document,r,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oi(t){if(t===null||Qe(t)||ia(t))return 1;if(vo(t))return 2}function wo(t,r,a){const i=[];let s=-1;for(;++s<t.length;){const u=t[s].resolveAll;u&&!i.includes(u)&&(r=u(r,a),i.push(u))}return r}const Nd={name:"attention",resolveAll:rw,tokenize:aw};function rw(t,r){let a=-1,i,s,u,c,h,p,m,x;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(i=a;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&r.sliceSerialize(t[i][1]).charCodeAt(0)===r.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[i][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const y={...t[i][1].end},v={...t[a][1].start};Dp(y,-p),Dp(v,p),c={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...t[i][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[a][1].start},end:v},u={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[a][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[i][1].end={...c.start},t[a][1].start={...h.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=mn(m,[["enter",t[i][1],r],["exit",t[i][1],r]])),m=mn(m,[["enter",s,r],["enter",c,r],["exit",c,r],["enter",u,r]]),m=mn(m,wo(r.parser.constructs.insideSpan.null,t.slice(i+1,a),r)),m=mn(m,[["exit",u,r],["enter",h,r],["exit",h,r],["exit",s,r]]),t[a][1].end.offset-t[a][1].start.offset?(x=2,m=mn(m,[["enter",t[a][1],r],["exit",t[a][1],r]])):x=0,nn(t,i-1,a-i+3,m),a=i+m.length-x-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function aw(t,r){const a=this.parser.constructs.attentionMarkers.null,i=this.previous,s=oi(i);let u;return c;function c(p){return u=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===u)return t.consume(p),h;const m=t.exit("attentionSequence"),x=oi(p),y=!x||x===2&&s||a.includes(p),v=!s||s===2&&x||a.includes(i);return m._open=!!(u===42?y:y&&(s||!v)),m._close=!!(u===42?v:v&&(x||!y)),r(p)}}function Dp(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const iw={name:"autolink",tokenize:lw};function lw(t,r,a){let i=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(b){return Mt(b)?(t.consume(b),c):b===64?a(b):m(b)}function c(b){return b===43||b===45||b===46||Rt(b)?(i=1,h(b)):m(b)}function h(b){return b===58?(t.consume(b),i=0,p):(b===43||b===45||b===46||Rt(b))&&i++<32?(t.consume(b),h):(i=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):b===null||b===32||b===60||ho(b)?a(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),x):X1(b)?(t.consume(b),m):a(b)}function x(b){return Rt(b)?y(b):a(b)}function y(b){return b===46?(t.consume(b),i=0,x):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):v(b)}function v(b){if((b===45||Rt(b))&&i++<63){const j=b===45?v:y;return t.consume(b),j}return a(b)}}const Dl={partial:!0,tokenize:sw};function sw(t,r,a){return i;function i(u){return Me(u)?Ue(t,s,"linePrefix")(u):s(u)}function s(u){return u===null||xe(u)?r(u):a(u)}}const dx={continuation:{tokenize:uw},exit:cw,name:"blockQuote",tokenize:ow};function ow(t,r,a){const i=this;return s;function s(c){if(c===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return a(c)}function u(c){return Me(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(c))}}function uw(t,r,a){const i=this;return s;function s(c){return Me(c)?Ue(t,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(dx,r,a)(c)}}function cw(t){t.exit("blockQuote")}const fx={name:"characterEscape",tokenize:dw};function dw(t,r,a){return i;function i(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),s}function s(u){return Z1(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):a(u)}}const hx={name:"characterReference",tokenize:fw};function fw(t,r,a){const i=this;let s=0,u,c;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),p}function p(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),u=31,c=Rt,x(y))}function m(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=K1,x):(t.enter("characterReferenceValue"),u=7,c=Ed,x(y))}function x(y){if(y===59&&s){const v=t.exit("characterReferenceValue");return c===Rt&&!Kd(i.sliceSerialize(v))?a(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return c(y)&&s++<u?(t.consume(y),x):a(y)}}const Lp={partial:!0,tokenize:mw},Mp={concrete:!0,name:"codeFenced",tokenize:hw};function hw(t,r,a){const i=this,s={partial:!0,tokenize:V};let u=0,c=0,h;return p;function p(D){return m(D)}function m(D){const te=i.events[i.events.length-1];return u=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,h=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(D)}function x(D){return D===h?(c++,t.consume(D),x):c<3?a(D):(t.exit("codeFencedFenceSequence"),Me(D)?Ue(t,y,"whitespace")(D):y(D))}function y(D){return D===null||xe(D)?(t.exit("codeFencedFence"),i.interrupt?r(D):t.check(Lp,E,G)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||xe(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(D)):Me(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ue(t,b,"whitespace")(D)):D===96&&D===h?a(D):(t.consume(D),v)}function b(D){return D===null||xe(D)?y(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(D))}function j(D){return D===null||xe(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(D)):D===96&&D===h?a(D):(t.consume(D),j)}function E(D){return t.attempt(s,G,C)(D)}function C(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),T}function T(D){return u>0&&Me(D)?Ue(t,O,"linePrefix",u+1)(D):O(D)}function O(D){return D===null||xe(D)?t.check(Lp,E,G)(D):(t.enter("codeFlowValue"),N(D))}function N(D){return D===null||xe(D)?(t.exit("codeFlowValue"),O(D)):(t.consume(D),N)}function G(D){return t.exit("codeFenced"),r(D)}function V(D,te,se){let ce=0;return U;function U(ie){return D.enter("lineEnding"),D.consume(ie),D.exit("lineEnding"),z}function z(ie){return D.enter("codeFencedFence"),Me(ie)?Ue(D,Y,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):Y(ie)}function Y(ie){return ie===h?(D.enter("codeFencedFenceSequence"),K(ie)):se(ie)}function K(ie){return ie===h?(ce++,D.consume(ie),K):ce>=c?(D.exit("codeFencedFenceSequence"),Me(ie)?Ue(D,W,"whitespace")(ie):W(ie)):se(ie)}function W(ie){return ie===null||xe(ie)?(D.exit("codeFencedFence"),te(ie)):se(ie)}}}function mw(t,r,a){const i=this;return s;function s(c){return c===null?a(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return i.parser.lazy[i.now().line]?a(c):r(c)}}const Gc={name:"codeIndented",tokenize:gw},pw={partial:!0,tokenize:xw};function gw(t,r,a){const i=this;return s;function s(m){return t.enter("codeIndented"),Ue(t,u,"linePrefix",5)(m)}function u(m){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(m):a(m)}function c(m){return m===null?p(m):xe(m)?t.attempt(pw,c,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||xe(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),r(m)}}function xw(t,r,a){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?a(c):xe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):Ue(t,u,"linePrefix",5)(c)}function u(c){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):xe(c)?s(c):a(c)}}const yw={name:"codeText",previous:vw,resolve:bw,tokenize:ww};function bw(t){let r=t.length-4,a=3,i,s;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(i=a;++i<r;)if(t[i][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[r][1].type="codeTextPadding",a+=2,r-=2;break}}for(i=a-1,r++;++i<=r;)s===void 0?i!==r&&t[i][1].type!=="lineEnding"&&(s=i):(i===r||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),r-=i-s-2,i=s+2),s=void 0);return t}function vw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ww(t,r,a){let i=0,s,u;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),i++,h):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?a(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(u=t.enter("codeTextSequence"),s=0,x(y)):xe(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||xe(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),m)}function x(y){return y===96?(t.consume(y),s++,x):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),r(y)):(u.type="codeTextData",m(y))}}class kw{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,a){const i=a??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(r,i):r>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(r,a,i){const s=a||0;this.setCursor(Math.trunc(r));const u=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&xl(this.left,i),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),xl(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),xl(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const a=this.left.splice(r,Number.POSITIVE_INFINITY);xl(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);xl(this.left,a.reverse())}}}function xl(t,r){let a=0;if(r.length<1e4)t.push(...r);else for(;a<r.length;)t.push(...r.slice(a,a+1e4)),a+=1e4}function mx(t){const r={};let a=-1,i,s,u,c,h,p,m;const x=new kw(t);for(;++a<x.length;){for(;a in r;)a=r[a];if(i=x.get(a),a&&i[1].type==="chunkFlow"&&x.get(a-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(i[0]==="enter")i[1].contentType&&(Object.assign(r,Sw(x,a)),a=r[a],m=!0);else if(i[1]._container){for(u=a,s=void 0;u--;)if(c=x.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...x.get(s)[1].start},h=x.slice(s,a),h.unshift(i),x.splice(s,a-s+1,h))}}return nn(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function Sw(t,r){const a=t.get(r)[1],i=t.get(r)[2];let s=r-1;const u=[];let c=a._tokenizer;c||(c=i.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],m={};let x,y,v=-1,b=a,j=0,E=0;const C=[E];for(;b;){for(;t.get(++s)[1]!==b;);u.push(s),b._tokenizer||(x=i.sliceStream(b),b.next||x.push(null),y&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=a;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(E=v+1,C.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):C.pop(),v=C.length;v--;){const T=h.slice(C[v],C[v+1]),O=u.pop();p.push([O,O+T.length-1]),t.splice(O,2,T)}for(p.reverse(),v=-1;++v<p.length;)m[j+p[v][0]]=j+p[v][1],j+=p[v][1]-p[v][0]-1;return m}const jw={resolve:Ew,tokenize:Nw},_w={partial:!0,tokenize:Aw};function Ew(t){return mx(t),t}function Nw(t,r){let a;return i;function i(h){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?u(h):xe(h)?t.check(_w,c,u)(h):(t.consume(h),s)}function u(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function c(h){return t.consume(h),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,s}}function Aw(t,r,a){const i=this;return s;function s(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ue(t,u,"linePrefix")}function u(c){if(c===null||xe(c))return a(c);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):t.interrupt(i.parser.constructs.flow,a,r)(c)}}function px(t,r,a,i,s,u,c,h,p){const m=p||Number.POSITIVE_INFINITY;let x=0;return y;function y(T){return T===60?(t.enter(i),t.enter(s),t.enter(u),t.consume(T),t.exit(u),v):T===null||T===32||T===41||ho(T)?a(T):(t.enter(i),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),E(T))}function v(T){return T===62?(t.enter(u),t.consume(T),t.exit(u),t.exit(s),t.exit(i),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(t.exit("chunkString"),t.exit(h),v(T)):T===null||T===60||xe(T)?a(T):(t.consume(T),T===92?j:b)}function j(T){return T===60||T===62||T===92?(t.consume(T),b):b(T)}function E(T){return!x&&(T===null||T===41||Qe(T))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(i),r(T)):x<m&&T===40?(t.consume(T),x++,E):T===41?(t.consume(T),x--,E):T===null||T===32||T===40||ho(T)?a(T):(t.consume(T),T===92?C:E)}function C(T){return T===40||T===41||T===92?(t.consume(T),E):E(T)}}function gx(t,r,a,i,s,u){const c=this;let h=0,p;return m;function m(b){return t.enter(i),t.enter(s),t.consume(b),t.exit(s),t.enter(u),x}function x(b){return h>999||b===null||b===91||b===93&&!p||b===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):b===93?(t.exit(u),t.enter(s),t.consume(b),t.exit(s),t.exit(i),r):xe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||xe(b)||h++>999?(t.exit("chunkString"),x(b)):(t.consume(b),p||(p=!Me(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),h++,y):y(b)}}function xx(t,r,a,i,s,u){let c;return h;function h(v){return v===34||v===39||v===40?(t.enter(i),t.enter(s),t.consume(v),t.exit(s),c=v===40?41:v,p):a(v)}function p(v){return v===c?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),r):(t.enter(u),m(v))}function m(v){return v===c?(t.exit(u),p(c)):v===null?a(v):xe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Ue(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||xe(v)?(t.exit("chunkString"),m(v)):(t.consume(v),v===92?y:x)}function y(v){return v===c||v===92?(t.consume(v),x):x(v)}}function kl(t,r){let a;return i;function i(s){return xe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a=!0,i):Me(s)?Ue(t,i,a?"linePrefix":"lineSuffix")(s):r(s)}}const Tw={name:"definition",tokenize:Rw},Cw={partial:!0,tokenize:Ow};function Rw(t,r,a){const i=this;let s;return u;function u(b){return t.enter("definition"),c(b)}function c(b){return gx.call(i,t,h,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return s=kn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):a(b)}function p(b){return Qe(b)?kl(t,m)(b):m(b)}function m(b){return px(t,x,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function x(b){return t.attempt(Cw,y,y)(b)}function y(b){return Me(b)?Ue(t,v,"whitespace")(b):v(b)}function v(b){return b===null||xe(b)?(t.exit("definition"),i.parser.defined.push(s),r(b)):a(b)}}function Ow(t,r,a){return i;function i(h){return Qe(h)?kl(t,s)(h):a(h)}function s(h){return xx(t,u,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return Me(h)?Ue(t,c,"whitespace")(h):c(h)}function c(h){return h===null||xe(h)?r(h):a(h)}}const Dw={name:"hardBreakEscape",tokenize:Lw};function Lw(t,r,a){return i;function i(u){return t.enter("hardBreakEscape"),t.consume(u),s}function s(u){return xe(u)?(t.exit("hardBreakEscape"),r(u)):a(u)}}const Mw={name:"headingAtx",resolve:zw,tokenize:Uw};function zw(t,r){let a=t.length-2,i=3,s,u;return t[i][1].type==="whitespace"&&(i+=2),a-2>i&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(i===a-1||a-4>i&&t[a-2][1].type==="whitespace")&&(a-=i+1===a?2:4),a>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[a][1].end},u={type:"chunkText",start:t[i][1].start,end:t[a][1].end,contentType:"text"},nn(t,i,a-i+1,[["enter",s,r],["enter",u,r],["exit",u,r],["exit",s,r]])),t}function Uw(t,r,a){let i=0;return s;function s(x){return t.enter("atxHeading"),u(x)}function u(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&i++<6?(t.consume(x),c):x===null||Qe(x)?(t.exit("atxHeadingSequence"),h(x)):a(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),p(x)):x===null||xe(x)?(t.exit("atxHeading"),r(x)):Me(x)?Ue(t,h,"whitespace")(x):(t.enter("atxHeadingText"),m(x))}function p(x){return x===35?(t.consume(x),p):(t.exit("atxHeadingSequence"),h(x))}function m(x){return x===null||x===35||Qe(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),m)}}const Bw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zp=["pre","script","style","textarea"],Pw={concrete:!0,name:"htmlFlow",resolveTo:Hw,tokenize:$w},qw={partial:!0,tokenize:Gw},Iw={partial:!0,tokenize:Fw};function Hw(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function $w(t,r,a){const i=this;let s,u,c,h,p;return m;function m(_){return x(_)}function x(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),y}function y(_){return _===33?(t.consume(_),v):_===47?(t.consume(_),u=!0,E):_===63?(t.consume(_),s=3,i.interrupt?r:k):Mt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function v(_){return _===45?(t.consume(_),s=2,b):_===91?(t.consume(_),s=5,h=0,j):Mt(_)?(t.consume(_),s=4,i.interrupt?r:k):a(_)}function b(_){return _===45?(t.consume(_),i.interrupt?r:k):a(_)}function j(_){const oe="CDATA[";return _===oe.charCodeAt(h++)?(t.consume(_),h===oe.length?i.interrupt?r:Y:j):a(_)}function E(_){return Mt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function C(_){if(_===null||_===47||_===62||Qe(_)){const oe=_===47,ye=c.toLowerCase();return!oe&&!u&&zp.includes(ye)?(s=1,i.interrupt?r(_):Y(_)):Bw.includes(c.toLowerCase())?(s=6,oe?(t.consume(_),T):i.interrupt?r(_):Y(_)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?a(_):u?O(_):N(_))}return _===45||Rt(_)?(t.consume(_),c+=String.fromCharCode(_),C):a(_)}function T(_){return _===62?(t.consume(_),i.interrupt?r:Y):a(_)}function O(_){return Me(_)?(t.consume(_),O):U(_)}function N(_){return _===47?(t.consume(_),U):_===58||_===95||Mt(_)?(t.consume(_),G):Me(_)?(t.consume(_),N):U(_)}function G(_){return _===45||_===46||_===58||_===95||Rt(_)?(t.consume(_),G):V(_)}function V(_){return _===61?(t.consume(_),D):Me(_)?(t.consume(_),V):N(_)}function D(_){return _===null||_===60||_===61||_===62||_===96?a(_):_===34||_===39?(t.consume(_),p=_,te):Me(_)?(t.consume(_),D):se(_)}function te(_){return _===p?(t.consume(_),p=null,ce):_===null||xe(_)?a(_):(t.consume(_),te)}function se(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Qe(_)?V(_):(t.consume(_),se)}function ce(_){return _===47||_===62||Me(_)?N(_):a(_)}function U(_){return _===62?(t.consume(_),z):a(_)}function z(_){return _===null||xe(_)?Y(_):Me(_)?(t.consume(_),z):a(_)}function Y(_){return _===45&&s===2?(t.consume(_),M):_===60&&s===1?(t.consume(_),q):_===62&&s===4?(t.consume(_),$):_===63&&s===3?(t.consume(_),k):_===93&&s===5?(t.consume(_),he):xe(_)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(qw,ee,K)(_)):_===null||xe(_)?(t.exit("htmlFlowData"),K(_)):(t.consume(_),Y)}function K(_){return t.check(Iw,W,ee)(_)}function W(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),ie}function ie(_){return _===null||xe(_)?K(_):(t.enter("htmlFlowData"),Y(_))}function M(_){return _===45?(t.consume(_),k):Y(_)}function q(_){return _===47?(t.consume(_),c="",le):Y(_)}function le(_){if(_===62){const oe=c.toLowerCase();return zp.includes(oe)?(t.consume(_),$):Y(_)}return Mt(_)&&c.length<8?(t.consume(_),c+=String.fromCharCode(_),le):Y(_)}function he(_){return _===93?(t.consume(_),k):Y(_)}function k(_){return _===62?(t.consume(_),$):_===45&&s===2?(t.consume(_),k):Y(_)}function $(_){return _===null||xe(_)?(t.exit("htmlFlowData"),ee(_)):(t.consume(_),$)}function ee(_){return t.exit("htmlFlow"),r(_)}}function Fw(t,r,a){const i=this;return s;function s(c){return xe(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):a(c)}function u(c){return i.parser.lazy[i.now().line]?a(c):r(c)}}function Gw(t,r,a){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Dl,r,a)}}const Yw={name:"htmlText",tokenize:Vw};function Vw(t,r,a){const i=this;let s,u,c;return h;function h(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),p}function p(k){return k===33?(t.consume(k),m):k===47?(t.consume(k),V):k===63?(t.consume(k),N):Mt(k)?(t.consume(k),se):a(k)}function m(k){return k===45?(t.consume(k),x):k===91?(t.consume(k),u=0,j):Mt(k)?(t.consume(k),O):a(k)}function x(k){return k===45?(t.consume(k),b):a(k)}function y(k){return k===null?a(k):k===45?(t.consume(k),v):xe(k)?(c=y,q(k)):(t.consume(k),y)}function v(k){return k===45?(t.consume(k),b):y(k)}function b(k){return k===62?M(k):k===45?v(k):y(k)}function j(k){const $="CDATA[";return k===$.charCodeAt(u++)?(t.consume(k),u===$.length?E:j):a(k)}function E(k){return k===null?a(k):k===93?(t.consume(k),C):xe(k)?(c=E,q(k)):(t.consume(k),E)}function C(k){return k===93?(t.consume(k),T):E(k)}function T(k){return k===62?M(k):k===93?(t.consume(k),T):E(k)}function O(k){return k===null||k===62?M(k):xe(k)?(c=O,q(k)):(t.consume(k),O)}function N(k){return k===null?a(k):k===63?(t.consume(k),G):xe(k)?(c=N,q(k)):(t.consume(k),N)}function G(k){return k===62?M(k):N(k)}function V(k){return Mt(k)?(t.consume(k),D):a(k)}function D(k){return k===45||Rt(k)?(t.consume(k),D):te(k)}function te(k){return xe(k)?(c=te,q(k)):Me(k)?(t.consume(k),te):M(k)}function se(k){return k===45||Rt(k)?(t.consume(k),se):k===47||k===62||Qe(k)?ce(k):a(k)}function ce(k){return k===47?(t.consume(k),M):k===58||k===95||Mt(k)?(t.consume(k),U):xe(k)?(c=ce,q(k)):Me(k)?(t.consume(k),ce):M(k)}function U(k){return k===45||k===46||k===58||k===95||Rt(k)?(t.consume(k),U):z(k)}function z(k){return k===61?(t.consume(k),Y):xe(k)?(c=z,q(k)):Me(k)?(t.consume(k),z):ce(k)}function Y(k){return k===null||k===60||k===61||k===62||k===96?a(k):k===34||k===39?(t.consume(k),s=k,K):xe(k)?(c=Y,q(k)):Me(k)?(t.consume(k),Y):(t.consume(k),W)}function K(k){return k===s?(t.consume(k),s=void 0,ie):k===null?a(k):xe(k)?(c=K,q(k)):(t.consume(k),K)}function W(k){return k===null||k===34||k===39||k===60||k===61||k===96?a(k):k===47||k===62||Qe(k)?ce(k):(t.consume(k),W)}function ie(k){return k===47||k===62||Qe(k)?ce(k):a(k)}function M(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),r):a(k)}function q(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),le}function le(k){return Me(k)?Ue(t,he,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):he(k)}function he(k){return t.enter("htmlTextData"),c(k)}}const Zd={name:"labelEnd",resolveAll:Zw,resolveTo:Jw,tokenize:Ww},Qw={tokenize:ek},Xw={tokenize:tk},Kw={tokenize:nk};function Zw(t){let r=-1;const a=[];for(;++r<t.length;){const i=t[r][1];if(a.push(t[r]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",r+=s}}return t.length!==a.length&&nn(t,0,t.length,a),t}function Jw(t,r){let a=t.length,i=0,s,u,c,h;for(;a--;)if(s=t[a][1],u){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[a][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(t[a][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(u=a,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=a);const p={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[u+i+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",p,r],["enter",m,r]],h=mn(h,t.slice(u+1,u+i+3)),h=mn(h,[["enter",x,r]]),h=mn(h,wo(r.parser.constructs.insideSpan.null,t.slice(u+i+4,c-3),r)),h=mn(h,[["exit",x,r],t[c-2],t[c-1],["exit",m,r]]),h=mn(h,t.slice(c+1)),h=mn(h,[["exit",p,r]]),nn(t,u,t.length,h),t}function Ww(t,r,a){const i=this;let s=i.events.length,u,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){u=i.events[s][1];break}return h;function h(v){return u?u._inactive?y(v):(c=i.parser.defined.includes(kn(i.sliceSerialize({start:u.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),p):a(v)}function p(v){return v===40?t.attempt(Qw,x,c?x:y)(v):v===91?t.attempt(Xw,x,c?m:y)(v):c?x(v):y(v)}function m(v){return t.attempt(Kw,x,y)(v)}function x(v){return r(v)}function y(v){return u._balanced=!0,a(v)}}function ek(t,r,a){return i;function i(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Qe(y)?kl(t,u)(y):u(y)}function u(y){return y===41?x(y):px(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Qe(y)?kl(t,p)(y):x(y)}function h(y){return a(y)}function p(y){return y===34||y===39||y===40?xx(t,m,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function m(y){return Qe(y)?kl(t,x)(y):x(y)}function x(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),r):a(y)}}function tk(t,r,a){const i=this;return s;function s(h){return gx.call(i,t,u,c,"reference","referenceMarker","referenceString")(h)}function u(h){return i.parser.defined.includes(kn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?r(h):a(h)}function c(h){return a(h)}}function nk(t,r,a){return i;function i(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),s}function s(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),r):a(u)}}const rk={name:"labelStartImage",resolveAll:Zd.resolveAll,tokenize:ak};function ak(t,r,a){const i=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),u}function u(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):a(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(h):r(h)}}const ik={name:"labelStartLink",resolveAll:Zd.resolveAll,tokenize:lk};function lk(t,r,a){const i=this;return s;function s(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(c):r(c)}}const Yc={name:"lineEnding",tokenize:sk};function sk(t,r){return a;function a(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ue(t,r,"linePrefix")}}const oo={name:"thematicBreak",tokenize:ok};function ok(t,r,a){let i=0,s;return u;function u(m){return t.enter("thematicBreak"),c(m)}function c(m){return s=m,h(m)}function h(m){return m===s?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||xe(m))?(t.exit("thematicBreak"),r(m)):a(m)}function p(m){return m===s?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),Me(m)?Ue(t,h,"whitespace")(m):h(m))}}const It={continuation:{tokenize:fk},exit:mk,name:"list",tokenize:dk},uk={partial:!0,tokenize:pk},ck={partial:!0,tokenize:hk};function dk(t,r,a){const i=this,s=i.events[i.events.length-1];let u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return h;function h(b){const j=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Ed(b)){if(i.containerState.type||(i.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(oo,a,m)(b):m(b);if(!i.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return a(b)}function p(b){return Ed(b)&&++c<10?(t.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):a(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,t.check(Dl,i.interrupt?a:x,t.attempt(uk,v,y))}function x(b){return i.containerState.initialBlankLine=!0,u++,v(b)}function y(b){return Me(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):a(b)}function v(b){return i.containerState.size=u+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(b)}}function fk(t,r,a){const i=this;return i.containerState._closeFlow=void 0,t.check(Dl,s,u);function s(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ue(t,r,"listItemIndent",i.containerState.size+1)(h)}function u(h){return i.containerState.furtherBlankLines||!Me(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(ck,r,c)(h))}function c(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ue(t,t.attempt(It,r,a),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function hk(t,r,a){const i=this;return Ue(t,s,"listItemIndent",i.containerState.size+1);function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?r(u):a(u)}}function mk(t){t.exit(this.containerState.type)}function pk(t,r,a){const i=this;return Ue(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(u){const c=i.events[i.events.length-1];return!Me(u)&&c&&c[1].type==="listItemPrefixWhitespace"?r(u):a(u)}}const Up={name:"setextUnderline",resolveTo:gk,tokenize:xk};function gk(t,r){let a=t.length,i,s,u;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){i=a;break}t[a][1].type==="paragraph"&&(s=a)}else t[a][1].type==="content"&&t.splice(a,1),!u&&t[a][1].type==="definition"&&(u=a);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",u?(t.splice(s,0,["enter",c,r]),t.splice(u+1,0,["exit",t[i][1],r]),t[i][1].end={...t[u][1].end}):t[i][1]=c,t.push(["exit",c,r]),t}function xk(t,r,a){const i=this;let s;return u;function u(m){let x=i.events.length,y;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){y=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(t.enter("setextHeadingLine"),s=m,c(m)):a(m)}function c(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===s?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),Me(m)?Ue(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||xe(m)?(t.exit("setextHeadingLine"),r(m)):a(m)}}const yk={tokenize:bk};function bk(t){const r=this,a=t.attempt(Dl,i,t.attempt(this.parser.constructs.flowInitial,s,Ue(t,t.attempt(this.parser.constructs.flow,s,t.attempt(jw,s)),"linePrefix")));return a;function i(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),r.currentConstruct=void 0,a}function s(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),r.currentConstruct=void 0,a}}const vk={resolveAll:bx()},wk=yx("string"),kk=yx("text");function yx(t){return{resolveAll:bx(t==="text"?Sk:void 0),tokenize:r};function r(a){const i=this,s=this.parser.constructs[t],u=a.attempt(s,c,h);return c;function c(x){return m(x)?u(x):h(x)}function h(x){if(x===null){a.consume(x);return}return a.enter("data"),a.consume(x),p}function p(x){return m(x)?(a.exit("data"),u(x)):(a.consume(x),p)}function m(x){if(x===null)return!0;const y=s[x];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function bx(t){return r;function r(a,i){let s=-1,u;for(;++s<=a.length;)u===void 0?a[s]&&a[s][1].type==="data"&&(u=s,s++):(!a[s]||a[s][1].type!=="data")&&(s!==u+2&&(a[u][1].end=a[s-1][1].end,a.splice(u+2,s-u-2),s=u+2),u=void 0);return t?t(a,i):a}}function Sk(t,r){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const i=t[a-1][1],s=r.sliceStream(i);let u=s.length,c=-1,h=0,p;for(;u--;){const m=s[u];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)p=!0,h++;else if(m!==-1){u++;break}}if(r._contentTypeTextTrailing&&a===t.length&&(h=0),h){const m={type:a===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:i.start._bufferIndex+c,_index:i.start._index+u,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(a,0,["enter",m,r],["exit",m,r]),a+=2)}a++}return t}const jk={42:It,43:It,45:It,48:It,49:It,50:It,51:It,52:It,53:It,54:It,55:It,56:It,57:It,62:dx},_k={91:Tw},Ek={[-2]:Gc,[-1]:Gc,32:Gc},Nk={35:Mw,42:oo,45:[Up,oo],60:Pw,61:Up,95:oo,96:Mp,126:Mp},Ak={38:hx,92:fx},Tk={[-5]:Yc,[-4]:Yc,[-3]:Yc,33:rk,38:hx,42:Nd,60:[iw,Yw],91:ik,92:[Dw,fx],93:Zd,95:Nd,96:yw},Ck={null:[Nd,vk]},Rk={null:[42,95]},Ok={null:[]},Dk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rk,contentInitial:_k,disable:Ok,document:jk,flow:Nk,flowInitial:Ek,insideSpan:Ck,string:Ak,text:Tk},Symbol.toStringTag,{value:"Module"}));function Lk(t,r,a){let i={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const s={},u=[];let c=[],h=[];const p={attempt:te(V),check:te(D),consume:O,enter:N,exit:G,interrupt:te(D,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let x=r.tokenize.call(m,p);return r.resolveAll&&u.push(r),m;function y(z){return c=mn(c,z),C(),c[c.length-1]!==null?[]:(se(r,0),m.events=wo(u,m.events,m),m.events)}function v(z,Y){return zk(b(z),Y)}function b(z){return Mk(c,z)}function j(){const{_bufferIndex:z,_index:Y,line:K,column:W,offset:ie}=i;return{_bufferIndex:z,_index:Y,line:K,column:W,offset:ie}}function E(z){s[z.line]=z.column,U()}function C(){let z;for(;i._index<c.length;){const Y=c[i._index];if(typeof Y=="string")for(z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===z&&i._bufferIndex<Y.length;)T(Y.charCodeAt(i._bufferIndex));else T(Y)}}function T(z){x=x(z)}function O(z){xe(z)?(i.line++,i.column=1,i.offset+=z===-3?2:1,U()):z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=z}function N(z,Y){const K=Y||{};return K.type=z,K.start=j(),m.events.push(["enter",K,m]),h.push(K),K}function G(z){const Y=h.pop();return Y.end=j(),m.events.push(["exit",Y,m]),Y}function V(z,Y){se(z,Y.from)}function D(z,Y){Y.restore()}function te(z,Y){return K;function K(W,ie,M){let q,le,he,k;return Array.isArray(W)?ee(W):"tokenize"in W?ee([W]):$(W);function $(ue){return Ie;function Ie(Ce){const rt=Ce!==null&&ue[Ce],at=Ce!==null&&ue.null,Nt=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(at)?at:at?[at]:[]];return ee(Nt)(Ce)}}function ee(ue){return q=ue,le=0,ue.length===0?M:_(ue[le])}function _(ue){return Ie;function Ie(Ce){return k=ce(),he=ue,ue.partial||(m.currentConstruct=ue),ue.name&&m.parser.constructs.disable.null.includes(ue.name)?ye():ue.tokenize.call(Y?Object.assign(Object.create(m),Y):m,p,oe,ye)(Ce)}}function oe(ue){return z(he,k),ie}function ye(ue){return k.restore(),++le<q.length?_(q[le]):M}}}function se(z,Y){z.resolveAll&&!u.includes(z)&&u.push(z),z.resolve&&nn(m.events,Y,m.events.length-Y,z.resolve(m.events.slice(Y),m)),z.resolveTo&&(m.events=z.resolveTo(m.events,m))}function ce(){const z=j(),Y=m.previous,K=m.currentConstruct,W=m.events.length,ie=Array.from(h);return{from:W,restore:M};function M(){i=z,m.previous=Y,m.currentConstruct=K,m.events.length=W,h=ie,U()}}function U(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Mk(t,r){const a=r.start._index,i=r.start._bufferIndex,s=r.end._index,u=r.end._bufferIndex;let c;if(a===s)c=[t[a].slice(i,u)];else{if(c=t.slice(a,s),i>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(i):c.shift()}u>0&&c.push(t[s].slice(0,u))}return c}function zk(t,r){let a=-1;const i=[];let s;for(;++a<t.length;){const u=t[a];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=r?" ":"	";break}case-1:{if(!r&&s)continue;c=" ";break}default:c=String.fromCharCode(u)}s=u===-2,i.push(c)}return i.join("")}function Uk(t){const i={constructs:ux([Dk,...(t||{}).extensions||[]]),content:s(J1),defined:[],document:s(ew),flow:s(yk),lazy:{},string:s(wk),text:s(kk)};return i;function s(u){return c;function c(h){return Lk(i,u,h)}}}function Bk(t){for(;!mx(t););return t}const Bp=/[\0\t\n\r]/g;function Pk(){let t=1,r="",a=!0,i;return s;function s(u,c,h){const p=[];let m,x,y,v,b;for(u=r+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),y=0,r="",a&&(u.charCodeAt(0)===65279&&y++,a=void 0);y<u.length;){if(Bp.lastIndex=y,m=Bp.exec(u),v=m&&m.index!==void 0?m.index:u.length,b=u.charCodeAt(v),!m){r=u.slice(y);break}if(b===10&&y===v&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),y<v&&(p.push(u.slice(y,v)),t+=v-y),b){case 0:{p.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,p.push(-2);t++<x;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}y=v+1}return h&&(i&&p.push(-5),r&&p.push(r),p.push(null)),p}}const qk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ik(t){return t.replace(qk,Hk)}function Hk(t,r,a){if(r)return r;if(a.charCodeAt(0)===35){const s=a.charCodeAt(1),u=s===120||s===88;return cx(a.slice(u?2:1),u?16:10)}return Kd(a)||t}const vx={}.hasOwnProperty;function $k(t,r,a){return typeof r!="string"&&(a=r,r=void 0),Fk(a)(Bk(Uk(a).document().write(Pk()(t,r,!0))))}function Fk(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Mr),autolinkProtocol:ce,autolinkEmail:ce,atxHeading:u(Kn),blockQuote:u(at),characterEscape:ce,characterReference:ce,codeFenced:u(Nt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(Nt,c),codeText:u(Se,c),codeTextData:ce,data:ce,codeFlowValue:ce,definition:u(ut),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(St),hardBreakEscape:u(Zn),hardBreakTrailing:u(Zn),htmlFlow:u(it,c),htmlFlowData:ce,htmlText:u(it,c),htmlTextData:ce,image:u(hi),label:c,link:u(Mr),listItem:u(Jn),listItemValue:v,listOrdered:u(zr,y),listUnordered:u(zr),paragraph:u(mi),reference:_,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Kn),strong:u(oa),thematicBreak:u(er)},exit:{atxHeading:p(),atxHeadingSequence:V,autolink:p(),autolinkEmail:rt,autolinkProtocol:Ce,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:ue,characterReference:Ie,codeFenced:p(C),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:j,codeFlowValue:U,codeIndented:p(T),codeText:p(ie),codeTextData:U,data:U,definition:p(),definitionDestinationString:G,definitionLabelString:O,definitionTitleString:N,emphasis:p(),hardBreakEscape:p(Y),hardBreakTrailing:p(Y),htmlFlow:p(K),htmlFlowData:U,htmlText:p(W),htmlTextData:U,image:p(q),label:he,labelText:le,lineEnding:z,link:p(M),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:oe,resourceDestinationString:k,resourceTitleString:$,resource:ee,setextHeading:p(se),setextHeadingLineSequence:te,setextHeadingText:D,strong:p(),thematicBreak:p()}};wx(r,(t||{}).mdastExtensions||[]);const a={};return i;function i(Q){let re={type:"root",children:[]};const ge={stack:[re],tokenStack:[],config:r,enter:h,exit:m,buffer:c,resume:x,data:a},be=[];let Be=-1;for(;++Be<Q.length;)if(Q[Be][1].type==="listOrdered"||Q[Be][1].type==="listUnordered")if(Q[Be][0]==="enter")be.push(Be);else{const Dt=be.pop();Be=s(Q,Dt,Be)}for(Be=-1;++Be<Q.length;){const Dt=r[Q[Be][0]];vx.call(Dt,Q[Be][1].type)&&Dt[Q[Be][1].type].call(Object.assign({sliceSerialize:Q[Be][2].sliceSerialize},ge),Q[Be][1])}if(ge.tokenStack.length>0){const Dt=ge.tokenStack[ge.tokenStack.length-1];(Dt[1]||Pp).call(ge,void 0,Dt[0])}for(re.position={start:Er(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:Er(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<r.transforms.length;)re=r.transforms[Be](re)||re;return re}function s(Q,re,ge){let be=re-1,Be=-1,Dt=!1,pn,ne,fe,je;for(;++be<=ge;){const pe=Q[be];switch(pe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pe[0]==="enter"?Be++:Be--,je=void 0;break}case"lineEndingBlank":{pe[0]==="enter"&&(pn&&!je&&!Be&&!fe&&(fe=be),je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:je=void 0}if(!Be&&pe[0]==="enter"&&pe[1].type==="listItemPrefix"||Be===-1&&pe[0]==="exit"&&(pe[1].type==="listUnordered"||pe[1].type==="listOrdered")){if(pn){let _e=be;for(ne=void 0;_e--;){const pt=Q[_e];if(pt[1].type==="lineEnding"||pt[1].type==="lineEndingBlank"){if(pt[0]==="exit")continue;ne&&(Q[ne][1].type="lineEndingBlank",Dt=!0),pt[1].type="lineEnding",ne=_e}else if(!(pt[1].type==="linePrefix"||pt[1].type==="blockQuotePrefix"||pt[1].type==="blockQuotePrefixWhitespace"||pt[1].type==="blockQuoteMarker"||pt[1].type==="listItemIndent"))break}fe&&(!ne||fe<ne)&&(pn._spread=!0),pn.end=Object.assign({},ne?Q[ne][1].start:pe[1].end),Q.splice(ne||be,0,["exit",pn,pe[2]]),be++,ge++}if(pe[1].type==="listItemPrefix"){const _e={type:"listItem",_spread:!1,start:Object.assign({},pe[1].start),end:void 0};pn=_e,Q.splice(be,0,["enter",_e,pe[2]]),be++,ge++,fe=void 0,je=!0}}}return Q[re][1]._spread=Dt,ge}function u(Q,re){return ge;function ge(be){h.call(this,Q(be),be),re&&re.call(this,be)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(Q,re,ge){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([re,ge||void 0]),Q.position={start:Er(re.start),end:void 0}}function p(Q){return re;function re(ge){Q&&Q.call(this,ge),m.call(this,ge)}}function m(Q,re){const ge=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==Q.type&&(re?re.call(this,Q,be[0]):(be[1]||Pp).call(this,Q,be[0]));else throw new Error("Cannot close `"+Q.type+"` ("+wl({start:Q.start,end:Q.end})+"): its not open");ge.position.end=Er(Q.end)}function x(){return Xd(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(Q){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function b(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.lang=Q}function j(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.meta=Q}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.value=Q.replace(/(\r?\n|\r)$/g,"")}function O(Q){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=kn(this.sliceSerialize(Q)).toLowerCase()}function N(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.title=Q}function G(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.url=Q}function V(Q){const re=this.stack[this.stack.length-1];if(!re.depth){const ge=this.sliceSerialize(Q).length;re.depth=ge}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function te(Q){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function ce(Q){const ge=this.stack[this.stack.length-1].children;let be=ge[ge.length-1];(!be||be.type!=="text")&&(be=Wn(),be.position={start:Er(Q.start),end:void 0},ge.push(be)),this.stack.push(be)}function U(Q){const re=this.stack.pop();re.value+=this.sliceSerialize(Q),re.position.end=Er(Q.end)}function z(Q){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=re.children[re.children.length-1];ge.position.end=Er(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(re.type)&&(ce.call(this,Q),U.call(this,Q))}function Y(){this.data.atHardBreak=!0}function K(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.value=Q}function W(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.value=Q}function ie(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.value=Q}function M(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=re,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function q(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=re,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function le(Q){const re=this.sliceSerialize(Q),ge=this.stack[this.stack.length-2];ge.label=Ik(re),ge.identifier=kn(re).toLowerCase()}function he(){const Q=this.stack[this.stack.length-1],re=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const be=Q.children;ge.children=be}else ge.alt=re}function k(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.url=Q}function $(){const Q=this.resume(),re=this.stack[this.stack.length-1];re.title=Q}function ee(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function oe(Q){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=kn(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function ye(Q){this.data.characterReferenceType=Q.type}function ue(Q){const re=this.sliceSerialize(Q),ge=this.data.characterReferenceType;let be;ge?(be=cx(re,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Kd(re);const Be=this.stack[this.stack.length-1];Be.value+=be}function Ie(Q){const re=this.stack.pop();re.position.end=Er(Q.end)}function Ce(Q){U.call(this,Q);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(Q)}function rt(Q){U.call(this,Q);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(Q)}function at(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function ut(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function St(){return{type:"emphasis",children:[]}}function Kn(){return{type:"heading",depth:0,children:[]}}function Zn(){return{type:"break"}}function it(){return{type:"html",value:""}}function hi(){return{type:"image",title:null,url:"",alt:null}}function Mr(){return{type:"link",title:null,url:"",children:[]}}function zr(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function Jn(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function mi(){return{type:"paragraph",children:[]}}function oa(){return{type:"strong",children:[]}}function Wn(){return{type:"text",value:""}}function er(){return{type:"thematicBreak"}}}function Er(t){return{line:t.line,column:t.column,offset:t.offset}}function wx(t,r){let a=-1;for(;++a<r.length;){const i=r[a];Array.isArray(i)?wx(t,i):Gk(t,i)}}function Gk(t,r){let a;for(a in r)if(vx.call(r,a))switch(a){case"canContainEols":{const i=r[a];i&&t[a].push(...i);break}case"transforms":{const i=r[a];i&&t[a].push(...i);break}case"enter":case"exit":{const i=r[a];i&&Object.assign(t[a],i);break}}}function Pp(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+wl({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+wl({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+wl({start:r.start,end:r.end})+") is still open")}function Yk(t){const r=this;r.parser=a;function a(i){return $k(i,{...r.data("settings"),...t,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}function Vk(t,r){const a={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,a),t.applyData(r,a)}function Qk(t,r){const a={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,a),[t.applyData(r,a),{type:"text",value:`
`}]}function Xk(t,r){const a=r.value?r.value+`
`:"",i={};r.lang&&(i.className=["language-"+r.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:a}]};return r.meta&&(s.data={meta:r.meta}),t.patch(r,s),s=t.applyData(r,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(r,s),s}function Kk(t,r){const a={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Zk(t,r){const a={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Jk(t,r){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(r.identifier).toUpperCase(),s=di(i.toLowerCase()),u=t.footnoteOrder.indexOf(i);let c,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=u+1,h+=1,t.footnoteCounts.set(i,h);const p={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+s,id:a+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(r,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(r,m),t.applyData(r,m)}function Wk(t,r){const a={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function e2(t,r){if(t.options.allowDangerousHtml){const a={type:"raw",value:r.value};return t.patch(r,a),t.applyData(r,a)}}function kx(t,r){const a=r.referenceType;let i="]";if(a==="collapsed"?i+="[]":a==="full"&&(i+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return[{type:"text",value:"!["+r.alt+i}];const s=t.all(r),u=s[0];u&&u.type==="text"?u.value="["+u.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function t2(t,r){const a=String(r.identifier).toUpperCase(),i=t.definitionById.get(a);if(!i)return kx(t,r);const s={src:di(i.url||""),alt:r.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const u={type:"element",tagName:"img",properties:s,children:[]};return t.patch(r,u),t.applyData(r,u)}function n2(t,r){const a={src:di(r.url)};r.alt!==null&&r.alt!==void 0&&(a.alt=r.alt),r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(r,i),t.applyData(r,i)}function r2(t,r){const a={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,a);const i={type:"element",tagName:"code",properties:{},children:[a]};return t.patch(r,i),t.applyData(r,i)}function a2(t,r){const a=String(r.identifier).toUpperCase(),i=t.definitionById.get(a);if(!i)return kx(t,r);const s={href:di(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const u={type:"element",tagName:"a",properties:s,children:t.all(r)};return t.patch(r,u),t.applyData(r,u)}function i2(t,r){const a={href:di(r.url)};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(r)};return t.patch(r,i),t.applyData(r,i)}function l2(t,r,a){const i=t.all(r),s=a?s2(a):Sx(r),u={},c=[];if(typeof r.checked=="boolean"){const x=i[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const x=i[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?c.push(...x.children):c.push(x)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:u,children:c};return t.patch(r,m),t.applyData(r,m)}function s2(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const a=t.children;let i=-1;for(;!r&&++i<a.length;)r=Sx(a[i])}return r}function Sx(t){const r=t.spread;return r??t.children.length>1}function o2(t,r){const a={},i=t.all(r);let s=-1;for(typeof r.start=="number"&&r.start!==1&&(a.start=r.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const u={type:"element",tagName:r.ordered?"ol":"ul",properties:a,children:t.wrap(i,!0)};return t.patch(r,u),t.applyData(r,u)}function u2(t,r){const a={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function c2(t,r){const a={type:"root",children:t.wrap(t.all(r))};return t.patch(r,a),t.applyData(r,a)}function d2(t,r){const a={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function f2(t,r){const a=t.all(r),i=a.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(r.children[0],c),s.push(c)}if(a.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(a,!0)},h=Gd(r.children[1]),p=nx(r.children[r.children.length-1]);h&&p&&(c.position={start:h,end:p}),s.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(r,u),t.applyData(r,u)}function h2(t,r,a){const i=a?a.children:void 0,u=(i?i.indexOf(r):1)===0?"th":"td",c=a&&a.type==="table"?a.align:void 0,h=c?c.length:r.children.length;let p=-1;const m=[];for(;++p<h;){const y=r.children[p],v={},b=c?c[p]:void 0;b&&(v.align=b);let j={type:"element",tagName:u,properties:v,children:[]};y&&(j.children=t.all(y),t.patch(y,j),j=t.applyData(y,j)),m.push(j)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(r,x),t.applyData(r,x)}function m2(t,r){const a={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}const qp=9,Ip=32;function p2(t){const r=String(t),a=/\r?\n|\r/g;let i=a.exec(r),s=0;const u=[];for(;i;)u.push(Hp(r.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=a.exec(r);return u.push(Hp(r.slice(s),s>0,!1)),u.join("")}function Hp(t,r,a){let i=0,s=t.length;if(r){let u=t.codePointAt(i);for(;u===qp||u===Ip;)i++,u=t.codePointAt(i)}if(a){let u=t.codePointAt(s-1);for(;u===qp||u===Ip;)s--,u=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function g2(t,r){const a={type:"text",value:p2(String(r.value))};return t.patch(r,a),t.applyData(r,a)}function x2(t,r){const a={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,a),t.applyData(r,a)}const y2={blockquote:Vk,break:Qk,code:Xk,delete:Kk,emphasis:Zk,footnoteReference:Jk,heading:Wk,html:e2,imageReference:t2,image:n2,inlineCode:r2,linkReference:a2,link:i2,listItem:l2,list:o2,paragraph:u2,root:c2,strong:d2,table:f2,tableCell:m2,tableRow:h2,text:g2,thematicBreak:x2,toml:Xs,yaml:Xs,definition:Xs,footnoteDefinition:Xs};function Xs(){}const jx=-1,ko=0,Sl=1,mo=2,Jd=3,Wd=4,ef=5,tf=6,_x=7,Ex=8,$p=typeof self=="object"?self:globalThis,b2=(t,r)=>{const a=(s,u)=>(t.set(u,s),s),i=s=>{if(t.has(s))return t.get(s);const[u,c]=r[s];switch(u){case ko:case jx:return a(c,s);case Sl:{const h=a([],s);for(const p of c)h.push(i(p));return h}case mo:{const h=a({},s);for(const[p,m]of c)h[i(p)]=i(m);return h}case Jd:return a(new Date(c),s);case Wd:{const{source:h,flags:p}=c;return a(new RegExp(h,p),s)}case ef:{const h=a(new Map,s);for(const[p,m]of c)h.set(i(p),i(m));return h}case tf:{const h=a(new Set,s);for(const p of c)h.add(i(p));return h}case _x:{const{name:h,message:p}=c;return a(new $p[h](p),s)}case Ex:return a(BigInt(c),s);case"BigInt":return a(Object(BigInt(c)),s);case"ArrayBuffer":return a(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return a(new DataView(h),c)}}return a(new $p[u](c),s)};return i},Fp=t=>b2(new Map,t)(0),Qa="",{toString:v2}={},{keys:w2}=Object,yl=t=>{const r=typeof t;if(r!=="object"||!t)return[ko,r];const a=v2.call(t).slice(8,-1);switch(a){case"Array":return[Sl,Qa];case"Object":return[mo,Qa];case"Date":return[Jd,Qa];case"RegExp":return[Wd,Qa];case"Map":return[ef,Qa];case"Set":return[tf,Qa];case"DataView":return[Sl,a]}return a.includes("Array")?[Sl,a]:a.includes("Error")?[_x,a]:[mo,a]},Ks=([t,r])=>t===ko&&(r==="function"||r==="symbol"),k2=(t,r,a,i)=>{const s=(c,h)=>{const p=i.push(c)-1;return a.set(h,p),p},u=c=>{if(a.has(c))return a.get(c);let[h,p]=yl(c);switch(h){case ko:{let x=c;switch(p){case"bigint":h=Ex,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return s([jx],c)}return s([h,x],c)}case Sl:{if(p){let v=c;return p==="DataView"?v=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(v=new Uint8Array(c)),s([p,[...v]],c)}const x=[],y=s([h,x],c);for(const v of c)x.push(u(v));return y}case mo:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(r&&"toJSON"in c)return u(c.toJSON());const x=[],y=s([h,x],c);for(const v of w2(c))(t||!Ks(yl(c[v])))&&x.push([u(v),u(c[v])]);return y}case Jd:return s([h,c.toISOString()],c);case Wd:{const{source:x,flags:y}=c;return s([h,{source:x,flags:y}],c)}case ef:{const x=[],y=s([h,x],c);for(const[v,b]of c)(t||!(Ks(yl(v))||Ks(yl(b))))&&x.push([u(v),u(b)]);return y}case tf:{const x=[],y=s([h,x],c);for(const v of c)(t||!Ks(yl(v)))&&x.push(u(v));return y}}const{message:m}=c;return s([h,{name:p,message:m}],c)};return u},Gp=(t,{json:r,lossy:a}={})=>{const i=[];return k2(!(r||a),!!r,new Map,i)(t),i},po=typeof structuredClone=="function"?(t,r)=>r&&("json"in r||"lossy"in r)?Fp(Gp(t,r)):structuredClone(t):(t,r)=>Fp(Gp(t,r));function S2(t,r){const a=[{type:"text",value:""}];return r>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(r)}]}),a}function j2(t,r){return"Back to reference "+(t+1)+(r>1?"-"+r:"")}function _2(t){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=t.options.footnoteBackContent||S2,i=t.options.footnoteBackLabel||j2,s=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const x=t.all(m),y=String(m.identifier).toUpperCase(),v=di(y.toLowerCase());let b=0;const j=[],E=t.footnoteCounts.get(y);for(;E!==void 0&&++b<=E;){j.length>0&&j.push({type:"text",value:" "});let O=typeof a=="string"?a:a(p,b);typeof O=="string"&&(O={type:"text",value:O}),j.push({type:"element",tagName:"a",properties:{href:"#"+r+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const C=x[x.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const O=C.children[C.children.length-1];O&&O.type==="text"?O.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...j)}else x.push(...j);const T={type:"element",tagName:"li",properties:{id:r+"fn-"+v},children:t.wrap(x,!0)};t.patch(m,T),h.push(T)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...po(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const So=function(t){if(t==null)return T2;if(typeof t=="function")return jo(t);if(typeof t=="object")return Array.isArray(t)?E2(t):N2(t);if(typeof t=="string")return A2(t);throw new Error("Expected function, string, or object as test")};function E2(t){const r=[];let a=-1;for(;++a<t.length;)r[a]=So(t[a]);return jo(i);function i(...s){let u=-1;for(;++u<r.length;)if(r[u].apply(this,s))return!0;return!1}}function N2(t){const r=t;return jo(a);function a(i){const s=i;let u;for(u in t)if(s[u]!==r[u])return!1;return!0}}function A2(t){return jo(r);function r(a){return a&&a.type===t}}function jo(t){return r;function r(a,i,s){return!!(C2(a)&&t.call(this,a,typeof i=="number"?i:void 0,s||void 0))}}function T2(){return!0}function C2(t){return t!==null&&typeof t=="object"&&"type"in t}const Nx=[],R2=!0,Ad=!1,O2="skip";function Ax(t,r,a,i){let s;typeof r=="function"&&typeof a!="function"?(i=a,a=r):s=r;const u=So(s),c=i?-1:1;h(t,void 0,[])();function h(p,m,x){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=Nx,j,E,C;if((!r||u(p,m,x[x.length-1]||void 0))&&(b=D2(a(p,x)),b[0]===Ad))return b;if("children"in p&&p.children){const T=p;if(T.children&&b[0]!==O2)for(E=(i?T.children.length:-1)+c,C=x.concat(T);E>-1&&E<T.children.length;){const O=T.children[E];if(j=h(O,E,C)(),j[0]===Ad)return j;E=typeof j[1]=="number"?j[1]:E+c}}return b}}}function D2(t){return Array.isArray(t)?t:typeof t=="number"?[R2,t]:t==null?Nx:[t]}function nf(t,r,a,i){let s,u,c;typeof r=="function"&&typeof a!="function"?(u=void 0,c=r,s=a):(u=r,c=a,s=i),Ax(t,u,h,s);function h(p,m){const x=m[m.length-1],y=x?x.children.indexOf(p):void 0;return c(p,y,x)}}const Td={}.hasOwnProperty,L2={};function M2(t,r){const a=r||L2,i=new Map,s=new Map,u=new Map,c={...y2,...a.handlers},h={all:m,applyData:U2,definitionById:i,footnoteById:s,footnoteCounts:u,footnoteOrder:[],handlers:c,one:p,options:a,patch:z2,wrap:P2};return nf(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?i:s,v=String(x.identifier).toUpperCase();y.has(v)||y.set(v,x)}}),h;function p(x,y){const v=x.type,b=h.handlers[v];if(Td.call(h.handlers,v)&&b)return b(h,x,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in x){const{children:E,...C}=x,T=po(C);return T.children=h.all(x),T}return po(x)}return(h.options.unknownHandler||B2)(h,x,y)}function m(x){const y=[];if("children"in x){const v=x.children;let b=-1;for(;++b<v.length;){const j=h.one(v[b],x);if(j){if(b&&v[b-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=Yp(j.value)),!Array.isArray(j)&&j.type==="element")){const E=j.children[0];E&&E.type==="text"&&(E.value=Yp(E.value))}Array.isArray(j)?y.push(...j):y.push(j)}}}return y}}function z2(t,r){t.position&&(r.position=j1(t))}function U2(t,r){let a=r;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,u=t.data.hProperties;if(typeof i=="string")if(a.type==="element")a.tagName=i;else{const c="children"in a?a.children:[a];a={type:"element",tagName:i,properties:{},children:c}}a.type==="element"&&u&&Object.assign(a.properties,po(u)),"children"in a&&a.children&&s!==null&&s!==void 0&&(a.children=s)}return a}function B2(t,r){const a=r.data||{},i="value"in r&&!(Td.call(a,"hProperties")||Td.call(a,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:t.all(r)};return t.patch(r,i),t.applyData(r,i)}function P2(t,r){const a=[];let i=-1;for(r&&a.push({type:"text",value:`
`});++i<t.length;)i&&a.push({type:"text",value:`
`}),a.push(t[i]);return r&&t.length>0&&a.push({type:"text",value:`
`}),a}function Yp(t){let r=0,a=t.charCodeAt(r);for(;a===9||a===32;)r++,a=t.charCodeAt(r);return t.slice(r)}function Vp(t,r){const a=M2(t,r),i=a.one(t,void 0),s=_2(a),u=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&u.children.push({type:"text",value:`
`},s),u}function q2(t,r){return t&&"run"in t?async function(a,i){const s=Vp(a,{file:i,...r});await t.run(s,i)}:function(a,i){return Vp(a,{file:i,...t||r})}}function Qp(t){if(t)throw t}var Vc,Xp;function I2(){if(Xp)return Vc;Xp=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):r.call(m)==="[object Array]"},u=function(m){if(!m||r.call(m)!=="[object Object]")return!1;var x=t.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!x&&!y)return!1;var v;for(v in m);return typeof v>"u"||t.call(m,v)},c=function(m,x){a&&x.name==="__proto__"?a(m,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):m[x.name]=x.newValue},h=function(m,x){if(x==="__proto__")if(t.call(m,x)){if(i)return i(m,x).value}else return;return m[x]};return Vc=function p(){var m,x,y,v,b,j,E=arguments[0],C=1,T=arguments.length,O=!1;for(typeof E=="boolean"&&(O=E,E=arguments[1]||{},C=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});C<T;++C)if(m=arguments[C],m!=null)for(x in m)y=h(E,x),v=h(m,x),E!==v&&(O&&v&&(u(v)||(b=s(v)))?(b?(b=!1,j=y&&s(y)?y:[]):j=y&&u(y)?y:{},c(E,{name:x,newValue:p(O,j,v)})):typeof v<"u"&&c(E,{name:x,newValue:v}));return E},Vc}var H2=I2();const Qc=Rl(H2);function Cd(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $2(){const t=[],r={run:a,use:i};return r;function a(...s){let u=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...s);function h(p,...m){const x=t[++u];let y=-1;if(p){c(p);return}for(;++y<s.length;)(m[y]===null||m[y]===void 0)&&(m[y]=s[y]);s=m,x?F2(x,h)(...m):c(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),r}}function F2(t,r){let a;return i;function i(...c){const h=t.length>c.length;let p;h&&c.push(s);try{p=t.apply(this,c)}catch(m){const x=m;if(h&&a)throw x;return s(x)}h||(p&&p.then&&typeof p.then=="function"?p.then(u,s):p instanceof Error?s(p):u(p))}function s(c,...h){a||(a=!0,r(c,...h))}function u(c){s(null,c)}}const Cn={basename:G2,dirname:Y2,extname:V2,join:Q2,sep:"/"};function G2(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Ll(t);let a=0,i=-1,s=t.length,u;if(r===void 0||r.length===0||r.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else i<0&&(u=!0,i=s+1);return i<0?"":t.slice(a,i)}if(r===t)return"";let c=-1,h=r.length-1;for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else c<0&&(u=!0,c=s+1),h>-1&&(t.codePointAt(s)===r.codePointAt(h--)?h<0&&(i=s):(h=-1,i=c));return a===i?i=c:i<0&&(i=t.length),t.slice(a,i)}function Y2(t){if(Ll(t),t.length===0)return".";let r=-1,a=t.length,i;for(;--a;)if(t.codePointAt(a)===47){if(i){r=a;break}}else i||(i=!0);return r<0?t.codePointAt(0)===47?"/":".":r===1&&t.codePointAt(0)===47?"//":t.slice(0,r)}function V2(t){Ll(t);let r=t.length,a=-1,i=0,s=-1,u=0,c;for(;r--;){const h=t.codePointAt(r);if(h===47){if(c){i=r+1;break}continue}a<0&&(c=!0,a=r+1),h===46?s<0?s=r:u!==1&&(u=1):s>-1&&(u=-1)}return s<0||a<0||u===0||u===1&&s===a-1&&s===i+1?"":t.slice(s,a)}function Q2(...t){let r=-1,a;for(;++r<t.length;)Ll(t[r]),t[r]&&(a=a===void 0?t[r]:a+"/"+t[r]);return a===void 0?".":X2(a)}function X2(t){Ll(t);const r=t.codePointAt(0)===47;let a=K2(t,!r);return a.length===0&&!r&&(a="."),a.length>0&&t.codePointAt(t.length-1)===47&&(a+="/"),r?"/"+a:a}function K2(t,r){let a="",i=0,s=-1,u=0,c=-1,h,p;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||u===1))if(s!==c-1&&u===2){if(a.length<2||i!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(p=a.lastIndexOf("/"),p!==a.length-1){p<0?(a="",i=0):(a=a.slice(0,p),i=a.length-1-a.lastIndexOf("/")),s=c,u=0;continue}}else if(a.length>0){a="",i=0,s=c,u=0;continue}}r&&(a=a.length>0?a+"/..":"..",i=2)}else a.length>0?a+="/"+t.slice(s+1,c):a=t.slice(s+1,c),i=c-s-1;s=c,u=0}else h===46&&u>-1?u++:u=-1}return a}function Ll(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Z2={cwd:J2};function J2(){return"/"}function Rd(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function W2(t){if(typeof t=="string")t=new URL(t);else if(!Rd(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return eS(t)}function eS(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const r=t.pathname;let a=-1;for(;++a<r.length;)if(r.codePointAt(a)===37&&r.codePointAt(a+1)===50){const i=r.codePointAt(a+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}const Xc=["history","path","basename","stem","extname","dirname"];class Tx{constructor(r){let a;r?Rd(r)?a={path:r}:typeof r=="string"||tS(r)?a={value:r}:a=r:a={},this.cwd="cwd"in a?"":Z2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Xc.length;){const u=Xc[i];u in a&&a[u]!==void 0&&a[u]!==null&&(this[u]=u==="history"?[...a[u]]:a[u])}let s;for(s in a)Xc.includes(s)||(this[s]=a[s])}get basename(){return typeof this.path=="string"?Cn.basename(this.path):void 0}set basename(r){Zc(r,"basename"),Kc(r,"basename"),this.path=Cn.join(this.dirname||"",r)}get dirname(){return typeof this.path=="string"?Cn.dirname(this.path):void 0}set dirname(r){Kp(this.basename,"dirname"),this.path=Cn.join(r||"",this.basename)}get extname(){return typeof this.path=="string"?Cn.extname(this.path):void 0}set extname(r){if(Kc(r,"extname"),Kp(this.dirname,"extname"),r){if(r.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Cn.join(this.dirname,this.stem+(r||""))}get path(){return this.history[this.history.length-1]}set path(r){Rd(r)&&(r=W2(r)),Zc(r,"path"),this.path!==r&&this.history.push(r)}get stem(){return typeof this.path=="string"?Cn.basename(this.path,this.extname):void 0}set stem(r){Zc(r,"stem"),Kc(r,"stem"),this.path=Cn.join(this.dirname||"",r+(this.extname||""))}fail(r,a,i){const s=this.message(r,a,i);throw s.fatal=!0,s}info(r,a,i){const s=this.message(r,a,i);return s.fatal=void 0,s}message(r,a,i){const s=new Ot(r,a,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(r){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(r||void 0).decode(this.value)}}function Kc(t,r){if(t&&t.includes(Cn.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Cn.sep+"`")}function Zc(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function Kp(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function tS(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nS=function(t){const i=this.constructor.prototype,s=i[t],u=function(){return s.apply(u,arguments)};return Object.setPrototypeOf(u,i),u},rS={}.hasOwnProperty;class rf extends nS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$2()}copy(){const r=new rf;let a=-1;for(;++a<this.attachers.length;){const i=this.attachers[a];r.use(...i)}return r.data(Qc(!0,{},this.namespace)),r}data(r,a){return typeof r=="string"?arguments.length===2?(ed("data",this.frozen),this.namespace[r]=a,this):rS.call(this.namespace,r)&&this.namespace[r]||void 0:r?(ed("data",this.frozen),this.namespace=r,this):this.namespace}freeze(){if(this.frozen)return this;const r=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=a.call(r,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(r){this.freeze();const a=Zs(r),i=this.parser||this.Parser;return Jc("parse",i),i(String(a),a)}process(r,a){const i=this;return this.freeze(),Jc("process",this.parser||this.Parser),Wc("process",this.compiler||this.Compiler),a?s(void 0,a):new Promise(s);function s(u,c){const h=Zs(r),p=i.parse(h);i.run(p,h,function(x,y,v){if(x||!y||!v)return m(x);const b=y,j=i.stringify(b,v);lS(j)?v.value=j:v.result=j,m(x,v)});function m(x,y){x||!y?c(x):u?u(y):a(void 0,y)}}}processSync(r){let a=!1,i;return this.freeze(),Jc("processSync",this.parser||this.Parser),Wc("processSync",this.compiler||this.Compiler),this.process(r,s),Jp("processSync","process",a),i;function s(u,c){a=!0,Qp(u),i=c}}run(r,a,i){Zp(r),this.freeze();const s=this.transformers;return!i&&typeof a=="function"&&(i=a,a=void 0),i?u(void 0,i):new Promise(u);function u(c,h){const p=Zs(a);s.run(r,p,m);function m(x,y,v){const b=y||r;x?h(x):c?c(b):i(void 0,b,v)}}}runSync(r,a){let i=!1,s;return this.run(r,a,u),Jp("runSync","run",i),s;function u(c,h){Qp(c),s=h,i=!0}}stringify(r,a){this.freeze();const i=Zs(a),s=this.compiler||this.Compiler;return Wc("stringify",s),Zp(r),s(r,i)}use(r,...a){const i=this.attachers,s=this.namespace;if(ed("use",this.frozen),r!=null)if(typeof r=="function")p(r,a);else if(typeof r=="object")Array.isArray(r)?h(r):c(r);else throw new TypeError("Expected usable value, not `"+r+"`");return this;function u(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...y]=m;p(x,y)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(s.settings=Qc(!0,s.settings,m.settings))}function h(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const y=m[x];u(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,x){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===m){v=y;break}if(v===-1)i.push([m,...x]);else if(x.length>0){let[b,...j]=x;const E=i[v][1];Cd(E)&&Cd(b)&&(b=Qc(!0,E,b)),i[v]=[m,b,...j]}}}}const aS=new rf().freeze();function Jc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Wc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ed(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Zp(t){if(!Cd(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Jp(t,r,a){if(!a)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function Zs(t){return iS(t)?t:new Tx(t)}function iS(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lS(t){return typeof t=="string"||sS(t)}function sS(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wp=[],eg={allowDangerousHtml:!0},uS=/^(https?|ircs?|mailto|xmpp)$/i,cS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function af(t){const r=dS(t),a=fS(t);return hS(r.runSync(r.parse(a),a),t)}function dS(t){const r=t.rehypePlugins||Wp,a=t.remarkPlugins||Wp,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...eg}:eg;return aS().use(Yk).use(a).use(q2,i).use(r)}function fS(t){const r=t.children||"",a=new Tx;return typeof r=="string"&&(a.value=r),a}function hS(t,r){const a=r.allowedElements,i=r.allowElement,s=r.components,u=r.disallowedElements,c=r.skipHtml,h=r.unwrapDisallowed,p=r.urlTransform||mS;for(const x of cS)Object.hasOwn(r,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+oS+x.id,void 0);return r.className&&(t={type:"element",tagName:"div",properties:{className:r.className},children:t.type==="root"?t.children:[t]}),nf(t,m),T1(t,{Fragment:d.Fragment,components:s,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function m(x,y,v){if(x.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let b;for(b in Fc)if(Object.hasOwn(Fc,b)&&Object.hasOwn(x.properties,b)){const j=x.properties[b],E=Fc[b];(E===null||E.includes(x.tagName))&&(x.properties[b]=p(String(j||""),b,x))}}if(x.type==="element"){let b=a?!a.includes(x.tagName):u?u.includes(x.tagName):!1;if(!b&&i&&typeof y=="number"&&(b=!i(x,y,v)),b&&v&&typeof y=="number")return h&&x.children?v.children.splice(y,1,...x.children):v.children.splice(y,1),y}}}function mS(t){const r=t.indexOf(":"),a=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return r===-1||s!==-1&&r>s||a!==-1&&r>a||i!==-1&&r>i||uS.test(t.slice(0,r))?t:""}function tg(t,r){const a=String(t);if(typeof r!="string")throw new TypeError("Expected character");let i=0,s=a.indexOf(r);for(;s!==-1;)i++,s=a.indexOf(r,s+r.length);return i}function pS(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function gS(t,r,a){const s=So((a||{}).ignore||[]),u=xS(r);let c=-1;for(;++c<u.length;)Ax(t,"text",h);function h(m,x){let y=-1,v;for(;++y<x.length;){const b=x[y],j=v?v.children:void 0;if(s(b,j?j.indexOf(b):void 0,v))return;v=b}if(v)return p(m,x)}function p(m,x){const y=x[x.length-1],v=u[c][0],b=u[c][1];let j=0;const C=y.children.indexOf(m);let T=!1,O=[];v.lastIndex=0;let N=v.exec(m.value);for(;N;){const G=N.index,V={index:N.index,input:N.input,stack:[...x,m]};let D=b(...N,V);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?v.lastIndex=G+1:(j!==G&&O.push({type:"text",value:m.value.slice(j,G)}),Array.isArray(D)?O.push(...D):D&&O.push(D),j=G+N[0].length,T=!0),!v.global)break;N=v.exec(m.value)}return T?(j<m.value.length&&O.push({type:"text",value:m.value.slice(j)}),y.children.splice(C,1,...O)):O=[m],C+O.length}}function xS(t){const r=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<a.length;){const s=a[i];r.push([yS(s[0]),bS(s[1])])}return r}function yS(t){return typeof t=="string"?new RegExp(pS(t),"g"):t}function bS(t){return typeof t=="function"?t:function(){return t}}const td="phrasing",nd=["autolink","link","image","label"];function vS(){return{transforms:[NS],enter:{literalAutolink:kS,literalAutolinkEmail:rd,literalAutolinkHttp:rd,literalAutolinkWww:rd},exit:{literalAutolink:ES,literalAutolinkEmail:_S,literalAutolinkHttp:SS,literalAutolinkWww:jS}}}function wS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:td,notInConstruct:nd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:td,notInConstruct:nd},{character:":",before:"[ps]",after:"\\/",inConstruct:td,notInConstruct:nd}]}}function kS(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function rd(t){this.config.enter.autolinkProtocol.call(this,t)}function SS(t){this.config.exit.autolinkProtocol.call(this,t)}function jS(t){this.config.exit.data.call(this,t);const r=this.stack[this.stack.length-1];r.type,r.url="http://"+this.sliceSerialize(t)}function _S(t){this.config.exit.autolinkEmail.call(this,t)}function ES(t){this.exit(t)}function NS(t){gS(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,AS],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),TS]],{ignore:["link","linkReference"]})}function AS(t,r,a,i,s){let u="";if(!Cx(s)||(/^w/i.test(r)&&(a=r+a,r="",u="http://"),!CS(a)))return!1;const c=RS(a+i);if(!c[0])return!1;const h={type:"link",title:null,url:u+r+c[0],children:[{type:"text",value:r+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function TS(t,r,a,i){return!Cx(i,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+r+"@"+a,children:[{type:"text",value:r+"@"+a}]}}function CS(t){const r=t.split(".");return!(r.length<2||r[r.length-1]&&(/_/.test(r[r.length-1])||!/[a-zA-Z\d]/.test(r[r.length-1]))||r[r.length-2]&&(/_/.test(r[r.length-2])||!/[a-zA-Z\d]/.test(r[r.length-2])))}function RS(t){const r=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!r)return[t,void 0];t=t.slice(0,r.index);let a=r[0],i=a.indexOf(")");const s=tg(t,"(");let u=tg(t,")");for(;i!==-1&&s>u;)t+=a.slice(0,i+1),a=a.slice(i+1),i=a.indexOf(")"),u++;return[t,a]}function Cx(t,r){const a=t.input.charCodeAt(t.index-1);return(t.index===0||ia(a)||vo(a))&&(!r||a!==47)}Rx.peek=qS;function OS(){this.buffer()}function DS(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function LS(){this.buffer()}function MS(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function zS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=kn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function US(t){this.exit(t)}function BS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=kn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function PS(t){this.exit(t)}function qS(){return"["}function Rx(t,r,a,i){const s=a.createTracker(i);let u=s.move("[^");const c=a.enter("footnoteReference"),h=a.enter("reference");return u+=s.move(a.safe(a.associationId(t),{after:"]",before:u})),h(),c(),u+=s.move("]"),u}function IS(){return{enter:{gfmFootnoteCallString:OS,gfmFootnoteCall:DS,gfmFootnoteDefinitionLabelString:LS,gfmFootnoteDefinition:MS},exit:{gfmFootnoteCallString:zS,gfmFootnoteCall:US,gfmFootnoteDefinitionLabelString:BS,gfmFootnoteDefinition:PS}}}function HS(t){let r=!1;return t&&t.firstLineBlank&&(r=!0),{handlers:{footnoteDefinition:a,footnoteReference:Rx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(i,s,u,c){const h=u.createTracker(c);let p=h.move("[^");const m=u.enter("footnoteDefinition"),x=u.enter("label");return p+=h.move(u.safe(u.associationId(i),{before:p,after:"]"})),x(),p+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),p+=h.move((r?`
`:" ")+u.indentLines(u.containerFlow(i,h.current()),r?Ox:$S))),m(),p}}function $S(t,r,a){return r===0?t:Ox(t,r,a)}function Ox(t,r,a){return(a?"":"    ")+t}const FS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Dx.peek=XS;function GS(){return{canContainEols:["delete"],enter:{strikethrough:VS},exit:{strikethrough:QS}}}function YS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:FS}],handlers:{delete:Dx}}}function VS(t){this.enter({type:"delete",children:[]},t)}function QS(t){this.exit(t)}function Dx(t,r,a,i){const s=a.createTracker(i),u=a.enter("strikethrough");let c=s.move("~~");return c+=a.containerPhrasing(t,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),u(),c}function XS(){return"~"}function KS(t){return t.length}function ZS(t,r){const a=r||{},i=(a.align||[]).concat(),s=a.stringLength||KS,u=[],c=[],h=[],p=[];let m=0,x=-1;for(;++x<t.length;){const E=[],C=[];let T=-1;for(t[x].length>m&&(m=t[x].length);++T<t[x].length;){const O=JS(t[x][T]);if(a.alignDelimiters!==!1){const N=s(O);C[T]=N,(p[T]===void 0||N>p[T])&&(p[T]=N)}E.push(O)}c[x]=E,h[x]=C}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<m;)u[y]=ng(i[y]);else{const E=ng(i);for(;++y<m;)u[y]=E}y=-1;const v=[],b=[];for(;++y<m;){const E=u[y];let C="",T="";E===99?(C=":",T=":"):E===108?C=":":E===114&&(T=":");let O=a.alignDelimiters===!1?1:Math.max(1,p[y]-C.length-T.length);const N=C+"-".repeat(O)+T;a.alignDelimiters!==!1&&(O=C.length+O+T.length,O>p[y]&&(p[y]=O),b[y]=O),v[y]=N}c.splice(1,0,v),h.splice(1,0,b),x=-1;const j=[];for(;++x<c.length;){const E=c[x],C=h[x];y=-1;const T=[];for(;++y<m;){const O=E[y]||"";let N="",G="";if(a.alignDelimiters!==!1){const V=p[y]-(C[y]||0),D=u[y];D===114?N=" ".repeat(V):D===99?V%2?(N=" ".repeat(V/2+.5),G=" ".repeat(V/2-.5)):(N=" ".repeat(V/2),G=N):G=" ".repeat(V)}a.delimiterStart!==!1&&!y&&T.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&O==="")&&(a.delimiterStart!==!1||y)&&T.push(" "),a.alignDelimiters!==!1&&T.push(N),T.push(O),a.alignDelimiters!==!1&&T.push(G),a.padding!==!1&&T.push(" "),(a.delimiterEnd!==!1||y!==m-1)&&T.push("|")}j.push(a.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return j.join(`
`)}function JS(t){return t==null?"":String(t)}function ng(t){const r=typeof t=="string"?t.codePointAt(0):0;return r===67||r===99?99:r===76||r===108?108:r===82||r===114?114:0}function WS(t,r,a,i){const s=a.enter("blockquote"),u=a.createTracker(i);u.move("> "),u.shift(2);const c=a.indentLines(a.containerFlow(t,u.current()),ej);return s(),c}function ej(t,r,a){return">"+(a?"":" ")+t}function tj(t,r){return rg(t,r.inConstruct,!0)&&!rg(t,r.notInConstruct,!1)}function rg(t,r,a){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return a;let i=-1;for(;++i<r.length;)if(t.includes(r[i]))return!0;return!1}function ag(t,r,a,i){let s=-1;for(;++s<a.unsafe.length;)if(a.unsafe[s].character===`
`&&tj(a.stack,a.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function nj(t,r){const a=String(t);let i=a.indexOf(r),s=i,u=0,c=0;if(typeof r!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++u>c&&(c=u):u=1,s=i+r.length,i=a.indexOf(r,s);return c}function rj(t,r){return!!(r.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function aj(t){const r=t.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function ij(t,r,a,i){const s=aj(a),u=t.value||"",c=s==="`"?"GraveAccent":"Tilde";if(rj(t,a)){const y=a.enter("codeIndented"),v=a.indentLines(u,lj);return y(),v}const h=a.createTracker(i),p=s.repeat(Math.max(nj(u,s)+1,3)),m=a.enter("codeFenced");let x=h.move(p);if(t.lang){const y=a.enter(`codeFencedLang${c}`);x+=h.move(a.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=a.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(a.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),y()}return x+=h.move(`
`),u&&(x+=h.move(u+`
`)),x+=h.move(p),m(),x}function lj(t,r,a){return(a?"":"    ")+t}function lf(t){const r=t.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function sj(t,r,a,i){const s=lf(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("definition");let h=a.enter("label");const p=a.createTracker(i);let m=p.move("[");return m+=p.move(a.safe(a.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),c(),m}function oj(t){const r=t.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function Tl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function go(t,r,a){const i=oi(t),s=oi(r);return i===void 0?s===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Lx.peek=uj;function Lx(t,r,a,i){const s=oj(a),u=a.enter("emphasis"),c=a.createTracker(i),h=c.move(s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=go(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=Tl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=go(i.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+Tl(y));const b=c.move(s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function uj(t,r,a){return a.options.emphasis||"*"}function cj(t,r){let a=!1;return nf(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return a=!0,Ad}),!!((!t.depth||t.depth<3)&&Xd(t)&&(r.options.setext||a))}function dj(t,r,a,i){const s=Math.max(Math.min(6,t.depth||1),1),u=a.createTracker(i);if(cj(t,a)){const x=a.enter("headingSetext"),y=a.enter("phrasing"),v=a.containerPhrasing(t,{...u.current(),before:`
`,after:`
`});return y(),x(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(s),h=a.enter("headingAtx"),p=a.enter("phrasing");u.move(c+" ");let m=a.containerPhrasing(t,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(m)&&(m=Tl(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,a.options.closeAtx&&(m+=" "+c),p(),h(),m}Mx.peek=fj;function Mx(t){return t.value||""}function fj(){return"<"}zx.peek=hj;function zx(t,r,a,i){const s=lf(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("image");let h=a.enter("label");const p=a.createTracker(i);let m=p.move("![");return m+=p.move(a.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),m+=p.move(")"),c(),m}function hj(){return"!"}Ux.peek=mj;function Ux(t,r,a,i){const s=t.referenceType,u=a.enter("imageReference");let c=a.enter("label");const h=a.createTracker(i);let p=h.move("![");const m=a.safe(t.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function mj(){return"!"}Bx.peek=pj;function Bx(t,r,a){let i=t.value||"",s="`",u=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++u<a.unsafe.length;){const c=a.unsafe[u],h=a.compilePattern(c);let p;if(c.atBreak)for(;p=h.exec(i);){let m=p.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(p.index+1)}}return s+i+s}function pj(){return"`"}function Px(t,r){const a=Xd(t);return!!(!r.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(a===t.url||"mailto:"+a===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}qx.peek=gj;function qx(t,r,a,i){const s=lf(a),u=s==='"'?"Quote":"Apostrophe",c=a.createTracker(i);let h,p;if(Px(t,a)){const x=a.stack;a.stack=[],h=a.enter("autolink");let y=c.move("<");return y+=c.move(a.containerPhrasing(t,{before:y,after:">",...c.current()})),y+=c.move(">"),h(),a.stack=x,y}h=a.enter("link"),p=a.enter("label");let m=c.move("[");return m+=c.move(a.containerPhrasing(t,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=a.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(a.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=a.enter("destinationRaw"),m+=c.move(a.safe(t.url,{before:m,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=a.enter(`title${u}`),m+=c.move(" "+s),m+=c.move(a.safe(t.title,{before:m,after:s,...c.current()})),m+=c.move(s),p()),m+=c.move(")"),h(),m}function gj(t,r,a){return Px(t,a)?"<":"["}Ix.peek=xj;function Ix(t,r,a,i){const s=t.referenceType,u=a.enter("linkReference");let c=a.enter("label");const h=a.createTracker(i);let p=h.move("[");const m=a.containerPhrasing(t,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function xj(){return"["}function sf(t){const r=t.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function yj(t){const r=sf(t),a=t.options.bulletOther;if(!a)return r==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+a+"`) to be different");return a}function bj(t){const r=t.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function Hx(t){const r=t.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function vj(t,r,a,i){const s=a.enter("list"),u=a.bulletCurrent;let c=t.ordered?bj(a):sf(a);const h=t.ordered?c==="."?")":".":yj(a);let p=r&&a.bulletLastUsed?c===a.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&(p=!0),Hx(a)===c&&x){let y=-1;for(;++y<t.children.length;){const v=t.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=h),a.bulletCurrent=c;const m=a.containerFlow(t,i);return a.bulletLastUsed=c,a.bulletCurrent=u,s(),m}function wj(t){const r=t.options.listItemIndent||"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function kj(t,r,a,i){const s=wj(a);let u=a.bulletCurrent||sf(a);r&&r.type==="list"&&r.ordered&&(u=(typeof r.start=="number"&&r.start>-1?r.start:1)+(a.options.incrementListMarker===!1?0:r.children.indexOf(t))+u);let c=u.length+1;(s==="tab"||s==="mixed"&&(r&&r.type==="list"&&r.spread||t.spread))&&(c=Math.ceil(c/4)*4);const h=a.createTracker(i);h.move(u+" ".repeat(c-u.length)),h.shift(c);const p=a.enter("listItem"),m=a.indentLines(a.containerFlow(t,h.current()),x);return p(),m;function x(y,v,b){return v?(b?"":" ".repeat(c))+y:(b?u:u+" ".repeat(c-u.length))+y}}function Sj(t,r,a,i){const s=a.enter("paragraph"),u=a.enter("phrasing"),c=a.containerPhrasing(t,i);return u(),s(),c}const jj=So(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _j(t,r,a,i){return(t.children.some(function(c){return jj(c)})?a.containerPhrasing:a.containerFlow).call(a,t,i)}function Ej(t){const r=t.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}$x.peek=Nj;function $x(t,r,a,i){const s=Ej(a),u=a.enter("strong"),c=a.createTracker(i),h=c.move(s+s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=go(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=Tl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=go(i.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+Tl(y));const b=c.move(s+s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function Nj(t,r,a){return a.options.strong||"*"}function Aj(t,r,a,i){return a.safe(t.value,i)}function Tj(t){const r=t.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function Cj(t,r,a){const i=(Hx(a)+(a.options.ruleSpaces?" ":"")).repeat(Tj(a));return a.options.ruleSpaces?i.slice(0,-1):i}const Fx={blockquote:WS,break:ag,code:ij,definition:sj,emphasis:Lx,hardBreak:ag,heading:dj,html:Mx,image:zx,imageReference:Ux,inlineCode:Bx,link:qx,linkReference:Ix,list:vj,listItem:kj,paragraph:Sj,root:_j,strong:$x,text:Aj,thematicBreak:Cj};function Rj(){return{enter:{table:Oj,tableData:ig,tableHeader:ig,tableRow:Lj},exit:{codeText:Mj,table:Dj,tableData:ad,tableHeader:ad,tableRow:ad}}}function Oj(t){const r=t._align;this.enter({type:"table",align:r.map(function(a){return a==="none"?null:a}),children:[]},t),this.data.inTable=!0}function Dj(t){this.exit(t),this.data.inTable=void 0}function Lj(t){this.enter({type:"tableRow",children:[]},t)}function ad(t){this.exit(t)}function ig(t){this.enter({type:"tableCell",children:[]},t)}function Mj(t){let r=this.resume();this.data.inTable&&(r=r.replace(/\\([\\|])/g,zj));const a=this.stack[this.stack.length-1];a.type,a.value=r,this.exit(t)}function zj(t,r){return r==="|"?r:t}function Uj(t){const r=t||{},a=r.tableCellPadding,i=r.tablePipeAlign,s=r.stringLength,u=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:p,tableRow:h}};function c(b,j,E,C){return m(x(b,E,C),b.align)}function h(b,j,E,C){const T=y(b,E,C),O=m([T]);return O.slice(0,O.indexOf(`
`))}function p(b,j,E,C){const T=E.enter("tableCell"),O=E.enter("phrasing"),N=E.containerPhrasing(b,{...C,before:u,after:u});return O(),T(),N}function m(b,j){return ZS(b,{align:j,alignDelimiters:i,padding:a,stringLength:s})}function x(b,j,E){const C=b.children;let T=-1;const O=[],N=j.enter("table");for(;++T<C.length;)O[T]=y(C[T],j,E);return N(),O}function y(b,j,E){const C=b.children;let T=-1;const O=[],N=j.enter("tableRow");for(;++T<C.length;)O[T]=p(C[T],b,j,E);return N(),O}function v(b,j,E){let C=Fx.inlineCode(b,j,E);return E.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function Bj(){return{exit:{taskListCheckValueChecked:lg,taskListCheckValueUnchecked:lg,paragraph:qj}}}function Pj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ij}}}function lg(t){const r=this.stack[this.stack.length-2];r.type,r.checked=t.type==="taskListCheckValueChecked"}function qj(t){const r=this.stack[this.stack.length-2];if(r&&r.type==="listItem"&&typeof r.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const i=a.children[0];if(i&&i.type==="text"){const s=r.children;let u=-1,c;for(;++u<s.length;){const h=s[u];if(h.type==="paragraph"){c=h;break}}c===a&&(i.value=i.value.slice(1),i.value.length===0?a.children.shift():a.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,a.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function Ij(t,r,a,i){const s=t.children[0],u=typeof t.checked=="boolean"&&s&&s.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",h=a.createTracker(i);u&&h.move(c);let p=Fx.listItem(t,r,a,{...i,...h.current()});return u&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(x){return x+c}}function Hj(){return[vS(),IS(),GS(),Rj(),Bj()]}function $j(t){return{extensions:[wS(),HS(t),YS(),Uj(t),Pj()]}}const Fj={tokenize:Kj,partial:!0},Gx={tokenize:Zj,partial:!0},Yx={tokenize:Jj,partial:!0},Vx={tokenize:Wj,partial:!0},Gj={tokenize:e_,partial:!0},Qx={name:"wwwAutolink",tokenize:Qj,previous:Kx},Xx={name:"protocolAutolink",tokenize:Xj,previous:Zx},Xn={name:"emailAutolink",tokenize:Vj,previous:Jx},Rn={};function Yj(){return{text:Rn}}let ea=48;for(;ea<123;)Rn[ea]=Xn,ea++,ea===58?ea=65:ea===91&&(ea=97);Rn[43]=Xn;Rn[45]=Xn;Rn[46]=Xn;Rn[95]=Xn;Rn[72]=[Xn,Xx];Rn[104]=[Xn,Xx];Rn[87]=[Xn,Qx];Rn[119]=[Xn,Qx];function Vj(t,r,a){const i=this;let s,u;return c;function c(y){return!Od(y)||!Jx.call(i,i.previous)||of(i.events)?a(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return Od(y)?(t.consume(y),h):y===64?(t.consume(y),p):a(y)}function p(y){return y===46?t.check(Gj,x,m)(y):y===45||y===95||Rt(y)?(u=!0,t.consume(y),p):x(y)}function m(y){return t.consume(y),s=!0,p}function x(y){return u&&s&&Mt(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),r(y)):a(y)}}function Qj(t,r,a){const i=this;return s;function s(c){return c!==87&&c!==119||!Kx.call(i,i.previous)||of(i.events)?a(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Fj,t.attempt(Gx,t.attempt(Yx,u),a),a)(c))}function u(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),r(c)}}function Xj(t,r,a){const i=this;let s="",u=!1;return c;function c(y){return(y===72||y===104)&&Zx.call(i,i.previous)&&!of(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),t.consume(y),h):a(y)}function h(y){if(Mt(y)&&s.length<5)return s+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return t.consume(y),p}return a(y)}function p(y){return y===47?(t.consume(y),u?m:(u=!0,p)):a(y)}function m(y){return y===null||ho(y)||Qe(y)||ia(y)||vo(y)?a(y):t.attempt(Gx,t.attempt(Yx,x),a)(y)}function x(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),r(y)}}function Kj(t,r,a){let i=0;return s;function s(c){return(c===87||c===119)&&i<3?(i++,t.consume(c),s):c===46&&i===3?(t.consume(c),u):a(c)}function u(c){return c===null?a(c):r(c)}}function Zj(t,r,a){let i,s,u;return c;function c(m){return m===46||m===95?t.check(Vx,p,h)(m):m===null||Qe(m)||ia(m)||m!==45&&vo(m)?p(m):(u=!0,t.consume(m),c)}function h(m){return m===95?i=!0:(s=i,i=void 0),t.consume(m),c}function p(m){return s||i||!u?a(m):r(m)}}function Jj(t,r){let a=0,i=0;return s;function s(c){return c===40?(a++,t.consume(c),s):c===41&&i<a?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(Vx,r,u)(c):c===null||Qe(c)||ia(c)?r(c):(t.consume(c),s)}function u(c){return c===41&&i++,t.consume(c),s}}function Wj(t,r,a){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),u):h===93?(t.consume(h),s):h===60||h===null||Qe(h)||ia(h)?r(h):a(h)}function s(h){return h===null||h===40||h===91||Qe(h)||ia(h)?r(h):i(h)}function u(h){return Mt(h)?c(h):a(h)}function c(h){return h===59?(t.consume(h),i):Mt(h)?(t.consume(h),c):a(h)}}function e_(t,r,a){return i;function i(u){return t.consume(u),s}function s(u){return Rt(u)?a(u):r(u)}}function Kx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Qe(t)}function Zx(t){return!Mt(t)}function Jx(t){return!(t===47||Od(t))}function Od(t){return t===43||t===45||t===46||t===95||Rt(t)}function of(t){let r=t.length,a=!1;for(;r--;){const i=t[r][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){a=!0;break}if(i._gfmAutolinkLiteralWalkedInto){a=!1;break}}return t.length>0&&!a&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const t_={tokenize:u_,partial:!0};function n_(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:l_,continuation:{tokenize:s_},exit:o_}},text:{91:{name:"gfmFootnoteCall",tokenize:i_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:r_,resolveTo:a_}}}}function r_(t,r,a){const i=this;let s=i.events.length;const u=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let c;for(;s--;){const p=i.events[s][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!c||!c._balanced)return a(p);const m=kn(i.sliceSerialize({start:c.end,end:i.now()}));return m.codePointAt(0)!==94||!u.includes(m.slice(1))?a(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),r(p))}}function a_(t,r){let a=t.length;for(;a--;)if(t[a][1].type==="labelImage"&&t[a][0]==="enter"){t[a][1];break}t[a+1][1].type="data",t[a+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[a+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[a+3][1].end),end:Object.assign({},t[a+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},h=[t[a+1],t[a+2],["enter",i,r],t[a+3],t[a+4],["enter",s,r],["exit",s,r],["enter",u,r],["enter",c,r],["exit",c,r],["exit",u,r],t[t.length-2],t[t.length-1],["exit",i,r]];return t.splice(a,t.length-a+1,...h),t}function i_(t,r,a){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u=0,c;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?a(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(y){if(u>999||y===93&&!c||y===null||y===91||Qe(y))return a(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return s.includes(kn(i.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),r):a(y)}return Qe(y)||(c=!0),u++,t.consume(y),y===92?x:m}function x(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function l_(t,r,a){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u,c=0,h;return p;function p(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):a(j)}function x(j){if(c>999||j===93&&!h||j===null||j===91||Qe(j))return a(j);if(j===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return u=kn(i.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Qe(j)||(h=!0),c++,t.consume(j),j===92?y:x}function y(j){return j===91||j===92||j===93?(t.consume(j),c++,x):x(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),s.includes(u)||s.push(u),Ue(t,b,"gfmFootnoteDefinitionWhitespace")):a(j)}function b(j){return r(j)}}function s_(t,r,a){return t.check(Dl,r,t.attempt(t_,r,a))}function o_(t){t.exit("gfmFootnoteDefinition")}function u_(t,r,a){const i=this;return Ue(t,s,"gfmFootnoteDefinitionIndent",5);function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?r(u):a(u)}}function c_(t){let a=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:u,resolveAll:s};return a==null&&(a=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(c,h){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},y={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},v=[["enter",x,h],["enter",c[m][1],h],["exit",c[m][1],h],["enter",y,h]],b=h.parser.constructs.insideSpan.null;b&&nn(v,v.length,0,wo(b,c.slice(m+1,p),h)),nn(v,v.length,0,[["exit",y,h],["enter",c[p][1],h],["exit",c[p][1],h],["exit",x,h]]),nn(c,m-1,p-m+3,v),p=m+v.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function u(c,h,p){const m=this.previous,x=this.events;let y=0;return v;function v(j){return m===126&&x[x.length-1][1].type!=="characterEscape"?p(j):(c.enter("strikethroughSequenceTemporary"),b(j))}function b(j){const E=oi(m);if(j===126)return y>1?p(j):(c.consume(j),y++,b);if(y<2&&!a)return p(j);const C=c.exit("strikethroughSequenceTemporary"),T=oi(j);return C._open=!T||T===2&&!!E,C._close=!E||E===2&&!!T,h(j)}}}class d_{constructor(){this.map=[]}add(r,a,i){f_(this,r,a,i)}consume(r){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let a=this.map.length;const i=[];for(;a>0;)a-=1,i.push(r.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),r.length=this.map[a][0];i.push(r.slice()),r.length=0;let s=i.pop();for(;s;){for(const u of s)r.push(u);s=i.pop()}this.map.length=0}}function f_(t,r,a,i){let s=0;if(!(a===0&&i.length===0)){for(;s<t.map.length;){if(t.map[s][0]===r){t.map[s][1]+=a,t.map[s][2].push(...i);return}s+=1}t.map.push([r,a,i])}}function h_(t,r){let a=!1;const i=[];for(;r<t.length;){const s=t[r];if(a){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(t[r+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[r-1][1].type==="tableDelimiterMarker"){const u=i.length-1;i[u]=i[u]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(a=!0);r+=1}return i}function m_(){return{flow:{null:{name:"table",tokenize:p_,resolveAll:g_}}}}function p_(t,r,a){const i=this;let s=0,u=0,c;return h;function h(U){let z=i.events.length-1;for(;z>-1;){const W=i.events[z][1].type;if(W==="lineEnding"||W==="linePrefix")z--;else break}const Y=z>-1?i.events[z][1].type:null,K=Y==="tableHead"||Y==="tableRow"?D:p;return K===D&&i.parser.lazy[i.now().line]?a(U):K(U)}function p(U){return t.enter("tableHead"),t.enter("tableRow"),m(U)}function m(U){return U===124||(c=!0,u+=1),x(U)}function x(U){return U===null?a(U):xe(U)?u>1?(u=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),b):a(U):Me(U)?Ue(t,x,"whitespace")(U):(u+=1,c&&(c=!1,s+=1),U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),y(U)))}function y(U){return U===null||U===124||Qe(U)?(t.exit("data"),x(U)):(t.consume(U),U===92?v:y)}function v(U){return U===92||U===124?(t.consume(U),y):y(U)}function b(U){return i.interrupt=!1,i.parser.lazy[i.now().line]?a(U):(t.enter("tableDelimiterRow"),c=!1,Me(U)?Ue(t,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):j(U))}function j(U){return U===45||U===58?C(U):U===124?(c=!0,t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),E):V(U)}function E(U){return Me(U)?Ue(t,C,"whitespace")(U):C(U)}function C(U){return U===58?(u+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),T):U===45?(u+=1,T(U)):U===null||xe(U)?G(U):V(U)}function T(U){return U===45?(t.enter("tableDelimiterFiller"),O(U)):V(U)}function O(U){return U===45?(t.consume(U),O):U===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(U))}function N(U){return Me(U)?Ue(t,G,"whitespace")(U):G(U)}function G(U){return U===124?j(U):U===null||xe(U)?!c||s!==u?V(U):(t.exit("tableDelimiterRow"),t.exit("tableHead"),r(U)):V(U)}function V(U){return a(U)}function D(U){return t.enter("tableRow"),te(U)}function te(U){return U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),te):U===null||xe(U)?(t.exit("tableRow"),r(U)):Me(U)?Ue(t,te,"whitespace")(U):(t.enter("data"),se(U))}function se(U){return U===null||U===124||Qe(U)?(t.exit("data"),te(U)):(t.consume(U),U===92?ce:se)}function ce(U){return U===92||U===124?(t.consume(U),se):se(U)}}function g_(t,r){let a=-1,i=!0,s=0,u=[0,0,0,0],c=[0,0,0,0],h=!1,p=0,m,x,y;const v=new d_;for(;++a<t.length;){const b=t[a],j=b[1];b[0]==="enter"?j.type==="tableHead"?(h=!1,p!==0&&(sg(v,r,p,m,x),x=void 0,p=0),m={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",m,r]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(i=!0,y=void 0,u=[0,0,0,0],c=[0,a+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",x,r]])),s=j.type==="tableDelimiterRow"?2:x?3:1):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(i=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],y=Js(v,r,u,s,void 0,y),u=[0,0,0,0]),c[2]=a)):j.type==="tableCellDivider"&&(i?i=!1:(u[1]!==0&&(c[0]=c[1],y=Js(v,r,u,s,void 0,y)),u=c,c=[u[1],a,0,0])):j.type==="tableHead"?(h=!0,p=a):j.type==="tableRow"||j.type==="tableDelimiterRow"?(p=a,u[1]!==0?(c[0]=c[1],y=Js(v,r,u,s,a,y)):c[1]!==0&&(y=Js(v,r,c,s,a,y)),s=0):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=a)}for(p!==0&&sg(v,r,p,m,x),v.consume(r.events),a=-1;++a<r.events.length;){const b=r.events[a];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=h_(r.events,a))}return t}function Js(t,r,a,i,s,u){const c=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";a[0]!==0&&(u.end=Object.assign({},ai(r.events,a[0])),t.add(a[0],0,[["exit",u,r]]));const p=ai(r.events,a[1]);if(u={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(a[1],0,[["enter",u,r]]),a[2]!==0){const m=ai(r.events,a[2]),x=ai(r.events,a[3]),y={type:h,start:Object.assign({},m),end:Object.assign({},x)};if(t.add(a[2],0,[["enter",y,r]]),i!==2){const v=r.events[a[2]],b=r.events[a[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",a[3]>a[2]+1){const j=a[2]+1,E=a[3]-a[2]-1;t.add(j,E,[])}}t.add(a[3]+1,0,[["exit",y,r]])}return s!==void 0&&(u.end=Object.assign({},ai(r.events,s)),t.add(s,0,[["exit",u,r]]),u=void 0),u}function sg(t,r,a,i,s){const u=[],c=ai(r.events,a);s&&(s.end=Object.assign({},c),u.push(["exit",s,r])),i.end=Object.assign({},c),u.push(["exit",i,r]),t.add(a+1,0,u)}function ai(t,r){const a=t[r],i=a[0]==="enter"?"start":"end";return a[1][i]}const x_={name:"tasklistCheck",tokenize:b_};function y_(){return{text:{91:x_}}}function b_(t,r,a){const i=this;return s;function s(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?a(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),u)}function u(p){return Qe(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):a(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):a(p)}function h(p){return xe(p)?r(p):Me(p)?t.check({tokenize:v_},r,a)(p):a(p)}}function v_(t,r,a){return Ue(t,i,"whitespace");function i(s){return s===null?a(s):r(s)}}function w_(t){return ux([Yj(),n_(),c_(t),m_(),y_()])}const k_={};function uf(t){const r=this,a=t||k_,i=r.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),u=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),c=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(w_(a)),u.push(Hj()),c.push($j(a))}const id={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},ld={Entry:"Entry",SL:"SL",TP1:"TP1"};function S_(t){const r=[...t].sort((i,s)=>i-s),a=t.map(()=>0);for(let i=0;i<t.length-1;i++)Math.abs(r[i]-r[i+1])<7&&(a[t.indexOf(r[i])]=-28,a[t.indexOf(r[i+1])]=28,t.length>2&&i+2<t.length&&Math.abs(r[i+1]-r[i+2])<7&&(a[t.indexOf(r[i+2])]=-56));return a}function j_(t,r=18){const a=t.map((m,x)=>({price:m,idx:x}));a.sort((m,x)=>m.price-x.price);const i=t.length,u=100-r*(i-1),c=i>1?u/(i-1):0;let h=[];for(let m=0;m<i;m++)h.push(m*(r+c));const p=[];return a.forEach((m,x)=>{p[m.idx]=h[x]}),p}const sd=({color:t,left:r,label:a,yOffset:i,value:s})=>d.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:r,top:0,zIndex:10},children:[d.jsx("div",{style:{transform:`translateY(${i}px)`},className:"transition-all duration-500",children:d.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${t} animate-fadein`,children:a})}),d.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${t} mt-1 animate-markerpop`}),d.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 animate-fadein",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]}),__=({riskParams:t,analysis:r})=>{if(!r)return null;const{tradeSetup:a}=r,i=a.tradeType==="Long",s=parseFloat(a.entryPrice),u=parseFloat(a.stopLoss),c=parseFloat(a.takeProfit);if(isNaN(s)||isNaN(u)||isNaN(c))return null;const p=j_([u,s,c],24),m=O=>`calc(${p[O]}% - 24px)`,x=S_(p),y=1,v=2,b=Math.min(p[y],p[v]),j=Math.abs(p[v]-p[y]),E=i?"right":"left";let C=1;if(typeof r.riskPerTrade=="number"&&!isNaN(r.riskPerTrade))C=r.riskPerTrade;else if(typeof r.riskPerTrade=="string"){const O=parseFloat(String(r.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(O)||(C=O)}const T=t.currentEquity!==void 0&&t.currentEquity!==null?Number(t.currentEquity):void 0;return T==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[d.jsx(Qg,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),d.jsxs("div",{className:"relative w-full h-20 flex items-end mb-6",children:[d.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),d.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${j}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:d.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:E==="right"?d.jsx("span",{className:"absolute right-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:""}):d.jsx("span",{className:"absolute left-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:""})})}),d.jsx(sd,{color:id.SL,left:m(0),label:ld.SL,yOffset:x[0],value:String(u)}),d.jsx(sd,{color:id.Entry,left:m(1),label:ld.Entry,yOffset:x[1],value:String(s)}),d.jsx(sd,{color:id.TP1,left:m(2),label:ld.TP1,yOffset:x[2],value:String(c)})]}),d.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),d.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:C+"%"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${(T*C/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4})}`:"-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),d.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${Number(T).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"})]})]})]})},Ws=({label:t,value:r,className:a=""})=>d.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${a}`,children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${a}`,children:r})]}),E_=({analysis:t})=>{const{tradeType:r,entryPrice:a,stopLoss:i,takeProfit:s}=t.tradeSetup,u=r==="Long",c=v=>v!=null&&v!==""&&v!=="N/A"&&!isNaN(Number(v))&&Number(v)!==0,h=c(a),p=c(i),m=c(s);let x=!1;return u?x=Number(i)<Number(a)&&Number(a)<Number(s):x=Number(s)<Number(a)&&Number(a)<Number(i),h&&p&&m&&x?d.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${u?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[d.jsxs("h4",{className:`text-lg font-bold ${u?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",r]}),Number(t.confidenceScore)<70&&d.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),d.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(a).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):d.jsx("div",{className:"p-4 rounded-lg bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},N_=({analysis:t,riskParams:r,onBackToUploader:a})=>t?t.tradeSetup&&t.marketTrend&&t.tradeBias?d.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[d.jsx("div",{className:"w-full",children:t.image?d.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{console.error("Failed to load analysis image"),s.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"})})}),d.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&d.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?d.jsx(Or,{className:"h-6 w-6"}):d.jsx(wn,{className:"h-6 w-6"}),d.jsxs("span",{children:["TRADE COMPLETED: ",d.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),d.jsx(E_,{analysis:t}),d.jsx(__,{riskParams:r,analysis:t}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsx(Ws,{label:"Market Trend",value:t.marketTrend||"N/A"}),d.jsx(Ws,{label:"Trade Bias",value:t.tradeBias||"N/A",className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),d.jsx(Ws,{label:"Confidence",value:`${t.confidenceScore||0}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&d.jsx(Ws,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Vv,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),d.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:d.jsx(af,{remarkPlugins:[uf],children:t.rationale||"No reasoning available"})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern||"No pattern identified"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis||"No indicator analysis available"})]})]})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[d.jsx("p",{children:"This might be due to:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[d.jsx("li",{children:"AI response format error"}),d.jsx("li",{children:"Network connectivity issues"}),d.jsx("li",{children:"API quota exceeded"}),d.jsx("li",{children:"Image processing error"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&d.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})}),A_=({status:t})=>{if(t==="pending")return null;const r="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?d.jsx("span",{className:`${r} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?d.jsx("span",{className:`${r} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},T_=({history:t,onSelect:r,onDeleteRequest:a,currentAnalysisId:i})=>t?Array.isArray(t)?(console.log("HistoryPanel: Rendering with",t.length,"items"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(so,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):d.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map((s,u)=>!s||!s.id||!s.tradeSetup?(console.error("HistoryPanel: Invalid item at index",u,s),null):d.jsx("li",{className:"group",children:d.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${i===s.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[d.jsxs("button",{onClick:()=>{try{r(s)}catch(c){console.error("Error selecting history item:",c)}},className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(s.timestamp).toLocaleString()}`,children:[d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsxs("p",{className:`font-semibold text-sm truncate ${s.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[s.tradeSetup.tradeType," (",s.tradeBias||"Unknown",")"]}),d.jsx(A_,{status:s.status})]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(s.timestamp).toLocaleString()})]}),d.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",s.keyPattern||"No pattern"]})]}),d.jsx("button",{onClick:c=>{c.stopPropagation();try{a(s)}catch(h){console.error("Error requesting delete:",h)}},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:d.jsx(Kv,{className:"h-4 w-4"})})]})},s.id))})]})):(console.error("HistoryPanel: history prop is not an array:",t),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(so,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})):(console.error("HistoryPanel: history prop is null or undefined"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(so,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})),og=({theme:t,setTheme:r})=>{const a=()=>{r(t==="light"?"dark":"light")};return d.jsxs("button",{onClick:a,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[d.jsx("span",{className:"sr-only",children:"Toggle theme"}),d.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[d.jsx(fo,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),d.jsx(Yv,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),d.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},ug=({apiStatus:t,sessionTokens:r,totalTokens:a})=>{const i=c=>new Intl.NumberFormat().format(c),u={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"relative flex h-2 w-2",children:[d.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${u.color} ${u.pulse?"animate-ping":""} opacity-75`}),d.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${u.color}`})]}),d.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",u.text]})]}),d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(r)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(a)})]})]})},vt=({mode:t,activeMode:r,onClick:a,icon:i,label:s})=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>a(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[i,d.jsx("span",{className:"ml-3",children:s})]})}),C_=({activeMode:t,onModeChange:r,theme:a,setTheme:i,apiStatus:s,sessionTokens:u,totalTokens:c,isMobileMenuOpen:h,onMobileMenuToggle:p})=>d.jsxs(d.Fragment,{children:[h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] lg:hidden",onClick:p}),d.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-800 shadow-xl z-[120] transform transition-transform duration-300 ease-in-out lg:hidden
        ${h?"translate-x-0":"-translate-x-full"}
      `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("div",{}),d.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Jv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(vt,{mode:"home",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(op,{className:"h-5 w-5"}),label:"Home"}),d.jsx(vt,{mode:"dashboard",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(vd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(vt,{mode:"portfolio",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(up,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(vt,{mode:"economic-calendar",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(cp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(vt,{mode:"scalp",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(uo,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(vt,{mode:"day",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(fo,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(vt,{mode:"swing",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(yd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(vt,{mode:"position",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(bd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(vt,{mode:"settings",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(wd,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(ug,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(og,{theme:a,setTheme:i})]})]})]}),d.jsxs("aside",{className:"hidden lg:block w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[d.jsx("div",{className:"mb-6 px-2"}),d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(vt,{mode:"home",activeMode:t,onClick:r,icon:d.jsx(op,{className:"h-5 w-5"}),label:"Home"}),d.jsx(vt,{mode:"dashboard",activeMode:t,onClick:r,icon:d.jsx(vd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(vt,{mode:"portfolio",activeMode:t,onClick:r,icon:d.jsx(up,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(vt,{mode:"economic-calendar",activeMode:t,onClick:r,icon:d.jsx(cp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(vt,{mode:"scalp",activeMode:t,onClick:r,icon:d.jsx(uo,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(vt,{mode:"day",activeMode:t,onClick:r,icon:d.jsx(fo,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(vt,{mode:"swing",activeMode:t,onClick:r,icon:d.jsx(yd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(vt,{mode:"position",activeMode:t,onClick:r,icon:d.jsx(bd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(vt,{mode:"settings",activeMode:t,onClick:r,icon:d.jsx(wd,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(ug,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(og,{theme:a,setTheme:i})]})]})]}),cg=({type:t,onSave:r,onClose:a})=>{const[i,s]=F.useState("");F.useEffect(()=>{const m=x=>{x.key==="Escape"&&a()};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[a]);const u=m=>{const y=m.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(y)&&s(y)},c=m=>{m.preventDefault();const x=parseFloat(i);!isNaN(x)&&x>0&&r(x)},h=t==="profit",p=!isNaN(parseFloat(i))&&parseFloat(i)>0;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:a,children:d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:d.jsxs("form",{onSubmit:c,children:[h?d.jsx(Or,{className:"mx-auto h-16 w-16 text-emerald-500"}):d.jsx(wn,{className:"mx-auto h-16 w-16 text-red-500"}),d.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),d.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),d.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:i,onChange:u,required:!0,autoFocus:!0})]})]}),d.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!p,children:"Save Result"})]})})})},R_={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},O_={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},Nr=({label:t,value:r,icon:a,color:i})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:t}),d.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${R_[i]} flex-shrink-0`,children:d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:a})})]}),d.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${O_[i]} leading-tight`,children:r})]}),D_=t=>{const r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const i=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-i.getTime())/864e5+1)/7)},L_=(t,r)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const a=[...t].sort((y,v)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime()),i={};a.forEach(y=>{const v=new Date(y.timestamp);let b="";if(r==="daily")b=v.toLocaleDateString("en-CA");else if(r==="weekly"){const j=v.getFullYear(),E=D_(v);b=`${j}-W${E.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(i[b]||(i[b]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":i[b].profit+=1,i[b].pl+=y.outcomeAmount||0;break;case"stop-loss":i[b].loss+=1,i[b].pl-=y.outcomeAmount||0;break;case"pending":i[b].pending+=1;break}});const s=Object.keys(i).sort(),u=s,c=s.map(y=>i[y].profit),h=s.map(y=>i[y].loss),p=s.map(y=>i[y].pending),m=[];let x=0;return s.forEach(y=>{x+=i[y].pl,m.push(x)}),{labels:u,profitData:c,lossData:h,pendingData:p,cumulativePlData:m}},od=({buttonTimeframe:t,activeTimeframe:r,setTimeframe:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${r===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),M_=({history:t})=>{const r=F.useRef(null),a=F.useRef(null),[i,s]=F.useState("daily");return F.useEffect(()=>{if(!r.current)return;const u=r.current.getContext("2d");if(!u)return;a.current&&a.current.destroy();const{labels:c,profitData:h,lossData:p,pendingData:m,cumulativePlData:x}=L_(t,i),y="rgba(203, 213, 225, 0.5)",v="rgba(100, 116, 139, 1)",b=u.createLinearGradient(0,0,0,300);b.addColorStop(0,"rgba(34, 197, 94, 0.8)"),b.addColorStop(1,"rgba(34, 197, 94, 0.4)");const j=u.createLinearGradient(0,0,0,300);j.addColorStop(0,"rgba(239, 68, 68, 0.8)"),j.addColorStop(1,"rgba(239, 68, 68, 0.4)");const E=u.createLinearGradient(0,0,0,300);E.addColorStop(0,"rgba(100, 116, 139, 0.7)"),E.addColorStop(1,"rgba(100, 116, 139, 0.3)");const C=u.createLinearGradient(0,50,0,300);return C.addColorStop(0,"rgba(124, 58, 237, 0.5)"),C.addColorStop(1,"rgba(124, 58, 237, 0.05)"),a.current=new window.Chart(u,{type:"bar",data:{labels:c,datasets:[{label:"Profit",data:h,backgroundColor:b,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:p,backgroundColor:j,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:m,backgroundColor:E,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:x,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:C,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:v,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:y,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:v,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:v,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:v,font:{family:"inherit"},callback:function(T){return typeof T!="number"?T:Math.abs(T)>=1e3?"$"+(T/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+T}},title:{display:!0,text:"Cumulative P/L ($)",color:v,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:v,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(T){let O=T.dataset.label||"";return O&&(O+=": "),T.parsed.y!==null&&(T.dataset.yAxisID==="y1"?O+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T.parsed.y):O+=T.parsed.y),O}}}}}}),()=>{a.current&&a.current.destroy()}},[t,i]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(od,{buttonTimeframe:"daily",activeTimeframe:i,setTimeframe:s,children:"Daily"}),d.jsx(od,{buttonTimeframe:"weekly",activeTimeframe:i,setTimeframe:s,children:"Weekly"}),d.jsx(od,{buttonTimeframe:"monthly",activeTimeframe:i,setTimeframe:s,children:"Monthly"})]})]}),d.jsx("div",{className:"relative h-96",children:t.length>0?d.jsx("canvas",{ref:r}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",d.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Wx={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:fp,image:fp},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:hp,image:hp},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:mp,image:mp},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:pp,image:pp},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:gp,image:gp}},z_=t=>{const r=t.filter(E=>E.status!=="pending"),a=r.length,i=r.filter(E=>E.status==="profit").length,s=a>0?i/a*100:0,u=r.filter(E=>E.status==="profit").reduce((E,C)=>E+(C.outcomeAmount||0),0),c=r.reduce((E,C)=>E+(parseFloat(C.tradeSetup.entryPrice)||0),0);let h=0,p=0,m=0,x=0,y=null,v=0;r.forEach(E=>{if(E.status==="stop-loss"?(p++,h=Math.max(h,p),x=0):E.status==="profit"&&(x++,m=Math.max(m,x),p=0),E.timestamp){const C=new Date(E.timestamp);if(y){const T=Math.floor((C.getTime()-y.getTime())/864e5);v=Math.max(v,T)}y=new Date(E.timestamp)}});let b="Novice Navigator";a>=30&&s>=80?b="Elite Executor":a>=20&&s>=60?b="Strategy Sentinel":a>=10&&s>=40?b="Pattern Pursuer":a>=10&&(b="Market Apprentice");const j=[];return a>=30&&h<=3&&s>=70&&j.push("Risk Master"),a>=40&&v<=7&&s>=60&&j.push("Consistency Champion"),h>=5&&m>=3&&j.push("Comeback King/Queen"),c>=1e5&&j.push("Volume Virtuoso"),u>=1e4&&j.push("Profit Hunter"),a>=20&&r.every(E=>E.status!=="stop-loss"||(E.outcomeAmount||0)>=-.02)&&j.push("Iron Hands"),m>=7&&j.push("Streak Specialist"),{tier:b,...Wx[b],badges:j}};function U_(t,r,a){switch(t){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-r,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-r,0),win:a<40?40-a:0,desc:"30 trade & win rate  40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-r,0),win:a<50?50-a:0,desc:"60 trade & win rate  50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-r,0),win:a<60?60-a:0,desc:"100 trade & win rate  60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const B_=t=>{const r=t.filter(O=>O.status!=="pending"),a=r.filter(O=>O.status==="profit"),i=r.filter(O=>O.status==="stop-loss"),s=a.length,u=i.length,c=r.length,h=c>0?s/c*100:0,p=a.reduce((O,N)=>O+(N.outcomeAmount||0),0),m=i.reduce((O,N)=>O+(N.outcomeAmount||0),0),x=s>0?p/s:0,y=u>0?m/u:0,v=m>0?p/m:0;let b=0,j=0,E=0;r.forEach(O=>{O.status==="profit"?j+=O.outcomeAmount||0:j-=O.outcomeAmount||0,j>E&&(E=j);const N=E-j;N>b&&(b=N)});const C=a.length>0?Math.max(...a.map(O=>O.outcomeAmount||0)):0,T=i.length>0?Math.max(...i.map(O=>O.outcomeAmount||0)):0;return{averageWin:x,averageLoss:y,profitFactor:v,maxDrawdown:b,bestTrade:C,worstTrade:T,totalTrades:c,winRate:h,totalWins:s,totalLosses:u}},ey=t=>{const a=t.filter(p=>p.status!=="pending").slice(-5),i=a.length>0?a.filter(p=>p.status==="profit").length/a.length:.5;let s="neutral",u=5,c="Neutral pattern";i>=.8?(s="confident",u=2,c="Confident  High Performance"):i>=.6?(s="calm",u=3,c="Calm  Consistent Results"):i>=.4?(s="nervous",u=6,c="Nervous  Mixed Results"):(s="frustrated",u=8,c="Frustrated  Poor Performance");const h=a.map((p,m)=>({tradeId:p.id,preTradeMood:["confident","calm","nervous","excited"][m%4],postTradeEmotion:p.status==="profit"?"happy":"frustrated",stressLevel:Math.floor(Math.random()*5)+3,timestamp:p.timestamp}));return{currentMood:s,stressLevel:u,emotionalPattern:c,recentEmotions:h}},P_=t=>({confident:"",nervous:"",excited:"",calm:"",frustrated:"",neutral:""})[t],q_=t=>t<=3?"text-green-600 dark:text-green-400":t<=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",I_=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:" 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:" 10 trade & win rate  40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:" 20 trade & win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:" 30 trade & win rate  80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:" 30 trade, max loss streak  3, win rate  70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:" 40 trade, win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak  5, win streak  3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading  $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit  $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:" 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak  7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:" 50 scalp trade, win rate  60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:" 30 swing trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:" 30 day trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:" 20 position trade, win rate  70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak  10, win streak  10.",requirement:"Loss streak  10, win streak  10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading  $1,000,000.",requirement:"Total nominal trading  $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate  60% di semua mode.",requirement:"Win rate  60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:" 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:" 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:" 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:" 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:" 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:" 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:" 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:" 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:" 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:" 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],H_=({currentTier:t,onClose:r})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(wn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(a=>d.jsxs("div",{children:[d.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${a==="common"?"text-green-600":a==="rare"?"text-violet-600":a==="epic"?"text-orange-600":"text-red-600"}`,children:a==="common"?"Common Tiers":a==="rare"?"Rare Tiers":a==="epic"?"Epic Tiers":"Legendary Tiers"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I_.filter(i=>i.rarity===a).map(i=>d.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${i.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":i.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":i.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${i.name===t?"ring-2 ring-violet-500":""}`,children:[d.jsx("span",{className:`text-lg font-bold ${i.colorClass}`,children:i.name}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:i.desc}),d.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",i.requirement]})]},i.name))})]},a))]})]})}),$_=({profile:t,winRate:r,totalTrades:a,onClose:i})=>{var p;const[s,u]=F.useState(!1);F.useEffect(()=>{const m=x=>{x.key==="Escape"&&(s?u(!1):i())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,s]);const c=U_(t.tier,a,r),h=c.next?(p=Wx[c.next])==null?void 0:p.image:null;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(wn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:aa.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),d.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),d.jsx("div",{className:"mt-8",children:c.next?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[h&&aa.createElement(h,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),d.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",c.next]})]}),d.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[c.desc," (",c.need>0?`${c.need} trade lagi`:"",c.win?`, win rate ${c.win}% lagi`:"",")"]})]}):d.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),d.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>u(!0),children:"Show all tiers & achievements"}),d.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),d.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[r,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a})]})]})]})]})}),s&&d.jsx(H_,{currentTier:t.tier,onClose:()=>u(!1)})]})},F_=(t,r)=>`You are an expert trading analyst with 15+ years of experience in technical analysis, market psychology, and risk management. Analyze this trading chart with extreme precision and provide a PROFITABLE trading signal.

**TRADING MODE:** ${{scalp:"SCALP trade - very short-term (1-15 minutes), tight stops, quick profits. Minimum RRR 1:1. **ANALYZE ONLY 1-15 MINUTE TIMEFRAMES. DO NOT USE HIGHER TIMEFRAMES.**",day:"DAY trade - closed today, intraday trends (5-min to 1-hour). Minimum RRR 1:1.5. **ANALYZE ONLY 5-60 MINUTE TIMEFRAMES. DO NOT USE HIGHER OR LOWER TIMEFRAMES.**",swing:"SWING trade - held for days to weeks, 4-hour to daily charts. Minimum RRR 1:2. **ANALYZE ONLY 4-HOUR TO DAILY TIMEFRAMES. DO NOT USE WEEKLY OR LOWER.**",position:"POSITION trade - held for weeks/months, weekly/monthly charts. Minimum RRR 1:3. **ANALYZE ONLY WEEKLY OR MONTHLY TIMEFRAMES. DO NOT USE LOWER TIMEFRAMES.**"}[r]}
**ACCOUNT BALANCE:** $${t.accountBalance}
**CURRENT EQUITY:** $${t.currentEquity}
**LEVERAGE:** ${t.leverage}x

**IMPORTANT TIMEFRAME INSTRUCTION:**
- Only analyze the chart using the timeframe that matches the trading mode:
  - SCALP: 1-15 minute timeframe only
  - DAY: 5-60 minute timeframe only
  - SWING: 4-hour to daily timeframe only
  - POSITION: weekly or monthly timeframe only
- Do NOT use any other timeframe in your analysis or reasoning.
- In your output, always mention the exact timeframe used in 'keyPattern' and 'rationale'.

**CRITICAL ANALYSIS REQUIREMENTS:**

1. **MARKET STRUCTURE ANALYSIS:**
   - Identify higher highs (HH) and higher lows (HL) for uptrends
   - Identify lower highs (LH) and lower lows (LL) for downtrends
   - Determine if market is trending or ranging
   - Locate key support/resistance levels

2. **TECHNICAL INDICATORS (Analyze ALL visible indicators):**
   - Moving Averages: Crossovers, price position relative to MAs
   - RSI: Overbought/oversold conditions, divergences
   - MACD: Signal line crossovers, histogram patterns
   - Volume: Volume confirmation, volume spikes
   - Bollinger Bands: Price position, squeeze patterns
   - Stochastic: Overbought/oversold, crossovers
   - Any other visible indicators

3. **PRICE ACTION PATTERNS:**
   - Candlestick patterns (Doji, Hammer, Shooting Star, etc.)
   - Chart patterns (Head & Shoulders, Triangles, Flags, etc.)
   - Breakout/breakdown patterns
   - Consolidation zones

4. **CONFLUENCE ANALYSIS:**
   - Multiple indicators pointing in same direction
   - Price action confirming indicator signals
   - Volume supporting price movement
   - Support/resistance alignment

5. **RISK ASSESSMENT:**
   - Clear stop loss level with minimal slippage risk
   - Realistic take profit target based on market structure
   - Risk/Reward ratio meeting minimum requirements
   - Market volatility consideration

6. **RISK PER TRADE DETERMINATION:**
   - Determine the optimal risk per trade (as a percentage of current equity) for this setup, considering the user's current equity, account balance, leverage, trading mode, and market conditions.
   - Use professional risk management standards (e.g., 0.5%2% typical for most traders, but justify if outside this range).
   - Return this as a field 'riskPerTrade' in your JSON response (number, e.g. 1.0 for 1%).
   - **In your rationale, always explicitly state the user's current equity and the actual risk allocation in dollars (besides the percentage). Example: 'Risk allocation is 0.5% of current equity ($50)'.**

**CONFIDENCE SCORE CRITERIA:**
- 90-100: Multiple strong confirmations, clear trend, perfect RRR
- 80-89: Strong trend with good confirmations, solid RRR
- 70-79: Good setup with some confirmations, acceptable RRR
- 60-69: Decent setup but limited confirmations
- Below 60: Weak setup, avoid trading

**TRADE SETUP REQUIREMENTS:**
- Entry price must be at optimal level (support/resistance, trend line)
- Stop loss must be beyond recent swing high/low
- Take profit must be realistic based on market structure
- RRR must meet minimum requirements for trading mode

**IMPORTANT:** Only provide signals with confidence score 70+ and clear technical justification. If no profitable setup exists, indicate "No profitable setup detected".

**RESPOND ONLY WITH VALID JSON. NO ADDITIONAL TEXT.**

**Required JSON format:**
{
  "marketTrend": "string (Uptrend/Downtrend/Sideways with strength level)",
  "keyPattern": "string (specific pattern name with timeframe, e.g. 'Bullish Engulfing on Weekly')",
  "indicatorAnalysis": "string (detailed analysis of ALL visible indicators)",
  "tradeBias": "Bullish or Bearish or Neutral",
  "confidenceScore": number (0-100, only 70+ for profitable signals),
  "riskPerTrade": number (percentage, e.g. 1.0 for 1%),
  "tradeSetup": {
    "tradeType": "Long or Short (exactly as written)",
    "entryPrice": "number as string (optimal entry level)",
    "stopLoss": "number as string (beyond swing high/low)",
    "takeProfit": "number as string (realistic target)",
    "rrr": number (must meet minimum for trading mode)
  },
  "rationale": "Detailed technical analysis in markdown format including market structure, indicator confluence, risk management justification, and the exact timeframe used."
}

Analyze the chart thoroughly and provide ONLY high-confidence, profitable trading signals using the correct timeframe for the selected trading mode.

**Jawab seluruh analisa dan output HANYA dalam bahasa Indonesia yang profesional dan mudah dipahami.**`,dg=async(t,r,a,i,s)=>{var p;if(!t)throw new Error("API key is not set.");const u=await new Promise((m,x)=>{const y=new FileReader;y.onloadend=()=>{try{const v=y.result;m(v.split(",")[1])}catch{x(new Error("Failed to process image file"))}},y.onerror=()=>x(new Error("Failed to read image file")),y.readAsDataURL(r)});let c=null;for(let m=1;m<=3;m++)try{let x=function(z,Y){if(!z)return Y;const K=String(z).trim().toLowerCase();return ce.includes(K)?K.charAt(0).toUpperCase()+K.slice(1):Y},y=function(z){if(typeof z=="number"&&!isNaN(z))return z;if(typeof z=="string"){const Y=parseFloat(z.replace(/[^\d.\-]/g,""));if(!isNaN(Y))return Y}return 0},v;m===1?v=F_({...a,currentEquity:s},i):v=`You are an expert trading analyst. Analyze this chart for PROFITABLE trading opportunities.

**Trading Mode:** ${i}
**Current Equity:** $${s}

**ANALYSIS REQUIREMENTS:**
- Identify market structure (trend direction, support/resistance)
- Analyze ALL visible technical indicators
- Look for price action patterns and breakouts
- Ensure multiple confirmations for high confidence
- Only provide signals with confidence score 70+

**Required JSON format:**
{
  "marketTrend": "Uptrend/Downtrend/Sideways with strength",
  "keyPattern": "Specific pattern with timeframe",
  "indicatorAnalysis": "Detailed analysis of ALL visible indicators",
  "tradeBias": "Bullish/Bearish/Neutral",
  "confidenceScore": 70-100,
  "riskPerTrade": "number (percentage, e.g. 1.0 for 1%)",
  "tradeSetup": {
    "tradeType": "Long/Short",
    "entryPrice": "optimal entry level",
    "stopLoss": "beyond swing high/low",
    "takeProfit": "realistic target",
    "rrr": "must meet minimum for trading mode"
  },
  "rationale": "Detailed technical analysis with market structure and risk management"
}

Only provide high-confidence, profitable signals. If no good setup exists, use confidence score below 70.

**Jawab seluruh analisa dan output HANYA dalam bahasa Indonesia yang profesional dan mudah dipahami.**`,console.log(`Attempt ${m}: Sending chart analysis request to GPT-4o...`);const b=new AbortController,j=setTimeout(()=>b.abort(),3e4),E=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading analyst AI."},{role:"user",content:[{type:"text",text:v},{type:"image_url",image_url:{url:`data:${r.type};base64,${u}`}}]}],max_tokens:2048}),signal:b.signal});if(clearTimeout(j),!E.ok){const z=await E.text();console.error("API Error Response:",z);let Y;try{Y=JSON.parse(z)}catch{Y={error:{message:E.statusText}}}throw new Error(((p=Y==null?void 0:Y.error)==null?void 0:p.message)||`HTTP ${E.status}: ${E.statusText}`)}const C=await E.json();if(console.log(`Attempt ${m}: GPT-4o response received:`,C),!C.choices||!C.choices[0]||!C.choices[0].message)throw new Error("Invalid response format from AI service");let T=C.choices[0].message.content.trim();console.log(`Attempt ${m}: Raw AI response:`,T),T=T.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"");let O=T.match(/\{[\s\S]*\}/);if(!O)throw console.error("No JSON object found in response"),console.error("Full response:",T),new Error("AI response does not contain valid JSON format");T=O[0],console.log(`Attempt ${m}: Extracted JSON string:`,T);let N;try{N=JSON.parse(T)}catch(z){throw console.error("JSON parsing failed:",z),console.error("Failed JSON string:",T),new Error("AI response format is invalid. Please try again.")}console.log(`Attempt ${m}: Parsed analysis data:`,N);const V=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(z=>!N[z]);if(console.log(`Attempt ${m}: Full AI response:`,N),V.length>0){console.error(`Attempt ${m}: Missing required fields in analysis data:`,V),console.error("Available fields:",Object.keys(N)),console.error("Analysis data:",N);const z={marketTrend:N.marketTrend||"Unknown",keyPattern:N.keyPattern||"No clear pattern",indicatorAnalysis:N.indicatorAnalysis||"No indicator analysis",tradeBias:N.tradeBias||"Neutral",confidenceScore:N.confidenceScore||50,rationale:N.rationale||"Analysis incomplete due to missing data",tradeSetup:N.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};z.tradeSetup&&!z.tradeSetup.tradeType&&(z.tradeSetup.tradeType="Long");const Y=N.confidenceScore||0,K=N.tradeSetup||{},W=parseFloat(K.rrr)||0;Y>=70&&W>0?console.log(`Attempt ${m}: High-confidence signal detected (${Y}%, RRR: ${W})`):console.warn(`Attempt ${m}: Low-confidence signal (${Y}%, RRR: ${W}) - Consider retrying`);const M=["tradeSetup"].filter(q=>!N[q]);if(M.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${M.join(", ")}`);console.log(`Attempt ${m}: Using fallback data for missing fields:`,z),N={...N,...z}}if((typeof N.riskPerTrade!="number"||isNaN(N.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),N.riskPerTrade=1),!N.tradeSetup||typeof N.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",N.tradeSetup),new Error("Trade setup data is missing or invalid");const te=["tradeType","entryPrice","stopLoss","takeProfit"].filter(z=>!N.tradeSetup[z]);if(te.length>0)throw console.error("Missing required tradeSetup fields:",te),console.error("Available tradeSetup fields:",Object.keys(N.tradeSetup)),console.error("TradeSetup data:",N.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${te.join(", ")}`);if(typeof N.confidenceScore!="number"||N.confidenceScore<0||N.confidenceScore>100)throw console.error("Invalid confidence score:",N.confidenceScore),new Error("Confidence score must be a number between 0 and 100");if(!["Bullish","Bearish","Neutral"].includes(N.tradeBias))throw console.error("Invalid trade bias:",N.tradeBias),new Error("Trade bias must be Bullish, Bearish, or Neutral");let se=N.tradeSetup.tradeType;if(typeof se=="string"?(se=se.trim().toLowerCase(),se==="long"||se==="short"?N.tradeSetup.tradeType=se.charAt(0).toUpperCase()+se.slice(1):["neutral","no trade","sideways","none","wait","hold","n/a","notrade","flat"].includes(se)?(console.warn("AI returned neutral/no trade/sideways, fallback to Long"),N.tradeSetup.tradeType="Long"):se=null):se=null,!N.tradeSetup.tradeType)if(typeof i=="string"){const z=i.trim().toLowerCase();z==="long"||z==="short"?N.tradeSetup.tradeType=z.charAt(0).toUpperCase()+z.slice(1):(console.warn("Invalid tradeType and tradingMode, fallback to Long"),N.tradeSetup.tradeType="Long")}else console.warn("Invalid tradeType and tradingMode, fallback to Long"),N.tradeSetup.tradeType="Long";const ce=["long","short"];N.tradeSetup.tradeType=x(N.tradeSetup.tradeType,"Long"),N.tradeBias=x(N.tradeBias,N.tradeSetup.tradeType),N.rationale&&/(neutral|hold|observe|sideways|no trade|wait|flat|n\/a)/i.test(N.rationale)&&(N.rationale=`AI forced to choose: ${N.tradeSetup.tradeType} (no neutral/hold allowed).`),N.tradeSetup&&(N.tradeSetup.entryPrice=y(N.tradeSetup.entryPrice),N.tradeSetup.stopLoss=y(N.tradeSetup.stopLoss),N.tradeSetup.takeProfit=y(N.tradeSetup.takeProfit));const U=C.usage?{prompt:C.usage.prompt_tokens||0,completion:C.usage.completion_tokens||0,total:C.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return console.log(`Attempt ${m}: Analysis successful!`),{analysis:N,usage:U}}catch(x){console.error(`Attempt ${m} failed:`,x),c=x instanceof Error?x:new Error(String(x)),m<3&&(console.log(`Retrying with simplified prompt... (attempt ${m+1}/3)`),await new Promise(y=>setTimeout(y,1e3)))}console.error("All analysis attempts failed");const h=`AI analysis failed after all attempts. Last error: ${(c==null?void 0:c.message)||c}`;throw new Error(h)},G_=async(t,r)=>{var a;if(!t)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to GPT-4o...");const i=new AbortController,s=setTimeout(()=>i.abort(),3e4),u=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading performance coach."},{role:"user",content:r}],max_tokens:2048}),signal:i.signal});if(clearTimeout(s),!u.ok){const m=await u.text();console.error("API Error Response:",m);let x;try{x=JSON.parse(m)}catch{x={error:{message:u.statusText}}}throw new Error(((a=x==null?void 0:x.error)==null?void 0:a.message)||`HTTP ${u.status}: ${u.statusText}`)}const c=await u.json();if(console.log("GPT-4o performance response received:",c),!c.choices||!c.choices[0]||!c.choices[0].message)throw new Error("Invalid response format from AI service");const h=c.choices[0].message.content,p=c.usage?{prompt:c.usage.prompt_tokens||0,completion:c.usage.completion_tokens||0,total:c.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:h,usage:p}}catch(i){throw console.error("Error in analyzePerformance:",i),i instanceof Error&&i.name==="AbortError"?new Error("Request timeout. Please try again."):i}},Y_=async(t,r,a)=>{var u;if(!t)throw new Error("API key is not set.");if(!r)throw new Error("Portfolio data is not available.");const i=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(r,null,2)}

        Pengguna memiliki pertanyaan berikut: "${a}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to GPT-4o...");const c=new AbortController,h=setTimeout(()=>c.abort(),3e4),p=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:i},{role:"user",content:s}],max_tokens:2048}),signal:c.signal});if(clearTimeout(h),!p.ok){const v=await p.text();console.error("API Error Response:",v);let b;try{b=JSON.parse(v)}catch{b={error:{message:p.statusText}}}throw new Error(((u=b==null?void 0:b.error)==null?void 0:u.message)||`HTTP ${p.status}: ${p.statusText}`)}const m=await p.json();if(console.log("GPT-4o financial advice response received:",m),!m.choices||!m.choices[0]||!m.choices[0].message)throw new Error("Invalid response format from AI service");const x=m.choices[0].message.content,y=m.usage?{prompt:m.usage.prompt_tokens||0,completion:m.usage.completion_tokens||0,total:m.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:x,usage:y}}catch(c){throw console.error("Error in generateFinancialAdvice:",c),c instanceof Error&&c.name==="AbortError"?new Error("Request timeout. Please try again."):c}},V_=async t=>{if(!t)return!1;try{return!0}catch(r){return console.error("API Key validation failed:",r),!1}},Q_=({advancedMetrics:t,psychologyMetrics:r})=>{const a=s=>`${s.toFixed(1)}%`,i=s=>s.toFixed(2);return d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Performance"}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Win Rate:"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:a(t.winRate)})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Profit Factor:"}),d.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400",children:i(t.profitFactor)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Psychology"}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:P_(r.currentMood)}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Mood:"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 capitalize",children:r.currentMood})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Stress:"}),d.jsxs("span",{className:`font-bold ${q_(r.stressLevel)}`,children:[r.stressLevel,"/10"]})]})]})]})},X_=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),bl=({buttonMode:t,activeMode:r,onClick:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${r===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i}),K_=({updateTokenUsage:t,apiKey:r,apiStatus:a,allTrades:i,mode:s,setDashboardSource:u,initialCapital:c,netPL:h,currentEquity:p})=>{const[m,x]=F.useState(""),[y,v]=F.useState(!0),[b,j]=F.useState(!1),[E,C]=F.useState(0),T=F.useMemo(()=>({scalp:i.filter(z=>z.mode==="scalp"),swing:i.filter(z=>z.mode==="swing"),day:i.filter(z=>z.mode==="day"),position:i.filter(z=>z.mode==="position")}),[i]),O=F.useMemo(()=>s==="all"?i:T[s],[s,i,T]),N=F.useMemo(()=>z_(i),[i]),G=F.useMemo(()=>{const z=O.filter(M=>M.status!=="pending"),Y=z.filter(M=>M.status==="profit").length,K=z.filter(M=>M.status==="stop-loss").length,W=Y+K;return{winRate:W>0?Math.round(Y/W*100):0,wins:Y,losses:K,totalCompleted:W}},[O]);F.useEffect(()=>{x(""),v(!0)},[r]);const V=["all","scalp","day","swing","position"],D={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},te=V.map(z=>{const Y=z==="all"?i:i.filter($=>$.mode===z),K=Y.filter($=>$.status!=="pending"),W=K.filter($=>$.status==="profit").length,ie=K.filter($=>$.status==="stop-loss").length,M=W+ie,q=M>0?Math.round(W/M*100):0,le=K.reduce(($,ee)=>ee.status==="profit"?$+(ee.outcomeAmount||0):ee.status==="stop-loss"?$-(ee.outcomeAmount||0):$,0),he=z==="all"?c:0,k=z==="all"?p:0;return{mode:D[z],initialCapital:he,netPL:le,currentEquity:k,totalTrades:Y.length,winRate:q,wins:W,losses:ie,completed:M}}),se=B_(i),ce=ey(i);F.useEffect(()=>{if(s!=="all")return;(async()=>{if(a!=="valid"){x("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),v(!1);return}if(i.length===0){x("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),v(!1);return}v(!0);try{const K=`You are an expert trading performance coach and psychology analyst. Here are the user's trading statistics for each mode:

${te.map(ee=>`${ee.mode}:
- Initial Capital: $${ee.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${ee.netPL>=0?"+":""}${ee.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${ee.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${ee.totalTrades}
- Win Rate: ${ee.winRate}%
- Wins: ${ee.wins}
- Losses: ${ee.losses}
- Completed: ${ee.completed}`).join(`

`)}

**ANALYSIS REQUIREMENTS:**

- Gabungkan seluruh insight (performance, playbook, diary, psychology) dalam SATU paragraf narasi singkat, tanpa judul atau icon.
- Setelah itu, di paragraf terpisah, tuliskan 2-3 saran actionable yang jelas dan langsung ke poin.

Jawab SINGKAT, maksimal 3 kalimat untuk narasi utama, dan 1 paragraf untuk saran. Jangan gunakan emoji/icon. Bahasa Indonesia yang jelas dan mudah dipahami.`,W=Z_(te),ie="fomo-ai-analysis",M="fomo-ai-hash",q=localStorage.getItem(M),le=localStorage.getItem(ie);if(q===W&&le){x(le),v(!1);return}const{analysisText:he,usage:k}=await G_(r,K);t(k);const $=he.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();x($),localStorage.setItem(ie,$),localStorage.setItem(M,W)}catch(Y){console.error("Failed to get AI analysis:",Y);const K=Y instanceof Error?Y.message:String(Y);let W="Terjadi kesalahan saat mengambil analisis AI.";K.toLowerCase().includes("quota")||K.toLowerCase().includes("rate limit")?W="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":K.toLowerCase().includes("api key")||K.toLowerCase().includes("unauthorized")?W="API key tidak valid. Silakan periksa pengaturan API key Anda.":K.toLowerCase().includes("network")||K.toLowerCase().includes("fetch")?W="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":K.toLowerCase().includes("invalid response")||K.toLowerCase().includes("format")?W="Format respons AI tidak valid. Silakan coba lagi.":K.toLowerCase().includes("timeout")?W="Request timeout. Silakan coba lagi.":W=`Error: ${K}`,x(W)}finally{v(!1)}})()},[r,a,s,E,te]);const U=()=>{localStorage.removeItem("fomo-ai-analysis"),localStorage.removeItem("fomo-ai-hash"),C(z=>z+1)};return d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto",children:[b&&d.jsx($_,{profile:N,winRate:G.winRate,totalTrades:G.totalCompleted,onClose:()=>j(!1)}),d.jsxs("header",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("button",{onClick:()=>j(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:N&&N.image&&aa.createElement(N.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),d.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",d.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:s==="all"?"All":s})," trading history."]})]})]})}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[d.jsx(bl,{buttonMode:"all",activeMode:s,onClick:u,children:"All"}),d.jsx(bl,{buttonMode:"scalp",activeMode:s,onClick:u,children:"Scalp"}),d.jsx(bl,{buttonMode:"day",activeMode:s,onClick:u,children:"Day"}),d.jsx(bl,{buttonMode:"swing",activeMode:s,onClick:u,children:"Swing"}),d.jsx(bl,{buttonMode:"position",activeMode:s,onClick:u,children:"Position"})]})]}),d.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(Nr,{label:"Initial Capital",value:`$${c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(xp,{className:"w-6 h-6"}),color:"violet"}),d.jsx(Nr,{label:"Net P/L",value:`${h>=0?"+":""}$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(Qg,{className:"w-6 h-6"}),color:h>=0?"green":"red"}),d.jsx(Nr,{label:"Current Equity",value:`$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(xp,{className:"w-6 h-6"}),color:"blue"}),d.jsx(Nr,{label:"Total Trades Analyzed",value:i.length,icon:d.jsx(Gv,{className:"w-6 h-6"}),color:"orange"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(Nr,{label:"Active Win Rate",value:`${G.winRate}%`,icon:d.jsx(Vg,{className:"w-6 h-6"}),color:"emerald"}),d.jsx(Nr,{label:"Active Wins",value:G.wins,icon:d.jsx(Or,{className:"w-6 h-6"}),color:"green"}),d.jsx(Nr,{label:"Active Losses",value:G.losses,icon:d.jsx(wn,{className:"w-6 h-6"}),color:"red"}),d.jsx(Nr,{label:"Active Completed",value:G.totalCompleted,icon:d.jsx(uo,{className:"w-6 h-6"}),color:"violet"})]}),s==="all"&&d.jsxs(d.Fragment,{children:[d.jsx(Q_,{advancedMetrics:se,psychologyMetrics:ce}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[d.jsx(co,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),d.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),d.jsx("button",{onClick:U,className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,title:"Refresh AI Analysis",children:"Refresh"})]}),y?d.jsx(X_,{}):m&&(m.toLowerCase().includes("error")||m.toLowerCase().includes("unavailable")||m.toLowerCase().includes("failed")||m.toLowerCase().includes("quota")||m.toLowerCase().includes("terjadi kesalahan"))?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:m}),d.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):d.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:d.jsx(af,{children:m,remarkPlugins:[uf]})})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:d.jsx(M_,{history:O})})]})]})};function Z_(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}const J_=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],fg=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],W_=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:J_.map((t,r)=>{const a=60+Math.random()*90,i=fg[r%fg.length];return d.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${a}px`,height:`${a}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,a/6)}px`},children:t},t)})}),d.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),e4=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:d.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),d.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),d.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),d.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),d.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),d.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),d.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),d.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),d.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),d.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),ud=({icon:t,title:r,description:a})=>d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[d.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:d.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:t})}),d.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),d.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:a})]}),t4=({onNavigate:t})=>d.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[d.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[d.jsx(W_,{}),d.jsx(e4,{}),d.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",d.jsx("br",{}),d.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),d.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),d.jsx("button",{onClick:()=>t("dashboard"),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),d.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:d.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[d.jsx(ud,{icon:d.jsx(co,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),d.jsx(ud,{icon:d.jsx(vd,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),d.jsx(ud,{icon:d.jsx(Vg,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),hg=({user:t,onNavigate:r,onLogoutClick:a})=>{const[i,s]=F.useState(!1),u=F.useRef(null);return F.useEffect(()=>{const c=h=>{u.current&&!u.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),t?d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[d.jsx(Hv,{className:"h-6 w-6"}),d.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:d.jsxs("div",{className:"py-1",role:"none",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),d.jsxs("button",{onClick:()=>{r("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(wd,{className:"w-5 h-5"}),d.jsx("span",{children:"Profile & Settings"})]}),d.jsxs("button",{onClick:()=>{a(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(Xv,{className:"w-5 h-5"}),d.jsx("span",{children:"Logout"})]})]})})]}):null},mg=({onNavigate:t,user:r,onLoginClick:a,onLogoutClick:i,onMobileMenuToggle:s,showUserIcon:u,activeMode:c})=>d.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:d.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&d.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:d.jsx(Zv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),d.jsx("div",{className:"flex-shrink-0 flex items-center",children:d.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[d.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),d.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),d.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[c!=="dashboard"&&d.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),r?d.jsx(d.Fragment,{children:u&&d.jsx(hg,{user:r,onLogoutClick:i,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),d.jsx("div",{className:"lg:hidden flex items-center gap-2",children:r?d.jsx(d.Fragment,{children:u&&d.jsx(hg,{user:r,onLogoutClick:i,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})}),n4="modulepreload",r4=function(t){return"/fomo/"+t},pg={},Ml=function(r,a,i){let s=Promise.resolve();if(a&&a.length>0){let c=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(a.map(m=>{if(m=r4(m),m in pg)return;pg[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":n4,x||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&u(h.reason);return r().catch(u)})},a4=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)};class cf extends Error{constructor(r,a="FunctionsError",i){super(r),this.name=a,this.context=i}}class i4 extends cf{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class gg extends cf{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class xg extends cf{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Dd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Dd||(Dd={}));var l4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class s4{constructor(r,{headers:a={},customFetch:i,region:s=Dd.Any}={}){this.url=r,this.headers=a,this.region=s,this.fetch=a4(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var i;return l4(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:c}=a;let h={},{region:p}=a;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x}).catch(E=>{throw new i4(E)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new gg(y);if(!y.ok)throw new xg(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield y.json():b==="application/octet-stream"?j=yield y.blob():b==="text/event-stream"?j=y:b==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof xg||s instanceof gg?s.context:void 0}}})}}var wt={},Xa={},Ka={},Za={},Ja={},Wa={},o4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=o4();const u4=ui.fetch,ty=ui.fetch.bind(ui),ny=ui.Headers,c4=ui.Request,d4=ui.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:ny,Request:c4,Response:d4,default:ty,fetch:u4},Symbol.toStringTag,{value:"Module"})),f4=Cv(fi);var eo={},yg;function ry(){if(yg)return eo;yg=1,Object.defineProperty(eo,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return eo.default=t,eo}var bg;function ay(){if(bg)return Wa;bg=1;var t=Wa&&Wa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Wa,"__esModule",{value:!0});const r=t(f4),a=t(ry());class i{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,y,v,b;let j=null,E=null,C=null,T=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const G=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),V=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");G&&V&&V.length>1&&(C=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,C=null,T=406,O="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const G=await m.text();try{j=JSON.parse(G),Array.isArray(j)&&m.status===404&&(E=[],j=null,T=200,O="OK")}catch{m.status===404&&G===""?(T=204,O="No Content"):j={message:G}}if(j&&this.isMaybeSingle&&(!((b=j==null?void 0:j.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,T=200,O="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:E,count:C,status:T,statusText:O}});return this.shouldThrowOnError||(p=p.catch(m=>{var x,y,v;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Wa.default=i,Wa}var vg;function iy(){if(vg)return Ja;vg=1;var t=Ja&&Ja.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ja,"__esModule",{value:!0});const r=t(ay());class a extends r.default{select(s){let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:u=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${s}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:u,referencedTable:c=u}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${u-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:u=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const y=[s?"analyze":null,u?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ja.default=a,Ja}var wg;function df(){if(wg)return Za;wg=1;var t=Za&&Za.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Za,"__esModule",{value:!0});const r=t(iy());class a extends r.default{eq(s,u){return this.url.searchParams.append(s,`eq.${u}`),this}neq(s,u){return this.url.searchParams.append(s,`neq.${u}`),this}gt(s,u){return this.url.searchParams.append(s,`gt.${u}`),this}gte(s,u){return this.url.searchParams.append(s,`gte.${u}`),this}lt(s,u){return this.url.searchParams.append(s,`lt.${u}`),this}lte(s,u){return this.url.searchParams.append(s,`lte.${u}`),this}like(s,u){return this.url.searchParams.append(s,`like.${u}`),this}likeAllOf(s,u){return this.url.searchParams.append(s,`like(all).{${u.join(",")}}`),this}likeAnyOf(s,u){return this.url.searchParams.append(s,`like(any).{${u.join(",")}}`),this}ilike(s,u){return this.url.searchParams.append(s,`ilike.${u}`),this}ilikeAllOf(s,u){return this.url.searchParams.append(s,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(s,u){return this.url.searchParams.append(s,`ilike(any).{${u.join(",")}}`),this}is(s,u){return this.url.searchParams.append(s,`is.${u}`),this}in(s,u){const c=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cs.{${u.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(u)}`),this}containedBy(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cd.{${u.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(u)}`),this}rangeGt(s,u){return this.url.searchParams.append(s,`sr.${u}`),this}rangeGte(s,u){return this.url.searchParams.append(s,`nxl.${u}`),this}rangeLt(s,u){return this.url.searchParams.append(s,`sl.${u}`),this}rangeLte(s,u){return this.url.searchParams.append(s,`nxr.${u}`),this}rangeAdjacent(s,u){return this.url.searchParams.append(s,`adj.${u}`),this}overlaps(s,u){return typeof u=="string"?this.url.searchParams.append(s,`ov.${u}`):this.url.searchParams.append(s,`ov.{${u.join(",")}}`),this}textSearch(s,u,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${u}`),this}match(s){return Object.entries(s).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(s,u,c){return this.url.searchParams.append(s,`not.${u}.${c}`),this}or(s,{foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,u,c){return this.url.searchParams.append(s,`${u}.${c}`),this}}return Za.default=a,Za}var kg;function ly(){if(kg)return Ka;kg=1;var t=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0});const r=t(df());class a{constructor(s,{headers:u={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(u),this.schema=c,this.fetch=h}select(s,{head:u=!1,count:c}={}){const h=u?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:u,defaultToNull:c=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:u,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:u}={}){var c;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var u;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ka.default=a,Ka}var Sg;function h4(){if(Sg)return Xa;Sg=1;var t=Xa&&Xa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xa,"__esModule",{value:!0});const r=t(ly()),a=t(df());class i{constructor(u,{headers:c={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(u){const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:h=!1,get:p=!1,count:m}={}){var x;let y;const v=new URL(`${this.url}/rpc/${u}`);let b;h||p?(y=h?"HEAD":"GET",Object.entries(c).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{v.searchParams.append(E,C)})):(y="POST",b=c);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new a.default({method:y,url:v,headers:j,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Xa.default=i,Xa}var jg;function m4(){if(jg)return wt;jg=1;var t=wt&&wt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const r=t(h4());wt.PostgrestClient=r.default;const a=t(ly());wt.PostgrestQueryBuilder=a.default;const i=t(df());wt.PostgrestFilterBuilder=i.default;const s=t(iy());wt.PostgrestTransformBuilder=s.default;const u=t(ay());wt.PostgrestBuilder=u.default;const c=t(ry());return wt.PostgrestError=c.default,wt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:c.default},wt}var p4=m4();const g4=Rl(p4),{PostgrestClient:x4,PostgrestQueryBuilder:ON,PostgrestFilterBuilder:DN,PostgrestTransformBuilder:LN,PostgrestBuilder:MN,PostgrestError:zN}=g4;function y4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const b4=y4(),v4="2.11.15",w4=`realtime-js/${v4}`,k4="1.0.0",sy=1e4,S4=1e3;var jl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jl||(jl={}));var Ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ct||(Ct={}));var vn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vn||(vn={}));var Ld;(function(t){t.websocket="websocket"})(Ld||(Ld={}));var ra;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ra||(ra={}));class j4{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,a,i)}_decodeBroadcast(r,a,i){const s=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(r.slice(c,c+s));c=c+s;const p=i.decode(r.slice(c,c+u));c=c+u;const m=JSON.parse(i.decode(r.slice(c,r.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class oy{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const _g=(t,r,a={})=>{var i;const s=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(r).reduce((u,c)=>(u[c]=_4(c,t,r,s),u),{})},_4=(t,r,a,i)=>{const s=r.find(h=>h.name===t),u=s==null?void 0:s.type,c=a[t];return u&&!i.includes(u)?uy(u,c):Md(c)},uy=(t,r)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return T4(r,a)}switch(t){case Ke.bool:return E4(r);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return N4(r);case Ke.json:case Ke.jsonb:return A4(r);case Ke.timestamp:return C4(r);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Md(r);default:return Md(r)}},Md=t=>t,E4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},N4=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},A4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},T4=(t,r)=>{if(typeof t!="string")return t;const a=t.length-1,i=t[a];if(t[0]==="{"&&i==="}"){let u;const c=t.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>uy(r,h))}return t},C4=t=>typeof t=="string"?t.replace(" ","T"):t,cy=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class cd{constructor(r,a,i={},s=sy){this.channel=r,this.event=a,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var i;return this._hasReceived(r)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Eg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eg||(Eg={}));class _l{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,s,u,c),this.pendingDiffs.forEach(p=>{this.state=_l.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_l.syncDiff(this.state,s,u,c),h())}),this.onJoin((s,u,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:c})}),this.onLeave((s,u,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,i,s){const u=this.cloneDeep(r),c=this.transformState(a),h={},p={};return this.map(u,(m,x)=>{c[m]||(p[m]=x)}),this.map(c,(m,x)=>{const y=u[m];if(y){const v=x.map(C=>C.presence_ref),b=y.map(C=>C.presence_ref),j=x.filter(C=>b.indexOf(C.presence_ref)<0),E=y.filter(C=>v.indexOf(C.presence_ref)<0);j.length>0&&(h[m]=j),E.length>0&&(p[m]=E)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},i,s)}static syncDiff(r,a,i,s){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=r[h])!==null&&m!==void 0?m:[];if(r[h]=this.cloneDeep(p),x.length>0){const y=r[h].map(b=>b.presence_ref),v=x.filter(b=>y.indexOf(b.presence_ref)<0);r[h].unshift(...v)}i(h,x,p)}),this.map(c,(h,p)=>{let m=r[h];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),r[h]=m,s(h,m,p),m.length===0&&delete r[h]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(i=>a(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,i)=>{const s=r[i];return"metas"in s?a[i]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=s,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ng;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ng||(Ng={}));var Ag;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ag||(Ag={}));var Qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class ff{constructor(r,a={config:{}},i){this.topic=r,this.params=a,this.socket=i,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new cd(this,vn.join,this.params,this.timeout),this.rejoinTimer=new oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new _l(this),this.broadcastEndpointURL=cy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params;this._onError(x=>r==null?void 0:r(Qn.CHANNEL_ERROR,x)),this._onClose(()=>r==null?void 0:r(Qn.CLOSED));const p={},m={broadcast:u,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){r==null||r(Qn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,j=[];for(let E=0;E<b;E++){const C=v[E],{filter:{event:T,schema:O,table:N,filter:G}}=C,V=x&&x[E];if(V&&V.event===T&&V.schema===O&&V.table===N&&V.filter===G)j.push(Object.assign(Object.assign({},C),{id:V.id}));else{this.unsubscribe(),this.state=Ct.errored,r==null||r(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,r&&r(Qn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ct.errored,r==null||r(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,i){return this._on(r,a,i)}async send(r,a={}){var i,s;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const m=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ct.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new cd(this,vn.leave,{},r),i.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,a,i){const s=new AbortController,u=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(u),c}_push(r,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cd(this,r,a,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(r,a,i){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,i){var s,u;const c=r.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=vn;if(i&&[h,p,m,x].indexOf(c)>=0&&i!==this._joinRef())return;let v=this._onMessage(c,a,i);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,E,C;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(b=>b.callback(v,i)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var j,E,C,T,O,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const G=b.id,V=(j=b.filter)===null||j===void 0?void 0:j.event;return G&&((E=a.ids)===null||E===void 0?void 0:E.includes(G))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((C=a.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const G=(O=(T=b==null?void 0:b.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return G==="*"||G===((N=a==null?void 0:a.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:E,table:C,commit_timestamp:T,type:O,errors:N}=j;v=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:T,eventType:O,new:{},old:{},errors:N}),this._getPayloadRecords(j))}b.callback(v,i)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,i){const s=r.toLocaleLowerCase(),u={type:s,filter:a,callback:i};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(r,a){const i=r.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ff.isEqual(s.filter,a))}),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const i in r)if(r[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(vn.close,{},r)}_onError(r){this._on(vn.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=_g(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=_g(r.columns,r.old_record)),a}}const Tg=()=>{},R4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O4{constructor(r,a){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tg,this.ref=0,this.logger=Tg,this.conn=null,this.sendBuffer=[],this.serializer=new j4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...h)=>Ml(async()=>{const{default:p}=await Promise.resolve().then(()=>fi);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${r}/${Ld.websocket}`,this.httpEndpoint=cy(r),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(i=a==null?void 0:a.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(u,c)=>c(JSON.stringify(u)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=b4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:k4}))}disconnect(r,a){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,i){this.logger(r,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case jl.connecting:return ra.Connecting;case jl.open:return ra.Open;case jl.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(r,a={config:{}}){const i=`realtime:${r}`,s=this.getChannels().find(u=>u.topic===i);if(s)return s;{const u=new ff(`realtime:${r}`,a,this);return this.channels.push(u),u}}push(r){const{topic:a,event:i,payload:s,ref:u}=r,c=()=>{this.encode(r,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${a} ${i} (${u})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){let a=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const s={access_token:a,version:w4};a&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(vn.access_token,{access_token:a})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(S4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,a=>{let{topic:i,event:s,payload:u,ref:c}=a;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,u,c)),this.stateChangeCallbacks.message.forEach(h=>h(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(vn.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const i=r.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${r}${i}${s}`}_workerObjectUrl(r){let a;if(r)a=r;else{const i=new Blob([R4],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}}class hf extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class D4 extends hf{constructor(r,a){super(r),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zd extends hf{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var L4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const dy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)},M4=()=>L4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ml(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),Ud=t=>{if(Array.isArray(t))return t.map(a=>Ud(a));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([a,i])=>{const s=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[s]=Ud(i)}),r};var sa=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const dd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z4=(t,r,a)=>sa(void 0,void 0,void 0,function*(){const i=yield M4();t instanceof i&&!(a!=null&&a.noResolveJson)?t.json().then(s=>{r(new D4(dd(s),t.status||500))}).catch(s=>{r(new zd(dd(s),s))}):r(new zd(dd(t),t))}),U4=(t,r,a,i)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),a))};function zl(t,r,a,i,s,u){return sa(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(a,U4(r,i,s,u)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>z4(p,h,i))})})}function xo(t,r,a,i){return sa(this,void 0,void 0,function*(){return zl(t,"GET",r,a,i)})}function Tr(t,r,a,i,s){return sa(this,void 0,void 0,function*(){return zl(t,"POST",r,i,s,a)})}function B4(t,r,a,i,s){return sa(this,void 0,void 0,function*(){return zl(t,"PUT",r,i,s,a)})}function P4(t,r,a,i){return sa(this,void 0,void 0,function*(){return zl(t,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function fy(t,r,a,i,s){return sa(this,void 0,void 0,function*(){return zl(t,"DELETE",r,i,s,a)})}var qt=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const q4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I4{constructor(r,a={},i,s){this.url=r,this.headers=a,this.bucketId=i,this.fetch=dy(s)}uploadOrUpdate(r,a,i,s){return qt(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Cg),s);let h=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const m=this._removeEmptyFolders(a),x=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:r,body:u,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}upload(r,a,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,i)})}uploadToSignedUrl(r,a,i,s){return qt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",a);try{let p;const m=Object.assign({upsert:Cg.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:x}),v=yield y.json();return y.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(p){if(kt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,a){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const u=yield Tr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+u.url),h=c.searchParams.get("token");if(!h)throw new hf("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}update(r,a,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,i)})}move(r,a,i){return qt(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(r,a,i){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(r,a,i){return qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),u=yield Tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(r,a,i){return qt(this,void 0,void 0,function*(){try{const s=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}download(r,a){return qt(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=u?`?${u}`:"";try{const h=this._getFinalPath(r);return{data:yield(yield xo(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(kt(h))return{data:null,error:h};throw h}})}info(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const i=yield xo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Ud(i),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}exists(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield P4(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(kt(i)&&i instanceof zd){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,a){const i=this._getFinalPath(r),s=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&s.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(r){return qt(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}list(r,a,i){return qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},q4),a),{prefix:r||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const H4="2.7.1",$4={"X-Client-Info":`storage-js/${H4}`};var ei=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class F4{constructor(r,a={},i){this.url=r,this.headers=Object.assign(Object.assign({},$4),a),this.fetch=dy(i)}listBuckets(){return ei(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}getBucket(r){return ei(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return ei(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(r,a){return ei(this,void 0,void 0,function*(){try{return{data:yield B4(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(r){return ei(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}deleteBucket(r){return ei(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}}class G4 extends F4{constructor(r,a={},i){super(r,a,i)}from(r){return new I4(this.url,this.headers,r,this.fetch)}}const Y4="2.50.4";let vl="";typeof Deno<"u"?vl="deno":typeof document<"u"?vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vl="react-native":vl="node";const V4={"X-Client-Info":`supabase-js-${vl}/${Y4}`},Q4={headers:V4},X4={schema:"public"},K4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z4={};var J4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const W4=t=>{let r;return t?r=t:typeof fetch>"u"?r=ty:r=fetch,(...a)=>r(...a)},eE=()=>typeof Headers>"u"?ny:Headers,tE=(t,r,a)=>{const i=W4(a),s=eE();return(u,c)=>J4(void 0,void 0,void 0,function*(){var h;const p=(h=yield r())!==null&&h!==void 0?h:t;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},c),{headers:m}))})};var nE=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};function rE(t){return t.endsWith("/")?t:t+"/"}function aE(t,r){var a,i;const{db:s,auth:u,realtime:c,global:h}=t,{db:p,auth:m,realtime:x,global:y}=r,v={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),c),global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>nE(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const hy="2.70.0",ii=30*1e3,Bd=3,fd=Bd*ii,iE="http://localhost:9999",lE="supabase.auth.token",sE={"X-Client-Info":`gotrue-js/${hy}`},Pd="X-Supabase-Api-Version",my={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uE=6e5;class mf extends Error{constructor(r,a,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cE extends mf{constructor(r,a,i){super(r,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function dE(t){return Ee(t)&&t.name==="AuthApiError"}class py extends mf{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class Lr extends mf{constructor(r,a,i,s){super(r,i,s),this.name=a,this.status=i}}class Ar extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fE(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class to extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends Lr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class ro extends Lr{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hE(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rg extends Lr{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qd extends Lr{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function hd(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class Og extends Lr{constructor(r,a,i){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class El extends Lr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dg=` 	
\r=`.split(""),mE=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<Dg.length;r+=1)t[Dg[r].charCodeAt(0)]=-2;for(let r=0;r<yo.length;r+=1)t[yo[r].charCodeAt(0)]=r;return t})();function Lg(t,r,a){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;a(yo[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;a(yo[i]),r.queuedBits-=6}}function gy(t,r,a){const i=mE[t];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mg(t){const r=[],a=c=>{r.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},u=c=>{xE(c,i,a)};for(let c=0;c<t.length;c+=1)gy(t.charCodeAt(c),s,u);return r.join("")}function pE(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gE(t,r){for(let a=0;a<t.length;a+=1){let i=t.charCodeAt(a);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}pE(i,r)}}function xE(t,r,a){if(r.utf8seq===0){if(t<=127){a(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function yE(t){const r=[],a={queue:0,queuedBits:0},i=s=>{r.push(s)};for(let s=0;s<t.length;s+=1)gy(t.charCodeAt(s),a,i);return new Uint8Array(r)}function bE(t){const r=[];return gE(t,a=>r.push(a)),new Uint8Array(r)}function vE(t){const r=[],a={queue:0,queuedBits:0},i=s=>{r.push(s)};return t.forEach(s=>Lg(s,a,i)),Lg(null,a,i),r.join("")}function wE(t){return Math.round(Date.now()/1e3)+t}function kE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},Nl=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function SE(t){const r={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,u)=>{r[u]=s})}catch{}return a.searchParams.forEach((i,s)=>{r[s]=i}),r}const xy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)},jE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yy=async(t,r,a)=>{await t.setItem(r,JSON.stringify(a))},ao=async(t,r)=>{const a=await t.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},io=async(t,r)=>{await t.removeItem(r)};class _o{constructor(){this.promise=new _o.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}_o.promiseConstructor=Promise;function md(t){const r=t.split(".");if(r.length!==3)throw new El("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!oE.test(r[i]))throw new El("JWT not in base64url format");return{header:JSON.parse(Mg(r[0])),payload:JSON.parse(Mg(r[1])),signature:yE(r[2]),raw:{header:r[0],payload:r[1]}}}async function _E(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function EE(t,r){return new Promise((i,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!r(u,null,c)){i(c);return}}catch(c){if(!r(u,c)){s(c);return}}})()})}function NE(t){return("0"+t.toString(16)).substr(-2)}function AE(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let s="";for(let u=0;u<56;u++)s+=a.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(r),Array.from(r,NE).join("")}async function TE(t){const a=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(i);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}async function CE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await TE(t);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(t,r,a=!1){const i=AE();let s=i;a&&(s+="/PASSWORD_RECOVERY"),await yy(t,`${r}-code-verifier`,s);const u=await CE(i);return[u,i===u?"plain":"s256"]}const RE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OE(t){const r=t.headers.get(Pd);if(!r||!r.match(RE))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function DE(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function LE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ME=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(t){if(!ME.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var zE=function(t,r){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(a[i[s]]=t[i[s]]);return a};const na=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UE=[502,503,504];async function zg(t){var r;if(!jE(t))throw new qd(na(t),0);if(UE.includes(t.status))throw new qd(na(t),t.status);let a;try{a=await t.json()}catch(u){throw new py(na(u),u)}let i;const s=OE(t);if(s&&s.getTime()>=my["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Og(na(a),t.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Ar}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Og(na(a),t.status,a.weak_password.reasons);throw new cE(na(a),t.status||500,i)}const BE=(t,r,a,i)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),a))};async function Le(t,r,a,i){var s;const u=Object.assign({},i==null?void 0:i.headers);u[Pd]||(u[Pd]=my["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await PE(t,r,a+h,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function PE(t,r,a,i,s,u){const c=BE(r,i,s,u);let h;try{h=await t(a,Object.assign({},c))}catch(p){throw console.error(p),new qd(na(p),0)}if(h.ok||await zg(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await zg(p)}}function Vn(t){var r;let a=null;$E(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=wE(t.expires_in)));const i=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:a,user:i},error:null}}function Ug(t){const r=Vn(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(r.data.weak_password=t.weak_password),r}function Cr(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function qE(t){return{data:t,error:null}}function IE(t){const{action_link:r,email_otp:a,hashed_token:i,redirect_to:s,verification_type:u}=t,c=zE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:r,email_otp:a,hashed_token:i,redirect_to:s,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function HE(t){return t}function $E(t){return t.access_token&&t.refresh_token&&t.expires_in}const pd=["global","local","others"];var FE=function(t,r){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(a[i[s]]=t[i[s]]);return a};class GE{constructor({url:r="",headers:a={},fetch:i}){this.url=r,this.headers=a,this.fetch=xy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a=pd[0]){if(pd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,a={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Cr})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:a}=r,i=FE(r,["options"]),s=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:IE,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(Ee(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Cr})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,i,s,u,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:HE});if(x.error)throw x.error;const y=await x.json(),v=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);m[`${C}Page`]=E}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Ee(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){ni(r);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Cr})}catch(a){if(Ee(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){ni(r);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:Cr})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,a=!1){ni(r);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:Cr})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){ni(r.userId);try{const{data:a,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:i}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _deleteFactor(r){ni(r.userId),ni(r.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}}const YE={getItem:t=>Nl()?globalThis.localStorage.getItem(t):null,setItem:(t,r)=>{Nl()&&globalThis.localStorage.setItem(t,r)},removeItem:t=>{Nl()&&globalThis.localStorage.removeItem(t)}};function Bg(t={}){return{getItem:r=>t[r]||null,setItem:(r,a)=>{t[r]=a},removeItem:r=>{delete t[r]}}}function VE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ri={debug:!!(globalThis&&Nl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class by extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class QE extends by{}async function XE(t,r,a){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await a()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(r===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new QE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ri.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}VE();const KE={url:iE,storageKey:lE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pg(t,r,a){return await a()}class Cl{constructor(r){var a,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cl.nextInstanceID,Cl.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},KE),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xy(s.fetch),this.lock=s.lock||Pg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=XE:this.lock=Pg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Nl()?this.storage=YE:(this.memoryStorage={},this.storage=Bg(this.memoryStorage)):(this.memoryStorage={},this.storage=Bg(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hy}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const a=SE(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),bn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),hE(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return Ee(a)?{error:a}:{error:new py("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,i,s;try{const u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vn}),{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var a,i,s;try{let u;if("email"in r){const{email:x,password:y,options:v}=r;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await ti(this.storage,this.storageKey)),u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:y,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:j},xform:Vn})}else if("phone"in r){const{phone:x,password:y,options:v}=r;u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Vn})}else throw new no("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let a;if("email"in r){const{email:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ug})}else if("phone"in r){const{phone:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ug})}else throw new no("You must provide either an email or phone number and a password");const{data:i,error:s}=a;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new to}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,i,s,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;if(a==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(r){var a,i,s,u,c,h,p,m,x,y,v,b;let j,E;if("message"in r)j=r.message,E=r.signature;else{const{chain:C,wallet:T,statement:O,options:N}=r;let G;if(bn())if(typeof T=="object")G=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))G=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=T}const V=new URL((a=N==null?void 0:N.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in G&&G.signIn){const D=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),O?{statement:O}:null));let te;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")te=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)te=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),E=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${V.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(i=N==null?void 0:N.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(x=N==null?void 0:N.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const D=await G.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:C,error:T}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:vE(E)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Vn});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new to}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(Ee(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(r){const a=await ao(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(a??"").split("/");try{const{data:u,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Vn});if(await io(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new to}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s??null}),error:c})}catch(u){if(Ee(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:a,provider:i,token:s,access_token:u,nonce:c}=r,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new to}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,i,s,u,c;try{if("email"in r){const{email:h,options:p}=r;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await ti(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:h,options:p}=r,{data:m,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new no("You must provide either an email or phone number.")}catch(h){if(Ee(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(r){var a,i;try{let s,u;"options"in r&&(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:Vn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var a,i,s;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await ti(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:qE})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;if(i)throw i;if(!a)throw new Ar;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(Ee(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:i,type:s,options:u}=r,{error:c}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:i,type:s,options:u}=r,{data:c,error:h}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new no("You must provide either an email or phone number and a type")}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await ao(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,m,x)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,x))})}return{data:{session:r},error:null}}const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Cr}):await this._useSession(async a=>{var i,s,u;const{data:c,error:h}=a;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:Cr})})}catch(a){if(Ee(a))return fE(a)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async i=>{const{data:s,error:u}=i;if(u)throw u;if(!s.session)throw new Ar;const c=s.session;let h=null,p=null;this.flowType==="pkce"&&r.email!=null&&([h,p]=await ti(this.storage,this.storageKey));const{data:m,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Cr});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ar;const a=Date.now()/1e3;let i=a,s=!0,u=null;const{payload:c}=md(r.access_token);if(c.exp&&(i=c.exp,s=i<=a),s){const{session:h,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:h.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(Ee(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var i;if(!r){const{data:c,error:h}=a;if(h)throw h;r=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new Ar;const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r,a){try{if(!bn())throw new ro("No browser detected.");if(r.error||r.error_description||r.error_code)throw new ro(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Rg("No code detected.");const{data:O,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=r;if(!u||!h||!c||!m)throw new ro("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let v=x+y;p&&(v=parseInt(p));const b=v-x;b*1e3<=ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const j=v-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:E,error:C}=await this._getUser(u);if(C)throw C;const T={provider_token:i,provider_refresh_token:s,access_token:u,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(i){if(Ee(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await ao(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:s,error:u}=a;if(u)return{error:u};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,r);if(h&&!(dE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return r!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=kE(),i={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async a=>{var i,s;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,a={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await ti(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(Ee(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:i,error:s}=await this._useSession(async u=>{var c,h,p,m,x;const{data:y,error:v}=u;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=r.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return bn()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:r.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ee(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var i,s;const{data:u,error:c}=a;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await EE(async s=>(s>0&&await _E(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Vn})),(s,u)=>{const c=200*Math.pow(2,s);return u&&hd(u)&&Date.now()+c-i<ii})}catch(i){if(this._debug(a,"error",i),Ee(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",i),bn()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ao(this.storage,this.storageKey);if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fd;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${fd}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),hd(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var a,i;if(!r)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new _o;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new Ar;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(s,"error",u),Ee(u)){const c={session:null,error:u};return hd(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,a,i=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(r,a)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await yy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-r)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ii}ms, refresh threshold is ${Bd} ticks`),s<=Bd&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof by)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,i){const s=[`provider=${encodeURIComponent(a)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await ti(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);s.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var i,s;const{data:u,error:c}=a;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=(r==null?void 0:r.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,i;const{data:{session:s},error:u}=r;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=md(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const x=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,a={keys:[]}){let i=a.keys.find(c=>c.kid===r);if(i||(i=this.jwks.keys.find(c=>c.kid===r),i&&this.jwks_cached_at+uE>Date.now()))return i;const{data:s,error:u}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!s.keys||s.keys.length===0)throw new El("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===r),!i)throw new El("No matching signing key found in JWKS");return i}async getClaims(r,a={keys:[]}){try{let i=r;if(!i){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};i=b.session.access_token}const{header:s,payload:u,signature:c,raw:{header:h,payload:p}}=md(i);if(DE(u.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:u,header:s,signature:c},error:null}}const m=LE(s.alg),x=await this.fetchJwk(s.kid,a),y=await crypto.subtle.importKey("jwk",x,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,bE(`${h}.${p}`)))throw new El("Invalid JWT signature");return{data:{claims:u,header:s,signature:c},error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}}Cl.nextInstanceID=0;const ZE=Cl;class JE extends ZE{constructor(r){super(r)}}var WE=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class eN{constructor(r,a,i){var s,u,c;if(this.supabaseUrl=r,this.supabaseKey=a,!r)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const h=rE(r),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:X4,realtime:Z4,auth:Object.assign(Object.assign({},K4),{storageKey:m}),global:Q4},y=aE(i??{},x);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=tE(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new x4(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new s4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new G4(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return WE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:u,flowType:c,lock:h,debug:p},m,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JE({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,flowType:c,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new O4(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tN=(t,r,a)=>new eN(t,r,a),nN="https://vqzivktsvicvbdsuouap.supabase.co",rN="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",rn=(t,r,a)=>{const i=`There was a problem trying to ${t} data for the '${r}' table.`,u=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(a);if(u.toLowerCase().includes('column "user_id" does not exist')||u.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(u.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const c=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${r}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${c}

Technical Details:
${u}`},Rr=tN(nN,rN),aN=async(t,{email:r,password:a,nama:i})=>{const{data:s,error:u}=await t.auth.signUp({email:r,password:a,options:{data:{nama:i}}});if(u)throw u.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",u),new Error(`Failed to sign up: ${u.message}`));return s},iN=async(t,{email:r,password:a})=>{const{data:i,error:s}=await t.auth.signInWithPassword({email:r,password:a});if(s)throw s;return i},lN=async t=>{const{error:r}=await t.auth.signOut();if(r)throw r},sN=(t,r)=>{const{data:{subscription:a}}=t.auth.onAuthStateChange((i,s)=>{r(s)});return a},oN=async(t,r)=>{try{const{data:a,error:i}=await t.from("users").select("*").eq("id",r).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${r}. A new one may need to be created if this is unexpected.`),null;throw i}return a}catch(a){const i=rn(`fetch profile for user ${r}`,"users",a);return console.error(i),null}},qg=async(t,r)=>{const{data:a,error:i}=await t.from("trades").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(i){const s=rn("fetch","trades",i);throw console.error(s),new Error(s)}return(a||[]).map(s=>({id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:s.trade_setup,rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}))},vy=async(t,r,a)=>{const{error:i}=await t.from("users").update({initial_trade:a}).eq("id",r);if(i){const s=rn(`update initial capital for user ${r}`,"users",i);throw console.error(s),new Error(s)}},uN=async(t,r,a,i)=>{const{error:s}=await t.from("users").update({nama:a,describe:i}).eq("id",r);if(s){const u=rn(`update profile for user ${r}`,"users",s);throw console.error(u),new Error(u)}},Ig=async(t,r,a)=>{const i={user_id:a,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:r.tradeSetup,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount??null},{data:s,error:u}=await t.from("trades").insert(i).select().single();if(u){const h=rn("add","trades",u);throw console.error(h),new Error(h)}if(!s)throw new Error("Failed to add trade: no data returned.");const c=s;return{id:c.id,timestamp:c.created_at,image:c.image,mode:c.mode,marketTrend:c.market_trend,keyPattern:c.key_pattern,indicatorAnalysis:c.indicator_analysis,tradeBias:c.trade_bias,tradeSetup:c.trade_setup,rationale:c.rationale,confidenceScore:c.confidence_score,status:c.status,outcomeAmount:c.outcome_amount??void 0,riskPerTrade:0}},cN=async(t,r,a,i,s)=>{const{error:u}=await t.from("trades").update({status:a,outcome_amount:i}).eq("id",r).eq("user_id",s);if(u){const c=rn(`update status for trade ${r}`,"trades",u);throw console.error(c),new Error(c)}},dN=async(t,r,a)=>{const{error:i}=await t.from("trades").delete().eq("id",r).eq("user_id",a);if(i){const s=rn(`delete trade ${r}`,"trades",i);throw console.error(s),new Error(s)}},fN=async(t,r)=>{const{data:a,error:i}=await t.from("portfolio_assets").select("*").eq("user_id",r).order("symbol",{ascending:!0});if(i){const s=rn("fetch portfolio assets","portfolio_assets",i);throw console.error(s),new Error(s)}return a||[]},hN=async(t,r,a)=>{const i={user_id:a,symbol:r.symbol,name:r.name,logo_url:r.logo_url||"",amount:r.amount,avg_buy_price:r.avg_buy_price,current_price:r.current_price},{data:s,error:u}=await t.from("portfolio_assets").insert(i).select().single();if(u){const c=rn("add portfolio asset","portfolio_assets",u);throw console.error(c),new Error(c)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},mN=async(t,r,a,i)=>{const{error:s}=await t.from("portfolio_assets").update(a).eq("id",r).eq("user_id",i);if(s){const u=rn(`update portfolio asset ${r}`,"portfolio_assets",s);throw console.error(u),new Error(u)}},pN=async(t,r,a)=>{const{error:i}=await t.from("portfolio_assets").delete().eq("id",r).eq("user_id",a);if(i){const s=rn(`delete portfolio asset ${r}`,"portfolio_assets",i);throw console.error(s),new Error(s)}},gN=async(t,r)=>{try{const a=await fN(t,r);let i=0,s=0,u=0;const c=a.map(m=>{const x=m.current_price/(1+(Math.random()-.5)*.04),y=m.amount*m.current_price,v=(m.current_price-m.avg_buy_price)*m.amount,b=m.amount*x,j=y-b;return i+=y,s+=v,u+=j,{id:m.id,symbol:m.symbol,name:m.name,logoUrl:m.logo_url,amount:m.amount,avgBuyPrice:m.avg_buy_price,currentPrice:m.current_price,value:y,totalPl:v}}),h=i-u,p=h>0?u/h*100:0;return{assets:c,totalValue:i,totalPl:s,pl24h:u,pl24hPercent:p}}catch(a){return console.error("Error fetching portfolio data:",a),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},xN=async t=>{try{const{data:r,error:a}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(a){if(a.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw a}return r}catch(r){const a=rn("fetch","settings",r);throw console.error(a),new Error(a)}},yN=async(t,r)=>{const{error:a}=await t.from("settings").update({gemini_api_key:r}).eq("id",1);if(a){const i=rn("update Gemini API key in","settings",a);throw console.error(i),new Error(i)}},Hg=({supabaseClient:t,onClose:r})=>{const[a,i]=F.useState("login"),[s,u]=F.useState(""),[c,h]=F.useState(""),[p,m]=F.useState(""),[x,y]=F.useState(!0),[v,b]=F.useState(!1),[j,E]=F.useState("");F.useEffect(()=>{const N=G=>{G.key==="Escape"&&r()};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[r]),F.useEffect(()=>{const N=localStorage.getItem("rememberedEmail");N?(u(N),y(!0)):y(!1)},[]);const C=N=>/^\S+@\S+\.\S+$/.test(N),T=async N=>{if(N.preventDefault(),b(!0),E(""),!C(s)){E("Please enter a valid email address."),b(!1);return}if(c.length<6){E("Password must be at least 6 characters."),b(!1);return}if(a==="register"&&p.trim().length<2){E("Name must be at least 2 characters."),b(!1);return}try{a==="login"?(await iN(t,{email:s,password:c}),x?localStorage.setItem("rememberedEmail",s):localStorage.removeItem("rememberedEmail")):await aN(t,{email:s,password:c,nama:p})}catch(G){E(G.message||"An unexpected error occurred.")}finally{b(!1)}},O=()=>{i(a==="login"?"register":"login"),E(""),h(""),m("")};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:N=>N.stopPropagation(),children:[d.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:d.jsx(wn,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:a==="login"?"Welcome Back":"Create Account"}),d.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:a==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),d.jsxs("form",{onSubmit:T,className:"mt-8 space-y-6",children:[a==="register"&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:p,onChange:N=>m(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:N=>u(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:a==="login"?"current-password":"new-password",required:!0,value:c,onChange:N=>h(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),a==="login"&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:N=>y(N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),j&&d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:j}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:v?d.jsx(li,{className:"w-5 h-5 animate-spin"}):a==="login"?"Sign in":"Register"})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a==="login"?"Don't have an account?":"Already have an account?",d.jsx("button",{onClick:O,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:a==="login"?"Register":"Sign in"})]})})]})})},bN=({initialCapital:t,supabaseClient:r,user:a,userProfile:i,geminiApiKey:s,apiStatus:u,onApiKeyUpdate:c,onCapitalUpdate:h,onProfileUpdate:p,onWithdraw:m})=>{const[x,y]=F.useState(s),[v,b]=F.useState(!1),[j,E]=F.useState(""),[C,T]=F.useState(!1),[O,N]=F.useState(String(t)),[G,V]=F.useState(!1),[D,te]=F.useState(""),[se,ce]=F.useState(!1),[U,z]=F.useState(""),[Y,K]=F.useState(!1),[W,ie]=F.useState(""),[M,q]=F.useState(!1),[le,he]=F.useState(""),[k,$]=F.useState(""),[ee,_]=F.useState(!1),[oe,ye]=F.useState(""),[ue,Ie]=F.useState(!1);F.useEffect(()=>{i&&(he(i.nama||""),$(i.describe||""))},[i]),F.useEffect(()=>{N(String(t))},[t]),F.useEffect(()=>{y(s)},[s]);const Ce=async()=>{if(b(!0),E(""),T(!1),!x.trim()){E("API Key cannot be empty."),T(!0),b(!1),setTimeout(()=>E(""),5e3);return}try{await c(x),E("API Key updated and verified successfully!"),T(!1)}catch(Se){const ut=Se instanceof Error?Se.message:"Failed to save or verify API key.";E(ut),T(!0)}finally{b(!1),setTimeout(()=>E(""),5e3)}},rt=async()=>{if(V(!0),te(""),ce(!1),!r||!a){te("You must be logged in to save settings."),ce(!0),V(!1);return}const Se=Number(O);if(isNaN(Se)||Se<0){te("Please enter a valid positive number."),ce(!0),V(!1);return}try{await vy(r,a.id,Se),h(Se),te("Base capital updated successfully!"),ce(!1),setTimeout(()=>te(""),3e3)}catch(ut){const St=ut instanceof Error?ut.message:"Failed to save capital to the database.";te(St),ce(!0)}finally{V(!1)}},at=async()=>{K(!0),ie(""),q(!1);const Se=Number(U);if(isNaN(Se)||Se<=0){ie("Please enter a valid positive withdrawal amount."),q(!0),K(!1);return}if(Se>t){ie("Withdrawal amount cannot exceed your current capital."),q(!0),K(!1);return}try{await m(Se),ie("Withdrawal successful!"),q(!1),z(""),setTimeout(()=>ie(""),3e3)}catch(ut){const St=ut instanceof Error?ut.message:"Failed to process withdrawal.";ie(St),q(!0)}finally{K(!1)}},Nt=async()=>{if(_(!0),ye(""),Ie(!1),!r||!a){ye("You must be logged in to save settings."),Ie(!0),_(!1);return}if(le.trim().length<2){ye("Name must be at least 2 characters."),Ie(!0),_(!1);return}if(k.length>200){ye("Description cannot exceed 200 characters."),Ie(!0),_(!1);return}try{await uN(r,a.id,le,k),p({name:le,description:k}),ye("Profile updated successfully!"),Ie(!1),setTimeout(()=>ye(""),3e3)}catch(Se){const ut=Se instanceof Error?Se.message:"Failed to save profile to the database.";ye(ut),Ie(!0)}finally{_(!1)}};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),d.jsxs("main",{className:"space-y-8",children:[d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:le,onChange:Se=>he(Se.target.value),placeholder:"Your Name",disabled:!r||!a||ee})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),d.jsx("div",{className:"mt-1",children:d.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:k,onChange:Se=>$(Se.target.value),placeholder:"A short bio about your trading style",disabled:!r||!a||ee})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:Nt,disabled:!r||!a||ee,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:ee?d.jsx(li,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),d.jsx("div",{className:"h-5 mt-2",children:oe&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${ue?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ue?d.jsx(wn,{className:"w-5 h-5"}):d.jsx(Or,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:oe})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (GPT-4o)"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your GPT-4o (OpenAI) API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),d.jsx("div",{className:"mt-1 flex items-center gap-2",children:d.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:x,onChange:Se=>y(Se.target.value),placeholder:"Enter your GPT-4o API Key",disabled:!r||!a||v})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:Ce,disabled:!r||!a||v||u==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v||u==="verifying"?d.jsx(li,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),d.jsx("div",{className:"h-5 mt-2",children:j&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${C?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[C?d.jsx(wn,{className:"w-5 h-5"}):d.jsx(Or,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:j})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),d.jsxs("div",{className:"max-w-xl",children:[d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),d.jsx("input",{type:"number",id:"initialCapital",disabled:!r||!a||G,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:O,onChange:Se=>N(Se.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:rt,disabled:!r||!a||G,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:G?d.jsx(li,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),d.jsx("div",{className:"h-5 mt-2",children:D&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${se?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[se?d.jsx(wn,{className:"w-5 h-5"}):d.jsx(Or,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:D})]})})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),d.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!r||!a||Y,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:U,onChange:Se=>z(Se.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:at,disabled:!r||!a||Y||!U,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:Y?d.jsx(li,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),d.jsx("div",{className:"h-5 mt-2",children:W&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${M?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[M?d.jsx(wn,{className:"w-5 h-5"}):d.jsx(Or,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:W})]})})]})]})]})]})]})]})},lo=[{id:1,time:"00:30",currency:"AUD",flag:"",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],vN=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(bo,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),d.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),wN=()=>{const[t,r]=F.useState("today"),a=F.useMemo(()=>{switch(t){case"today":return lo.slice(0,10);case"tomorrow":return lo.slice(10);case"thisWeek":return lo;case"nextWeek":return[];default:return lo}},[t]),i=({buttonFilter:c,children:h})=>d.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===c?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),s=({count:c})=>d.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,p)=>d.jsx("svg",{className:`w-4 h-4 ${p<c?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),u=({value:c,better:h})=>{const p=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return d.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${p}`,children:c||"-"})};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),d.jsx(vN,{}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[d.jsx(i,{buttonFilter:"today",children:"Today"}),d.jsx(i,{buttonFilter:"tomorrow",children:"Tomorrow"}),d.jsx(i,{buttonFilter:"thisWeek",children:"This Week"}),d.jsx(i,{buttonFilter:"nextWeek",children:"Next Week"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(c=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.time}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{children:c.flag}),d.jsx("span",{children:c.currency})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(s,{count:c.importance})}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.event}),d.jsx(u,{value:c.actual,better:c.betterThanForecast}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.forecast||"-"}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.previous||"-"})]},c.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},Id=({isOpen:t,onClose:r,onConfirm:a,title:i,message:s,confirmText:u="Confirm",cancelText:c="Cancel",isDestructive:h=!1,isLoading:p=!1})=>{if(F.useEffect(()=>{const v=b=>{b.key==="Escape"&&r()};return t&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[t,r]),!t)return null;const m=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",x=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=h?d.jsx(Yg,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):d.jsx(bo,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[d.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${x}`,children:y}),d.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),d.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[d.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:a,disabled:p,children:p?d.jsx(li,{className:"w-5 h-5 animate-spin"}):u}),d.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:r,disabled:p,children:c})]})]})})},kN=t=>t?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${t.toLowerCase()}.svg`:"",gd="https://via.placeholder.com/32x32?text=?",SN=({userId:t,assets:r,onAssetAdded:a,onAssetUpdated:i,onAssetDeleted:s})=>{const[u,c]=F.useState(!1),[h,p]=F.useState(null),[m,x]=F.useState(!1),[y,v]=F.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[b,j]=F.useState(null),[E,C]=F.useState(null),[T,O]=F.useState(!1),N=()=>{v({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),c(!1),p(null)},G=z=>{const{name:Y,value:K}=z.target;if(Y==="symbol")v(W=>({...W,symbol:K.toUpperCase()}));else if(Y==="amount"){const W=K.replace(/[^0-9eE.-]/g,"");v(ie=>({...ie,amount:W}))}else v(W=>({...W,[Y]:Y==="avgBuyPrice"||Y==="currentPrice"?parseFloat(K)||0:K}))},V=async z=>{if(z.preventDefault(),j(null),!Rr){j("Database connection not available");return}const Y=parseFloat(y.amount);if(isNaN(Y)||Y<0){j("Amount harus berupa angka valid dan lebih dari 0");return}x(!0);try{const K=kN(y.symbol)||gd;console.log("[DEBUG] Mulai handleSubmit",{formData:y,parsedAmount:Y,logoUrl:K,userId:t}),h?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await mN(Rr,h.id,{amount:Y,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice,logo_url:K},t),console.log("[DEBUG] Setelah updatePortfolioAsset"),i()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:K,amount:Y,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),await hN(Rr,{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:K,amount:Y,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),console.log("[DEBUG] Setelah addPortfolioAsset"),a()),N()}catch(K){console.error("[DEBUG] Error saving asset:",K),j("Gagal menyimpan asset: "+((K==null?void 0:K.message)||K))}finally{x(!1),console.log("[DEBUG] Selesai handleSubmit")}},D=z=>{p(z),v({symbol:z.symbol,name:z.name,amount:z.amount.toString(),avgBuyPrice:z.avgBuyPrice,currentPrice:z.currentPrice,category:z.category??""})},te=z=>{C(z),O(!0)},se=async()=>{if(!(!Rr||!(E!=null&&E.id))){x(!0);try{await pN(Rr,E.id,t),s(),O(!1),C(null)}catch(z){console.error("Error deleting asset:",z),alert("Error deleting asset. Please try again.")}finally{x(!1)}}},ce=()=>{O(!1),C(null)},U=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(z);return d.jsxs("div",{className:"space-y-6",children:[b&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:b}),d.jsx("button",{onClick:()=>j(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),!u&&!h&&d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(u||h)&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:h?"Edit Asset":"Add New Asset"}),d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),d.jsx("input",{type:"text",name:"symbol",value:y.symbol,onChange:G,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:y.name,onChange:G,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),d.jsx("input",{type:"text",name:"amount",value:y.amount,onChange:G,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),d.jsx("input",{type:"number",name:"avgBuyPrice",value:y.avgBuyPrice,onChange:G,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),d.jsx("input",{type:"number",name:"currentPrice",value:y.currentPrice,onChange:G,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),d.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:y.category,onChange:z=>v({...y,category:z.target.value}),required:!0,children:[d.jsx("option",{value:"Crypto",children:"Crypto"}),d.jsx("option",{value:"Saham",children:"Saham"}),d.jsx("option",{value:"Gold",children:"Gold"}),d.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":h?"Update Asset":"Add Asset"}),d.jsx("button",{type:"button",onClick:N,disabled:m,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),r.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",r.length,")"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.map(z=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:z.logoUrl||gd,alt:z.name,className:"h-8 w-8 rounded-full mr-3",onError:Y=>{Y.currentTarget.src=gd}}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:z.name}),d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:z.symbol})]})]})}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:z.amount.toLocaleString()}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(z.avgBuyPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(z.currentPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:U(z.value??0)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsxs("span",{className:(z.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(z.totalPl??0)>=0?"+":"",U(z.totalPl??0)]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center gap-2",children:[d.jsx("button",{onClick:()=>D(z),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("button",{onClick:()=>te(z),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},z.id))})]})})]}),r.length===0&&!u&&!h&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),d.jsx(Id,{isOpen:T,onClose:ce,onConfirm:se,title:"Delete Asset",message:`Are you sure you want to delete ${E==null?void 0:E.name} (${E==null?void 0:E.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:m})]})},xd=({label:t,value:r,subvalue:a,valueColor:i})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:r}),a&&d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:a})]}),jN=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),_N=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(bo,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),d.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),EN=({apiKey:t,apiStatus:r,portfolioData:a,updateTokenUsage:i,userId:s})=>{const[u,c]=F.useState(""),[h,p]=F.useState(!1),[m,x]=F.useState(""),[y,v]=F.useState(!1),[b,j]=F.useState(!1),[E,C]=F.useState(a),[T,O]=F.useState(!1),[N,G]=F.useState(null),V=(q,le=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:le,maximumFractionDigits:le}).format(q),D=F.useCallback(async()=>{if(!s){C(null),G("Anda harus login untuk melihat portfolio.");return}j(!0),G(null);try{const q=await gN(Rr,s);C(q)}catch(q){console.error("Error fetching portfolio data:",q),C(null),G("Gagal mengambil data portfolio: "+((q==null?void 0:q.message)||q))}finally{j(!1)}},[s]),te=F.useCallback(async q=>{if(r!=="valid"){c("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),p(!1);return}p(!0);try{const{analysisText:le,usage:he}=await Y_(t,E,q);c(le),i(he)}catch(le){console.error("Failed to get AI financial advice:",le);const he=le instanceof Error?le.message:String(le);let k="Terjadi kesalahan saat mengambil saran keuangan AI.";he.toLowerCase().includes("quota")||he.toLowerCase().includes("rate limit")?k="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":he.toLowerCase().includes("api key")||he.toLowerCase().includes("unauthorized")?k="API key tidak valid. Silakan periksa pengaturan API key Anda.":he.toLowerCase().includes("network")||he.toLowerCase().includes("fetch")?k="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":he.toLowerCase().includes("invalid response")||he.toLowerCase().includes("format")?k="Format respons AI tidak valid. Silakan coba lagi.":he.toLowerCase().includes("portfolio data")?k="Data portfolio tidak tersedia. Silakan muat ulang halaman.":he.toLowerCase().includes("timeout")?k="Request timeout. Silakan coba lagi.":k=`Error: ${he}`,c(k)}finally{p(!1)}},[t,r,E,i]);F.useEffect(()=>{if(!s){C(null),G("Anda harus login untuk melihat portfolio.");return}D()},[D,s]),F.useEffect(()=>{E&&!y&&(te("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[E,te,y]);const se=q=>{q.preventDefault(),m.trim()&&te(m)};if(!s)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(b)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!E)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),d.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:ce,totalPl:U,pl24h:z,pl24hPercent:Y,assets:K}=E,W=U>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",ie=z>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",M=z>=0?"+":"";return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[N&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:N}),d.jsx("button",{onClick:()=>G(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),d.jsxs("header",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),d.jsxs("button",{onClick:()=>O(!T),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),T?"Hide Manager":"Manage Assets"]})]}),T&&s&&d.jsx(SN,{userId:s,assets:K,onAssetAdded:D,onAssetUpdated:D,onAssetDeleted:D}),d.jsx(_N,{}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(xd,{label:"Total Portfolio Value",value:V(ce),subvalue:"Across all tracked assets"}),d.jsx(xd,{label:"Total Profit / Loss",value:V(U),valueColor:W,subvalue:"Represents overall unrealized P/L"}),d.jsx(xd,{label:"24-Hour Change",value:`${M}${V(z)}`,valueColor:ie,subvalue:`${M}${Y.toFixed(2)}%`})]}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),d.jsx("tbody",{children:K.map(q=>d.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[d.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[d.jsx("img",{src:q.logoUrl,alt:q.name,className:"h-8 w-8"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:q.name}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:q.symbol})]})]}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:q.amount.toLocaleString()}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:V(q.currentPrice,2)})]}),d.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:V(q.avgBuyPrice,2)}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:V(q.value??0)}),d.jsxs("p",{className:`text-xs font-semibold ${(q.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[(q.totalPl??0)>=0?"+":"",V(q.totalPl??0)]})]})]},q.symbol))})]})})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(co,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:m,onChange:q=>x(q.target.value),onKeyPress:q=>{q.key==="Enter"&&se(q)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),d.jsx("button",{onClick:se,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:d.jsx(co,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),h?d.jsx(jN,{}):d.jsx("div",{className:"prose dark:prose-invert",children:d.jsx(af,{remarkPlugins:[uf],children:u})})]})]})]})]})},$g=()=>d.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:d.jsx($v,{className:"h-8 w-8 text-red-400"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),d.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),d.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),d.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),d.jsxs("li",{children:["Go to your ",d.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),d.jsxs("li",{children:["Navigate to: ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),d.jsxs("li",{children:["Find the ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),d.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),d.jsxs("li",{children:["Click ",d.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[d.jsx(Qv,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),Fg={scalp:{title:"Scalp Trading",icon:d.jsx(uo,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:d.jsx(yd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:d.jsx(fo,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:d.jsx(bd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},NN=()=>d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Yg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 dark:text-yellow-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200 leading-relaxed",children:[d.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),d.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),AN=({text:t})=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(bo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:t})})]})}),Gg=({tabName:t,activeTab:r,setActiveTab:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 sm:px-6 py-2 text-xs sm:text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${r===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:i});function TN(t){return t==="home"}function CN(){const[t,r]=F.useState("light"),[a,i]=F.useState("home"),[s,u]=F.useState("all"),[c,h]=F.useState(!1),[p,m]=F.useState(null),[x,y]=F.useState(null),[v,b]=F.useState(null),[j,E]=F.useState(!1),[C,T]=F.useState(""),[O,N]=F.useState("idle"),[G,V]=F.useState(1e4),[D,te]=F.useState(0),[se,ce]=F.useState(0),[U,z]=F.useState("setup"),[Y,K]=F.useState(!1),[W,ie]=F.useState(!1),[M,q]=F.useState(null),[le,he]=F.useState(!1),[k,$]=F.useState(null),[ee,_]=F.useState([]),[oe,ye]=F.useState(Fg.scalp.initialRiskParams),[ue,Ie]=F.useState(!1),[Ce,rt]=F.useState(null),[at,Nt]=F.useState(null),[Se,ut]=F.useState(null);F.useEffect(()=>{const ne=localStorage.getItem("activeMode");ne&&ne!=="home"&&i(ne)},[]),F.useEffect(()=>{a!=="home"&&localStorage.setItem("activeMode",a)},[a]),F.useEffect(()=>{const ne=localStorage.getItem("activeTab");ne&&z(ne)},[]),F.useEffect(()=>{localStorage.setItem("activeTab",U)},[U]),F.useEffect(()=>{k?localStorage.setItem("currentAnalysis",JSON.stringify(k)):localStorage.removeItem("currentAnalysis")},[k]),F.useEffect(()=>{const ne=localStorage.getItem("currentAnalysis");if(ne)try{const fe=JSON.parse(ne);$(fe)}catch(fe){console.error("Failed to parse saved analysis:",fe),localStorage.removeItem("currentAnalysis")}},[]),F.useEffect(()=>{localStorage.setItem("riskParams",JSON.stringify(oe))},[oe]),F.useEffect(()=>{const ne=localStorage.getItem("riskParams");if(ne)try{const fe=JSON.parse(ne);ye(fe)}catch(fe){console.error("Failed to parse saved risk params:",fe),localStorage.removeItem("riskParams")}},[]),F.useEffect(()=>{const ne=()=>{if(!document.hidden){const fe=localStorage.getItem("activeMode");fe&&fe!==a&&fe!=="home"&&i(fe)}};return document.addEventListener("visibilitychange",ne),()=>{document.removeEventListener("visibilitychange",ne)}},[a]),F.useEffect(()=>{a==="dashboard"&&u("all")},[a]);const St=F.useCallback(ne=>{const fe=ne instanceof Error?ne.message:String(ne);fe.includes("Cross-Origin Resource Sharing")?(he(!0),console.error(ne)):q(fe)},[]),Kn=F.useCallback(async ne=>{if(!ne){N("idle"),T("");return}T(ne),N("verifying");const fe=await V_(ne);N(fe?"valid":"invalid")},[]),{netPL:Zn}=F.useMemo(()=>({netPL:ee.filter(je=>je.status!=="pending"&&je.outcomeAmount!==void 0).reduce((je,pe)=>pe.status==="profit"?je+(pe.outcomeAmount||0):pe.status==="stop-loss"?je-(pe.outcomeAmount||0):je,0)}),[ee]),it=F.useMemo(()=>G+Zn,[G,Zn]);F.useEffect(()=>{m(Rr);const ne=Rr;if(ne){const fe=sN(ne,async je=>{const pe=(je==null?void 0:je.user)??null;if(pe){const _e=await oN(ne,pe.id);_e?(y(pe),b(_e),_e.initial_trade&&V(_e.initial_trade),E(!1)):(console.error(`User ${pe.id} authenticated but has no profile in 'public.users'. Logging out.`),St("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await lN(ne))}else y(null),b(null),_([]),V(1e4),T(""),N("idle"),["dashboard","scalp","swing","day","position","settings","portfolio"].includes(a)&&i("home")});return()=>fe.unsubscribe()}},[St,a]),F.useEffect(()=>{const ne=localStorage.getItem("theme");ne&&r(ne);const fe=localStorage.getItem("totalTokens");fe&&ce(Number(fe)),p&&(async()=>{if(!p){q("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(x){const[pe,_e]=await Promise.all([qg(p,x.id),xN(p)]);_(pe),_e!=null&&_e.gemini_api_key&&await Kn(_e.gemini_api_key)}q(null)}catch(pe){St(pe)}})()},[p,x,St,Kn]);const hi=async ne=>{if(!p)throw new Error("Database client not available.");await yN(p,ne),await Kn(ne)},Mr=F.useCallback(ne=>{V(ne)},[]),zr=F.useCallback(ne=>{b(fe=>fe?{...fe,nama:ne.name,describe:ne.description}:null)},[]),Jn=async ne=>{if(!p||!x)throw new Error("You must be logged in to make a withdrawal.");const fe=G-ne;if(fe<0)throw new Error("Withdrawal amount exceeds available capital.");await vy(p,x.id,fe),V(fe)};F.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),F.useEffect(()=>{localStorage.setItem("totalTokens",String(se))},[se]),F.useEffect(()=>{ye(ne=>({...ne,currentEquity:it,accountBalance:String(it.toFixed(2))}))},[it]);const mi=ne=>ee.filter(fe=>fe.mode===ne),oa=ey(ee),Wn=ne=>{if(["scalp","day","swing","position"].includes(ne)&&$(null),oa.stressLevel>=7&&["scalp","day","swing","position"].includes(ne)){rt(ne),Ie(!0);return}i(ne)},er=ne=>{te(fe=>fe+ne.total),ce(fe=>fe+ne.total)};F.useCallback(async ne=>{if(!["scalp","day","swing","position"].includes(a)){K(!1),q("Upload chart hanya bisa dilakukan di mode Trading (Scalp, Day, Swing, Position). Silakan pilih mode trading terlebih dahulu.");return}if(!p){q("Not connected to database. Please check settings."),i("settings");return}if(!x){q("You must be logged in to analyze a chart."),E(!0);return}if(O!=="valid"){q("Your Gemini API key is not valid. Please check it in Settings."),i("settings");return}if(Y){console.log("Analysis already in progress, ignoring new request");return}const fe=a;K(!0),q(null),$(null);try{const{analysis:je,usage:pe}=await dg(C,ne,oe,fe,it);if(er(pe),!je||!je.tradeSetup||!je.marketTrend||!je.tradeBias)throw new Error("AI response format is invalid. The analysis data is incomplete.");const _e=await new Promise((pt,$t)=>{const Ft=new FileReader;Ft.onloadend=()=>{try{const Sn=Ft.result;pt(Sn)}catch{$t(new Error("Failed to process image file"))}},Ft.onerror=()=>$t(new Error("Failed to read image file")),Ft.readAsDataURL(ne)});try{const pt={...je,mode:fe,image:_e,status:"pending"},$t=await Ig(p,pt,x.id);_(Ft=>[$t,...Ft]),$($t)}catch(pt){console.error("Database save error:",pt);const $t={...je,id:`temp-${Date.now()}`,timestamp:new Date().toISOString(),mode:fe,image:_e,status:"pending"};$($t),q("Analysis completed but failed to save to database. Please try again.")}}catch(je){console.error("Chart analysis error:",je);const pe=je instanceof Error?je.message:String(je);let _e="Terjadi kesalahan saat menganalisis chart.";pe.toLowerCase().includes("quota")||pe.toLowerCase().includes("rate limit")?_e="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":pe.toLowerCase().includes("api key")||pe.toLowerCase().includes("unauthorized")?_e="API key tidak valid. Silakan periksa pengaturan API key Anda.":pe.toLowerCase().includes("network")||pe.toLowerCase().includes("fetch")?_e="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":pe.toLowerCase().includes("invalid response")||pe.toLowerCase().includes("format")?_e="Format respons AI tidak valid. Silakan coba lagi.":pe.toLowerCase().includes("image")||pe.toLowerCase().includes("file")?_e="Gagal memproses file gambar. Pastikan file valid dan coba lagi.":pe.toLowerCase().includes("timeout")?_e="Request timeout. Silakan coba lagi.":pe.toLowerCase().includes("incomplete")?_e="Data analisis tidak lengkap. Silakan coba lagi dengan gambar yang berbeda.":_e=`Error: ${pe}`,q(_e),$(null)}finally{K(!1)}},[C,O,oe,a,p,x,St,it,Y]);const Q=()=>{$(null),q(null),localStorage.removeItem("currentAnalysis")},re=async(ne,fe,je)=>{if(!p||!x){q("Database not connected. Cannot save result.");return}try{await cN(p,ne,fe,je,x.id);const pe=await qg(p,x.id);_(pe),k&&k.id===ne&&$(_e=>_e?{..._e,status:fe,outcomeAmount:je}:null)}catch(pe){St(pe)}},ge=ne=>{$(ne),z("setup")},be=ne=>{ut(ne)},Be=async()=>{if(!Se||!p||!x){q("Could not delete trade. Missing information.");return}ie(!0),q(null);try{await dN(p,Se.id,x.id),_(ne=>ne.filter(fe=>fe.id!==Se.id)),(k==null?void 0:k.id)===Se.id&&$(null)}catch(ne){St(ne)}finally{ie(!1),ut(null)}};F.useEffect(()=>{if(M){const ne=setTimeout(()=>q(null),1e4);return()=>clearTimeout(ne)}},[M]);const Dt=({mode:ne,setCurrentAnalysis:fe,setError:je,geminiApiKey:pe,riskParams:_e,currentEquity:pt,updateTokenUsage:$t,supabaseClient:Ft,user:Sn,setAllTrades:tr})=>{const[Eo,pi]=aa.useState(!1),[Ul,gi]=aa.useState(null),Gt=Fg[ne],nr=mi(ne),No=aa.useCallback(Yt=>{const lt=new FileReader;lt.onloadend=async()=>{gi(lt.result),pi(!0);try{const et=G+ee.filter(Vt=>Vt.status!=="pending"&&Vt.outcomeAmount!==void 0).reduce((Vt,jn)=>jn.status==="profit"?Vt+(jn.outcomeAmount||0):jn.status==="stop-loss"?Vt-(jn.outcomeAmount||0):Vt,0),rr={..._e,currentEquity:et},{analysis:xi,usage:Ao}=await dg(pe,Yt,rr,ne,et);$t(Ao);const Bl={...xi,id:`temp-${Date.now()}`,timestamp:new Date().toISOString(),image:lt.result,mode:ne,status:"pending"};try{if(!Ft||!Sn)throw new Error("Not logged in");const Vt=await Ig(Ft,Bl,Sn.id);tr([Vt,...ee]),fe(Vt)}catch{je("Gagal menyimpan ke database, hanya tampil lokal."),fe(Bl)}}catch(et){je("Gagal menganalisis chart: "+((et==null?void 0:et.message)||String(et))),fe(null)}finally{pi(!1)}},lt.readAsDataURL(Yt)},[pe,_e,ne,G,ee,$t,fe,je,Ft,Sn,tr]);return d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:Gt.title}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:Gt.subtitle})]}),Gt.description&&d.jsx(AN,{text:Gt.description}),d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-200 dark:border-blue-700 p-4 sm:p-6 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Recommended Timeframe"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:Gt.calculator.timeframeSettings.text})]})]})}),ne==="swing"&&d.jsx(NN,{}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8",children:[d.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[M&&d.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"})]}),d.jsx("p",{className:"text-red-700 dark:text-red-300 mt-1",children:M})]}),k?d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),d.jsxs("button",{onClick:Q,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),d.jsx(N_,{analysis:k,riskParams:_e,onBackToUploader:Q})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:Gt.icon}),d.jsx("h2",{className:"ml-3 text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100",children:Gt.title})]}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mb-6 ml-9 sm:ml-11",children:Gt.subtitle}),d.jsx(Wv,{onImageSelect:No,isLoading:Eo,isTradingMode:!0,preview:Ul})]})]})}),d.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[k&&k.status==="pending"&&d.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("button",{onClick:()=>Nt({analysisId:k.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx(Or,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),d.jsxs("button",{onClick:()=>Nt({analysisId:k.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[d.jsx(wn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),d.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-4 sm:px-6",children:[d.jsx(Gg,{tabName:"setup",activeTab:U,setActiveTab:z,children:"Trade Setup"}),d.jsx(Gg,{tabName:"history",activeTab:U,setActiveTab:z,children:"History"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:U==="setup"?d.jsx("div",{className:"h-full overflow-y-auto",children:d.jsx(e1,{params:_e,timeframeSettings:Gt.calculator.timeframeSettings})}):(()=>{console.log("HistoryPanel: currentHistory length:",nr==null?void 0:nr.length),console.log("HistoryPanel: currentHistory data:",nr),console.log("HistoryPanel: currentAnalysisId:",k==null?void 0:k.id);try{return d.jsx(T_,{history:nr,onSelect:ge,onDeleteRequest:be,currentAnalysisId:k==null?void 0:k.id})}catch(Yt){return console.error("Error rendering HistoryPanel:",Yt),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(so,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error loading history"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please try refreshing the page."}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}})()})]})]})]})},pn=()=>{if(Y)return["scalp","day","swing","position"].includes(a)?d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Analyzing Chart..."})}):a==="portfolio"?d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})}):d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading..."})});if(!p&&a!=="home")return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(a){case"dashboard":return d.jsx(K_,{updateTokenUsage:er,apiKey:C,apiStatus:O,allTrades:ee,mode:s,setDashboardSource:u,initialCapital:G,netPL:Zn,currentEquity:it});case"settings":return d.jsx(bN,{initialCapital:G,supabaseClient:p,user:x,userProfile:v,geminiApiKey:C,apiStatus:O,onApiKeyUpdate:hi,onCapitalUpdate:Mr,onProfileUpdate:zr,onWithdraw:Jn});case"economic-calendar":return d.jsx(wN,{});case"portfolio":return d.jsx(EN,{apiKey:C,apiStatus:O,portfolioData:null,updateTokenUsage:er,userId:(x==null?void 0:x.id)??""});case"scalp":case"swing":case"day":case"position":return d.jsx(Dt,{mode:a,setCurrentAnalysis:$,setError:q,geminiApiKey:C,riskParams:oe,currentEquity:it,updateTokenUsage:er,supabaseClient:p,user:x,setAllTrades:_});default:return null}};return a==="home"?d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[le&&d.jsx($g,{}),at&&d.jsx(cg,{type:at.type,onSave:ne=>re(at.analysisId,at.type,ne),onClose:()=>Nt(null)}),Se&&d.jsx(Id,{isOpen:!!Se,onClose:()=>ut(null),onConfirm:Be,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:Se.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:Se.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(Se.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:W}),j&&p&&d.jsx(Hg,{supabaseClient:p,onClose:()=>E(!1)}),M&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:M})]}),d.jsx("button",{onClick:()=>q(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),ue&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 max-w-md w-full text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:" Psychology Warning"}),d.jsx("p",{className:"mb-6 text-slate-700 dark:text-slate-200",children:"Kondisi psikologi Anda saat ini kurang ideal untuk trading (stress level tinggi). Hindari overtrade, pastikan emosi stabil sebelum entry."}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100 font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition",onClick:()=>{Ie(!1),i("dashboard"),rt(null)},children:"Kembali ke Dashboard"}),d.jsx("button",{className:"px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>{Ie(!1),Ce&&i(Ce),rt(null)},children:"Abaikan"})]})]})}),d.jsx(mg,{onNavigate:Wn,user:x,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),showUserIcon:!1,activeMode:a}),d.jsx("main",{className:"flex-1 overflow-hidden",children:d.jsx(t4,{onNavigate:Wn})})]}):d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[le&&d.jsx($g,{}),at&&d.jsx(cg,{type:at.type,onSave:ne=>re(at.analysisId,at.type,ne),onClose:()=>Nt(null)}),Se&&d.jsx(Id,{isOpen:!!Se,onClose:()=>ut(null),onConfirm:Be,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:Se.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:Se.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(Se.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:W}),j&&p&&d.jsx(Hg,{supabaseClient:p,onClose:()=>E(!1)}),M&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:M})]}),d.jsx("button",{onClick:()=>q(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),d.jsx(mg,{onNavigate:Wn,user:x,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),onMobileMenuToggle:()=>h(!c),showUserIcon:!TN(a),activeMode:a}),d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[d.jsx(C_,{activeMode:a,onModeChange:Wn,theme:t,setTheme:r,apiStatus:O,sessionTokens:D,totalTokens:se,isMobileMenuOpen:c,onMobileMenuToggle:()=>h(!c)}),d.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-hidden",children:pn()})]})]})}const wy=document.getElementById("root");if(!wy)throw new Error("Could not find root element to mount to");const RN=Iv.createRoot(wy);RN.render(d.jsx(aa.StrictMode,{children:d.jsx(CN,{})}));
