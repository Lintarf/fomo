(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=a(s);fetch(s.href,u)}})();function Sl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ev(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var s=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(a,l,s.get?s:{enumerable:!0,get:function(){return t[l]}})}),a}var Tc={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function Tv(){if(Vm)return rl;Vm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(l,s,u){var c=null;if(u!==void 0&&(c=""+u),s.key!==void 0&&(c=""+s.key),"key"in s){u={};for(var h in s)h!=="key"&&(u[h]=s[h])}else u=s;return s=u.ref,{$$typeof:t,type:l,key:c,ref:s!==void 0?s:null,props:u}}return rl.Fragment=r,rl.jsx=a,rl.jsxs=a,rl}var Qm;function Av(){return Qm||(Qm=1,Tc.exports=Tv()),Tc.exports}var f=Av(),Ac={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Nv(){if(Xm)return Ee;Xm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function A(k,G,V){this.props=k,this.context=G,this.refs=T,this.updater=V||b}A.prototype.isReactComponent={},A.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function N(){}N.prototype=A.prototype;function M(k,G,V){this.props=k,this.context=G,this.refs=T,this.updater=V||b}var C=M.prototype=new N;C.constructor=M,j(C,A.prototype),C.isPureReactComponent=!0;var q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function Z(k,G,V,_,ue,ge){return V=ge.ref,{$$typeof:t,type:k,key:G,ref:V!==void 0?V:null,props:ge}}function ee(k,G){return Z(k.type,G,void 0,void 0,void 0,k.props)}function oe(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function L(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(V){return G[V]})}var re=/\/+/g;function J(k,G){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):G.toString(36)}function le(){}function te(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(G){k.status==="pending"&&(k.status="fulfilled",k.value=G)},function(G){k.status==="pending"&&(k.status="rejected",k.reason=G)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ae(k,G,V,_,ue){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var de=!1;if(k===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(k.$$typeof){case t:case r:de=!0;break;case x:return de=k._init,ae(de(k._payload),G,V,_,ue)}}if(de)return ue=ue(k),de=_===""?"."+J(k,0):_,q(ue)?(V="",de!=null&&(V=de.replace(re,"$&/")+"/"),ae(ue,G,V,"",function(et){return et})):ue!=null&&(oe(ue)&&(ue=ee(ue,V+(ue.key==null||k&&k.key===ue.key?"":(""+ue.key).replace(re,"$&/")+"/")+de)),G.push(ue)),1;de=0;var $e=_===""?".":_+":";if(q(k))for(var je=0;je<k.length;je++)_=k[je],ge=$e+J(_,je),de+=ae(_,G,V,ge,ue);else if(je=v(k),typeof je=="function")for(k=je.call(k),je=0;!(_=k.next()).done;)_=_.value,ge=$e+J(_,je++),de+=ae(_,G,V,ge,ue);else if(ge==="object"){if(typeof k.then=="function")return ae(te(k),G,V,_,ue);throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return de}function B(k,G,V){if(k==null)return k;var _=[],ue=0;return ae(k,_,"","",function(ge){return G.call(V,ge,ue++)}),_}function K(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(V){(k._status===0||k._status===-1)&&(k._status=1,k._result=V)},function(V){(k._status===0||k._status===-1)&&(k._status=2,k._result=V)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function he(){}return Ee.Children={map:B,forEach:function(k,G,V){B(k,function(){G.apply(this,arguments)},V)},count:function(k){var G=0;return B(k,function(){G++}),G},toArray:function(k){return B(k,function(G){return G})||[]},only:function(k){if(!oe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ee.Component=A,Ee.Fragment=a,Ee.Profiler=s,Ee.PureComponent=M,Ee.StrictMode=l,Ee.Suspense=m,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return F.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cloneElement=function(k,G,V){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _=j({},k.props),ue=k.key,ge=void 0;if(G!=null)for(de in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(ue=""+G.key),G)!D.call(G,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&G.ref===void 0||(_[de]=G[de]);var de=arguments.length-2;if(de===1)_.children=V;else if(1<de){for(var $e=Array(de),je=0;je<de;je++)$e[je]=arguments[je+2];_.children=$e}return Z(k.type,ue,void 0,void 0,ge,_)},Ee.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ee.createElement=function(k,G,V){var _,ue={},ge=null;if(G!=null)for(_ in G.key!==void 0&&(ge=""+G.key),G)D.call(G,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(ue[_]=G[_]);var de=arguments.length-2;if(de===1)ue.children=V;else if(1<de){for(var $e=Array(de),je=0;je<de;je++)$e[je]=arguments[je+2];ue.children=$e}if(k&&k.defaultProps)for(_ in de=k.defaultProps,de)ue[_]===void 0&&(ue[_]=de[_]);return Z(k,ge,void 0,void 0,null,ue)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:h,render:k}},Ee.isValidElement=oe,Ee.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:K}},Ee.memo=function(k,G){return{$$typeof:p,type:k,compare:G===void 0?null:G}},Ee.startTransition=function(k){var G=F.T,V={};F.T=V;try{var _=k(),ue=F.S;ue!==null&&ue(V,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(he,se)}catch(ge){se(ge)}finally{F.T=G}},Ee.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ee.use=function(k){return F.H.use(k)},Ee.useActionState=function(k,G,V){return F.H.useActionState(k,G,V)},Ee.useCallback=function(k,G){return F.H.useCallback(k,G)},Ee.useContext=function(k){return F.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,G){return F.H.useDeferredValue(k,G)},Ee.useEffect=function(k,G,V){var _=F.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(k,G)},Ee.useId=function(){return F.H.useId()},Ee.useImperativeHandle=function(k,G,V){return F.H.useImperativeHandle(k,G,V)},Ee.useInsertionEffect=function(k,G){return F.H.useInsertionEffect(k,G)},Ee.useLayoutEffect=function(k,G){return F.H.useLayoutEffect(k,G)},Ee.useMemo=function(k,G){return F.H.useMemo(k,G)},Ee.useOptimistic=function(k,G){return F.H.useOptimistic(k,G)},Ee.useReducer=function(k,G,V){return F.H.useReducer(k,G,V)},Ee.useRef=function(k){return F.H.useRef(k)},Ee.useState=function(k){return F.H.useState(k)},Ee.useSyncExternalStore=function(k,G,V){return F.H.useSyncExternalStore(k,G,V)},Ee.useTransition=function(){return F.H.useTransition()},Ee.version="19.1.0",Ee}var Km;function Od(){return Km||(Km=1,Ac.exports=Nv()),Ac.exports}var $=Od();const eo=Sl($);var Nc={exports:{}},al={},Cc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function Cv(){return Zm||(Zm=1,function(t){function r(B,K){var se=B.length;B.push(K);e:for(;0<se;){var he=se-1>>>1,k=B[he];if(0<s(k,K))B[he]=K,B[se]=k,se=he;else break e}}function a(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var K=B[0],se=B.pop();if(se!==K){B[0]=se;e:for(var he=0,k=B.length,G=k>>>1;he<G;){var V=2*(he+1)-1,_=B[V],ue=V+1,ge=B[ue];if(0>s(_,se))ue<k&&0>s(ge,_)?(B[he]=ge,B[ue]=se,he=ue):(B[he]=_,B[V]=se,he=V);else if(ue<k&&0>s(ge,se))B[he]=ge,B[ue]=se,he=ue;else break e}}return K}function s(B,K){var se=B.sortIndex-K.sortIndex;return se!==0?se:B.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],p=[],x=1,y=null,v=3,b=!1,j=!1,T=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var K=a(p);K!==null;){if(K.callback===null)l(p);else if(K.startTime<=B)l(p),K.sortIndex=K.expirationTime,r(m,K);else break;K=a(p)}}function F(B){if(T=!1,q(B),!j)if(a(m)!==null)j=!0,D||(D=!0,J());else{var K=a(p);K!==null&&ae(F,K.startTime-B)}}var D=!1,Z=-1,ee=5,oe=-1;function L(){return A?!0:!(t.unstable_now()-oe<ee)}function re(){if(A=!1,D){var B=t.unstable_now();oe=B;var K=!0;try{e:{j=!1,T&&(T=!1,M(Z),Z=-1),b=!0;var se=v;try{t:{for(q(B),y=a(m);y!==null&&!(y.expirationTime>B&&L());){var he=y.callback;if(typeof he=="function"){y.callback=null,v=y.priorityLevel;var k=he(y.expirationTime<=B);if(B=t.unstable_now(),typeof k=="function"){y.callback=k,q(B),K=!0;break t}y===a(m)&&l(m),q(B)}else l(m);y=a(m)}if(y!==null)K=!0;else{var G=a(p);G!==null&&ae(F,G.startTime-B),K=!1}}break e}finally{y=null,v=se,b=!1}K=void 0}}finally{K?J():D=!1}}}var J;if(typeof C=="function")J=function(){C(re)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=re,J=function(){te.postMessage(null)}}else J=function(){N(re,0)};function ae(B,K){Z=N(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var se=v;v=K;try{return B()}finally{v=se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=v;v=B;try{return K()}finally{v=se}},t.unstable_scheduleCallback=function(B,K,se){var he=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,B={id:x++,callback:K,priorityLevel:B,startTime:se,expirationTime:k,sortIndex:-1},se>he?(B.sortIndex=se,r(p,B),a(m)===null&&B===a(p)&&(T?(M(Z),Z=-1):T=!0,ae(F,se-he))):(B.sortIndex=k,r(m,B),j||b||(j=!0,D||(D=!0,J()))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var K=v;return function(){var se=v;v=K;try{return B.apply(this,arguments)}finally{v=se}}}}(Rc)),Rc}var Jm;function Rv(){return Jm||(Jm=1,Cc.exports=Cv()),Cc.exports}var Oc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Ov(){if(Wm)return At;Wm=1;var t=Od();function r(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(m,p,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:m,containerInfo:p,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return u(m,p,null,x)},At.flushSync=function(m){var p=c.T,x=l.p;try{if(c.T=null,l.p=2,m)return m()}finally{c.T=p,l.p=x,l.d.f()}},At.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},At.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},At.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,y=h(x,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):x==="script"&&l.d.X(m,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},At.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,y=h(x,p.crossOrigin);l.d.L(m,x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=h(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},At.requestFormReset=function(m){l.d.r(m)},At.unstable_batchedUpdates=function(m,p){return m(p)},At.useFormState=function(m,p,x){return c.H.useFormState(m,p,x)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.1.0",At}var ep;function Dv(){if(ep)return Oc.exports;ep=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Oc.exports=Ov(),Oc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function Lv(){if(tp)return al;tp=1;var t=Rv(),r=Od(),a=Dv();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(l(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var i=e,o=n;;){var d=i.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===i)return h(d),e;if(g===o)return h(d),n;g=g.sibling}throw Error(l(188))}if(i.return!==o.return)i=d,o=g;else{for(var w=!1,S=d.child;S;){if(S===i){w=!0,i=d,o=g;break}if(S===o){w=!0,o=d,i=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===i){w=!0,i=g,o=d;break}if(S===o){w=!0,o=g,i=d;break}S=S.sibling}if(!w)throw Error(l(189))}}if(i.alternate!==o)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),C=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case D:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case C:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case ee:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var ae=Array.isArray,B=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},he=[],k=-1;function G(e){return{current:e}}function V(e){0>k||(e.current=he[k],he[k]=null,k--)}function _(e,n){k++,he[k]=e.current,e.current=n}var ue=G(null),ge=G(null),de=G(null),$e=G(null);function je(e,n){switch(_(de,n),_(ge,e),_(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wm(n),e=km(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ue),_(ue,e)}function et(){V(ue),V(ge),V(de)}function Ve(e){e.memoizedState!==null&&_($e,e);var n=ue.current,i=km(n,e.type);n!==i&&(_(ge,e),_(ue,i))}function _t(e){ge.current===e&&(V(ue),V(ge)),$e.current===e&&(V($e),Ji._currentValue=se)}var Ce=Object.prototype.hasOwnProperty,it=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Yn=t.unstable_shouldYield,Vn=t.unstable_requestPaint,nt=t.unstable_now,ii=t.unstable_getCurrentPriorityLevel,Tr=t.unstable_ImmediatePriority,Ar=t.unstable_UserBlockingPriority,Qn=t.unstable_NormalPriority,li=t.unstable_LowPriority,gn=t.unstable_IdlePriority,Nr=t.log,si=t.unstable_setDisableYieldValue,H=null,ne=null;function xe(e){if(typeof Nr=="function"&&si(e),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(H,e)}catch{}}var ve=Math.clz32?Math.clz32:un,Be=Math.log,Ot=Math.LN2;function un(e){return e>>>=0,e===0?32:31-(Be(e)/Ot|0)|0}var W=256,ce=4194304;function ye(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var d=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?d=ye(o):(w&=S,w!==0?d=ye(w):i||(i=S&~e,i!==0&&(d=ye(i))))):(S=o&~g,S!==0?d=ye(S):w!==0?d=ye(w):i||(i=o&~e,i!==0&&(d=ye(i)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:d}function Ae(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var e=W;return W<<=1,(W&4194048)===0&&(W=256),e}function En(){var e=ce;return ce<<=1,(ce&62914560)===0&&(ce=4194304),e}function ea(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function oi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function my(e,n,i,o,d,g){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,E=e.expirationTimes,U=e.hiddenUpdates;for(i=w&~i;0<i;){var Y=31-ve(i),X=1<<Y;S[Y]=0,E[Y]=-1;var P=U[Y];if(P!==null)for(U[Y]=null,Y=0;Y<P.length;Y++){var I=P[Y];I!==null&&(I.lane&=-536870913)}i&=~X}o!==0&&lf(e,o,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function lf(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function sf(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ve(i),d=1<<o;d&n|e[o]&n&&(e[o]|=n),i&=~d}}function xo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function of(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:qm(e.type))}function py(e,n){var i=K.p;try{return K.p=e,n()}finally{K.p=i}}var Xn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xn,Mt="__reactProps$"+Xn,ta="__reactContainer$"+Xn,bo="__reactEvents$"+Xn,gy="__reactListeners$"+Xn,xy="__reactHandles$"+Xn,uf="__reactResources$"+Xn,ui="__reactMarker$"+Xn;function vo(e){delete e[Et],delete e[Mt],delete e[bo],delete e[gy],delete e[xy]}function na(e){var n=e[Et];if(n)return n;for(var i=e.parentNode;i;){if(n=i[ta]||i[Et]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Em(e);e!==null;){if(i=e[Et])return i;e=Em(e)}return n}e=i,i=e.parentNode}return null}function ra(e){if(e=e[Et]||e[ta]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ci(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function aa(e){var n=e[uf];return n||(n=e[uf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mt(e){e[ui]=!0}var cf=new Set,df={};function Cr(e,n){ia(e,n),ia(e+"Capture",n)}function ia(e,n){for(df[e]=n,e=0;e<n.length;e++)cf.add(n[e])}var yy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ff={},hf={};function by(e){return Ce.call(hf,e)?!0:Ce.call(ff,e)?!1:yy.test(e)?hf[e]=!0:(ff[e]=!0,!1)}function Nl(e,n,i){if(by(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Cl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Tn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var wo,mf;function la(e){if(wo===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);wo=n&&n[1]||"",mf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+e+mf}var ko=!1;function So(e,n){if(!e||ko)return"";ko=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(I){var P=I}Reflect.construct(e,[],X)}else{try{X.call()}catch(I){P=I}e.call(X.prototype)}}else{try{throw Error()}catch(I){P=I}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(I){if(I&&P&&typeof I.stack=="string")return[I.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var E=w.split(`
`),U=S.split(`
`);for(d=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(o===E.length||d===U.length)for(o=E.length-1,d=U.length-1;1<=o&&0<=d&&E[o]!==U[d];)d--;for(;1<=o&&0<=d;o--,d--)if(E[o]!==U[d]){if(o!==1||d!==1)do if(o--,d--,0>d||E[o]!==U[d]){var Y=`
`+E[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=d);break}}}finally{ko=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?la(i):""}function vy(e){switch(e.tag){case 26:case 27:case 5:return la(e.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return So(e.type,!1);case 11:return So(e.type.render,!1);case 1:return So(e.type,!0);case 31:return la("Activity");default:return""}}function pf(e){try{var n="";do n+=vy(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wy(e){var n=gf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,g=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Rl(e){e._valueTracker||(e._valueTracker=wy(e))}function xf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=gf(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ky=/[\n"\\]/g;function Wt(e){return e.replace(ky,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function jo(e,n,i,o,d,g,w,S){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Jt(n)):e.value!==""+Jt(n)&&(e.value=""+Jt(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?_o(e,w,Jt(n)):i!=null?_o(e,w,Jt(i)):o!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Jt(S):e.removeAttribute("name")}function yf(e,n,i,o,d,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;i=i!=null?""+Jt(i):"",n=n!=null?""+Jt(n):i,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function _o(e,n,i){n==="number"&&Ol(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function sa(e,n,i,o){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Jt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function bf(e,n,i){if(n!=null&&(n=""+Jt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Jt(i):""}function vf(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(l(92));if(ae(o)){if(1<o.length)throw Error(l(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Jt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function oa(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Sy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Sy.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function kf(e,n,i){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&i[d]!==o&&wf(e,d,o)}else for(var g in n)n.hasOwnProperty(g)&&wf(e,g,n[g])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(e){return _y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var To=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,ca=null;function Sf(e){var n=ra(e);if(n&&(e=n.stateNode)){var i=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(jo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Wt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var d=o[Mt]||null;if(!d)throw Error(l(90));jo(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&xf(o)}break e;case"textarea":bf(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&sa(e,!!i.multiple,n,!1)}}}var No=!1;function jf(e,n,i){if(No)return e(n,i);No=!0;try{var o=e(n);return o}finally{if(No=!1,(ua!==null||ca!==null)&&(ys(),ua&&(n=ua,e=ca,ca=ua=null,Sf(n),e)))for(n=0;n<e.length;n++)Sf(e[n])}}function di(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Mt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,n,typeof i));return i}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=!1;if(An)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){Co=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{Co=!1}var Kn=null,Ro=null,Ll=null;function _f(){if(Ll)return Ll;var e,n=Ro,i=n.length,o,d="value"in Kn?Kn.value:Kn.textContent,g=d.length;for(e=0;e<i&&n[e]===d[e];e++);var w=i-e;for(o=1;o<=w&&n[i-o]===d[g-o];o++);return Ll=d.slice(e,1<o?1-o:void 0)}function Ml(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zl(){return!0}function Ef(){return!1}function zt(e){function n(i,o,d,g,w){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zl:Ef,this.isPropagationStopped=Ef,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=zt(Rr),hi=x({},Rr,{view:0,detail:0}),Ey=zt(hi),Oo,Do,mi,Bl=x({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(Oo=e.screenX-mi.screenX,Do=e.screenY-mi.screenY):Do=Oo=0,mi=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:Do}}),Tf=zt(Bl),Ty=x({},Bl,{dataTransfer:0}),Ay=zt(Ty),Ny=x({},hi,{relatedTarget:0}),Lo=zt(Ny),Cy=x({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ry=zt(Cy),Oy=x({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dy=zt(Oy),Ly=x({},Rr,{data:0}),Af=zt(Ly),My={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function By(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Uy[e])?!!n[e]:!1}function Mo(){return By}var Py=x({},hi,{key:function(e){if(e.key){var n=My[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iy=zt(Py),qy=x({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=zt(qy),Hy=x({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),$y=zt(Hy),Fy=x({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gy=zt(Fy),Yy=x({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=zt(Yy),Qy=x({},Rr,{newState:0,oldState:0}),Xy=zt(Qy),Ky=[9,13,27,32],zo=An&&"CompositionEvent"in window,pi=null;An&&"documentMode"in document&&(pi=document.documentMode);var Zy=An&&"TextEvent"in window&&!pi,Cf=An&&(!zo||pi&&8<pi&&11>=pi),Rf=" ",Of=!1;function Df(e,n){switch(e){case"keyup":return Ky.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function Jy(e,n){switch(e){case"compositionend":return Lf(n);case"keypress":return n.which!==32?null:(Of=!0,Rf);case"textInput":return e=n.data,e===Rf&&Of?null:e;default:return null}}function Wy(e,n){if(da)return e==="compositionend"||!zo&&Df(e,n)?(e=_f(),Ll=Ro=Kn=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Cf&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!eb[e.type]:n==="textarea"}function zf(e,n,i,o){ua?ca?ca.push(o):ca=[o]:ua=o,n=js(n,"onChange"),0<n.length&&(i=new Ul("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var gi=null,xi=null;function tb(e){gm(e,0)}function Pl(e){var n=ci(e);if(xf(n))return e}function Uf(e,n){if(e==="change")return n}var Bf=!1;if(An){var Uo;if(An){var Bo="oninput"in document;if(!Bo){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),Bo=typeof Pf.oninput=="function"}Uo=Bo}else Uo=!1;Bf=Uo&&(!document.documentMode||9<document.documentMode)}function If(){gi&&(gi.detachEvent("onpropertychange",qf),xi=gi=null)}function qf(e){if(e.propertyName==="value"&&Pl(xi)){var n=[];zf(n,xi,e,Ao(e)),jf(tb,n)}}function nb(e,n,i){e==="focusin"?(If(),gi=n,xi=i,gi.attachEvent("onpropertychange",qf)):e==="focusout"&&If()}function rb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(xi)}function ab(e,n){if(e==="click")return Pl(n)}function ib(e,n){if(e==="input"||e==="change")return Pl(n)}function lb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var $t=typeof Object.is=="function"?Object.is:lb;function yi(e,n){if($t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!Ce.call(n,d)||!$t(e[d],n[d]))return!1}return!0}function Hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $f(e,n){var i=Hf(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hf(i)}}function Ff(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ff(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ol(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ol(e.document)}return n}function Po(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sb=An&&"documentMode"in document&&11>=document.documentMode,fa=null,Io=null,bi=null,qo=!1;function Yf(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;qo||fa==null||fa!==Ol(o)||(o=fa,"selectionStart"in o&&Po(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bi&&yi(bi,o)||(bi=o,o=js(Io,"onSelect"),0<o.length&&(n=new Ul("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=fa)))}function Or(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ha={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Ho={},Vf={};An&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Dr(e){if(Ho[e])return Ho[e];if(!ha[e])return e;var n=ha[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Vf)return Ho[e]=n[i];return e}var Qf=Dr("animationend"),Xf=Dr("animationiteration"),Kf=Dr("animationstart"),ob=Dr("transitionrun"),ub=Dr("transitionstart"),cb=Dr("transitioncancel"),Zf=Dr("transitionend"),Jf=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function cn(e,n){Jf.set(e,n),Cr(n,[e])}var Wf=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var i=Wf.get(e);return i!==void 0?i:(n={value:e,source:n,stack:pf(n)},Wf.set(e,n),n)}return{value:e,source:n,stack:pf(n)}}var tn=[],ma=0,Fo=0;function Il(){for(var e=ma,n=Fo=ma=0;n<e;){var i=tn[n];tn[n++]=null;var o=tn[n];tn[n++]=null;var d=tn[n];tn[n++]=null;var g=tn[n];if(tn[n++]=null,o!==null&&d!==null){var w=o.pending;w===null?d.next=d:(d.next=w.next,w.next=d),o.pending=d}g!==0&&eh(i,d,g)}}function ql(e,n,i,o){tn[ma++]=e,tn[ma++]=n,tn[ma++]=i,tn[ma++]=o,Fo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Go(e,n,i,o){return ql(e,n,i,o),Hl(e)}function pa(e,n){return ql(e,null,null,n),Hl(e)}function eh(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var d=!1,g=e.return;g!==null;)g.childLanes|=i,o=g.alternate,o!==null&&(o.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-ve(i),e=g.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=i|536870912),g):null}function Hl(e){if(50<Fi)throw Fi=0,Zu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function db(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,i,o){return new db(e,n,i,o)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nn(e,n){var i=e.alternate;return i===null?(i=Ft(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function th(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function $l(e,n,i,o,d,g){var w=0;if(o=e,typeof e=="function")Yo(e)&&(w=1);else if(typeof e=="string")w=hv(e,i,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Ft(31,i,n,d),e.elementType=oe,e.lanes=g,e;case j:return Lr(i.children,d,g,n);case T:w=8,d|=24;break;case A:return e=Ft(12,i,n,d|2),e.elementType=A,e.lanes=g,e;case F:return e=Ft(13,i,n,d),e.elementType=F,e.lanes=g,e;case D:return e=Ft(19,i,n,d),e.elementType=D,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case C:w=10;break e;case M:w=9;break e;case q:w=11;break e;case Z:w=14;break e;case ee:w=16,o=null;break e}w=29,i=Error(l(130,e===null?"null":typeof e,"")),o=null}return n=Ft(w,i,n,d),n.elementType=e,n.type=o,n.lanes=g,n}function Lr(e,n,i,o){return e=Ft(7,e,o,n),e.lanes=i,e}function Vo(e,n,i){return e=Ft(6,e,null,n),e.lanes=i,e}function Qo(e,n,i){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xa=[],ya=0,Fl=null,Gl=0,nn=[],rn=0,Mr=null,Cn=1,Rn="";function zr(e,n){xa[ya++]=Gl,xa[ya++]=Fl,Fl=e,Gl=n}function nh(e,n,i){nn[rn++]=Cn,nn[rn++]=Rn,nn[rn++]=Mr,Mr=e;var o=Cn;e=Rn;var d=32-ve(o)-1;o&=~(1<<d),i+=1;var g=32-ve(n)+d;if(30<g){var w=d-d%5;g=(o&(1<<w)-1).toString(32),o>>=w,d-=w,Cn=1<<32-ve(n)+d|i<<d|o,Rn=g+e}else Cn=1<<g|i<<d|o,Rn=e}function Xo(e){e.return!==null&&(zr(e,1),nh(e,1,0))}function Ko(e){for(;e===Fl;)Fl=xa[--ya],xa[ya]=null,Gl=xa[--ya],xa[ya]=null;for(;e===Mr;)Mr=nn[--rn],nn[rn]=null,Rn=nn[--rn],nn[rn]=null,Cn=nn[--rn],nn[rn]=null}var Dt=null,rt=null,Ie=!1,Ur=null,yn=!1,Zo=Error(l(519));function Br(e){var n=Error(l(418,""));throw ki(en(n,e)),Zo}function rh(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Et]=e,n[Mt]=o,i){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(i=0;i<Yi.length;i++)De(Yi[i],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),yf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Rl(n);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),vf(n,o.value,o.defaultValue,o.children),Rl(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||vm(n.textContent,i)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=_s),n=!0):n=!1,n||Br(e)}function ah(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Dt=Dt.return}}function vi(e){if(e!==Dt)return!1;if(!Ie)return ah(e),Ie=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||hc(e.type,e.memoizedProps)),i=!i),i&&rt&&Br(e),ah(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){rt=fn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}rt=null}}else n===27?(n=rt,fr(e.type)?(e=xc,xc=null,rt=e):rt=n):rt=Dt?fn(e.stateNode.nextSibling):null;return!0}function wi(){rt=Dt=null,Ie=!1}function ih(){var e=Ur;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Ur=null),e}function ki(e){Ur===null?Ur=[e]:Ur.push(e)}var Jo=G(null),Pr=null,On=null;function Zn(e,n,i){_(Jo,n._currentValue),n._currentValue=i}function Dn(e){e._currentValue=Jo.current,V(Jo)}function Wo(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function eu(e,n,i,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var E=0;E<n.length;E++)if(S.context===n[E]){g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),Wo(g.return,i,e),o||(w=null);break e}g=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(l(341));w.lanes|=i,g=w.alternate,g!==null&&(g.lanes|=i),Wo(w,i,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Si(e,n,i,o){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var S=d.type;$t(d.pendingProps.value,w.value)||(e!==null?e.push(S):e=[S])}}else if(d===$e.current){if(w=d.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}d=d.return}e!==null&&eu(n,e,i,o),n.flags|=262144}function Yl(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Pr=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return lh(Pr,e)}function Vl(e,n){return Pr===null&&Ir(e),lh(e,n)}function lh(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},On===null){if(e===null)throw Error(l(308));On=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else On=On.next=n;return i}var fb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},hb=t.unstable_scheduleCallback,mb=t.unstable_NormalPriority,dt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new fb,data:new Map,refCount:0}}function ji(e){e.refCount--,e.refCount===0&&hb(mb,function(){e.controller.abort()})}var _i=null,nu=0,ba=0,va=null;function pb(e,n){if(_i===null){var i=_i=[];nu=0,ba=ac(),va={status:"pending",value:void 0,then:function(o){i.push(o)}}}return nu++,n.then(sh,sh),n}function sh(){if(--nu===0&&_i!==null){va!==null&&(va.status="fulfilled");var e=_i;_i=null,ba=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gb(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var oh=B.S;B.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&pb(e,n),oh!==null&&oh(e,n)};var qr=G(null);function ru(){var e=qr.current;return e!==null?e:Ke.pooledCache}function Ql(e,n){n===null?_(qr,qr.current):_(qr,n.pool)}function uh(){var e=ru();return e===null?null:{parent:dt._currentValue,pool:e}}var Ei=Error(l(460)),ch=Error(l(474)),Xl=Error(l(542)),au={then:function(){}};function dh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kl(){}function fh(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Kl,Kl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mh(e),e;default:if(typeof n.status=="string")n.then(Kl,Kl);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mh(e),e}throw Ti=n,Ei}}var Ti=null;function hh(){if(Ti===null)throw Error(l(459));var e=Ti;return Ti=null,e}function mh(e){if(e===Ei||e===Xl)throw Error(l(483))}var Jn=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qe&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Hl(e),eh(e,null,i),n}return ql(e,o,n,i),Hl(e)}function Ai(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,sf(e,i)}}function su(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?d=g=n:g=g.next=n}else d=g=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var ou=!1;function Ni(){if(ou){var e=va;if(e!==null)throw e}}function Ci(e,n,i,o){ou=!1;var d=e.updateQueue;Jn=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var E=S,U=E.next;E.next=null,w===null?g=U:w.next=U,w=E;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==w&&(S===null?Y.firstBaseUpdate=U:S.next=U,Y.lastBaseUpdate=E))}if(g!==null){var X=d.baseState;w=0,Y=U=E=null,S=g;do{var P=S.lane&-536870913,I=P!==S.lane;if(I?(ze&P)===P:(o&P)===P){P!==0&&P===ba&&(ou=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=e,we=S;P=n;var Ye=i;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){X=Se.call(Ye,X,P);break e}X=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,P=typeof Se=="function"?Se.call(Ye,X,P):Se,P==null)break e;X=x({},X,P);break e;case 2:Jn=!0}}P=S.callback,P!==null&&(e.flags|=64,I&&(e.flags|=8192),I=d.callbacks,I===null?d.callbacks=[P]:I.push(P))}else I={lane:P,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(U=Y=I,E=X):Y=Y.next=I,w|=P;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;I=S,S=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);Y===null&&(E=X),d.baseState=E,d.firstBaseUpdate=U,d.lastBaseUpdate=Y,g===null&&(d.shared.lanes=0),or|=w,e.lanes=w,e.memoizedState=X}}function ph(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function gh(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ph(i[e],n)}var wa=G(null),Zl=G(0);function xh(e,n){e=In,_(Zl,e),_(wa,n),In=e|n.baseLanes}function uu(){_(Zl,In),_(wa,wa.current)}function cu(){In=Zl.current,V(wa),V(Zl)}var tr=0,Ne=null,Fe=null,ot=null,Jl=!1,ka=!1,Hr=!1,Wl=0,Ri=0,Sa=null,xb=0;function lt(){throw Error(l(321))}function du(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!$t(e[i],n[i]))return!1;return!0}function fu(e,n,i,o,d,g){return tr=g,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?e0:t0,Hr=!1,g=i(o,d),Hr=!1,ka&&(g=bh(n,i,o,d)),yh(e),g}function yh(e){B.H=is;var n=Fe!==null&&Fe.next!==null;if(tr=0,ot=Fe=Ne=null,Jl=!1,Ri=0,Sa=null,n)throw Error(l(300));e===null||pt||(e=e.dependencies,e!==null&&Yl(e)&&(pt=!0))}function bh(e,n,i,o){Ne=e;var d=0;do{if(ka&&(Sa=null),Ri=0,ka=!1,25<=d)throw Error(l(301));if(d+=1,ot=Fe=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=jb,g=n(i,o)}while(ka);return g}function yb(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?Oi(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Ne.flags|=1024),n}function hu(){var e=Wl!==0;return Wl=0,e}function mu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function pu(e){if(Jl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Jl=!1}tr=0,ot=Fe=Ne=null,ka=!1,Ri=Wl=0,Sa=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ne.memoizedState=ot=e:ot=ot.next=e,ot}function ut(){if(Fe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=ot===null?Ne.memoizedState:ot.next;if(n!==null)ot=n,Fe=e;else{if(e===null)throw Ne.alternate===null?Error(l(467)):Error(l(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ot===null?Ne.memoizedState=ot=e:ot=ot.next=e}return ot}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oi(e){var n=Ri;return Ri+=1,Sa===null&&(Sa=[]),e=fh(Sa,e,n),n=Ne,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?e0:t0),e}function es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oi(e);if(e.$$typeof===C)return Tt(e)}throw Error(l(438,String(e)))}function xu(e){var n=null,i=Ne.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=gu(),Ne.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=L;return n.index++,i}function Ln(e,n){return typeof n=="function"?n(e):n}function ts(e){var n=ut();return yu(n,Fe,e)}function yu(e,n,i){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=i;var d=e.baseQueue,g=o.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}n.baseQueue=d=g,o.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var S=w=null,E=null,U=n,Y=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(ze&X)===X:(tr&X)===X){var P=U.revertLane;if(P===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===ba&&(Y=!0);else if((tr&P)===P){U=U.next,P===ba&&(Y=!0);continue}else X={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(S=E=X,w=g):E=E.next=X,Ne.lanes|=P,or|=P;X=U.action,Hr&&i(g,X),g=U.hasEagerState?U.eagerState:i(g,X)}else P={lane:X,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(S=E=P,w=g):E=E.next=P,Ne.lanes|=X,or|=X;U=U.next}while(U!==null&&U!==n);if(E===null?w=g:E.next=S,!$t(g,e.memoizedState)&&(pt=!0,Y&&(i=va,i!==null)))throw i;e.memoizedState=g,e.baseState=w,e.baseQueue=E,o.lastRenderedState=g}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bu(e){var n=ut(),i=n.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,g=n.memoizedState;if(d!==null){i.pending=null;var w=d=d.next;do g=e(g,w.action),w=w.next;while(w!==d);$t(g,n.memoizedState)||(pt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,o]}function vh(e,n,i){var o=Ne,d=ut(),g=Ie;if(g){if(i===void 0)throw Error(l(407));i=i()}else i=n();var w=!$t((Fe||d).memoizedState,i);w&&(d.memoizedState=i,pt=!0),d=d.queue;var S=Sh.bind(null,o,d,e);if(Di(2048,8,S,[e]),d.getSnapshot!==n||w||ot!==null&&ot.memoizedState.tag&1){if(o.flags|=2048,ja(9,ns(),kh.bind(null,o,d,i,n),null),Ke===null)throw Error(l(349));g||(tr&124)!==0||wh(o,n,i)}return i}function wh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ne.updateQueue,n===null?(n=gu(),Ne.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function kh(e,n,i,o){n.value=i,n.getSnapshot=o,jh(n)&&_h(e)}function Sh(e,n,i){return i(function(){jh(n)&&_h(e)})}function jh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!$t(e,i)}catch{return!0}}function _h(e){var n=pa(e,2);n!==null&&Xt(n,e,2)}function vu(e){var n=Ut();if(typeof e=="function"){var i=e;if(e=i(),Hr){xe(!0);try{i()}finally{xe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},n}function Eh(e,n,i,o){return e.baseState=i,yu(e,Fe,typeof o=="function"?o:Ln)}function bb(e,n,i,o,d){if(as(e))throw Error(l(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};B.T!==null?i(!0):g.isTransition=!1,o(g),i=n.pending,i===null?(g.next=n.pending=g,Th(n,g)):(g.next=i.next,n.pending=i.next=g)}}function Th(e,n){var i=n.action,o=n.payload,d=e.state;if(n.isTransition){var g=B.T,w={};B.T=w;try{var S=i(d,o),E=B.S;E!==null&&E(w,S),Ah(e,n,S)}catch(U){wu(e,n,U)}finally{B.T=g}}else try{g=i(d,o),Ah(e,n,g)}catch(U){wu(e,n,U)}}function Ah(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Nh(e,n,o)},function(o){return wu(e,n,o)}):Nh(e,n,i)}function Nh(e,n,i){n.status="fulfilled",n.value=i,Ch(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Th(e,i)))}function wu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Ch(n),n=n.next;while(n!==o)}e.action=null}function Ch(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rh(e,n){return n}function Oh(e,n){if(Ie){var i=Ke.formState;if(i!==null){e:{var o=Ne;if(Ie){if(rt){t:{for(var d=rt,g=yn;d.nodeType!==8;){if(!g){d=null;break t}if(d=fn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){rt=fn(d.nextSibling),o=d.data==="F!";break e}}Br(o)}o=!1}o&&(n=i[0])}}return i=Ut(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:n},i.queue=o,i=Zh.bind(null,Ne,o),o.dispatch=i,o=vu(!1),g=Eu.bind(null,Ne,!1,o.queue),o=Ut(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,i=bb.bind(null,Ne,d,g,i),d.dispatch=i,o.memoizedState=e,[n,i,!1]}function Dh(e){var n=ut();return Lh(n,Fe,e)}function Lh(e,n,i){if(n=yu(e,n,Rh)[0],e=ts(Ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Oi(n)}catch(w){throw w===Ei?Xl:w}else o=n;n=ut();var d=n.queue,g=d.dispatch;return i!==n.memoizedState&&(Ne.flags|=2048,ja(9,ns(),vb.bind(null,d,i),null)),[o,g,e]}function vb(e,n){e.action=n}function Mh(e){var n=ut(),i=Fe;if(i!==null)return Lh(n,i,e);ut(),n=n.memoizedState,i=ut();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function ja(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=gu(),Ne.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function ns(){return{destroy:void 0,resource:void 0}}function zh(){return ut().memoizedState}function rs(e,n,i,o){var d=Ut();o=o===void 0?null:o,Ne.flags|=e,d.memoizedState=ja(1|n,ns(),i,o)}function Di(e,n,i,o){var d=ut();o=o===void 0?null:o;var g=d.memoizedState.inst;Fe!==null&&o!==null&&du(o,Fe.memoizedState.deps)?d.memoizedState=ja(n,g,i,o):(Ne.flags|=e,d.memoizedState=ja(1|n,g,i,o))}function Uh(e,n){rs(8390656,8,e,n)}function Bh(e,n){Di(2048,8,e,n)}function Ph(e,n){return Di(4,2,e,n)}function Ih(e,n){return Di(4,4,e,n)}function qh(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hh(e,n,i){i=i!=null?i.concat([e]):null,Di(4,4,qh.bind(null,n,e),i)}function ku(){}function $h(e,n){var i=ut();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&du(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Fh(e,n){var i=ut();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&du(n,o[1]))return o[0];if(o=e(),Hr){xe(!0);try{e()}finally{xe(!1)}}return i.memoizedState=[o,n],o}function Su(e,n,i){return i===void 0||(tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=V0(),Ne.lanes|=e,or|=e,i)}function Gh(e,n,i,o){return $t(i,n)?i:wa.current!==null?(e=Su(e,i,o),$t(e,n)||(pt=!0),e):(tr&42)===0?(pt=!0,e.memoizedState=i):(e=V0(),Ne.lanes|=e,or|=e,n)}function Yh(e,n,i,o,d){var g=K.p;K.p=g!==0&&8>g?g:8;var w=B.T,S={};B.T=S,Eu(e,!1,n,i);try{var E=d(),U=B.S;if(U!==null&&U(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Y=gb(E,o);Li(e,n,Y,Qt(e))}else Li(e,n,o,Qt(e))}catch(X){Li(e,n,{then:function(){},status:"rejected",reason:X},Qt())}finally{K.p=g,B.T=w}}function wb(){}function ju(e,n,i,o){if(e.tag!==5)throw Error(l(476));var d=Vh(e).queue;Yh(e,d,n,se,i===null?wb:function(){return Qh(e),i(o)})}function Vh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:se},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qh(e){var n=Vh(e).next.queue;Li(e,n,{},Qt())}function _u(){return Tt(Ji)}function Xh(){return ut().memoizedState}function Kh(){return ut().memoizedState}function kb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Qt();e=Wn(i);var o=er(n,e,i);o!==null&&(Xt(o,n,i),Ai(o,n,i)),n={cache:tu()},e.payload=n;return}n=n.return}}function Sb(e,n,i){var o=Qt();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},as(e)?Jh(n,i):(i=Go(e,n,i,o),i!==null&&(Xt(i,e,o),Wh(i,n,o)))}function Zh(e,n,i){var o=Qt();Li(e,n,i,o)}function Li(e,n,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(as(e))Jh(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,S=g(w,i);if(d.hasEagerState=!0,d.eagerState=S,$t(S,w))return ql(e,n,d,0),Ke===null&&Il(),!1}catch{}finally{}if(i=Go(e,n,d,o),i!==null)return Xt(i,e,o),Wh(i,n,o),!0}return!1}function Eu(e,n,i,o){if(o={lane:2,revertLane:ac(),action:o,hasEagerState:!1,eagerState:null,next:null},as(e)){if(n)throw Error(l(479))}else n=Go(e,i,o,2),n!==null&&Xt(n,e,2)}function as(e){var n=e.alternate;return e===Ne||n!==null&&n===Ne}function Jh(e,n){ka=Jl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Wh(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,sf(e,i)}}var is={readContext:Tt,use:es,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},e0={readContext:Tt,use:es,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:Tt,useEffect:Uh,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,rs(4194308,4,qh.bind(null,n,e),i)},useLayoutEffect:function(e,n){return rs(4194308,4,e,n)},useInsertionEffect:function(e,n){rs(4,2,e,n)},useMemo:function(e,n){var i=Ut();n=n===void 0?null:n;var o=e();if(Hr){xe(!0);try{e()}finally{xe(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Ut();if(i!==void 0){var d=i(n);if(Hr){xe(!0);try{i(n)}finally{xe(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Sb.bind(null,Ne,e),[o.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=vu(e);var n=e.queue,i=Zh.bind(null,Ne,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ku,useDeferredValue:function(e,n){var i=Ut();return Su(i,e,n)},useTransition:function(){var e=vu(!1);return e=Yh.bind(null,Ne,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Ne,d=Ut();if(Ie){if(i===void 0)throw Error(l(407));i=i()}else{if(i=n(),Ke===null)throw Error(l(349));(ze&124)!==0||wh(o,n,i)}d.memoizedState=i;var g={value:i,getSnapshot:n};return d.queue=g,Uh(Sh.bind(null,o,g,e),[e]),o.flags|=2048,ja(9,ns(),kh.bind(null,o,g,i,n),null),i},useId:function(){var e=Ut(),n=Ke.identifierPrefix;if(Ie){var i=Rn,o=Cn;i=(o&~(1<<32-ve(o)-1)).toString(32)+i,n=""+n+"R"+i,i=Wl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=xb++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:_u,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Eu.bind(null,Ne,!0,i),i.dispatch=n,[e,n]},useMemoCache:xu,useCacheRefresh:function(){return Ut().memoizedState=kb.bind(null,Ne)}},t0={readContext:Tt,use:es,useCallback:$h,useContext:Tt,useEffect:Bh,useImperativeHandle:Hh,useInsertionEffect:Ph,useLayoutEffect:Ih,useMemo:Fh,useReducer:ts,useRef:zh,useState:function(){return ts(Ln)},useDebugValue:ku,useDeferredValue:function(e,n){var i=ut();return Gh(i,Fe.memoizedState,e,n)},useTransition:function(){var e=ts(Ln)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Oi(e),n]},useSyncExternalStore:vh,useId:Xh,useHostTransitionStatus:_u,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,n){var i=ut();return Eh(i,Fe,e,n)},useMemoCache:xu,useCacheRefresh:Kh},jb={readContext:Tt,use:es,useCallback:$h,useContext:Tt,useEffect:Bh,useImperativeHandle:Hh,useInsertionEffect:Ph,useLayoutEffect:Ih,useMemo:Fh,useReducer:bu,useRef:zh,useState:function(){return bu(Ln)},useDebugValue:ku,useDeferredValue:function(e,n){var i=ut();return Fe===null?Su(i,e,n):Gh(i,Fe.memoizedState,e,n)},useTransition:function(){var e=bu(Ln)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Oi(e),n]},useSyncExternalStore:vh,useId:Xh,useHostTransitionStatus:_u,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,n){var i=ut();return Fe!==null?Eh(i,Fe,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:xu,useCacheRefresh:Kh},_a=null,Mi=0;function ls(e){var n=Mi;return Mi+=1,_a===null&&(_a=[]),fh(_a,e,n)}function zi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ss(e,n){throw n.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function n0(e){var n=e._init;return n(e._payload)}function r0(e){function n(O,R){if(e){var z=O.deletions;z===null?(O.deletions=[R],O.flags|=16):z.push(R)}}function i(O,R){if(!e)return null;for(;R!==null;)n(O,R),R=R.sibling;return null}function o(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function d(O,R){return O=Nn(O,R),O.index=0,O.sibling=null,O}function g(O,R,z){return O.index=z,e?(z=O.alternate,z!==null?(z=z.index,z<R?(O.flags|=67108866,R):z):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function w(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function S(O,R,z,Q){return R===null||R.tag!==6?(R=Vo(z,O.mode,Q),R.return=O,R):(R=d(R,z),R.return=O,R)}function E(O,R,z,Q){var fe=z.type;return fe===j?Y(O,R,z.props.children,Q,z.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&n0(fe)===R.type)?(R=d(R,z.props),zi(R,z),R.return=O,R):(R=$l(z.type,z.key,z.props,null,O.mode,Q),zi(R,z),R.return=O,R)}function U(O,R,z,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=Qo(z,O.mode,Q),R.return=O,R):(R=d(R,z.children||[]),R.return=O,R)}function Y(O,R,z,Q,fe){return R===null||R.tag!==7?(R=Lr(z,O.mode,Q,fe),R.return=O,R):(R=d(R,z),R.return=O,R)}function X(O,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Vo(""+R,O.mode,z),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return z=$l(R.type,R.key,R.props,null,O.mode,z),zi(z,R),z.return=O,z;case b:return R=Qo(R,O.mode,z),R.return=O,R;case ee:var Q=R._init;return R=Q(R._payload),X(O,R,z)}if(ae(R)||J(R))return R=Lr(R,O.mode,z,null),R.return=O,R;if(typeof R.then=="function")return X(O,ls(R),z);if(R.$$typeof===C)return X(O,Vl(O,R),z);ss(O,R)}return null}function P(O,R,z,Q){var fe=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:S(O,R,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===fe?E(O,R,z,Q):null;case b:return z.key===fe?U(O,R,z,Q):null;case ee:return fe=z._init,z=fe(z._payload),P(O,R,z,Q)}if(ae(z)||J(z))return fe!==null?null:Y(O,R,z,Q,null);if(typeof z.then=="function")return P(O,R,ls(z),Q);if(z.$$typeof===C)return P(O,R,Vl(O,z),Q);ss(O,z)}return null}function I(O,R,z,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(z)||null,S(R,O,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return O=O.get(Q.key===null?z:Q.key)||null,E(R,O,Q,fe);case b:return O=O.get(Q.key===null?z:Q.key)||null,U(R,O,Q,fe);case ee:var Re=Q._init;return Q=Re(Q._payload),I(O,R,z,Q,fe)}if(ae(Q)||J(Q))return O=O.get(z)||null,Y(R,O,Q,fe,null);if(typeof Q.then=="function")return I(O,R,z,ls(Q),fe);if(Q.$$typeof===C)return I(O,R,z,Vl(R,Q),fe);ss(R,Q)}return null}function Se(O,R,z,Q){for(var fe=null,Re=null,pe=R,ke=R=0,xt=null;pe!==null&&ke<z.length;ke++){pe.index>ke?(xt=pe,pe=null):xt=pe.sibling;var Pe=P(O,pe,z[ke],Q);if(Pe===null){pe===null&&(pe=xt);break}e&&pe&&Pe.alternate===null&&n(O,pe),R=g(Pe,R,ke),Re===null?fe=Pe:Re.sibling=Pe,Re=Pe,pe=xt}if(ke===z.length)return i(O,pe),Ie&&zr(O,ke),fe;if(pe===null){for(;ke<z.length;ke++)pe=X(O,z[ke],Q),pe!==null&&(R=g(pe,R,ke),Re===null?fe=pe:Re.sibling=pe,Re=pe);return Ie&&zr(O,ke),fe}for(pe=o(pe);ke<z.length;ke++)xt=I(pe,O,ke,z[ke],Q),xt!==null&&(e&&xt.alternate!==null&&pe.delete(xt.key===null?ke:xt.key),R=g(xt,R,ke),Re===null?fe=xt:Re.sibling=xt,Re=xt);return e&&pe.forEach(function(xr){return n(O,xr)}),Ie&&zr(O,ke),fe}function we(O,R,z,Q){if(z==null)throw Error(l(151));for(var fe=null,Re=null,pe=R,ke=R=0,xt=null,Pe=z.next();pe!==null&&!Pe.done;ke++,Pe=z.next()){pe.index>ke?(xt=pe,pe=null):xt=pe.sibling;var xr=P(O,pe,Pe.value,Q);if(xr===null){pe===null&&(pe=xt);break}e&&pe&&xr.alternate===null&&n(O,pe),R=g(xr,R,ke),Re===null?fe=xr:Re.sibling=xr,Re=xr,pe=xt}if(Pe.done)return i(O,pe),Ie&&zr(O,ke),fe;if(pe===null){for(;!Pe.done;ke++,Pe=z.next())Pe=X(O,Pe.value,Q),Pe!==null&&(R=g(Pe,R,ke),Re===null?fe=Pe:Re.sibling=Pe,Re=Pe);return Ie&&zr(O,ke),fe}for(pe=o(pe);!Pe.done;ke++,Pe=z.next())Pe=I(pe,O,ke,Pe.value,Q),Pe!==null&&(e&&Pe.alternate!==null&&pe.delete(Pe.key===null?ke:Pe.key),R=g(Pe,R,ke),Re===null?fe=Pe:Re.sibling=Pe,Re=Pe);return e&&pe.forEach(function(_v){return n(O,_v)}),Ie&&zr(O,ke),fe}function Ye(O,R,z,Q){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:e:{for(var fe=z.key;R!==null;){if(R.key===fe){if(fe=z.type,fe===j){if(R.tag===7){i(O,R.sibling),Q=d(R,z.props.children),Q.return=O,O=Q;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&n0(fe)===R.type){i(O,R.sibling),Q=d(R,z.props),zi(Q,z),Q.return=O,O=Q;break e}i(O,R);break}else n(O,R);R=R.sibling}z.type===j?(Q=Lr(z.props.children,O.mode,Q,z.key),Q.return=O,O=Q):(Q=$l(z.type,z.key,z.props,null,O.mode,Q),zi(Q,z),Q.return=O,O=Q)}return w(O);case b:e:{for(fe=z.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){i(O,R.sibling),Q=d(R,z.children||[]),Q.return=O,O=Q;break e}else{i(O,R);break}else n(O,R);R=R.sibling}Q=Qo(z,O.mode,Q),Q.return=O,O=Q}return w(O);case ee:return fe=z._init,z=fe(z._payload),Ye(O,R,z,Q)}if(ae(z))return Se(O,R,z,Q);if(J(z)){if(fe=J(z),typeof fe!="function")throw Error(l(150));return z=fe.call(z),we(O,R,z,Q)}if(typeof z.then=="function")return Ye(O,R,ls(z),Q);if(z.$$typeof===C)return Ye(O,R,Vl(O,z),Q);ss(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(i(O,R.sibling),Q=d(R,z),Q.return=O,O=Q):(i(O,R),Q=Vo(z,O.mode,Q),Q.return=O,O=Q),w(O)):i(O,R)}return function(O,R,z,Q){try{Mi=0;var fe=Ye(O,R,z,Q);return _a=null,fe}catch(pe){if(pe===Ei||pe===Xl)throw pe;var Re=Ft(29,pe,null,O.mode);return Re.lanes=Q,Re.return=O,Re}finally{}}}var Ea=r0(!0),a0=r0(!1),an=G(null),bn=null;function nr(e){var n=e.alternate;_(ft,ft.current&1),_(an,e),bn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(bn=e)}function i0(e){if(e.tag===22){if(_(ft,ft.current),_(an,e),bn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(bn=e)}}else rr()}function rr(){_(ft,ft.current),_(an,an.current)}function Mn(e){V(an),bn===e&&(bn=null),V(ft)}var ft=G(0);function os(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||gc(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Tu(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Au={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=Qt(),d=Wn(o);d.payload=n,i!=null&&(d.callback=i),n=er(e,d,o),n!==null&&(Xt(n,e,o),Ai(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=Qt(),d=Wn(o);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=er(e,d,o),n!==null&&(Xt(n,e,o),Ai(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Qt(),o=Wn(i);o.tag=2,n!=null&&(o.callback=n),n=er(e,o,i),n!==null&&(Xt(n,e,i),Ai(n,e,i))}};function l0(e,n,i,o,d,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,w):n.prototype&&n.prototype.isPureReactComponent?!yi(i,o)||!yi(d,g):!0}function s0(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Au.enqueueReplaceState(n,n.state,null)}function $r(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=x({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function o0(e){us(e)}function u0(e){console.error(e)}function c0(e){us(e)}function cs(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function d0(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nu(e,n,i){return i=Wn(i),i.tag=3,i.payload={element:null},i.callback=function(){cs(e,n)},i}function f0(e){return e=Wn(e),e.tag=3,e}function h0(e,n,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;e.payload=function(){return d(g)},e.callback=function(){d0(n,i,o)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){d0(n,i,o),typeof d!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function _b(e,n,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Si(n,i,d,!0),i=an.current,i!==null){switch(i.tag){case 13:return bn===null?Wu():i.alternate===null&&at===0&&(at=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===au?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),tc(e,o,d)),!1;case 22:return i.flags|=65536,o===au?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),tc(e,o,d)),!1}throw Error(l(435,i.tag))}return tc(e,o,d),Wu(),!1}if(Ie)return n=an.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Zo&&(e=Error(l(422),{cause:o}),ki(en(e,i)))):(o!==Zo&&(n=Error(l(423),{cause:o}),ki(en(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=en(o,i),d=Nu(e.stateNode,o,d),su(e,d),at!==4&&(at=2)),!1;var g=Error(l(520),{cause:o});if(g=en(g,i),$i===null?$i=[g]:$i.push(g),at!==4&&(at=2),n===null)return!0;o=en(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=Nu(i.stateNode,o,e),su(i,e),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))))return i.flags|=65536,d&=-d,i.lanes|=d,d=f0(d),h0(d,e,i,o),su(i,d),!1}i=i.return}while(i!==null);return!1}var m0=Error(l(461)),pt=!1;function kt(e,n,i,o){n.child=e===null?a0(n,null,i,o):Ea(n,e.child,i,o)}function p0(e,n,i,o,d){i=i.render;var g=n.ref;if("ref"in o){var w={};for(var S in o)S!=="ref"&&(w[S]=o[S])}else w=o;return Ir(n),o=fu(e,n,i,w,g,d),S=hu(),e!==null&&!pt?(mu(e,n,d),zn(e,n,d)):(Ie&&S&&Xo(n),n.flags|=1,kt(e,n,o,d),n.child)}function g0(e,n,i,o,d){if(e===null){var g=i.type;return typeof g=="function"&&!Yo(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,x0(e,n,g,o,d)):(e=$l(i.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Uu(e,d)){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:yi,i(w,o)&&e.ref===n.ref)return zn(e,n,d)}return n.flags|=1,e=Nn(g,o),e.ref=n.ref,e.return=n,n.child=e}function x0(e,n,i,o,d){if(e!==null){var g=e.memoizedProps;if(yi(g,o)&&e.ref===n.ref)if(pt=!1,n.pendingProps=o=g,Uu(e,d))(e.flags&131072)!==0&&(pt=!0);else return n.lanes=e.lanes,zn(e,n,d)}return Cu(e,n,i,o,d)}function y0(e,n,i){var o=n.pendingProps,d=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|i:i,e!==null){for(d=n.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return b0(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ql(n,g!==null?g.cachePool:null),g!==null?xh(n,g):uu(),i0(n);else return n.lanes=n.childLanes=536870912,b0(e,n,g!==null?g.baseLanes|i:i,i)}else g!==null?(Ql(n,g.cachePool),xh(n,g),rr(),n.memoizedState=null):(e!==null&&Ql(n,null),uu(),rr());return kt(e,n,d,i),n.child}function b0(e,n,i,o){var d=ru();return d=d===null?null:{parent:dt._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&Ql(n,null),uu(),i0(n),e!==null&&Si(e,n,o,!0),null}function ds(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Cu(e,n,i,o,d){return Ir(n),i=fu(e,n,i,o,void 0,d),o=hu(),e!==null&&!pt?(mu(e,n,d),zn(e,n,d)):(Ie&&o&&Xo(n),n.flags|=1,kt(e,n,i,d),n.child)}function v0(e,n,i,o,d,g){return Ir(n),n.updateQueue=null,i=bh(n,o,i,d),yh(e),o=hu(),e!==null&&!pt?(mu(e,n,g),zn(e,n,g)):(Ie&&o&&Xo(n),n.flags|=1,kt(e,n,i,g),n.child)}function w0(e,n,i,o,d){if(Ir(n),n.stateNode===null){var g=ga,w=i.contextType;typeof w=="object"&&w!==null&&(g=Tt(w)),g=new i(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Au,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},iu(n),w=i.contextType,g.context=typeof w=="object"&&w!==null?Tt(w):ga,g.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Tu(n,i,w,o),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Au.enqueueReplaceState(g,g.state,null),Ci(n,o,g,d),Ni(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var S=n.memoizedProps,E=$r(i,S);g.props=E;var U=g.context,Y=i.contextType;w=ga,typeof Y=="object"&&Y!==null&&(w=Tt(Y));var X=i.getDerivedStateFromProps;Y=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,Y||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||U!==w)&&s0(n,g,o,w),Jn=!1;var P=n.memoizedState;g.state=P,Ci(n,o,g,d),Ni(),U=n.memoizedState,S||P!==U||Jn?(typeof X=="function"&&(Tu(n,i,X,o),U=n.memoizedState),(E=Jn||l0(n,i,E,o,P,U,w))?(Y||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),g.props=o,g.state=U,g.context=w,o=E):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,lu(e,n),w=n.memoizedProps,Y=$r(i,w),g.props=Y,X=n.pendingProps,P=g.context,U=i.contextType,E=ga,typeof U=="object"&&U!==null&&(E=Tt(U)),S=i.getDerivedStateFromProps,(U=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==X||P!==E)&&s0(n,g,o,E),Jn=!1,P=n.memoizedState,g.state=P,Ci(n,o,g,d),Ni();var I=n.memoizedState;w!==X||P!==I||Jn||e!==null&&e.dependencies!==null&&Yl(e.dependencies)?(typeof S=="function"&&(Tu(n,i,S,o),I=n.memoizedState),(Y=Jn||l0(n,i,Y,o,P,I,E)||e!==null&&e.dependencies!==null&&Yl(e.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,I,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,I,E)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=I),g.props=o,g.state=I,g.context=E,o=Y):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,ds(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Ea(n,e.child,null,d),n.child=Ea(n,null,i,d)):kt(e,n,i,d),n.memoizedState=g.state,e=n.child):e=zn(e,n,d),e}function k0(e,n,i,o){return wi(),n.flags|=256,kt(e,n,i,o),n.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:uh()}}function Du(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ln),e}function S0(e,n,i){var o=n.pendingProps,d=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),w&&(d=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ie){if(d?nr(n):rr(),Ie){var S=rt,E;if(E=S){e:{for(E=S,S=yn;E.nodeType!==8;){if(!S){S=null;break e}if(E=fn(E.nextSibling),E===null){S=null;break e}}S=E}S!==null?(n.memoizedState={dehydrated:S,treeContext:Mr!==null?{id:Cn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},E=Ft(18,null,null,0),E.stateNode=S,E.return=n,n.child=E,Dt=n,rt=null,E=!0):E=!1}E||Br(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return gc(S)?n.lanes=32:n.lanes=536870912,null;Mn(n)}return S=o.children,o=o.fallback,d?(rr(),d=n.mode,S=fs({mode:"hidden",children:S},d),o=Lr(o,d,i,null),S.return=n,o.return=n,S.sibling=o,n.child=S,d=n.child,d.memoizedState=Ou(i),d.childLanes=Du(e,w,i),n.memoizedState=Ru,o):(nr(n),Lu(n,S))}if(E=e.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(g)n.flags&256?(nr(n),n.flags&=-257,n=Mu(e,n,i)):n.memoizedState!==null?(rr(),n.child=e.child,n.flags|=128,n=null):(rr(),d=o.fallback,S=n.mode,o=fs({mode:"visible",children:o.children},S),d=Lr(d,S,i,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,Ea(n,e.child,null,i),o=n.child,o.memoizedState=Ou(i),o.childLanes=Du(e,w,i),n.memoizedState=Ru,n=d);else if(nr(n),gc(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var U=w.dgst;w=U,o=Error(l(419)),o.stack="",o.digest=w,ki({value:o,source:null,stack:null}),n=Mu(e,n,i)}else if(pt||Si(e,n,i,!1),w=(i&e.childLanes)!==0,pt||w){if(w=Ke,w!==null&&(o=i&-i,o=(o&42)!==0?1:xo(o),o=(o&(w.suspendedLanes|i))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,pa(e,o),Xt(w,e,o),m0;S.data==="$?"||Wu(),n=Mu(e,n,i)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,rt=fn(S.nextSibling),Dt=n,Ie=!0,Ur=null,yn=!1,e!==null&&(nn[rn++]=Cn,nn[rn++]=Rn,nn[rn++]=Mr,Cn=e.id,Rn=e.overflow,Mr=n),n=Lu(n,o.children),n.flags|=4096);return n}return d?(rr(),d=o.fallback,S=n.mode,E=e.child,U=E.sibling,o=Nn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,U!==null?d=Nn(U,d):(d=Lr(d,S,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,S=e.child.memoizedState,S===null?S=Ou(i):(E=S.cachePool,E!==null?(U=dt._currentValue,E=E.parent!==U?{parent:U,pool:U}:E):E=uh(),S={baseLanes:S.baseLanes|i,cachePool:E}),d.memoizedState=S,d.childLanes=Du(e,w,i),n.memoizedState=Ru,o):(nr(n),i=e.child,e=i.sibling,i=Nn(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=i,n.memoizedState=null,i)}function Lu(e,n){return n=fs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fs(e,n){return e=Ft(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mu(e,n,i){return Ea(n,e.child,null,i),e=Lu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function j0(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wo(e.return,n,i)}function zu(e,n,i,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=d)}function _0(e,n,i){var o=n.pendingProps,d=o.revealOrder,g=o.tail;if(kt(e,n,o.children,i),o=ft.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j0(e,i,n);else if(e.tag===19)j0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(_(ft,o),d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&os(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),zu(n,!1,d,i,g);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&os(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}zu(n,!0,i,null,g);break;case"together":zu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),or|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Si(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,i=Nn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Nn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Uu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Yl(e)))}function Eb(e,n,i){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Zn(n,dt,e.memoizedState.cache),wi();break;case 27:case 5:Ve(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?S0(e,n,i):(nr(n),e=zn(e,n,i),e!==null?e.sibling:null);nr(n);break;case 19:var d=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Si(e,n,i,!1),o=(i&n.childLanes)!==0),d){if(o)return _0(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_(ft,ft.current),o)break;return null;case 22:case 23:return n.lanes=0,y0(e,n,i);case 24:Zn(n,dt,e.memoizedState.cache)}return zn(e,n,i)}function E0(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)pt=!0;else{if(!Uu(e,i)&&(n.flags&128)===0)return pt=!1,Eb(e,n,i);pt=(e.flags&131072)!==0}else pt=!1,Ie&&(n.flags&1048576)!==0&&nh(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")Yo(o)?(e=$r(o,e),n.tag=1,n=w0(null,n,o,e,i)):(n.tag=0,n=Cu(null,n,o,e,i));else{if(o!=null){if(d=o.$$typeof,d===q){n.tag=11,n=p0(null,n,o,e,i);break e}else if(d===Z){n.tag=14,n=g0(null,n,o,e,i);break e}}throw n=te(o)||o,Error(l(306,n,""))}}return n;case 0:return Cu(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,d=$r(o,n.pendingProps),w0(e,n,o,d,i);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(l(387));o=n.pendingProps;var g=n.memoizedState;d=g.element,lu(e,n),Ci(n,o,null,i);var w=n.memoizedState;if(o=w.cache,Zn(n,dt,o),o!==g.cache&&eu(n,[dt],i,!0),Ni(),o=w.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=k0(e,n,o,i);break e}else if(o!==d){d=en(Error(l(424)),n),ki(d),n=k0(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=fn(e.firstChild),Dt=n,Ie=!0,Ur=null,yn=!0,i=a0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wi(),o===d){n=zn(e,n,i);break e}kt(e,n,o,i)}n=n.child}return n;case 26:return ds(e,n),e===null?(i=Cm(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ie||(i=n.type,e=n.pendingProps,o=Es(de.current).createElement(i),o[Et]=n,o[Mt]=e,jt(o,i,e),mt(o),n.stateNode=o):n.memoizedState=Cm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ve(n),e===null&&Ie&&(o=n.stateNode=Tm(n.type,n.pendingProps,de.current),Dt=n,yn=!0,d=rt,fr(n.type)?(xc=d,rt=fn(o.firstChild)):rt=d),kt(e,n,n.pendingProps.children,i),ds(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ie&&((d=o=rt)&&(o=ev(o,n.type,n.pendingProps,yn),o!==null?(n.stateNode=o,Dt=n,rt=fn(o.firstChild),yn=!1,d=!0):d=!1),d||Br(n)),Ve(n),d=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,o=g.children,hc(d,g)?o=null:w!==null&&hc(d,w)&&(n.flags|=32),n.memoizedState!==null&&(d=fu(e,n,yb,null,null,i),Ji._currentValue=d),ds(e,n),kt(e,n,o,i),n.child;case 6:return e===null&&Ie&&((e=i=rt)&&(i=tv(i,n.pendingProps,yn),i!==null?(n.stateNode=i,Dt=n,rt=null,e=!0):e=!1),e||Br(n)),null;case 13:return S0(e,n,i);case 4:return je(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ea(n,null,o,i):kt(e,n,o,i),n.child;case 11:return p0(e,n,n.type,n.pendingProps,i);case 7:return kt(e,n,n.pendingProps,i),n.child;case 8:return kt(e,n,n.pendingProps.children,i),n.child;case 12:return kt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Zn(n,n.type,o.value),kt(e,n,o.children,i),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Ir(n),d=Tt(d),o=o(d),n.flags|=1,kt(e,n,o,i),n.child;case 14:return g0(e,n,n.type,n.pendingProps,i);case 15:return x0(e,n,n.type,n.pendingProps,i);case 19:return _0(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=fs(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Nn(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return y0(e,n,i);case 24:return Ir(n),o=Tt(dt),e===null?(d=ru(),d===null&&(d=Ke,g=tu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=i),d=g),n.memoizedState={parent:o,cache:d},iu(n),Zn(n,dt,d)):((e.lanes&i)!==0&&(lu(e,n),Ci(n,null,null,i),Ni()),d=e.memoizedState,g=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Zn(n,dt,o)):(o=g.cache,Zn(n,dt,o),o!==d.cache&&eu(n,[dt],i,!0))),kt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Un(e){e.flags|=4}function T0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mm(n)){if(n=an.current,n!==null&&((ze&4194048)===ze?bn!==null:(ze&62914560)!==ze&&(ze&536870912)===0||n!==bn))throw Ti=au,ch;e.flags|=8192}}function hs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?En():536870912,e.lanes|=n,Ca|=n)}function Ui(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Tb(e,n,i){var o=n.pendingProps;switch(Ko(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Dn(dt),et(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(vi(n)?Un(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),tt(n),null;case 26:return i=n.memoizedState,e===null?(Un(n),i!==null?(tt(n),T0(n,i)):(tt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Un(n),tt(n),T0(n,i)):(tt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Un(n),tt(n),n.flags&=-16777217),null;case 27:_t(n),i=de.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return tt(n),null}e=ue.current,vi(n)?rh(n):(e=Tm(d,o,i),n.stateNode=e,Un(n))}return tt(n),null;case 5:if(_t(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return tt(n),null}if(e=ue.current,vi(n))rh(n);else{switch(d=Es(de.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}e[Et]=n,e[Mt]=o;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(jt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Un(n)}}return tt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(e=de.current,vi(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,d=Dt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Et]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||vm(e.nodeValue,i)),e||Br(n)}else e=Es(e).createTextNode(o),e[Et]=n,n.stateNode=e}return tt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=vi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[Et]=n}else wi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),d=!1}else d=ih(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Mn(n),n):(Mn(n),null)}if(Mn(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),hs(n,n.updateQueue),tt(n),null;case 4:return et(),e===null&&oc(n.stateNode.containerInfo),tt(n),null;case 10:return Dn(n.type),tt(n),null;case 19:if(V(ft),d=n.memoizedState,d===null)return tt(n),null;if(o=(n.flags&128)!==0,g=d.rendering,g===null)if(o)Ui(d,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=os(e),g!==null){for(n.flags|=128,Ui(d,!1),e=g.updateQueue,n.updateQueue=e,hs(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)th(i,e),i=i.sibling;return _(ft,ft.current&1|2),n.child}e=e.sibling}d.tail!==null&&nt()>gs&&(n.flags|=128,o=!0,Ui(d,!1),n.lanes=4194304)}else{if(!o)if(e=os(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,hs(n,e),Ui(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ie)return tt(n),null}else 2*nt()-d.renderingStartTime>gs&&i!==536870912&&(n.flags|=128,o=!0,Ui(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(e=d.last,e!==null?e.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=nt(),n.sibling=null,e=ft.current,_(ft,o?e&1|2:e&1),n):(tt(n),null);case 22:case 23:return Mn(n),cu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),i=n.updateQueue,i!==null&&hs(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&V(qr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Dn(dt),tt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Ab(e,n){switch(Ko(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Dn(dt),et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _t(n),null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(ft),null;case 4:return et(),null;case 10:return Dn(n.type),null;case 22:case 23:return Mn(n),cu(),e!==null&&V(qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Dn(dt),null;case 25:return null;default:return null}}function A0(e,n){switch(Ko(n),n.tag){case 3:Dn(dt),et();break;case 26:case 27:case 5:_t(n);break;case 4:et();break;case 13:Mn(n);break;case 19:V(ft);break;case 10:Dn(n.type);break;case 22:case 23:Mn(n),cu(),e!==null&&V(qr);break;case 24:Dn(dt)}}function Bi(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){o=void 0;var g=i.create,w=i.inst;o=g(),w.destroy=o}i=i.next}while(i!==d)}}catch(S){Qe(n,n.return,S)}}function ar(e,n,i){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&e)===e){var w=o.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=n;var E=i,U=S;try{U()}catch(Y){Qe(d,E,Y)}}}o=o.next}while(o!==g)}}catch(Y){Qe(n,n.return,Y)}}function N0(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{gh(n,i)}catch(o){Qe(e,e.return,o)}}}function C0(e,n,i){i.props=$r(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Qe(e,n,o)}}function Pi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(d){Qe(e,n,d)}}function vn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Qe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Qe(e,n,d)}else i.current=null}function R0(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Qe(e,e.return,d)}}function Bu(e,n,i){try{var o=e.stateNode;Xb(o,e.type,i,n),o[Mt]=n}catch(d){Qe(e,e.return,d)}}function O0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||O0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=_s));else if(o!==4&&(o===27&&fr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Iu(e,n,i),e=e.sibling;e!==null;)Iu(e,n,i),e=e.sibling}function ms(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ms(e,n,i),e=e.sibling;e!==null;)ms(e,n,i),e=e.sibling}function D0(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);jt(n,o,i),n[Et]=e,n[Mt]=i}catch(g){Qe(e,e.return,g)}}var Bn=!1,st=!1,qu=!1,L0=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Nb(e,n){if(e=e.containerInfo,dc=Os,e=Gf(e),Po(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,S=-1,E=-1,U=0,Y=0,X=e,P=null;t:for(;;){for(var I;X!==i||d!==0&&X.nodeType!==3||(S=w+d),X!==g||o!==0&&X.nodeType!==3||(E=w+o),X.nodeType===3&&(w+=X.nodeValue.length),(I=X.firstChild)!==null;)P=X,X=I;for(;;){if(X===e)break t;if(P===i&&++U===d&&(S=w),P===g&&++Y===o&&(E=w),(I=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=I}i=S===-1||E===-1?null:{start:S,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(fc={focusedElem:e,selectionRange:i},Os=!1,gt=n;gt!==null;)if(n=gt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,gt=e;else for(;gt!==null;){switch(n=gt,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=n,d=g.memoizedProps,g=g.memoizedState,o=i.stateNode;try{var Se=$r(i.type,d,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Se,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(we){Qe(i,i.return,we)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)pc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,gt=e;break}gt=n.return}}function M0(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ir(e,i),o&4&&Bi(5,i);break;case 1:if(ir(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(w){Qe(i,i.return,w)}else{var d=$r(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Qe(i,i.return,w)}}o&64&&N0(i),o&512&&Pi(i,i.return);break;case 3:if(ir(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{gh(e,n)}catch(w){Qe(i,i.return,w)}}break;case 27:n===null&&o&4&&D0(i);case 26:case 5:ir(e,i),n===null&&o&4&&R0(i),o&512&&Pi(i,i.return);break;case 12:ir(e,i);break;case 13:ir(e,i),o&4&&B0(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Bb.bind(null,i),nv(e,i))));break;case 22:if(o=i.memoizedState!==null||Bn,!o){n=n!==null&&n.memoizedState!==null||st,d=Bn;var g=st;Bn=o,(st=n)&&!g?lr(e,i,(i.subtreeFlags&8772)!==0):ir(e,i),Bn=d,st=g}break;case 30:break;default:ir(e,i)}}function z0(e){var n=e.alternate;n!==null&&(e.alternate=null,z0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Bt=!1;function Pn(e,n,i){for(i=i.child;i!==null;)U0(e,n,i),i=i.sibling}function U0(e,n,i){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(H,i)}catch{}switch(i.tag){case 26:st||vn(i,n),Pn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:st||vn(i,n);var o=We,d=Bt;fr(i.type)&&(We=i.stateNode,Bt=!1),Pn(e,n,i),Qi(i.stateNode),We=o,Bt=d;break;case 5:st||vn(i,n);case 6:if(o=We,d=Bt,We=null,Pn(e,n,i),We=o,Bt=d,We!==null)if(Bt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(i.stateNode)}catch(g){Qe(i,n,g)}else try{We.removeChild(i.stateNode)}catch(g){Qe(i,n,g)}break;case 18:We!==null&&(Bt?(e=We,_m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),nl(e)):_m(We,i.stateNode));break;case 4:o=We,d=Bt,We=i.stateNode.containerInfo,Bt=!0,Pn(e,n,i),We=o,Bt=d;break;case 0:case 11:case 14:case 15:st||ar(2,i,n),st||ar(4,i,n),Pn(e,n,i);break;case 1:st||(vn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&C0(i,n,o)),Pn(e,n,i);break;case 21:Pn(e,n,i);break;case 22:st=(o=st)||i.memoizedState!==null,Pn(e,n,i),st=o;break;default:Pn(e,n,i)}}function B0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(i){Qe(n,n.return,i)}}function Cb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new L0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new L0),n;default:throw Error(l(435,e.tag))}}function Hu(e,n){var i=Cb(e);n.forEach(function(o){var d=Pb.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}function Gt(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],g=e,w=n,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){We=S.stateNode,Bt=!1;break e}break;case 5:We=S.stateNode,Bt=!1;break e;case 3:case 4:We=S.stateNode.containerInfo,Bt=!0;break e}S=S.return}if(We===null)throw Error(l(160));U0(g,w,d),We=null,Bt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)P0(n,e),n=n.sibling}var dn=null;function P0(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(n,e),Yt(e),o&4&&(ar(3,e,e.return),Bi(3,e),ar(5,e,e.return));break;case 1:Gt(n,e),Yt(e),o&512&&(st||i===null||vn(i,i.return)),o&64&&Bn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=dn;if(Gt(n,e),Yt(e),o&512&&(st||i===null||vn(i,i.return)),o&4){var g=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ui]||g[Et]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),jt(g,o,i),g[Et]=e,mt(g),o=g;break e;case"link":var w=Dm("link","href",d).get(o+(i.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(S,1);break t}}g=d.createElement(o),jt(g,o,i),d.head.appendChild(g);break;case"meta":if(w=Dm("meta","content",d).get(o+(i.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(S,1);break t}}g=d.createElement(o),jt(g,o,i),d.head.appendChild(g);break;default:throw Error(l(468,o))}g[Et]=e,mt(g),o=g}e.stateNode=o}else Lm(d,e.type,e.stateNode);else e.stateNode=Om(d,o,e.memoizedProps);else g!==o?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,o===null?Lm(d,e.type,e.stateNode):Om(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Gt(n,e),Yt(e),o&512&&(st||i===null||vn(i,i.return)),i!==null&&o&4&&Bu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Gt(n,e),Yt(e),o&512&&(st||i===null||vn(i,i.return)),e.flags&32){d=e.stateNode;try{oa(d,"")}catch(I){Qe(e,e.return,I)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Bu(e,d,i!==null?i.memoizedProps:d)),o&1024&&(qu=!0);break;case 6:if(Gt(n,e),Yt(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(I){Qe(e,e.return,I)}}break;case 3:if(Ns=null,d=dn,dn=Ts(n.containerInfo),Gt(n,e),dn=d,Yt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(I){Qe(e,e.return,I)}qu&&(qu=!1,I0(e));break;case 4:o=dn,dn=Ts(e.stateNode.containerInfo),Gt(n,e),Yt(e),dn=o;break;case 12:Gt(n,e),Yt(e);break;case 13:Gt(n,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Qu=nt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:d=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,U=Bn,Y=st;if(Bn=U||d,st=Y||E,Gt(n,e),st=Y,Bn=U,Yt(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||E||Bn||st||Fr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){E=i=n;try{if(g=E.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=E.stateNode;var X=E.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;S.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(I){Qe(E,E.return,I)}}}else if(n.tag===6){if(i===null){E=n;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(I){Qe(E,E.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Hu(e,i))));break;case 19:Gt(n,e),Yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:Gt(n,e),Yt(e)}}function Yt(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(O0(o)){i=o;break}o=o.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var d=i.stateNode,g=Pu(e);ms(e,g,d);break;case 5:var w=i.stateNode;i.flags&32&&(oa(w,""),i.flags&=-33);var S=Pu(e);ms(e,S,w);break;case 3:case 4:var E=i.stateNode.containerInfo,U=Pu(e);Iu(e,U,E);break;default:throw Error(l(161))}}catch(Y){Qe(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function I0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;I0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ir(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)M0(e,n.alternate,n),n=n.sibling}function Fr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),Fr(n);break;case 1:vn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&C0(n,n.return,i),Fr(n);break;case 27:Qi(n.stateNode);case 26:case 5:vn(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}e=e.sibling}}function lr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:lr(d,g,i),Bi(4,g);break;case 1:if(lr(d,g,i),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Qe(o,o.return,U)}if(o=g,d=o.updateQueue,d!==null){var S=o.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)ph(E[d],S)}catch(U){Qe(o,o.return,U)}}i&&w&64&&N0(g),Pi(g,g.return);break;case 27:D0(g);case 26:case 5:lr(d,g,i),i&&o===null&&w&4&&R0(g),Pi(g,g.return);break;case 12:lr(d,g,i);break;case 13:lr(d,g,i),i&&w&4&&B0(d,g);break;case 22:g.memoizedState===null&&lr(d,g,i),Pi(g,g.return);break;case 30:break;default:lr(d,g,i)}n=n.sibling}}function $u(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ji(i))}function Fu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ji(e))}function wn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q0(e,n,i,o),n=n.sibling}function q0(e,n,i,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:wn(e,n,i,o),d&2048&&Bi(9,n);break;case 1:wn(e,n,i,o);break;case 3:wn(e,n,i,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ji(e)));break;case 12:if(d&2048){wn(e,n,i,o),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Qe(n,n.return,E)}}else wn(e,n,i,o);break;case 13:wn(e,n,i,o);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?wn(e,n,i,o):Ii(e,n):g._visibility&2?wn(e,n,i,o):(g._visibility|=2,Ta(e,n,i,o,(n.subtreeFlags&10256)!==0)),d&2048&&$u(w,n);break;case 24:wn(e,n,i,o),d&2048&&Fu(n.alternate,n);break;default:wn(e,n,i,o)}}function Ta(e,n,i,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,S=i,E=o,U=w.flags;switch(w.tag){case 0:case 11:case 15:Ta(g,w,S,E,d),Bi(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?Ta(g,w,S,E,d):Ii(g,w):(Y._visibility|=2,Ta(g,w,S,E,d)),d&&U&2048&&$u(w.alternate,w);break;case 24:Ta(g,w,S,E,d),d&&U&2048&&Fu(w.alternate,w);break;default:Ta(g,w,S,E,d)}n=n.sibling}}function Ii(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,d=o.flags;switch(o.tag){case 22:Ii(i,o),d&2048&&$u(o.alternate,o);break;case 24:Ii(i,o),d&2048&&Fu(o.alternate,o);break;default:Ii(i,o)}n=n.sibling}}var qi=8192;function Aa(e){if(e.subtreeFlags&qi)for(e=e.child;e!==null;)H0(e),e=e.sibling}function H0(e){switch(e.tag){case 26:Aa(e),e.flags&qi&&e.memoizedState!==null&&pv(dn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var n=dn;dn=Ts(e.stateNode.containerInfo),Aa(e),dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=qi,qi=16777216,Aa(e),qi=n):Aa(e));break;default:Aa(e)}}function $0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];gt=o,G0(o,e)}$0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)F0(e),e=e.sibling}function F0(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&ar(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ps(e)):Hi(e);break;default:Hi(e)}}function ps(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];gt=o,G0(o,e)}$0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ar(8,n,n.return),ps(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ps(n));break;default:ps(n)}e=e.sibling}}function G0(e,n){for(;gt!==null;){var i=gt;switch(i.tag){case 0:case 11:case 15:ar(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ji(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,gt=o;else e:for(i=e;gt!==null;){o=gt;var d=o.sibling,g=o.return;if(z0(o),o===i){gt=null;break e}if(d!==null){d.return=g,gt=d;break e}gt=g}}}var Rb={getCacheForType:function(e){var n=Tt(dt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Ob=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ke=null,Oe=null,ze=0,He=0,Vt=null,sr=!1,Na=!1,Gu=!1,In=0,at=0,or=0,Gr=0,Yu=0,ln=0,Ca=0,$i=null,Pt=null,Vu=!1,Qu=0,gs=1/0,xs=null,ur=null,St=0,cr=null,Ra=null,Oa=0,Xu=0,Ku=null,Y0=null,Fi=0,Zu=null;function Qt(){if((qe&2)!==0&&ze!==0)return ze&-ze;if(B.T!==null){var e=ba;return e!==0?e:ac()}return of()}function V0(){ln===0&&(ln=(ze&536870912)===0||Ie?xn():536870912);var e=an.current;return e!==null&&(e.flags|=32),ln}function Xt(e,n,i){(e===Ke&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Da(e,0),dr(e,ze,ln,!1)),oi(e,i),((qe&2)===0||e!==Ke)&&(e===Ke&&((qe&2)===0&&(Gr|=i),at===4&&dr(e,ze,ln,!1)),kn(e))}function Q0(e,n,i){if((qe&6)!==0)throw Error(l(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ae(e,n),d=o?Mb(e,n):ec(e,n,!0),g=o;do{if(d===0){Na&&!o&&dr(e,n,0,!1);break}else{if(i=e.current.alternate,g&&!Db(i)){d=ec(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var S=e;d=$i;var E=S.current.memoizedState.isDehydrated;if(E&&(Da(S,w).flags|=256),w=ec(S,w,!1),w!==2){if(Gu&&!E){S.errorRecoveryDisabledLanes|=g,Gr|=g,d=4;break e}g=Pt,Pt=d,g!==null&&(Pt===null?Pt=g:Pt.push.apply(Pt,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){Da(e,0),dr(e,n,0,!0);break}e:{switch(o=e,g=d,g){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:dr(o,n,ln,!sr);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(d=Qu+300-nt(),10<d)){if(dr(o,n,ln,!sr),me(o,0,!0)!==0)break e;o.timeoutHandle=Sm(X0.bind(null,o,i,Pt,xs,Vu,n,ln,Gr,Ca,sr,g,2,-0,0),d);break e}X0(o,i,Pt,xs,Vu,n,ln,Gr,Ca,sr,g,0,-0,0)}}break}while(!0);kn(e)}function X0(e,n,i,o,d,g,w,S,E,U,Y,X,P,I){if(e.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Zi={stylesheets:null,count:0,unsuspend:mv},H0(n),X=gv(),X!==null)){e.cancelPendingCommit=X(nm.bind(null,e,n,g,i,o,d,w,S,E,Y,1,P,I)),dr(e,g,w,!U);return}nm(e,n,g,i,o,d,w,S,E)}function Db(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],g=d.getSnapshot;d=d.value;try{if(!$t(g(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(e,n,i,o){n&=~Yu,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var g=31-ve(d),w=1<<g;o[g]=-1,d&=~w}i!==0&&lf(e,i,n)}function ys(){return(qe&6)===0?(Gi(0),!1):!0}function Ju(){if(Oe!==null){if(He===0)var e=Oe.return;else e=Oe,On=Pr=null,pu(e),_a=null,Mi=0,e=Oe;for(;e!==null;)A0(e.alternate,e),e=e.return;Oe=null}}function Da(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Zb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ju(),Ke=e,Oe=i=Nn(e.current,null),ze=n,He=0,Vt=null,sr=!1,Na=Ae(e,n),Gu=!1,Ca=ln=Yu=Gr=or=at=0,Pt=$i=null,Vu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-ve(o),g=1<<d;n|=e[d],o&=~g}return In=n,Il(),i}function K0(e,n){Ne=null,B.H=is,n===Ei||n===Xl?(n=hh(),He=3):n===ch?(n=hh(),He=4):He=n===m0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vt=n,Oe===null&&(at=1,cs(e,en(n,e.current)))}function Z0(){var e=B.H;return B.H=is,e===null?is:e}function J0(){var e=B.A;return B.A=Rb,e}function Wu(){at=4,sr||(ze&4194048)!==ze&&an.current!==null||(Na=!0),(or&134217727)===0&&(Gr&134217727)===0||Ke===null||dr(Ke,ze,ln,!1)}function ec(e,n,i){var o=qe;qe|=2;var d=Z0(),g=J0();(Ke!==e||ze!==n)&&(xs=null,Da(e,n)),n=!1;var w=at;e:do try{if(He!==0&&Oe!==null){var S=Oe,E=Vt;switch(He){case 8:Ju(),w=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(n=!0);var U=He;if(He=0,Vt=null,La(e,S,E,U),i&&Na){w=0;break e}break;default:U=He,He=0,Vt=null,La(e,S,E,U)}}Lb(),w=at;break}catch(Y){K0(e,Y)}while(!0);return n&&e.shellSuspendCounter++,On=Pr=null,qe=o,B.H=d,B.A=g,Oe===null&&(Ke=null,ze=0,Il()),w}function Lb(){for(;Oe!==null;)W0(Oe)}function Mb(e,n){var i=qe;qe|=2;var o=Z0(),d=J0();Ke!==e||ze!==n?(xs=null,gs=nt()+500,Da(e,n)):Na=Ae(e,n);e:do try{if(He!==0&&Oe!==null){n=Oe;var g=Vt;t:switch(He){case 1:He=0,Vt=null,La(e,n,g,1);break;case 2:case 9:if(dh(g)){He=0,Vt=null,em(n);break}n=function(){He!==2&&He!==9||Ke!==e||(He=7),kn(e)},g.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:dh(g)?(He=0,Vt=null,em(n)):(He=0,Vt=null,La(e,n,g,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var S=Oe;if(!w||Mm(w)){He=0,Vt=null;var E=S.sibling;if(E!==null)Oe=E;else{var U=S.return;U!==null?(Oe=U,bs(U)):Oe=null}break t}}He=0,Vt=null,La(e,n,g,5);break;case 6:He=0,Vt=null,La(e,n,g,6);break;case 8:Ju(),at=6;break e;default:throw Error(l(462))}}zb();break}catch(Y){K0(e,Y)}while(!0);return On=Pr=null,B.H=o,B.A=d,qe=i,Oe!==null?0:(Ke=null,ze=0,Il(),at)}function zb(){for(;Oe!==null&&!Yn();)W0(Oe)}function W0(e){var n=E0(e.alternate,e,In);e.memoizedProps=e.pendingProps,n===null?bs(e):Oe=n}function em(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=v0(i,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=v0(i,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:pu(n);default:A0(i,n),n=Oe=th(n,In),n=E0(i,n,In)}e.memoizedProps=e.pendingProps,n===null?bs(e):Oe=n}function La(e,n,i,o){On=Pr=null,pu(n),_a=null,Mi=0;var d=n.return;try{if(_b(e,d,n,i,ze)){at=1,cs(e,en(i,e.current)),Oe=null;return}}catch(g){if(d!==null)throw Oe=d,g;at=1,cs(e,en(i,e.current)),Oe=null;return}n.flags&32768?(Ie||o===1?e=!0:Na||(ze&536870912)!==0?e=!1:(sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=an.current,o!==null&&o.tag===13&&(o.flags|=16384))),tm(n,e)):bs(n)}function bs(e){var n=e;do{if((n.flags&32768)!==0){tm(n,sr);return}e=n.return;var i=Tb(n.alternate,n,In);if(i!==null){Oe=i;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);at===0&&(at=5)}function tm(e,n){do{var i=Ab(e.alternate,e);if(i!==null){i.flags&=32767,Oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=i}while(e!==null);at=6,Oe=null}function nm(e,n,i,o,d,g,w,S,E){e.cancelPendingCommit=null;do vs();while(St!==0);if((qe&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(g=n.lanes|n.childLanes,g|=Fo,my(e,i,g,w,S,E),e===Ke&&(Oe=Ke=null,ze=0),Ra=n,cr=e,Oa=i,Xu=g,Ku=d,Y0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(Qn,function(){return sm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=K.p,K.p=2,w=qe,qe|=4;try{Nb(e,n,i)}finally{qe=w,K.p=d,B.T=o}}St=1,rm(),am(),im()}}function rm(){if(St===1){St=0;var e=cr,n=Ra,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var o=K.p;K.p=2;var d=qe;qe|=4;try{P0(n,e);var g=fc,w=Gf(e.containerInfo),S=g.focusedElem,E=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&Ff(S.ownerDocument.documentElement,S)){if(E!==null&&Po(S)){var U=E.start,Y=E.end;if(Y===void 0&&(Y=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(Y,S.value.length);else{var X=S.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var I=P.getSelection(),Se=S.textContent.length,we=Math.min(E.start,Se),Ye=E.end===void 0?we:Math.min(E.end,Se);!I.extend&&we>Ye&&(w=Ye,Ye=we,we=w);var O=$f(S,we),R=$f(S,Ye);if(O&&R&&(I.rangeCount!==1||I.anchorNode!==O.node||I.anchorOffset!==O.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var z=X.createRange();z.setStart(O.node,O.offset),I.removeAllRanges(),we>Ye?(I.addRange(z),I.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),I.addRange(z))}}}}for(X=[],I=S;I=I.parentNode;)I.nodeType===1&&X.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<X.length;S++){var Q=X[S];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Os=!!dc,fc=dc=null}finally{qe=d,K.p=o,B.T=i}}e.current=n,St=2}}function am(){if(St===2){St=0;var e=cr,n=Ra,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var o=K.p;K.p=2;var d=qe;qe|=4;try{M0(e,n.alternate,n)}finally{qe=d,K.p=o,B.T=i}}St=3}}function im(){if(St===4||St===3){St=0,Vn();var e=cr,n=Ra,i=Oa,o=Y0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?St=5:(St=0,Ra=cr=null,lm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ur=null),yo(i),n=n.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(H,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,d=K.p,K.p=2,B.T=null;try{for(var g=e.onRecoverableError,w=0;w<o.length;w++){var S=o[w];g(S.value,{componentStack:S.stack})}}finally{B.T=n,K.p=d}}(Oa&3)!==0&&vs(),kn(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===Zu?Fi++:(Fi=0,Zu=e):Fi=0,Gi(0)}}function lm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ji(n)))}function vs(e){return rm(),am(),im(),sm()}function sm(){if(St!==5)return!1;var e=cr,n=Xu;Xu=0;var i=yo(Oa),o=B.T,d=K.p;try{K.p=32>i?32:i,B.T=null,i=Ku,Ku=null;var g=cr,w=Oa;if(St=0,Ra=cr=null,Oa=0,(qe&6)!==0)throw Error(l(331));var S=qe;if(qe|=4,F0(g.current),q0(g,g.current,w,i),qe=S,Gi(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(H,g)}catch{}return!0}finally{K.p=d,B.T=o,lm(e,n)}}function om(e,n,i){n=en(i,n),n=Nu(e.stateNode,n,2),e=er(e,n,2),e!==null&&(oi(e,2),kn(e))}function Qe(e,n,i){if(e.tag===3)om(e,e,i);else for(;n!==null;){if(n.tag===3){om(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=en(i,e),i=f0(2),o=er(n,i,2),o!==null&&(h0(i,o,n,e),oi(o,2),kn(o));break}}n=n.return}}function tc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Ob;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(Gu=!0,d.add(i),e=Ub.bind(null,e,n,i),n.then(e,e))}function Ub(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ke===e&&(ze&i)===i&&(at===4||at===3&&(ze&62914560)===ze&&300>nt()-Qu?(qe&2)===0&&Da(e,0):Yu|=i,Ca===ze&&(Ca=0)),kn(e)}function um(e,n){n===0&&(n=En()),e=pa(e,n),e!==null&&(oi(e,n),kn(e))}function Bb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),um(e,i)}function Pb(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),um(e,i)}function Ib(e,n){return it(e,n)}var ws=null,Ma=null,nc=!1,ks=!1,rc=!1,Yr=0;function kn(e){e!==Ma&&e.next===null&&(Ma===null?ws=Ma=e:Ma=Ma.next=e),ks=!0,nc||(nc=!0,Hb())}function Gi(e,n){if(!rc&&ks){rc=!0;do for(var i=!1,o=ws;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var w=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-ve(42|e)+1)-1,g&=d&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,hm(o,g))}else g=ze,g=me(o,o===Ke?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Ae(o,g)||(i=!0,hm(o,g));o=o.next}while(i);rc=!1}}function qb(){cm()}function cm(){ks=nc=!1;var e=0;Yr!==0&&(Kb()&&(e=Yr),Yr=0);for(var n=nt(),i=null,o=ws;o!==null;){var d=o.next,g=dm(o,n);g===0?(o.next=null,i===null?ws=d:i.next=d,d===null&&(Ma=i)):(i=o,(e!==0||(g&3)!==0)&&(ks=!0)),o=d}Gi(e)}function dm(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ve(g),S=1<<w,E=d[w];E===-1?((S&i)===0||(S&o)!==0)&&(d[w]=wt(S,n)):E<=n&&(e.expiredLanes|=S),g&=~S}if(n=Ke,i=ze,i=me(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(He===2||He===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ht(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ae(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&ht(o),yo(i)){case 2:case 8:i=Ar;break;case 32:i=Qn;break;case 268435456:i=gn;break;default:i=Qn}return o=fm.bind(null,e),i=it(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&ht(o),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,n){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(vs()&&e.callbackNode!==i)return null;var o=ze;return o=me(e,e===Ke?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Q0(e,o,n),dm(e,nt()),e.callbackNode!=null&&e.callbackNode===i?fm.bind(null,e):null)}function hm(e,n){if(vs())return null;Q0(e,n,!0)}function Hb(){Jb(function(){(qe&6)!==0?it(Tr,qb):cm()})}function ac(){return Yr===0&&(Yr=xn()),Yr}function mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Dl(""+e)}function pm(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function $b(e,n,i,o,d){if(n==="submit"&&i&&i.stateNode===d){var g=mm((d[Mt]||null).action),w=o.submitter;w&&(n=(n=w[Mt]||null)?mm(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var S=new Ul("action","action",null,o,d);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yr!==0){var E=w?pm(d,w):new FormData(d);ju(i,{pending:!0,data:E,method:d.method,action:g},null,E)}}else typeof g=="function"&&(S.preventDefault(),E=w?pm(d,w):new FormData(d),ju(i,{pending:!0,data:E,method:d.method,action:g},g,E))},currentTarget:d}]})}}for(var ic=0;ic<$o.length;ic++){var lc=$o[ic],Fb=lc.toLowerCase(),Gb=lc[0].toUpperCase()+lc.slice(1);cn(Fb,"on"+Gb)}cn(Qf,"onAnimationEnd"),cn(Xf,"onAnimationIteration"),cn(Kf,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(ob,"onTransitionRun"),cn(ub,"onTransitionStart"),cn(cb,"onTransitionCancel"),cn(Zf,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function gm(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var w=o.length-1;0<=w;w--){var S=o[w],E=S.instance,U=S.currentTarget;if(S=S.listener,E!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(Y){us(Y)}d.currentTarget=null,g=E}else for(w=0;w<o.length;w++){if(S=o[w],E=S.instance,U=S.currentTarget,S=S.listener,E!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(Y){us(Y)}d.currentTarget=null,g=E}}}}function De(e,n){var i=n[bo];i===void 0&&(i=n[bo]=new Set);var o=e+"__bubble";i.has(o)||(xm(n,e,2,!1),i.add(o))}function sc(e,n,i){var o=0;n&&(o|=4),xm(i,e,o,n)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[Ss]){e[Ss]=!0,cf.forEach(function(i){i!=="selectionchange"&&(Yb.has(i)||sc(i,!1,e),sc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ss]||(n[Ss]=!0,sc("selectionchange",!1,n))}}function xm(e,n,i,o){switch(qm(n)){case 2:var d=bv;break;case 8:d=vv;break;default:d=kc}i=d.bind(null,n,i,e),d=void 0,!Co||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function uc(e,n,i,o,d){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var S=o.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=o.return;w!==null;){var E=w.tag;if((E===3||E===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=na(S),w===null)return;if(E=w.tag,E===5||E===6||E===26||E===27){o=g=w;continue e}S=S.parentNode}}o=o.return}jf(function(){var U=g,Y=Ao(i),X=[];e:{var P=Jf.get(e);if(P!==void 0){var I=Ul,Se=e;switch(e){case"keypress":if(Ml(i)===0)break e;case"keydown":case"keyup":I=Iy;break;case"focusin":Se="focus",I=Lo;break;case"focusout":Se="blur",I=Lo;break;case"beforeblur":case"afterblur":I=Lo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=$y;break;case Qf:case Xf:case Kf:I=Ry;break;case Zf:I=Gy;break;case"scroll":case"scrollend":I=Ey;break;case"wheel":I=Vy;break;case"copy":case"cut":case"paste":I=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Nf;break;case"toggle":case"beforetoggle":I=Xy}var we=(n&4)!==0,Ye=!we&&(e==="scroll"||e==="scrollend"),O=we?P!==null?P+"Capture":null:P;we=[];for(var R=U,z;R!==null;){var Q=R;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||O===null||(Q=di(R,O),Q!=null&&we.push(Vi(R,Q,z))),Ye)break;R=R.return}0<we.length&&(P=new I(P,Se,null,i,Y),X.push({event:P,listeners:we}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",P&&i!==To&&(Se=i.relatedTarget||i.fromElement)&&(na(Se)||Se[ta]))break e;if((I||P)&&(P=Y.window===Y?Y:(P=Y.ownerDocument)?P.defaultView||P.parentWindow:window,I?(Se=i.relatedTarget||i.toElement,I=U,Se=Se?na(Se):null,Se!==null&&(Ye=u(Se),we=Se.tag,Se!==Ye||we!==5&&we!==27&&we!==6)&&(Se=null)):(I=null,Se=U),I!==Se)){if(we=Tf,Q="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(we=Nf,Q="onPointerLeave",O="onPointerEnter",R="pointer"),Ye=I==null?P:ci(I),z=Se==null?P:ci(Se),P=new we(Q,R+"leave",I,i,Y),P.target=Ye,P.relatedTarget=z,Q=null,na(Y)===U&&(we=new we(O,R+"enter",Se,i,Y),we.target=z,we.relatedTarget=Ye,Q=we),Ye=Q,I&&Se)t:{for(we=I,O=Se,R=0,z=we;z;z=za(z))R++;for(z=0,Q=O;Q;Q=za(Q))z++;for(;0<R-z;)we=za(we),R--;for(;0<z-R;)O=za(O),z--;for(;R--;){if(we===O||O!==null&&we===O.alternate)break t;we=za(we),O=za(O)}we=null}else we=null;I!==null&&ym(X,P,I,we,!1),Se!==null&&Ye!==null&&ym(X,Ye,Se,we,!0)}}e:{if(P=U?ci(U):window,I=P.nodeName&&P.nodeName.toLowerCase(),I==="select"||I==="input"&&P.type==="file")var fe=Uf;else if(Mf(P))if(Bf)fe=ib;else{fe=rb;var Re=nb}else I=P.nodeName,!I||I.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?U&&Eo(U.elementType)&&(fe=Uf):fe=ab;if(fe&&(fe=fe(e,U))){zf(X,fe,i,Y);break e}Re&&Re(e,P,U),e==="focusout"&&U&&P.type==="number"&&U.memoizedProps.value!=null&&_o(P,"number",P.value)}switch(Re=U?ci(U):window,e){case"focusin":(Mf(Re)||Re.contentEditable==="true")&&(fa=Re,Io=U,bi=null);break;case"focusout":bi=Io=fa=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,Yf(X,i,Y);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Yf(X,i,Y)}var pe;if(zo)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else da?Df(e,i)&&(ke="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(Cf&&i.locale!=="ko"&&(da||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&da&&(pe=_f()):(Kn=Y,Ro="value"in Kn?Kn.value:Kn.textContent,da=!0)),Re=js(U,ke),0<Re.length&&(ke=new Af(ke,e,null,i,Y),X.push({event:ke,listeners:Re}),pe?ke.data=pe:(pe=Lf(i),pe!==null&&(ke.data=pe)))),(pe=Zy?Jy(e,i):Wy(e,i))&&(ke=js(U,"onBeforeInput"),0<ke.length&&(Re=new Af("onBeforeInput","beforeinput",null,i,Y),X.push({event:Re,listeners:ke}),Re.data=pe)),$b(X,e,U,i,Y)}gm(X,n)})}function Vi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function js(e,n){for(var i=n+"Capture",o=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=di(e,i),d!=null&&o.unshift(Vi(e,d,g)),d=di(e,n),d!=null&&o.push(Vi(e,d,g))),e.tag===3)return o;e=e.return}return[]}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ym(e,n,i,o,d){for(var g=n._reactName,w=[];i!==null&&i!==o;){var S=i,E=S.alternate,U=S.stateNode;if(S=S.tag,E!==null&&E===o)break;S!==5&&S!==26&&S!==27||U===null||(E=U,d?(U=di(i,g),U!=null&&w.unshift(Vi(i,U,E))):d||(U=di(i,g),U!=null&&w.push(Vi(i,U,E)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var Vb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(Qb,"")}function vm(e,n){return n=bm(n),bm(e)===n}function _s(){}function Ge(e,n,i,o,d,g){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||oa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&oa(e,""+o);break;case"className":Cl(e,"class",o);break;case"tabIndex":Cl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,i,o);break;case"style":kf(e,o,g);break;case"data":if(n!=="object"){Cl(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Dl(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&Ge(e,n,"name",d.name,d,null),Ge(e,n,"formEncType",d.formEncType,d,null),Ge(e,n,"formMethod",d.formMethod,d,null),Ge(e,n,"formTarget",d.formTarget,d,null)):(Ge(e,n,"encType",d.encType,d,null),Ge(e,n,"method",d.method,d,null),Ge(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Dl(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=_s);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Dl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":De("beforetoggle",e),De("toggle",e),Nl(e,"popover",o);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Nl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=jy.get(i)||i,Nl(e,i,o))}}function cc(e,n,i,o,d,g){switch(i){case"style":kf(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof o=="string"?oa(e,o):(typeof o=="number"||typeof o=="bigint")&&oa(e,""+o);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"onClick":o!=null&&(e.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!df.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),g=e[Mt]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,d);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Nl(e,i,o)}}}function jt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var o=!1,d=!1,g;for(g in i)if(i.hasOwnProperty(g)){var w=i[g];if(w!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ge(e,n,g,w,i,null)}}d&&Ge(e,n,"srcSet",i.srcSet,i,null),o&&Ge(e,n,"src",i.src,i,null);return;case"input":De("invalid",e);var S=g=w=d=null,E=null,U=null;for(o in i)if(i.hasOwnProperty(o)){var Y=i[o];if(Y!=null)switch(o){case"name":d=Y;break;case"type":w=Y;break;case"checked":E=Y;break;case"defaultChecked":U=Y;break;case"value":g=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,n));break;default:Ge(e,n,o,Y,i,null)}}yf(e,g,S,E,U,w,d,!1),Rl(e);return;case"select":De("invalid",e),o=w=g=null;for(d in i)if(i.hasOwnProperty(d)&&(S=i[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":o=S;default:Ge(e,n,d,S,i,null)}n=g,i=w,e.multiple=!!o,n!=null?sa(e,!!o,n,!1):i!=null&&sa(e,!!o,i,!0);return;case"textarea":De("invalid",e),g=d=o=null;for(w in i)if(i.hasOwnProperty(w)&&(S=i[w],S!=null))switch(w){case"value":o=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ge(e,n,w,S,i,null)}vf(e,o,d,g),Rl(e);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(o=i[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,n,E,o,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(o=0;o<Yi.length;o++)De(Yi[o],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(o=i[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ge(e,n,U,o,i,null)}return;default:if(Eo(n)){for(Y in i)i.hasOwnProperty(Y)&&(o=i[Y],o!==void 0&&cc(e,n,Y,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&Ge(e,n,S,o,i,null))}function Xb(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,S=null,E=null,U=null,Y=null;for(I in i){var X=i[I];if(i.hasOwnProperty(I)&&X!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=X;default:o.hasOwnProperty(I)||Ge(e,n,I,null,o,X)}}for(var P in o){var I=o[P];if(X=i[P],o.hasOwnProperty(P)&&(I!=null||X!=null))switch(P){case"type":g=I;break;case"name":d=I;break;case"checked":U=I;break;case"defaultChecked":Y=I;break;case"value":w=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,n));break;default:I!==X&&Ge(e,n,P,I,o,X)}}jo(e,w,S,E,U,Y,g,d);return;case"select":I=w=S=P=null;for(g in i)if(E=i[g],i.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":I=E;default:o.hasOwnProperty(g)||Ge(e,n,g,null,o,E)}for(d in o)if(g=o[d],E=i[d],o.hasOwnProperty(d)&&(g!=null||E!=null))switch(d){case"value":P=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==E&&Ge(e,n,d,g,o,E)}n=S,i=w,o=I,P!=null?sa(e,!!i,P,!1):!!o!=!!i&&(n!=null?sa(e,!!i,n,!0):sa(e,!!i,i?[]:"",!1));return;case"textarea":I=P=null;for(S in i)if(d=i[S],i.hasOwnProperty(S)&&d!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(e,n,S,null,o,d)}for(w in o)if(d=o[w],g=i[w],o.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":P=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==g&&Ge(e,n,w,d,o,g)}bf(e,P,I);return;case"option":for(var Se in i)if(P=i[Se],i.hasOwnProperty(Se)&&P!=null&&!o.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:Ge(e,n,Se,null,o,P)}for(E in o)if(P=o[E],I=i[E],o.hasOwnProperty(E)&&P!==I&&(P!=null||I!=null))switch(E){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ge(e,n,E,P,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)P=i[we],i.hasOwnProperty(we)&&P!=null&&!o.hasOwnProperty(we)&&Ge(e,n,we,null,o,P);for(U in o)if(P=o[U],I=i[U],o.hasOwnProperty(U)&&P!==I&&(P!=null||I!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,n));break;default:Ge(e,n,U,P,o,I)}return;default:if(Eo(n)){for(var Ye in i)P=i[Ye],i.hasOwnProperty(Ye)&&P!==void 0&&!o.hasOwnProperty(Ye)&&cc(e,n,Ye,void 0,o,P);for(Y in o)P=o[Y],I=i[Y],!o.hasOwnProperty(Y)||P===I||P===void 0&&I===void 0||cc(e,n,Y,P,o,I);return}}for(var O in i)P=i[O],i.hasOwnProperty(O)&&P!=null&&!o.hasOwnProperty(O)&&Ge(e,n,O,null,o,P);for(X in o)P=o[X],I=i[X],!o.hasOwnProperty(X)||P===I||P==null&&I==null||Ge(e,n,X,P,o,I)}var dc=null,fc=null;function Es(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function km(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mc=null;function Kb(){var e=window.event;return e&&e.type==="popstate"?e===mc?!1:(mc=e,!0):(mc=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,jm=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof jm<"u"?function(e){return jm.resolve(null).then(e).catch(Wb)}:Sm;function Wb(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function _m(e,n){var i=n,o=0,d=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<o&&8>o){i=o;var w=e.ownerDocument;if(i&1&&Qi(w.documentElement),i&2&&Qi(w.body),i&4)for(i=w.head,Qi(i),w=i.firstChild;w;){var S=w.nextSibling,E=w.nodeName;w[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=S}}if(d===0){e.removeChild(g),nl(n);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:o=i.charCodeAt(0)-48;else o=0;i=g}while(i);nl(n)}function pc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":pc(i),vo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function ev(e,n,i,o){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function tv(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=fn(e.nextSibling),e===null))return null;return e}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function nv(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var xc=null;function Em(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Tm(e,n,i){switch(n=Es(i),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Qi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vo(e)}var sn=new Map,Am=new Set;function Ts(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=K.d;K.d={f:rv,r:av,D:iv,C:lv,L:sv,m:ov,X:cv,S:uv,M:dv};function rv(){var e=qn.f(),n=ys();return e||n}function av(e){var n=ra(e);n!==null&&n.tag===5&&n.type==="form"?Qh(n):qn.r(e)}var Ua=typeof document>"u"?null:document;function Nm(e,n,i){var o=Ua;if(o&&typeof n=="string"&&n){var d=Wt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Am.has(d)||(Am.add(d),e={rel:e,crossOrigin:i,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),jt(n,"link",e),mt(n),o.head.appendChild(n)))}}function iv(e){qn.D(e),Nm("dns-prefetch",e,null)}function lv(e,n){qn.C(e,n),Nm("preconnect",e,n)}function sv(e,n,i){qn.L(e,n,i);var o=Ua;if(o&&e&&n){var d='link[rel="preload"][as="'+Wt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Wt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Wt(i.imageSizes)+'"]')):d+='[href="'+Wt(e)+'"]';var g=d;switch(n){case"style":g=Ba(e);break;case"script":g=Pa(e)}sn.has(g)||(e=x({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),sn.set(g,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Xi(g))||n==="script"&&o.querySelector(Ki(g))||(n=o.createElement("link"),jt(n,"link",e),mt(n),o.head.appendChild(n)))}}function ov(e,n){qn.m(e,n);var i=Ua;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Wt(o)+'"][href="'+Wt(e)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pa(e)}if(!sn.has(g)&&(e=x({rel:"modulepreload",href:e},n),sn.set(g,e),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ki(g)))return}o=i.createElement("link"),jt(o,"link",e),mt(o),i.head.appendChild(o)}}}function uv(e,n,i){qn.S(e,n,i);var o=Ua;if(o&&e){var d=aa(o).hoistableStyles,g=Ba(e);n=n||"default";var w=d.get(g);if(!w){var S={loading:0,preload:null};if(w=o.querySelector(Xi(g)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},i),(i=sn.get(g))&&yc(e,i);var E=w=o.createElement("link");mt(E),jt(E,"link",e),E._p=new Promise(function(U,Y){E.onload=U,E.onerror=Y}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,As(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(g,w)}}}function cv(e,n){qn.X(e,n);var i=Ua;if(i&&e){var o=aa(i).hoistableScripts,d=Pa(e),g=o.get(d);g||(g=i.querySelector(Ki(d)),g||(e=x({src:e,async:!0},n),(n=sn.get(d))&&bc(e,n),g=i.createElement("script"),mt(g),jt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function dv(e,n){qn.M(e,n);var i=Ua;if(i&&e){var o=aa(i).hoistableScripts,d=Pa(e),g=o.get(d);g||(g=i.querySelector(Ki(d)),g||(e=x({src:e,async:!0,type:"module"},n),(n=sn.get(d))&&bc(e,n),g=i.createElement("script"),mt(g),jt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Cm(e,n,i,o){var d=(d=de.current)?Ts(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ba(i.href),i=aa(d).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ba(i.href);var g=aa(d).hoistableStyles,w=g.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=d.querySelector(Xi(e)))&&!g._p&&(w.instance=g,w.state.loading=5),sn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},sn.set(e,i),g||fv(d,e,i,w.state))),n&&o===null)throw Error(l(528,""));return w}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(i),i=aa(d).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ba(e){return'href="'+Wt(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function Rm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function fv(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),jt(n,"link",i),mt(n),e.head.appendChild(n))}function Pa(e){return'[src="'+Wt(e)+'"]'}function Ki(e){return"script[async]"+e}function Om(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Wt(i.href)+'"]');if(o)return n.instance=o,mt(o),o;var d=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mt(o),jt(o,"style",d),As(o,i.precedence,e),n.instance=o;case"stylesheet":d=Ba(i.href);var g=e.querySelector(Xi(d));if(g)return n.state.loading|=4,n.instance=g,mt(g),g;o=Rm(i),(d=sn.get(d))&&yc(o,d),g=(e.ownerDocument||e).createElement("link"),mt(g);var w=g;return w._p=new Promise(function(S,E){w.onload=S,w.onerror=E}),jt(g,"link",o),n.state.loading|=4,As(g,i.precedence,e),n.instance=g;case"script":return g=Pa(i.src),(d=e.querySelector(Ki(g)))?(n.instance=d,mt(d),d):(o=i,(d=sn.get(g))&&(o=x({},i),bc(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),mt(d),jt(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,As(o,i.precedence,e));return n.instance}function As(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,w=0;w<o.length;w++){var S=o[w];if(S.dataset.precedence===n)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function yc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ns=null;function Dm(e,n,i){if(Ns===null){var o=new Map,d=Ns=new Map;d.set(i,o)}else d=Ns,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var g=i[d];if(!(g[ui]||g[Et]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var S=o.get(w);S?S.push(g):o.set(w,[g])}}return o}function Lm(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function hv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zi=null;function mv(){}function pv(e,n,i){if(Zi===null)throw Error(l(475));var o=Zi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Ba(i.href),g=e.querySelector(Xi(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Cs.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,mt(g);return}g=e.ownerDocument||e,i=Rm(i),(d=sn.get(d))&&yc(i,d),g=g.createElement("link"),mt(g);var w=g;w._p=new Promise(function(S,E){w.onload=S,w.onerror=E}),jt(g,"link",i),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Cs.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function gv(){if(Zi===null)throw Error(l(475));var e=Zi;return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Cs(){if(this.count--,this.count===0){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rs=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rs=new Map,n.forEach(xv,e),Rs=null,Cs.call(e))}function xv(e,n){if(!(n.state.loading&4)){var i=Rs.get(e);if(i)var o=i.get(null);else{i=new Map,Rs.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),o=w)}o&&i.set(null,o)}d=n.instance,w=d.getAttribute("data-precedence"),g=i.get(w)||o,g===o&&i.set(null,d),i.set(w,d),this.count++,o=Cs.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Ji={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function yv(e,n,i,o,d,g,w,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function zm(e,n,i,o,d,g,w,S,E,U,Y,X){return e=new yv(e,n,i,w,S,E,U,X),n=1,g===!0&&(n|=24),g=Ft(3,null,null,n),e.current=g,g.stateNode=e,n=tu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:i,cache:n},iu(g),e}function Um(e){return e?(e=ga,e):ga}function Bm(e,n,i,o,d,g){d=Um(d),o.context===null?o.context=d:o.pendingContext=d,o=Wn(n),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=er(e,o,n),i!==null&&(Xt(i,e,n),Ai(i,e,n))}function Pm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function wc(e,n){Pm(e,n),(e=e.alternate)&&Pm(e,n)}function Im(e){if(e.tag===13){var n=pa(e,67108864);n!==null&&Xt(n,e,67108864),wc(e,67108864)}}var Os=!0;function bv(e,n,i,o){var d=B.T;B.T=null;var g=K.p;try{K.p=2,kc(e,n,i,o)}finally{K.p=g,B.T=d}}function vv(e,n,i,o){var d=B.T;B.T=null;var g=K.p;try{K.p=8,kc(e,n,i,o)}finally{K.p=g,B.T=d}}function kc(e,n,i,o){if(Os){var d=Sc(o);if(d===null)uc(e,n,o,Ds,i),Hm(e,o);else if(kv(d,e,n,i,o))o.stopPropagation();else if(Hm(e,o),n&4&&-1<wv.indexOf(e)){for(;d!==null;){var g=ra(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ye(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var E=1<<31-ve(w);S.entanglements[1]|=E,w&=~E}kn(g),(qe&6)===0&&(gs=nt()+500,Gi(0))}}break;case 13:S=pa(g,2),S!==null&&Xt(S,g,2),ys(),wc(g,2)}if(g=Sc(o),g===null&&uc(e,n,o,Ds,i),g===d)break;d=g}d!==null&&o.stopPropagation()}else uc(e,n,o,null,i)}}function Sc(e){return e=Ao(e),jc(e)}var Ds=null;function jc(e){if(Ds=null,e=na(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=c(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ds=e,null}function qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Tr:return 2;case Ar:return 8;case Qn:case li:return 32;case gn:return 268435456;default:return 32}default:return 32}}var _c=!1,hr=null,mr=null,pr=null,Wi=new Map,el=new Map,gr=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Wi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function tl(e,n,i,o,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},n!==null&&(n=ra(n),n!==null&&Im(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function kv(e,n,i,o,d){switch(n){case"focusin":return hr=tl(hr,e,n,i,o,d),!0;case"dragenter":return mr=tl(mr,e,n,i,o,d),!0;case"mouseover":return pr=tl(pr,e,n,i,o,d),!0;case"pointerover":var g=d.pointerId;return Wi.set(g,tl(Wi.get(g)||null,e,n,i,o,d)),!0;case"gotpointercapture":return g=d.pointerId,el.set(g,tl(el.get(g)||null,e,n,i,o,d)),!0}return!1}function $m(e){var n=na(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=c(i),n!==null){e.blockedOn=n,py(e.priority,function(){if(i.tag===13){var o=Qt();o=xo(o);var d=pa(i,o);d!==null&&Xt(d,i,o),wc(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Sc(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);To=o,i.target.dispatchEvent(o),To=null}else return n=ra(i),n!==null&&Im(n),e.blockedOn=i,!1;n.shift()}return!0}function Fm(e,n,i){Ls(e)&&i.delete(n)}function Sv(){_c=!1,hr!==null&&Ls(hr)&&(hr=null),mr!==null&&Ls(mr)&&(mr=null),pr!==null&&Ls(pr)&&(pr=null),Wi.forEach(Fm),el.forEach(Fm)}function Ms(e,n){e.blockedOn===n&&(e.blockedOn=null,_c||(_c=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sv)))}var zs=null;function Gm(e){zs!==e&&(zs=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zs===e&&(zs=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(jc(o||i)===null)continue;break}var g=ra(i);g!==null&&(e.splice(n,3),n-=3,ju(g,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function nl(e){function n(E){return Ms(E,e)}hr!==null&&Ms(hr,e),mr!==null&&Ms(mr,e),pr!==null&&Ms(pr,e),Wi.forEach(n),el.forEach(n);for(var i=0;i<gr.length;i++){var o=gr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gr.length&&(i=gr[0],i.blockedOn===null);)$m(i),i.blockedOn===null&&gr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],g=i[o+1],w=d[Mt]||null;if(typeof g=="function")w||Gm(i);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[Mt]||null)S=w.formAction;else if(jc(d)!==null)continue}else S=w.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),Gm(i)}}}function Ec(e){this._internalRoot=e}Us.prototype.render=Ec.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var i=n.current,o=Qt();Bm(i,o,e,n,null,null)},Us.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bm(e.current,2,null,e,null,null),ys(),n[ta]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var n=of();e={blockedOn:null,target:e,priority:n};for(var i=0;i<gr.length&&n!==0&&n<gr[i].priority;i++);gr.splice(i,0,e),i===0&&$m(e)}};var Ym=r.version;if(Ym!=="19.1.0")throw Error(l(527,Ym,"19.1.0"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var jv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{H=Bs.inject(jv),ne=Bs}catch{}}return al.createRoot=function(e,n){if(!s(e))throw Error(l(299));var i=!1,o="",d=o0,g=u0,w=c0,S=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=zm(e,1,!1,null,null,i,o,d,g,w,S,null),e[ta]=n.current,oc(e),new Ec(n)},al.hydrateRoot=function(e,n,i){if(!s(e))throw Error(l(299));var o=!1,d="",g=o0,w=u0,S=c0,E=null,U=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks),i.formState!==void 0&&(U=i.formState)),n=zm(e,1,!0,n,i??null,o,d,g,w,S,E,U),n.context=Um(null),i=n.current,o=Qt(),o=xo(o),d=Wn(o),d.callback=null,er(i,d,o),i=o,n.current.lanes=i,oi(n,i),kn(n),e[ta]=n.current,oc(e),new Us(n)},al.version="19.1.0",al}var np;function Mv(){if(np)return Nc.exports;np=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Nc.exports=Lv(),Nc.exports}var zv=Mv();const Uv=Sl(zv),rp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),ap=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Bv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),to=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),ud=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),cd=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),ip=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),dd=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),fd=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Dd=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Ig=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),uo=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),lp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Pv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),Iv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),Zs=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Sr=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:f.jsxs("g",{children:[f.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),f.jsx("g",{})]})}),jr=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),jn=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),qv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),qg=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),no=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Hv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),$v=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),sp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),op=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),up=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),cp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),dp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Fv=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),Gv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),fp=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Hg=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),Yv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Vv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Qv=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Xv=({onImageSelect:t,isLoading:r})=>{const[a,l]=$.useState(!1),[s,u]=$.useState(null),c=$.useRef(null),h=$.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const j=new FileReader;j.onloadend=()=>{try{const T=j.result;u(T),t(b)}catch(T){console.error("Error processing image file:",T),alert("Gagal memproses file gambar. Silakan coba file lain.")}},j.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},j.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[t]),m=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?l(!0):b.type==="dragleave"&&l(!1)},[]),p=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),l(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&h(b.dataTransfer.files[0])},[h]),x=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&h(b.target.files[0])},y=()=>{var b;(b=c.current)==null||b.click()},v=$.useCallback(b=>{var A,N;if(r||!c.current)return;const j=(A=b.clipboardData)==null?void 0:A.items;if(!j)return;const T=(N=Array.from(j).find(M=>M.kind==="file"&&M.type.startsWith("image/")))==null?void 0:N.getAsFile();T&&(b.preventDefault(),h(T))},[r,h]);return $.useEffect(()=>(document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}),[v]),f.jsxs("div",{onDragEnter:m,onDragOver:m,onDragLeave:m,onDrop:p,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${a?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!s&&"bg-white dark:bg-slate-800"}`}`,children:[f.jsx("input",{ref:c,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:x,disabled:r}),s?f.jsxs("div",{className:"w-full h-full relative",children:[f.jsx("img",{src:s,alt:"Chart preview",className:"object-contain w-full h-full rounded-md"}),r&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg",children:[f.jsx(Sr,{className:"w-16 h-16 text-violet-600 dark:text-violet-400"}),f.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(lp,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),f.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),f.jsxs("button",{type:"button",onClick:y,disabled:r,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[f.jsx(lp,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},il="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",ll="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",hp="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Kv=({params:t,setParams:r,timeframeSettings:a,currentAnalysis:l})=>{const[s,u]=$.useState(t.accountBalance||""),[c,h]=$.useState(t.leverage||"10"),[m,p]=$.useState(t.entryPrice||""),[x,y]=$.useState(t.stopLoss||""),[v,b]=$.useState(""),[j,T]=$.useState("LONG"),A=M=>parseFloat(M.replace(",",".")),N=$.useMemo(()=>{const M=A(s),C=A(c),q=A(m),F=A(x),D=A(v);if([M,C,q,F,D].some(isNaN)||M<=0||C<=0||q<=0||F<=0||D<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const Z=M*C;let ee=0,oe=0,L=0,re=0;j==="LONG"?(ee=(F-q)*Z/q,oe=(D-q)*Z/q,L=Math.abs(oe/Math.abs(ee)),re=q*(1-1/C)):(ee=(q-F)*Z/q,oe=(q-D)*Z/q,L=Math.abs(oe/Math.abs(ee)),re=q*(1+1/C));const J=M,le=M,te=`${(ee/M*100).toFixed(2)}%`,ae=`${(oe/M*100).toFixed(2)}%`;let B="";return L<1?B="RRR di bawah standar minimum!":ee>=0?B="Stop Loss tidak valid (tidak rugi)!":oe<=0&&(B="Take Profit tidak valid (tidak untung)!"),{contract:`$${Z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:F,slMargin:`$${J.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${ee>=0?"+":""}$${ee.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:te,tp:D,tpMargin:`$${le.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${oe>=0?"+":""}$${oe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:ae,rrr:L.toFixed(2),liq:re.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:B}},[s,c,m,x,v,j]);return f.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx(Iv,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),f.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),f.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:a.text})]})}),f.jsx("div",{className:ll,children:f.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),f.jsx("input",{type:"number",className:il,value:s,onChange:M=>u(M.target.value),placeholder:"e.g. 6.64"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),f.jsx("input",{type:"number",className:il,value:c,onChange:M=>h(M.target.value),min:1,max:125})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),f.jsx("input",{type:"number",className:il,value:m,onChange:M=>p(M.target.value),placeholder:"e.g. 0.621"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),f.jsx("input",{type:"number",className:il,value:x,onChange:M=>y(M.target.value),placeholder:"e.g. 0.62552"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),f.jsx("input",{type:"number",className:il,value:v,onChange:M=>b(M.target.value),placeholder:"e.g. 0.6185"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),f.jsxs("div",{className:"flex gap-3 mt-1",children:[f.jsx("button",{onClick:()=>T("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${j==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),f.jsx("button",{onClick:()=>T("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${j==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:ll,children:[f.jsx("h4",{className:hp,children:"Nilai Kontrak"}),f.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[f.jsx("span",{children:"Total Kontrak"}),f.jsx("span",{children:N.contract})]})]}),f.jsxs("div",{className:ll+" border-l-4 border-red-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi SL (USDT)"}),f.jsx("span",{children:N.sl})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:N.slMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:N.slProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:N.slProfitPct})]})]}),f.jsxs("div",{className:ll+" border-l-4 border-emerald-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi TP (USDT)"}),f.jsx("span",{children:N.tp})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:N.tpMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:N.tpProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:N.tpProfitPct})]})]}),f.jsxs("div",{className:ll,children:[f.jsx("h4",{className:hp,children:"Ringkasan"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),f.jsx("span",{children:N.rrr})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Liquidation Price (estimasi)"}),f.jsx("span",{children:N.liq})]})]}),N.warning&&f.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:N.warning})]})]})};function Zv(t,r){const a={};return(t[t.length-1]===""?[...t,""]:t).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const Jv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Wv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,e1={};function mp(t,r){return(e1.jsx?Wv:Jv).test(t)}const t1=/[ \t\n\f\r]/g;function n1(t){return typeof t=="object"?t.type==="text"?pp(t.value):!1:pp(t)}function pp(t){return t.replace(t1,"")===""}class jl{constructor(r,a,l){this.normal=a,this.property=r,l&&(this.space=l)}}jl.prototype.normal={};jl.prototype.property={};jl.prototype.space=void 0;function $g(t,r){const a={},l={};for(const s of t)Object.assign(a,s.property),Object.assign(l,s.normal);return new jl(a,l,r)}function hd(t){return t.toLowerCase()}class Ht{constructor(r,a){this.attribute=a,this.property=r}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let r1=0;const Te=Jr(),ct=Jr(),md=Jr(),ie=Jr(),Je=Jr(),Wa=Jr(),Kt=Jr();function Jr(){return 2**++r1}const pd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:ct,commaOrSpaceSeparated:Kt,commaSeparated:Wa,number:ie,overloadedBoolean:md,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),Dc=Object.keys(pd);class Ld extends Ht{constructor(r,a,l,s){let u=-1;if(super(r,a),gp(this,"space",s),typeof l=="number")for(;++u<Dc.length;){const c=Dc[u];gp(this,Dc[u],(l&pd[c])===pd[c])}}}Ld.prototype.defined=!0;function gp(t,r,a){a&&(t[r]=a)}function ni(t){const r={},a={};for(const[l,s]of Object.entries(t.properties)){const u=new Ld(l,t.transform(t.attributes||{},l),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(l)&&(u.mustUseProperty=!0),r[l]=u,a[hd(l)]=l,a[hd(u.attribute)]=l}return new jl(r,a,t.space)}const Fg=ni({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Je,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:ie,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Je,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:ct,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null},transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()}});function Gg(t,r){return r in t?t[r]:r}function Yg(t,r){return Gg(t,r.toLowerCase())}const a1=ni({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wa,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:Je,autoFocus:Te,autoPlay:Te,blocking:Je,capture:null,charSet:null,checked:Te,cite:null,className:Je,cols:ie,colSpan:null,content:null,contentEditable:ct,controls:Te,controlsList:Je,coords:ie|Wa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:md,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:Je,height:ie,hidden:md,high:ie,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:Je,itemRef:Je,itemScope:Te,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:ie,pattern:null,ping:Je,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:Je,required:Te,reversed:Te,rows:ie,rowSpan:ie,sandbox:Je,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:ct,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:ie,security:null,unselectable:null},space:"html",transform:Yg}),i1=ni({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wa,g2:Wa,glyphName:Wa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Gg}),Vg=ni({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()}}),Qg=ni({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yg}),Xg=ni({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()}}),l1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},s1=/[A-Z]/g,xp=/-[a-z]/g,o1=/^data[-\w.:]+$/i;function u1(t,r){const a=hd(r);let l=r,s=Ht;if(a in t.normal)return t.property[t.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&o1.test(r)){if(r.charAt(4)==="-"){const u=r.slice(5).replace(xp,d1);l="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=r.slice(4);if(!xp.test(u)){let c=u.replace(s1,c1);c.charAt(0)!=="-"&&(c="-"+c),r="data"+c}}s=Ld}return new s(l,r)}function c1(t){return"-"+t.toLowerCase()}function d1(t){return t.charAt(1).toUpperCase()}const f1=$g([Fg,a1,Vg,Qg,Xg],"html"),Md=$g([Fg,i1,Vg,Qg,Xg],"svg");function h1(t){return t.join(" ").trim()}var Ia={},Lc,yp;function m1(){if(yp)return Lc;yp=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,m=`
`,p="/",x="*",y="",v="comment",b="declaration";Lc=function(T,A){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];A=A||{};var N=1,M=1;function C(le){var te=le.match(r);te&&(N+=te.length);var ae=le.lastIndexOf(m);M=~ae?le.length-ae:M+le.length}function q(){var le={line:N,column:M};return function(te){return te.position=new F(le),ee(),te}}function F(le){this.start=le,this.end={line:N,column:M},this.source=A.source}F.prototype.content=T;function D(le){var te=new Error(A.source+":"+N+":"+M+": "+le);if(te.reason=le,te.filename=A.source,te.line=N,te.column=M,te.source=T,!A.silent)throw te}function Z(le){var te=le.exec(T);if(te){var ae=te[0];return C(ae),T=T.slice(ae.length),te}}function ee(){Z(a)}function oe(le){var te;for(le=le||[];te=L();)te!==!1&&le.push(te);return le}function L(){var le=q();if(!(p!=T.charAt(0)||x!=T.charAt(1))){for(var te=2;y!=T.charAt(te)&&(x!=T.charAt(te)||p!=T.charAt(te+1));)++te;if(te+=2,y===T.charAt(te-1))return D("End of comment missing");var ae=T.slice(2,te-2);return M+=2,C(ae),T=T.slice(te),M+=2,le({type:v,comment:ae})}}function re(){var le=q(),te=Z(l);if(te){if(L(),!Z(s))return D("property missing ':'");var ae=Z(u),B=le({type:b,property:j(te[0].replace(t,y)),value:ae?j(ae[0].replace(t,y)):y});return Z(c),B}}function J(){var le=[];oe(le);for(var te;te=re();)te!==!1&&(le.push(te),oe(le));return le}return ee(),J()};function j(T){return T?T.replace(h,y):y}return Lc}var bp;function p1(){if(bp)return Ia;bp=1;var t=Ia&&Ia.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=a;var r=t(m1());function a(l,s){var u=null;if(!l||typeof l!="string")return u;var c=(0,r.default)(l),h=typeof s=="function";return c.forEach(function(m){if(m.type==="declaration"){var p=m.property,x=m.value;h?s(p,x,m):x&&(u=u||{},u[p]=x)}}),u}return Ia}var sl={},vp;function g1(){if(vp)return sl;vp=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(p){return!p||a.test(p)||t.test(p)},c=function(p,x){return x.toUpperCase()},h=function(p,x){return"".concat(x,"-")},m=function(p,x){return x===void 0&&(x={}),u(p)?p:(p=p.toLowerCase(),x.reactCompat?p=p.replace(s,h):p=p.replace(l,h),p.replace(r,c))};return sl.camelCase=m,sl}var ol,wp;function x1(){if(wp)return ol;wp=1;var t=ol&&ol.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},r=t(p1()),a=g1();function l(s,u){var c={};return!s||typeof s!="string"||(0,r.default)(s,function(h,m){h&&m&&(c[(0,a.camelCase)(h,u)]=m)}),c}return l.default=l,ol=l,ol}var y1=x1();const b1=Sl(y1),Kg=Zg("end"),zd=Zg("start");function Zg(t){return r;function r(a){const l=a&&a.position&&a.position[t]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function v1(t){const r=zd(t),a=Kg(t);if(r&&a)return{start:r,end:a}}function hl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?kp(t.position):"start"in t||"end"in t?kp(t):"line"in t||"column"in t?gd(t):""}function gd(t){return Sp(t&&t.line)+":"+Sp(t&&t.column)}function kp(t){return gd(t&&t.start)+"-"+gd(t&&t.end)}function Sp(t){return t&&typeof t=="number"?t:1}class Rt extends Error{constructor(r,a,l){super(),typeof a=="string"&&(l=a,a=void 0);let s="",u={},c=!1;if(a&&("line"in a&&"column"in a?u={place:a}:"start"in a&&"end"in a?u={place:a}:"type"in a?u={ancestors:[a],place:a.position}:u={...a}),typeof r=="string"?s=r:!u.cause&&r&&(c=!0,s=r.message,u.cause=r),!u.ruleId&&!u.source&&typeof l=="string"){const m=l.indexOf(":");m===-1?u.ruleId=l:(u.source=l.slice(0,m),u.ruleId=l.slice(m+1))}if(!u.place&&u.ancestors&&u.ancestors){const m=u.ancestors[u.ancestors.length-1];m&&(u.place=m.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=h?h.line:void 0,this.name=hl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}Rt.prototype.file="";Rt.prototype.name="";Rt.prototype.reason="";Rt.prototype.message="";Rt.prototype.stack="";Rt.prototype.column=void 0;Rt.prototype.line=void 0;Rt.prototype.ancestors=void 0;Rt.prototype.cause=void 0;Rt.prototype.fatal=void 0;Rt.prototype.place=void 0;Rt.prototype.ruleId=void 0;Rt.prototype.source=void 0;const Ud={}.hasOwnProperty,w1=new Map,k1=/[A-Z]/g,S1=new Set(["table","tbody","thead","tfoot","tr"]),j1=new Set(["td","th"]),Jg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _1(t,r){if(!r||r.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=r.filePath||void 0;let l;if(r.development){if(typeof r.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=D1(a,r.jsxDEV)}else{if(typeof r.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof r.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=O1(a,r.jsx,r.jsxs)}const s={Fragment:r.Fragment,ancestors:[],components:r.components||{},create:l,elementAttributeNameCase:r.elementAttributeNameCase||"react",evaluater:r.createEvaluater?r.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:r.ignoreInvalidStyle||!1,passKeys:r.passKeys!==!1,passNode:r.passNode||!1,schema:r.space==="svg"?Md:f1,stylePropertyNameCase:r.stylePropertyNameCase||"dom",tableCellAlignToStyle:r.tableCellAlignToStyle!==!1},u=Wg(s,t,void 0);return u&&typeof u!="string"?u:s.create(t,s.Fragment,{children:u||void 0},void 0)}function Wg(t,r,a){if(r.type==="element")return E1(t,r,a);if(r.type==="mdxFlowExpression"||r.type==="mdxTextExpression")return T1(t,r);if(r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement")return N1(t,r,a);if(r.type==="mdxjsEsm")return A1(t,r);if(r.type==="root")return C1(t,r,a);if(r.type==="text")return R1(t,r)}function E1(t,r,a){const l=t.schema;let s=l;r.tagName.toLowerCase()==="svg"&&l.space==="html"&&(s=Md,t.schema=s),t.ancestors.push(r);const u=tx(t,r.tagName,!1),c=L1(t,r);let h=Pd(t,r);return S1.has(r.tagName)&&(h=h.filter(function(m){return typeof m=="string"?!n1(m):!0})),ex(t,c,u,r),Bd(c,h),t.ancestors.pop(),t.schema=l,t.create(r,u,c,a)}function T1(t,r){if(r.data&&r.data.estree&&t.evaluater){const l=r.data.estree.body[0];return l.type,t.evaluater.evaluateExpression(l.expression)}vl(t,r.position)}function A1(t,r){if(r.data&&r.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(r.data.estree);vl(t,r.position)}function N1(t,r,a){const l=t.schema;let s=l;r.name==="svg"&&l.space==="html"&&(s=Md,t.schema=s),t.ancestors.push(r);const u=r.name===null?t.Fragment:tx(t,r.name,!0),c=M1(t,r),h=Pd(t,r);return ex(t,c,u,r),Bd(c,h),t.ancestors.pop(),t.schema=l,t.create(r,u,c,a)}function C1(t,r,a){const l={};return Bd(l,Pd(t,r)),t.create(r,t.Fragment,l,a)}function R1(t,r){return r.value}function ex(t,r,a,l){typeof a!="string"&&a!==t.Fragment&&t.passNode&&(r.node=l)}function Bd(t,r){if(r.length>0){const a=r.length>1?r:r[0];a&&(t.children=a)}}function O1(t,r,a){return l;function l(s,u,c,h){const p=Array.isArray(c.children)?a:r;return h?p(u,c,h):p(u,c)}}function D1(t,r){return a;function a(l,s,u,c){const h=Array.isArray(u.children),m=zd(l);return r(s,u,c,h,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function L1(t,r){const a={};let l,s;for(s in r.properties)if(s!=="children"&&Ud.call(r.properties,s)){const u=z1(t,s,r.properties[s]);if(u){const[c,h]=u;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&j1.has(r.tagName)?l=h:a[c]=h}}if(l){const u=a.style||(a.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return a}function M1(t,r){const a={};for(const l of r.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&t.evaluater){const u=l.data.estree.body[0];u.type;const c=u.expression;c.type;const h=c.properties[0];h.type,Object.assign(a,t.evaluater.evaluateExpression(h.argument))}else vl(t,r.position);else{const s=l.name;let u;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&t.evaluater){const h=l.value.data.estree.body[0];h.type,u=t.evaluater.evaluateExpression(h.expression)}else vl(t,r.position);else u=l.value===null?!0:l.value;a[s]=u}return a}function Pd(t,r){const a=[];let l=-1;const s=t.passKeys?new Map:w1;for(;++l<r.children.length;){const u=r.children[l];let c;if(t.passKeys){const m=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(m){const p=s.get(m)||0;c=m+"-"+p,s.set(m,p+1)}}const h=Wg(t,u,c);h!==void 0&&a.push(h)}return a}function z1(t,r,a){const l=u1(t.schema,r);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=l.commaSeparated?Zv(a):h1(a)),l.property==="style"){let s=typeof a=="object"?a:U1(t,String(a));return t.stylePropertyNameCase==="css"&&(s=B1(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&l.space?l1[l.property]||l.property:l.attribute,a]}}function U1(t,r){try{return b1(r,{reactCompat:!0})}catch(a){if(t.ignoreInvalidStyle)return{};const l=a,s=new Rt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Jg+"#cannot-parse-style-attribute",s}}function tx(t,r,a){let l;if(!a)l={type:"Literal",value:r};else if(r.includes(".")){const s=r.split(".");let u=-1,c;for(;++u<s.length;){const h=mp(s[u])?{type:"Identifier",name:s[u]}:{type:"Literal",value:s[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(u&&h.type==="Literal"),optional:!1}:h}l=c}else l=mp(r)&&!/^[a-z]/.test(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};if(l.type==="Literal"){const s=l.value;return Ud.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(l);vl(t)}function vl(t,r){const a=new Rt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:r,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=Jg+"#cannot-handle-mdx-estrees-without-createevaluater",a}function B1(t){const r={};let a;for(a in t)Ud.call(t,a)&&(r[P1(a)]=t[a]);return r}function P1(t){let r=t.replace(k1,I1);return r.slice(0,3)==="ms-"&&(r="-"+r),r}function I1(t){return"-"+t.toLowerCase()}const Mc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},q1={};function Id(t,r){const a=q1,l=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,s=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return nx(t,l,s)}function nx(t,r,a){if(H1(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jp(t.children,r,a)}return Array.isArray(t)?jp(t,r,a):""}function jp(t,r,a){const l=[];let s=-1;for(;++s<t.length;)l[s]=nx(t[s],r,a);return l.join("")}function H1(t){return!!(t&&typeof t=="object")}const _p=document.createElement("i");function qd(t){const r="&"+t+";";_p.innerHTML=r;const a=_p.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===r?!1:a}function Zt(t,r,a,l){const s=t.length;let u=0,c;if(r<0?r=-r>s?0:s+r:r=r>s?s:r,a=a>0?a:0,l.length<1e4)c=Array.from(l),c.unshift(r,a),t.splice(...c);else for(a&&t.splice(r,a);u<l.length;)c=l.slice(u,u+1e4),c.unshift(r,0),t.splice(...c),u+=1e4,r+=1e4}function on(t,r){return t.length>0?(Zt(t,t.length,0,r),t):r}const Ep={}.hasOwnProperty;function rx(t){const r={};let a=-1;for(;++a<t.length;)$1(r,t[a]);return r}function $1(t,r){let a;for(a in r){const s=(Ep.call(t,a)?t[a]:void 0)||(t[a]={}),u=r[a];let c;if(u)for(c in u){Ep.call(s,c)||(s[c]=[]);const h=u[c];F1(s[c],Array.isArray(h)?h:h?[h]:[])}}}function F1(t,r){let a=-1;const l=[];for(;++a<r.length;)(r[a].add==="after"?t:l).push(r[a]);Zt(t,0,0,l)}function ax(t,r){const a=Number.parseInt(t,r);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function pn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lt=_r(/[A-Za-z]/),Ct=_r(/[\dA-Za-z]/),G1=_r(/[#-'*+\--9=?A-Z^-~]/);function ro(t){return t!==null&&(t<32||t===127)}const xd=_r(/\d/),Y1=_r(/[\dA-Fa-f]/),V1=_r(/[!-/:-@[-`{-~]/);function be(t){return t!==null&&t<-2}function Xe(t){return t!==null&&(t<0||t===32)}function Me(t){return t===-2||t===-1||t===32}const co=_r(new RegExp("\\p{P}|\\p{S}","u")),Zr=_r(/\s/);function _r(t){return r;function r(a){return a!==null&&a>-1&&t.test(String.fromCharCode(a))}}function ri(t){const r=[];let a=-1,l=0,s=0;for(;++a<t.length;){const u=t.charCodeAt(a);let c="";if(u===37&&Ct(t.charCodeAt(a+1))&&Ct(t.charCodeAt(a+2)))s=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=t.charCodeAt(a+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),s=1):c=""}else c=String.fromCharCode(u);c&&(r.push(t.slice(l,a),encodeURIComponent(c)),l=a+s+1,c=""),s&&(a+=s,s=0)}return r.join("")+t.slice(l)}function Ue(t,r,a,l){const s=l?l-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(m){return Me(m)?(t.enter(a),h(m)):r(m)}function h(m){return Me(m)&&u++<s?(t.consume(m),h):(t.exit(a),r(m))}}const Q1={tokenize:X1};function X1(t){const r=t.attempt(this.parser.constructs.contentInitial,l,s);let a;return r;function l(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ue(t,r,"linePrefix")}function s(h){return t.enter("paragraph"),u(h)}function u(h){const m=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=m),a=m,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return be(h)?(t.consume(h),t.exit("chunkText"),u):(t.consume(h),c)}}const K1={tokenize:Z1},Tp={tokenize:J1};function Z1(t){const r=this,a=[];let l=0,s,u,c;return h;function h(C){if(l<a.length){const q=a[l];return r.containerState=q[1],t.attempt(q[0].continuation,m,p)(C)}return p(C)}function m(C){if(l++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,s&&M();const q=r.events.length;let F=q,D;for(;F--;)if(r.events[F][0]==="exit"&&r.events[F][1].type==="chunkFlow"){D=r.events[F][1].end;break}N(l);let Z=q;for(;Z<r.events.length;)r.events[Z][1].end={...D},Z++;return Zt(r.events,F+1,0,r.events.slice(q)),r.events.length=Z,p(C)}return h(C)}function p(C){if(l===a.length){if(!s)return v(C);if(s.currentConstruct&&s.currentConstruct.concrete)return j(C);r.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(Tp,x,y)(C)}function x(C){return s&&M(),N(l),v(C)}function y(C){return r.parser.lazy[r.now().line]=l!==a.length,c=r.now().offset,j(C)}function v(C){return r.containerState={},t.attempt(Tp,b,j)(C)}function b(C){return l++,a.push([r.currentConstruct,r.containerState]),v(C)}function j(C){if(C===null){s&&M(),N(0),t.consume(C);return}return s=s||r.parser.flow(r.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:u}),T(C)}function T(C){if(C===null){A(t.exit("chunkFlow"),!0),N(0),t.consume(C);return}return be(C)?(t.consume(C),A(t.exit("chunkFlow")),l=0,r.interrupt=void 0,h):(t.consume(C),T)}function A(C,q){const F=r.sliceStream(C);if(q&&F.push(null),C.previous=u,u&&(u.next=C),u=C,s.defineSkip(C.start),s.write(F),r.parser.lazy[C.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<c&&(!s.events[D][1].end||s.events[D][1].end.offset>c))return;const Z=r.events.length;let ee=Z,oe,L;for(;ee--;)if(r.events[ee][0]==="exit"&&r.events[ee][1].type==="chunkFlow"){if(oe){L=r.events[ee][1].end;break}oe=!0}for(N(l),D=Z;D<r.events.length;)r.events[D][1].end={...L},D++;Zt(r.events,ee+1,0,r.events.slice(Z)),r.events.length=D}}function N(C){let q=a.length;for(;q-- >C;){const F=a[q];r.containerState=F[1],F[0].exit.call(r,t)}a.length=C}function M(){s.write([null]),u=void 0,s=void 0,r.containerState._closeFlow=void 0}}function J1(t,r,a){return Ue(t,t.attempt(this.parser.constructs.document,r,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ei(t){if(t===null||Xe(t)||Zr(t))return 1;if(co(t))return 2}function fo(t,r,a){const l=[];let s=-1;for(;++s<t.length;){const u=t[s].resolveAll;u&&!l.includes(u)&&(r=u(r,a),l.push(u))}return r}const yd={name:"attention",resolveAll:W1,tokenize:ew};function W1(t,r){let a=-1,l,s,u,c,h,m,p,x;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(l=a;l--;)if(t[l][0]==="exit"&&t[l][1].type==="attentionSequence"&&t[l][1]._open&&r.sliceSerialize(t[l][1]).charCodeAt(0)===r.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[l][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[l][1].end.offset-t[l][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;m=t[l][1].end.offset-t[l][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const y={...t[l][1].end},v={...t[a][1].start};Ap(y,-m),Ap(v,m),c={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...t[l][1].end}},h={type:m>1?"strongSequence":"emphasisSequence",start:{...t[a][1].start},end:v},u={type:m>1?"strongText":"emphasisText",start:{...t[l][1].end},end:{...t[a][1].start}},s={type:m>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[l][1].end={...c.start},t[a][1].start={...h.end},p=[],t[l][1].end.offset-t[l][1].start.offset&&(p=on(p,[["enter",t[l][1],r],["exit",t[l][1],r]])),p=on(p,[["enter",s,r],["enter",c,r],["exit",c,r],["enter",u,r]]),p=on(p,fo(r.parser.constructs.insideSpan.null,t.slice(l+1,a),r)),p=on(p,[["exit",u,r],["enter",h,r],["exit",h,r],["exit",s,r]]),t[a][1].end.offset-t[a][1].start.offset?(x=2,p=on(p,[["enter",t[a][1],r],["exit",t[a][1],r]])):x=0,Zt(t,l-1,a-l+3,p),a=l+p.length-x-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function ew(t,r){const a=this.parser.constructs.attentionMarkers.null,l=this.previous,s=ei(l);let u;return c;function c(m){return u=m,t.enter("attentionSequence"),h(m)}function h(m){if(m===u)return t.consume(m),h;const p=t.exit("attentionSequence"),x=ei(m),y=!x||x===2&&s||a.includes(m),v=!s||s===2&&x||a.includes(l);return p._open=!!(u===42?y:y&&(s||!v)),p._close=!!(u===42?v:v&&(x||!y)),r(m)}}function Ap(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const tw={name:"autolink",tokenize:nw};function nw(t,r,a){let l=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(b){return Lt(b)?(t.consume(b),c):b===64?a(b):p(b)}function c(b){return b===43||b===45||b===46||Ct(b)?(l=1,h(b)):p(b)}function h(b){return b===58?(t.consume(b),l=0,m):(b===43||b===45||b===46||Ct(b))&&l++<32?(t.consume(b),h):(l=0,p(b))}function m(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):b===null||b===32||b===60||ro(b)?a(b):(t.consume(b),m)}function p(b){return b===64?(t.consume(b),x):G1(b)?(t.consume(b),p):a(b)}function x(b){return Ct(b)?y(b):a(b)}function y(b){return b===46?(t.consume(b),l=0,x):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):v(b)}function v(b){if((b===45||Ct(b))&&l++<63){const j=b===45?v:y;return t.consume(b),j}return a(b)}}const _l={partial:!0,tokenize:rw};function rw(t,r,a){return l;function l(u){return Me(u)?Ue(t,s,"linePrefix")(u):s(u)}function s(u){return u===null||be(u)?r(u):a(u)}}const ix={continuation:{tokenize:iw},exit:lw,name:"blockQuote",tokenize:aw};function aw(t,r,a){const l=this;return s;function s(c){if(c===62){const h=l.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return a(c)}function u(c){return Me(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(c))}}function iw(t,r,a){const l=this;return s;function s(c){return Me(c)?Ue(t,u,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(ix,r,a)(c)}}function lw(t){t.exit("blockQuote")}const lx={name:"characterEscape",tokenize:sw};function sw(t,r,a){return l;function l(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),s}function s(u){return V1(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):a(u)}}const sx={name:"characterReference",tokenize:ow};function ow(t,r,a){const l=this;let s=0,u,c;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),m}function m(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),u=31,c=Ct,x(y))}function p(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=Y1,x):(t.enter("characterReferenceValue"),u=7,c=xd,x(y))}function x(y){if(y===59&&s){const v=t.exit("characterReferenceValue");return c===Ct&&!qd(l.sliceSerialize(v))?a(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return c(y)&&s++<u?(t.consume(y),x):a(y)}}const Np={partial:!0,tokenize:cw},Cp={concrete:!0,name:"codeFenced",tokenize:uw};function uw(t,r,a){const l=this,s={partial:!0,tokenize:F};let u=0,c=0,h;return m;function m(D){return p(D)}function p(D){const Z=l.events[l.events.length-1];return u=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,h=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(D)}function x(D){return D===h?(c++,t.consume(D),x):c<3?a(D):(t.exit("codeFencedFenceSequence"),Me(D)?Ue(t,y,"whitespace")(D):y(D))}function y(D){return D===null||be(D)?(t.exit("codeFencedFence"),l.interrupt?r(D):t.check(Np,T,q)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||be(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(D)):Me(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ue(t,b,"whitespace")(D)):D===96&&D===h?a(D):(t.consume(D),v)}function b(D){return D===null||be(D)?y(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(D))}function j(D){return D===null||be(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(D)):D===96&&D===h?a(D):(t.consume(D),j)}function T(D){return t.attempt(s,q,A)(D)}function A(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),N}function N(D){return u>0&&Me(D)?Ue(t,M,"linePrefix",u+1)(D):M(D)}function M(D){return D===null||be(D)?t.check(Np,T,q)(D):(t.enter("codeFlowValue"),C(D))}function C(D){return D===null||be(D)?(t.exit("codeFlowValue"),M(D)):(t.consume(D),C)}function q(D){return t.exit("codeFenced"),r(D)}function F(D,Z,ee){let oe=0;return L;function L(ae){return D.enter("lineEnding"),D.consume(ae),D.exit("lineEnding"),re}function re(ae){return D.enter("codeFencedFence"),Me(ae)?Ue(D,J,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):J(ae)}function J(ae){return ae===h?(D.enter("codeFencedFenceSequence"),le(ae)):ee(ae)}function le(ae){return ae===h?(oe++,D.consume(ae),le):oe>=c?(D.exit("codeFencedFenceSequence"),Me(ae)?Ue(D,te,"whitespace")(ae):te(ae)):ee(ae)}function te(ae){return ae===null||be(ae)?(D.exit("codeFencedFence"),Z(ae)):ee(ae)}}}function cw(t,r,a){const l=this;return s;function s(c){return c===null?a(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return l.parser.lazy[l.now().line]?a(c):r(c)}}const zc={name:"codeIndented",tokenize:fw},dw={partial:!0,tokenize:hw};function fw(t,r,a){const l=this;return s;function s(p){return t.enter("codeIndented"),Ue(t,u,"linePrefix",5)(p)}function u(p){const x=l.events[l.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(p):a(p)}function c(p){return p===null?m(p):be(p)?t.attempt(dw,c,m)(p):(t.enter("codeFlowValue"),h(p))}function h(p){return p===null||be(p)?(t.exit("codeFlowValue"),c(p)):(t.consume(p),h)}function m(p){return t.exit("codeIndented"),r(p)}}function hw(t,r,a){const l=this;return s;function s(c){return l.parser.lazy[l.now().line]?a(c):be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):Ue(t,u,"linePrefix",5)(c)}function u(c){const h=l.events[l.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):be(c)?s(c):a(c)}}const mw={name:"codeText",previous:gw,resolve:pw,tokenize:xw};function pw(t){let r=t.length-4,a=3,l,s;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(l=a;++l<r;)if(t[l][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[r][1].type="codeTextPadding",a+=2,r-=2;break}}for(l=a-1,r++;++l<=r;)s===void 0?l!==r&&t[l][1].type!=="lineEnding"&&(s=l):(l===r||t[l][1].type==="lineEnding")&&(t[s][1].type="codeTextData",l!==s+2&&(t[s][1].end=t[l-1][1].end,t.splice(s+2,l-s-2),r-=l-s-2,l=s+2),s=void 0);return t}function gw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xw(t,r,a){let l=0,s,u;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),l++,h):(t.exit("codeTextSequence"),m(y))}function m(y){return y===null?a(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),m):y===96?(u=t.enter("codeTextSequence"),s=0,x(y)):be(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),m):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||be(y)?(t.exit("codeTextData"),m(y)):(t.consume(y),p)}function x(y){return y===96?(t.consume(y),s++,x):s===l?(t.exit("codeTextSequence"),t.exit("codeText"),r(y)):(u.type="codeTextData",p(y))}}class yw{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,a){const l=a??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(r,l):r>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(r,a,l){const s=a||0;this.setCursor(Math.trunc(r));const u=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return l&&ul(this.left,l),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),ul(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),ul(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const a=this.left.splice(r,Number.POSITIVE_INFINITY);ul(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);ul(this.left,a.reverse())}}}function ul(t,r){let a=0;if(r.length<1e4)t.push(...r);else for(;a<r.length;)t.push(...r.slice(a,a+1e4)),a+=1e4}function ox(t){const r={};let a=-1,l,s,u,c,h,m,p;const x=new yw(t);for(;++a<x.length;){for(;a in r;)a=r[a];if(l=x.get(a),a&&l[1].type==="chunkFlow"&&x.get(a-1)[1].type==="listItemPrefix"&&(m=l[1]._tokenizer.events,u=0,u<m.length&&m[u][1].type==="lineEndingBlank"&&(u+=2),u<m.length&&m[u][1].type==="content"))for(;++u<m.length&&m[u][1].type!=="content";)m[u][1].type==="chunkText"&&(m[u][1]._isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(Object.assign(r,bw(x,a)),a=r[a],p=!0);else if(l[1]._container){for(u=a,s=void 0;u--;)if(c=x.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(l[1].end={...x.get(s)[1].start},h=x.slice(s,a),h.unshift(l),x.splice(s,a-s+1,h))}}return Zt(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!p}function bw(t,r){const a=t.get(r)[1],l=t.get(r)[2];let s=r-1;const u=[];let c=a._tokenizer;c||(c=l.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,m=[],p={};let x,y,v=-1,b=a,j=0,T=0;const A=[T];for(;b;){for(;t.get(++s)[1]!==b;);u.push(s),b._tokenizer||(x=l.sliceStream(b),b.next||x.push(null),y&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=a;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(T=v+1,A.push(T),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):A.pop(),v=A.length;v--;){const N=h.slice(A[v],A[v+1]),M=u.pop();m.push([M,M+N.length-1]),t.splice(M,2,N)}for(m.reverse(),v=-1;++v<m.length;)p[j+m[v][0]]=j+m[v][1],j+=m[v][1]-m[v][0]-1;return p}const vw={resolve:kw,tokenize:Sw},ww={partial:!0,tokenize:jw};function kw(t){return ox(t),t}function Sw(t,r){let a;return l;function l(h){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?u(h):be(h)?t.check(ww,c,u)(h):(t.consume(h),s)}function u(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function c(h){return t.consume(h),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,s}}function jw(t,r,a){const l=this;return s;function s(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ue(t,u,"linePrefix")}function u(c){if(c===null||be(c))return a(c);const h=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):t.interrupt(l.parser.constructs.flow,a,r)(c)}}function ux(t,r,a,l,s,u,c,h,m){const p=m||Number.POSITIVE_INFINITY;let x=0;return y;function y(N){return N===60?(t.enter(l),t.enter(s),t.enter(u),t.consume(N),t.exit(u),v):N===null||N===32||N===41||ro(N)?a(N):(t.enter(l),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),T(N))}function v(N){return N===62?(t.enter(u),t.consume(N),t.exit(u),t.exit(s),t.exit(l),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===62?(t.exit("chunkString"),t.exit(h),v(N)):N===null||N===60||be(N)?a(N):(t.consume(N),N===92?j:b)}function j(N){return N===60||N===62||N===92?(t.consume(N),b):b(N)}function T(N){return!x&&(N===null||N===41||Xe(N))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(l),r(N)):x<p&&N===40?(t.consume(N),x++,T):N===41?(t.consume(N),x--,T):N===null||N===32||N===40||ro(N)?a(N):(t.consume(N),N===92?A:T)}function A(N){return N===40||N===41||N===92?(t.consume(N),T):T(N)}}function cx(t,r,a,l,s,u){const c=this;let h=0,m;return p;function p(b){return t.enter(l),t.enter(s),t.consume(b),t.exit(s),t.enter(u),x}function x(b){return h>999||b===null||b===91||b===93&&!m||b===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):b===93?(t.exit(u),t.enter(s),t.consume(b),t.exit(s),t.exit(l),r):be(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||be(b)||h++>999?(t.exit("chunkString"),x(b)):(t.consume(b),m||(m=!Me(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),h++,y):y(b)}}function dx(t,r,a,l,s,u){let c;return h;function h(v){return v===34||v===39||v===40?(t.enter(l),t.enter(s),t.consume(v),t.exit(s),c=v===40?41:v,m):a(v)}function m(v){return v===c?(t.enter(s),t.consume(v),t.exit(s),t.exit(l),r):(t.enter(u),p(v))}function p(v){return v===c?(t.exit(u),m(c)):v===null?a(v):be(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Ue(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||be(v)?(t.exit("chunkString"),p(v)):(t.consume(v),v===92?y:x)}function y(v){return v===c||v===92?(t.consume(v),x):x(v)}}function ml(t,r){let a;return l;function l(s){return be(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a=!0,l):Me(s)?Ue(t,l,a?"linePrefix":"lineSuffix")(s):r(s)}}const _w={name:"definition",tokenize:Tw},Ew={partial:!0,tokenize:Aw};function Tw(t,r,a){const l=this;let s;return u;function u(b){return t.enter("definition"),c(b)}function c(b){return cx.call(l,t,h,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return s=pn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),m):a(b)}function m(b){return Xe(b)?ml(t,p)(b):p(b)}function p(b){return ux(t,x,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function x(b){return t.attempt(Ew,y,y)(b)}function y(b){return Me(b)?Ue(t,v,"whitespace")(b):v(b)}function v(b){return b===null||be(b)?(t.exit("definition"),l.parser.defined.push(s),r(b)):a(b)}}function Aw(t,r,a){return l;function l(h){return Xe(h)?ml(t,s)(h):a(h)}function s(h){return dx(t,u,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return Me(h)?Ue(t,c,"whitespace")(h):c(h)}function c(h){return h===null||be(h)?r(h):a(h)}}const Nw={name:"hardBreakEscape",tokenize:Cw};function Cw(t,r,a){return l;function l(u){return t.enter("hardBreakEscape"),t.consume(u),s}function s(u){return be(u)?(t.exit("hardBreakEscape"),r(u)):a(u)}}const Rw={name:"headingAtx",resolve:Ow,tokenize:Dw};function Ow(t,r){let a=t.length-2,l=3,s,u;return t[l][1].type==="whitespace"&&(l+=2),a-2>l&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(l===a-1||a-4>l&&t[a-2][1].type==="whitespace")&&(a-=l+1===a?2:4),a>l&&(s={type:"atxHeadingText",start:t[l][1].start,end:t[a][1].end},u={type:"chunkText",start:t[l][1].start,end:t[a][1].end,contentType:"text"},Zt(t,l,a-l+1,[["enter",s,r],["enter",u,r],["exit",u,r],["exit",s,r]])),t}function Dw(t,r,a){let l=0;return s;function s(x){return t.enter("atxHeading"),u(x)}function u(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&l++<6?(t.consume(x),c):x===null||Xe(x)?(t.exit("atxHeadingSequence"),h(x)):a(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),m(x)):x===null||be(x)?(t.exit("atxHeading"),r(x)):Me(x)?Ue(t,h,"whitespace")(x):(t.enter("atxHeadingText"),p(x))}function m(x){return x===35?(t.consume(x),m):(t.exit("atxHeadingSequence"),h(x))}function p(x){return x===null||x===35||Xe(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),p)}}const Lw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Rp=["pre","script","style","textarea"],Mw={concrete:!0,name:"htmlFlow",resolveTo:Bw,tokenize:Pw},zw={partial:!0,tokenize:qw},Uw={partial:!0,tokenize:Iw};function Bw(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function Pw(t,r,a){const l=this;let s,u,c,h,m;return p;function p(_){return x(_)}function x(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),y}function y(_){return _===33?(t.consume(_),v):_===47?(t.consume(_),u=!0,T):_===63?(t.consume(_),s=3,l.interrupt?r:k):Lt(_)?(t.consume(_),c=String.fromCharCode(_),A):a(_)}function v(_){return _===45?(t.consume(_),s=2,b):_===91?(t.consume(_),s=5,h=0,j):Lt(_)?(t.consume(_),s=4,l.interrupt?r:k):a(_)}function b(_){return _===45?(t.consume(_),l.interrupt?r:k):a(_)}function j(_){const ue="CDATA[";return _===ue.charCodeAt(h++)?(t.consume(_),h===ue.length?l.interrupt?r:J:j):a(_)}function T(_){return Lt(_)?(t.consume(_),c=String.fromCharCode(_),A):a(_)}function A(_){if(_===null||_===47||_===62||Xe(_)){const ue=_===47,ge=c.toLowerCase();return!ue&&!u&&Rp.includes(ge)?(s=1,l.interrupt?r(_):J(_)):Lw.includes(c.toLowerCase())?(s=6,ue?(t.consume(_),N):l.interrupt?r(_):J(_)):(s=7,l.interrupt&&!l.parser.lazy[l.now().line]?a(_):u?M(_):C(_))}return _===45||Ct(_)?(t.consume(_),c+=String.fromCharCode(_),A):a(_)}function N(_){return _===62?(t.consume(_),l.interrupt?r:J):a(_)}function M(_){return Me(_)?(t.consume(_),M):L(_)}function C(_){return _===47?(t.consume(_),L):_===58||_===95||Lt(_)?(t.consume(_),q):Me(_)?(t.consume(_),C):L(_)}function q(_){return _===45||_===46||_===58||_===95||Ct(_)?(t.consume(_),q):F(_)}function F(_){return _===61?(t.consume(_),D):Me(_)?(t.consume(_),F):C(_)}function D(_){return _===null||_===60||_===61||_===62||_===96?a(_):_===34||_===39?(t.consume(_),m=_,Z):Me(_)?(t.consume(_),D):ee(_)}function Z(_){return _===m?(t.consume(_),m=null,oe):_===null||be(_)?a(_):(t.consume(_),Z)}function ee(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Xe(_)?F(_):(t.consume(_),ee)}function oe(_){return _===47||_===62||Me(_)?C(_):a(_)}function L(_){return _===62?(t.consume(_),re):a(_)}function re(_){return _===null||be(_)?J(_):Me(_)?(t.consume(_),re):a(_)}function J(_){return _===45&&s===2?(t.consume(_),B):_===60&&s===1?(t.consume(_),K):_===62&&s===4?(t.consume(_),G):_===63&&s===3?(t.consume(_),k):_===93&&s===5?(t.consume(_),he):be(_)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(zw,V,le)(_)):_===null||be(_)?(t.exit("htmlFlowData"),le(_)):(t.consume(_),J)}function le(_){return t.check(Uw,te,V)(_)}function te(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),ae}function ae(_){return _===null||be(_)?le(_):(t.enter("htmlFlowData"),J(_))}function B(_){return _===45?(t.consume(_),k):J(_)}function K(_){return _===47?(t.consume(_),c="",se):J(_)}function se(_){if(_===62){const ue=c.toLowerCase();return Rp.includes(ue)?(t.consume(_),G):J(_)}return Lt(_)&&c.length<8?(t.consume(_),c+=String.fromCharCode(_),se):J(_)}function he(_){return _===93?(t.consume(_),k):J(_)}function k(_){return _===62?(t.consume(_),G):_===45&&s===2?(t.consume(_),k):J(_)}function G(_){return _===null||be(_)?(t.exit("htmlFlowData"),V(_)):(t.consume(_),G)}function V(_){return t.exit("htmlFlow"),r(_)}}function Iw(t,r,a){const l=this;return s;function s(c){return be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):a(c)}function u(c){return l.parser.lazy[l.now().line]?a(c):r(c)}}function qw(t,r,a){return l;function l(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(_l,r,a)}}const Hw={name:"htmlText",tokenize:$w};function $w(t,r,a){const l=this;let s,u,c;return h;function h(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),m}function m(k){return k===33?(t.consume(k),p):k===47?(t.consume(k),F):k===63?(t.consume(k),C):Lt(k)?(t.consume(k),ee):a(k)}function p(k){return k===45?(t.consume(k),x):k===91?(t.consume(k),u=0,j):Lt(k)?(t.consume(k),M):a(k)}function x(k){return k===45?(t.consume(k),b):a(k)}function y(k){return k===null?a(k):k===45?(t.consume(k),v):be(k)?(c=y,K(k)):(t.consume(k),y)}function v(k){return k===45?(t.consume(k),b):y(k)}function b(k){return k===62?B(k):k===45?v(k):y(k)}function j(k){const G="CDATA[";return k===G.charCodeAt(u++)?(t.consume(k),u===G.length?T:j):a(k)}function T(k){return k===null?a(k):k===93?(t.consume(k),A):be(k)?(c=T,K(k)):(t.consume(k),T)}function A(k){return k===93?(t.consume(k),N):T(k)}function N(k){return k===62?B(k):k===93?(t.consume(k),N):T(k)}function M(k){return k===null||k===62?B(k):be(k)?(c=M,K(k)):(t.consume(k),M)}function C(k){return k===null?a(k):k===63?(t.consume(k),q):be(k)?(c=C,K(k)):(t.consume(k),C)}function q(k){return k===62?B(k):C(k)}function F(k){return Lt(k)?(t.consume(k),D):a(k)}function D(k){return k===45||Ct(k)?(t.consume(k),D):Z(k)}function Z(k){return be(k)?(c=Z,K(k)):Me(k)?(t.consume(k),Z):B(k)}function ee(k){return k===45||Ct(k)?(t.consume(k),ee):k===47||k===62||Xe(k)?oe(k):a(k)}function oe(k){return k===47?(t.consume(k),B):k===58||k===95||Lt(k)?(t.consume(k),L):be(k)?(c=oe,K(k)):Me(k)?(t.consume(k),oe):B(k)}function L(k){return k===45||k===46||k===58||k===95||Ct(k)?(t.consume(k),L):re(k)}function re(k){return k===61?(t.consume(k),J):be(k)?(c=re,K(k)):Me(k)?(t.consume(k),re):oe(k)}function J(k){return k===null||k===60||k===61||k===62||k===96?a(k):k===34||k===39?(t.consume(k),s=k,le):be(k)?(c=J,K(k)):Me(k)?(t.consume(k),J):(t.consume(k),te)}function le(k){return k===s?(t.consume(k),s=void 0,ae):k===null?a(k):be(k)?(c=le,K(k)):(t.consume(k),le)}function te(k){return k===null||k===34||k===39||k===60||k===61||k===96?a(k):k===47||k===62||Xe(k)?oe(k):(t.consume(k),te)}function ae(k){return k===47||k===62||Xe(k)?oe(k):a(k)}function B(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),r):a(k)}function K(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),se}function se(k){return Me(k)?Ue(t,he,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):he(k)}function he(k){return t.enter("htmlTextData"),c(k)}}const Hd={name:"labelEnd",resolveAll:Vw,resolveTo:Qw,tokenize:Xw},Fw={tokenize:Kw},Gw={tokenize:Zw},Yw={tokenize:Jw};function Vw(t){let r=-1;const a=[];for(;++r<t.length;){const l=t[r][1];if(a.push(t[r]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const s=l.type==="labelImage"?4:2;l.type="data",r+=s}}return t.length!==a.length&&Zt(t,0,t.length,a),t}function Qw(t,r){let a=t.length,l=0,s,u,c,h;for(;a--;)if(s=t[a][1],u){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[a][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(t[a][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(u=a,s.type!=="labelLink")){l=2;break}}else s.type==="labelEnd"&&(c=a);const m={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[u+l+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",m,r],["enter",p,r]],h=on(h,t.slice(u+1,u+l+3)),h=on(h,[["enter",x,r]]),h=on(h,fo(r.parser.constructs.insideSpan.null,t.slice(u+l+4,c-3),r)),h=on(h,[["exit",x,r],t[c-2],t[c-1],["exit",p,r]]),h=on(h,t.slice(c+1)),h=on(h,[["exit",m,r]]),Zt(t,u,t.length,h),t}function Xw(t,r,a){const l=this;let s=l.events.length,u,c;for(;s--;)if((l.events[s][1].type==="labelImage"||l.events[s][1].type==="labelLink")&&!l.events[s][1]._balanced){u=l.events[s][1];break}return h;function h(v){return u?u._inactive?y(v):(c=l.parser.defined.includes(pn(l.sliceSerialize({start:u.end,end:l.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),m):a(v)}function m(v){return v===40?t.attempt(Fw,x,c?x:y)(v):v===91?t.attempt(Gw,x,c?p:y)(v):c?x(v):y(v)}function p(v){return t.attempt(Yw,x,y)(v)}function x(v){return r(v)}function y(v){return u._balanced=!0,a(v)}}function Kw(t,r,a){return l;function l(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Xe(y)?ml(t,u)(y):u(y)}function u(y){return y===41?x(y):ux(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Xe(y)?ml(t,m)(y):x(y)}function h(y){return a(y)}function m(y){return y===34||y===39||y===40?dx(t,p,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function p(y){return Xe(y)?ml(t,x)(y):x(y)}function x(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),r):a(y)}}function Zw(t,r,a){const l=this;return s;function s(h){return cx.call(l,t,u,c,"reference","referenceMarker","referenceString")(h)}function u(h){return l.parser.defined.includes(pn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?r(h):a(h)}function c(h){return a(h)}}function Jw(t,r,a){return l;function l(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),s}function s(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),r):a(u)}}const Ww={name:"labelStartImage",resolveAll:Hd.resolveAll,tokenize:ek};function ek(t,r,a){const l=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),u}function u(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):a(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in l.parser.constructs?a(h):r(h)}}const tk={name:"labelStartLink",resolveAll:Hd.resolveAll,tokenize:nk};function nk(t,r,a){const l=this;return s;function s(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in l.parser.constructs?a(c):r(c)}}const Uc={name:"lineEnding",tokenize:rk};function rk(t,r){return a;function a(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ue(t,r,"linePrefix")}}const Js={name:"thematicBreak",tokenize:ak};function ak(t,r,a){let l=0,s;return u;function u(p){return t.enter("thematicBreak"),c(p)}function c(p){return s=p,h(p)}function h(p){return p===s?(t.enter("thematicBreakSequence"),m(p)):l>=3&&(p===null||be(p))?(t.exit("thematicBreak"),r(p)):a(p)}function m(p){return p===s?(t.consume(p),l++,m):(t.exit("thematicBreakSequence"),Me(p)?Ue(t,h,"whitespace")(p):h(p))}}const qt={continuation:{tokenize:ok},exit:ck,name:"list",tokenize:sk},ik={partial:!0,tokenize:dk},lk={partial:!0,tokenize:uk};function sk(t,r,a){const l=this,s=l.events[l.events.length-1];let u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return h;function h(b){const j=l.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!l.containerState.marker||b===l.containerState.marker:xd(b)){if(l.containerState.type||(l.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Js,a,p)(b):p(b);if(!l.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(b)}return a(b)}function m(b){return xd(b)&&++c<10?(t.consume(b),m):(!l.interrupt||c<2)&&(l.containerState.marker?b===l.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),p(b)):a(b)}function p(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||b,t.check(_l,l.interrupt?a:x,t.attempt(ik,v,y))}function x(b){return l.containerState.initialBlankLine=!0,u++,v(b)}function y(b){return Me(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):a(b)}function v(b){return l.containerState.size=u+l.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(b)}}function ok(t,r,a){const l=this;return l.containerState._closeFlow=void 0,t.check(_l,s,u);function s(h){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,Ue(t,r,"listItemIndent",l.containerState.size+1)(h)}function u(h){return l.containerState.furtherBlankLines||!Me(h)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,c(h)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,t.attempt(lk,r,c)(h))}function c(h){return l.containerState._closeFlow=!0,l.interrupt=void 0,Ue(t,t.attempt(qt,r,a),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function uk(t,r,a){const l=this;return Ue(t,s,"listItemIndent",l.containerState.size+1);function s(u){const c=l.events[l.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===l.containerState.size?r(u):a(u)}}function ck(t){t.exit(this.containerState.type)}function dk(t,r,a){const l=this;return Ue(t,s,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(u){const c=l.events[l.events.length-1];return!Me(u)&&c&&c[1].type==="listItemPrefixWhitespace"?r(u):a(u)}}const Op={name:"setextUnderline",resolveTo:fk,tokenize:hk};function fk(t,r){let a=t.length,l,s,u;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){l=a;break}t[a][1].type==="paragraph"&&(s=a)}else t[a][1].type==="content"&&t.splice(a,1),!u&&t[a][1].type==="definition"&&(u=a);const c={type:"setextHeading",start:{...t[l][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",u?(t.splice(s,0,["enter",c,r]),t.splice(u+1,0,["exit",t[l][1],r]),t[l][1].end={...t[u][1].end}):t[l][1]=c,t.push(["exit",c,r]),t}function hk(t,r,a){const l=this;let s;return u;function u(p){let x=l.events.length,y;for(;x--;)if(l.events[x][1].type!=="lineEnding"&&l.events[x][1].type!=="linePrefix"&&l.events[x][1].type!=="content"){y=l.events[x][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||y)?(t.enter("setextHeadingLine"),s=p,c(p)):a(p)}function c(p){return t.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===s?(t.consume(p),h):(t.exit("setextHeadingLineSequence"),Me(p)?Ue(t,m,"lineSuffix")(p):m(p))}function m(p){return p===null||be(p)?(t.exit("setextHeadingLine"),r(p)):a(p)}}const mk={tokenize:pk};function pk(t){const r=this,a=t.attempt(_l,l,t.attempt(this.parser.constructs.flowInitial,s,Ue(t,t.attempt(this.parser.constructs.flow,s,t.attempt(vw,s)),"linePrefix")));return a;function l(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),r.currentConstruct=void 0,a}function s(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),r.currentConstruct=void 0,a}}const gk={resolveAll:hx()},xk=fx("string"),yk=fx("text");function fx(t){return{resolveAll:hx(t==="text"?bk:void 0),tokenize:r};function r(a){const l=this,s=this.parser.constructs[t],u=a.attempt(s,c,h);return c;function c(x){return p(x)?u(x):h(x)}function h(x){if(x===null){a.consume(x);return}return a.enter("data"),a.consume(x),m}function m(x){return p(x)?(a.exit("data"),u(x)):(a.consume(x),m)}function p(x){if(x===null)return!0;const y=s[x];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(l,l.previous))return!0}return!1}}}function hx(t){return r;function r(a,l){let s=-1,u;for(;++s<=a.length;)u===void 0?a[s]&&a[s][1].type==="data"&&(u=s,s++):(!a[s]||a[s][1].type!=="data")&&(s!==u+2&&(a[u][1].end=a[s-1][1].end,a.splice(u+2,s-u-2),s=u+2),u=void 0);return t?t(a,l):a}}function bk(t,r){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const l=t[a-1][1],s=r.sliceStream(l);let u=s.length,c=-1,h=0,m;for(;u--;){const p=s[u];if(typeof p=="string"){for(c=p.length;p.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(p===-2)m=!0,h++;else if(p!==-1){u++;break}}if(r._contentTypeTextTrailing&&a===t.length&&(h=0),h){const p={type:a===t.length||m||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:l.start._bufferIndex+c,_index:l.start._index+u,line:l.end.line,column:l.end.column-h,offset:l.end.offset-h},end:{...l.end}};l.end={...p.start},l.start.offset===l.end.offset?Object.assign(l,p):(t.splice(a,0,["enter",p,r],["exit",p,r]),a+=2)}a++}return t}const vk={42:qt,43:qt,45:qt,48:qt,49:qt,50:qt,51:qt,52:qt,53:qt,54:qt,55:qt,56:qt,57:qt,62:ix},wk={91:_w},kk={[-2]:zc,[-1]:zc,32:zc},Sk={35:Rw,42:Js,45:[Op,Js],60:Mw,61:Op,95:Js,96:Cp,126:Cp},jk={38:sx,92:lx},_k={[-5]:Uc,[-4]:Uc,[-3]:Uc,33:Ww,38:sx,42:yd,60:[tw,Hw],91:tk,92:[Nw,lx],93:Hd,95:yd,96:mw},Ek={null:[yd,gk]},Tk={null:[42,95]},Ak={null:[]},Nk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Tk,contentInitial:wk,disable:Ak,document:vk,flow:Sk,flowInitial:kk,insideSpan:Ek,string:jk,text:_k},Symbol.toStringTag,{value:"Module"}));function Ck(t,r,a){let l={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const s={},u=[];let c=[],h=[];const m={attempt:Z(F),check:Z(D),consume:M,enter:C,exit:q,interrupt:Z(D,{interrupt:!0})},p={code:null,containerState:{},defineSkip:T,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let x=r.tokenize.call(p,m);return r.resolveAll&&u.push(r),p;function y(re){return c=on(c,re),A(),c[c.length-1]!==null?[]:(ee(r,0),p.events=fo(u,p.events,p),p.events)}function v(re,J){return Ok(b(re),J)}function b(re){return Rk(c,re)}function j(){const{_bufferIndex:re,_index:J,line:le,column:te,offset:ae}=l;return{_bufferIndex:re,_index:J,line:le,column:te,offset:ae}}function T(re){s[re.line]=re.column,L()}function A(){let re;for(;l._index<c.length;){const J=c[l._index];if(typeof J=="string")for(re=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===re&&l._bufferIndex<J.length;)N(J.charCodeAt(l._bufferIndex));else N(J)}}function N(re){x=x(re)}function M(re){be(re)?(l.line++,l.column=1,l.offset+=re===-3?2:1,L()):re!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===c[l._index].length&&(l._bufferIndex=-1,l._index++)),p.previous=re}function C(re,J){const le=J||{};return le.type=re,le.start=j(),p.events.push(["enter",le,p]),h.push(le),le}function q(re){const J=h.pop();return J.end=j(),p.events.push(["exit",J,p]),J}function F(re,J){ee(re,J.from)}function D(re,J){J.restore()}function Z(re,J){return le;function le(te,ae,B){let K,se,he,k;return Array.isArray(te)?V(te):"tokenize"in te?V([te]):G(te);function G(de){return $e;function $e(je){const et=je!==null&&de[je],Ve=je!==null&&de.null,_t=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return V(_t)(je)}}function V(de){return K=de,se=0,de.length===0?B:_(de[se])}function _(de){return $e;function $e(je){return k=oe(),he=de,de.partial||(p.currentConstruct=de),de.name&&p.parser.constructs.disable.null.includes(de.name)?ge():de.tokenize.call(J?Object.assign(Object.create(p),J):p,m,ue,ge)(je)}}function ue(de){return re(he,k),ae}function ge(de){return k.restore(),++se<K.length?_(K[se]):B}}}function ee(re,J){re.resolveAll&&!u.includes(re)&&u.push(re),re.resolve&&Zt(p.events,J,p.events.length-J,re.resolve(p.events.slice(J),p)),re.resolveTo&&(p.events=re.resolveTo(p.events,p))}function oe(){const re=j(),J=p.previous,le=p.currentConstruct,te=p.events.length,ae=Array.from(h);return{from:te,restore:B};function B(){l=re,p.previous=J,p.currentConstruct=le,p.events.length=te,h=ae,L()}}function L(){l.line in s&&l.column<2&&(l.column=s[l.line],l.offset+=s[l.line]-1)}}function Rk(t,r){const a=r.start._index,l=r.start._bufferIndex,s=r.end._index,u=r.end._bufferIndex;let c;if(a===s)c=[t[a].slice(l,u)];else{if(c=t.slice(a,s),l>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(l):c.shift()}u>0&&c.push(t[s].slice(0,u))}return c}function Ok(t,r){let a=-1;const l=[];let s;for(;++a<t.length;){const u=t[a];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=r?" ":"	";break}case-1:{if(!r&&s)continue;c=" ";break}default:c=String.fromCharCode(u)}s=u===-2,l.push(c)}return l.join("")}function Dk(t){const l={constructs:rx([Nk,...(t||{}).extensions||[]]),content:s(Q1),defined:[],document:s(K1),flow:s(mk),lazy:{},string:s(xk),text:s(yk)};return l;function s(u){return c;function c(h){return Ck(l,u,h)}}}function Lk(t){for(;!ox(t););return t}const Dp=/[\0\t\n\r]/g;function Mk(){let t=1,r="",a=!0,l;return s;function s(u,c,h){const m=[];let p,x,y,v,b;for(u=r+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),y=0,r="",a&&(u.charCodeAt(0)===65279&&y++,a=void 0);y<u.length;){if(Dp.lastIndex=y,p=Dp.exec(u),v=p&&p.index!==void 0?p.index:u.length,b=u.charCodeAt(v),!p){r=u.slice(y);break}if(b===10&&y===v&&l)m.push(-3),l=void 0;else switch(l&&(m.push(-5),l=void 0),y<v&&(m.push(u.slice(y,v)),t+=v-y),b){case 0:{m.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,m.push(-2);t++<x;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:l=!0,t=1}y=v+1}return h&&(l&&m.push(-5),r&&m.push(r),m.push(null)),m}}const zk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Uk(t){return t.replace(zk,Bk)}function Bk(t,r,a){if(r)return r;if(a.charCodeAt(0)===35){const s=a.charCodeAt(1),u=s===120||s===88;return ax(a.slice(u?2:1),u?16:10)}return qd(a)||t}const mx={}.hasOwnProperty;function Pk(t,r,a){return typeof r!="string"&&(a=r,r=void 0),Ik(a)(Lk(Dk(a).document().write(Mk()(t,r,!0))))}function Ik(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Tr),autolinkProtocol:oe,autolinkEmail:oe,atxHeading:u(Yn),blockQuote:u(Ve),characterEscape:oe,characterReference:oe,codeFenced:u(_t),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(_t,c),codeText:u(Ce,c),codeTextData:oe,data:oe,codeFlowValue:oe,definition:u(it),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(ht),hardBreakEscape:u(Vn),hardBreakTrailing:u(Vn),htmlFlow:u(nt,c),htmlFlowData:oe,htmlText:u(nt,c),htmlTextData:oe,image:u(ii),label:c,link:u(Tr),listItem:u(Qn),listItemValue:v,listOrdered:u(Ar,y),listUnordered:u(Ar),paragraph:u(li),reference:_,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Yn),strong:u(gn),thematicBreak:u(si)},exit:{atxHeading:m(),atxHeadingSequence:F,autolink:m(),autolinkEmail:et,autolinkProtocol:je,blockQuote:m(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:de,characterReference:$e,codeFenced:m(A),codeFencedFence:T,codeFencedFenceInfo:b,codeFencedFenceMeta:j,codeFlowValue:L,codeIndented:m(N),codeText:m(ae),codeTextData:L,data:L,definition:m(),definitionDestinationString:q,definitionLabelString:M,definitionTitleString:C,emphasis:m(),hardBreakEscape:m(J),hardBreakTrailing:m(J),htmlFlow:m(le),htmlFlowData:L,htmlText:m(te),htmlTextData:L,image:m(K),label:he,labelText:se,lineEnding:re,link:m(B),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ue,resourceDestinationString:k,resourceTitleString:G,resource:V,setextHeading:m(ee),setextHeadingLineSequence:Z,setextHeadingText:D,strong:m(),thematicBreak:m()}};px(r,(t||{}).mdastExtensions||[]);const a={};return l;function l(H){let ne={type:"root",children:[]};const xe={stack:[ne],tokenStack:[],config:r,enter:h,exit:p,buffer:c,resume:x,data:a},ve=[];let Be=-1;for(;++Be<H.length;)if(H[Be][1].type==="listOrdered"||H[Be][1].type==="listUnordered")if(H[Be][0]==="enter")ve.push(Be);else{const Ot=ve.pop();Be=s(H,Ot,Be)}for(Be=-1;++Be<H.length;){const Ot=r[H[Be][0]];mx.call(Ot,H[Be][1].type)&&Ot[H[Be][1].type].call(Object.assign({sliceSerialize:H[Be][2].sliceSerialize},xe),H[Be][1])}if(xe.tokenStack.length>0){const Ot=xe.tokenStack[xe.tokenStack.length-1];(Ot[1]||Lp).call(xe,void 0,Ot[0])}for(ne.position={start:yr(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:yr(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<r.transforms.length;)ne=r.transforms[Be](ne)||ne;return ne}function s(H,ne,xe){let ve=ne-1,Be=-1,Ot=!1,un,W,ce,ye;for(;++ve<=xe;){const me=H[ve];switch(me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{me[0]==="enter"?Be++:Be--,ye=void 0;break}case"lineEndingBlank":{me[0]==="enter"&&(un&&!ye&&!Be&&!ce&&(ce=ve),ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ye=void 0}if(!Be&&me[0]==="enter"&&me[1].type==="listItemPrefix"||Be===-1&&me[0]==="exit"&&(me[1].type==="listUnordered"||me[1].type==="listOrdered")){if(un){let Ae=ve;for(W=void 0;Ae--;){const wt=H[Ae];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;W&&(H[W][1].type="lineEndingBlank",Ot=!0),wt[1].type="lineEnding",W=Ae}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}ce&&(!W||ce<W)&&(un._spread=!0),un.end=Object.assign({},W?H[W][1].start:me[1].end),H.splice(W||ve,0,["exit",un,me[2]]),ve++,xe++}if(me[1].type==="listItemPrefix"){const Ae={type:"listItem",_spread:!1,start:Object.assign({},me[1].start),end:void 0};un=Ae,H.splice(ve,0,["enter",Ae,me[2]]),ve++,xe++,ce=void 0,ye=!0}}}return H[ne][1]._spread=Ot,xe}function u(H,ne){return xe;function xe(ve){h.call(this,H(ve),ve),ne&&ne.call(this,ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(H,ne,xe){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([ne,xe||void 0]),H.position={start:yr(ne.start),end:void 0}}function m(H){return ne;function ne(xe){H&&H.call(this,xe),p.call(this,xe)}}function p(H,ne){const xe=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==H.type&&(ne?ne.call(this,H,ve[0]):(ve[1]||Lp).call(this,H,ve[0]));else throw new Error("Cannot close `"+H.type+"` ("+hl({start:H.start,end:H.end})+"): its not open");xe.position.end=yr(H.end)}function x(){return Id(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(H){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function b(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=H}function j(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=H}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H.replace(/(\r?\n|\r)$/g,"")}function M(H){const ne=this.resume(),xe=this.stack[this.stack.length-1];xe.label=ne,xe.identifier=pn(this.sliceSerialize(H)).toLowerCase()}function C(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.title=H}function q(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.url=H}function F(H){const ne=this.stack[this.stack.length-1];if(!ne.depth){const xe=this.sliceSerialize(H).length;ne.depth=xe}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function Z(H){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function ee(){this.data.setextHeadingSlurpLineEnding=void 0}function oe(H){const xe=this.stack[this.stack.length-1].children;let ve=xe[xe.length-1];(!ve||ve.type!=="text")&&(ve=Nr(),ve.position={start:yr(H.start),end:void 0},xe.push(ve)),this.stack.push(ve)}function L(H){const ne=this.stack.pop();ne.value+=this.sliceSerialize(H),ne.position.end=yr(H.end)}function re(H){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=ne.children[ne.children.length-1];xe.position.end=yr(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(ne.type)&&(oe.call(this,H),L.call(this,H))}function J(){this.data.atHardBreak=!0}function le(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function te(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function ae(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.value=H}function B(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ne,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function K(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=ne,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function se(H){const ne=this.sliceSerialize(H),xe=this.stack[this.stack.length-2];xe.label=Uk(ne),xe.identifier=pn(ne).toLowerCase()}function he(){const H=this.stack[this.stack.length-1],ne=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const ve=H.children;xe.children=ve}else xe.alt=ne}function k(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.url=H}function G(){const H=this.resume(),ne=this.stack[this.stack.length-1];ne.title=H}function V(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function ue(H){const ne=this.resume(),xe=this.stack[this.stack.length-1];xe.label=ne,xe.identifier=pn(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function ge(H){this.data.characterReferenceType=H.type}function de(H){const ne=this.sliceSerialize(H),xe=this.data.characterReferenceType;let ve;xe?(ve=ax(ne,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=qd(ne);const Be=this.stack[this.stack.length-1];Be.value+=ve}function $e(H){const ne=this.stack.pop();ne.position.end=yr(H.end)}function je(H){L.call(this,H);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(H)}function et(H){L.call(this,H);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(H)}function Ve(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function it(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ht(){return{type:"emphasis",children:[]}}function Yn(){return{type:"heading",depth:0,children:[]}}function Vn(){return{type:"break"}}function nt(){return{type:"html",value:""}}function ii(){return{type:"image",title:null,url:"",alt:null}}function Tr(){return{type:"link",title:null,url:"",children:[]}}function Ar(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function Qn(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function li(){return{type:"paragraph",children:[]}}function gn(){return{type:"strong",children:[]}}function Nr(){return{type:"text",value:""}}function si(){return{type:"thematicBreak"}}}function yr(t){return{line:t.line,column:t.column,offset:t.offset}}function px(t,r){let a=-1;for(;++a<r.length;){const l=r[a];Array.isArray(l)?px(t,l):qk(t,l)}}function qk(t,r){let a;for(a in r)if(mx.call(r,a))switch(a){case"canContainEols":{const l=r[a];l&&t[a].push(...l);break}case"transforms":{const l=r[a];l&&t[a].push(...l);break}case"enter":case"exit":{const l=r[a];l&&Object.assign(t[a],l);break}}}function Lp(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+hl({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+hl({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+hl({start:r.start,end:r.end})+") is still open")}function Hk(t){const r=this;r.parser=a;function a(l){return Pk(l,{...r.data("settings"),...t,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}function $k(t,r){const a={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,a),t.applyData(r,a)}function Fk(t,r){const a={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,a),[t.applyData(r,a),{type:"text",value:`
`}]}function Gk(t,r){const a=r.value?r.value+`
`:"",l={};r.lang&&(l.className=["language-"+r.lang]);let s={type:"element",tagName:"code",properties:l,children:[{type:"text",value:a}]};return r.meta&&(s.data={meta:r.meta}),t.patch(r,s),s=t.applyData(r,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(r,s),s}function Yk(t,r){const a={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Vk(t,r){const a={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Qk(t,r){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",l=String(r.identifier).toUpperCase(),s=ri(l.toLowerCase()),u=t.footnoteOrder.indexOf(l);let c,h=t.footnoteCounts.get(l);h===void 0?(h=0,t.footnoteOrder.push(l),c=t.footnoteOrder.length):c=u+1,h+=1,t.footnoteCounts.set(l,h);const m={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+s,id:a+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(r,m);const p={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(r,p),t.applyData(r,p)}function Xk(t,r){const a={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Kk(t,r){if(t.options.allowDangerousHtml){const a={type:"raw",value:r.value};return t.patch(r,a),t.applyData(r,a)}}function gx(t,r){const a=r.referenceType;let l="]";if(a==="collapsed"?l+="[]":a==="full"&&(l+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return[{type:"text",value:"!["+r.alt+l}];const s=t.all(r),u=s[0];u&&u.type==="text"?u.value="["+u.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=l:s.push({type:"text",value:l}),s}function Zk(t,r){const a=String(r.identifier).toUpperCase(),l=t.definitionById.get(a);if(!l)return gx(t,r);const s={src:ri(l.url||""),alt:r.alt};l.title!==null&&l.title!==void 0&&(s.title=l.title);const u={type:"element",tagName:"img",properties:s,children:[]};return t.patch(r,u),t.applyData(r,u)}function Jk(t,r){const a={src:ri(r.url)};r.alt!==null&&r.alt!==void 0&&(a.alt=r.alt),r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(r,l),t.applyData(r,l)}function Wk(t,r){const a={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,a);const l={type:"element",tagName:"code",properties:{},children:[a]};return t.patch(r,l),t.applyData(r,l)}function e2(t,r){const a=String(r.identifier).toUpperCase(),l=t.definitionById.get(a);if(!l)return gx(t,r);const s={href:ri(l.url||"")};l.title!==null&&l.title!==void 0&&(s.title=l.title);const u={type:"element",tagName:"a",properties:s,children:t.all(r)};return t.patch(r,u),t.applyData(r,u)}function t2(t,r){const a={href:ri(r.url)};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:t.all(r)};return t.patch(r,l),t.applyData(r,l)}function n2(t,r,a){const l=t.all(r),s=a?r2(a):xx(r),u={},c=[];if(typeof r.checked=="boolean"){const x=l[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},l.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<l.length;){const x=l[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?c.push(...x.children):c.push(x)}const m=l[l.length-1];m&&(s||m.type!=="element"||m.tagName!=="p")&&c.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:u,children:c};return t.patch(r,p),t.applyData(r,p)}function r2(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const a=t.children;let l=-1;for(;!r&&++l<a.length;)r=xx(a[l])}return r}function xx(t){const r=t.spread;return r??t.children.length>1}function a2(t,r){const a={},l=t.all(r);let s=-1;for(typeof r.start=="number"&&r.start!==1&&(a.start=r.start);++s<l.length;){const c=l[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const u={type:"element",tagName:r.ordered?"ol":"ul",properties:a,children:t.wrap(l,!0)};return t.patch(r,u),t.applyData(r,u)}function i2(t,r){const a={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function l2(t,r){const a={type:"root",children:t.wrap(t.all(r))};return t.patch(r,a),t.applyData(r,a)}function s2(t,r){const a={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function o2(t,r){const a=t.all(r),l=a.shift(),s=[];if(l){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([l],!0)};t.patch(r.children[0],c),s.push(c)}if(a.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(a,!0)},h=zd(r.children[1]),m=Kg(r.children[r.children.length-1]);h&&m&&(c.position={start:h,end:m}),s.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(r,u),t.applyData(r,u)}function u2(t,r,a){const l=a?a.children:void 0,u=(l?l.indexOf(r):1)===0?"th":"td",c=a&&a.type==="table"?a.align:void 0,h=c?c.length:r.children.length;let m=-1;const p=[];for(;++m<h;){const y=r.children[m],v={},b=c?c[m]:void 0;b&&(v.align=b);let j={type:"element",tagName:u,properties:v,children:[]};y&&(j.children=t.all(y),t.patch(y,j),j=t.applyData(y,j)),p.push(j)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(p,!0)};return t.patch(r,x),t.applyData(r,x)}function c2(t,r){const a={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}const Mp=9,zp=32;function d2(t){const r=String(t),a=/\r?\n|\r/g;let l=a.exec(r),s=0;const u=[];for(;l;)u.push(Up(r.slice(s,l.index),s>0,!0),l[0]),s=l.index+l[0].length,l=a.exec(r);return u.push(Up(r.slice(s),s>0,!1)),u.join("")}function Up(t,r,a){let l=0,s=t.length;if(r){let u=t.codePointAt(l);for(;u===Mp||u===zp;)l++,u=t.codePointAt(l)}if(a){let u=t.codePointAt(s-1);for(;u===Mp||u===zp;)s--,u=t.codePointAt(s-1)}return s>l?t.slice(l,s):""}function f2(t,r){const a={type:"text",value:d2(String(r.value))};return t.patch(r,a),t.applyData(r,a)}function h2(t,r){const a={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,a),t.applyData(r,a)}const m2={blockquote:$k,break:Fk,code:Gk,delete:Yk,emphasis:Vk,footnoteReference:Qk,heading:Xk,html:Kk,imageReference:Zk,image:Jk,inlineCode:Wk,linkReference:e2,link:t2,listItem:n2,list:a2,paragraph:i2,root:l2,strong:s2,table:o2,tableCell:c2,tableRow:u2,text:f2,thematicBreak:h2,toml:Ps,yaml:Ps,definition:Ps,footnoteDefinition:Ps};function Ps(){}const yx=-1,ho=0,pl=1,ao=2,$d=3,Fd=4,Gd=5,Yd=6,bx=7,vx=8,Bp=typeof self=="object"?self:globalThis,p2=(t,r)=>{const a=(s,u)=>(t.set(u,s),s),l=s=>{if(t.has(s))return t.get(s);const[u,c]=r[s];switch(u){case ho:case yx:return a(c,s);case pl:{const h=a([],s);for(const m of c)h.push(l(m));return h}case ao:{const h=a({},s);for(const[m,p]of c)h[l(m)]=l(p);return h}case $d:return a(new Date(c),s);case Fd:{const{source:h,flags:m}=c;return a(new RegExp(h,m),s)}case Gd:{const h=a(new Map,s);for(const[m,p]of c)h.set(l(m),l(p));return h}case Yd:{const h=a(new Set,s);for(const m of c)h.add(l(m));return h}case bx:{const{name:h,message:m}=c;return a(new Bp[h](m),s)}case vx:return a(BigInt(c),s);case"BigInt":return a(Object(BigInt(c)),s);case"ArrayBuffer":return a(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return a(new DataView(h),c)}}return a(new Bp[u](c),s)};return l},Pp=t=>p2(new Map,t)(0),qa="",{toString:g2}={},{keys:x2}=Object,cl=t=>{const r=typeof t;if(r!=="object"||!t)return[ho,r];const a=g2.call(t).slice(8,-1);switch(a){case"Array":return[pl,qa];case"Object":return[ao,qa];case"Date":return[$d,qa];case"RegExp":return[Fd,qa];case"Map":return[Gd,qa];case"Set":return[Yd,qa];case"DataView":return[pl,a]}return a.includes("Array")?[pl,a]:a.includes("Error")?[bx,a]:[ao,a]},Is=([t,r])=>t===ho&&(r==="function"||r==="symbol"),y2=(t,r,a,l)=>{const s=(c,h)=>{const m=l.push(c)-1;return a.set(h,m),m},u=c=>{if(a.has(c))return a.get(c);let[h,m]=cl(c);switch(h){case ho:{let x=c;switch(m){case"bigint":h=vx,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);x=null;break;case"undefined":return s([yx],c)}return s([h,x],c)}case pl:{if(m){let v=c;return m==="DataView"?v=new Uint8Array(c.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(c)),s([m,[...v]],c)}const x=[],y=s([h,x],c);for(const v of c)x.push(u(v));return y}case ao:{if(m)switch(m){case"BigInt":return s([m,c.toString()],c);case"Boolean":case"Number":case"String":return s([m,c.valueOf()],c)}if(r&&"toJSON"in c)return u(c.toJSON());const x=[],y=s([h,x],c);for(const v of x2(c))(t||!Is(cl(c[v])))&&x.push([u(v),u(c[v])]);return y}case $d:return s([h,c.toISOString()],c);case Fd:{const{source:x,flags:y}=c;return s([h,{source:x,flags:y}],c)}case Gd:{const x=[],y=s([h,x],c);for(const[v,b]of c)(t||!(Is(cl(v))||Is(cl(b))))&&x.push([u(v),u(b)]);return y}case Yd:{const x=[],y=s([h,x],c);for(const v of c)(t||!Is(cl(v)))&&x.push(u(v));return y}}const{message:p}=c;return s([h,{name:m,message:p}],c)};return u},Ip=(t,{json:r,lossy:a}={})=>{const l=[];return y2(!(r||a),!!r,new Map,l)(t),l},io=typeof structuredClone=="function"?(t,r)=>r&&("json"in r||"lossy"in r)?Pp(Ip(t,r)):structuredClone(t):(t,r)=>Pp(Ip(t,r));function b2(t,r){const a=[{type:"text",value:""}];return r>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(r)}]}),a}function v2(t,r){return"Back to reference "+(t+1)+(r>1?"-"+r:"")}function w2(t){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=t.options.footnoteBackContent||b2,l=t.options.footnoteBackLabel||v2,s=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let m=-1;for(;++m<t.footnoteOrder.length;){const p=t.footnoteById.get(t.footnoteOrder[m]);if(!p)continue;const x=t.all(p),y=String(p.identifier).toUpperCase(),v=ri(y.toLowerCase());let b=0;const j=[],T=t.footnoteCounts.get(y);for(;T!==void 0&&++b<=T;){j.length>0&&j.push({type:"text",value:" "});let M=typeof a=="string"?a:a(m,b);typeof M=="string"&&(M={type:"text",value:M}),j.push({type:"element",tagName:"a",properties:{href:"#"+r+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(m,b),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const A=x[x.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const M=A.children[A.children.length-1];M&&M.type==="text"?M.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...j)}else x.push(...j);const N={type:"element",tagName:"li",properties:{id:r+"fn-"+v},children:t.wrap(x,!0)};t.patch(p,N),h.push(N)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...io(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const mo=function(t){if(t==null)return _2;if(typeof t=="function")return po(t);if(typeof t=="object")return Array.isArray(t)?k2(t):S2(t);if(typeof t=="string")return j2(t);throw new Error("Expected function, string, or object as test")};function k2(t){const r=[];let a=-1;for(;++a<t.length;)r[a]=mo(t[a]);return po(l);function l(...s){let u=-1;for(;++u<r.length;)if(r[u].apply(this,s))return!0;return!1}}function S2(t){const r=t;return po(a);function a(l){const s=l;let u;for(u in t)if(s[u]!==r[u])return!1;return!0}}function j2(t){return po(r);function r(a){return a&&a.type===t}}function po(t){return r;function r(a,l,s){return!!(E2(a)&&t.call(this,a,typeof l=="number"?l:void 0,s||void 0))}}function _2(){return!0}function E2(t){return t!==null&&typeof t=="object"&&"type"in t}const wx=[],T2=!0,bd=!1,A2="skip";function kx(t,r,a,l){let s;typeof r=="function"&&typeof a!="function"?(l=a,a=r):s=r;const u=mo(s),c=l?-1:1;h(t,void 0,[])();function h(m,p,x){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=wx,j,T,A;if((!r||u(m,p,x[x.length-1]||void 0))&&(b=N2(a(m,x)),b[0]===bd))return b;if("children"in m&&m.children){const N=m;if(N.children&&b[0]!==A2)for(T=(l?N.children.length:-1)+c,A=x.concat(N);T>-1&&T<N.children.length;){const M=N.children[T];if(j=h(M,T,A)(),j[0]===bd)return j;T=typeof j[1]=="number"?j[1]:T+c}}return b}}}function N2(t){return Array.isArray(t)?t:typeof t=="number"?[T2,t]:t==null?wx:[t]}function Vd(t,r,a,l){let s,u,c;typeof r=="function"&&typeof a!="function"?(u=void 0,c=r,s=a):(u=r,c=a,s=l),kx(t,u,h,s);function h(m,p){const x=p[p.length-1],y=x?x.children.indexOf(m):void 0;return c(m,y,x)}}const vd={}.hasOwnProperty,C2={};function R2(t,r){const a=r||C2,l=new Map,s=new Map,u=new Map,c={...m2,...a.handlers},h={all:p,applyData:D2,definitionById:l,footnoteById:s,footnoteCounts:u,footnoteOrder:[],handlers:c,one:m,options:a,patch:O2,wrap:M2};return Vd(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?l:s,v=String(x.identifier).toUpperCase();y.has(v)||y.set(v,x)}}),h;function m(x,y){const v=x.type,b=h.handlers[v];if(vd.call(h.handlers,v)&&b)return b(h,x,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in x){const{children:T,...A}=x,N=io(A);return N.children=h.all(x),N}return io(x)}return(h.options.unknownHandler||L2)(h,x,y)}function p(x){const y=[];if("children"in x){const v=x.children;let b=-1;for(;++b<v.length;){const j=h.one(v[b],x);if(j){if(b&&v[b-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=qp(j.value)),!Array.isArray(j)&&j.type==="element")){const T=j.children[0];T&&T.type==="text"&&(T.value=qp(T.value))}Array.isArray(j)?y.push(...j):y.push(j)}}}return y}}function O2(t,r){t.position&&(r.position=v1(t))}function D2(t,r){let a=r;if(t&&t.data){const l=t.data.hName,s=t.data.hChildren,u=t.data.hProperties;if(typeof l=="string")if(a.type==="element")a.tagName=l;else{const c="children"in a?a.children:[a];a={type:"element",tagName:l,properties:{},children:c}}a.type==="element"&&u&&Object.assign(a.properties,io(u)),"children"in a&&a.children&&s!==null&&s!==void 0&&(a.children=s)}return a}function L2(t,r){const a=r.data||{},l="value"in r&&!(vd.call(a,"hProperties")||vd.call(a,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:t.all(r)};return t.patch(r,l),t.applyData(r,l)}function M2(t,r){const a=[];let l=-1;for(r&&a.push({type:"text",value:`
`});++l<t.length;)l&&a.push({type:"text",value:`
`}),a.push(t[l]);return r&&t.length>0&&a.push({type:"text",value:`
`}),a}function qp(t){let r=0,a=t.charCodeAt(r);for(;a===9||a===32;)r++,a=t.charCodeAt(r);return t.slice(r)}function Hp(t,r){const a=R2(t,r),l=a.one(t,void 0),s=w2(a),u=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return s&&u.children.push({type:"text",value:`
`},s),u}function z2(t,r){return t&&"run"in t?async function(a,l){const s=Hp(a,{file:l,...r});await t.run(s,l)}:function(a,l){return Hp(a,{file:l,...t||r})}}function $p(t){if(t)throw t}var Bc,Fp;function U2(){if(Fp)return Bc;Fp=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(p){return typeof Array.isArray=="function"?Array.isArray(p):r.call(p)==="[object Array]"},u=function(p){if(!p||r.call(p)!=="[object Object]")return!1;var x=t.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&t.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!y)return!1;var v;for(v in p);return typeof v>"u"||t.call(p,v)},c=function(p,x){a&&x.name==="__proto__"?a(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},h=function(p,x){if(x==="__proto__")if(t.call(p,x)){if(l)return l(p,x).value}else return;return p[x]};return Bc=function m(){var p,x,y,v,b,j,T=arguments[0],A=1,N=arguments.length,M=!1;for(typeof T=="boolean"&&(M=T,T=arguments[1]||{},A=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});A<N;++A)if(p=arguments[A],p!=null)for(x in p)y=h(T,x),v=h(p,x),T!==v&&(M&&v&&(u(v)||(b=s(v)))?(b?(b=!1,j=y&&s(y)?y:[]):j=y&&u(y)?y:{},c(T,{name:x,newValue:m(M,j,v)})):typeof v<"u"&&c(T,{name:x,newValue:v}));return T},Bc}var B2=U2();const Pc=Sl(B2);function wd(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function P2(){const t=[],r={run:a,use:l};return r;function a(...s){let u=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...s);function h(m,...p){const x=t[++u];let y=-1;if(m){c(m);return}for(;++y<s.length;)(p[y]===null||p[y]===void 0)&&(p[y]=s[y]);s=p,x?I2(x,h)(...p):c(null,...p)}}function l(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),r}}function I2(t,r){let a;return l;function l(...c){const h=t.length>c.length;let m;h&&c.push(s);try{m=t.apply(this,c)}catch(p){const x=p;if(h&&a)throw x;return s(x)}h||(m&&m.then&&typeof m.then=="function"?m.then(u,s):m instanceof Error?s(m):u(m))}function s(c,...h){a||(a=!0,r(c,...h))}function u(c){s(null,c)}}const Sn={basename:q2,dirname:H2,extname:$2,join:F2,sep:"/"};function q2(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');El(t);let a=0,l=-1,s=t.length,u;if(r===void 0||r.length===0||r.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else l<0&&(u=!0,l=s+1);return l<0?"":t.slice(a,l)}if(r===t)return"";let c=-1,h=r.length-1;for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else c<0&&(u=!0,c=s+1),h>-1&&(t.codePointAt(s)===r.codePointAt(h--)?h<0&&(l=s):(h=-1,l=c));return a===l?l=c:l<0&&(l=t.length),t.slice(a,l)}function H2(t){if(El(t),t.length===0)return".";let r=-1,a=t.length,l;for(;--a;)if(t.codePointAt(a)===47){if(l){r=a;break}}else l||(l=!0);return r<0?t.codePointAt(0)===47?"/":".":r===1&&t.codePointAt(0)===47?"//":t.slice(0,r)}function $2(t){El(t);let r=t.length,a=-1,l=0,s=-1,u=0,c;for(;r--;){const h=t.codePointAt(r);if(h===47){if(c){l=r+1;break}continue}a<0&&(c=!0,a=r+1),h===46?s<0?s=r:u!==1&&(u=1):s>-1&&(u=-1)}return s<0||a<0||u===0||u===1&&s===a-1&&s===l+1?"":t.slice(s,a)}function F2(...t){let r=-1,a;for(;++r<t.length;)El(t[r]),t[r]&&(a=a===void 0?t[r]:a+"/"+t[r]);return a===void 0?".":G2(a)}function G2(t){El(t);const r=t.codePointAt(0)===47;let a=Y2(t,!r);return a.length===0&&!r&&(a="."),a.length>0&&t.codePointAt(t.length-1)===47&&(a+="/"),r?"/"+a:a}function Y2(t,r){let a="",l=0,s=-1,u=0,c=-1,h,m;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||u===1))if(s!==c-1&&u===2){if(a.length<2||l!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(m=a.lastIndexOf("/"),m!==a.length-1){m<0?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),s=c,u=0;continue}}else if(a.length>0){a="",l=0,s=c,u=0;continue}}r&&(a=a.length>0?a+"/..":"..",l=2)}else a.length>0?a+="/"+t.slice(s+1,c):a=t.slice(s+1,c),l=c-s-1;s=c,u=0}else h===46&&u>-1?u++:u=-1}return a}function El(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const V2={cwd:Q2};function Q2(){return"/"}function kd(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function X2(t){if(typeof t=="string")t=new URL(t);else if(!kd(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return K2(t)}function K2(t){if(t.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const r=t.pathname;let a=-1;for(;++a<r.length;)if(r.codePointAt(a)===37&&r.codePointAt(a+1)===50){const l=r.codePointAt(a+2);if(l===70||l===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}const Ic=["history","path","basename","stem","extname","dirname"];class Sx{constructor(r){let a;r?kd(r)?a={path:r}:typeof r=="string"||Z2(r)?a={value:r}:a=r:a={},this.cwd="cwd"in a?"":V2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<Ic.length;){const u=Ic[l];u in a&&a[u]!==void 0&&a[u]!==null&&(this[u]=u==="history"?[...a[u]]:a[u])}let s;for(s in a)Ic.includes(s)||(this[s]=a[s])}get basename(){return typeof this.path=="string"?Sn.basename(this.path):void 0}set basename(r){Hc(r,"basename"),qc(r,"basename"),this.path=Sn.join(this.dirname||"",r)}get dirname(){return typeof this.path=="string"?Sn.dirname(this.path):void 0}set dirname(r){Gp(this.basename,"dirname"),this.path=Sn.join(r||"",this.basename)}get extname(){return typeof this.path=="string"?Sn.extname(this.path):void 0}set extname(r){if(qc(r,"extname"),Gp(this.dirname,"extname"),r){if(r.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sn.join(this.dirname,this.stem+(r||""))}get path(){return this.history[this.history.length-1]}set path(r){kd(r)&&(r=X2(r)),Hc(r,"path"),this.path!==r&&this.history.push(r)}get stem(){return typeof this.path=="string"?Sn.basename(this.path,this.extname):void 0}set stem(r){Hc(r,"stem"),qc(r,"stem"),this.path=Sn.join(this.dirname||"",r+(this.extname||""))}fail(r,a,l){const s=this.message(r,a,l);throw s.fatal=!0,s}info(r,a,l){const s=this.message(r,a,l);return s.fatal=void 0,s}message(r,a,l){const s=new Rt(r,a,l);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(r){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(r||void 0).decode(this.value)}}function qc(t,r){if(t&&t.includes(Sn.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Sn.sep+"`")}function Hc(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function Gp(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function Z2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const J2=function(t){const l=this.constructor.prototype,s=l[t],u=function(){return s.apply(u,arguments)};return Object.setPrototypeOf(u,l),u},W2={}.hasOwnProperty;class Qd extends J2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=P2()}copy(){const r=new Qd;let a=-1;for(;++a<this.attachers.length;){const l=this.attachers[a];r.use(...l)}return r.data(Pc(!0,{},this.namespace)),r}data(r,a){return typeof r=="string"?arguments.length===2?(Gc("data",this.frozen),this.namespace[r]=a,this):W2.call(this.namespace,r)&&this.namespace[r]||void 0:r?(Gc("data",this.frozen),this.namespace=r,this):this.namespace}freeze(){if(this.frozen)return this;const r=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const s=a.call(r,...l);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(r){this.freeze();const a=qs(r),l=this.parser||this.Parser;return $c("parse",l),l(String(a),a)}process(r,a){const l=this;return this.freeze(),$c("process",this.parser||this.Parser),Fc("process",this.compiler||this.Compiler),a?s(void 0,a):new Promise(s);function s(u,c){const h=qs(r),m=l.parse(h);l.run(m,h,function(x,y,v){if(x||!y||!v)return p(x);const b=y,j=l.stringify(b,v);nS(j)?v.value=j:v.result=j,p(x,v)});function p(x,y){x||!y?c(x):u?u(y):a(void 0,y)}}}processSync(r){let a=!1,l;return this.freeze(),$c("processSync",this.parser||this.Parser),Fc("processSync",this.compiler||this.Compiler),this.process(r,s),Vp("processSync","process",a),l;function s(u,c){a=!0,$p(u),l=c}}run(r,a,l){Yp(r),this.freeze();const s=this.transformers;return!l&&typeof a=="function"&&(l=a,a=void 0),l?u(void 0,l):new Promise(u);function u(c,h){const m=qs(a);s.run(r,m,p);function p(x,y,v){const b=y||r;x?h(x):c?c(b):l(void 0,b,v)}}}runSync(r,a){let l=!1,s;return this.run(r,a,u),Vp("runSync","run",l),s;function u(c,h){$p(c),s=h,l=!0}}stringify(r,a){this.freeze();const l=qs(a),s=this.compiler||this.Compiler;return Fc("stringify",s),Yp(r),s(r,l)}use(r,...a){const l=this.attachers,s=this.namespace;if(Gc("use",this.frozen),r!=null)if(typeof r=="function")m(r,a);else if(typeof r=="object")Array.isArray(r)?h(r):c(r);else throw new TypeError("Expected usable value, not `"+r+"`");return this;function u(p){if(typeof p=="function")m(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[x,...y]=p;m(x,y)}else c(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function c(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(s.settings=Pc(!0,s.settings,p.settings))}function h(p){let x=-1;if(p!=null)if(Array.isArray(p))for(;++x<p.length;){const y=p[x];u(y)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function m(p,x){let y=-1,v=-1;for(;++y<l.length;)if(l[y][0]===p){v=y;break}if(v===-1)l.push([p,...x]);else if(x.length>0){let[b,...j]=x;const T=l[v][1];wd(T)&&wd(b)&&(b=Pc(!0,T,b)),l[v]=[p,b,...j]}}}}const eS=new Qd().freeze();function $c(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Fc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Gc(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yp(t){if(!wd(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Vp(t,r,a){if(!a)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function qs(t){return tS(t)?t:new Sx(t)}function tS(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function nS(t){return typeof t=="string"||rS(t)}function rS(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const aS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qp=[],Xp={allowDangerousHtml:!0},iS=/^(https?|ircs?|mailto|xmpp)$/i,lS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Xd(t){const r=sS(t),a=oS(t);return uS(r.runSync(r.parse(a),a),t)}function sS(t){const r=t.rehypePlugins||Qp,a=t.remarkPlugins||Qp,l=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Xp}:Xp;return eS().use(Hk).use(a).use(z2,l).use(r)}function oS(t){const r=t.children||"",a=new Sx;return typeof r=="string"&&(a.value=r),a}function uS(t,r){const a=r.allowedElements,l=r.allowElement,s=r.components,u=r.disallowedElements,c=r.skipHtml,h=r.unwrapDisallowed,m=r.urlTransform||cS;for(const x of lS)Object.hasOwn(r,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+aS+x.id,void 0);return r.className&&(t={type:"element",tagName:"div",properties:{className:r.className},children:t.type==="root"?t.children:[t]}),Vd(t,p),_1(t,{Fragment:f.Fragment,components:s,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function p(x,y,v){if(x.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let b;for(b in Mc)if(Object.hasOwn(Mc,b)&&Object.hasOwn(x.properties,b)){const j=x.properties[b],T=Mc[b];(T===null||T.includes(x.tagName))&&(x.properties[b]=m(String(j||""),b,x))}}if(x.type==="element"){let b=a?!a.includes(x.tagName):u?u.includes(x.tagName):!1;if(!b&&l&&typeof y=="number"&&(b=!l(x,y,v)),b&&v&&typeof y=="number")return h&&x.children?v.children.splice(y,1,...x.children):v.children.splice(y,1),y}}}function cS(t){const r=t.indexOf(":"),a=t.indexOf("?"),l=t.indexOf("#"),s=t.indexOf("/");return r===-1||s!==-1&&r>s||a!==-1&&r>a||l!==-1&&r>l||iS.test(t.slice(0,r))?t:""}function Kp(t,r){const a=String(t);if(typeof r!="string")throw new TypeError("Expected character");let l=0,s=a.indexOf(r);for(;s!==-1;)l++,s=a.indexOf(r,s+r.length);return l}function dS(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function fS(t,r,a){const s=mo((a||{}).ignore||[]),u=hS(r);let c=-1;for(;++c<u.length;)kx(t,"text",h);function h(p,x){let y=-1,v;for(;++y<x.length;){const b=x[y],j=v?v.children:void 0;if(s(b,j?j.indexOf(b):void 0,v))return;v=b}if(v)return m(p,x)}function m(p,x){const y=x[x.length-1],v=u[c][0],b=u[c][1];let j=0;const A=y.children.indexOf(p);let N=!1,M=[];v.lastIndex=0;let C=v.exec(p.value);for(;C;){const q=C.index,F={index:C.index,input:C.input,stack:[...x,p]};let D=b(...C,F);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?v.lastIndex=q+1:(j!==q&&M.push({type:"text",value:p.value.slice(j,q)}),Array.isArray(D)?M.push(...D):D&&M.push(D),j=q+C[0].length,N=!0),!v.global)break;C=v.exec(p.value)}return N?(j<p.value.length&&M.push({type:"text",value:p.value.slice(j)}),y.children.splice(A,1,...M)):M=[p],A+M.length}}function hS(t){const r=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!t[0]||Array.isArray(t[0])?t:[t];let l=-1;for(;++l<a.length;){const s=a[l];r.push([mS(s[0]),pS(s[1])])}return r}function mS(t){return typeof t=="string"?new RegExp(dS(t),"g"):t}function pS(t){return typeof t=="function"?t:function(){return t}}const Yc="phrasing",Vc=["autolink","link","image","label"];function gS(){return{transforms:[SS],enter:{literalAutolink:yS,literalAutolinkEmail:Qc,literalAutolinkHttp:Qc,literalAutolinkWww:Qc},exit:{literalAutolink:kS,literalAutolinkEmail:wS,literalAutolinkHttp:bS,literalAutolinkWww:vS}}}function xS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yc,notInConstruct:Vc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yc,notInConstruct:Vc},{character:":",before:"[ps]",after:"\\/",inConstruct:Yc,notInConstruct:Vc}]}}function yS(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Qc(t){this.config.enter.autolinkProtocol.call(this,t)}function bS(t){this.config.exit.autolinkProtocol.call(this,t)}function vS(t){this.config.exit.data.call(this,t);const r=this.stack[this.stack.length-1];r.type,r.url="http://"+this.sliceSerialize(t)}function wS(t){this.config.exit.autolinkEmail.call(this,t)}function kS(t){this.exit(t)}function SS(t){fS(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,jS],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),_S]],{ignore:["link","linkReference"]})}function jS(t,r,a,l,s){let u="";if(!jx(s)||(/^w/i.test(r)&&(a=r+a,r="",u="http://"),!ES(a)))return!1;const c=TS(a+l);if(!c[0])return!1;const h={type:"link",title:null,url:u+r+c[0],children:[{type:"text",value:r+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function _S(t,r,a,l){return!jx(l,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+r+"@"+a,children:[{type:"text",value:r+"@"+a}]}}function ES(t){const r=t.split(".");return!(r.length<2||r[r.length-1]&&(/_/.test(r[r.length-1])||!/[a-zA-Z\d]/.test(r[r.length-1]))||r[r.length-2]&&(/_/.test(r[r.length-2])||!/[a-zA-Z\d]/.test(r[r.length-2])))}function TS(t){const r=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!r)return[t,void 0];t=t.slice(0,r.index);let a=r[0],l=a.indexOf(")");const s=Kp(t,"(");let u=Kp(t,")");for(;l!==-1&&s>u;)t+=a.slice(0,l+1),a=a.slice(l+1),l=a.indexOf(")"),u++;return[t,a]}function jx(t,r){const a=t.input.charCodeAt(t.index-1);return(t.index===0||Zr(a)||co(a))&&(!r||a!==47)}_x.peek=zS;function AS(){this.buffer()}function NS(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function CS(){this.buffer()}function RS(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function OS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=pn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function DS(t){this.exit(t)}function LS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=pn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function MS(t){this.exit(t)}function zS(){return"["}function _x(t,r,a,l){const s=a.createTracker(l);let u=s.move("[^");const c=a.enter("footnoteReference"),h=a.enter("reference");return u+=s.move(a.safe(a.associationId(t),{after:"]",before:u})),h(),c(),u+=s.move("]"),u}function US(){return{enter:{gfmFootnoteCallString:AS,gfmFootnoteCall:NS,gfmFootnoteDefinitionLabelString:CS,gfmFootnoteDefinition:RS},exit:{gfmFootnoteCallString:OS,gfmFootnoteCall:DS,gfmFootnoteDefinitionLabelString:LS,gfmFootnoteDefinition:MS}}}function BS(t){let r=!1;return t&&t.firstLineBlank&&(r=!0),{handlers:{footnoteDefinition:a,footnoteReference:_x},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(l,s,u,c){const h=u.createTracker(c);let m=h.move("[^");const p=u.enter("footnoteDefinition"),x=u.enter("label");return m+=h.move(u.safe(u.associationId(l),{before:m,after:"]"})),x(),m+=h.move("]:"),l.children&&l.children.length>0&&(h.shift(4),m+=h.move((r?`
`:" ")+u.indentLines(u.containerFlow(l,h.current()),r?Ex:PS))),p(),m}}function PS(t,r,a){return r===0?t:Ex(t,r,a)}function Ex(t,r,a){return(a?"":"    ")+t}const IS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Tx.peek=GS;function qS(){return{canContainEols:["delete"],enter:{strikethrough:$S},exit:{strikethrough:FS}}}function HS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:IS}],handlers:{delete:Tx}}}function $S(t){this.enter({type:"delete",children:[]},t)}function FS(t){this.exit(t)}function Tx(t,r,a,l){const s=a.createTracker(l),u=a.enter("strikethrough");let c=s.move("~~");return c+=a.containerPhrasing(t,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),u(),c}function GS(){return"~"}function YS(t){return t.length}function VS(t,r){const a=r||{},l=(a.align||[]).concat(),s=a.stringLength||YS,u=[],c=[],h=[],m=[];let p=0,x=-1;for(;++x<t.length;){const T=[],A=[];let N=-1;for(t[x].length>p&&(p=t[x].length);++N<t[x].length;){const M=QS(t[x][N]);if(a.alignDelimiters!==!1){const C=s(M);A[N]=C,(m[N]===void 0||C>m[N])&&(m[N]=C)}T.push(M)}c[x]=T,h[x]=A}let y=-1;if(typeof l=="object"&&"length"in l)for(;++y<p;)u[y]=Zp(l[y]);else{const T=Zp(l);for(;++y<p;)u[y]=T}y=-1;const v=[],b=[];for(;++y<p;){const T=u[y];let A="",N="";T===99?(A=":",N=":"):T===108?A=":":T===114&&(N=":");let M=a.alignDelimiters===!1?1:Math.max(1,m[y]-A.length-N.length);const C=A+"-".repeat(M)+N;a.alignDelimiters!==!1&&(M=A.length+M+N.length,M>m[y]&&(m[y]=M),b[y]=M),v[y]=C}c.splice(1,0,v),h.splice(1,0,b),x=-1;const j=[];for(;++x<c.length;){const T=c[x],A=h[x];y=-1;const N=[];for(;++y<p;){const M=T[y]||"";let C="",q="";if(a.alignDelimiters!==!1){const F=m[y]-(A[y]||0),D=u[y];D===114?C=" ".repeat(F):D===99?F%2?(C=" ".repeat(F/2+.5),q=" ".repeat(F/2-.5)):(C=" ".repeat(F/2),q=C):q=" ".repeat(F)}a.delimiterStart!==!1&&!y&&N.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&M==="")&&(a.delimiterStart!==!1||y)&&N.push(" "),a.alignDelimiters!==!1&&N.push(C),N.push(M),a.alignDelimiters!==!1&&N.push(q),a.padding!==!1&&N.push(" "),(a.delimiterEnd!==!1||y!==p-1)&&N.push("|")}j.push(a.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return j.join(`
`)}function QS(t){return t==null?"":String(t)}function Zp(t){const r=typeof t=="string"?t.codePointAt(0):0;return r===67||r===99?99:r===76||r===108?108:r===82||r===114?114:0}function XS(t,r,a,l){const s=a.enter("blockquote"),u=a.createTracker(l);u.move("> "),u.shift(2);const c=a.indentLines(a.containerFlow(t,u.current()),KS);return s(),c}function KS(t,r,a){return">"+(a?"":" ")+t}function ZS(t,r){return Jp(t,r.inConstruct,!0)&&!Jp(t,r.notInConstruct,!1)}function Jp(t,r,a){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return a;let l=-1;for(;++l<r.length;)if(t.includes(r[l]))return!0;return!1}function Wp(t,r,a,l){let s=-1;for(;++s<a.unsafe.length;)if(a.unsafe[s].character===`
`&&ZS(a.stack,a.unsafe[s]))return/[ \t]/.test(l.before)?"":" ";return`\\
`}function JS(t,r){const a=String(t);let l=a.indexOf(r),s=l,u=0,c=0;if(typeof r!="string")throw new TypeError("Expected substring");for(;l!==-1;)l===s?++u>c&&(c=u):u=1,s=l+r.length,l=a.indexOf(r,s);return c}function WS(t,r){return!!(r.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ej(t){const r=t.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function tj(t,r,a,l){const s=ej(a),u=t.value||"",c=s==="`"?"GraveAccent":"Tilde";if(WS(t,a)){const y=a.enter("codeIndented"),v=a.indentLines(u,nj);return y(),v}const h=a.createTracker(l),m=s.repeat(Math.max(JS(u,s)+1,3)),p=a.enter("codeFenced");let x=h.move(m);if(t.lang){const y=a.enter(`codeFencedLang${c}`);x+=h.move(a.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=a.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(a.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),y()}return x+=h.move(`
`),u&&(x+=h.move(u+`
`)),x+=h.move(m),p(),x}function nj(t,r,a){return(a?"":"    ")+t}function Kd(t){const r=t.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function rj(t,r,a,l){const s=Kd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("definition");let h=a.enter("label");const m=a.createTracker(l);let p=m.move("[");return p+=m.move(a.safe(a.associationId(t),{before:p,after:"]",...m.current()})),p+=m.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(a.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=a.enter("destinationRaw"),p+=m.move(a.safe(t.url,{before:p,after:t.title?" ":`
`,...m.current()}))),h(),t.title&&(h=a.enter(`title${u}`),p+=m.move(" "+s),p+=m.move(a.safe(t.title,{before:p,after:s,...m.current()})),p+=m.move(s),h()),c(),p}function aj(t){const r=t.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function wl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function lo(t,r,a){const l=ei(t),s=ei(r);return l===void 0?s===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:l===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ax.peek=ij;function Ax(t,r,a,l){const s=aj(a),u=a.enter("emphasis"),c=a.createTracker(l),h=c.move(s);let m=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const p=m.charCodeAt(0),x=lo(l.before.charCodeAt(l.before.length-1),p,s);x.inside&&(m=wl(p)+m.slice(1));const y=m.charCodeAt(m.length-1),v=lo(l.after.charCodeAt(0),y,s);v.inside&&(m=m.slice(0,-1)+wl(y));const b=c.move(s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+m+b}function ij(t,r,a){return a.options.emphasis||"*"}function lj(t,r){let a=!1;return Vd(t,function(l){if("value"in l&&/\r?\n|\r/.test(l.value)||l.type==="break")return a=!0,bd}),!!((!t.depth||t.depth<3)&&Id(t)&&(r.options.setext||a))}function sj(t,r,a,l){const s=Math.max(Math.min(6,t.depth||1),1),u=a.createTracker(l);if(lj(t,a)){const x=a.enter("headingSetext"),y=a.enter("phrasing"),v=a.containerPhrasing(t,{...u.current(),before:`
`,after:`
`});return y(),x(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(s),h=a.enter("headingAtx"),m=a.enter("phrasing");u.move(c+" ");let p=a.containerPhrasing(t,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(p)&&(p=wl(p.charCodeAt(0))+p.slice(1)),p=p?c+" "+p:c,a.options.closeAtx&&(p+=" "+c),m(),h(),p}Nx.peek=oj;function Nx(t){return t.value||""}function oj(){return"<"}Cx.peek=uj;function Cx(t,r,a,l){const s=Kd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("image");let h=a.enter("label");const m=a.createTracker(l);let p=m.move("![");return p+=m.move(a.safe(t.alt,{before:p,after:"]",...m.current()})),p+=m.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),p+=m.move("<"),p+=m.move(a.safe(t.url,{before:p,after:">",...m.current()})),p+=m.move(">")):(h=a.enter("destinationRaw"),p+=m.move(a.safe(t.url,{before:p,after:t.title?" ":")",...m.current()}))),h(),t.title&&(h=a.enter(`title${u}`),p+=m.move(" "+s),p+=m.move(a.safe(t.title,{before:p,after:s,...m.current()})),p+=m.move(s),h()),p+=m.move(")"),c(),p}function uj(){return"!"}Rx.peek=cj;function Rx(t,r,a,l){const s=t.referenceType,u=a.enter("imageReference");let c=a.enter("label");const h=a.createTracker(l);let m=h.move("![");const p=a.safe(t.alt,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:m,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!p||p!==y?m+=h.move(y+"]"):s==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function cj(){return"!"}Ox.peek=dj;function Ox(t,r,a){let l=t.value||"",s="`",u=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(l);)s+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++u<a.unsafe.length;){const c=a.unsafe[u],h=a.compilePattern(c);let m;if(c.atBreak)for(;m=h.exec(l);){let p=m.index;l.charCodeAt(p)===10&&l.charCodeAt(p-1)===13&&p--,l=l.slice(0,p)+" "+l.slice(m.index+1)}}return s+l+s}function dj(){return"`"}function Dx(t,r){const a=Id(t);return!!(!r.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(a===t.url||"mailto:"+a===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Lx.peek=fj;function Lx(t,r,a,l){const s=Kd(a),u=s==='"'?"Quote":"Apostrophe",c=a.createTracker(l);let h,m;if(Dx(t,a)){const x=a.stack;a.stack=[],h=a.enter("autolink");let y=c.move("<");return y+=c.move(a.containerPhrasing(t,{before:y,after:">",...c.current()})),y+=c.move(">"),h(),a.stack=x,y}h=a.enter("link"),m=a.enter("label");let p=c.move("[");return p+=c.move(a.containerPhrasing(t,{before:p,after:"](",...c.current()})),p+=c.move("]("),m(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(m=a.enter("destinationLiteral"),p+=c.move("<"),p+=c.move(a.safe(t.url,{before:p,after:">",...c.current()})),p+=c.move(">")):(m=a.enter("destinationRaw"),p+=c.move(a.safe(t.url,{before:p,after:t.title?" ":")",...c.current()}))),m(),t.title&&(m=a.enter(`title${u}`),p+=c.move(" "+s),p+=c.move(a.safe(t.title,{before:p,after:s,...c.current()})),p+=c.move(s),m()),p+=c.move(")"),h(),p}function fj(t,r,a){return Dx(t,a)?"<":"["}Mx.peek=hj;function Mx(t,r,a,l){const s=t.referenceType,u=a.enter("linkReference");let c=a.enter("label");const h=a.createTracker(l);let m=h.move("[");const p=a.containerPhrasing(t,{before:m,after:"]",...h.current()});m+=h.move(p+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:m,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!p||p!==y?m+=h.move(y+"]"):s==="shortcut"?m=m.slice(0,-1):m+=h.move("]"),m}function hj(){return"["}function Zd(t){const r=t.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function mj(t){const r=Zd(t),a=t.options.bulletOther;if(!a)return r==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+a+"`) to be different");return a}function pj(t){const r=t.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function zx(t){const r=t.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function gj(t,r,a,l){const s=a.enter("list"),u=a.bulletCurrent;let c=t.ordered?pj(a):Zd(a);const h=t.ordered?c==="."?")":".":mj(a);let m=r&&a.bulletLastUsed?c===a.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&(m=!0),zx(a)===c&&x){let y=-1;for(;++y<t.children.length;){const v=t.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(c=h),a.bulletCurrent=c;const p=a.containerFlow(t,l);return a.bulletLastUsed=c,a.bulletCurrent=u,s(),p}function xj(t){const r=t.options.listItemIndent||"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function yj(t,r,a,l){const s=xj(a);let u=a.bulletCurrent||Zd(a);r&&r.type==="list"&&r.ordered&&(u=(typeof r.start=="number"&&r.start>-1?r.start:1)+(a.options.incrementListMarker===!1?0:r.children.indexOf(t))+u);let c=u.length+1;(s==="tab"||s==="mixed"&&(r&&r.type==="list"&&r.spread||t.spread))&&(c=Math.ceil(c/4)*4);const h=a.createTracker(l);h.move(u+" ".repeat(c-u.length)),h.shift(c);const m=a.enter("listItem"),p=a.indentLines(a.containerFlow(t,h.current()),x);return m(),p;function x(y,v,b){return v?(b?"":" ".repeat(c))+y:(b?u:u+" ".repeat(c-u.length))+y}}function bj(t,r,a,l){const s=a.enter("paragraph"),u=a.enter("phrasing"),c=a.containerPhrasing(t,l);return u(),s(),c}const vj=mo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function wj(t,r,a,l){return(t.children.some(function(c){return vj(c)})?a.containerPhrasing:a.containerFlow).call(a,t,l)}function kj(t){const r=t.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}Ux.peek=Sj;function Ux(t,r,a,l){const s=kj(a),u=a.enter("strong"),c=a.createTracker(l),h=c.move(s+s);let m=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const p=m.charCodeAt(0),x=lo(l.before.charCodeAt(l.before.length-1),p,s);x.inside&&(m=wl(p)+m.slice(1));const y=m.charCodeAt(m.length-1),v=lo(l.after.charCodeAt(0),y,s);v.inside&&(m=m.slice(0,-1)+wl(y));const b=c.move(s+s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+m+b}function Sj(t,r,a){return a.options.strong||"*"}function jj(t,r,a,l){return a.safe(t.value,l)}function _j(t){const r=t.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function Ej(t,r,a){const l=(zx(a)+(a.options.ruleSpaces?" ":"")).repeat(_j(a));return a.options.ruleSpaces?l.slice(0,-1):l}const Bx={blockquote:XS,break:Wp,code:tj,definition:rj,emphasis:Ax,hardBreak:Wp,heading:sj,html:Nx,image:Cx,imageReference:Rx,inlineCode:Ox,link:Lx,linkReference:Mx,list:gj,listItem:yj,paragraph:bj,root:wj,strong:Ux,text:jj,thematicBreak:Ej};function Tj(){return{enter:{table:Aj,tableData:eg,tableHeader:eg,tableRow:Cj},exit:{codeText:Rj,table:Nj,tableData:Xc,tableHeader:Xc,tableRow:Xc}}}function Aj(t){const r=t._align;this.enter({type:"table",align:r.map(function(a){return a==="none"?null:a}),children:[]},t),this.data.inTable=!0}function Nj(t){this.exit(t),this.data.inTable=void 0}function Cj(t){this.enter({type:"tableRow",children:[]},t)}function Xc(t){this.exit(t)}function eg(t){this.enter({type:"tableCell",children:[]},t)}function Rj(t){let r=this.resume();this.data.inTable&&(r=r.replace(/\\([\\|])/g,Oj));const a=this.stack[this.stack.length-1];a.type,a.value=r,this.exit(t)}function Oj(t,r){return r==="|"?r:t}function Dj(t){const r=t||{},a=r.tableCellPadding,l=r.tablePipeAlign,s=r.stringLength,u=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:m,tableRow:h}};function c(b,j,T,A){return p(x(b,T,A),b.align)}function h(b,j,T,A){const N=y(b,T,A),M=p([N]);return M.slice(0,M.indexOf(`
`))}function m(b,j,T,A){const N=T.enter("tableCell"),M=T.enter("phrasing"),C=T.containerPhrasing(b,{...A,before:u,after:u});return M(),N(),C}function p(b,j){return VS(b,{align:j,alignDelimiters:l,padding:a,stringLength:s})}function x(b,j,T){const A=b.children;let N=-1;const M=[],C=j.enter("table");for(;++N<A.length;)M[N]=y(A[N],j,T);return C(),M}function y(b,j,T){const A=b.children;let N=-1;const M=[],C=j.enter("tableRow");for(;++N<A.length;)M[N]=m(A[N],b,j,T);return C(),M}function v(b,j,T){let A=Bx.inlineCode(b,j,T);return T.stack.includes("tableCell")&&(A=A.replace(/\|/g,"\\$&")),A}}function Lj(){return{exit:{taskListCheckValueChecked:tg,taskListCheckValueUnchecked:tg,paragraph:zj}}}function Mj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Uj}}}function tg(t){const r=this.stack[this.stack.length-2];r.type,r.checked=t.type==="taskListCheckValueChecked"}function zj(t){const r=this.stack[this.stack.length-2];if(r&&r.type==="listItem"&&typeof r.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const l=a.children[0];if(l&&l.type==="text"){const s=r.children;let u=-1,c;for(;++u<s.length;){const h=s[u];if(h.type==="paragraph"){c=h;break}}c===a&&(l.value=l.value.slice(1),l.value.length===0?a.children.shift():a.position&&l.position&&typeof l.position.start.offset=="number"&&(l.position.start.column++,l.position.start.offset++,a.position.start=Object.assign({},l.position.start)))}}this.exit(t)}function Uj(t,r,a,l){const s=t.children[0],u=typeof t.checked=="boolean"&&s&&s.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",h=a.createTracker(l);u&&h.move(c);let m=Bx.listItem(t,r,a,{...l,...h.current()});return u&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),m;function p(x){return x+c}}function Bj(){return[gS(),US(),qS(),Tj(),Lj()]}function Pj(t){return{extensions:[xS(),BS(t),HS(),Dj(t),Mj()]}}const Ij={tokenize:Yj,partial:!0},Px={tokenize:Vj,partial:!0},Ix={tokenize:Qj,partial:!0},qx={tokenize:Xj,partial:!0},qj={tokenize:Kj,partial:!0},Hx={name:"wwwAutolink",tokenize:Fj,previous:Fx},$x={name:"protocolAutolink",tokenize:Gj,previous:Gx},Fn={name:"emailAutolink",tokenize:$j,previous:Yx},_n={};function Hj(){return{text:_n}}let Vr=48;for(;Vr<123;)_n[Vr]=Fn,Vr++,Vr===58?Vr=65:Vr===91&&(Vr=97);_n[43]=Fn;_n[45]=Fn;_n[46]=Fn;_n[95]=Fn;_n[72]=[Fn,$x];_n[104]=[Fn,$x];_n[87]=[Fn,Hx];_n[119]=[Fn,Hx];function $j(t,r,a){const l=this;let s,u;return c;function c(y){return!Sd(y)||!Yx.call(l,l.previous)||Jd(l.events)?a(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return Sd(y)?(t.consume(y),h):y===64?(t.consume(y),m):a(y)}function m(y){return y===46?t.check(qj,x,p)(y):y===45||y===95||Ct(y)?(u=!0,t.consume(y),m):x(y)}function p(y){return t.consume(y),s=!0,m}function x(y){return u&&s&&Lt(l.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),r(y)):a(y)}}function Fj(t,r,a){const l=this;return s;function s(c){return c!==87&&c!==119||!Fx.call(l,l.previous)||Jd(l.events)?a(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Ij,t.attempt(Px,t.attempt(Ix,u),a),a)(c))}function u(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),r(c)}}function Gj(t,r,a){const l=this;let s="",u=!1;return c;function c(y){return(y===72||y===104)&&Gx.call(l,l.previous)&&!Jd(l.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),t.consume(y),h):a(y)}function h(y){if(Lt(y)&&s.length<5)return s+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return t.consume(y),m}return a(y)}function m(y){return y===47?(t.consume(y),u?p:(u=!0,m)):a(y)}function p(y){return y===null||ro(y)||Xe(y)||Zr(y)||co(y)?a(y):t.attempt(Px,t.attempt(Ix,x),a)(y)}function x(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),r(y)}}function Yj(t,r,a){let l=0;return s;function s(c){return(c===87||c===119)&&l<3?(l++,t.consume(c),s):c===46&&l===3?(t.consume(c),u):a(c)}function u(c){return c===null?a(c):r(c)}}function Vj(t,r,a){let l,s,u;return c;function c(p){return p===46||p===95?t.check(qx,m,h)(p):p===null||Xe(p)||Zr(p)||p!==45&&co(p)?m(p):(u=!0,t.consume(p),c)}function h(p){return p===95?l=!0:(s=l,l=void 0),t.consume(p),c}function m(p){return s||l||!u?a(p):r(p)}}function Qj(t,r){let a=0,l=0;return s;function s(c){return c===40?(a++,t.consume(c),s):c===41&&l<a?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(qx,r,u)(c):c===null||Xe(c)||Zr(c)?r(c):(t.consume(c),s)}function u(c){return c===41&&l++,t.consume(c),s}}function Xj(t,r,a){return l;function l(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),l):h===38?(t.consume(h),u):h===93?(t.consume(h),s):h===60||h===null||Xe(h)||Zr(h)?r(h):a(h)}function s(h){return h===null||h===40||h===91||Xe(h)||Zr(h)?r(h):l(h)}function u(h){return Lt(h)?c(h):a(h)}function c(h){return h===59?(t.consume(h),l):Lt(h)?(t.consume(h),c):a(h)}}function Kj(t,r,a){return l;function l(u){return t.consume(u),s}function s(u){return Ct(u)?a(u):r(u)}}function Fx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Xe(t)}function Gx(t){return!Lt(t)}function Yx(t){return!(t===47||Sd(t))}function Sd(t){return t===43||t===45||t===46||t===95||Ct(t)}function Jd(t){let r=t.length,a=!1;for(;r--;){const l=t[r][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){a=!0;break}if(l._gfmAutolinkLiteralWalkedInto){a=!1;break}}return t.length>0&&!a&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const Zj={tokenize:i_,partial:!0};function Jj(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:n_,continuation:{tokenize:r_},exit:a_}},text:{91:{name:"gfmFootnoteCall",tokenize:t_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Wj,resolveTo:e_}}}}function Wj(t,r,a){const l=this;let s=l.events.length;const u=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let c;for(;s--;){const m=l.events[s][1];if(m.type==="labelImage"){c=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return h;function h(m){if(!c||!c._balanced)return a(m);const p=pn(l.sliceSerialize({start:c.end,end:l.now()}));return p.codePointAt(0)!==94||!u.includes(p.slice(1))?a(m):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),r(m))}}function e_(t,r){let a=t.length;for(;a--;)if(t[a][1].type==="labelImage"&&t[a][0]==="enter"){t[a][1];break}t[a+1][1].type="data",t[a+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},t[a+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[a+3][1].end),end:Object.assign({},t[a+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},h=[t[a+1],t[a+2],["enter",l,r],t[a+3],t[a+4],["enter",s,r],["exit",s,r],["enter",u,r],["enter",c,r],["exit",c,r],["exit",u,r],t[t.length-2],t[t.length-1],["exit",l,r]];return t.splice(a,t.length-a+1,...h),t}function t_(t,r,a){const l=this,s=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let u=0,c;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?a(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",p)}function p(y){if(u>999||y===93&&!c||y===null||y===91||Xe(y))return a(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return s.includes(pn(l.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),r):a(y)}return Xe(y)||(c=!0),u++,t.consume(y),y===92?x:p}function x(y){return y===91||y===92||y===93?(t.consume(y),u++,p):p(y)}}function n_(t,r,a){const l=this,s=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let u,c=0,h;return m;function m(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):a(j)}function x(j){if(c>999||j===93&&!h||j===null||j===91||Xe(j))return a(j);if(j===93){t.exit("chunkString");const T=t.exit("gfmFootnoteDefinitionLabelString");return u=pn(l.sliceSerialize(T)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Xe(j)||(h=!0),c++,t.consume(j),j===92?y:x}function y(j){return j===91||j===92||j===93?(t.consume(j),c++,x):x(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),s.includes(u)||s.push(u),Ue(t,b,"gfmFootnoteDefinitionWhitespace")):a(j)}function b(j){return r(j)}}function r_(t,r,a){return t.check(_l,r,t.attempt(Zj,r,a))}function a_(t){t.exit("gfmFootnoteDefinition")}function i_(t,r,a){const l=this;return Ue(t,s,"gfmFootnoteDefinitionIndent",5);function s(u){const c=l.events[l.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?r(u):a(u)}}function l_(t){let a=(t||{}).singleTilde;const l={name:"strikethrough",tokenize:u,resolveAll:s};return a==null&&(a=!0),{text:{126:l},insideSpan:{null:[l]},attentionMarkers:{null:[126]}};function s(c,h){let m=-1;for(;++m<c.length;)if(c[m][0]==="enter"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._close){let p=m;for(;p--;)if(c[p][0]==="exit"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._open&&c[m][1].end.offset-c[m][1].start.offset===c[p][1].end.offset-c[p][1].start.offset){c[m][1].type="strikethroughSequence",c[p][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[p][1].start),end:Object.assign({},c[m][1].end)},y={type:"strikethroughText",start:Object.assign({},c[p][1].end),end:Object.assign({},c[m][1].start)},v=[["enter",x,h],["enter",c[p][1],h],["exit",c[p][1],h],["enter",y,h]],b=h.parser.constructs.insideSpan.null;b&&Zt(v,v.length,0,fo(b,c.slice(p+1,m),h)),Zt(v,v.length,0,[["exit",y,h],["enter",c[m][1],h],["exit",c[m][1],h],["exit",x,h]]),Zt(c,p-1,m-p+3,v),m=p+v.length-2;break}}for(m=-1;++m<c.length;)c[m][1].type==="strikethroughSequenceTemporary"&&(c[m][1].type="data");return c}function u(c,h,m){const p=this.previous,x=this.events;let y=0;return v;function v(j){return p===126&&x[x.length-1][1].type!=="characterEscape"?m(j):(c.enter("strikethroughSequenceTemporary"),b(j))}function b(j){const T=ei(p);if(j===126)return y>1?m(j):(c.consume(j),y++,b);if(y<2&&!a)return m(j);const A=c.exit("strikethroughSequenceTemporary"),N=ei(j);return A._open=!N||N===2&&!!T,A._close=!T||T===2&&!!N,h(j)}}}class s_{constructor(){this.map=[]}add(r,a,l){o_(this,r,a,l)}consume(r){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let a=this.map.length;const l=[];for(;a>0;)a-=1,l.push(r.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),r.length=this.map[a][0];l.push(r.slice()),r.length=0;let s=l.pop();for(;s;){for(const u of s)r.push(u);s=l.pop()}this.map.length=0}}function o_(t,r,a,l){let s=0;if(!(a===0&&l.length===0)){for(;s<t.map.length;){if(t.map[s][0]===r){t.map[s][1]+=a,t.map[s][2].push(...l);return}s+=1}t.map.push([r,a,l])}}function u_(t,r){let a=!1;const l=[];for(;r<t.length;){const s=t[r];if(a){if(s[0]==="enter")s[1].type==="tableContent"&&l.push(t[r+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[r-1][1].type==="tableDelimiterMarker"){const u=l.length-1;l[u]=l[u]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(a=!0);r+=1}return l}function c_(){return{flow:{null:{name:"table",tokenize:d_,resolveAll:f_}}}}function d_(t,r,a){const l=this;let s=0,u=0,c;return h;function h(L){let re=l.events.length-1;for(;re>-1;){const te=l.events[re][1].type;if(te==="lineEnding"||te==="linePrefix")re--;else break}const J=re>-1?l.events[re][1].type:null,le=J==="tableHead"||J==="tableRow"?D:m;return le===D&&l.parser.lazy[l.now().line]?a(L):le(L)}function m(L){return t.enter("tableHead"),t.enter("tableRow"),p(L)}function p(L){return L===124||(c=!0,u+=1),x(L)}function x(L){return L===null?a(L):be(L)?u>1?(u=0,l.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),b):a(L):Me(L)?Ue(t,x,"whitespace")(L):(u+=1,c&&(c=!1,s+=1),L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),y(L)))}function y(L){return L===null||L===124||Xe(L)?(t.exit("data"),x(L)):(t.consume(L),L===92?v:y)}function v(L){return L===92||L===124?(t.consume(L),y):y(L)}function b(L){return l.interrupt=!1,l.parser.lazy[l.now().line]?a(L):(t.enter("tableDelimiterRow"),c=!1,Me(L)?Ue(t,j,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):j(L))}function j(L){return L===45||L===58?A(L):L===124?(c=!0,t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),T):F(L)}function T(L){return Me(L)?Ue(t,A,"whitespace")(L):A(L)}function A(L){return L===58?(u+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(L),t.exit("tableDelimiterMarker"),N):L===45?(u+=1,N(L)):L===null||be(L)?q(L):F(L)}function N(L){return L===45?(t.enter("tableDelimiterFiller"),M(L)):F(L)}function M(L){return L===45?(t.consume(L),M):L===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(L),t.exit("tableDelimiterMarker"),C):(t.exit("tableDelimiterFiller"),C(L))}function C(L){return Me(L)?Ue(t,q,"whitespace")(L):q(L)}function q(L){return L===124?j(L):L===null||be(L)?!c||s!==u?F(L):(t.exit("tableDelimiterRow"),t.exit("tableHead"),r(L)):F(L)}function F(L){return a(L)}function D(L){return t.enter("tableRow"),Z(L)}function Z(L){return L===124?(t.enter("tableCellDivider"),t.consume(L),t.exit("tableCellDivider"),Z):L===null||be(L)?(t.exit("tableRow"),r(L)):Me(L)?Ue(t,Z,"whitespace")(L):(t.enter("data"),ee(L))}function ee(L){return L===null||L===124||Xe(L)?(t.exit("data"),Z(L)):(t.consume(L),L===92?oe:ee)}function oe(L){return L===92||L===124?(t.consume(L),ee):ee(L)}}function f_(t,r){let a=-1,l=!0,s=0,u=[0,0,0,0],c=[0,0,0,0],h=!1,m=0,p,x,y;const v=new s_;for(;++a<t.length;){const b=t[a],j=b[1];b[0]==="enter"?j.type==="tableHead"?(h=!1,m!==0&&(ng(v,r,m,p,x),x=void 0,m=0),p={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",p,r]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(l=!0,y=void 0,u=[0,0,0,0],c=[0,a+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",x,r]])),s=j.type==="tableDelimiterRow"?2:x?3:1):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(l=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],y=Hs(v,r,u,s,void 0,y),u=[0,0,0,0]),c[2]=a)):j.type==="tableCellDivider"&&(l?l=!1:(u[1]!==0&&(c[0]=c[1],y=Hs(v,r,u,s,void 0,y)),u=c,c=[u[1],a,0,0])):j.type==="tableHead"?(h=!0,m=a):j.type==="tableRow"||j.type==="tableDelimiterRow"?(m=a,u[1]!==0?(c[0]=c[1],y=Hs(v,r,u,s,a,y)):c[1]!==0&&(y=Hs(v,r,c,s,a,y)),s=0):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=a)}for(m!==0&&ng(v,r,m,p,x),v.consume(r.events),a=-1;++a<r.events.length;){const b=r.events[a];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=u_(r.events,a))}return t}function Hs(t,r,a,l,s,u){const c=l===1?"tableHeader":l===2?"tableDelimiter":"tableData",h="tableContent";a[0]!==0&&(u.end=Object.assign({},Za(r.events,a[0])),t.add(a[0],0,[["exit",u,r]]));const m=Za(r.events,a[1]);if(u={type:c,start:Object.assign({},m),end:Object.assign({},m)},t.add(a[1],0,[["enter",u,r]]),a[2]!==0){const p=Za(r.events,a[2]),x=Za(r.events,a[3]),y={type:h,start:Object.assign({},p),end:Object.assign({},x)};if(t.add(a[2],0,[["enter",y,r]]),l!==2){const v=r.events[a[2]],b=r.events[a[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",a[3]>a[2]+1){const j=a[2]+1,T=a[3]-a[2]-1;t.add(j,T,[])}}t.add(a[3]+1,0,[["exit",y,r]])}return s!==void 0&&(u.end=Object.assign({},Za(r.events,s)),t.add(s,0,[["exit",u,r]]),u=void 0),u}function ng(t,r,a,l,s){const u=[],c=Za(r.events,a);s&&(s.end=Object.assign({},c),u.push(["exit",s,r])),l.end=Object.assign({},c),u.push(["exit",l,r]),t.add(a+1,0,u)}function Za(t,r){const a=t[r],l=a[0]==="enter"?"start":"end";return a[1][l]}const h_={name:"tasklistCheck",tokenize:p_};function m_(){return{text:{91:h_}}}function p_(t,r,a){const l=this;return s;function s(m){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?a(m):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),u)}function u(m){return Xe(m)?(t.enter("taskListCheckValueUnchecked"),t.consume(m),t.exit("taskListCheckValueUnchecked"),c):m===88||m===120?(t.enter("taskListCheckValueChecked"),t.consume(m),t.exit("taskListCheckValueChecked"),c):a(m)}function c(m){return m===93?(t.enter("taskListCheckMarker"),t.consume(m),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):a(m)}function h(m){return be(m)?r(m):Me(m)?t.check({tokenize:g_},r,a)(m):a(m)}}function g_(t,r,a){return Ue(t,l,"whitespace");function l(s){return s===null?a(s):r(s)}}function x_(t){return rx([Hj(),Jj(),l_(t),c_(),m_()])}const y_={};function Wd(t){const r=this,a=t||y_,l=r.data(),s=l.micromarkExtensions||(l.micromarkExtensions=[]),u=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),c=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);s.push(x_(a)),u.push(Bj()),c.push(Pj(a))}const Kc={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Zc={Entry:"Entry",SL:"SL",TP1:"TP1"};function b_(t){const r=[...t].sort((l,s)=>l-s),a=t.map(()=>0);for(let l=0;l<t.length-1;l++)Math.abs(r[l]-r[l+1])<7&&(a[t.indexOf(r[l])]=-28,a[t.indexOf(r[l+1])]=28,t.length>2&&l+2<t.length&&Math.abs(r[l+1]-r[l+2])<7&&(a[t.indexOf(r[l+2])]=-56));return a}function v_(t,r=18){const a=t.map((p,x)=>({price:p,idx:x}));a.sort((p,x)=>p.price-x.price);const l=t.length,u=100-r*(l-1),c=l>1?u/(l-1):0;let h=[];for(let p=0;p<l;p++)h.push(p*(r+c));const m=[];return a.forEach((p,x)=>{m[p.idx]=h[x]}),m}const Jc=({color:t,left:r,label:a,yOffset:l,value:s})=>f.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:r,top:0,zIndex:10},children:[f.jsx("div",{style:{transform:`translateY(${l}px)`},className:"transition-all duration-500",children:f.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${t} animate-fadein`,children:a})}),f.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${t} mt-1 animate-markerpop`}),f.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 animate-fadein",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]}),w_=({riskParams:t,analysis:r})=>{if(!r)return null;const{tradeSetup:a}=r,l=a.tradeType==="Long",s=parseFloat(a.entryPrice),u=parseFloat(a.stopLoss),c=parseFloat(a.takeProfit);if(isNaN(s)||isNaN(u)||isNaN(c))return null;const m=v_([u,s,c],24),p=M=>`calc(${m[M]}% - 24px)`,x=b_(m),y=1,v=2,b=Math.min(m[y],m[v]);Math.max(m[y],m[v]);const j=Math.abs(m[v]-m[y]),T=l?"right":"left";let A=1;if(typeof r.riskPerTrade=="number"&&!isNaN(r.riskPerTrade))A=r.riskPerTrade;else if(typeof r.riskPerTrade=="string"){const M=parseFloat(String(r.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(M)||(A=M)}const N=t.currentEquity!==void 0&&t.currentEquity!==null?Number(t.currentEquity):void 0;return N==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[f.jsx(Hg,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),f.jsxs("div",{className:"relative w-full h-20 flex items-end mb-6",children:[f.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),f.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${j}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:f.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:T==="right"?f.jsx("span",{className:"absolute right-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:""}):f.jsx("span",{className:"absolute left-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:""})})}),f.jsx(Jc,{color:Kc.SL,left:p(0),label:Zc.SL,yOffset:x[0],value:String(u)}),f.jsx(Jc,{color:Kc.Entry,left:p(1),label:Zc.Entry,yOffset:x[1],value:String(s)}),f.jsx(Jc,{color:Kc.TP1,left:p(2),label:Zc.TP1,yOffset:x[2],value:String(c)})]}),f.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),f.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),f.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:A+"%"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),f.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:N!==void 0?`$${(N*A/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4})}`:"-"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),f.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),f.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:N!==void 0?`$${Number(N).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"})]})]})]})},$s=({label:t,value:r,className:a=""})=>f.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${a}`,children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),f.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${a}`,children:r})]}),k_=({analysis:t})=>{const{tradeType:r,entryPrice:a,stopLoss:l,takeProfit:s}=t.tradeSetup,u=r==="Long";return f.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${u?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[f.jsxs("h4",{className:`text-lg font-bold ${u?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",r]}),f.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:a})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:l})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:s})]})]})]})},S_=({analysis:t,riskParams:r,onBackToUploader:a})=>t?t.tradeSetup&&t.marketTrend&&t.tradeBias?f.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[f.jsx("div",{className:"w-full",children:t.image?f.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{console.error("Failed to load analysis image"),s.currentTarget.style.display="none"}}):f.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"})})}),f.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&f.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?f.jsx(jr,{className:"h-6 w-6"}):f.jsx(jn,{className:"h-6 w-6"}),f.jsxs("span",{children:["TRADE COMPLETED: ",f.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),f.jsx(k_,{analysis:t}),f.jsx(w_,{riskParams:r,analysis:t}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[f.jsx($s,{label:"Market Trend",value:t.marketTrend||"N/A"}),f.jsx($s,{label:"Trade Bias",value:t.tradeBias||"N/A",className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),f.jsx($s,{label:"Confidence",value:`${t.confidenceScore||0}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&f.jsx($s,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx($v,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),f.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:f.jsx(Xd,{remarkPlugins:[Wd],children:t.rationale||"No reasoning available"})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern||"No pattern identified"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis||"No indicator analysis available"})]})]})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("p",{children:"This might be due to:"}),f.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[f.jsx("li",{children:"AI response format error"}),f.jsx("li",{children:"Network connectivity issues"}),f.jsx("li",{children:"API quota exceeded"}),f.jsx("li",{children:"Image processing error"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&f.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})}),j_=({status:t})=>{if(t==="pending")return null;const r="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?f.jsx("span",{className:`${r} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?f.jsx("span",{className:`${r} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},__=({history:t,onSelect:r,onDeleteRequest:a,currentAnalysisId:l})=>t?Array.isArray(t)?(console.log("HistoryPanel: Rendering with",t.length,"items"),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(Zs,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):f.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map((s,u)=>!s||!s.id||!s.tradeSetup?(console.error("HistoryPanel: Invalid item at index",u,s),null):f.jsx("li",{className:"group",children:f.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${l===s.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[f.jsxs("button",{onClick:()=>{try{r(s)}catch(c){console.error("Error selecting history item:",c)}},className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(s.timestamp).toLocaleString()}`,children:[f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsxs("p",{className:`font-semibold text-sm truncate ${s.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[s.tradeSetup.tradeType," (",s.tradeBias||"Unknown",")"]}),f.jsx(j_,{status:s.status})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(s.timestamp).toLocaleString()})]}),f.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",s.keyPattern||"No pattern"]})]}),f.jsx("button",{onClick:c=>{c.stopPropagation();try{a(s)}catch(h){console.error("Error requesting delete:",h)}},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:f.jsx(Yv,{className:"h-4 w-4"})})]})},s.id))})]})):(console.error("HistoryPanel: history prop is not an array:",t),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(Zs,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})):(console.error("HistoryPanel: history prop is null or undefined"),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(Zs,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})),rg=({theme:t,setTheme:r})=>{const a=()=>{r(t==="light"?"dark":"light")};return f.jsxs("button",{onClick:a,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[f.jsx("span",{className:"sr-only",children:"Toggle theme"}),f.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[f.jsx(no,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),f.jsx(Hv,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),f.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},ag=({apiStatus:t,sessionTokens:r,totalTokens:a})=>{const l=c=>new Intl.NumberFormat().format(c),u={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${u.color} ${u.pulse?"animate-ping":""} opacity-75`}),f.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${u.color}`})]}),f.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",u.text]})]}),f.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),f.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:l(r)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),f.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:l(a)})]})]})},yt=({mode:t,activeMode:r,onClick:a,icon:l,label:s})=>f.jsx("li",{children:f.jsxs("button",{onClick:()=>a(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[l,f.jsx("span",{className:"ml-3",children:s})]})}),E_=({activeMode:t,onModeChange:r,theme:a,setTheme:l,apiStatus:s,sessionTokens:u,totalTokens:c,isMobileMenuOpen:h,onMobileMenuToggle:m})=>f.jsxs(f.Fragment,{children:[h&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] lg:hidden",onClick:m}),f.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-800 shadow-xl z-[120] transform transition-transform duration-300 ease-in-out lg:hidden
        ${h?"translate-x-0":"-translate-x-full"}
      `,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("div",{}),f.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:f.jsx(Qv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[f.jsx("nav",{className:"flex-1",children:f.jsxs("ul",{className:"space-y-2",children:[f.jsx(yt,{mode:"home",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(rp,{className:"h-5 w-5"}),label:"Home"}),f.jsx(yt,{mode:"dashboard",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(dd,{className:"h-5 w-5"}),label:"Dashboard"}),f.jsx(yt,{mode:"portfolio",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(ap,{className:"h-5 w-5"}),label:"Portfolio"}),f.jsx(yt,{mode:"economic-calendar",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(ip,{className:"h-5 w-5"}),label:"Economic Calendar"}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),f.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),f.jsx(yt,{mode:"scalp",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),f.jsx(yt,{mode:"day",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(no,{className:"h-5 w-5"}),label:"Day Trading"}),f.jsx(yt,{mode:"swing",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(ud,{className:"h-5 w-5"}),label:"Swing Trading"}),f.jsx(yt,{mode:"position",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(cd,{className:"h-5 w-5"}),label:"Position Trading"}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),f.jsx(yt,{mode:"settings",activeMode:t,onClick:p=>{r(p),m()},icon:f.jsx(fd,{className:"h-5 w-5"}),label:"Settings"})]})}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx(ag,{apiStatus:s,sessionTokens:u,totalTokens:c}),f.jsx(rg,{theme:a,setTheme:l})]})]})]}),f.jsxs("aside",{className:"hidden lg:block w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[f.jsx("div",{className:"mb-6 px-2"}),f.jsx("nav",{className:"flex-1",children:f.jsxs("ul",{className:"space-y-2",children:[f.jsx(yt,{mode:"home",activeMode:t,onClick:r,icon:f.jsx(rp,{className:"h-5 w-5"}),label:"Home"}),f.jsx(yt,{mode:"dashboard",activeMode:t,onClick:r,icon:f.jsx(dd,{className:"h-5 w-5"}),label:"Dashboard"}),f.jsx(yt,{mode:"portfolio",activeMode:t,onClick:r,icon:f.jsx(ap,{className:"h-5 w-5"}),label:"Portfolio"}),f.jsx(yt,{mode:"economic-calendar",activeMode:t,onClick:r,icon:f.jsx(ip,{className:"h-5 w-5"}),label:"Economic Calendar"}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),f.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),f.jsx(yt,{mode:"scalp",activeMode:t,onClick:r,icon:f.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),f.jsx(yt,{mode:"day",activeMode:t,onClick:r,icon:f.jsx(no,{className:"h-5 w-5"}),label:"Day Trading"}),f.jsx(yt,{mode:"swing",activeMode:t,onClick:r,icon:f.jsx(ud,{className:"h-5 w-5"}),label:"Swing Trading"}),f.jsx(yt,{mode:"position",activeMode:t,onClick:r,icon:f.jsx(cd,{className:"h-5 w-5"}),label:"Position Trading"}),f.jsx("div",{className:"py-2",children:f.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),f.jsx(yt,{mode:"settings",activeMode:t,onClick:r,icon:f.jsx(fd,{className:"h-5 w-5"}),label:"Settings"})]})}),f.jsxs("div",{className:"mt-6 space-y-4",children:[f.jsx(ag,{apiStatus:s,sessionTokens:u,totalTokens:c}),f.jsx(rg,{theme:a,setTheme:l})]})]})]}),ig=({type:t,onSave:r,onClose:a})=>{const[l,s]=$.useState("");$.useEffect(()=>{const p=x=>{x.key==="Escape"&&a()};return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[a]);const u=p=>{const y=p.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(y)&&s(y)},c=p=>{p.preventDefault();const x=parseFloat(l);!isNaN(x)&&x>0&&r(x)},h=t==="profit",m=!isNaN(parseFloat(l))&&parseFloat(l)>0;return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:a,children:f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:p=>p.stopPropagation(),children:f.jsxs("form",{onSubmit:c,children:[h?f.jsx(jr,{className:"mx-auto h-16 w-16 text-emerald-500"}):f.jsx(jn,{className:"mx-auto h-16 w-16 text-red-500"}),f.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),f.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:f.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),f.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:l,onChange:u,required:!0,autoFocus:!0})]})]}),f.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!m,children:"Save Result"})]})})})},T_={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},A_={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},br=({label:t,value:r,icon:a,color:l})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:t}),f.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${T_[l]} flex-shrink-0`,children:f.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:a})})]}),f.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${A_[l]} leading-tight`,children:r})]}),N_=t=>{const r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const l=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-l.getTime())/864e5+1)/7)},C_=(t,r)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const a=[...t].sort((y,v)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime()),l={};a.forEach(y=>{const v=new Date(y.timestamp);let b="";if(r==="daily")b=v.toLocaleDateString("en-CA");else if(r==="weekly"){const j=v.getFullYear(),T=N_(v);b=`${j}-W${T.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(l[b]||(l[b]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":l[b].profit+=1,l[b].pl+=y.outcomeAmount||0;break;case"stop-loss":l[b].loss+=1,l[b].pl-=y.outcomeAmount||0;break;case"pending":l[b].pending+=1;break}});const s=Object.keys(l).sort(),u=s,c=s.map(y=>l[y].profit),h=s.map(y=>l[y].loss),m=s.map(y=>l[y].pending),p=[];let x=0;return s.forEach(y=>{x+=l[y].pl,p.push(x)}),{labels:u,profitData:c,lossData:h,pendingData:m,cumulativePlData:p}},Wc=({buttonTimeframe:t,activeTimeframe:r,setTimeframe:a,children:l})=>f.jsx("button",{onClick:()=>a(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${r===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:l}),R_=({history:t,theme:r})=>{const a=$.useRef(null),l=$.useRef(null),[s,u]=$.useState("daily");return $.useEffect(()=>{if(!a.current)return;const c=a.current.getContext("2d");if(!c)return;l.current&&l.current.destroy();const{labels:h,profitData:m,lossData:p,pendingData:x,cumulativePlData:y}=C_(t,s),v=r==="dark",b=v?"rgba(71, 85, 105, 0.2)":"rgba(203, 213, 225, 0.5)",j=v?"rgba(203, 213, 225, 0.8)":"rgba(100, 116, 139, 1)",T=c.createLinearGradient(0,0,0,300);T.addColorStop(0,v?"rgba(34, 197, 94, 0.7)":"rgba(34, 197, 94, 0.8)"),T.addColorStop(1,v?"rgba(34, 197, 94, 0.3)":"rgba(34, 197, 94, 0.4)");const A=c.createLinearGradient(0,0,0,300);A.addColorStop(0,v?"rgba(239, 68, 68, 0.7)":"rgba(239, 68, 68, 0.8)"),A.addColorStop(1,v?"rgba(239, 68, 68, 0.3)":"rgba(239, 68, 68, 0.4)");const N=c.createLinearGradient(0,0,0,300);N.addColorStop(0,v?"rgba(100, 116, 139, 0.6)":"rgba(100, 116, 139, 0.7)"),N.addColorStop(1,v?"rgba(100, 116, 139, 0.2)":"rgba(100, 116, 139, 0.3)");const M=c.createLinearGradient(0,50,0,300);return M.addColorStop(0,v?"rgba(124, 58, 237, 0.4)":"rgba(124, 58, 237, 0.5)"),M.addColorStop(1,"rgba(124, 58, 237, 0.05)"),l.current=new window.Chart(c,{type:"bar",data:{labels:h,datasets:[{label:"Profit",data:m,backgroundColor:T,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:p,backgroundColor:A,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:x,backgroundColor:N,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:y,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:M,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:v?"#1e293b":"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:v?"#1e293b":"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:j,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:b,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:j,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:j,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:j,font:{family:"inherit"},callback:function(C){return typeof C!="number"?C:Math.abs(C)>=1e3?"$"+(C/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+C}},title:{display:!0,text:"Cumulative P/L ($)",color:j,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:j,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:v?"rgba(15, 23, 42, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:v?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:v?"#cbd5e1":"#1e293b",bodyColor:v?"#94a3b8":"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(C){let q=C.dataset.label||"";return q&&(q+=": "),C.parsed.y!==null&&(C.dataset.yAxisID==="y1"?q+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C.parsed.y):q+=C.parsed.y),q}}}}}}),()=>{l.current&&l.current.destroy()}},[t,s,r]),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Wc,{buttonTimeframe:"daily",activeTimeframe:s,setTimeframe:u,children:"Daily"}),f.jsx(Wc,{buttonTimeframe:"weekly",activeTimeframe:s,setTimeframe:u,children:"Weekly"}),f.jsx(Wc,{buttonTimeframe:"monthly",activeTimeframe:s,setTimeframe:u,children:"Monthly"})]})]}),f.jsx("div",{className:"relative h-96",children:t.length>0?f.jsx("canvas",{ref:a}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",f.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Ws={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:sp,image:sp},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:op,image:op},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:up,image:up},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:cp,image:cp},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:dp,image:dp}},O_=t=>{const r=t.filter(c=>c.status!=="pending"),a=r.length,l=r.filter(c=>c.status==="profit").length,s=a>0?l/a*100:0;let u="Novice Navigator";return a>=75&&s>=75?u="Elite Executor":a>=50&&s>=65?u="Strategy Sentinel":a>=30&&s>=55?u="Pattern Pursuer":a>=10&&s>=40&&(u="Market Apprentice"),{tier:u,...Ws[u]}};function D_(t,r,a){switch(t){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-r,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-r,0),win:a<40?40-a:0,desc:"30 trade & win rate  40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-r,0),win:a<50?50-a:0,desc:"60 trade & win rate  50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-r,0),win:a<60?60-a:0,desc:"100 trade & win rate  60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const L_=({profile:t,winRate:r,totalTrades:a,onClose:l})=>{var c;$.useEffect(()=>{const h=m=>{m.key==="Escape"&&l()};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[l]);const s=D_(t.tier,a,r),u=s.next?(c=Ws==null?void 0:Ws[s.next])==null?void 0:c.image:null;return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:l,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:h=>h.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:l,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(jn,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:eo.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),f.jsx("div",{className:"mt-8",children:s.next?f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[u&&eo.createElement(u,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),f.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",s.next]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[s.desc," (",s.need>0?`${s.need} trade lagi`:"",s.win?`, win rate ${s.win}% lagi`:"",")"]})]}):f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),f.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),f.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[r,"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a})]})]})]})]})})},M_=(t,r)=>`You are an expert trading analyst with 15+ years of experience in technical analysis, market psychology, and risk management. Analyze this trading chart with extreme precision and provide a PROFITABLE trading signal.

**TRADING MODE:** ${{scalp:"SCALP trade - very short-term (1-15 minutes), tight stops, quick profits. Minimum RRR 1:1",day:"DAY trade - closed today, intraday trends (5-min to 1-hour). Minimum RRR 1:1.5",swing:"SWING trade - held for days to weeks, 4-hour to daily charts. Minimum RRR 1:2",position:"POSITION trade - held for weeks/months, weekly/monthly charts. Minimum RRR 1:3"}[r]}
**ACCOUNT BALANCE:** $${t.accountBalance}
**CURRENT EQUITY:** $${t.currentEquity}
**LEVERAGE:** ${t.leverage}x

**CRITICAL ANALYSIS REQUIREMENTS:**

1. **MARKET STRUCTURE ANALYSIS:**
   - Identify higher highs (HH) and higher lows (HL) for uptrends
   - Identify lower highs (LH) and lower lows (LL) for downtrends
   - Determine if market is trending or ranging
   - Locate key support/resistance levels

2. **TECHNICAL INDICATORS (Analyze ALL visible indicators):**
   - Moving Averages: Crossovers, price position relative to MAs
   - RSI: Overbought/oversold conditions, divergences
   - MACD: Signal line crossovers, histogram patterns
   - Volume: Volume confirmation, volume spikes
   - Bollinger Bands: Price position, squeeze patterns
   - Stochastic: Overbought/oversold, crossovers
   - Any other visible indicators

3. **PRICE ACTION PATTERNS:**
   - Candlestick patterns (Doji, Hammer, Shooting Star, etc.)
   - Chart patterns (Head & Shoulders, Triangles, Flags, etc.)
   - Breakout/breakdown patterns
   - Consolidation zones

4. **CONFLUENCE ANALYSIS:**
   - Multiple indicators pointing in same direction
   - Price action confirming indicator signals
   - Volume supporting price movement
   - Support/resistance alignment

5. **RISK ASSESSMENT:**
   - Clear stop loss level with minimal slippage risk
   - Realistic take profit target based on market structure
   - Risk/Reward ratio meeting minimum requirements
   - Market volatility consideration

6. **RISK PER TRADE DETERMINATION:**
   - Determine the optimal risk per trade (as a percentage of current equity) for this setup, considering the user's current equity, account balance, leverage, trading mode, and market conditions.
   - Use professional risk management standards (e.g., 0.5%2% typical for most traders, but justify if outside this range).
   - Return this as a field 'riskPerTrade' in your JSON response (number, e.g. 1.0 for 1%).
   - **In your rationale, always explicitly state the user's current equity and the actual risk allocation in dollars (besides the percentage). Example: 'Risk allocation is 0.5% of current equity ($50)'.**

**CONFIDENCE SCORE CRITERIA:**
- 90-100: Multiple strong confirmations, clear trend, perfect RRR
- 80-89: Strong trend with good confirmations, solid RRR
- 70-79: Good setup with some confirmations, acceptable RRR
- 60-69: Decent setup but limited confirmations
- Below 60: Weak setup, avoid trading

**TRADE SETUP REQUIREMENTS:**
- Entry price must be at optimal level (support/resistance, trend line)
- Stop loss must be beyond recent swing high/low
- Take profit must be realistic based on market structure
- RRR must meet minimum requirements for trading mode

**IMPORTANT:** Only provide signals with confidence score 70+ and clear technical justification. If no profitable setup exists, indicate "No profitable setup detected".

**RESPOND ONLY WITH VALID JSON. NO ADDITIONAL TEXT.**

**Required JSON format:**
{
  "marketTrend": "string (Uptrend/Downtrend/Sideways with strength level)",
  "keyPattern": "string (specific pattern name with timeframe)",
  "indicatorAnalysis": "string (detailed analysis of ALL visible indicators)",
  "tradeBias": "Bullish or Bearish or Neutral",
  "confidenceScore": number (0-100, only 70+ for profitable signals),
  "riskPerTrade": number (percentage, e.g. 1.0 for 1%),
  "tradeSetup": {
    "tradeType": "Long or Short (exactly as written)",
    "entryPrice": "number as string (optimal entry level)",
    "stopLoss": "number as string (beyond swing high/low)",
    "takeProfit": "number as string (realistic target)",
    "rrr": number (must meet minimum for trading mode)
  },
  "rationale": "Detailed technical analysis in markdown format including market structure, indicator confluence, and risk management justification"
}

**Example high-confidence response:**
{
  "marketTrend": "Strong Uptrend - Higher highs and higher lows on 4H timeframe",
  "keyPattern": "Bull Flag breakout on 1H chart with volume confirmation",
  "indicatorAnalysis": "RSI: 65 (bullish momentum), MACD: Bullish crossover above signal line, MA20: Price above and rising, Volume: Increasing on breakout, Bollinger Bands: Price in upper band showing strength",
      "tradeBias": "Bullish",
  "confidenceScore": 85,
  "riskPerTrade": 1.0,
      "tradeSetup": {
        "tradeType": "Long",
    "entryPrice": "100.50",
    "stopLoss": "99.20",
    "takeProfit": "102.80",
    "rrr": 2.54
  },
  "rationale": "### Technical Analysis
- **Market Structure:** Clear uptrend with HH and HL on 4H
- **Pattern:** Bull flag breakout with volume confirmation
- **Indicators:** RSI bullish momentum, MACD crossover, price above MA20
- **Entry:** 100.50 (breakout level)
- **Stop Loss:** 99.20 (below recent swing low)
- **Take Profit:** 102.80 (next resistance level)
- **RRR:** (102.80 - 100.50) / (100.50 - 99.20) = 2.30 / 1.30 = 2.54
- **Risk Management:** Clear stop loss with minimal slippage risk
- **Risk Per Trade:** 1.0% of current equity as optimal risk for this setup."
}

Analyze the chart thoroughly and provide ONLY high-confidence, profitable trading signals.`,z_=async(t,r,a,l,s)=>{var h;if(!t)throw new Error("API key is not set.");const u=await new Promise((m,p)=>{const x=new FileReader;x.onloadend=()=>{try{const y=x.result;m(y.split(",")[1])}catch{p(new Error("Failed to process image file"))}},x.onerror=()=>p(new Error("Failed to read image file")),x.readAsDataURL(r)});let c=null;for(let m=1;m<=3;m++)try{let p;m===1?p=M_({...a,currentEquity:s},l):p=`You are an expert trading analyst. Analyze this chart for PROFITABLE trading opportunities.

**Trading Mode:** ${l}
**Current Equity:** $${s}

**ANALYSIS REQUIREMENTS:**
- Identify market structure (trend direction, support/resistance)
- Analyze ALL visible technical indicators
- Look for price action patterns and breakouts
- Ensure multiple confirmations for high confidence
- Only provide signals with confidence score 70+

**Required JSON format:**
{
  "marketTrend": "Uptrend/Downtrend/Sideways with strength",
  "keyPattern": "Specific pattern with timeframe",
  "indicatorAnalysis": "Detailed analysis of ALL visible indicators",
  "tradeBias": "Bullish/Bearish/Neutral",
  "confidenceScore": 70-100,
  "riskPerTrade": "number (percentage, e.g. 1.0 for 1%)",
  "tradeSetup": {
    "tradeType": "Long/Short",
    "entryPrice": "optimal entry level",
    "stopLoss": "beyond swing high/low",
    "takeProfit": "realistic target",
    "rrr": "must meet minimum for trading mode"
  },
  "rationale": "Detailed technical analysis with market structure and risk management"
}

Only provide high-confidence, profitable signals. If no good setup exists, use confidence score below 70.`,console.log(`Attempt ${m}: Sending chart analysis request to GPT-4o...`);const x=new AbortController,y=setTimeout(()=>x.abort(),3e4),v=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading analyst AI."},{role:"user",content:[{type:"text",text:p},{type:"image_url",image_url:{url:`data:${r.type};base64,${u}`}}]}],max_tokens:2048}),signal:x.signal});if(clearTimeout(y),!v.ok){const Z=await v.text();console.error("API Error Response:",Z);let ee;try{ee=JSON.parse(Z)}catch{ee={error:{message:v.statusText}}}throw new Error(((h=ee==null?void 0:ee.error)==null?void 0:h.message)||`HTTP ${v.status}: ${v.statusText}`)}const b=await v.json();if(console.log(`Attempt ${m}: GPT-4o response received:`,b),!b.choices||!b.choices[0]||!b.choices[0].message)throw new Error("Invalid response format from AI service");let j=b.choices[0].message.content.trim();console.log(`Attempt ${m}: Raw AI response:`,j),j=j.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"");let T=j.match(/\{[\s\S]*\}/);if(!T)throw console.error("No JSON object found in response"),console.error("Full response:",j),new Error("AI response does not contain valid JSON format");j=T[0],console.log(`Attempt ${m}: Extracted JSON string:`,j);let A;try{A=JSON.parse(j)}catch(Z){throw console.error("JSON parsing failed:",Z),console.error("Failed JSON string:",j),new Error("AI response format is invalid. Please try again.")}console.log(`Attempt ${m}: Parsed analysis data:`,A);const M=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(Z=>!A[Z]);if(console.log(`Attempt ${m}: Full AI response:`,A),M.length>0){console.error(`Attempt ${m}: Missing required fields in analysis data:`,M),console.error("Available fields:",Object.keys(A)),console.error("Analysis data:",A);const Z={marketTrend:A.marketTrend||"Unknown",keyPattern:A.keyPattern||"No clear pattern",indicatorAnalysis:A.indicatorAnalysis||"No indicator analysis",tradeBias:A.tradeBias||"Neutral",confidenceScore:A.confidenceScore||50,rationale:A.rationale||"Analysis incomplete due to missing data",tradeSetup:A.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};Z.tradeSetup&&!Z.tradeSetup.tradeType&&(Z.tradeSetup.tradeType="Long");const ee=A.confidenceScore||0,oe=A.tradeSetup||{},L=parseFloat(oe.rrr)||0;ee>=70&&L>0?console.log(`Attempt ${m}: High-confidence signal detected (${ee}%, RRR: ${L})`):console.warn(`Attempt ${m}: Low-confidence signal (${ee}%, RRR: ${L}) - Consider retrying`);const J=["tradeSetup"].filter(le=>!A[le]);if(J.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${J.join(", ")}`);console.log(`Attempt ${m}: Using fallback data for missing fields:`,Z),A={...A,...Z}}if((typeof A.riskPerTrade!="number"||isNaN(A.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),A.riskPerTrade=1),!A.tradeSetup||typeof A.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",A.tradeSetup),new Error("Trade setup data is missing or invalid");const q=["tradeType","entryPrice","stopLoss","takeProfit"].filter(Z=>!A.tradeSetup[Z]);if(q.length>0)throw console.error("Missing required tradeSetup fields:",q),console.error("Available tradeSetup fields:",Object.keys(A.tradeSetup)),console.error("TradeSetup data:",A.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${q.join(", ")}`);if(typeof A.confidenceScore!="number"||A.confidenceScore<0||A.confidenceScore>100)throw console.error("Invalid confidence score:",A.confidenceScore),new Error("Confidence score must be a number between 0 and 100");if(!["Bullish","Bearish","Neutral"].includes(A.tradeBias))throw console.error("Invalid trade bias:",A.tradeBias),new Error("Trade bias must be Bullish, Bearish, or Neutral");const F=A.tradeSetup.tradeType;if(F&&typeof F=="string"){const Z=F.trim().toLowerCase();if(Z==="long"||Z==="short")A.tradeSetup.tradeType=Z.charAt(0).toUpperCase()+Z.slice(1);else throw console.error("Invalid trade type:",F),new Error("Trade type must be Long or Short")}else throw console.error("Invalid trade type:",F),new Error("Trade type must be Long or Short");const D=b.usage?{prompt:b.usage.prompt_tokens||0,completion:b.usage.completion_tokens||0,total:b.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return console.log(`Attempt ${m}: Analysis successful!`),{analysis:A,usage:D}}catch(p){console.error(`Attempt ${m} failed:`,p),c=p instanceof Error?p:new Error(String(p)),m<3&&(console.log(`Retrying with simplified prompt... (attempt ${m+1}/3)`),await new Promise(x=>setTimeout(x,1e3)))}throw console.error("All analysis attempts failed"),c||new Error("Failed to analyze chart after multiple attempts")},U_=async(t,r)=>{var a;if(!t)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to GPT-4o...");const l=new AbortController,s=setTimeout(()=>l.abort(),3e4),u=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading performance coach."},{role:"user",content:r}],max_tokens:2048}),signal:l.signal});if(clearTimeout(s),!u.ok){const p=await u.text();console.error("API Error Response:",p);let x;try{x=JSON.parse(p)}catch{x={error:{message:u.statusText}}}throw new Error(((a=x==null?void 0:x.error)==null?void 0:a.message)||`HTTP ${u.status}: ${u.statusText}`)}const c=await u.json();if(console.log("GPT-4o performance response received:",c),!c.choices||!c.choices[0]||!c.choices[0].message)throw new Error("Invalid response format from AI service");const h=c.choices[0].message.content,m=c.usage?{prompt:c.usage.prompt_tokens||0,completion:c.usage.completion_tokens||0,total:c.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:h,usage:m}}catch(l){throw console.error("Error in analyzePerformance:",l),l instanceof Error&&l.name==="AbortError"?new Error("Request timeout. Please try again."):l}},B_=async(t,r,a)=>{var u;if(!t)throw new Error("API key is not set.");if(!r)throw new Error("Portfolio data is not available.");const l=`
        You are an AI financial advisor assistant. Your role is to provide educational and insightful analysis of a user's investment portfolio.
        - **NEVER** give direct financial advice to buy or sell specific assets.
        - **ALWAYS** be cautious, prudent, and educational.
        - Frame all responses in terms of financial principles, risk management, and diversification.
        - You can explain concepts, analyze the *current* state of the portfolio, and discuss potential strategies in a general sense.
        - **ALWAYS** include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Here is the user's current portfolio data:
        ${JSON.stringify(r,null,2)}

        The user has the following question: "${a}"

        Please provide a helpful and educational response based on their portfolio and question, following all the rules from your system instructions.
        Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to GPT-4o...");const c=new AbortController,h=setTimeout(()=>c.abort(),3e4),m=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:l},{role:"user",content:s}],max_tokens:2048}),signal:c.signal});if(clearTimeout(h),!m.ok){const v=await m.text();console.error("API Error Response:",v);let b;try{b=JSON.parse(v)}catch{b={error:{message:m.statusText}}}throw new Error(((u=b==null?void 0:b.error)==null?void 0:u.message)||`HTTP ${m.status}: ${m.statusText}`)}const p=await m.json();if(console.log("GPT-4o financial advice response received:",p),!p.choices||!p.choices[0]||!p.choices[0].message)throw new Error("Invalid response format from AI service");const x=p.choices[0].message.content,y=p.usage?{prompt:p.usage.prompt_tokens||0,completion:p.usage.completion_tokens||0,total:p.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:x,usage:y}}catch(c){throw console.error("Error in generateFinancialAdvice:",c),c instanceof Error&&c.name==="AbortError"?new Error("Request timeout. Please try again."):c}},P_=async t=>{if(!t)return!1;try{return!0}catch(r){return console.error("API Key validation failed:",r),!1}},I_=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),dl=({buttonMode:t,activeMode:r,onClick:a,children:l})=>f.jsx("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${r===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:l}),q_=({updateTokenUsage:t,apiKey:r,apiStatus:a,allTrades:l,mode:s,setDashboardSource:u,theme:c,initialCapital:h,netPL:m,currentEquity:p,user:x,onLogoutClick:y,onNavigate:v})=>{const[b,j]=$.useState(""),[T,A]=$.useState(!0),[N,M]=$.useState(!1),[C,q]=$.useState(0),F=$.useMemo(()=>({scalp:l.filter(J=>J.mode==="scalp"),swing:l.filter(J=>J.mode==="swing"),day:l.filter(J=>J.mode==="day"),position:l.filter(J=>J.mode==="position")}),[l]),D=$.useMemo(()=>s==="all"?l:F[s],[s,l,F]),Z=$.useMemo(()=>O_(l),[l]),ee=$.useMemo(()=>{const J=D.filter(K=>K.status!=="pending"),le=J.filter(K=>K.status==="profit").length,te=J.filter(K=>K.status==="stop-loss").length,ae=le+te;return{winRate:ae>0?Math.round(le/ae*100):0,wins:le,losses:te,totalCompleted:ae}},[D]);$.useEffect(()=>{j(""),A(!0)},[r]);const oe=["all","scalp","day","swing","position"],L={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},re=oe.map(J=>{const le=J==="all"?l:l.filter(V=>V.mode===J),te=le.filter(V=>V.status!=="pending"),ae=te.filter(V=>V.status==="profit").length,B=te.filter(V=>V.status==="stop-loss").length,K=ae+B,se=K>0?Math.round(ae/K*100):0,he=te.reduce((V,_)=>_.status==="profit"?V+(_.outcomeAmount||0):_.status==="stop-loss"?V-(_.outcomeAmount||0):V,0),k=J==="all"?h:0,G=J==="all"?p:0;return{mode:L[J],initialCapital:k,netPL:he,currentEquity:G,totalTrades:le.length,winRate:se,wins:ae,losses:B,completed:K}});return $.useEffect(()=>{if(s!=="all")return;(async()=>{if(a!=="valid"){j("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),A(!1);return}if(l.length===0){j("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),A(!1);return}A(!0);try{const te=`You are an expert trading performance coach. Here are the user's trading statistics for each mode:

${re.map(_=>`${_.mode}:
- Initial Capital: $${_.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${_.netPL>=0?"+":""}${_.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${_.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${_.totalTrades}
- Win Rate: ${_.winRate}%
- Wins: ${_.wins}
- Losses: ${_.losses}
- Completed: ${_.completed}`).join(`

`)}

Give a concise, strategic, and insightful summary of the user's overall performance and 1 actionable suggestion for improvement. Keep it short, clear, and professional. Do not include code or JSON.

Jawab seluruh analisis dan saran ini dalam bahasa Indonesia yang jelas, singkat, dan mudah dipahami.`,ae=H_(re),B="fomo-ai-analysis",K="fomo-ai-hash",se=localStorage.getItem(K),he=localStorage.getItem(B);if(se===ae&&he){j(he),A(!1);return}const{analysisText:k,usage:G}=await U_(r,te);t(G);const V=k.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();j(V),localStorage.setItem(B,V),localStorage.setItem(K,ae)}catch(le){console.error("Failed to get AI analysis:",le);const te=le instanceof Error?le.message:String(le);let ae="Terjadi kesalahan saat mengambil analisis AI.";te.toLowerCase().includes("quota")||te.toLowerCase().includes("rate limit")?ae="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":te.toLowerCase().includes("api key")||te.toLowerCase().includes("unauthorized")?ae="API key tidak valid. Silakan periksa pengaturan API key Anda.":te.toLowerCase().includes("network")||te.toLowerCase().includes("fetch")?ae="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":te.toLowerCase().includes("invalid response")||te.toLowerCase().includes("format")?ae="Format respons AI tidak valid. Silakan coba lagi.":te.toLowerCase().includes("timeout")?ae="Request timeout. Silakan coba lagi.":ae=`Error: ${te}`,j(ae)}finally{A(!1)}})()},[r,a,s,C,re]),f.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto",children:[N&&f.jsx(L_,{profile:Z,winRate:ee.winRate,totalTrades:ee.totalCompleted,onClose:()=>M(!1)}),f.jsxs("header",{className:"flex flex-col gap-4",children:[f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>M(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:Z&&Z.image&&eo.createElement(Z.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"})})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),f.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",f.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:s==="all"?"All":s})," trading history."]})]})]})}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[f.jsx(dl,{buttonMode:"all",activeMode:s,onClick:u,children:"All"}),f.jsx(dl,{buttonMode:"scalp",activeMode:s,onClick:u,children:"Scalp"}),f.jsx(dl,{buttonMode:"day",activeMode:s,onClick:u,children:"Day"}),f.jsx(dl,{buttonMode:"swing",activeMode:s,onClick:u,children:"Swing"}),f.jsx(dl,{buttonMode:"position",activeMode:s,onClick:u,children:"Position"})]})]}),f.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[f.jsx(br,{label:"Initial Capital",value:`$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(fp,{className:"w-6 h-6"}),color:"violet"}),f.jsx(br,{label:"Net P/L",value:`${m>=0?"+":""}$${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(Hg,{className:"w-6 h-6"}),color:m>=0?"green":"red"}),f.jsx(br,{label:"Current Equity",value:`$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(fp,{className:"w-6 h-6"}),color:"blue"}),f.jsx(br,{label:"Total Trades Analyzed",value:l.length,icon:f.jsx(qv,{className:"w-6 h-6"}),color:"orange"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[f.jsx(br,{label:"Active Win Rate",value:`${ee.winRate}%`,icon:f.jsx(qg,{className:"w-6 h-6"}),color:"emerald"}),f.jsx(br,{label:"Active Wins",value:ee.wins,icon:f.jsx(jr,{className:"w-6 h-6"}),color:"green"}),f.jsx(br,{label:"Active Losses",value:ee.losses,icon:f.jsx(jn,{className:"w-6 h-6"}),color:"red"}),f.jsx(br,{label:"Active Completed",value:ee.totalCompleted,icon:f.jsx(to,{className:"w-6 h-6"}),color:"violet"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[f.jsx(Dd,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),s==="all"&&f.jsx("button",{onClick:()=>q(J=>J+1),className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:T,title:"Refresh AI Analysis",children:"Refresh"})]}),s==="all"?T?f.jsx(I_,{}):b&&(b.toLowerCase().includes("error")||b.toLowerCase().includes("unavailable")||b.toLowerCase().includes("failed")||b.toLowerCase().includes("quota")||b.toLowerCase().includes("terjadi kesalahan"))?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:b}),f.jsxs("button",{onClick:()=>q(J=>J+1),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:T,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):f.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:f.jsx(Xd,{children:b,remarkPlugins:[Wd]})}):f.jsxs("div",{className:"text-xs text-slate-400 italic",children:["AI Performance Analyst hanya tersedia di tab ",f.jsx("b",{children:"All"}),"."]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:f.jsx(R_,{history:D,theme:c})})]})]})};function H_(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}const $_=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],lg=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],F_=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:$_.map((t,r)=>{const a=60+Math.random()*90,l=lg[r%lg.length];return f.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${l}`,style:{width:`${a}px`,height:`${a}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,a/6)}px`},children:t},t)})}),f.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),G_=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:f.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),f.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),f.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),f.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),f.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),f.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),f.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),f.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),f.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),ed=({icon:t,title:r,description:a})=>f.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[f.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:f.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:t})}),f.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),f.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:a})]}),Y_=({onNavigate:t})=>f.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[f.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[f.jsx(F_,{}),f.jsx(G_,{}),f.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",f.jsx("br",{}),f.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),f.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),f.jsx("button",{onClick:()=>t("dashboard"),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),f.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:f.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),f.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[f.jsx(ed,{icon:f.jsx(Dd,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),f.jsx(ed,{icon:f.jsx(dd,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),f.jsx(ed,{icon:f.jsx(qg,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),sg=({user:t,onNavigate:r,onLogoutClick:a})=>{const[l,s]=$.useState(!1),u=$.useRef(null);return $.useEffect(()=>{const c=h=>{u.current&&!u.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),t?f.jsxs("div",{className:"relative",ref:u,children:[f.jsxs("button",{onClick:()=>s(!l),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":l,children:[f.jsx(Bv,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open user menu"})]}),l&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:f.jsxs("div",{className:"py-1",role:"none",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),f.jsxs("button",{onClick:()=>{r("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(fd,{className:"w-5 h-5"}),f.jsx("span",{children:"Profile & Settings"})]}),f.jsxs("button",{onClick:()=>{a(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(Gv,{className:"w-5 h-5"}),f.jsx("span",{children:"Logout"})]})]})})]}):null},og=({onNavigate:t,theme:r,setTheme:a,user:l,onLoginClick:s,onLogoutClick:u,onMobileMenuToggle:c,showUserIcon:h,activeMode:m})=>f.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[c&&f.jsx("button",{onClick:c,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:f.jsx(Vv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[f.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),f.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),f.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[m!=="dashboard"&&f.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),l?f.jsx(f.Fragment,{children:h&&f.jsx(sg,{user:l,onLogoutClick:u,onNavigate:t})}):f.jsx("button",{onClick:s,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),f.jsx("div",{className:"lg:hidden flex items-center gap-2",children:l?f.jsx(f.Fragment,{children:h&&f.jsx(sg,{user:l,onLogoutClick:u,onNavigate:t})}):f.jsx("button",{onClick:s,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})}),V_="modulepreload",Q_=function(t){return"/fomo/"+t},ug={},Tl=function(r,a,l){let s=Promise.resolve();if(a&&a.length>0){let c=function(p){return Promise.all(p.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(a.map(p=>{if(p=Q_(p),p in ug)return;ug[p]=!0;const x=p.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":V_,x||(v.as="script"),v.crossOrigin="",v.href=p,m&&v.setAttribute("nonce",m),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&u(h.reason);return r().catch(u)})},X_=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Tl(async()=>{const{default:l}=await Promise.resolve().then(()=>ai);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)};class ef extends Error{constructor(r,a="FunctionsError",l){super(r),this.name=a,this.context=l}}class K_ extends ef{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class cg extends ef{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class dg extends ef{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var jd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jd||(jd={}));var Z_=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};class J_{constructor(r,{headers:a={},customFetch:l,region:s=jd.Any}={}){this.url=r,this.headers=a,this.region=s,this.fetch=X_(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var l;return Z_(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:c}=a;let h={},{region:m}=a;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x}).catch(T=>{throw new K_(T)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new cg(y);if(!y.ok)throw new dg(y);let b=((l=y.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield y.json():b==="application/octet-stream"?j=yield y.blob():b==="text/event-stream"?j=y:b==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof dg||s instanceof cg?s.context:void 0}}})}}var bt={},Ha={},$a={},Fa={},Ga={},Ya={},W_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=W_();const e4=ti.fetch,Vx=ti.fetch.bind(ti),Qx=ti.Headers,t4=ti.Request,n4=ti.Response,ai=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qx,Request:t4,Response:n4,default:Vx,fetch:e4},Symbol.toStringTag,{value:"Module"})),r4=Ev(ai);var Fs={},fg;function Xx(){if(fg)return Fs;fg=1,Object.defineProperty(Fs,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Fs.default=t,Fs}var hg;function Kx(){if(hg)return Ya;hg=1;var t=Ya&&Ya.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ya,"__esModule",{value:!0});const r=t(r4),a=t(Xx());class l{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var x,y,v,b;let j=null,T=null,A=null,N=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const D=await p.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?T=D:T=JSON.parse(D))}const q=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");q&&F&&F.length>1&&(A=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(j={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,A=null,N=406,M="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const q=await p.text();try{j=JSON.parse(q),Array.isArray(j)&&p.status===404&&(T=[],j=null,N=200,M="OK")}catch{p.status===404&&q===""?(N=204,M="No Content"):j={message:q}}if(j&&this.isMaybeSingle&&(!((b=j==null?void 0:j.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,N=200,M="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:T,count:A,status:N,statusText:M}});return this.shouldThrowOnError||(m=m.catch(p=>{var x,y,v;return{error:{message:`${(x=p==null?void 0:p.name)!==null&&x!==void 0?x:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=p==null?void 0:p.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,c)}returns(){return this}overrideTypes(){return this}}return Ya.default=l,Ya}var mg;function Zx(){if(mg)return Ga;mg=1;var t=Ga&&Ga.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ga,"__esModule",{value:!0});const r=t(Kx());class a extends r.default{select(s){let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:u=!0,nullsFirst:c,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${s}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:u,referencedTable:c=u}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(p,`${u-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:u=!1,settings:c=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var x;const y=[s?"analyze":null,u?"verbose":null,c?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ga.default=a,Ga}var pg;function tf(){if(pg)return Fa;pg=1;var t=Fa&&Fa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fa,"__esModule",{value:!0});const r=t(Zx());class a extends r.default{eq(s,u){return this.url.searchParams.append(s,`eq.${u}`),this}neq(s,u){return this.url.searchParams.append(s,`neq.${u}`),this}gt(s,u){return this.url.searchParams.append(s,`gt.${u}`),this}gte(s,u){return this.url.searchParams.append(s,`gte.${u}`),this}lt(s,u){return this.url.searchParams.append(s,`lt.${u}`),this}lte(s,u){return this.url.searchParams.append(s,`lte.${u}`),this}like(s,u){return this.url.searchParams.append(s,`like.${u}`),this}likeAllOf(s,u){return this.url.searchParams.append(s,`like(all).{${u.join(",")}}`),this}likeAnyOf(s,u){return this.url.searchParams.append(s,`like(any).{${u.join(",")}}`),this}ilike(s,u){return this.url.searchParams.append(s,`ilike.${u}`),this}ilikeAllOf(s,u){return this.url.searchParams.append(s,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(s,u){return this.url.searchParams.append(s,`ilike(any).{${u.join(",")}}`),this}is(s,u){return this.url.searchParams.append(s,`is.${u}`),this}in(s,u){const c=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cs.{${u.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(u)}`),this}containedBy(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cd.{${u.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(u)}`),this}rangeGt(s,u){return this.url.searchParams.append(s,`sr.${u}`),this}rangeGte(s,u){return this.url.searchParams.append(s,`nxl.${u}`),this}rangeLt(s,u){return this.url.searchParams.append(s,`sl.${u}`),this}rangeLte(s,u){return this.url.searchParams.append(s,`nxr.${u}`),this}rangeAdjacent(s,u){return this.url.searchParams.append(s,`adj.${u}`),this}overlaps(s,u){return typeof u=="string"?this.url.searchParams.append(s,`ov.${u}`):this.url.searchParams.append(s,`ov.{${u.join(",")}}`),this}textSearch(s,u,{config:c,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${m}fts${p}.${u}`),this}match(s){return Object.entries(s).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(s,u,c){return this.url.searchParams.append(s,`not.${u}.${c}`),this}or(s,{foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,u,c){return this.url.searchParams.append(s,`${u}.${c}`),this}}return Fa.default=a,Fa}var gg;function Jx(){if(gg)return $a;gg=1;var t=$a&&$a.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty($a,"__esModule",{value:!0});const r=t(tf());class a{constructor(s,{headers:u={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(u),this.schema=c,this.fetch=h}select(s,{head:u=!1,count:c}={}){const h=u?"HEAD":"GET";let m=!1;const p=(s??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:u,defaultToNull:c=!0}={}){var h;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(p.length>0){const x=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:u,ignoreDuplicates:c=!1,count:h,defaultToNull:m=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(s,{count:u}={}){var c;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var u;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return $a.default=a,$a}var xg;function a4(){if(xg)return Ha;xg=1;var t=Ha&&Ha.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ha,"__esModule",{value:!0});const r=t(Jx()),a=t(tf());class l{constructor(u,{headers:c={},schema:h,fetch:m}={}){this.url=u,this.headers=new Headers(c),this.schemaName=h,this.fetch=m}from(u){const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:h=!1,get:m=!1,count:p}={}){var x;let y;const v=new URL(`${this.url}/rpc/${u}`);let b;h||m?(y=h?"HEAD":"GET",Object.entries(c).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{v.searchParams.append(T,A)})):(y="POST",b=c);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new a.default({method:y,url:v,headers:j,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ha.default=l,Ha}var yg;function i4(){if(yg)return bt;yg=1;var t=bt&&bt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const r=t(a4());bt.PostgrestClient=r.default;const a=t(Jx());bt.PostgrestQueryBuilder=a.default;const l=t(tf());bt.PostgrestFilterBuilder=l.default;const s=t(Zx());bt.PostgrestTransformBuilder=s.default;const u=t(Kx());bt.PostgrestBuilder=u.default;const c=t(Xx());return bt.PostgrestError=c.default,bt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:c.default},bt}var l4=i4();const s4=Sl(l4),{PostgrestClient:o4,PostgrestQueryBuilder:bT,PostgrestFilterBuilder:vT,PostgrestTransformBuilder:wT,PostgrestBuilder:kT,PostgrestError:ST}=s4;function u4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const c4=u4(),d4="2.11.15",f4=`realtime-js/${d4}`,h4="1.0.0",Wx=1e4,m4=1e3;var gl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gl||(gl={}));var Nt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Nt||(Nt={}));var mn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mn||(mn={}));var _d;(function(t){t.websocket="websocket"})(_d||(_d={}));var Kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kr||(Kr={}));class p4{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,a,l)}_decodeBroadcast(r,a,l){const s=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const h=l.decode(r.slice(c,c+s));c=c+s;const m=l.decode(r.slice(c,c+u));c=c+u;const p=JSON.parse(l.decode(r.slice(c,r.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class ey{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const bg=(t,r,a={})=>{var l;const s=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((u,c)=>(u[c]=g4(c,t,r,s),u),{})},g4=(t,r,a,l)=>{const s=r.find(h=>h.name===t),u=s==null?void 0:s.type,c=a[t];return u&&!l.includes(u)?ty(u,c):Ed(c)},ty=(t,r)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return v4(r,a)}switch(t){case Ze.bool:return x4(r);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return y4(r);case Ze.json:case Ze.jsonb:return b4(r);case Ze.timestamp:return w4(r);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Ed(r);default:return Ed(r)}},Ed=t=>t,x4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},y4=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},b4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},v4=(t,r)=>{if(typeof t!="string")return t;const a=t.length-1,l=t[a];if(t[0]==="{"&&l==="}"){let u;const c=t.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>ty(r,h))}return t},w4=t=>typeof t=="string"?t.replace(" ","T"):t,ny=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class td{constructor(r,a,l={},s=Wx){this.channel=r,this.event=a,this.payload=l,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var l;return this._hasReceived(r)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var vg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(vg||(vg={}));class xl{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,s,u,c),this.pendingDiffs.forEach(m=>{this.state=xl.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xl.syncDiff(this.state,s,u,c),h())}),this.onJoin((s,u,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:c})}),this.onLeave((s,u,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,l,s){const u=this.cloneDeep(r),c=this.transformState(a),h={},m={};return this.map(u,(p,x)=>{c[p]||(m[p]=x)}),this.map(c,(p,x)=>{const y=u[p];if(y){const v=x.map(A=>A.presence_ref),b=y.map(A=>A.presence_ref),j=x.filter(A=>b.indexOf(A.presence_ref)<0),T=y.filter(A=>v.indexOf(A.presence_ref)<0);j.length>0&&(h[p]=j),T.length>0&&(m[p]=T)}else h[p]=x}),this.syncDiff(u,{joins:h,leaves:m},l,s)}static syncDiff(r,a,l,s){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),s||(s=()=>{}),this.map(u,(h,m)=>{var p;const x=(p=r[h])!==null&&p!==void 0?p:[];if(r[h]=this.cloneDeep(m),x.length>0){const y=r[h].map(b=>b.presence_ref),v=x.filter(b=>y.indexOf(b.presence_ref)<0);r[h].unshift(...v)}l(h,x,m)}),this.map(c,(h,m)=>{let p=r[h];if(!p)return;const x=m.map(y=>y.presence_ref);p=p.filter(y=>x.indexOf(y.presence_ref)<0),r[h]=p,s(h,p,m),p.length===0&&delete r[h]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(l=>a(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,l)=>{const s=r[l];return"metas"in s?a[l]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[l]=s,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wg||(wg={}));var kg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kg||(kg={}));var $n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class nf{constructor(r,a={config:{}},l){this.topic=r,this.params=a,this.socket=l,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,mn.join,this.params,this.timeout),this.rejoinTimer=new ey(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new xl(this),this.broadcastEndpointURL=ny(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var l,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params;this._onError(x=>r==null?void 0:r($n.CHANNEL_ERROR,x)),this._onClose(()=>r==null?void 0:r($n.CLOSED));const m={},p={broadcast:u,presence:c,postgres_changes:(s=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){r==null||r($n.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,j=[];for(let T=0;T<b;T++){const A=v[T],{filter:{event:N,schema:M,table:C,filter:q}}=A,F=x&&x[T];if(F&&F.event===N&&F.schema===M&&F.table===C&&F.filter===q)j.push(Object.assign(Object.assign({},A),{id:F.id}));else{this.unsubscribe(),this.state=Nt.errored,r==null||r($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,r&&r($n.SUBSCRIBED);return}}).receive("error",x=>{this.state=Nt.errored,r==null||r($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r==null||r($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,l){return this._on(r,a,l)}async send(r,a={}){var l,s;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:c}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,m;const p=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Nt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(s=>{l=new td(this,mn.leave,{},r),l.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,a,l){const s=new AbortController,u=setTimeout(()=>s.abort(),l),c=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(u),c}_push(r,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new td(this,r,a,l);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(r,a,l){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,l){var s,u;const c=r.toLocaleLowerCase(),{close:h,error:m,leave:p,join:x}=mn;if(l&&[h,m,p,x].indexOf(c)>=0&&l!==this._joinRef())return;let v=this._onMessage(c,a,l);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,T,A;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((A=(T=b.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(b=>b.callback(v,l)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var j,T,A,N,M,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const q=b.id,F=(j=b.filter)===null||j===void 0?void 0:j.event;return q&&((T=a.ids)===null||T===void 0?void 0:T.includes(q))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((A=a.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const q=(M=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return q==="*"||q===((C=a==null?void 0:a.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:T,table:A,commit_timestamp:N,type:M,errors:C}=j;v=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:N,eventType:M,new:{},old:{},errors:C}),this._getPayloadRecords(j))}b.callback(v,l)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,l){const s=r.toLocaleLowerCase(),u={type:s,filter:a,callback:l};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(r,a){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&nf.isEqual(s.filter,a))}),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const l in r)if(r[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(mn.close,{},r)}_onError(r){this._on(mn.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=bg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=bg(r.columns,r.old_record)),a}}const Sg=()=>{},k4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S4{constructor(r,a){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sg,this.ref=0,this.logger=Sg,this.conn=null,this.sendBuffer=[],this.serializer=new p4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...h)=>Tl(async()=>{const{default:m}=await Promise.resolve().then(()=>ai);return{default:m}},void 0).then(({default:m})=>m(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${r}/${_d.websocket}`,this.httpEndpoint=ny(r),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(u,c)=>c(JSON.stringify(u)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ey(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=c4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h4}))}disconnect(r,a){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,l){this.logger(r,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case gl.connecting:return Kr.Connecting;case gl.open:return Kr.Open;case gl.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}channel(r,a={config:{}}){const l=`realtime:${r}`,s=this.getChannels().find(u=>u.topic===l);if(s)return s;{const u=new nf(`realtime:${r}`,a,this);return this.channels.push(u),u}}push(r){const{topic:a,event:l,payload:s,ref:u}=r,c=()=>{this.encode(r,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${a} ${l} (${u})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){let a=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const s={access_token:a,version:f4};a&&l.updateJoinPayload(s),l.joinedOnce&&l._isJoined()&&l._push(mn.access_token,{access_token:a})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(m4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,a=>{let{topic:l,event:s,payload:u,ref:c}=a;l==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${s} ${c&&"("+c+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(l)).forEach(h=>h._trigger(s,u,c)),this.stateChangeCallbacks.message.forEach(h=>h(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(mn.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const l=r.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${r}${l}${s}`}_workerObjectUrl(r){let a;if(r)a=r;else{const l=new Blob([k4],{type:"application/javascript"});a=URL.createObjectURL(l)}return a}}class rf extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class j4 extends rf{constructor(r,a){super(r),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Td extends rf{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var _4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};const ry=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Tl(async()=>{const{default:l}=await Promise.resolve().then(()=>ai);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},E4=()=>_4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tl(()=>Promise.resolve().then(()=>ai),void 0)).Response:Response}),Ad=t=>{if(Array.isArray(t))return t.map(a=>Ad(a));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([a,l])=>{const s=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[s]=Ad(l)}),r};var Wr=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};const nd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),T4=(t,r,a)=>Wr(void 0,void 0,void 0,function*(){const l=yield E4();t instanceof l&&!(a!=null&&a.noResolveJson)?t.json().then(s=>{r(new j4(nd(s),t.status||500))}).catch(s=>{r(new Td(nd(s),s))}):r(new Td(nd(t),t))}),A4=(t,r,a,l)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(s.body=JSON.stringify(l)),Object.assign(Object.assign({},s),a))};function Al(t,r,a,l,s,u){return Wr(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(a,A4(r,l,s,u)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>T4(m,h,l))})})}function so(t,r,a,l){return Wr(this,void 0,void 0,function*(){return Al(t,"GET",r,a,l)})}function wr(t,r,a,l,s){return Wr(this,void 0,void 0,function*(){return Al(t,"POST",r,l,s,a)})}function N4(t,r,a,l,s){return Wr(this,void 0,void 0,function*(){return Al(t,"PUT",r,l,s,a)})}function C4(t,r,a,l){return Wr(this,void 0,void 0,function*(){return Al(t,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),l)})}function ay(t,r,a,l,s){return Wr(this,void 0,void 0,function*(){return Al(t,"DELETE",r,l,s,a)})}var It=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};const R4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O4{constructor(r,a={},l,s){this.url=r,this.headers=a,this.bucketId=l,this.fetch=ry(s)}uploadOrUpdate(r,a,l,s){return It(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},jg),s);let h=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=l,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(a),x=this._getFinalPath(p),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:r,body:u,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:p,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}upload(r,a,l){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,l)})}uploadToSignedUrl(r,a,l,s){return It(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",a);try{let m;const p=Object.assign({upsert:jg.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:m,headers:x}),v=yield y.json();return y.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(m){if(vt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,a){return It(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const u=yield wr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:s}),c=new URL(this.url+u.url),h=c.searchParams.get("token");if(!h)throw new rf("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}update(r,a,l){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,l)})}move(r,a,l){return It(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(r,a,l){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(r,a,l){return It(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),u=yield wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const c=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(r,a,l){return It(this,void 0,void 0,function*(){try{const s=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(r,a){return It(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=u?`?${u}`:"";try{const h=this._getFinalPath(r);return{data:yield(yield so(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(vt(h))return{data:null,error:h};throw h}})}info(r){return It(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const l=yield so(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Ad(l),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}exists(r){return It(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield C4(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(vt(l)&&l instanceof Td){const s=l.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,a){const l=this._getFinalPath(r),s=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&s.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});m!==""&&s.push(m);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${p}`)}}}remove(r){return It(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}list(r,a,l){return It(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},R4),a),{prefix:r||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},l),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const D4="2.7.1",L4={"X-Client-Info":`storage-js/${D4}`};var Va=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};class M4{constructor(r,a={},l){this.url=r,this.headers=Object.assign(Object.assign({},L4),a),this.fetch=ry(l)}listBuckets(){return Va(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}getBucket(r){return Va(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return Va(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}updateBucket(r,a){return Va(this,void 0,void 0,function*(){try{return{data:yield N4(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return Va(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Va(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}}class z4 extends M4{constructor(r,a={},l){super(r,a,l)}from(r){return new O4(this.url,this.headers,r,this.fetch)}}const U4="2.50.4";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const B4={"X-Client-Info":`supabase-js-${fl}/${U4}`},P4={headers:B4},I4={schema:"public"},q4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},H4={};var $4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};const F4=t=>{let r;return t?r=t:typeof fetch>"u"?r=Vx:r=fetch,(...a)=>r(...a)},G4=()=>typeof Headers>"u"?Qx:Headers,Y4=(t,r,a)=>{const l=F4(a),s=G4();return(u,c)=>$4(void 0,void 0,void 0,function*(){var h;const m=(h=yield r())!==null&&h!==void 0?h:t;let p=new s(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},c),{headers:p}))})};var V4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};function Q4(t){return t.endsWith("/")?t:t+"/"}function X4(t,r){var a,l;const{db:s,auth:u,realtime:c,global:h}=t,{db:m,auth:p,realtime:x,global:y}=r,v={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},x),c),global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(l=h==null?void 0:h.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>V4(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const iy="2.70.0",Ja=30*1e3,Nd=3,rd=Nd*Ja,K4="http://localhost:9999",Z4="supabase.auth.token",J4={"X-Client-Info":`gotrue-js/${iy}`},Cd="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eE=6e5;class af extends Error{constructor(r,a,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=l}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tE extends af{constructor(r,a,l){super(r,a,l),this.name="AuthApiError",this.status=a,this.code=l}}function nE(t){return _e(t)&&t.name==="AuthApiError"}class sy extends af{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class Er extends af{constructor(r,a,l,s){super(r,l,s),this.name=a,this.status=l}}class vr extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rE(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Gs extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends Er{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends Er{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aE(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class _g extends Er{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rd extends Er{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function ad(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Eg extends Er{constructor(r,a,l){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=l}}class yl extends Er{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),iE=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<Tg.length;r+=1)t[Tg[r].charCodeAt(0)]=-2;for(let r=0;r<oo.length;r+=1)t[oo[r].charCodeAt(0)]=r;return t})();function Ag(t,r,a){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;a(oo[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;a(oo[l]),r.queuedBits-=6}}function oy(t,r,a){const l=iE[t];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ng(t){const r=[],a=c=>{r.push(String.fromCodePoint(c))},l={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},u=c=>{oE(c,l,a)};for(let c=0;c<t.length;c+=1)oy(t.charCodeAt(c),s,u);return r.join("")}function lE(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sE(t,r){for(let a=0;a<t.length;a+=1){let l=t.charCodeAt(a);if(l>55295&&l<=56319){const s=(l-55296)*1024&65535;l=(t.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}lE(l,r)}}function oE(t,r,a){if(r.utf8seq===0){if(t<=127){a(t);return}for(let l=1;l<6;l+=1)if((t>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function uE(t){const r=[],a={queue:0,queuedBits:0},l=s=>{r.push(s)};for(let s=0;s<t.length;s+=1)oy(t.charCodeAt(s),a,l);return new Uint8Array(r)}function cE(t){const r=[];return sE(t,a=>r.push(a)),new Uint8Array(r)}function dE(t){const r=[],a={queue:0,queuedBits:0},l=s=>{r.push(s)};return t.forEach(s=>Ag(s,a,l)),Ag(null,a,l),r.join("")}function fE(t){return Math.round(Date.now()/1e3)+t}function hE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const hn=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},bl=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function mE(t){const r={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,u)=>{r[u]=s})}catch{}return a.searchParams.forEach((l,s)=>{r[s]=l}),r}const uy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Tl(async()=>{const{default:l}=await Promise.resolve().then(()=>ai);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},pE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cy=async(t,r,a)=>{await t.setItem(r,JSON.stringify(a))},Qs=async(t,r)=>{const a=await t.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Xs=async(t,r)=>{await t.removeItem(r)};class go{constructor(){this.promise=new go.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}go.promiseConstructor=Promise;function id(t){const r=t.split(".");if(r.length!==3)throw new yl("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!W4.test(r[l]))throw new yl("JWT not in base64url format");return{header:JSON.parse(Ng(r[0])),payload:JSON.parse(Ng(r[1])),signature:uE(r[2]),raw:{header:r[0],payload:r[1]}}}async function gE(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function xE(t,r){return new Promise((l,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!r(u,null,c)){l(c);return}}catch(c){if(!r(u,c)){s(c);return}}})()})}function yE(t){return("0"+t.toString(16)).substr(-2)}function bE(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let s="";for(let u=0;u<56;u++)s+=a.charAt(Math.floor(Math.random()*l));return s}return crypto.getRandomValues(r),Array.from(r,yE).join("")}async function vE(t){const a=new TextEncoder().encode(t),l=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(l);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}async function wE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await vE(t);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qa(t,r,a=!1){const l=bE();let s=l;a&&(s+="/PASSWORD_RECOVERY"),await cy(t,`${r}-code-verifier`,s);const u=await wE(l);return[u,l===u?"plain":"s256"]}const kE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SE(t){const r=t.headers.get(Cd);if(!r||!r.match(kE))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function jE(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function _E(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xa(t){if(!EE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var TE=function(t,r){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&r.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(t);s<l.length;s++)r.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(t,l[s])&&(a[l[s]]=t[l[s]]);return a};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),AE=[502,503,504];async function Cg(t){var r;if(!pE(t))throw new Rd(Xr(t),0);if(AE.includes(t.status))throw new Rd(Xr(t),t.status);let a;try{a=await t.json()}catch(u){throw new sy(Xr(u),u)}let l;const s=SE(t);if(s&&s.getTime()>=ly["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?l=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(l=a.error_code),l){if(l==="weak_password")throw new Eg(Xr(a),t.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new vr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Eg(Xr(a),t.status,a.weak_password.reasons);throw new tE(Xr(a),t.status||500,l)}const NE=(t,r,a,l)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(l),Object.assign(Object.assign({},s),a))};async function Le(t,r,a,l){var s;const u=Object.assign({},l==null?void 0:l.headers);u[Cd]||(u[Cd]=ly["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const c=(s=l==null?void 0:l.query)!==null&&s!==void 0?s:{};l!=null&&l.redirectTo&&(c.redirect_to=l.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await CE(t,r,a+h,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function CE(t,r,a,l,s,u){const c=NE(r,l,s,u);let h;try{h=await t(a,Object.assign({},c))}catch(m){throw console.error(m),new Rd(Xr(m),0)}if(h.ok||await Cg(h),l!=null&&l.noResolveJson)return h;try{return await h.json()}catch(m){await Cg(m)}}function Hn(t){var r;let a=null;LE(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=fE(t.expires_in)));const l=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:a,user:l},error:null}}function Rg(t){const r=Hn(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0)&&(r.data.weak_password=t.weak_password),r}function kr(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function RE(t){return{data:t,error:null}}function OE(t){const{action_link:r,email_otp:a,hashed_token:l,redirect_to:s,verification_type:u}=t,c=TE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:r,email_otp:a,hashed_token:l,redirect_to:s,verification_type:u},m=Object.assign({},c);return{data:{properties:h,user:m},error:null}}function DE(t){return t}function LE(t){return t.access_token&&t.refresh_token&&t.expires_in}const ld=["global","local","others"];var ME=function(t,r){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&r.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(t);s<l.length;s++)r.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(t,l[s])&&(a[l[s]]=t[l[s]]);return a};class zE{constructor({url:r="",headers:a={},fetch:l}){this.url=r,this.headers=a,this.fetch=uy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a=ld[0]){if(ld.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,a={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:a}=r,l=ME(r,["options"]),s=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(s.new_email=l==null?void 0:l.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OE,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(_e(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:kr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,l,s,u,c,h,m;try{const p={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(u=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:DE});if(x.error)throw x.error;const y=await x.json(),v=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(m=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(j.split(";")[1].split("=")[1]);p[`${A}Page`]=T}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(_e(p))return{data:{users:[]},error:p};throw p}}async getUserById(r){Xa(r);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:kr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){Xa(r);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,a=!1){Xa(r);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Xa(r.userId);try{const{data:a,error:l}=await Le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:l}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _deleteFactor(r){Xa(r.userId),Xa(r.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}}const UE={getItem:t=>bl()?globalThis.localStorage.getItem(t):null,setItem:(t,r)=>{bl()&&globalThis.localStorage.setItem(t,r)},removeItem:t=>{bl()&&globalThis.localStorage.removeItem(t)}};function Og(t={}){return{getItem:r=>t[r]||null,setItem:(r,a)=>{t[r]=a},removeItem:r=>{delete t[r]}}}function BE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ka={debug:!!(globalThis&&bl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class PE extends dy{}async function IE(t,r,a){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async s=>{if(s){Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await a()}finally{Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(r===0)throw Ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ka.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}BE();const qE={url:K4,storageKey:Z4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dg(t,r,a){return await a()}class kl{constructor(r){var a,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qE),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uy(s.fetch),this.lock=s.lock||Dg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=IE:this.lock=Dg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bl()?this.storage=UE:(this.memoryStorage={},this.storage=Og(this.memoryStorage)):(this.memoryStorage={},this.storage=Og(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iy}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const a=mE(window.location.href);let l="none";if(this._isImplicitGrantCallback(a)?l="implicit":await this._isPKCECallback(a)&&(l="pkce"),hn()&&this.detectSessionInUrl&&l!=="none"){const{data:s,error:u}=await this._getSessionFromURL(a,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),aE(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return _e(a)?{error:a}:{error:new sy("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,l,s;try{const u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hn}),{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var a,l,s;try{let u;if("email"in r){const{email:x,password:y,options:v}=r;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Qa(this.storage,this.storageKey)),u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:y,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:j},xform:Hn})}else if("phone"in r){const{phone:x,password:y,options:v}=r;u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Hn})}else throw new Ys("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let a;if("email"in r){const{email:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rg})}else if("phone"in r){const{phone:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rg})}else throw new Ys("You must provide either an email or phone number and a password");const{data:l,error:s}=a;return s?{data:{user:null,session:null},error:s}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:s})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,l,s,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;if(a==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(r){var a,l,s,u,c,h,m,p,x,y,v,b;let j,T;if("message"in r)j=r.message,T=r.signature;else{const{chain:A,wallet:N,statement:M,options:C}=r;let q;if(hn())if(typeof N=="object")q=N;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))q=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=N}const F=new URL((a=C==null?void 0:C.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in q&&q.signIn){const D=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),M?{statement:M}:null));let Z;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")Z=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)Z=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)j=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),T=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${F.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(l=C==null?void 0:C.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C==null?void 0:C.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(x=C==null?void 0:C.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const D=await q.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=D}}try{const{data:A,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:dE(T)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Hn});if(N)throw N;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Gs}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:N})}catch(A){if(_e(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(r){const a=await Qs(this.storage,`${this.storageKey}-code-verifier`),[l,s]=(a??"").split("/");try{const{data:u,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Hn});if(await Xs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Gs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s??null}),error:c})}catch(u){if(_e(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:a,provider:l,token:s,access_token:u,nonce:c}=r,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:s,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hn}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Gs}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,l,s,u,c;try{if("email"in r){const{email:h,options:m}=r;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Qa(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:h,options:m}=r,{data:p,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(c=m==null?void 0:m.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x}}throw new Ys("You must provide either an email or phone number.")}catch(h){if(_e(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(r){var a,l;try{let s,u;"options"in r&&(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:Hn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var a,l,s;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await Qa(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:RE})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)throw l;if(!a)throw new vr;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:l,type:s,options:u}=r,{error:c}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:l,type:s,options:u}=r,{data:c,error:h}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Ys("You must provide either an email or phone number and a type")}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.storage.isServer){let c=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,p,x)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,x))})}return{data:{session:r},error:null}}const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:kr}):await this._useSession(async a=>{var l,s,u;const{data:c,error:h}=a;if(h)throw h;return!(!((l=c.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:kr})})}catch(a){if(_e(a))return rE(a)&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async l=>{const{data:s,error:u}=l;if(u)throw u;if(!s.session)throw new vr;const c=s.session;let h=null,m=null;this.flowType==="pkce"&&r.email!=null&&([h,m]=await Qa(this.storage,this.storageKey));const{data:p,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:h,code_challenge_method:m}),jwt:c.access_token,xform:kr});if(x)throw x;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vr;const a=Date.now()/1e3;let l=a,s=!0,u=null;const{payload:c}=id(r.access_token);if(c.exp&&(l=c.exp,s=l<=a),s){const{session:h,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:h.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(_e(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var l;if(!r){const{data:c,error:h}=a;if(h)throw h;r=(l=c.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new vr;const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r,a){try{if(!hn())throw new Vs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Vs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new _g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new _g("No code detected.");const{data:M,error:C}=await this._exchangeCodeForSession(r.code);if(C)throw C;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:s,access_token:u,refresh_token:c,expires_in:h,expires_at:m,token_type:p}=r;if(!u||!h||!c||!p)throw new Vs("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let v=x+y;m&&(v=parseInt(m));const b=v-x;b*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const j=v-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:T,error:A}=await this._getUser(u);if(A)throw A;const N={provider_token:l,provider_refresh_token:s,access_token:u,expires_in:y,expires_at:v,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(l){if(_e(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:s,error:u}=a;if(u)return{error:u};const c=(l=s.session)===null||l===void 0?void 0:l.access_token;if(c){const{error:h}=await this.admin.signOut(c,r);if(h&&!(nE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return r!=="others"&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=hE(),l={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async a=>{var l,s;try{const{data:{session:u},error:c}=a;if(c)throw c;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,a={}){let l=null,s=null;this.flowType==="pkce"&&([l,s]=await Qa(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:a,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:l,error:s}=await this._useSession(async u=>{var c,h,m,p,x;const{data:y,error:v}=u;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=r.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return hn()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(_e(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var l,s;const{data:u,error:c}=a;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await xE(async s=>(s>0&&await gE(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Hn})),(s,u)=>{const c=200*Math.pow(2,s);return u&&ad(u)&&Date.now()+c-l<Ja})}catch(l){if(this._debug(a,"error",l),_e(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",l),hn()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Qs(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const s=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rd;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${rd}s`),s){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),ad(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var a,l;if(!r)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new go;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new vr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(s,"error",u),_e(u)){const c={session:null,error:u};return ad(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,a,l=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(r,a)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await cy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await Xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((l.expires_at*1e3-r)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ja}ms, refresh threshold is ${Nd} ticks`),s<=Nd&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof dy)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,l){const s=[`provider=${encodeURIComponent(a)}`];if(l!=null&&l.redirectTo&&s.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&s.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,c]=await Qa(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);s.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&s.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var l,s;const{data:u,error:c}=a;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:m,error:p}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(r.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(r==null?void 0:r.factors)||[],s=l.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=l.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:l,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,l;const{data:{session:s},error:u}=r;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=id(s.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((l=(a=s.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const x=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,a={keys:[]}){let l=a.keys.find(c=>c.kid===r);if(l||(l=this.jwks.keys.find(c=>c.kid===r),l&&this.jwks_cached_at+eE>Date.now()))return l;const{data:s,error:u}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!s.keys||s.keys.length===0)throw new yl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),l=s.keys.find(c=>c.kid===r),!l)throw new yl("No matching signing key found in JWKS");return l}async getClaims(r,a={keys:[]}){try{let l=r;if(!l){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};l=b.session.access_token}const{header:s,payload:u,signature:c,raw:{header:h,payload:m}}=id(l);if(jE(u.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(l);if(b)throw b;return{data:{claims:u,header:s,signature:c},error:null}}const p=_E(s.alg),x=await this.fetchJwk(s.kid,a),y=await crypto.subtle.importKey("jwk",x,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,cE(`${h}.${m}`)))throw new yl("Invalid JWT signature");return{data:{claims:u,header:s,signature:c},error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}}}kl.nextInstanceID=0;const HE=kl;class $E extends HE{constructor(r){super(r)}}var FE=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{p(l.next(x))}catch(y){c(y)}}function m(x){try{p(l.throw(x))}catch(y){c(y)}}function p(x){x.done?u(x.value):s(x.value).then(h,m)}p((l=l.apply(t,r||[])).next())})};class GE{constructor(r,a,l){var s,u,c;if(this.supabaseUrl=r,this.supabaseKey=a,!r)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const h=Q4(r),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,x={db:I4,realtime:H4,auth:Object.assign(Object.assign({},q4),{storageKey:p}),global:P4},y=X4(l??{},x);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=Y4(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new o4(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new J_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new z4(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},l={}){return this.rest.rpc(r,a,l)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return FE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,storageKey:u,flowType:c,lock:h,debug:m},p,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $E({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:u,autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,flowType:c,lock:h,debug:m,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new S4(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,a,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YE=(t,r,a)=>new GE(t,r,a),Lg="https://vqzivktsvicvbdsuouap.supabase.co",VE="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",Gn=(t,r,a)=>{const l=`There was a problem trying to ${t} data for the '${r}' table.`,u=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(a);if(u.toLowerCase().includes('column "user_id" does not exist')||u.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(u.toLowerCase().includes("failed to fetch"))return`${l}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const c=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${r}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${l}

${c}

Technical Details:
${u}`},QE=()=>{if(Lg.includes("your-project-id"))return console.error("Supabase URL or Key is not configured. Please update it in services/supabaseService.ts"),null;try{return YE(Lg,VE)}catch(t){return console.error("Error creating Supabase client:",t),null}},XE=async(t,{email:r,password:a,nama:l})=>{const{data:s,error:u}=await t.auth.signUp({email:r,password:a,options:{data:{nama:l}}});if(u)throw u.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",u),new Error(`Failed to sign up: ${u.message}`));return s},KE=async(t,{email:r,password:a})=>{const{data:l,error:s}=await t.auth.signInWithPassword({email:r,password:a});if(s)throw s;return l},ZE=async t=>{const{error:r}=await t.auth.signOut();if(r)throw r},JE=(t,r)=>{const{data:{subscription:a}}=t.auth.onAuthStateChange((l,s)=>{r(s)});return a},WE=async(t,r)=>{try{const{data:a,error:l}=await t.from("users").select("*").eq("id",r).single();if(l){if(l.code==="PGRST116")return console.warn(`No profile found for user ${r}. A new one may need to be created if this is unexpected.`),null;throw l}return a}catch(a){const l=Gn(`fetch profile for user ${r}`,"users",a);return console.error(l),null}},Mg=async(t,r)=>{const{data:a,error:l}=await t.from("trades").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(l){const s=Gn("fetch","trades",l);throw console.error(s),new Error(s)}return(a||[]).map(s=>({id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:s.trade_setup,rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0}))},fy=async(t,r,a)=>{const{error:l}=await t.from("users").update({initial_trade:a}).eq("id",r);if(l){const s=Gn(`update initial capital for user ${r}`,"users",l);throw console.error(s),new Error(s)}},eT=async(t,r,a,l)=>{const{error:s}=await t.from("users").update({nama:a,describe:l}).eq("id",r);if(s){const u=Gn(`update profile for user ${r}`,"users",s);throw console.error(u),new Error(u)}},tT=async(t,r,a)=>{const l={user_id:a,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:r.tradeSetup,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount??null},{data:s,error:u}=await t.from("trades").insert(l).select().single();if(u){const h=Gn("add","trades",u);throw console.error(h),new Error(h)}if(!s)throw new Error("Failed to add trade: no data returned.");const c=s;return{id:c.id,timestamp:c.created_at,image:c.image,mode:c.mode,marketTrend:c.market_trend,keyPattern:c.key_pattern,indicatorAnalysis:c.indicator_analysis,tradeBias:c.trade_bias,tradeSetup:c.trade_setup,rationale:c.rationale,confidenceScore:c.confidence_score,status:c.status,outcomeAmount:c.outcome_amount??void 0}},nT=async(t,r,a,l,s)=>{const{error:u}=await t.from("trades").update({status:a,outcome_amount:l}).eq("id",r).eq("user_id",s);if(u){const c=Gn(`update status for trade ${r}`,"trades",u);throw console.error(c),new Error(c)}},rT=async(t,r,a)=>{const{error:l}=await t.from("trades").delete().eq("id",r).eq("user_id",a);if(l){const s=Gn(`delete trade ${r}`,"trades",l);throw console.error(s),new Error(s)}},aT=async t=>{await new Promise(m=>setTimeout(m,500));const r=[{symbol:"BTC",name:"Bitcoin",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/btc.svg",amount:.75,avgBuyPrice:45e3},{symbol:"ETH",name:"Ethereum",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/eth.svg",amount:15,avgBuyPrice:3e3},{symbol:"SOL",name:"Solana",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/sol.svg",amount:250,avgBuyPrice:100},{symbol:"ADA",name:"Cardano",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/ada.svg",amount:1e4,avgBuyPrice:.85},{symbol:"XAU",name:"Gold Spot",logoUrl:"https://img.icons8.com/fluency/48/gold-bars.png",amount:5,avgBuyPrice:2050}];let a=0,l=0,s=0;const u=r.map(m=>{const p=(Math.random()-.5)*.1,x=m.avgBuyPrice*(1+p),y=x/(1+(Math.random()-.5)*.04),v=m.amount*x,b=(x-m.avgBuyPrice)*m.amount,j=m.amount*y,T=v-j;return a+=v,l+=b,s+=T,{...m,currentPrice:x,value:v,totalPl:b}}),c=a-s,h=c>0?s/c*100:0;return{assets:u,totalValue:a,totalPl:l,pl24h:s,pl24hPercent:h}},iT=async t=>{try{const{data:r,error:a}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(a){if(a.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw a}return r}catch(r){const a=Gn("fetch","settings",r);throw console.error(a),new Error(a)}},lT=async(t,r)=>{const{error:a}=await t.from("settings").update({gemini_api_key:r}).eq("id",1);if(a){const l=Gn("update Gemini API key in","settings",a);throw console.error(l),new Error(l)}},zg=({supabaseClient:t,onClose:r})=>{const[a,l]=$.useState("login"),[s,u]=$.useState(""),[c,h]=$.useState(""),[m,p]=$.useState(""),[x,y]=$.useState(!0),[v,b]=$.useState(!1),[j,T]=$.useState("");$.useEffect(()=>{const C=q=>{q.key==="Escape"&&r()};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[r]),$.useEffect(()=>{const C=localStorage.getItem("rememberedEmail");C?(u(C),y(!0)):y(!1)},[]);const A=C=>/^\S+@\S+\.\S+$/.test(C),N=async C=>{if(C.preventDefault(),b(!0),T(""),!A(s)){T("Please enter a valid email address."),b(!1);return}if(c.length<6){T("Password must be at least 6 characters."),b(!1);return}if(a==="register"&&m.trim().length<2){T("Name must be at least 2 characters."),b(!1);return}try{a==="login"?(await KE(t,{email:s,password:c}),x?localStorage.setItem("rememberedEmail",s):localStorage.removeItem("rememberedEmail")):await XE(t,{email:s,password:c,nama:m})}catch(q){T(q.message||"An unexpected error occurred.")}finally{b(!1)}},M=()=>{l(a==="login"?"register":"login"),T(""),h(""),p("")};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:C=>C.stopPropagation(),children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:f.jsx(jn,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:a==="login"?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:a==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),f.jsxs("form",{onSubmit:N,className:"mt-8 space-y-6",children:[a==="register"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:m,onChange:C=>p(C.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:C=>u(C.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:a==="login"?"current-password":"new-password",required:!0,value:c,onChange:C=>h(C.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),a==="login"&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:C=>y(C.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),j&&f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:j}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:v?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):a==="login"?"Sign in":"Register"})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a==="login"?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:M,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:a==="login"?"Register":"Sign in"})]})})]})})},sT=({initialCapital:t,supabaseClient:r,user:a,userProfile:l,geminiApiKey:s,apiStatus:u,onApiKeyUpdate:c,onCapitalUpdate:h,onProfileUpdate:m,onWithdraw:p})=>{const[x,y]=$.useState(s),[v,b]=$.useState(!1),[j,T]=$.useState(""),[A,N]=$.useState(!1),[M,C]=$.useState(String(t)),[q,F]=$.useState(!1),[D,Z]=$.useState(""),[ee,oe]=$.useState(!1),[L,re]=$.useState(""),[J,le]=$.useState(!1),[te,ae]=$.useState(""),[B,K]=$.useState(!1),[se,he]=$.useState(""),[k,G]=$.useState(""),[V,_]=$.useState(!1),[ue,ge]=$.useState(""),[de,$e]=$.useState(!1);$.useEffect(()=>{l&&(he(l.nama||""),G(l.describe||""))},[l]),$.useEffect(()=>{C(String(t))},[t]),$.useEffect(()=>{y(s)},[s]);const je=async()=>{if(b(!0),T(""),N(!1),!x.trim()){T("API Key cannot be empty."),N(!0),b(!1),setTimeout(()=>T(""),5e3);return}try{await c(x),T("API Key updated and verified successfully!"),N(!1)}catch(Ce){const it=Ce instanceof Error?Ce.message:"Failed to save or verify API key.";T(it),N(!0)}finally{b(!1),setTimeout(()=>T(""),5e3)}},et=async()=>{if(F(!0),Z(""),oe(!1),!r||!a){Z("You must be logged in to save settings."),oe(!0),F(!1);return}const Ce=Number(M);if(isNaN(Ce)||Ce<0){Z("Please enter a valid positive number."),oe(!0),F(!1);return}try{await fy(r,a.id,Ce),h(Ce),Z("Base capital updated successfully!"),oe(!1),setTimeout(()=>Z(""),3e3)}catch(it){const ht=it instanceof Error?it.message:"Failed to save capital to the database.";Z(ht),oe(!0)}finally{F(!1)}},Ve=async()=>{le(!0),ae(""),K(!1);const Ce=Number(L);if(isNaN(Ce)||Ce<=0){ae("Please enter a valid positive withdrawal amount."),K(!0),le(!1);return}if(Ce>t){ae("Withdrawal amount cannot exceed your current capital."),K(!0),le(!1);return}try{await p(Ce),ae("Withdrawal successful!"),K(!1),re(""),setTimeout(()=>ae(""),3e3)}catch(it){const ht=it instanceof Error?it.message:"Failed to process withdrawal.";ae(ht),K(!0)}finally{le(!1)}},_t=async()=>{if(_(!0),ge(""),$e(!1),!r||!a){ge("You must be logged in to save settings."),$e(!0),_(!1);return}if(se.trim().length<2){ge("Name must be at least 2 characters."),$e(!0),_(!1);return}if(k.length>200){ge("Description cannot exceed 200 characters."),$e(!0),_(!1);return}try{await eT(r,a.id,se,k),m({name:se,description:k}),ge("Profile updated successfully!"),$e(!1),setTimeout(()=>ge(""),3e3)}catch(Ce){const it=Ce instanceof Error?Ce.message:"Failed to save profile to the database.";ge(it),$e(!0)}finally{_(!1)}};return f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),f.jsxs("main",{className:"space-y-8",children:[f.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:se,onChange:Ce=>he(Ce.target.value),placeholder:"Your Name",disabled:!r||!a||V})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),f.jsx("div",{className:"mt-1",children:f.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:k,onChange:Ce=>G(Ce.target.value),placeholder:"A short bio about your trading style",disabled:!r||!a||V})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("button",{onClick:_t,disabled:!r||!a||V,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:V?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),f.jsx("div",{className:"h-5 mt-2",children:ue&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${de?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[de?f.jsx(jn,{className:"w-5 h-5"}):f.jsx(jr,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium whitespace-pre-wrap",children:ue})]})})]})]})]}),f.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (Google Gemini)"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your Google Gemini API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),f.jsx("div",{className:"mt-1 flex items-center gap-2",children:f.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:x,onChange:Ce=>y(Ce.target.value),placeholder:"Enter your Gemini API Key",disabled:!r||!a||v})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("button",{onClick:je,disabled:!r||!a||v||u==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v||u==="verifying"?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),f.jsx("div",{className:"h-5 mt-2",children:j&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${A?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[A?f.jsx(jn,{className:"w-5 h-5"}):f.jsx(jr,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium whitespace-pre-wrap",children:j})]})})]})]})]}),f.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),f.jsxs("div",{className:"max-w-xl",children:[f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),f.jsx("input",{type:"number",id:"initialCapital",disabled:!r||!a||q,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:M,onChange:Ce=>C(Ce.target.value)})]}),f.jsxs("div",{className:"mt-4 flex flex-col",children:[f.jsx("button",{onClick:et,disabled:!r||!a||q,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:q?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),f.jsx("div",{className:"h-5 mt-2",children:D&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${ee?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ee?f.jsx(jn,{className:"w-5 h-5"}):f.jsx(jr,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium whitespace-pre-wrap",children:D})]})})]}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),f.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!r||!a||J,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:L,onChange:Ce=>re(Ce.target.value)})]}),f.jsxs("div",{className:"mt-4 flex flex-col",children:[f.jsx("button",{onClick:Ve,disabled:!r||!a||J||!L,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),f.jsx("div",{className:"h-5 mt-2",children:te&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${B?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[B?f.jsx(jn,{className:"w-5 h-5"}):f.jsx(jr,{className:"w-5 h-5"}),f.jsx("span",{className:"font-medium whitespace-pre-wrap",children:te})]})})]})]})]})]})]})]})},Ks=[{id:1,time:"00:30",currency:"AUD",flag:"",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],oT=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(uo,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[f.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),f.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),uT=()=>{const[t,r]=$.useState("today"),a=$.useMemo(()=>{switch(t){case"today":return Ks.slice(0,10);case"tomorrow":return Ks.slice(10);case"thisWeek":return Ks;case"nextWeek":return[];default:return Ks}},[t]),l=({buttonFilter:c,children:h})=>f.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===c?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),s=({count:c})=>f.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,m)=>f.jsx("svg",{className:`w-4 h-4 ${m<c?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},m))}),u=({value:c,better:h})=>{const m=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return f.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${m}`,children:c||"-"})};return f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),f.jsx(oT,{}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[f.jsx(l,{buttonFilter:"today",children:"Today"}),f.jsx(l,{buttonFilter:"tomorrow",children:"Tomorrow"}),f.jsx(l,{buttonFilter:"thisWeek",children:"This Week"}),f.jsx(l,{buttonFilter:"nextWeek",children:"Next Week"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[600px]",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(c=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.time}),f.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{children:c.flag}),f.jsx("span",{children:c.currency})]})}),f.jsx("td",{className:"px-4 py-3",children:f.jsx(s,{count:c.importance})}),f.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.event}),f.jsx(u,{value:c.actual,better:c.betterThanForecast}),f.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.forecast||"-"}),f.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.previous||"-"})]},c.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},cT=({assets:t,theme:r})=>{const a=$.useRef(null),l=$.useRef(null),s=["#8b5cf6","#3b82f6","#10b981","#f97316","#ec4899","#f59e0b","#6366f1","#06b6d4"],u=["#7c3aed","#2563eb","#059669","#ea580c","#db2777","#d97706","#4f46e5","#0891b2"];return $.useEffect(()=>{if(!a.current||!t.length)return;const c=a.current.getContext("2d");if(!c)return;l.current&&l.current.destroy();const h=t.map(b=>b.name),m=t.map(b=>b.value),p=t.map((b,j)=>s[j%s.length]),x=t.map((b,j)=>u[j%u.length]),y=r==="dark",v=y?"rgba(203, 213, 225, 0.9)":"rgba(51, 65, 85, 1)";return l.current=new window.Chart(c,{type:"doughnut",data:{labels:h,datasets:[{label:"Portfolio Value",data:m,backgroundColor:p,hoverBackgroundColor:x,borderColor:y?"#1f2937":"#ffffff",borderWidth:2,hoverOffset:8}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{color:v,usePointStyle:!0,boxWidth:8,padding:20,font:{family:"inherit",size:12}}},tooltip:{enabled:!0,backgroundColor:y?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.85)",borderColor:y?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:y?"#f1f5f9":"#1e293b",bodyColor:y?"#94a3b8":"#475569",bodySpacing:6,padding:12,cornerRadius:8,usePointStyle:!0,callbacks:{label:function(b){let j=b.dataset.label||"";return j&&(j+=": "),b.parsed!==null&&(j+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b.parsed)),j},afterLabel:function(b){const j=b.chart.getDatasetMeta(0).total||1;return`(${(b.parsed/j*100).toFixed(2)}%)`}}}}}}),()=>{l.current&&l.current.destroy()}},[t,r]),f.jsx("div",{className:"relative h-96 w-full",children:t.length>0?f.jsx("canvas",{ref:a}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:"No assets in portfolio to display chart."})})})},sd=({label:t,value:r,subvalue:a,valueColor:l})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),f.jsx("p",{className:`text-3xl font-bold mt-2 ${l||"text-slate-800 dark:text-slate-100"}`,children:r}),a&&f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:a})]}),dT=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),fT=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(uo,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[f.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),f.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),hT=({apiKey:t,apiStatus:r,portfolioData:a,theme:l,updateTokenUsage:s})=>{const[u,c]=$.useState(""),[h,m]=$.useState(!1),[p,x]=$.useState(""),[y,v]=$.useState(!1),b=(ee,oe=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:oe,maximumFractionDigits:oe}).format(ee),j=$.useCallback(async ee=>{if(r!=="valid"){c("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),m(!1);return}m(!0);try{const{analysisText:oe,usage:L}=await B_(t,a,ee);c(oe),s(L)}catch(oe){console.error("Failed to get AI financial advice:",oe);const L=oe instanceof Error?oe.message:String(oe);let re="Terjadi kesalahan saat mengambil saran keuangan AI.";L.toLowerCase().includes("quota")||L.toLowerCase().includes("rate limit")?re="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":L.toLowerCase().includes("api key")||L.toLowerCase().includes("unauthorized")?re="API key tidak valid. Silakan periksa pengaturan API key Anda.":L.toLowerCase().includes("network")||L.toLowerCase().includes("fetch")?re="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":L.toLowerCase().includes("invalid response")||L.toLowerCase().includes("format")?re="Format respons AI tidak valid. Silakan coba lagi.":L.toLowerCase().includes("portfolio data")?re="Data portfolio tidak tersedia. Silakan muat ulang halaman.":L.toLowerCase().includes("timeout")?re="Request timeout. Silakan coba lagi.":re=`Error: ${L}`,c(re)}finally{m(!1)}},[t,r,a,s]);$.useEffect(()=>{a&&!y&&(j("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[a,j,y]);const T=ee=>{ee.preventDefault(),p.trim()&&j(p)};if(!a)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."})]});const{totalValue:A,totalPl:N,pl24h:M,pl24hPercent:C,assets:q}=a,F=N>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",D=M>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",Z=M>=0?"+":"";return f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),f.jsx(fT,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(sd,{label:"Total Portfolio Value",value:b(A),subvalue:"Across all tracked assets"}),f.jsx(sd,{label:"Total Profit / Loss",value:b(N),valueColor:F,subvalue:"Represents overall unrealized P/L"}),f.jsx(sd,{label:"24-Hour Change",value:`${Z}${b(M)}`,valueColor:D,subvalue:`${Z}${C.toFixed(2)}%`})]}),f.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[f.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),f.jsx("tbody",{children:q.map(ee=>f.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[f.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[f.jsx("img",{src:ee.logoUrl,alt:ee.name,className:"h-8 w-8"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:ee.name}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ee.symbol})]})]}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:ee.amount.toLocaleString()}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:b(ee.currentPrice,2)})]}),f.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:b(ee.avgBuyPrice,2)}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:b(ee.value)}),f.jsxs("p",{className:`text-xs font-semibold ${ee.totalPl>=0?"text-emerald-500":"text-red-500"}`,children:[ee.totalPl>=0?"+":"",b(ee.totalPl)]})]})]},ee.symbol))})]})})]}),f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Asset Allocation"}),f.jsx(cT,{assets:q,theme:l})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"flex-shrink-0 bg-violet-100 dark:bg-violet-900/50 p-2 rounded-full",children:f.jsx(Dd,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Your AI Financial Advisor"})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg min-h-[120px]",children:h?f.jsx(dT,{}):u&&(u.toLowerCase().includes("error")||u.toLowerCase().includes("unavailable")||u.toLowerCase().includes("failed")||u.toLowerCase().includes("quota")||u.toLowerCase().includes("terjadi kesalahan"))?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:u}),f.jsxs("button",{onClick:()=>j(p||"Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:h,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):f.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:f.jsx(Xd,{children:u,remarkPlugins:[Wd]})})}),f.jsxs("form",{onSubmit:T,className:"mt-4 flex gap-3",children:[f.jsx("input",{type:"text",value:p,onChange:ee=>x(ee.target.value),placeholder:"Ask a follow-up question about your portfolio...",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",disabled:h}),f.jsx("button",{type:"submit",disabled:h||!p.trim()||r!=="valid",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:h?f.jsx(Sr,{className:"w-5 h-5"}):"Get Advice"})]})]})]})},Ug=()=>f.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:f.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[f.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:f.jsx(Pv,{className:"h-8 w-8 text-red-400"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),f.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),f.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[f.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),f.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[f.jsxs("li",{children:[f.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),f.jsxs("li",{children:["Go to your ",f.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),f.jsxs("li",{children:["Navigate to: ",f.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),f.jsxs("li",{children:["Find the ",f.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),f.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",f.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),f.jsxs("li",{children:["Click ",f.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[f.jsx(Fv,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),Bg=({isOpen:t,onClose:r,onConfirm:a,title:l,message:s,confirmText:u="Confirm",cancelText:c="Cancel",isDestructive:h=!1,isLoading:m=!1})=>{if($.useEffect(()=>{const v=b=>{b.key==="Escape"&&r()};return t&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[t,r]),!t)return null;const p=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",x=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=h?f.jsx(Ig,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):f.jsx(uo,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[f.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${x}`,children:y}),f.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:l}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),f.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[f.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${p}`,onClick:a,disabled:m,children:m?f.jsx(Sr,{className:"w-5 h-5 animate-spin"}):u}),f.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:r,disabled:m,children:c})]})]})})},od={scalp:{title:"Scalp Trading",icon:f.jsx(to,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:f.jsx(ud,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:f.jsx(no,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:f.jsx(cd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},mT=()=>f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-3 sm:p-4 rounded-lg",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Ig,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 dark:text-yellow-500"})}),f.jsx("div",{className:"ml-2 sm:ml-3",children:f.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200 leading-relaxed",children:[f.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),f.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),pT=({text:t})=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 sm:p-4 rounded-lg",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(uo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-2 sm:ml-3",children:f.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:t})})]})}),Pg=({tabName:t,activeTab:r,setActiveTab:a,children:l})=>f.jsx("button",{onClick:()=>a(t),className:`px-3 sm:px-6 py-2 text-xs sm:text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${r===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:l});function gT(t){return t==="home"}function xT(){const[t,r]=$.useState("light"),[a,l]=$.useState("home"),[s,u]=$.useState("all"),[c,h]=$.useState(!1),[m,p]=$.useState(null),[x,y]=$.useState(null),[v,b]=$.useState(null),[j,T]=$.useState(!1),[A,N]=$.useState(""),[M,C]=$.useState("idle"),[q,F]=$.useState(1e4),[D,Z]=$.useState(0),[ee,oe]=$.useState(0),[L,re]=$.useState("setup"),[J,le]=$.useState(!1),[te,ae]=$.useState(!1),[B,K]=$.useState(!1),[se,he]=$.useState(null),[k,G]=$.useState(!1),[V,_]=$.useState(null),[ue,ge]=$.useState([]),[de,$e]=$.useState(null),[je,et]=$.useState(null),[Ve,_t]=$.useState(null),[Ce,it]=$.useState(od.scalp.initialRiskParams);$.useEffect(()=>{const W=localStorage.getItem("activeMode");W&&W!=="home"&&l(W)},[]),$.useEffect(()=>{a!=="home"&&localStorage.setItem("activeMode",a)},[a]),$.useEffect(()=>{const W=localStorage.getItem("activeTab");W&&re(W)},[]),$.useEffect(()=>{localStorage.setItem("activeTab",L)},[L]),$.useEffect(()=>{V?localStorage.setItem("currentAnalysis",JSON.stringify(V)):localStorage.removeItem("currentAnalysis")},[V]),$.useEffect(()=>{const W=localStorage.getItem("currentAnalysis");if(W)try{const ce=JSON.parse(W);_(ce)}catch(ce){console.error("Failed to parse saved analysis:",ce),localStorage.removeItem("currentAnalysis")}},[]),$.useEffect(()=>{localStorage.setItem("riskParams",JSON.stringify(Ce))},[Ce]),$.useEffect(()=>{const W=localStorage.getItem("riskParams");if(W)try{const ce=JSON.parse(W);it(ce)}catch(ce){console.error("Failed to parse saved risk params:",ce),localStorage.removeItem("riskParams")}},[]),$.useEffect(()=>{const W=()=>{if(!document.hidden){const ce=localStorage.getItem("activeMode");ce&&ce!==a&&ce!=="home"&&l(ce)}};return document.addEventListener("visibilitychange",W),()=>{document.removeEventListener("visibilitychange",W)}},[a]);const ht=$.useCallback(W=>{const ce=W instanceof Error?W.message:String(W);ce.includes("Cross-Origin Resource Sharing")?(G(!0),console.error(W)):he(ce)},[]),Yn=$.useCallback(async W=>{if(!W){C("idle"),N("");return}N(W),C("verifying");const ce=await P_(W);C(ce?"valid":"invalid")},[]),{netPL:Vn}=$.useMemo(()=>({netPL:ue.filter(ye=>ye.status!=="pending"&&ye.outcomeAmount!==void 0).reduce((ye,me)=>me.status==="profit"?ye+(me.outcomeAmount||0):me.status==="stop-loss"?ye-(me.outcomeAmount||0):ye,0)}),[ue]),nt=$.useMemo(()=>q+Vn,[q,Vn]);$.useEffect(()=>{const W=QE();if(p(W),W){const ce=JE(W,async ye=>{const me=(ye==null?void 0:ye.user)??null;if(me){const Ae=await WE(W,me.id);Ae?(y(me),b(Ae),Ae.initial_trade&&F(Ae.initial_trade),T(!1),a==="home"&&l("dashboard")):(console.error(`User ${me.id} authenticated but has no profile in 'public.users'. Logging out.`),ht("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await ZE(W))}else y(null),b(null),ge([]),F(1e4),N(""),C("idle"),["dashboard","scalp","swing","day","position","settings","portfolio"].includes(a)&&l("home")});return()=>ce.unsubscribe()}},[ht,a]),$.useEffect(()=>{const W=localStorage.getItem("theme");W&&r(W);const ce=localStorage.getItem("totalTokens");ce&&oe(Number(ce)),m&&(async()=>{if(!m){he("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(x){const[me,Ae]=await Promise.all([Mg(m,x.id),iT(m)]);ge(me),Ae!=null&&Ae.gemini_api_key&&await Yn(Ae.gemini_api_key)}he(null)}catch(me){ht(me)}})()},[m,x,ht,Yn]);const ii=async W=>{if(!m)throw new Error("Database client not available.");await lT(m,W),await Yn(W)},Tr=$.useCallback(W=>{F(W)},[]),Ar=$.useCallback(W=>{b(ce=>ce?{...ce,nama:W.name,describe:W.description}:null)},[]),Qn=async W=>{if(!m||!x)throw new Error("You must be logged in to make a withdrawal.");const ce=q-W;if(ce<0)throw new Error("Withdrawal amount exceeds available capital.");await fy(m,x.id,ce),F(ce)};$.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),$.useEffect(()=>{localStorage.setItem("totalTokens",String(ee))},[ee]),$.useEffect(()=>{it(W=>({...W,currentEquity:nt,accountBalance:String(nt.toFixed(2))}))},[nt]);const li=W=>ue.filter(ce=>ce.mode===W),gn=async W=>{if(W===a)return;if(["dashboard","scalp","swing","day","position","settings","portfolio"].includes(W)&&!x){T(!0);return}if(W==="portfolio"&&!de){K(!0);try{const ye=await aT((x==null?void 0:x.id)??"");$e(ye)}catch(ye){ht(ye)}finally{K(!1)}}if(W!=="dashboard"&&W!=="home"&&W!=="settings"&&W!=="economic-calendar"&&W!=="portfolio"){const ye=W;if(u(ye),a!==W){const me={...od[ye].initialRiskParams};me.accountBalance=String(nt.toFixed(2)),it(me),_(null),he(null),re("setup")}else it(me=>({...me,accountBalance:String(nt.toFixed(2))}))}l(W)},Nr=W=>{Z(ce=>ce+W.total),oe(ce=>ce+W.total)},si=$.useCallback(async W=>{if(a==="dashboard"||a==="home"||a==="settings"||a==="economic-calendar"||a==="portfolio")return;if(!m){he("Not connected to database. Please check settings."),l("settings");return}if(!x){he("You must be logged in to analyze a chart."),T(!0);return}if(M!=="valid"){he("Your Gemini API key is not valid. Please check it in Settings."),l("settings");return}if(J){console.log("Analysis already in progress, ignoring new request");return}const ce=a;le(!0),he(null),_(null);try{const{analysis:ye,usage:me}=await z_(A,W,Ce,ce,nt);if(Nr(me),!ye||!ye.tradeSetup||!ye.marketTrend||!ye.tradeBias)throw new Error("AI response format is invalid. The analysis data is incomplete.");const Ae=await new Promise((wt,xn)=>{const En=new FileReader;En.onloadend=()=>{try{const ea=En.result;wt(ea)}catch{xn(new Error("Failed to process image file"))}},En.onerror=()=>xn(new Error("Failed to read image file")),En.readAsDataURL(W)});try{const wt={...ye,mode:ce,image:Ae,status:"pending"},xn=await tT(m,wt,x.id);ge(En=>[xn,...En]),_(xn)}catch(wt){console.error("Database save error:",wt);const xn={...ye,id:`temp-${Date.now()}`,timestamp:new Date().toISOString(),mode:ce,image:Ae,status:"pending"};_(xn),he("Analysis completed but failed to save to database. Please try again.")}}catch(ye){console.error("Chart analysis error:",ye);const me=ye instanceof Error?ye.message:String(ye);let Ae="Terjadi kesalahan saat menganalisis chart.";me.toLowerCase().includes("quota")||me.toLowerCase().includes("rate limit")?Ae="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":me.toLowerCase().includes("api key")||me.toLowerCase().includes("unauthorized")?Ae="API key tidak valid. Silakan periksa pengaturan API key Anda.":me.toLowerCase().includes("network")||me.toLowerCase().includes("fetch")?Ae="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":me.toLowerCase().includes("invalid response")||me.toLowerCase().includes("format")?Ae="Format respons AI tidak valid. Silakan coba lagi.":me.toLowerCase().includes("image")||me.toLowerCase().includes("file")?Ae="Gagal memproses file gambar. Pastikan file valid dan coba lagi.":me.toLowerCase().includes("timeout")?Ae="Request timeout. Silakan coba lagi.":me.toLowerCase().includes("incomplete")?Ae="Data analisis tidak lengkap. Silakan coba lagi dengan gambar yang berbeda.":Ae=`Error: ${me}`,he(Ae),_(null)}finally{le(!1)}},[A,M,Ce,a,m,x,ht,nt,J]),H=()=>{_(null),he(null),localStorage.removeItem("currentAnalysis")},ne=async(W,ce,ye)=>{if(!m||!x){he("Database not connected. Cannot save result.");return}try{await nT(m,W,ce,ye,x.id);const me=await Mg(m,x.id);ge(me),V&&V.id===W&&_(Ae=>Ae?{...Ae,status:ce,outcomeAmount:ye}:null)}catch(me){ht(me)}et(null)},xe=W=>{_(W),re("setup")},ve=W=>{_t(W)},Be=async()=>{if(!Ve||!m||!x){he("Could not delete trade. Missing information.");return}ae(!0),he(null);try{await rT(m,Ve.id,x.id),ge(W=>W.filter(ce=>ce.id!==Ve.id)),(V==null?void 0:V.id)===Ve.id&&_(null)}catch(W){ht(W)}finally{ae(!1),_t(null)}};$.useEffect(()=>{if(se){const W=setTimeout(()=>he(null),1e4);return()=>clearTimeout(W)}},[se]);const Ot=W=>{try{const ce=od[W],ye=li(W);return f.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:ce.title}),f.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:ce.subtitle})]}),ce.description&&f.jsx(pT,{text:ce.description}),f.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-200 dark:border-blue-700 p-4 sm:p-6 rounded-lg",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Recommended Timeframe"}),f.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:ce.calculator.timeframeSettings.text})]})]})}),W==="swing"&&f.jsx(mT,{}),f.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8",children:[f.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[se&&f.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"})]}),f.jsx("p",{className:"text-red-700 dark:text-red-300 mt-1",children:se})]}),J?f.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-violet-600 dark:border-violet-400"}),f.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]}):V?f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),f.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),f.jsx(S_,{analysis:V,riskParams:Ce,onBackToUploader:H})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:ce.icon}),f.jsx("h2",{className:"ml-3 text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100",children:ce.title})]}),f.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mb-6 ml-9 sm:ml-11",children:ce.subtitle}),f.jsx(Xv,{onImageSelect:si,isLoading:J})]})]})}),f.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[V&&V.status==="pending"&&f.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[f.jsxs("button",{onClick:()=>et({analysisId:V.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[f.jsx(jr,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),f.jsxs("button",{onClick:()=>et({analysisId:V.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[f.jsx(jn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),f.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-4 sm:px-6",children:[f.jsx(Pg,{tabName:"setup",activeTab:L,setActiveTab:re,children:"Trade Setup"}),f.jsx(Pg,{tabName:"history",activeTab:L,setActiveTab:re,children:"History"})]}),f.jsx("div",{className:"flex-1 min-h-0",children:L==="setup"?f.jsx("div",{className:"h-full overflow-y-auto",children:f.jsx(Kv,{params:Ce,setParams:it,timeframeSettings:ce.calculator.timeframeSettings,currentAnalysis:V})}):(()=>{console.log("HistoryPanel: currentHistory length:",ye==null?void 0:ye.length),console.log("HistoryPanel: currentHistory data:",ye),console.log("HistoryPanel: currentAnalysisId:",V==null?void 0:V.id);try{return f.jsx(__,{history:ye,onSelect:xe,onDeleteRequest:ve,currentAnalysisId:V==null?void 0:V.id})}catch(me){return console.error("Error rendering HistoryPanel:",me),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(Zs,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error loading history"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please try refreshing the page."}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}})()})]})]})]})}catch(ce){return console.error("Error rendering trading view:",ce),f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Error Loading Trading View"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Something went wrong while loading the trading interface."}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})}},un=()=>{if(B)return f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})});if(!m&&a!=="home")return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(a){case"dashboard":return f.jsx(q_,{updateTokenUsage:Nr,apiKey:A,apiStatus:M,allTrades:ue,mode:s,setDashboardSource:u,theme:t,initialCapital:q,netPL:Vn,currentEquity:nt,user:x,onLogoutClick:()=>m==null?void 0:m.auth.signOut(),onNavigate:gn});case"settings":return f.jsx(sT,{initialCapital:q,supabaseClient:m,user:x,userProfile:v,geminiApiKey:A,apiStatus:M,onApiKeyUpdate:ii,onCapitalUpdate:Tr,onProfileUpdate:Ar,onWithdraw:Qn});case"economic-calendar":return f.jsx(uT,{});case"portfolio":return f.jsx(hT,{apiKey:A,apiStatus:M,portfolioData:de,theme:t,updateTokenUsage:Nr});case"scalp":case"swing":case"day":case"position":return Ot(a);default:return null}};return a==="home"?f.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[k&&f.jsx(Ug,{}),je&&f.jsx(ig,{type:je.type,onSave:W=>ne(je.analysisId,je.type,W),onClose:()=>et(null)}),Ve&&f.jsx(Bg,{isOpen:!!Ve,onClose:()=>_t(null),onConfirm:Be,title:"Delete Trade Analysis",message:f.jsxs("p",{children:["Are you sure you want to delete this signal? ",f.jsx("br",{}),f.jsx("span",{className:"font-semibold",children:Ve.tradeSetup.tradeType})," for ",f.jsx("span",{className:"font-semibold",children:Ve.keyPattern})," from ",f.jsx("span",{className:"font-mono text-xs",children:new Date(Ve.timestamp).toLocaleString()}),".",f.jsx("br",{}),f.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:te}),j&&m&&f.jsx(zg,{supabaseClient:m,onClose:()=>T(!1)}),se&&f.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:se})]}),f.jsx("button",{onClick:()=>he(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),f.jsx(og,{onNavigate:gn,theme:t,setTheme:r,user:x,onLoginClick:()=>T(!0),onLogoutClick:()=>m==null?void 0:m.auth.signOut(),showUserIcon:!1,activeMode:a}),f.jsx("main",{className:"flex-1 overflow-hidden",children:f.jsx(Y_,{onNavigate:gn})})]}):f.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[k&&f.jsx(Ug,{}),je&&f.jsx(ig,{type:je.type,onSave:W=>ne(je.analysisId,je.type,W),onClose:()=>et(null)}),Ve&&f.jsx(Bg,{isOpen:!!Ve,onClose:()=>_t(null),onConfirm:Be,title:"Delete Trade Analysis",message:f.jsxs("p",{children:["Are you sure you want to delete this signal? ",f.jsx("br",{}),f.jsx("span",{className:"font-semibold",children:Ve.tradeSetup.tradeType})," for ",f.jsx("span",{className:"font-semibold",children:Ve.keyPattern})," from ",f.jsx("span",{className:"font-mono text-xs",children:new Date(Ve.timestamp).toLocaleString()}),".",f.jsx("br",{}),f.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:te}),j&&m&&f.jsx(zg,{supabaseClient:m,onClose:()=>T(!1)}),se&&f.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("strong",{className:"font-bold",children:"Error! "}),f.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:se})]}),f.jsx("button",{onClick:()=>he(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),f.jsx(og,{onNavigate:gn,theme:t,setTheme:r,user:x,onLoginClick:()=>T(!0),onLogoutClick:()=>m==null?void 0:m.auth.signOut(),onMobileMenuToggle:()=>h(!c),showUserIcon:!gT(a),activeMode:a}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[f.jsx(E_,{activeMode:a,onModeChange:gn,theme:t,setTheme:r,apiStatus:M,sessionTokens:D,totalTokens:ee,isMobileMenuOpen:c,onMobileMenuToggle:()=>h(!c)}),f.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-hidden",children:un()})]})]})}const hy=document.getElementById("root");if(!hy)throw new Error("Could not find root element to mount to");const yT=Uv.createRoot(hy);yT.render(f.jsx(eo.StrictMode,{children:f.jsx(xT,{})}));
