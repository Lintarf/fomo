(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=a(s);fetch(s.href,u)}})();function jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Av(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var s=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(a,l,s.get?s:{enumerable:!0,get:function(){return t[l]}})}),a}var Ac={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Tv(){if(Xm)return al;Xm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(l,s,u){var c=null;if(u!==void 0&&(c=""+u),s.key!==void 0&&(c=""+s.key),"key"in s){u={};for(var h in s)h!=="key"&&(u[h]=s[h])}else u=s;return s=u.ref,{$$typeof:t,type:l,key:c,ref:s!==void 0?s:null,props:u}}return al.Fragment=r,al.jsx=a,al.jsxs=a,al}var Km;function Cv(){return Km||(Km=1,Ac.exports=Tv()),Ac.exports}var d=Cv(),Tc={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function Ov(){if(Zm)return Ee;Zm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function C(k,X,W){this.props=k,this.context=X,this.refs=E,this.updater=W||b}C.prototype.isReactComponent={},C.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=C.prototype;function M(k,X,W){this.props=k,this.context=X,this.refs=E,this.updater=W||b}var N=M.prototype=new T;N.constructor=M,j(N,C.prototype),N.isPureReactComponent=!0;var F=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function ne(k,X,W,_,ce,ge){return W=ge.ref,{$$typeof:t,type:k,key:X,ref:W!==void 0?W:null,props:ge}}function ie(k,X){return ne(k.type,X,void 0,void 0,void 0,k.props)}function ue(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function D(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(W){return X[W]})}var z=/\/+/g;function V(k,X){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):X.toString(36)}function J(){}function ae(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(J,J):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function oe(k,X,W,_,ce){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var fe=!1;if(k===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(k.$$typeof){case t:case r:fe=!0;break;case x:return fe=k._init,oe(fe(k._payload),X,W,_,ce)}}if(fe)return ce=ce(k),fe=_===""?"."+V(k,0):_,F(ce)?(W="",fe!=null&&(W=fe.replace(z,"$&/")+"/"),oe(ce,X,W,"",function(et){return et})):ce!=null&&(ue(ce)&&(ce=ie(ce,W+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+fe)),X.push(ce)),1;fe=0;var $e=_===""?".":_+":";if(F(k))for(var je=0;je<k.length;je++)_=k[je],ge=$e+V(_,je),fe+=oe(_,X,W,ge,ce);else if(je=v(k),typeof je=="function")for(k=je.call(k),je=0;!(_=k.next()).done;)_=_.value,ge=$e+V(_,je++),fe+=oe(_,X,W,ge,ce);else if(ge==="object"){if(typeof k.then=="function")return oe(ae(k),X,W,_,ce);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return fe}function P(k,X,W){if(k==null)return k;var _=[],ce=0;return oe(k,_,"","",function(ge){return X.call(W,ge,ce++)}),_}function H(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(W){(k._status===0||k._status===-1)&&(k._status=1,k._result=W)},function(W){(k._status===0||k._status===-1)&&(k._status=2,k._result=W)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var te=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function se(){}return Ee.Children={map:P,forEach:function(k,X,W){P(k,function(){X.apply(this,arguments)},W)},count:function(k){var X=0;return P(k,function(){X++}),X},toArray:function(k){return P(k,function(X){return X})||[]},only:function(k){if(!ue(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ee.Component=C,Ee.Fragment=a,Ee.Profiler=s,Ee.PureComponent=M,Ee.StrictMode=l,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return G.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cloneElement=function(k,X,W){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _=j({},k.props),ce=k.key,ge=void 0;if(X!=null)for(fe in X.ref!==void 0&&(ge=void 0),X.key!==void 0&&(ce=""+X.key),X)!R.call(X,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&X.ref===void 0||(_[fe]=X[fe]);var fe=arguments.length-2;if(fe===1)_.children=W;else if(1<fe){for(var $e=Array(fe),je=0;je<fe;je++)$e[je]=arguments[je+2];_.children=$e}return ne(k.type,ce,void 0,void 0,ge,_)},Ee.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ee.createElement=function(k,X,W){var _,ce={},ge=null;if(X!=null)for(_ in X.key!==void 0&&(ge=""+X.key),X)R.call(X,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(ce[_]=X[_]);var fe=arguments.length-2;if(fe===1)ce.children=W;else if(1<fe){for(var $e=Array(fe),je=0;je<fe;je++)$e[je]=arguments[je+2];ce.children=$e}if(k&&k.defaultProps)for(_ in fe=k.defaultProps,fe)ce[_]===void 0&&(ce[_]=fe[_]);return ne(k,ge,void 0,void 0,null,ce)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:h,render:k}},Ee.isValidElement=ue,Ee.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:H}},Ee.memo=function(k,X){return{$$typeof:m,type:k,compare:X===void 0?null:X}},Ee.startTransition=function(k){var X=G.T,W={};G.T=W;try{var _=k(),ce=G.S;ce!==null&&ce(W,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(se,te)}catch(ge){te(ge)}finally{G.T=X}},Ee.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ee.use=function(k){return G.H.use(k)},Ee.useActionState=function(k,X,W){return G.H.useActionState(k,X,W)},Ee.useCallback=function(k,X){return G.H.useCallback(k,X)},Ee.useContext=function(k){return G.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,X){return G.H.useDeferredValue(k,X)},Ee.useEffect=function(k,X,W){var _=G.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(k,X)},Ee.useId=function(){return G.H.useId()},Ee.useImperativeHandle=function(k,X,W){return G.H.useImperativeHandle(k,X,W)},Ee.useInsertionEffect=function(k,X){return G.H.useInsertionEffect(k,X)},Ee.useLayoutEffect=function(k,X){return G.H.useLayoutEffect(k,X)},Ee.useMemo=function(k,X){return G.H.useMemo(k,X)},Ee.useOptimistic=function(k,X){return G.H.useOptimistic(k,X)},Ee.useReducer=function(k,X,W){return G.H.useReducer(k,X,W)},Ee.useRef=function(k){return G.H.useRef(k)},Ee.useState=function(k){return G.H.useState(k)},Ee.useSyncExternalStore=function(k,X,W){return G.H.useSyncExternalStore(k,X,W)},Ee.useTransition=function(){return G.H.useTransition()},Ee.version="19.1.0",Ee}var Jm;function Md(){return Jm||(Jm=1,Tc.exports=Ov()),Tc.exports}var $=Md();const eo=jl($);var Cc={exports:{}},il={},Oc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Rv(){return Wm||(Wm=1,function(t){function r(P,H){var te=P.length;P.push(H);e:for(;0<te;){var se=te-1>>>1,k=P[se];if(0<s(k,H))P[se]=H,P[te]=k,te=se;else break e}}function a(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var H=P[0],te=P.pop();if(te!==H){P[0]=te;e:for(var se=0,k=P.length,X=k>>>1;se<X;){var W=2*(se+1)-1,_=P[W],ce=W+1,ge=P[ce];if(0>s(_,te))ce<k&&0>s(ge,_)?(P[se]=ge,P[ce]=te,se=ce):(P[se]=_,P[W]=te,se=W);else if(ce<k&&0>s(ge,te))P[se]=ge,P[ce]=te,se=ce;else break e}}return H}function s(P,H){var te=P.sortIndex-H.sortIndex;return te!==0?te:P.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],x=1,y=null,v=3,b=!1,j=!1,E=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function F(P){for(var H=a(m);H!==null;){if(H.callback===null)l(m);else if(H.startTime<=P)l(m),H.sortIndex=H.expirationTime,r(p,H);else break;H=a(m)}}function G(P){if(E=!1,F(P),!j)if(a(p)!==null)j=!0,R||(R=!0,V());else{var H=a(m);H!==null&&oe(G,H.startTime-P)}}var R=!1,ne=-1,ie=5,ue=-1;function D(){return C?!0:!(t.unstable_now()-ue<ie)}function z(){if(C=!1,R){var P=t.unstable_now();ue=P;var H=!0;try{e:{j=!1,E&&(E=!1,M(ne),ne=-1),b=!0;var te=v;try{t:{for(F(P),y=a(p);y!==null&&!(y.expirationTime>P&&D());){var se=y.callback;if(typeof se=="function"){y.callback=null,v=y.priorityLevel;var k=se(y.expirationTime<=P);if(P=t.unstable_now(),typeof k=="function"){y.callback=k,F(P),H=!0;break t}y===a(p)&&l(p),F(P)}else l(p);y=a(p)}if(y!==null)H=!0;else{var X=a(m);X!==null&&oe(G,X.startTime-P),H=!1}}break e}finally{y=null,v=te,b=!1}H=void 0}}finally{H?V():R=!1}}}var V;if(typeof N=="function")V=function(){N(z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=z,V=function(){ae.postMessage(null)}}else V=function(){T(z,0)};function oe(P,H){ne=T(function(){P(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var te=v;v=H;try{return P()}finally{v=te}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=v;v=P;try{return H()}finally{v=te}},t.unstable_scheduleCallback=function(P,H,te){var se=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,P){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=te+k,P={id:x++,callback:H,priorityLevel:P,startTime:te,expirationTime:k,sortIndex:-1},te>se?(P.sortIndex=te,r(m,P),a(p)===null&&P===a(m)&&(E?(M(ne),ne=-1):E=!0,oe(G,te-se))):(P.sortIndex=k,r(p,P),j||b||(j=!0,R||(R=!0,V()))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var H=v;return function(){var te=v;v=H;try{return P.apply(this,arguments)}finally{v=te}}}}(Rc)),Rc}var ep;function Dv(){return ep||(ep=1,Oc.exports=Rv()),Oc.exports}var Dc={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function Lv(){if(tp)return At;tp=1;var t=Md();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:p,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return u(p,m,null,x)},At.flushSync=function(p){var m=c.T,x=l.p;try{if(c.T=null,l.p=2,p)return p()}finally{c.T=m,l.p=x,l.d.f()}},At.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(p,m))},At.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},At.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?l.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):x==="script"&&l.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},At.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);l.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(p)},At.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin);l.d.L(p,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},At.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=h(m.as,m.crossOrigin);l.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(p)},At.requestFormReset=function(p){l.d.r(p)},At.unstable_batchedUpdates=function(p,m){return p(m)},At.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.1.0",At}var np;function Mv(){if(np)return Dc.exports;np=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Dc.exports=Lv(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function zv(){if(rp)return il;rp=1;var t=Dv(),r=Md(),a=Mv();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(l(188));return n!==e?null:e}for(var i=e,o=n;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return h(f),e;if(g===o)return h(f),n;g=g.sibling}throw Error(l(188))}if(i.return!==o.return)i=f,o=g;else{for(var w=!1,S=f.child;S;){if(S===i){w=!0,i=f,o=g;break}if(S===o){w=!0,o=f,i=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===i){w=!0,i=g,o=f;break}if(S===o){w=!0,o=g,i=f;break}S=S.sibling}if(!w)throw Error(l(189))}}if(i.alternate!==o)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case R:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case N:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case ie:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var oe=Array.isArray,P=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},se=[],k=-1;function X(e){return{current:e}}function W(e){0>k||(e.current=se[k],se[k]=null,k--)}function _(e,n){k++,se[k]=e.current,e.current=n}var ce=X(null),ge=X(null),fe=X(null),$e=X(null);function je(e,n){switch(_(fe,n),_(ge,e),_(ce,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sm(n),e=jm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ce),_(ce,e)}function et(){W(ce),W(ge),W(fe)}function Ve(e){e.memoizedState!==null&&_($e,e);var n=ce.current,i=jm(n,e.type);n!==i&&(_(ge,e),_(ce,i))}function _t(e){ge.current===e&&(W(ce),W(ge)),$e.current===e&&(W($e),Wi._currentValue=te)}var Ce=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,Yn=t.unstable_shouldYield,Vn=t.unstable_requestPaint,nt=t.unstable_now,li=t.unstable_getCurrentPriorityLevel,Nr=t.unstable_ImmediatePriority,Ar=t.unstable_UserBlockingPriority,Qn=t.unstable_NormalPriority,si=t.unstable_LowPriority,En=t.unstable_IdlePriority,Tr=t.log,oi=t.unstable_setDisableYieldValue,Y=null,re=null;function xe(e){if(typeof Tr=="function"&&oi(e),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Y,e)}catch{}}var ve=Math.clz32?Math.clz32:cn,Be=Math.log,Rt=Math.LN2;function cn(e){return e>>>=0,e===0?32:31-(Be(e)/Rt|0)|0}var ee=256,de=4194304;function ye(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function me(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?f=ye(o):(w&=S,w!==0?f=ye(w):i||(i=S&~e,i!==0&&(f=ye(i))))):(S=o&~g,S!==0?f=ye(S):w!==0?f=ye(w):i||(i=o&~e,i!==0&&(f=ye(i)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:f}function Ae(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var e=ee;return ee<<=1,(ee&4194048)===0&&(ee=256),e}function Nn(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function ta(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function ui(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gy(e,n,i,o,f,g){var w=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,B=e.hiddenUpdates;for(i=w&~i;0<i;){var Q=31-ve(i),Z=1<<Q;S[Q]=0,A[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var I=q[Q];I!==null&&(I.lane&=-536870913)}i&=~Z}o!==0&&of(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function of(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function uf(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ve(i),f=1<<o;f&n|e[o]&n&&(e[o]|=n),i&=~f}}function yo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cf(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:$m(e.type))}function xy(e,n){var i=H.p;try{return H.p=e,n()}finally{H.p=i}}var Xn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Xn,Mt="__reactProps$"+Xn,na="__reactContainer$"+Xn,vo="__reactEvents$"+Xn,yy="__reactListeners$"+Xn,by="__reactHandles$"+Xn,df="__reactResources$"+Xn,ci="__reactMarker$"+Xn;function wo(e){delete e[Et],delete e[Mt],delete e[vo],delete e[yy],delete e[by]}function ra(e){var n=e[Et];if(n)return n;for(var i=e.parentNode;i;){if(n=i[na]||i[Et]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Am(e);e!==null;){if(i=e[Et])return i;e=Am(e)}return n}e=i,i=e.parentNode}return null}function aa(e){if(e=e[Et]||e[na]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function di(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function ia(e){var n=e[df];return n||(n=e[df]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mt(e){e[ci]=!0}var ff=new Set,hf={};function Cr(e,n){la(e,n),la(e+"Capture",n)}function la(e,n){for(hf[e]=n,e=0;e<n.length;e++)ff.add(n[e])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},pf={};function wy(e){return Ce.call(pf,e)?!0:Ce.call(mf,e)?!1:vy.test(e)?pf[e]=!0:(mf[e]=!0,!1)}function Cl(e,n,i){if(wy(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Ol(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function An(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var ko,gf;function sa(e){if(ko===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ko=n&&n[1]||"",gf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+gf}var So=!1;function jo(e,n){if(!e||So)return"";So=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(I){var q=I}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(I){q=I}e.call(Z.prototype)}}else{try{throw Error()}catch(I){q=I}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(I){if(I&&q&&typeof I.stack=="string")return[I.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var A=w.split(`
`),B=S.split(`
`);for(f=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===A.length||f===B.length)for(o=A.length-1,f=B.length-1;1<=o&&0<=f&&A[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(A[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||A[o]!==B[f]){var Q=`
`+A[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=f);break}}}finally{So=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?sa(i):""}function ky(e){switch(e.tag){case 26:case 27:case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 15:return jo(e.type,!1);case 11:return jo(e.type.render,!1);case 1:return jo(e.type,!0);case 31:return sa("Activity");default:return""}}function xf(e){try{var n="";do n+=ky(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sy(e){var n=yf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Rl(e){e._valueTracker||(e._valueTracker=Sy(e))}function bf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=yf(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jy=/[\n"\\]/g;function en(e){return e.replace(jy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _o(e,n,i,o,f,g,w,S){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wt(n)):e.value!==""+Wt(n)&&(e.value=""+Wt(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,w,Wt(n)):i!=null?Eo(e,w,Wt(i)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Wt(S):e.removeAttribute("name")}function vf(e,n,i,o,f,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;i=i!=null?""+Wt(i):"",n=n!=null?""+Wt(n):i,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function Eo(e,n,i){n==="number"&&Dl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function oa(e,n,i,o){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Wt(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function wf(e,n,i){if(n!=null&&(n=""+Wt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Wt(i):""}function kf(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(l(92));if(oe(o)){if(1<o.length)throw Error(l(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Wt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function ua(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var _y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||_y.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function jf(e,n,i){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&i[f]!==o&&Sf(e,f,o)}else for(var g in n)n.hasOwnProperty(g)&&Sf(e,g,n[g])}function No(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ey=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return Ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ao=null;function To(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,da=null;function _f(e){var n=aa(e);if(n&&(e=n.stateNode)){var i=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(_o(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var f=o[Mt]||null;if(!f)throw Error(l(90));_o(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&bf(o)}break e;case"textarea":wf(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&oa(e,!!i.multiple,n,!1)}}}var Co=!1;function Ef(e,n,i){if(Co)return e(n,i);Co=!0;try{var o=e(n);return o}finally{if(Co=!1,(ca!==null||da!==null)&&(bs(),ca&&(n=ca,e=da,da=ca=null,_f(n),e)))for(n=0;n<e.length;n++)_f(e[n])}}function fi(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Mt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,n,typeof i));return i}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Tn)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Oo=!1}var Kn=null,Ro=null,Ml=null;function Nf(){if(Ml)return Ml;var e,n=Ro,i=n.length,o,f="value"in Kn?Kn.value:Kn.textContent,g=f.length;for(e=0;e<i&&n[e]===f[e];e++);var w=i-e;for(o=1;o<=w&&n[i-o]===f[g-o];o++);return Ml=f.slice(e,1<o?1-o:void 0)}function zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Af(){return!1}function zt(e){function n(i,o,f,g,w){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ul:Af,this.isPropagationStopped=Af,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),n}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=zt(Or),mi=x({},Or,{view:0,detail:0}),Ay=zt(mi),Do,Lo,pi,Pl=x({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Do=e.screenX-pi.screenX,Lo=e.screenY-pi.screenY):Lo=Do=0,pi=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Tf=zt(Pl),Ty=x({},Pl,{dataTransfer:0}),Cy=zt(Ty),Oy=x({},mi,{relatedTarget:0}),Mo=zt(Oy),Ry=x({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=zt(Ry),Ly=x({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),My=zt(Ly),zy=x({},Or,{data:0}),Cf=zt(zy),Uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Py[e])?!!n[e]:!1}function zo(){return qy}var Iy=x({},mi,{key:function(e){if(e.key){var n=Uy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?By[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hy=zt(Iy),$y=x({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=zt($y),Fy=x({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),Gy=zt(Fy),Yy=x({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=zt(Yy),Qy=x({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=zt(Qy),Ky=x({},Or,{newState:0,oldState:0}),Zy=zt(Ky),Jy=[9,13,27,32],Uo=Tn&&"CompositionEvent"in window,gi=null;Tn&&"documentMode"in document&&(gi=document.documentMode);var Wy=Tn&&"TextEvent"in window&&!gi,Rf=Tn&&(!Uo||gi&&8<gi&&11>=gi),Df=" ",Lf=!1;function Mf(e,n){switch(e){case"keyup":return Jy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function eb(e,n){switch(e){case"compositionend":return zf(n);case"keypress":return n.which!==32?null:(Lf=!0,Df);case"textInput":return e=n.data,e===Df&&Lf?null:e;default:return null}}function tb(e,n){if(fa)return e==="compositionend"||!Uo&&Mf(e,n)?(e=Nf(),Ml=Ro=Kn=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rf&&n.locale!=="ko"?null:n.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nb[e.type]:n==="textarea"}function Bf(e,n,i,o){ca?da?da.push(o):da=[o]:ca=o,n=_s(n,"onChange"),0<n.length&&(i=new Bl("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var xi=null,yi=null;function rb(e){ym(e,0)}function ql(e){var n=di(e);if(bf(n))return e}function Pf(e,n){if(e==="change")return n}var qf=!1;if(Tn){var Bo;if(Tn){var Po="oninput"in document;if(!Po){var If=document.createElement("div");If.setAttribute("oninput","return;"),Po=typeof If.oninput=="function"}Bo=Po}else Bo=!1;qf=Bo&&(!document.documentMode||9<document.documentMode)}function Hf(){xi&&(xi.detachEvent("onpropertychange",$f),yi=xi=null)}function $f(e){if(e.propertyName==="value"&&ql(yi)){var n=[];Bf(n,yi,e,To(e)),Ef(rb,n)}}function ab(e,n,i){e==="focusin"?(Hf(),xi=n,yi=i,xi.attachEvent("onpropertychange",$f)):e==="focusout"&&Hf()}function ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(yi)}function lb(e,n){if(e==="click")return ql(n)}function sb(e,n){if(e==="input"||e==="change")return ql(n)}function ob(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var $t=typeof Object.is=="function"?Object.is:ob;function bi(e,n){if($t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Ce.call(n,f)||!$t(e[f],n[f]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gf(e,n){var i=Ff(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ff(i)}}function Yf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Dl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Dl(e.document)}return n}function qo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ub=Tn&&"documentMode"in document&&11>=document.documentMode,ha=null,Io=null,vi=null,Ho=!1;function Qf(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ho||ha==null||ha!==Dl(o)||(o=ha,"selectionStart"in o&&qo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vi&&bi(vi,o)||(vi=o,o=_s(Io,"onSelect"),0<o.length&&(n=new Bl("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=ha)))}function Rr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ma={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},$o={},Xf={};Tn&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Dr(e){if($o[e])return $o[e];if(!ma[e])return e;var n=ma[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Xf)return $o[e]=n[i];return e}var Kf=Dr("animationend"),Zf=Dr("animationiteration"),Jf=Dr("animationstart"),cb=Dr("transitionrun"),db=Dr("transitionstart"),fb=Dr("transitioncancel"),Wf=Dr("transitionend"),eh=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function dn(e,n){eh.set(e,n),Cr(n,[e])}var th=new WeakMap;function tn(e,n){if(typeof e=="object"&&e!==null){var i=th.get(e);return i!==void 0?i:(n={value:e,source:n,stack:xf(n)},th.set(e,n),n)}return{value:e,source:n,stack:xf(n)}}var nn=[],pa=0,Go=0;function Il(){for(var e=pa,n=Go=pa=0;n<e;){var i=nn[n];nn[n++]=null;var o=nn[n];nn[n++]=null;var f=nn[n];nn[n++]=null;var g=nn[n];if(nn[n++]=null,o!==null&&f!==null){var w=o.pending;w===null?f.next=f:(f.next=w.next,w.next=f),o.pending=f}g!==0&&nh(i,f,g)}}function Hl(e,n,i,o){nn[pa++]=e,nn[pa++]=n,nn[pa++]=i,nn[pa++]=o,Go|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yo(e,n,i,o){return Hl(e,n,i,o),$l(e)}function ga(e,n){return Hl(e,null,null,n),$l(e)}function nh(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var f=!1,g=e.return;g!==null;)g.childLanes|=i,o=g.alternate,o!==null&&(o.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-ve(i),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=i|536870912),g):null}function $l(e){if(50<Gi)throw Gi=0,Ju=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var xa={};function hb(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,i,o){return new hb(e,n,i,o)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,n){var i=e.alternate;return i===null?(i=Ft(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function rh(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fl(e,n,i,o,f,g){var w=0;if(o=e,typeof e=="function")Vo(e)&&(w=1);else if(typeof e=="string")w=pv(e,i,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Ft(31,i,n,f),e.elementType=ue,e.lanes=g,e;case j:return Lr(i.children,f,g,n);case E:w=8,f|=24;break;case C:return e=Ft(12,i,n,f|2),e.elementType=C,e.lanes=g,e;case G:return e=Ft(13,i,n,f),e.elementType=G,e.lanes=g,e;case R:return e=Ft(19,i,n,f),e.elementType=R,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case N:w=10;break e;case M:w=9;break e;case F:w=11;break e;case ne:w=14;break e;case ie:w=16,o=null;break e}w=29,i=Error(l(130,e===null?"null":typeof e,"")),o=null}return n=Ft(w,i,n,f),n.elementType=e,n.type=o,n.lanes=g,n}function Lr(e,n,i,o){return e=Ft(7,e,o,n),e.lanes=i,e}function Qo(e,n,i){return e=Ft(6,e,null,n),e.lanes=i,e}function Xo(e,n,i){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ya=[],ba=0,Gl=null,Yl=0,rn=[],an=0,Mr=null,On=1,Rn="";function zr(e,n){ya[ba++]=Yl,ya[ba++]=Gl,Gl=e,Yl=n}function ah(e,n,i){rn[an++]=On,rn[an++]=Rn,rn[an++]=Mr,Mr=e;var o=On;e=Rn;var f=32-ve(o)-1;o&=~(1<<f),i+=1;var g=32-ve(n)+f;if(30<g){var w=f-f%5;g=(o&(1<<w)-1).toString(32),o>>=w,f-=w,On=1<<32-ve(n)+f|i<<f|o,Rn=g+e}else On=1<<g|i<<f|o,Rn=e}function Ko(e){e.return!==null&&(zr(e,1),ah(e,1,0))}function Zo(e){for(;e===Gl;)Gl=ya[--ba],ya[ba]=null,Yl=ya[--ba],ya[ba]=null;for(;e===Mr;)Mr=rn[--an],rn[an]=null,Rn=rn[--an],rn[an]=null,On=rn[--an],rn[an]=null}var Dt=null,rt=null,qe=!1,Ur=null,bn=!1,Jo=Error(l(519));function Br(e){var n=Error(l(418,""));throw Si(tn(n,e)),Jo}function ih(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Et]=e,n[Mt]=o,i){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(i=0;i<Vi.length;i++)De(Vi[i],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),vf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Rl(n);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),kf(n,o.value,o.defaultValue,o.children),Rl(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||km(n.textContent,i)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Es),n=!0):n=!1,n||Br(e)}function lh(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:Dt=Dt.return}}function wi(e){if(e!==Dt)return!1;if(!qe)return lh(e),qe=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||mc(e.type,e.memoizedProps)),i=!i),i&&rt&&Br(e),lh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){rt=hn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}rt=null}}else n===27?(n=rt,fr(e.type)?(e=yc,yc=null,rt=e):rt=n):rt=Dt?hn(e.stateNode.nextSibling):null;return!0}function ki(){rt=Dt=null,qe=!1}function sh(){var e=Ur;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Ur=null),e}function Si(e){Ur===null?Ur=[e]:Ur.push(e)}var Wo=X(null),Pr=null,Dn=null;function Zn(e,n,i){_(Wo,n._currentValue),n._currentValue=i}function Ln(e){e._currentValue=Wo.current,W(Wo)}function eu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function tu(e,n,i,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var A=0;A<n.length;A++)if(S.context===n[A]){g.lanes|=i,S=g.alternate,S!==null&&(S.lanes|=i),eu(g.return,i,e),o||(w=null);break e}g=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(l(341));w.lanes|=i,g=w.alternate,g!==null&&(g.lanes|=i),eu(w,i,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function ji(e,n,i,o){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var S=f.type;$t(f.pendingProps.value,w.value)||(e!==null?e.push(S):e=[S])}}else if(f===$e.current){if(w=f.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}f=f.return}e!==null&&tu(n,e,i,o),n.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Pr=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return oh(Pr,e)}function Ql(e,n){return Pr===null&&qr(e),oh(e,n)}function oh(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Dn===null){if(e===null)throw Error(l(308));Dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Dn=Dn.next=n;return i}var mb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},pb=t.unstable_scheduleCallback,gb=t.unstable_NormalPriority,dt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new mb,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&pb(gb,function(){e.controller.abort()})}var Ei=null,ru=0,va=0,wa=null;function xb(e,n){if(Ei===null){var i=Ei=[];ru=0,va=ic(),wa={status:"pending",value:void 0,then:function(o){i.push(o)}}}return ru++,n.then(uh,uh),n}function uh(){if(--ru===0&&Ei!==null){wa!==null&&(wa.status="fulfilled");var e=Ei;Ei=null,va=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yb(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var ch=P.S;P.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xb(e,n),ch!==null&&ch(e,n)};var Ir=X(null);function au(){var e=Ir.current;return e!==null?e:Ke.pooledCache}function Xl(e,n){n===null?_(Ir,Ir.current):_(Ir,n.pool)}function dh(){var e=au();return e===null?null:{parent:dt._currentValue,pool:e}}var Ni=Error(l(460)),fh=Error(l(474)),Kl=Error(l(542)),iu={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zl(){}function mh(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Zl,Zl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gh(e),e;default:if(typeof n.status=="string")n.then(Zl,Zl);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gh(e),e}throw Ai=n,Ni}}var Ai=null;function ph(){if(Ai===null)throw Error(l(459));var e=Ai;return Ai=null,e}function gh(e){if(e===Ni||e===Kl)throw Error(l(483))}var Jn=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function er(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ie&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=$l(e),nh(e,null,i),n}return Hl(e,o,n,i),$l(e)}function Ti(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,uf(e,i)}}function ou(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?f=g=n:g=g.next=n}else f=g=n;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var uu=!1;function Ci(){if(uu){var e=wa;if(e!==null)throw e}}function Oi(e,n,i,o){uu=!1;var f=e.updateQueue;Jn=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var A=S,B=A.next;A.next=null,w===null?g=B:w.next=B,w=A;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==w&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=A))}if(g!==null){var Z=f.baseState;w=0,Q=B=A=null,S=g;do{var q=S.lane&-536870913,I=q!==S.lane;if(I?(ze&q)===q:(o&q)===q){q!==0&&q===va&&(uu=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=e,we=S;q=n;var Ye=i;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){Z=Se.call(Ye,Z,q);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,q=typeof Se=="function"?Se.call(Ye,Z,q):Se,q==null)break e;Z=x({},Z,q);break e;case 2:Jn=!0}}q=S.callback,q!==null&&(e.flags|=64,I&&(e.flags|=8192),I=f.callbacks,I===null?f.callbacks=[q]:I.push(q))}else I={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=I,A=Z):Q=Q.next=I,w|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;I=S,S=I.next,I.next=null,f.lastBaseUpdate=I,f.shared.pending=null}}while(!0);Q===null&&(A=Z),f.baseState=A,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,g===null&&(f.shared.lanes=0),or|=w,e.lanes=w,e.memoizedState=Z}}function xh(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function yh(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)xh(i[e],n)}var ka=X(null),Jl=X(0);function bh(e,n){e=In,_(Jl,e),_(ka,n),In=e|n.baseLanes}function cu(){_(Jl,In),_(ka,ka.current)}function du(){In=Jl.current,W(ka),W(Jl)}var tr=0,Te=null,Fe=null,ot=null,Wl=!1,Sa=!1,Hr=!1,es=0,Ri=0,ja=null,bb=0;function it(){throw Error(l(321))}function fu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!$t(e[i],n[i]))return!1;return!0}function hu(e,n,i,o,f,g){return tr=g,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?n0:r0,Hr=!1,g=i(o,f),Hr=!1,Sa&&(g=wh(n,i,o,f)),vh(e),g}function vh(e){P.H=ls;var n=Fe!==null&&Fe.next!==null;if(tr=0,ot=Fe=Te=null,Wl=!1,Ri=0,ja=null,n)throw Error(l(300));e===null||pt||(e=e.dependencies,e!==null&&Vl(e)&&(pt=!0))}function wh(e,n,i,o){Te=e;var f=0;do{if(Sa&&(ja=null),Ri=0,Sa=!1,25<=f)throw Error(l(301));if(f+=1,ot=Fe=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=Eb,g=n(i,o)}while(Sa);return g}function vb(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Di(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Te.flags|=1024),n}function mu(){var e=es!==0;return es=0,e}function pu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function gu(e){if(Wl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wl=!1}tr=0,ot=Fe=Te=null,Sa=!1,Ri=es=0,ja=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Te.memoizedState=ot=e:ot=ot.next=e,ot}function ut(){if(Fe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=ot===null?Te.memoizedState:ot.next;if(n!==null)ot=n,Fe=e;else{if(e===null)throw Te.alternate===null?Error(l(467)):Error(l(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ot===null?Te.memoizedState=ot=e:ot=ot.next=e}return ot}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(e){var n=Ri;return Ri+=1,ja===null&&(ja=[]),e=mh(ja,e,n),n=Te,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?n0:r0),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Di(e);if(e.$$typeof===N)return Nt(e)}throw Error(l(438,String(e)))}function yu(e){var n=null,i=Te.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=xu(),Te.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=D;return n.index++,i}function Mn(e,n){return typeof n=="function"?n(e):n}function ns(e){var n=ut();return bu(n,Fe,e)}function bu(e,n,i){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=i;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}n.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var S=w=null,A=null,B=n,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(ze&Z)===Z:(tr&Z)===Z){var q=B.revertLane;if(q===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===va&&(Q=!0);else if((tr&q)===q){B=B.next,q===va&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(S=A=Z,w=g):A=A.next=Z,Te.lanes|=q,or|=q;Z=B.action,Hr&&i(g,Z),g=B.hasEagerState?B.eagerState:i(g,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(S=A=q,w=g):A=A.next=q,Te.lanes|=Z,or|=Z;B=B.next}while(B!==null&&B!==n);if(A===null?w=g:A.next=S,!$t(g,e.memoizedState)&&(pt=!0,Q&&(i=wa,i!==null)))throw i;e.memoizedState=g,e.baseState=w,e.baseQueue=A,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vu(e){var n=ut(),i=n.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var o=i.dispatch,f=i.pending,g=n.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);$t(g,n.memoizedState)||(pt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,o]}function kh(e,n,i){var o=Te,f=ut(),g=qe;if(g){if(i===void 0)throw Error(l(407));i=i()}else i=n();var w=!$t((Fe||f).memoizedState,i);w&&(f.memoizedState=i,pt=!0),f=f.queue;var S=_h.bind(null,o,f,e);if(Li(2048,8,S,[e]),f.getSnapshot!==n||w||ot!==null&&ot.memoizedState.tag&1){if(o.flags|=2048,_a(9,rs(),jh.bind(null,o,f,i,n),null),Ke===null)throw Error(l(349));g||(tr&124)!==0||Sh(o,n,i)}return i}function Sh(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Te.updateQueue,n===null?(n=xu(),Te.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function jh(e,n,i,o){n.value=i,n.getSnapshot=o,Eh(n)&&Nh(e)}function _h(e,n,i){return i(function(){Eh(n)&&Nh(e)})}function Eh(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!$t(e,i)}catch{return!0}}function Nh(e){var n=ga(e,2);n!==null&&Xt(n,e,2)}function wu(e){var n=Ut();if(typeof e=="function"){var i=e;if(e=i(),Hr){xe(!0);try{i()}finally{xe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},n}function Ah(e,n,i,o){return e.baseState=i,bu(e,Fe,typeof o=="function"?o:Mn)}function wb(e,n,i,o,f){if(is(e))throw Error(l(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};P.T!==null?i(!0):g.isTransition=!1,o(g),i=n.pending,i===null?(g.next=n.pending=g,Th(n,g)):(g.next=i.next,n.pending=i.next=g)}}function Th(e,n){var i=n.action,o=n.payload,f=e.state;if(n.isTransition){var g=P.T,w={};P.T=w;try{var S=i(f,o),A=P.S;A!==null&&A(w,S),Ch(e,n,S)}catch(B){ku(e,n,B)}finally{P.T=g}}else try{g=i(f,o),Ch(e,n,g)}catch(B){ku(e,n,B)}}function Ch(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Oh(e,n,o)},function(o){return ku(e,n,o)}):Oh(e,n,i)}function Oh(e,n,i){n.status="fulfilled",n.value=i,Rh(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Th(e,i)))}function ku(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Rh(n),n=n.next;while(n!==o)}e.action=null}function Rh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dh(e,n){return n}function Lh(e,n){if(qe){var i=Ke.formState;if(i!==null){e:{var o=Te;if(qe){if(rt){t:{for(var f=rt,g=bn;f.nodeType!==8;){if(!g){f=null;break t}if(f=hn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){rt=hn(f.nextSibling),o=f.data==="F!";break e}}Br(o)}o=!1}o&&(n=i[0])}}return i=Ut(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:n},i.queue=o,i=Wh.bind(null,Te,o),o.dispatch=i,o=wu(!1),g=Nu.bind(null,Te,!1,o.queue),o=Ut(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,i=wb.bind(null,Te,f,g,i),f.dispatch=i,o.memoizedState=e,[n,i,!1]}function Mh(e){var n=ut();return zh(n,Fe,e)}function zh(e,n,i){if(n=bu(e,n,Dh)[0],e=ns(Mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Di(n)}catch(w){throw w===Ni?Kl:w}else o=n;n=ut();var f=n.queue,g=f.dispatch;return i!==n.memoizedState&&(Te.flags|=2048,_a(9,rs(),kb.bind(null,f,i),null)),[o,g,e]}function kb(e,n){e.action=n}function Uh(e){var n=ut(),i=Fe;if(i!==null)return zh(n,i,e);ut(),n=n.memoizedState,i=ut();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function _a(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=Te.updateQueue,n===null&&(n=xu(),Te.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function rs(){return{destroy:void 0,resource:void 0}}function Bh(){return ut().memoizedState}function as(e,n,i,o){var f=Ut();o=o===void 0?null:o,Te.flags|=e,f.memoizedState=_a(1|n,rs(),i,o)}function Li(e,n,i,o){var f=ut();o=o===void 0?null:o;var g=f.memoizedState.inst;Fe!==null&&o!==null&&fu(o,Fe.memoizedState.deps)?f.memoizedState=_a(n,g,i,o):(Te.flags|=e,f.memoizedState=_a(1|n,g,i,o))}function Ph(e,n){as(8390656,8,e,n)}function qh(e,n){Li(2048,8,e,n)}function Ih(e,n){return Li(4,2,e,n)}function Hh(e,n){return Li(4,4,e,n)}function $h(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fh(e,n,i){i=i!=null?i.concat([e]):null,Li(4,4,$h.bind(null,n,e),i)}function Su(){}function Gh(e,n){var i=ut();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&fu(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Yh(e,n){var i=ut();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&fu(n,o[1]))return o[0];if(o=e(),Hr){xe(!0);try{e()}finally{xe(!1)}}return i.memoizedState=[o,n],o}function ju(e,n,i){return i===void 0||(tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=X0(),Te.lanes|=e,or|=e,i)}function Vh(e,n,i,o){return $t(i,n)?i:ka.current!==null?(e=ju(e,i,o),$t(e,n)||(pt=!0),e):(tr&42)===0?(pt=!0,e.memoizedState=i):(e=X0(),Te.lanes|=e,or|=e,n)}function Qh(e,n,i,o,f){var g=H.p;H.p=g!==0&&8>g?g:8;var w=P.T,S={};P.T=S,Nu(e,!1,n,i);try{var A=f(),B=P.S;if(B!==null&&B(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Q=yb(A,o);Mi(e,n,Q,Qt(e))}else Mi(e,n,o,Qt(e))}catch(Z){Mi(e,n,{then:function(){},status:"rejected",reason:Z},Qt())}finally{H.p=g,P.T=w}}function Sb(){}function _u(e,n,i,o){if(e.tag!==5)throw Error(l(476));var f=Xh(e).queue;Qh(e,f,n,te,i===null?Sb:function(){return Kh(e),i(o)})}function Xh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:te},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kh(e){var n=Xh(e).next.queue;Mi(e,n,{},Qt())}function Eu(){return Nt(Wi)}function Zh(){return ut().memoizedState}function Jh(){return ut().memoizedState}function jb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Qt();e=Wn(i);var o=er(n,e,i);o!==null&&(Xt(o,n,i),Ti(o,n,i)),n={cache:nu()},e.payload=n;return}n=n.return}}function _b(e,n,i){var o=Qt();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},is(e)?e0(n,i):(i=Yo(e,n,i,o),i!==null&&(Xt(i,e,o),t0(i,n,o)))}function Wh(e,n,i){var o=Qt();Mi(e,n,i,o)}function Mi(e,n,i,o){var f={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(is(e))e0(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,S=g(w,i);if(f.hasEagerState=!0,f.eagerState=S,$t(S,w))return Hl(e,n,f,0),Ke===null&&Il(),!1}catch{}finally{}if(i=Yo(e,n,f,o),i!==null)return Xt(i,e,o),t0(i,n,o),!0}return!1}function Nu(e,n,i,o){if(o={lane:2,revertLane:ic(),action:o,hasEagerState:!1,eagerState:null,next:null},is(e)){if(n)throw Error(l(479))}else n=Yo(e,i,o,2),n!==null&&Xt(n,e,2)}function is(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function e0(e,n){Sa=Wl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function t0(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,uf(e,i)}}var ls={readContext:Nt,use:ts,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},n0={readContext:Nt,use:ts,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:Ph,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,as(4194308,4,$h.bind(null,n,e),i)},useLayoutEffect:function(e,n){return as(4194308,4,e,n)},useInsertionEffect:function(e,n){as(4,2,e,n)},useMemo:function(e,n){var i=Ut();n=n===void 0?null:n;var o=e();if(Hr){xe(!0);try{e()}finally{xe(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Ut();if(i!==void 0){var f=i(n);if(Hr){xe(!0);try{i(n)}finally{xe(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=_b.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=wu(e);var n=e.queue,i=Wh.bind(null,Te,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Su,useDeferredValue:function(e,n){var i=Ut();return ju(i,e,n)},useTransition:function(){var e=wu(!1);return e=Qh.bind(null,Te,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Te,f=Ut();if(qe){if(i===void 0)throw Error(l(407));i=i()}else{if(i=n(),Ke===null)throw Error(l(349));(ze&124)!==0||Sh(o,n,i)}f.memoizedState=i;var g={value:i,getSnapshot:n};return f.queue=g,Ph(_h.bind(null,o,g,e),[e]),o.flags|=2048,_a(9,rs(),jh.bind(null,o,g,i,n),null),i},useId:function(){var e=Ut(),n=Ke.identifierPrefix;if(qe){var i=Rn,o=On;i=(o&~(1<<32-ve(o)-1)).toString(32)+i,n="«"+n+"R"+i,i=es++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=bb++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Eu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Nu.bind(null,Te,!0,i),i.dispatch=n,[e,n]},useMemoCache:yu,useCacheRefresh:function(){return Ut().memoizedState=jb.bind(null,Te)}},r0={readContext:Nt,use:ts,useCallback:Gh,useContext:Nt,useEffect:qh,useImperativeHandle:Fh,useInsertionEffect:Ih,useLayoutEffect:Hh,useMemo:Yh,useReducer:ns,useRef:Bh,useState:function(){return ns(Mn)},useDebugValue:Su,useDeferredValue:function(e,n){var i=ut();return Vh(i,Fe.memoizedState,e,n)},useTransition:function(){var e=ns(Mn)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Di(e),n]},useSyncExternalStore:kh,useId:Zh,useHostTransitionStatus:Eu,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,n){var i=ut();return Ah(i,Fe,e,n)},useMemoCache:yu,useCacheRefresh:Jh},Eb={readContext:Nt,use:ts,useCallback:Gh,useContext:Nt,useEffect:qh,useImperativeHandle:Fh,useInsertionEffect:Ih,useLayoutEffect:Hh,useMemo:Yh,useReducer:vu,useRef:Bh,useState:function(){return vu(Mn)},useDebugValue:Su,useDeferredValue:function(e,n){var i=ut();return Fe===null?ju(i,e,n):Vh(i,Fe.memoizedState,e,n)},useTransition:function(){var e=vu(Mn)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Di(e),n]},useSyncExternalStore:kh,useId:Zh,useHostTransitionStatus:Eu,useFormState:Uh,useActionState:Uh,useOptimistic:function(e,n){var i=ut();return Fe!==null?Ah(i,Fe,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:yu,useCacheRefresh:Jh},Ea=null,zi=0;function ss(e){var n=zi;return zi+=1,Ea===null&&(Ea=[]),mh(Ea,e,n)}function Ui(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function os(e,n){throw n.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function a0(e){var n=e._init;return n(e._payload)}function i0(e){function n(L,O){if(e){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function i(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Cn(L,O),L.index=0,L.sibling=null,L}function g(L,O,U){return L.index=U,e?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function w(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,O,U,K){return O===null||O.tag!==6?(O=Qo(U,L.mode,K),O.return=L,O):(O=f(O,U),O.return=L,O)}function A(L,O,U,K){var he=U.type;return he===j?Q(L,O,U.props.children,K,U.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&a0(he)===O.type)?(O=f(O,U.props),Ui(O,U),O.return=L,O):(O=Fl(U.type,U.key,U.props,null,L.mode,K),Ui(O,U),O.return=L,O)}function B(L,O,U,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Xo(U,L.mode,K),O.return=L,O):(O=f(O,U.children||[]),O.return=L,O)}function Q(L,O,U,K,he){return O===null||O.tag!==7?(O=Lr(U,L.mode,K,he),O.return=L,O):(O=f(O,U),O.return=L,O)}function Z(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qo(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return U=Fl(O.type,O.key,O.props,null,L.mode,U),Ui(U,O),U.return=L,U;case b:return O=Xo(O,L.mode,U),O.return=L,O;case ie:var K=O._init;return O=K(O._payload),Z(L,O,U)}if(oe(O)||V(O))return O=Lr(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return Z(L,ss(O),U);if(O.$$typeof===N)return Z(L,Ql(L,O),U);os(L,O)}return null}function q(L,O,U,K){var he=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:S(L,O,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===he?A(L,O,U,K):null;case b:return U.key===he?B(L,O,U,K):null;case ie:return he=U._init,U=he(U._payload),q(L,O,U,K)}if(oe(U)||V(U))return he!==null?null:Q(L,O,U,K,null);if(typeof U.then=="function")return q(L,O,ss(U),K);if(U.$$typeof===N)return q(L,O,Ql(L,U),K);os(L,U)}return null}function I(L,O,U,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(U)||null,S(O,L,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return L=L.get(K.key===null?U:K.key)||null,A(O,L,K,he);case b:return L=L.get(K.key===null?U:K.key)||null,B(O,L,K,he);case ie:var Oe=K._init;return K=Oe(K._payload),I(L,O,U,K,he)}if(oe(K)||V(K))return L=L.get(U)||null,Q(O,L,K,he,null);if(typeof K.then=="function")return I(L,O,U,ss(K),he);if(K.$$typeof===N)return I(L,O,U,Ql(O,K),he);os(O,K)}return null}function Se(L,O,U,K){for(var he=null,Oe=null,pe=O,ke=O=0,xt=null;pe!==null&&ke<U.length;ke++){pe.index>ke?(xt=pe,pe=null):xt=pe.sibling;var Pe=q(L,pe,U[ke],K);if(Pe===null){pe===null&&(pe=xt);break}e&&pe&&Pe.alternate===null&&n(L,pe),O=g(Pe,O,ke),Oe===null?he=Pe:Oe.sibling=Pe,Oe=Pe,pe=xt}if(ke===U.length)return i(L,pe),qe&&zr(L,ke),he;if(pe===null){for(;ke<U.length;ke++)pe=Z(L,U[ke],K),pe!==null&&(O=g(pe,O,ke),Oe===null?he=pe:Oe.sibling=pe,Oe=pe);return qe&&zr(L,ke),he}for(pe=o(pe);ke<U.length;ke++)xt=I(pe,L,ke,U[ke],K),xt!==null&&(e&&xt.alternate!==null&&pe.delete(xt.key===null?ke:xt.key),O=g(xt,O,ke),Oe===null?he=xt:Oe.sibling=xt,Oe=xt);return e&&pe.forEach(function(xr){return n(L,xr)}),qe&&zr(L,ke),he}function we(L,O,U,K){if(U==null)throw Error(l(151));for(var he=null,Oe=null,pe=O,ke=O=0,xt=null,Pe=U.next();pe!==null&&!Pe.done;ke++,Pe=U.next()){pe.index>ke?(xt=pe,pe=null):xt=pe.sibling;var xr=q(L,pe,Pe.value,K);if(xr===null){pe===null&&(pe=xt);break}e&&pe&&xr.alternate===null&&n(L,pe),O=g(xr,O,ke),Oe===null?he=xr:Oe.sibling=xr,Oe=xr,pe=xt}if(Pe.done)return i(L,pe),qe&&zr(L,ke),he;if(pe===null){for(;!Pe.done;ke++,Pe=U.next())Pe=Z(L,Pe.value,K),Pe!==null&&(O=g(Pe,O,ke),Oe===null?he=Pe:Oe.sibling=Pe,Oe=Pe);return qe&&zr(L,ke),he}for(pe=o(pe);!Pe.done;ke++,Pe=U.next())Pe=I(pe,L,ke,Pe.value,K),Pe!==null&&(e&&Pe.alternate!==null&&pe.delete(Pe.key===null?ke:Pe.key),O=g(Pe,O,ke),Oe===null?he=Pe:Oe.sibling=Pe,Oe=Pe);return e&&pe.forEach(function(Nv){return n(L,Nv)}),qe&&zr(L,ke),he}function Ye(L,O,U,K){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:e:{for(var he=U.key;O!==null;){if(O.key===he){if(he=U.type,he===j){if(O.tag===7){i(L,O.sibling),K=f(O,U.props.children),K.return=L,L=K;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&a0(he)===O.type){i(L,O.sibling),K=f(O,U.props),Ui(K,U),K.return=L,L=K;break e}i(L,O);break}else n(L,O);O=O.sibling}U.type===j?(K=Lr(U.props.children,L.mode,K,U.key),K.return=L,L=K):(K=Fl(U.type,U.key,U.props,null,L.mode,K),Ui(K,U),K.return=L,L=K)}return w(L);case b:e:{for(he=U.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(L,O.sibling),K=f(O,U.children||[]),K.return=L,L=K;break e}else{i(L,O);break}else n(L,O);O=O.sibling}K=Xo(U,L.mode,K),K.return=L,L=K}return w(L);case ie:return he=U._init,U=he(U._payload),Ye(L,O,U,K)}if(oe(U))return Se(L,O,U,K);if(V(U)){if(he=V(U),typeof he!="function")throw Error(l(150));return U=he.call(U),we(L,O,U,K)}if(typeof U.then=="function")return Ye(L,O,ss(U),K);if(U.$$typeof===N)return Ye(L,O,Ql(L,U),K);os(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(i(L,O.sibling),K=f(O,U),K.return=L,L=K):(i(L,O),K=Qo(U,L.mode,K),K.return=L,L=K),w(L)):i(L,O)}return function(L,O,U,K){try{zi=0;var he=Ye(L,O,U,K);return Ea=null,he}catch(pe){if(pe===Ni||pe===Kl)throw pe;var Oe=Ft(29,pe,null,L.mode);return Oe.lanes=K,Oe.return=L,Oe}finally{}}}var Na=i0(!0),l0=i0(!1),ln=X(null),vn=null;function nr(e){var n=e.alternate;_(ft,ft.current&1),_(ln,e),vn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(vn=e)}function s0(e){if(e.tag===22){if(_(ft,ft.current),_(ln,e),vn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(vn=e)}}else rr()}function rr(){_(ft,ft.current),_(ln,ln.current)}function zn(e){W(ln),vn===e&&(vn=null),W(ft)}var ft=X(0);function us(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||xc(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Au(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:x({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Tu={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=Qt(),f=Wn(o);f.payload=n,i!=null&&(f.callback=i),n=er(e,f,o),n!==null&&(Xt(n,e,o),Ti(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=Qt(),f=Wn(o);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=er(e,f,o),n!==null&&(Xt(n,e,o),Ti(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Qt(),o=Wn(i);o.tag=2,n!=null&&(o.callback=n),n=er(e,o,i),n!==null&&(Xt(n,e,i),Ti(n,e,i))}};function o0(e,n,i,o,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,w):n.prototype&&n.prototype.isPureReactComponent?!bi(i,o)||!bi(f,g):!0}function u0(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Tu.enqueueReplaceState(n,n.state,null)}function $r(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=x({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}var cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function c0(e){cs(e)}function d0(e){console.error(e)}function f0(e){cs(e)}function ds(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function h0(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cu(e,n,i){return i=Wn(i),i.tag=3,i.payload={element:null},i.callback=function(){ds(e,n)},i}function m0(e){return e=Wn(e),e.tag=3,e}function p0(e,n,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){h0(n,i,o)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){h0(n,i,o),typeof f!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Nb(e,n,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&ji(n,i,f,!0),i=ln.current,i!==null){switch(i.tag){case 13:return vn===null?ec():i.alternate===null&&at===0&&(at=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===iu?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),nc(e,o,f)),!1;case 22:return i.flags|=65536,o===iu?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),nc(e,o,f)),!1}throw Error(l(435,i.tag))}return nc(e,o,f),ec(),!1}if(qe)return n=ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Jo&&(e=Error(l(422),{cause:o}),Si(tn(e,i)))):(o!==Jo&&(n=Error(l(423),{cause:o}),Si(tn(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=tn(o,i),f=Cu(e.stateNode,o,f),ou(e,f),at!==4&&(at=2)),!1;var g=Error(l(520),{cause:o});if(g=tn(g,i),Fi===null?Fi=[g]:Fi.push(g),at!==4&&(at=2),n===null)return!0;o=tn(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=Cu(i.stateNode,o,e),ou(i,e),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ur===null||!ur.has(g))))return i.flags|=65536,f&=-f,i.lanes|=f,f=m0(f),p0(f,e,i,o),ou(i,f),!1}i=i.return}while(i!==null);return!1}var g0=Error(l(461)),pt=!1;function kt(e,n,i,o){n.child=e===null?l0(n,null,i,o):Na(n,e.child,i,o)}function x0(e,n,i,o,f){i=i.render;var g=n.ref;if("ref"in o){var w={};for(var S in o)S!=="ref"&&(w[S]=o[S])}else w=o;return qr(n),o=hu(e,n,i,w,g,f),S=mu(),e!==null&&!pt?(pu(e,n,f),Un(e,n,f)):(qe&&S&&Ko(n),n.flags|=1,kt(e,n,o,f),n.child)}function y0(e,n,i,o,f){if(e===null){var g=i.type;return typeof g=="function"&&!Vo(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,b0(e,n,g,o,f)):(e=Fl(i.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Bu(e,f)){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:bi,i(w,o)&&e.ref===n.ref)return Un(e,n,f)}return n.flags|=1,e=Cn(g,o),e.ref=n.ref,e.return=n,n.child=e}function b0(e,n,i,o,f){if(e!==null){var g=e.memoizedProps;if(bi(g,o)&&e.ref===n.ref)if(pt=!1,n.pendingProps=o=g,Bu(e,f))(e.flags&131072)!==0&&(pt=!0);else return n.lanes=e.lanes,Un(e,n,f)}return Ou(e,n,i,o,f)}function v0(e,n,i){var o=n.pendingProps,f=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|i:i,e!==null){for(f=n.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return w0(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xl(n,g!==null?g.cachePool:null),g!==null?bh(n,g):cu(),s0(n);else return n.lanes=n.childLanes=536870912,w0(e,n,g!==null?g.baseLanes|i:i,i)}else g!==null?(Xl(n,g.cachePool),bh(n,g),rr(),n.memoizedState=null):(e!==null&&Xl(n,null),cu(),rr());return kt(e,n,f,i),n.child}function w0(e,n,i,o){var f=au();return f=f===null?null:{parent:dt._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},e!==null&&Xl(n,null),cu(),s0(n),e!==null&&ji(e,n,o,!0),null}function fs(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Ou(e,n,i,o,f){return qr(n),i=hu(e,n,i,o,void 0,f),o=mu(),e!==null&&!pt?(pu(e,n,f),Un(e,n,f)):(qe&&o&&Ko(n),n.flags|=1,kt(e,n,i,f),n.child)}function k0(e,n,i,o,f,g){return qr(n),n.updateQueue=null,i=wh(n,o,i,f),vh(e),o=mu(),e!==null&&!pt?(pu(e,n,g),Un(e,n,g)):(qe&&o&&Ko(n),n.flags|=1,kt(e,n,i,g),n.child)}function S0(e,n,i,o,f){if(qr(n),n.stateNode===null){var g=xa,w=i.contextType;typeof w=="object"&&w!==null&&(g=Nt(w)),g=new i(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tu,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},lu(n),w=i.contextType,g.context=typeof w=="object"&&w!==null?Nt(w):xa,g.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Au(n,i,w,o),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Tu.enqueueReplaceState(g,g.state,null),Oi(n,o,g,f),Ci(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var S=n.memoizedProps,A=$r(i,S);g.props=A;var B=g.context,Q=i.contextType;w=xa,typeof Q=="object"&&Q!==null&&(w=Nt(Q));var Z=i.getDerivedStateFromProps;Q=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||B!==w)&&u0(n,g,o,w),Jn=!1;var q=n.memoizedState;g.state=q,Oi(n,o,g,f),Ci(),B=n.memoizedState,S||q!==B||Jn?(typeof Z=="function"&&(Au(n,i,Z,o),B=n.memoizedState),(A=Jn||o0(n,i,A,o,q,B,w))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),g.props=o,g.state=B,g.context=w,o=A):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,su(e,n),w=n.memoizedProps,Q=$r(i,w),g.props=Q,Z=n.pendingProps,q=g.context,B=i.contextType,A=xa,typeof B=="object"&&B!==null&&(A=Nt(B)),S=i.getDerivedStateFromProps,(B=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==Z||q!==A)&&u0(n,g,o,A),Jn=!1,q=n.memoizedState,g.state=q,Oi(n,o,g,f),Ci();var I=n.memoizedState;w!==Z||q!==I||Jn||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof S=="function"&&(Au(n,i,S,o),I=n.memoizedState),(Q=Jn||o0(n,i,Q,o,q,I,A)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,I,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,I,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=I),g.props=o,g.state=I,g.context=A,o=Q):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,fs(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Na(n,e.child,null,f),n.child=Na(n,null,i,f)):kt(e,n,i,f),n.memoizedState=g.state,e=n.child):e=Un(e,n,f),e}function j0(e,n,i,o){return ki(),n.flags|=256,kt(e,n,i,o),n.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(e){return{baseLanes:e,cachePool:dh()}}function Lu(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=sn),e}function _0(e,n,i){var o=n.pendingProps,f=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(qe){if(f?nr(n):rr(),qe){var S=rt,A;if(A=S){e:{for(A=S,S=bn;A.nodeType!==8;){if(!S){S=null;break e}if(A=hn(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(n.memoizedState={dehydrated:S,treeContext:Mr!==null?{id:On,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},A=Ft(18,null,null,0),A.stateNode=S,A.return=n,n.child=A,Dt=n,rt=null,A=!0):A=!1}A||Br(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xc(S)?n.lanes=32:n.lanes=536870912,null;zn(n)}return S=o.children,o=o.fallback,f?(rr(),f=n.mode,S=hs({mode:"hidden",children:S},f),o=Lr(o,f,i,null),S.return=n,o.return=n,S.sibling=o,n.child=S,f=n.child,f.memoizedState=Du(i),f.childLanes=Lu(e,w,i),n.memoizedState=Ru,o):(nr(n),Mu(n,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(g)n.flags&256?(nr(n),n.flags&=-257,n=zu(e,n,i)):n.memoizedState!==null?(rr(),n.child=e.child,n.flags|=128,n=null):(rr(),f=o.fallback,S=n.mode,o=hs({mode:"visible",children:o.children},S),f=Lr(f,S,i,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Na(n,e.child,null,i),o=n.child,o.memoizedState=Du(i),o.childLanes=Lu(e,w,i),n.memoizedState=Ru,n=f);else if(nr(n),xc(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var B=w.dgst;w=B,o=Error(l(419)),o.stack="",o.digest=w,Si({value:o,source:null,stack:null}),n=zu(e,n,i)}else if(pt||ji(e,n,i,!1),w=(i&e.childLanes)!==0,pt||w){if(w=Ke,w!==null&&(o=i&-i,o=(o&42)!==0?1:yo(o),o=(o&(w.suspendedLanes|i))!==0?0:o,o!==0&&o!==A.retryLane))throw A.retryLane=o,ga(e,o),Xt(w,e,o),g0;S.data==="$?"||ec(),n=zu(e,n,i)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,rt=hn(S.nextSibling),Dt=n,qe=!0,Ur=null,bn=!1,e!==null&&(rn[an++]=On,rn[an++]=Rn,rn[an++]=Mr,On=e.id,Rn=e.overflow,Mr=n),n=Mu(n,o.children),n.flags|=4096);return n}return f?(rr(),f=o.fallback,S=n.mode,A=e.child,B=A.sibling,o=Cn(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,B!==null?f=Cn(B,f):(f=Lr(f,S,i,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,S=e.child.memoizedState,S===null?S=Du(i):(A=S.cachePool,A!==null?(B=dt._currentValue,A=A.parent!==B?{parent:B,pool:B}:A):A=dh(),S={baseLanes:S.baseLanes|i,cachePool:A}),f.memoizedState=S,f.childLanes=Lu(e,w,i),n.memoizedState=Ru,o):(nr(n),i=e.child,e=i.sibling,i=Cn(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=i,n.memoizedState=null,i)}function Mu(e,n){return n=hs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hs(e,n){return e=Ft(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zu(e,n,i){return Na(n,e.child,null,i),e=Mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function E0(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),eu(e.return,n,i)}function Uu(e,n,i,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=f)}function N0(e,n,i){var o=n.pendingProps,f=o.revealOrder,g=o.tail;if(kt(e,n,o.children,i),o=ft.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&E0(e,i,n);else if(e.tag===19)E0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(_(ft,o),f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&us(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),Uu(n,!1,f,i,g);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&us(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}Uu(n,!0,i,null,g);break;case"together":Uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Un(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),or|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(ji(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,i=Cn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Cn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Bu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function Ab(e,n,i){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Zn(n,dt,e.memoizedState.cache),ki();break;case 27:case 5:Ve(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Zn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?_0(e,n,i):(nr(n),e=Un(e,n,i),e!==null?e.sibling:null);nr(n);break;case 19:var f=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(ji(e,n,i,!1),o=(i&n.childLanes)!==0),f){if(o)return N0(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_(ft,ft.current),o)break;return null;case 22:case 23:return n.lanes=0,v0(e,n,i);case 24:Zn(n,dt,e.memoizedState.cache)}return Un(e,n,i)}function A0(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)pt=!0;else{if(!Bu(e,i)&&(n.flags&128)===0)return pt=!1,Ab(e,n,i);pt=(e.flags&131072)!==0}else pt=!1,qe&&(n.flags&1048576)!==0&&ah(n,Yl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Vo(o)?(e=$r(o,e),n.tag=1,n=S0(null,n,o,e,i)):(n.tag=0,n=Ou(null,n,o,e,i));else{if(o!=null){if(f=o.$$typeof,f===F){n.tag=11,n=x0(null,n,o,e,i);break e}else if(f===ne){n.tag=14,n=y0(null,n,o,e,i);break e}}throw n=ae(o)||o,Error(l(306,n,""))}}return n;case 0:return Ou(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,f=$r(o,n.pendingProps),S0(e,n,o,f,i);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(l(387));o=n.pendingProps;var g=n.memoizedState;f=g.element,su(e,n),Oi(n,o,null,i);var w=n.memoizedState;if(o=w.cache,Zn(n,dt,o),o!==g.cache&&tu(n,[dt],i,!0),Ci(),o=w.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=j0(e,n,o,i);break e}else if(o!==f){f=tn(Error(l(424)),n),Si(f),n=j0(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(rt=hn(e.firstChild),Dt=n,qe=!0,Ur=null,bn=!0,i=l0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ki(),o===f){n=Un(e,n,i);break e}kt(e,n,o,i)}n=n.child}return n;case 26:return fs(e,n),e===null?(i=Rm(n.type,null,n.pendingProps,null))?n.memoizedState=i:qe||(i=n.type,e=n.pendingProps,o=Ns(fe.current).createElement(i),o[Et]=n,o[Mt]=e,jt(o,i,e),mt(o),n.stateNode=o):n.memoizedState=Rm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ve(n),e===null&&qe&&(o=n.stateNode=Tm(n.type,n.pendingProps,fe.current),Dt=n,bn=!0,f=rt,fr(n.type)?(yc=f,rt=hn(o.firstChild)):rt=f),kt(e,n,n.pendingProps.children,i),fs(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qe&&((f=o=rt)&&(o=nv(o,n.type,n.pendingProps,bn),o!==null?(n.stateNode=o,Dt=n,rt=hn(o.firstChild),bn=!1,f=!0):f=!1),f||Br(n)),Ve(n),f=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,o=g.children,mc(f,g)?o=null:w!==null&&mc(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=hu(e,n,vb,null,null,i),Wi._currentValue=f),fs(e,n),kt(e,n,o,i),n.child;case 6:return e===null&&qe&&((e=i=rt)&&(i=rv(i,n.pendingProps,bn),i!==null?(n.stateNode=i,Dt=n,rt=null,e=!0):e=!1),e||Br(n)),null;case 13:return _0(e,n,i);case 4:return je(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Na(n,null,o,i):kt(e,n,o,i),n.child;case 11:return x0(e,n,n.type,n.pendingProps,i);case 7:return kt(e,n,n.pendingProps,i),n.child;case 8:return kt(e,n,n.pendingProps.children,i),n.child;case 12:return kt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Zn(n,n.type,o.value),kt(e,n,o.children,i),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,qr(n),f=Nt(f),o=o(f),n.flags|=1,kt(e,n,o,i),n.child;case 14:return y0(e,n,n.type,n.pendingProps,i);case 15:return b0(e,n,n.type,n.pendingProps,i);case 19:return N0(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=hs(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Cn(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return v0(e,n,i);case 24:return qr(n),o=Nt(dt),e===null?(f=au(),f===null&&(f=Ke,g=nu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=i),f=g),n.memoizedState={parent:o,cache:f},lu(n),Zn(n,dt,f)):((e.lanes&i)!==0&&(su(e,n),Oi(n,null,null,i),Ci()),f=e.memoizedState,g=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Zn(n,dt,o)):(o=g.cache,Zn(n,dt,o),o!==f.cache&&tu(n,[dt],i,!0))),kt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Bn(e){e.flags|=4}function T0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Um(n)){if(n=ln.current,n!==null&&((ze&4194048)===ze?vn!==null:(ze&62914560)!==ze&&(ze&536870912)===0||n!==vn))throw Ai=iu,fh;e.flags|=8192}}function ms(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Nn():536870912,e.lanes|=n,Oa|=n)}function Bi(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Tb(e,n,i){var o=n.pendingProps;switch(Zo(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ln(dt),et(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wi(n)?Bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),tt(n),null;case 26:return i=n.memoizedState,e===null?(Bn(n),i!==null?(tt(n),T0(n,i)):(tt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Bn(n),tt(n),T0(n,i)):(tt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Bn(n),tt(n),n.flags&=-16777217),null;case 27:_t(n),i=fe.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bn(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return tt(n),null}e=ce.current,wi(n)?ih(n):(e=Tm(f,o,i),n.stateNode=e,Bn(n))}return tt(n),null;case 5:if(_t(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bn(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return tt(n),null}if(e=ce.current,wi(n))ih(n);else{switch(f=Ns(fe.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(i,{is:o.is}):f.createElement(i)}}e[Et]=n,e[Mt]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(jt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Bn(n)}}return tt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(e=fe.current,wi(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,f=Dt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Et]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||km(e.nodeValue,i)),e||Br(n)}else e=Ns(e).createTextNode(o),e[Et]=n,n.stateNode=e}return tt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=wi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Et]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),f=!1}else f=sh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(zn(n),n):(zn(n),null)}if(zn(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),ms(n,n.updateQueue),tt(n),null;case 4:return et(),e===null&&uc(n.stateNode.containerInfo),tt(n),null;case 10:return Ln(n.type),tt(n),null;case 19:if(W(ft),f=n.memoizedState,f===null)return tt(n),null;if(o=(n.flags&128)!==0,g=f.rendering,g===null)if(o)Bi(f,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=us(e),g!==null){for(n.flags|=128,Bi(f,!1),e=g.updateQueue,n.updateQueue=e,ms(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)rh(i,e),i=i.sibling;return _(ft,ft.current&1|2),n.child}e=e.sibling}f.tail!==null&&nt()>xs&&(n.flags|=128,o=!0,Bi(f,!1),n.lanes=4194304)}else{if(!o)if(e=us(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,ms(n,e),Bi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qe)return tt(n),null}else 2*nt()-f.renderingStartTime>xs&&i!==536870912&&(n.flags|=128,o=!0,Bi(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(e=f.last,e!==null?e.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=nt(),n.sibling=null,e=ft.current,_(ft,o?e&1|2:e&1),n):(tt(n),null);case 22:case 23:return zn(n),du(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),i=n.updateQueue,i!==null&&ms(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&W(Ir),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ln(dt),tt(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Cb(e,n){switch(Zo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ln(dt),et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _t(n),null;case 13:if(zn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(ft),null;case 4:return et(),null;case 10:return Ln(n.type),null;case 22:case 23:return zn(n),du(),e!==null&&W(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ln(dt),null;case 25:return null;default:return null}}function C0(e,n){switch(Zo(n),n.tag){case 3:Ln(dt),et();break;case 26:case 27:case 5:_t(n);break;case 4:et();break;case 13:zn(n);break;case 19:W(ft);break;case 10:Ln(n.type);break;case 22:case 23:zn(n),du(),e!==null&&W(Ir);break;case 24:Ln(dt)}}function Pi(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){o=void 0;var g=i.create,w=i.inst;o=g(),w.destroy=o}i=i.next}while(i!==f)}}catch(S){Qe(n,n.return,S)}}function ar(e,n,i){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var w=o.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=n;var A=i,B=S;try{B()}catch(Q){Qe(f,A,Q)}}}o=o.next}while(o!==g)}}catch(Q){Qe(n,n.return,Q)}}function O0(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{yh(n,i)}catch(o){Qe(e,e.return,o)}}}function R0(e,n,i){i.props=$r(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Qe(e,n,o)}}function qi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(f){Qe(e,n,f)}}function wn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){Qe(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Qe(e,n,f)}else i.current=null}function D0(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){Qe(e,e.return,f)}}function Pu(e,n,i){try{var o=e.stateNode;Zb(o,e.type,i,n),o[Mt]=n}catch(f){Qe(e,e.return,f)}}function L0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Es));else if(o!==4&&(o===27&&fr(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Iu(e,n,i),e=e.sibling;e!==null;)Iu(e,n,i),e=e.sibling}function ps(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ps(e,n,i),e=e.sibling;e!==null;)ps(e,n,i),e=e.sibling}function M0(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);jt(n,o,i),n[Et]=e,n[Mt]=i}catch(g){Qe(e,e.return,g)}}var Pn=!1,lt=!1,Hu=!1,z0=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Ob(e,n){if(e=e.containerInfo,fc=Ds,e=Vf(e),qo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,S=-1,A=-1,B=0,Q=0,Z=e,q=null;t:for(;;){for(var I;Z!==i||f!==0&&Z.nodeType!==3||(S=w+f),Z!==g||o!==0&&Z.nodeType!==3||(A=w+o),Z.nodeType===3&&(w+=Z.nodeValue.length),(I=Z.firstChild)!==null;)q=Z,Z=I;for(;;){if(Z===e)break t;if(q===i&&++B===f&&(S=w),q===g&&++Q===o&&(A=w),(I=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=I}i=S===-1||A===-1?null:{start:S,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(hc={focusedElem:e,selectionRange:i},Ds=!1,gt=n;gt!==null;)if(n=gt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,gt=e;else for(;gt!==null;){switch(n=gt,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=n,f=g.memoizedProps,g=g.memoizedState,o=i.stateNode;try{var Se=$r(i.type,f,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Se,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(we){Qe(i,i.return,we)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)gc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,gt=e;break}gt=n.return}}function U0(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ir(e,i),o&4&&Pi(5,i);break;case 1:if(ir(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(w){Qe(i,i.return,w)}else{var f=$r(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Qe(i,i.return,w)}}o&64&&O0(i),o&512&&qi(i,i.return);break;case 3:if(ir(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{yh(e,n)}catch(w){Qe(i,i.return,w)}}break;case 27:n===null&&o&4&&M0(i);case 26:case 5:ir(e,i),n===null&&o&4&&D0(i),o&512&&qi(i,i.return);break;case 12:ir(e,i);break;case 13:ir(e,i),o&4&&q0(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=qb.bind(null,i),av(e,i))));break;case 22:if(o=i.memoizedState!==null||Pn,!o){n=n!==null&&n.memoizedState!==null||lt,f=Pn;var g=lt;Pn=o,(lt=n)&&!g?lr(e,i,(i.subtreeFlags&8772)!==0):ir(e,i),Pn=f,lt=g}break;case 30:break;default:ir(e,i)}}function B0(e){var n=e.alternate;n!==null&&(e.alternate=null,B0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&wo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,Bt=!1;function qn(e,n,i){for(i=i.child;i!==null;)P0(e,n,i),i=i.sibling}function P0(e,n,i){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Y,i)}catch{}switch(i.tag){case 26:lt||wn(i,n),qn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:lt||wn(i,n);var o=We,f=Bt;fr(i.type)&&(We=i.stateNode,Bt=!1),qn(e,n,i),Xi(i.stateNode),We=o,Bt=f;break;case 5:lt||wn(i,n);case 6:if(o=We,f=Bt,We=null,qn(e,n,i),We=o,Bt=f,We!==null)if(Bt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(i.stateNode)}catch(g){Qe(i,n,g)}else try{We.removeChild(i.stateNode)}catch(g){Qe(i,n,g)}break;case 18:We!==null&&(Bt?(e=We,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),rl(e)):Nm(We,i.stateNode));break;case 4:o=We,f=Bt,We=i.stateNode.containerInfo,Bt=!0,qn(e,n,i),We=o,Bt=f;break;case 0:case 11:case 14:case 15:lt||ar(2,i,n),lt||ar(4,i,n),qn(e,n,i);break;case 1:lt||(wn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&R0(i,n,o)),qn(e,n,i);break;case 21:qn(e,n,i);break;case 22:lt=(o=lt)||i.memoizedState!==null,qn(e,n,i),lt=o;break;default:qn(e,n,i)}}function q0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(i){Qe(n,n.return,i)}}function Rb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new z0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new z0),n;default:throw Error(l(435,e.tag))}}function $u(e,n){var i=Rb(e);n.forEach(function(o){var f=Ib.bind(null,e,o);i.has(o)||(i.add(o),o.then(f,f))})}function Gt(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],g=e,w=n,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(fr(S.type)){We=S.stateNode,Bt=!1;break e}break;case 5:We=S.stateNode,Bt=!1;break e;case 3:case 4:We=S.stateNode.containerInfo,Bt=!0;break e}S=S.return}if(We===null)throw Error(l(160));P0(g,w,f),We=null,Bt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)I0(n,e),n=n.sibling}var fn=null;function I0(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(n,e),Yt(e),o&4&&(ar(3,e,e.return),Pi(3,e),ar(5,e,e.return));break;case 1:Gt(n,e),Yt(e),o&512&&(lt||i===null||wn(i,i.return)),o&64&&Pn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=fn;if(Gt(n,e),Yt(e),o&512&&(lt||i===null||wn(i,i.return)),o&4){var g=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ci]||g[Et]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),jt(g,o,i),g[Et]=e,mt(g),o=g;break e;case"link":var w=Mm("link","href",f).get(o+(i.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(S,1);break t}}g=f.createElement(o),jt(g,o,i),f.head.appendChild(g);break;case"meta":if(w=Mm("meta","content",f).get(o+(i.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(S,1);break t}}g=f.createElement(o),jt(g,o,i),f.head.appendChild(g);break;default:throw Error(l(468,o))}g[Et]=e,mt(g),o=g}e.stateNode=o}else zm(f,e.type,e.stateNode);else e.stateNode=Lm(f,o,e.memoizedProps);else g!==o?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,o===null?zm(f,e.type,e.stateNode):Lm(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Gt(n,e),Yt(e),o&512&&(lt||i===null||wn(i,i.return)),i!==null&&o&4&&Pu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Gt(n,e),Yt(e),o&512&&(lt||i===null||wn(i,i.return)),e.flags&32){f=e.stateNode;try{ua(f,"")}catch(I){Qe(e,e.return,I)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Pu(e,f,i!==null?i.memoizedProps:f)),o&1024&&(Hu=!0);break;case 6:if(Gt(n,e),Yt(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(I){Qe(e,e.return,I)}}break;case 3:if(Cs=null,f=fn,fn=As(n.containerInfo),Gt(n,e),fn=f,Yt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(I){Qe(e,e.return,I)}Hu&&(Hu=!1,H0(e));break;case 4:o=fn,fn=As(e.stateNode.containerInfo),Gt(n,e),Yt(e),fn=o;break;case 12:Gt(n,e),Yt(e);break;case 13:Gt(n,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Xu=nt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:f=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,B=Pn,Q=lt;if(Pn=B||f,lt=Q||A,Gt(n,e),lt=Q,Pn=B,Yt(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||A||Pn||lt||Fr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){A=i=n;try{if(g=A.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=A.stateNode;var Z=A.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(I){Qe(A,A.return,I)}}}else if(n.tag===6){if(i===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(I){Qe(A,A.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,$u(e,i))));break;case 19:Gt(n,e),Yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:Gt(n,e),Yt(e)}}function Yt(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(L0(o)){i=o;break}o=o.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var f=i.stateNode,g=qu(e);ps(e,g,f);break;case 5:var w=i.stateNode;i.flags&32&&(ua(w,""),i.flags&=-33);var S=qu(e);ps(e,S,w);break;case 3:case 4:var A=i.stateNode.containerInfo,B=qu(e);Iu(e,B,A);break;default:throw Error(l(161))}}catch(Q){Qe(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function H0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;H0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ir(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)U0(e,n.alternate,n),n=n.sibling}function Fr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),Fr(n);break;case 1:wn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&R0(n,n.return,i),Fr(n);break;case 27:Xi(n.stateNode);case 26:case 5:wn(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}e=e.sibling}}function lr(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:lr(f,g,i),Pi(4,g);break;case 1:if(lr(f,g,i),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Qe(o,o.return,B)}if(o=g,f=o.updateQueue,f!==null){var S=o.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)xh(A[f],S)}catch(B){Qe(o,o.return,B)}}i&&w&64&&O0(g),qi(g,g.return);break;case 27:M0(g);case 26:case 5:lr(f,g,i),i&&o===null&&w&4&&D0(g),qi(g,g.return);break;case 12:lr(f,g,i);break;case 13:lr(f,g,i),i&&w&4&&q0(f,g);break;case 22:g.memoizedState===null&&lr(f,g,i),qi(g,g.return);break;case 30:break;default:lr(f,g,i)}n=n.sibling}}function Fu(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&_i(i))}function Gu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_i(e))}function kn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$0(e,n,i,o),n=n.sibling}function $0(e,n,i,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n,i,o),f&2048&&Pi(9,n);break;case 1:kn(e,n,i,o);break;case 3:kn(e,n,i,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_i(e)));break;case 12:if(f&2048){kn(e,n,i,o),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Qe(n,n.return,A)}}else kn(e,n,i,o);break;case 13:kn(e,n,i,o);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?kn(e,n,i,o):Ii(e,n):g._visibility&2?kn(e,n,i,o):(g._visibility|=2,Aa(e,n,i,o,(n.subtreeFlags&10256)!==0)),f&2048&&Fu(w,n);break;case 24:kn(e,n,i,o),f&2048&&Gu(n.alternate,n);break;default:kn(e,n,i,o)}}function Aa(e,n,i,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,S=i,A=o,B=w.flags;switch(w.tag){case 0:case 11:case 15:Aa(g,w,S,A,f),Pi(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?Aa(g,w,S,A,f):Ii(g,w):(Q._visibility|=2,Aa(g,w,S,A,f)),f&&B&2048&&Fu(w.alternate,w);break;case 24:Aa(g,w,S,A,f),f&&B&2048&&Gu(w.alternate,w);break;default:Aa(g,w,S,A,f)}n=n.sibling}}function Ii(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,f=o.flags;switch(o.tag){case 22:Ii(i,o),f&2048&&Fu(o.alternate,o);break;case 24:Ii(i,o),f&2048&&Gu(o.alternate,o);break;default:Ii(i,o)}n=n.sibling}}var Hi=8192;function Ta(e){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)F0(e),e=e.sibling}function F0(e){switch(e.tag){case 26:Ta(e),e.flags&Hi&&e.memoizedState!==null&&xv(fn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var n=fn;fn=As(e.stateNode.containerInfo),Ta(e),fn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hi,Hi=16777216,Ta(e),Hi=n):Ta(e));break;default:Ta(e)}}function G0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $i(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];gt=o,V0(o,e)}G0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Y0(e),e=e.sibling}function Y0(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&ar(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gs(e)):$i(e);break;default:$i(e)}}function gs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];gt=o,V0(o,e)}G0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ar(8,n,n.return),gs(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,gs(n));break;default:gs(n)}e=e.sibling}}function V0(e,n){for(;gt!==null;){var i=gt;switch(i.tag){case 0:case 11:case 15:ar(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_i(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,gt=o;else e:for(i=e;gt!==null;){o=gt;var f=o.sibling,g=o.return;if(B0(o),o===i){gt=null;break e}if(f!==null){f.return=g,gt=f;break e}gt=g}}}var Db={getCacheForType:function(e){var n=Nt(dt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Lb=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ke=null,Re=null,ze=0,He=0,Vt=null,sr=!1,Ca=!1,Yu=!1,In=0,at=0,or=0,Gr=0,Vu=0,sn=0,Oa=0,Fi=null,Pt=null,Qu=!1,Xu=0,xs=1/0,ys=null,ur=null,St=0,cr=null,Ra=null,Da=0,Ku=0,Zu=null,Q0=null,Gi=0,Ju=null;function Qt(){if((Ie&2)!==0&&ze!==0)return ze&-ze;if(P.T!==null){var e=va;return e!==0?e:ic()}return cf()}function X0(){sn===0&&(sn=(ze&536870912)===0||qe?yn():536870912);var e=ln.current;return e!==null&&(e.flags|=32),sn}function Xt(e,n,i){(e===Ke&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(La(e,0),dr(e,ze,sn,!1)),ui(e,i),((Ie&2)===0||e!==Ke)&&(e===Ke&&((Ie&2)===0&&(Gr|=i),at===4&&dr(e,ze,sn,!1)),Sn(e))}function K0(e,n,i){if((Ie&6)!==0)throw Error(l(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ae(e,n),f=o?Ub(e,n):tc(e,n,!0),g=o;do{if(f===0){Ca&&!o&&dr(e,n,0,!1);break}else{if(i=e.current.alternate,g&&!Mb(i)){f=tc(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var S=e;f=Fi;var A=S.current.memoizedState.isDehydrated;if(A&&(La(S,w).flags|=256),w=tc(S,w,!1),w!==2){if(Yu&&!A){S.errorRecoveryDisabledLanes|=g,Gr|=g,f=4;break e}g=Pt,Pt=f,g!==null&&(Pt===null?Pt=g:Pt.push.apply(Pt,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){La(e,0),dr(e,n,0,!0);break}e:{switch(o=e,g=f,g){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:dr(o,n,sn,!sr);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(f=Xu+300-nt(),10<f)){if(dr(o,n,sn,!sr),me(o,0,!0)!==0)break e;o.timeoutHandle=_m(Z0.bind(null,o,i,Pt,ys,Qu,n,sn,Gr,Oa,sr,g,2,-0,0),f);break e}Z0(o,i,Pt,ys,Qu,n,sn,Gr,Oa,sr,g,0,-0,0)}}break}while(!0);Sn(e)}function Z0(e,n,i,o,f,g,w,S,A,B,Q,Z,q,I){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ji={stylesheets:null,count:0,unsuspend:gv},F0(n),Z=yv(),Z!==null)){e.cancelPendingCommit=Z(am.bind(null,e,n,g,i,o,f,w,S,A,Q,1,q,I)),dr(e,g,w,!B);return}am(e,n,g,i,o,f,w,S,A)}function Mb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],g=f.getSnapshot;f=f.value;try{if(!$t(g(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(e,n,i,o){n&=~Vu,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var g=31-ve(f),w=1<<g;o[g]=-1,f&=~w}i!==0&&of(e,i,n)}function bs(){return(Ie&6)===0?(Yi(0),!1):!0}function Wu(){if(Re!==null){if(He===0)var e=Re.return;else e=Re,Dn=Pr=null,gu(e),Ea=null,zi=0,e=Re;for(;e!==null;)C0(e.alternate,e),e=e.return;Re=null}}function La(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Wb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Wu(),Ke=e,Re=i=Cn(e.current,null),ze=n,He=0,Vt=null,sr=!1,Ca=Ae(e,n),Yu=!1,Oa=sn=Vu=Gr=or=at=0,Pt=Fi=null,Qu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ve(o),g=1<<f;n|=e[f],o&=~g}return In=n,Il(),i}function J0(e,n){Te=null,P.H=ls,n===Ni||n===Kl?(n=ph(),He=3):n===fh?(n=ph(),He=4):He=n===g0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vt=n,Re===null&&(at=1,ds(e,tn(n,e.current)))}function W0(){var e=P.H;return P.H=ls,e===null?ls:e}function em(){var e=P.A;return P.A=Db,e}function ec(){at=4,sr||(ze&4194048)!==ze&&ln.current!==null||(Ca=!0),(or&134217727)===0&&(Gr&134217727)===0||Ke===null||dr(Ke,ze,sn,!1)}function tc(e,n,i){var o=Ie;Ie|=2;var f=W0(),g=em();(Ke!==e||ze!==n)&&(ys=null,La(e,n)),n=!1;var w=at;e:do try{if(He!==0&&Re!==null){var S=Re,A=Vt;switch(He){case 8:Wu(),w=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(n=!0);var B=He;if(He=0,Vt=null,Ma(e,S,A,B),i&&Ca){w=0;break e}break;default:B=He,He=0,Vt=null,Ma(e,S,A,B)}}zb(),w=at;break}catch(Q){J0(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Dn=Pr=null,Ie=o,P.H=f,P.A=g,Re===null&&(Ke=null,ze=0,Il()),w}function zb(){for(;Re!==null;)tm(Re)}function Ub(e,n){var i=Ie;Ie|=2;var o=W0(),f=em();Ke!==e||ze!==n?(ys=null,xs=nt()+500,La(e,n)):Ca=Ae(e,n);e:do try{if(He!==0&&Re!==null){n=Re;var g=Vt;t:switch(He){case 1:He=0,Vt=null,Ma(e,n,g,1);break;case 2:case 9:if(hh(g)){He=0,Vt=null,nm(n);break}n=function(){He!==2&&He!==9||Ke!==e||(He=7),Sn(e)},g.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:hh(g)?(He=0,Vt=null,nm(n)):(He=0,Vt=null,Ma(e,n,g,7));break;case 5:var w=null;switch(Re.tag){case 26:w=Re.memoizedState;case 5:case 27:var S=Re;if(!w||Um(w)){He=0,Vt=null;var A=S.sibling;if(A!==null)Re=A;else{var B=S.return;B!==null?(Re=B,vs(B)):Re=null}break t}}He=0,Vt=null,Ma(e,n,g,5);break;case 6:He=0,Vt=null,Ma(e,n,g,6);break;case 8:Wu(),at=6;break e;default:throw Error(l(462))}}Bb();break}catch(Q){J0(e,Q)}while(!0);return Dn=Pr=null,P.H=o,P.A=f,Ie=i,Re!==null?0:(Ke=null,ze=0,Il(),at)}function Bb(){for(;Re!==null&&!Yn();)tm(Re)}function tm(e){var n=A0(e.alternate,e,In);e.memoizedProps=e.pendingProps,n===null?vs(e):Re=n}function nm(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=k0(i,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=k0(i,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:gu(n);default:C0(i,n),n=Re=rh(n,In),n=A0(i,n,In)}e.memoizedProps=e.pendingProps,n===null?vs(e):Re=n}function Ma(e,n,i,o){Dn=Pr=null,gu(n),Ea=null,zi=0;var f=n.return;try{if(Nb(e,f,n,i,ze)){at=1,ds(e,tn(i,e.current)),Re=null;return}}catch(g){if(f!==null)throw Re=f,g;at=1,ds(e,tn(i,e.current)),Re=null;return}n.flags&32768?(qe||o===1?e=!0:Ca||(ze&536870912)!==0?e=!1:(sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=ln.current,o!==null&&o.tag===13&&(o.flags|=16384))),rm(n,e)):vs(n)}function vs(e){var n=e;do{if((n.flags&32768)!==0){rm(n,sr);return}e=n.return;var i=Tb(n.alternate,n,In);if(i!==null){Re=i;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=e}while(n!==null);at===0&&(at=5)}function rm(e,n){do{var i=Cb(e.alternate,e);if(i!==null){i.flags&=32767,Re=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Re=e;return}Re=e=i}while(e!==null);at=6,Re=null}function am(e,n,i,o,f,g,w,S,A){e.cancelPendingCommit=null;do ws();while(St!==0);if((Ie&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(g=n.lanes|n.childLanes,g|=Go,gy(e,i,g,w,S,A),e===Ke&&(Re=Ke=null,ze=0),Ra=n,cr=e,Da=i,Ku=g,Zu=f,Q0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hb(Qn,function(){return um(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,f=H.p,H.p=2,w=Ie,Ie|=4;try{Ob(e,n,i)}finally{Ie=w,H.p=f,P.T=o}}St=1,im(),lm(),sm()}}function im(){if(St===1){St=0;var e=cr,n=Ra,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=P.T,P.T=null;var o=H.p;H.p=2;var f=Ie;Ie|=4;try{I0(n,e);var g=hc,w=Vf(e.containerInfo),S=g.focusedElem,A=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&Yf(S.ownerDocument.documentElement,S)){if(A!==null&&qo(S)){var B=A.start,Q=A.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var Z=S.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var I=q.getSelection(),Se=S.textContent.length,we=Math.min(A.start,Se),Ye=A.end===void 0?we:Math.min(A.end,Se);!I.extend&&we>Ye&&(w=Ye,Ye=we,we=w);var L=Gf(S,we),O=Gf(S,Ye);if(L&&O&&(I.rangeCount!==1||I.anchorNode!==L.node||I.anchorOffset!==L.offset||I.focusNode!==O.node||I.focusOffset!==O.offset)){var U=Z.createRange();U.setStart(L.node,L.offset),I.removeAllRanges(),we>Ye?(I.addRange(U),I.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),I.addRange(U))}}}}for(Z=[],I=S;I=I.parentNode;)I.nodeType===1&&Z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var K=Z[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ds=!!fc,hc=fc=null}finally{Ie=f,H.p=o,P.T=i}}e.current=n,St=2}}function lm(){if(St===2){St=0;var e=cr,n=Ra,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=P.T,P.T=null;var o=H.p;H.p=2;var f=Ie;Ie|=4;try{U0(e,n.alternate,n)}finally{Ie=f,H.p=o,P.T=i}}St=3}}function sm(){if(St===4||St===3){St=0,Vn();var e=cr,n=Ra,i=Da,o=Q0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?St=5:(St=0,Ra=cr=null,om(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ur=null),bo(i),n=n.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Y,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=P.T,f=H.p,H.p=2,P.T=null;try{for(var g=e.onRecoverableError,w=0;w<o.length;w++){var S=o[w];g(S.value,{componentStack:S.stack})}}finally{P.T=n,H.p=f}}(Da&3)!==0&&ws(),Sn(e),f=e.pendingLanes,(i&4194090)!==0&&(f&42)!==0?e===Ju?Gi++:(Gi=0,Ju=e):Gi=0,Yi(0)}}function om(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_i(n)))}function ws(e){return im(),lm(),sm(),um()}function um(){if(St!==5)return!1;var e=cr,n=Ku;Ku=0;var i=bo(Da),o=P.T,f=H.p;try{H.p=32>i?32:i,P.T=null,i=Zu,Zu=null;var g=cr,w=Da;if(St=0,Ra=cr=null,Da=0,(Ie&6)!==0)throw Error(l(331));var S=Ie;if(Ie|=4,Y0(g.current),$0(g,g.current,w,i),Ie=S,Yi(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Y,g)}catch{}return!0}finally{H.p=f,P.T=o,om(e,n)}}function cm(e,n,i){n=tn(i,n),n=Cu(e.stateNode,n,2),e=er(e,n,2),e!==null&&(ui(e,2),Sn(e))}function Qe(e,n,i){if(e.tag===3)cm(e,e,i);else for(;n!==null;){if(n.tag===3){cm(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=tn(i,e),i=m0(2),o=er(n,i,2),o!==null&&(p0(i,o,n,e),ui(o,2),Sn(o));break}}n=n.return}}function nc(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Lb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(i)||(Yu=!0,f.add(i),e=Pb.bind(null,e,n,i),n.then(e,e))}function Pb(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ke===e&&(ze&i)===i&&(at===4||at===3&&(ze&62914560)===ze&&300>nt()-Xu?(Ie&2)===0&&La(e,0):Vu|=i,Oa===ze&&(Oa=0)),Sn(e)}function dm(e,n){n===0&&(n=Nn()),e=ga(e,n),e!==null&&(ui(e,n),Sn(e))}function qb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),dm(e,i)}function Ib(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),dm(e,i)}function Hb(e,n){return st(e,n)}var ks=null,za=null,rc=!1,Ss=!1,ac=!1,Yr=0;function Sn(e){e!==za&&e.next===null&&(za===null?ks=za=e:za=za.next=e),Ss=!0,rc||(rc=!0,Fb())}function Yi(e,n){if(!ac&&Ss){ac=!0;do for(var i=!1,o=ks;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var w=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-ve(42|e)+1)-1,g&=f&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,pm(o,g))}else g=ze,g=me(o,o===Ke?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Ae(o,g)||(i=!0,pm(o,g));o=o.next}while(i);ac=!1}}function $b(){fm()}function fm(){Ss=rc=!1;var e=0;Yr!==0&&(Jb()&&(e=Yr),Yr=0);for(var n=nt(),i=null,o=ks;o!==null;){var f=o.next,g=hm(o,n);g===0?(o.next=null,i===null?ks=f:i.next=f,f===null&&(za=i)):(i=o,(e!==0||(g&3)!==0)&&(Ss=!0)),o=f}Yi(e)}function hm(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ve(g),S=1<<w,A=f[w];A===-1?((S&i)===0||(S&o)!==0)&&(f[w]=wt(S,n)):A<=n&&(e.expiredLanes|=S),g&=~S}if(n=Ke,i=ze,i=me(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(He===2||He===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ht(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ae(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&ht(o),bo(i)){case 2:case 8:i=Ar;break;case 32:i=Qn;break;case 268435456:i=En;break;default:i=Qn}return o=mm.bind(null,e),i=st(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&ht(o),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,n){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ws()&&e.callbackNode!==i)return null;var o=ze;return o=me(e,e===Ke?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(K0(e,o,n),hm(e,nt()),e.callbackNode!=null&&e.callbackNode===i?mm.bind(null,e):null)}function pm(e,n){if(ws())return null;K0(e,n,!0)}function Fb(){ev(function(){(Ie&6)!==0?st(Nr,$b):fm()})}function ic(){return Yr===0&&(Yr=yn()),Yr}function gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function xm(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Gb(e,n,i,o,f){if(n==="submit"&&i&&i.stateNode===f){var g=gm((f[Mt]||null).action),w=o.submitter;w&&(n=(n=w[Mt]||null)?gm(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var S=new Bl("action","action",null,o,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yr!==0){var A=w?xm(f,w):new FormData(f);_u(i,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(S.preventDefault(),A=w?xm(f,w):new FormData(f),_u(i,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var lc=0;lc<Fo.length;lc++){var sc=Fo[lc],Yb=sc.toLowerCase(),Vb=sc[0].toUpperCase()+sc.slice(1);dn(Yb,"on"+Vb)}dn(Kf,"onAnimationEnd"),dn(Zf,"onAnimationIteration"),dn(Jf,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(cb,"onTransitionRun"),dn(db,"onTransitionStart"),dn(fb,"onTransitionCancel"),dn(Wf,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vi));function ym(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],f=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var w=o.length-1;0<=w;w--){var S=o[w],A=S.instance,B=S.currentTarget;if(S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=B;try{g(f)}catch(Q){cs(Q)}f.currentTarget=null,g=A}else for(w=0;w<o.length;w++){if(S=o[w],A=S.instance,B=S.currentTarget,S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=B;try{g(f)}catch(Q){cs(Q)}f.currentTarget=null,g=A}}}}function De(e,n){var i=n[vo];i===void 0&&(i=n[vo]=new Set);var o=e+"__bubble";i.has(o)||(bm(n,e,2,!1),i.add(o))}function oc(e,n,i){var o=0;n&&(o|=4),bm(i,e,o,n)}var js="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[js]){e[js]=!0,ff.forEach(function(i){i!=="selectionchange"&&(Qb.has(i)||oc(i,!1,e),oc(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[js]||(n[js]=!0,oc("selectionchange",!1,n))}}function bm(e,n,i,o){switch($m(n)){case 2:var f=wv;break;case 8:f=kv;break;default:f=Sc}i=f.bind(null,n,i,e),f=void 0,!Oo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function cc(e,n,i,o,f){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var S=o.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=o.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=ra(S),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){o=g=w;continue e}S=S.parentNode}}o=o.return}Ef(function(){var B=g,Q=To(i),Z=[];e:{var q=eh.get(e);if(q!==void 0){var I=Bl,Se=e;switch(e){case"keypress":if(zl(i)===0)break e;case"keydown":case"keyup":I=Hy;break;case"focusin":Se="focus",I=Mo;break;case"focusout":Se="blur",I=Mo;break;case"beforeblur":case"afterblur":I=Mo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Gy;break;case Kf:case Zf:case Jf:I=Dy;break;case Wf:I=Vy;break;case"scroll":case"scrollend":I=Ay;break;case"wheel":I=Xy;break;case"copy":case"cut":case"paste":I=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Of;break;case"toggle":case"beforetoggle":I=Zy}var we=(n&4)!==0,Ye=!we&&(e==="scroll"||e==="scrollend"),L=we?q!==null?q+"Capture":null:q;we=[];for(var O=B,U;O!==null;){var K=O;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||L===null||(K=fi(O,L),K!=null&&we.push(Qi(O,K,U))),Ye)break;O=O.return}0<we.length&&(q=new I(q,Se,null,i,Q),Z.push({event:q,listeners:we}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",q&&i!==Ao&&(Se=i.relatedTarget||i.fromElement)&&(ra(Se)||Se[na]))break e;if((I||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,I?(Se=i.relatedTarget||i.toElement,I=B,Se=Se?ra(Se):null,Se!==null&&(Ye=u(Se),we=Se.tag,Se!==Ye||we!==5&&we!==27&&we!==6)&&(Se=null)):(I=null,Se=B),I!==Se)){if(we=Tf,K="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(we=Of,K="onPointerLeave",L="onPointerEnter",O="pointer"),Ye=I==null?q:di(I),U=Se==null?q:di(Se),q=new we(K,O+"leave",I,i,Q),q.target=Ye,q.relatedTarget=U,K=null,ra(Q)===B&&(we=new we(L,O+"enter",Se,i,Q),we.target=U,we.relatedTarget=Ye,K=we),Ye=K,I&&Se)t:{for(we=I,L=Se,O=0,U=we;U;U=Ua(U))O++;for(U=0,K=L;K;K=Ua(K))U++;for(;0<O-U;)we=Ua(we),O--;for(;0<U-O;)L=Ua(L),U--;for(;O--;){if(we===L||L!==null&&we===L.alternate)break t;we=Ua(we),L=Ua(L)}we=null}else we=null;I!==null&&vm(Z,q,I,we,!1),Se!==null&&Ye!==null&&vm(Z,Ye,Se,we,!0)}}e:{if(q=B?di(B):window,I=q.nodeName&&q.nodeName.toLowerCase(),I==="select"||I==="input"&&q.type==="file")var he=Pf;else if(Uf(q))if(qf)he=sb;else{he=ib;var Oe=ab}else I=q.nodeName,!I||I.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&No(B.elementType)&&(he=Pf):he=lb;if(he&&(he=he(e,B))){Bf(Z,he,i,Q);break e}Oe&&Oe(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Eo(q,"number",q.value)}switch(Oe=B?di(B):window,e){case"focusin":(Uf(Oe)||Oe.contentEditable==="true")&&(ha=Oe,Io=B,vi=null);break;case"focusout":vi=Io=ha=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Qf(Z,i,Q);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Qf(Z,i,Q)}var pe;if(Uo)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fa?Mf(e,i)&&(ke="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(Rf&&i.locale!=="ko"&&(fa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fa&&(pe=Nf()):(Kn=Q,Ro="value"in Kn?Kn.value:Kn.textContent,fa=!0)),Oe=_s(B,ke),0<Oe.length&&(ke=new Cf(ke,e,null,i,Q),Z.push({event:ke,listeners:Oe}),pe?ke.data=pe:(pe=zf(i),pe!==null&&(ke.data=pe)))),(pe=Wy?eb(e,i):tb(e,i))&&(ke=_s(B,"onBeforeInput"),0<ke.length&&(Oe=new Cf("onBeforeInput","beforeinput",null,i,Q),Z.push({event:Oe,listeners:ke}),Oe.data=pe)),Gb(Z,e,B,i,Q)}ym(Z,n)})}function Qi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function _s(e,n){for(var i=n+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=fi(e,i),f!=null&&o.unshift(Qi(e,f,g)),f=fi(e,n),f!=null&&o.push(Qi(e,f,g))),e.tag===3)return o;e=e.return}return[]}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vm(e,n,i,o,f){for(var g=n._reactName,w=[];i!==null&&i!==o;){var S=i,A=S.alternate,B=S.stateNode;if(S=S.tag,A!==null&&A===o)break;S!==5&&S!==26&&S!==27||B===null||(A=B,f?(B=fi(i,g),B!=null&&w.unshift(Qi(i,B,A))):f||(B=fi(i,g),B!=null&&w.push(Qi(i,B,A)))),i=i.return}w.length!==0&&e.push({event:n,listeners:w})}var Xb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(Xb,`
`).replace(Kb,"")}function km(e,n){return n=wm(n),wm(e)===n}function Es(){}function Ge(e,n,i,o,f,g){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ua(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ua(e,""+o);break;case"className":Ol(e,"class",o);break;case"tabIndex":Ol(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(e,i,o);break;case"style":jf(e,o,g);break;case"data":if(n!=="object"){Ol(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ll(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&Ge(e,n,"name",f.name,f,null),Ge(e,n,"formEncType",f.formEncType,f,null),Ge(e,n,"formMethod",f.formMethod,f,null),Ge(e,n,"formTarget",f.formTarget,f,null)):(Ge(e,n,"encType",f.encType,f,null),Ge(e,n,"method",f.method,f,null),Ge(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ll(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Es);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Ll(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":De("beforetoggle",e),De("toggle",e),Cl(e,"popover",o);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Cl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ey.get(i)||i,Cl(e,i,o))}}function dc(e,n,i,o,f,g){switch(i){case"style":jf(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ua(e,o):(typeof o=="number"||typeof o=="bigint")&&ua(e,""+o);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),g=e[Mt]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,f);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Cl(e,i,o)}}}function jt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var o=!1,f=!1,g;for(g in i)if(i.hasOwnProperty(g)){var w=i[g];if(w!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ge(e,n,g,w,i,null)}}f&&Ge(e,n,"srcSet",i.srcSet,i,null),o&&Ge(e,n,"src",i.src,i,null);return;case"input":De("invalid",e);var S=g=w=f=null,A=null,B=null;for(o in i)if(i.hasOwnProperty(o)){var Q=i[o];if(Q!=null)switch(o){case"name":f=Q;break;case"type":w=Q;break;case"checked":A=Q;break;case"defaultChecked":B=Q;break;case"value":g=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,n));break;default:Ge(e,n,o,Q,i,null)}}vf(e,g,S,A,B,w,f,!1),Rl(e);return;case"select":De("invalid",e),o=w=g=null;for(f in i)if(i.hasOwnProperty(f)&&(S=i[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":o=S;default:Ge(e,n,f,S,i,null)}n=g,i=w,e.multiple=!!o,n!=null?oa(e,!!o,n,!1):i!=null&&oa(e,!!o,i,!0);return;case"textarea":De("invalid",e),g=f=o=null;for(w in i)if(i.hasOwnProperty(w)&&(S=i[w],S!=null))switch(w){case"value":o=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:Ge(e,n,w,S,i,null)}kf(e,o,f,g),Rl(e);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(o=i[A],o!=null))switch(A){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,n,A,o,i,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(o=0;o<Vi.length;o++)De(Vi[o],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(o=i[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ge(e,n,B,o,i,null)}return;default:if(No(n)){for(Q in i)i.hasOwnProperty(Q)&&(o=i[Q],o!==void 0&&dc(e,n,Q,o,i,void 0));return}}for(S in i)i.hasOwnProperty(S)&&(o=i[S],o!=null&&Ge(e,n,S,o,i,null))}function Zb(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,S=null,A=null,B=null,Q=null;for(I in i){var Z=i[I];if(i.hasOwnProperty(I)&&Z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":A=Z;default:o.hasOwnProperty(I)||Ge(e,n,I,null,o,Z)}}for(var q in o){var I=o[q];if(Z=i[q],o.hasOwnProperty(q)&&(I!=null||Z!=null))switch(q){case"type":g=I;break;case"name":f=I;break;case"checked":B=I;break;case"defaultChecked":Q=I;break;case"value":w=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,n));break;default:I!==Z&&Ge(e,n,q,I,o,Z)}}_o(e,w,S,A,B,Q,g,f);return;case"select":I=w=S=q=null;for(g in i)if(A=i[g],i.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":I=A;default:o.hasOwnProperty(g)||Ge(e,n,g,null,o,A)}for(f in o)if(g=o[f],A=i[f],o.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":q=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==A&&Ge(e,n,f,g,o,A)}n=S,i=w,o=I,q!=null?oa(e,!!i,q,!1):!!o!=!!i&&(n!=null?oa(e,!!i,n,!0):oa(e,!!i,i?[]:"",!1));return;case"textarea":I=q=null;for(S in i)if(f=i[S],i.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(e,n,S,null,o,f)}for(w in o)if(f=o[w],g=i[w],o.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":q=f;break;case"defaultValue":I=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==g&&Ge(e,n,w,f,o,g)}wf(e,q,I);return;case"option":for(var Se in i)if(q=i[Se],i.hasOwnProperty(Se)&&q!=null&&!o.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:Ge(e,n,Se,null,o,q)}for(A in o)if(q=o[A],I=i[A],o.hasOwnProperty(A)&&q!==I&&(q!=null||I!=null))switch(A){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ge(e,n,A,q,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in i)q=i[we],i.hasOwnProperty(we)&&q!=null&&!o.hasOwnProperty(we)&&Ge(e,n,we,null,o,q);for(B in o)if(q=o[B],I=i[B],o.hasOwnProperty(B)&&q!==I&&(q!=null||I!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,n));break;default:Ge(e,n,B,q,o,I)}return;default:if(No(n)){for(var Ye in i)q=i[Ye],i.hasOwnProperty(Ye)&&q!==void 0&&!o.hasOwnProperty(Ye)&&dc(e,n,Ye,void 0,o,q);for(Q in o)q=o[Q],I=i[Q],!o.hasOwnProperty(Q)||q===I||q===void 0&&I===void 0||dc(e,n,Q,q,o,I);return}}for(var L in i)q=i[L],i.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&Ge(e,n,L,null,o,q);for(Z in o)q=o[Z],I=i[Z],!o.hasOwnProperty(Z)||q===I||q==null&&I==null||Ge(e,n,Z,q,o,I)}var fc=null,hc=null;function Ns(e){return e.nodeType===9?e:e.ownerDocument}function Sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pc=null;function Jb(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var _m=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,ev=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(e){return Em.resolve(null).then(e).catch(tv)}:_m;function tv(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Nm(e,n){var i=n,o=0,f=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<o&&8>o){i=o;var w=e.ownerDocument;if(i&1&&Xi(w.documentElement),i&2&&Xi(w.body),i&4)for(i=w.head,Xi(i),w=i.firstChild;w;){var S=w.nextSibling,A=w.nodeName;w[ci]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=S}}if(f===0){e.removeChild(g),rl(n);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:o=i.charCodeAt(0)-48;else o=0;i=g}while(i);rl(n)}function gc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":gc(i),wo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function nv(e,n,i,o){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function rv(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=hn(e.nextSibling),e===null))return null;return e}function xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function av(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var yc=null;function Am(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Tm(e,n,i){switch(n=Ns(i),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Xi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);wo(e)}var on=new Map,Cm=new Set;function As(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=H.d;H.d={f:iv,r:lv,D:sv,C:ov,L:uv,m:cv,X:fv,S:dv,M:hv};function iv(){var e=Hn.f(),n=bs();return e||n}function lv(e){var n=aa(e);n!==null&&n.tag===5&&n.type==="form"?Kh(n):Hn.r(e)}var Ba=typeof document>"u"?null:document;function Om(e,n,i){var o=Ba;if(o&&typeof n=="string"&&n){var f=en(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Cm.has(f)||(Cm.add(f),e={rel:e,crossOrigin:i,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),jt(n,"link",e),mt(n),o.head.appendChild(n)))}}function sv(e){Hn.D(e),Om("dns-prefetch",e,null)}function ov(e,n){Hn.C(e,n),Om("preconnect",e,n)}function uv(e,n,i){Hn.L(e,n,i);var o=Ba;if(o&&e&&n){var f='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+en(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+en(i.imageSizes)+'"]')):f+='[href="'+en(e)+'"]';var g=f;switch(n){case"style":g=Pa(e);break;case"script":g=qa(e)}on.has(g)||(e=x({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),on.set(g,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ki(g))||n==="script"&&o.querySelector(Zi(g))||(n=o.createElement("link"),jt(n,"link",e),mt(n),o.head.appendChild(n)))}}function cv(e,n){Hn.m(e,n);var i=Ba;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qa(e)}if(!on.has(g)&&(e=x({rel:"modulepreload",href:e},n),on.set(g,e),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Zi(g)))return}o=i.createElement("link"),jt(o,"link",e),mt(o),i.head.appendChild(o)}}}function dv(e,n,i){Hn.S(e,n,i);var o=Ba;if(o&&e){var f=ia(o).hoistableStyles,g=Pa(e);n=n||"default";var w=f.get(g);if(!w){var S={loading:0,preload:null};if(w=o.querySelector(Ki(g)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},i),(i=on.get(g))&&bc(e,i);var A=w=o.createElement("link");mt(A),jt(A,"link",e),A._p=new Promise(function(B,Q){A.onload=B,A.onerror=Q}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ts(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(g,w)}}}function fv(e,n){Hn.X(e,n);var i=Ba;if(i&&e){var o=ia(i).hoistableScripts,f=qa(e),g=o.get(f);g||(g=i.querySelector(Zi(f)),g||(e=x({src:e,async:!0},n),(n=on.get(f))&&vc(e,n),g=i.createElement("script"),mt(g),jt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function hv(e,n){Hn.M(e,n);var i=Ba;if(i&&e){var o=ia(i).hoistableScripts,f=qa(e),g=o.get(f);g||(g=i.querySelector(Zi(f)),g||(e=x({src:e,async:!0,type:"module"},n),(n=on.get(f))&&vc(e,n),g=i.createElement("script"),mt(g),jt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Rm(e,n,i,o){var f=(f=fe.current)?As(f):null;if(!f)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Pa(i.href),i=ia(f).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Pa(i.href);var g=ia(f).hoistableStyles,w=g.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=f.querySelector(Ki(e)))&&!g._p&&(w.instance=g,w.state.loading=5),on.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},on.set(e,i),g||mv(f,e,i,w.state))),n&&o===null)throw Error(l(528,""));return w}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(i),i=ia(f).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Pa(e){return'href="'+en(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function Dm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function mv(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),jt(n,"link",i),mt(n),e.head.appendChild(n))}function qa(e){return'[src="'+en(e)+'"]'}function Zi(e){return"script[async]"+e}function Lm(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(i.href)+'"]');if(o)return n.instance=o,mt(o),o;var f=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mt(o),jt(o,"style",f),Ts(o,i.precedence,e),n.instance=o;case"stylesheet":f=Pa(i.href);var g=e.querySelector(Ki(f));if(g)return n.state.loading|=4,n.instance=g,mt(g),g;o=Dm(i),(f=on.get(f))&&bc(o,f),g=(e.ownerDocument||e).createElement("link"),mt(g);var w=g;return w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),jt(g,"link",o),n.state.loading|=4,Ts(g,i.precedence,e),n.instance=g;case"script":return g=qa(i.src),(f=e.querySelector(Zi(g)))?(n.instance=f,mt(f),f):(o=i,(f=on.get(g))&&(o=x({},i),vc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),mt(f),jt(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ts(o,i.precedence,e));return n.instance}function Ts(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,w=0;w<o.length;w++){var S=o[w];if(S.dataset.precedence===n)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cs=null;function Mm(e,n,i){if(Cs===null){var o=new Map,f=Cs=new Map;f.set(i,o)}else f=Cs,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var g=i[f];if(!(g[ci]||g[Et]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var S=o.get(w);S?S.push(g):o.set(w,[g])}}return o}function zm(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function pv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ji=null;function gv(){}function xv(e,n,i){if(Ji===null)throw Error(l(475));var o=Ji;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Pa(i.href),g=e.querySelector(Ki(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Os.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,mt(g);return}g=e.ownerDocument||e,i=Dm(i),(f=on.get(f))&&bc(i,f),g=g.createElement("link"),mt(g);var w=g;w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),jt(g,"link",i),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Os.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function yv(){if(Ji===null)throw Error(l(475));var e=Ji;return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Os(){if(this.count--,this.count===0){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rs=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rs=new Map,n.forEach(bv,e),Rs=null,Os.call(e))}function bv(e,n){if(!(n.state.loading&4)){var i=Rs.get(e);if(i)var o=i.get(null);else{i=new Map,Rs.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),o=w)}o&&i.set(null,o)}f=n.instance,w=f.getAttribute("data-precedence"),g=i.get(w)||o,g===o&&i.set(null,f),i.set(w,f),this.count++,o=Os.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Wi={$$typeof:N,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function vv(e,n,i,o,f,g,w,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Bm(e,n,i,o,f,g,w,S,A,B,Q,Z){return e=new vv(e,n,i,w,S,A,B,Z),n=1,g===!0&&(n|=24),g=Ft(3,null,null,n),e.current=g,g.stateNode=e,n=nu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:i,cache:n},lu(g),e}function Pm(e){return e?(e=xa,e):xa}function qm(e,n,i,o,f,g){f=Pm(f),o.context===null?o.context=f:o.pendingContext=f,o=Wn(n),o.payload={element:i},g=g===void 0?null:g,g!==null&&(o.callback=g),i=er(e,o,n),i!==null&&(Xt(i,e,n),Ti(i,e,n))}function Im(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function kc(e,n){Im(e,n),(e=e.alternate)&&Im(e,n)}function Hm(e){if(e.tag===13){var n=ga(e,67108864);n!==null&&Xt(n,e,67108864),kc(e,67108864)}}var Ds=!0;function wv(e,n,i,o){var f=P.T;P.T=null;var g=H.p;try{H.p=2,Sc(e,n,i,o)}finally{H.p=g,P.T=f}}function kv(e,n,i,o){var f=P.T;P.T=null;var g=H.p;try{H.p=8,Sc(e,n,i,o)}finally{H.p=g,P.T=f}}function Sc(e,n,i,o){if(Ds){var f=jc(o);if(f===null)cc(e,n,o,Ls,i),Fm(e,o);else if(jv(f,e,n,i,o))o.stopPropagation();else if(Fm(e,o),n&4&&-1<Sv.indexOf(e)){for(;f!==null;){var g=aa(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ye(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var A=1<<31-ve(w);S.entanglements[1]|=A,w&=~A}Sn(g),(Ie&6)===0&&(xs=nt()+500,Yi(0))}}break;case 13:S=ga(g,2),S!==null&&Xt(S,g,2),bs(),kc(g,2)}if(g=jc(o),g===null&&cc(e,n,o,Ls,i),g===f)break;f=g}f!==null&&o.stopPropagation()}else cc(e,n,o,null,i)}}function jc(e){return e=To(e),_c(e)}var Ls=null;function _c(e){if(Ls=null,e=ra(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=c(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ls=e,null}function $m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case Nr:return 2;case Ar:return 8;case Qn:case si:return 32;case En:return 268435456;default:return 32}default:return 32}}var Ec=!1,hr=null,mr=null,pr=null,el=new Map,tl=new Map,gr=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fm(e,n){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function nl(e,n,i,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},n!==null&&(n=aa(n),n!==null&&Hm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function jv(e,n,i,o,f){switch(n){case"focusin":return hr=nl(hr,e,n,i,o,f),!0;case"dragenter":return mr=nl(mr,e,n,i,o,f),!0;case"mouseover":return pr=nl(pr,e,n,i,o,f),!0;case"pointerover":var g=f.pointerId;return el.set(g,nl(el.get(g)||null,e,n,i,o,f)),!0;case"gotpointercapture":return g=f.pointerId,tl.set(g,nl(tl.get(g)||null,e,n,i,o,f)),!0}return!1}function Gm(e){var n=ra(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=c(i),n!==null){e.blockedOn=n,xy(e.priority,function(){if(i.tag===13){var o=Qt();o=yo(o);var f=ga(i,o);f!==null&&Xt(f,i,o),kc(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=jc(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ao=o,i.target.dispatchEvent(o),Ao=null}else return n=aa(i),n!==null&&Hm(n),e.blockedOn=i,!1;n.shift()}return!0}function Ym(e,n,i){Ms(e)&&i.delete(n)}function _v(){Ec=!1,hr!==null&&Ms(hr)&&(hr=null),mr!==null&&Ms(mr)&&(mr=null),pr!==null&&Ms(pr)&&(pr=null),el.forEach(Ym),tl.forEach(Ym)}function zs(e,n){e.blockedOn===n&&(e.blockedOn=null,Ec||(Ec=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_v)))}var Us=null;function Vm(e){Us!==e&&(Us=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Us===e&&(Us=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(_c(o||i)===null)continue;break}var g=aa(i);g!==null&&(e.splice(n,3),n-=3,_u(g,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function rl(e){function n(A){return zs(A,e)}hr!==null&&zs(hr,e),mr!==null&&zs(mr,e),pr!==null&&zs(pr,e),el.forEach(n),tl.forEach(n);for(var i=0;i<gr.length;i++){var o=gr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<gr.length&&(i=gr[0],i.blockedOn===null);)Gm(i),i.blockedOn===null&&gr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],g=i[o+1],w=f[Mt]||null;if(typeof g=="function")w||Vm(i);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[Mt]||null)S=w.formAction;else if(_c(f)!==null)continue}else S=w.action;typeof S=="function"?i[o+1]=S:(i.splice(o,3),o-=3),Vm(i)}}}function Nc(e){this._internalRoot=e}Bs.prototype.render=Nc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var i=n.current,o=Qt();qm(i,o,e,n,null,null)},Bs.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qm(e.current,2,null,e,null,null),bs(),n[na]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var n=cf();e={blockedOn:null,target:e,priority:n};for(var i=0;i<gr.length&&n!==0&&n<gr[i].priority;i++);gr.splice(i,0,e),i===0&&Gm(e)}};var Qm=r.version;if(Qm!=="19.1.0")throw Error(l(527,Qm,"19.1.0"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Ev={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{Y=Ps.inject(Ev),re=Ps}catch{}}return il.createRoot=function(e,n){if(!s(e))throw Error(l(299));var i=!1,o="",f=c0,g=d0,w=f0,S=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Bm(e,1,!1,null,null,i,o,f,g,w,S,null),e[na]=n.current,uc(e),new Nc(n)},il.hydrateRoot=function(e,n,i){if(!s(e))throw Error(l(299));var o=!1,f="",g=c0,w=d0,S=f0,A=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),n=Bm(e,1,!0,n,i??null,o,f,g,w,S,A,B),n.context=Pm(null),i=n.current,o=Qt(),o=yo(o),f=Wn(o),f.callback=null,er(i,f,o),i=o,n.current.lanes=i,ui(n,i),Sn(n),e[na]=n.current,uc(e),new Bs(n)},il.version="19.1.0",il}var ap;function Uv(){if(ap)return Cc.exports;ap=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Cc.exports=zv(),Cc.exports}var Bv=Uv();const Pv=jl(Bv),ip=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),lp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),qv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),to=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),dd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),fd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),sp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),hd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),md=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),no=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),qg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),co=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),op=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Iv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),Hv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),Js=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Zr=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:d.jsxs("g",{children:[d.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),d.jsx("g",{})]})}),jr=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),gn=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$v=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Ig=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ro=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Fv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Gv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),up=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),cp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),dp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),fp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),hp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Yv=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),Vv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),mp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Hg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),Qv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Xv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Kv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Zv=({onImageSelect:t,isLoading:r})=>{const[a,l]=$.useState(!1),[s,u]=$.useState(null),c=$.useRef(null),h=$.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const j=new FileReader;j.onloadend=()=>{try{const E=j.result;u(E),t(b)}catch(E){console.error("Error processing image file:",E),alert("Gagal memproses file gambar. Silakan coba file lain.")}},j.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},j.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[t]),p=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?l(!0):b.type==="dragleave"&&l(!1)},[]),m=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),l(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&h(b.dataTransfer.files[0])},[h]),x=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&h(b.target.files[0])},y=()=>{var b;(b=c.current)==null||b.click()},v=$.useCallback(b=>{var C,T;if(r||!c.current)return;const j=(C=b.clipboardData)==null?void 0:C.items;if(!j)return;const E=(T=Array.from(j).find(M=>M.kind==="file"&&M.type.startsWith("image/")))==null?void 0:T.getAsFile();E&&(b.preventDefault(),h(E))},[r,h]);return $.useEffect(()=>(document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}),[v]),d.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${a?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!s&&"bg-white dark:bg-slate-800"}`}`,children:[d.jsx("input",{ref:c,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:x,disabled:r}),s?d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("img",{src:s,alt:"Chart preview",className:"object-contain w-full h-full rounded-md"}),r&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg",children:[d.jsx(Zr,{className:"w-16 h-16 text-violet-600 dark:text-violet-400"}),d.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx(op,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),d.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),d.jsxs("button",{type:"button",onClick:y,disabled:r,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[d.jsx(op,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},ll="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",sl="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",pp="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Jv=({params:t,timeframeSettings:r})=>{const[a,l]=$.useState(t.accountBalance||""),[s,u]=$.useState(t.leverage||"10"),[c,h]=$.useState(t.entryPrice||""),[p,m]=$.useState(t.stopLoss||""),[x,y]=$.useState(""),[v,b]=$.useState("LONG"),j=C=>parseFloat(C.replace(",",".")),E=$.useMemo(()=>{const C=j(a),T=j(s),M=j(c),N=j(p),F=j(x);if([C,T,M,N,F].some(isNaN)||C<=0||T<=0||M<=0||N<=0||F<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const G=C*T;let R=0,ne=0,ie=0,ue=0;v==="LONG"?(R=(N-M)*G/M,ne=(F-M)*G/M,ie=Math.abs(ne/Math.abs(R)),ue=M*(1-1/T)):(R=(M-N)*G/M,ne=(M-F)*G/M,ie=Math.abs(ne/Math.abs(R)),ue=M*(1+1/T));const D=C,z=C,V=`${(R/C*100).toFixed(2)}%`,J=`${(ne/C*100).toFixed(2)}%`;let ae="";return ie<1?ae="RRR di bawah standar minimum!":R>=0?ae="Stop Loss tidak valid (tidak rugi)!":ne<=0&&(ae="Take Profit tidak valid (tidak untung)!"),{contract:`$${G.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:N,slMargin:`$${D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${R>=0?"+":""}$${R.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:V,tp:F,tpMargin:`$${z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${ne>=0?"+":""}$${ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:J,rrr:ie.toFixed(2),liq:ue.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:ae}},[a,s,c,p,x,v]);return d.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx(Hv,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:r.text})]})}),d.jsx("div",{className:sl,children:d.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),d.jsx("input",{type:"number",className:ll,value:a,onChange:C=>l(C.target.value),placeholder:"e.g. 6.64"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),d.jsx("input",{type:"number",className:ll,value:s,onChange:C=>u(C.target.value),min:1,max:125})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),d.jsx("input",{type:"number",className:ll,value:c,onChange:C=>h(C.target.value),placeholder:"e.g. 0.621"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),d.jsx("input",{type:"number",className:ll,value:p,onChange:C=>m(C.target.value),placeholder:"e.g. 0.62552"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),d.jsx("input",{type:"number",className:ll,value:x,onChange:C=>y(C.target.value),placeholder:"e.g. 0.6185"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),d.jsxs("div",{className:"flex gap-3 mt-1",children:[d.jsx("button",{onClick:()=>b("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${v==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),d.jsx("button",{onClick:()=>b("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${v==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:sl,children:[d.jsx("h4",{className:pp,children:"Nilai Kontrak"}),d.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[d.jsx("span",{children:"Total Kontrak"}),d.jsx("span",{children:E.contract})]})]}),d.jsxs("div",{className:sl+" border-l-4 border-red-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi SL (USDT)"}),d.jsx("span",{children:E.sl})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:E.slMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:E.slProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:E.slProfitPct})]})]}),d.jsxs("div",{className:sl+" border-l-4 border-emerald-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi TP (USDT)"}),d.jsx("span",{children:E.tp})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:E.tpMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:E.tpProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:E.tpProfitPct})]})]}),d.jsxs("div",{className:sl,children:[d.jsx("h4",{className:pp,children:"Ringkasan"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),d.jsx("span",{children:E.rrr})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Liquidation Price (estimasi)"}),d.jsx("span",{children:E.liq})]})]}),E.warning&&d.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:E.warning})]})]})};function Wv(t,r){const a={};return(t[t.length-1]===""?[...t,""]:t).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const e1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n1={};function gp(t,r){return(n1.jsx?t1:e1).test(t)}const r1=/[ \t\n\f\r]/g;function a1(t){return typeof t=="object"?t.type==="text"?xp(t.value):!1:xp(t)}function xp(t){return t.replace(r1,"")===""}class _l{constructor(r,a,l){this.normal=a,this.property=r,l&&(this.space=l)}}_l.prototype.normal={};_l.prototype.property={};_l.prototype.space=void 0;function $g(t,r){const a={},l={};for(const s of t)Object.assign(a,s.property),Object.assign(l,s.normal);return new _l(a,l,r)}function pd(t){return t.toLowerCase()}class Ht{constructor(r,a){this.attribute=a,this.property=r}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let i1=0;const Ne=Wr(),ct=Wr(),gd=Wr(),le=Wr(),Je=Wr(),ei=Wr(),Kt=Wr();function Wr(){return 2**++i1}const xd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:ct,commaOrSpaceSeparated:Kt,commaSeparated:ei,number:le,overloadedBoolean:gd,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),Lc=Object.keys(xd);class zd extends Ht{constructor(r,a,l,s){let u=-1;if(super(r,a),yp(this,"space",s),typeof l=="number")for(;++u<Lc.length;){const c=Lc[u];yp(this,Lc[u],(l&xd[c])===xd[c])}}}zd.prototype.defined=!0;function yp(t,r,a){a&&(t[r]=a)}function ri(t){const r={},a={};for(const[l,s]of Object.entries(t.properties)){const u=new zd(l,t.transform(t.attributes||{},l),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(l)&&(u.mustUseProperty=!0),r[l]=u,a[pd(l)]=l,a[pd(u.attribute)]=l}return new _l(r,a,t.space)}const Fg=ri({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Je,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:le,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Je,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:ct,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()}});function Gg(t,r){return r in t?t[r]:r}function Yg(t,r){return Gg(t,r.toLowerCase())}const l1=ri({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ei,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:Je,autoFocus:Ne,autoPlay:Ne,blocking:Je,capture:null,charSet:null,checked:Ne,cite:null,className:Je,cols:le,colSpan:null,content:null,contentEditable:ct,controls:Ne,controlsList:Je,coords:le|ei,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:gd,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:Je,height:le,hidden:gd,high:le,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:Je,itemRef:Je,itemScope:Ne,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:le,pattern:null,ping:Je,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:Je,required:Ne,reversed:Ne,rows:le,rowSpan:le,sandbox:Je,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:ct,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:Yg}),s1=ri({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ei,g2:ei,glyphName:ei,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Gg}),Vg=ri({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()}}),Qg=ri({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yg}),Xg=ri({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()}}),o1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},u1=/[A-Z]/g,bp=/-[a-z]/g,c1=/^data[-\w.:]+$/i;function d1(t,r){const a=pd(r);let l=r,s=Ht;if(a in t.normal)return t.property[t.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&c1.test(r)){if(r.charAt(4)==="-"){const u=r.slice(5).replace(bp,h1);l="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=r.slice(4);if(!bp.test(u)){let c=u.replace(u1,f1);c.charAt(0)!=="-"&&(c="-"+c),r="data"+c}}s=zd}return new s(l,r)}function f1(t){return"-"+t.toLowerCase()}function h1(t){return t.charAt(1).toUpperCase()}const m1=$g([Fg,l1,Vg,Qg,Xg],"html"),Ud=$g([Fg,s1,Vg,Qg,Xg],"svg");function p1(t){return t.join(" ").trim()}var Ia={},Mc,vp;function g1(){if(vp)return Mc;vp=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",x="*",y="",v="comment",b="declaration";Mc=function(E,C){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];C=C||{};var T=1,M=1;function N(J){var ae=J.match(r);ae&&(T+=ae.length);var oe=J.lastIndexOf(p);M=~oe?J.length-oe:M+J.length}function F(){var J={line:T,column:M};return function(ae){return ae.position=new G(J),ie(),ae}}function G(J){this.start=J,this.end={line:T,column:M},this.source=C.source}G.prototype.content=E;function R(J){var ae=new Error(C.source+":"+T+":"+M+": "+J);if(ae.reason=J,ae.filename=C.source,ae.line=T,ae.column=M,ae.source=E,!C.silent)throw ae}function ne(J){var ae=J.exec(E);if(ae){var oe=ae[0];return N(oe),E=E.slice(oe.length),ae}}function ie(){ne(a)}function ue(J){var ae;for(J=J||[];ae=D();)ae!==!1&&J.push(ae);return J}function D(){var J=F();if(!(m!=E.charAt(0)||x!=E.charAt(1))){for(var ae=2;y!=E.charAt(ae)&&(x!=E.charAt(ae)||m!=E.charAt(ae+1));)++ae;if(ae+=2,y===E.charAt(ae-1))return R("End of comment missing");var oe=E.slice(2,ae-2);return M+=2,N(oe),E=E.slice(ae),M+=2,J({type:v,comment:oe})}}function z(){var J=F(),ae=ne(l);if(ae){if(D(),!ne(s))return R("property missing ':'");var oe=ne(u),P=J({type:b,property:j(ae[0].replace(t,y)),value:oe?j(oe[0].replace(t,y)):y});return ne(c),P}}function V(){var J=[];ue(J);for(var ae;ae=z();)ae!==!1&&(J.push(ae),ue(J));return J}return ie(),V()};function j(E){return E?E.replace(h,y):y}return Mc}var wp;function x1(){if(wp)return Ia;wp=1;var t=Ia&&Ia.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=a;var r=t(g1());function a(l,s){var u=null;if(!l||typeof l!="string")return u;var c=(0,r.default)(l),h=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,x=p.value;h?s(m,x,p):x&&(u=u||{},u[m]=x)}}),u}return Ia}var ol={},kp;function y1(){if(kp)return ol;kp=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(m){return!m||a.test(m)||t.test(m)},c=function(m,x){return x.toUpperCase()},h=function(m,x){return"".concat(x,"-")},p=function(m,x){return x===void 0&&(x={}),u(m)?m:(m=m.toLowerCase(),x.reactCompat?m=m.replace(s,h):m=m.replace(l,h),m.replace(r,c))};return ol.camelCase=p,ol}var ul,Sp;function b1(){if(Sp)return ul;Sp=1;var t=ul&&ul.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},r=t(x1()),a=y1();function l(s,u){var c={};return!s||typeof s!="string"||(0,r.default)(s,function(h,p){h&&p&&(c[(0,a.camelCase)(h,u)]=p)}),c}return l.default=l,ul=l,ul}var v1=b1();const w1=jl(v1),Kg=Zg("end"),Bd=Zg("start");function Zg(t){return r;function r(a){const l=a&&a.position&&a.position[t]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function k1(t){const r=Bd(t),a=Kg(t);if(r&&a)return{start:r,end:a}}function ml(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?jp(t.position):"start"in t||"end"in t?jp(t):"line"in t||"column"in t?yd(t):""}function yd(t){return _p(t&&t.line)+":"+_p(t&&t.column)}function jp(t){return yd(t&&t.start)+"-"+yd(t&&t.end)}function _p(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(r,a,l){super(),typeof a=="string"&&(l=a,a=void 0);let s="",u={},c=!1;if(a&&("line"in a&&"column"in a?u={place:a}:"start"in a&&"end"in a?u={place:a}:"type"in a?u={ancestors:[a],place:a.position}:u={...a}),typeof r=="string"?s=r:!u.cause&&r&&(c=!0,s=r.message,u.cause=r),!u.ruleId&&!u.source&&typeof l=="string"){const p=l.indexOf(":");p===-1?u.ruleId=l:(u.source=l.slice(0,p),u.ruleId=l.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=h?h.line:void 0,this.name=ml(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const Pd={}.hasOwnProperty,S1=new Map,j1=/[A-Z]/g,_1=new Set(["table","tbody","thead","tfoot","tr"]),E1=new Set(["td","th"]),Jg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N1(t,r){if(!r||r.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=r.filePath||void 0;let l;if(r.development){if(typeof r.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=M1(a,r.jsxDEV)}else{if(typeof r.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof r.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=L1(a,r.jsx,r.jsxs)}const s={Fragment:r.Fragment,ancestors:[],components:r.components||{},create:l,elementAttributeNameCase:r.elementAttributeNameCase||"react",evaluater:r.createEvaluater?r.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:r.ignoreInvalidStyle||!1,passKeys:r.passKeys!==!1,passNode:r.passNode||!1,schema:r.space==="svg"?Ud:m1,stylePropertyNameCase:r.stylePropertyNameCase||"dom",tableCellAlignToStyle:r.tableCellAlignToStyle!==!1},u=Wg(s,t,void 0);return u&&typeof u!="string"?u:s.create(t,s.Fragment,{children:u||void 0},void 0)}function Wg(t,r,a){if(r.type==="element")return A1(t,r,a);if(r.type==="mdxFlowExpression"||r.type==="mdxTextExpression")return T1(t,r);if(r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement")return O1(t,r,a);if(r.type==="mdxjsEsm")return C1(t,r);if(r.type==="root")return R1(t,r,a);if(r.type==="text")return D1(t,r)}function A1(t,r,a){const l=t.schema;let s=l;r.tagName.toLowerCase()==="svg"&&l.space==="html"&&(s=Ud,t.schema=s),t.ancestors.push(r);const u=tx(t,r.tagName,!1),c=z1(t,r);let h=Id(t,r);return _1.has(r.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!a1(p):!0})),ex(t,c,u,r),qd(c,h),t.ancestors.pop(),t.schema=l,t.create(r,u,c,a)}function T1(t,r){if(r.data&&r.data.estree&&t.evaluater){const l=r.data.estree.body[0];return l.type,t.evaluater.evaluateExpression(l.expression)}wl(t,r.position)}function C1(t,r){if(r.data&&r.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(r.data.estree);wl(t,r.position)}function O1(t,r,a){const l=t.schema;let s=l;r.name==="svg"&&l.space==="html"&&(s=Ud,t.schema=s),t.ancestors.push(r);const u=r.name===null?t.Fragment:tx(t,r.name,!0),c=U1(t,r),h=Id(t,r);return ex(t,c,u,r),qd(c,h),t.ancestors.pop(),t.schema=l,t.create(r,u,c,a)}function R1(t,r,a){const l={};return qd(l,Id(t,r)),t.create(r,t.Fragment,l,a)}function D1(t,r){return r.value}function ex(t,r,a,l){typeof a!="string"&&a!==t.Fragment&&t.passNode&&(r.node=l)}function qd(t,r){if(r.length>0){const a=r.length>1?r:r[0];a&&(t.children=a)}}function L1(t,r,a){return l;function l(s,u,c,h){const m=Array.isArray(c.children)?a:r;return h?m(u,c,h):m(u,c)}}function M1(t,r){return a;function a(l,s,u,c){const h=Array.isArray(u.children),p=Bd(l);return r(s,u,c,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function z1(t,r){const a={};let l,s;for(s in r.properties)if(s!=="children"&&Pd.call(r.properties,s)){const u=B1(t,s,r.properties[s]);if(u){const[c,h]=u;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&E1.has(r.tagName)?l=h:a[c]=h}}if(l){const u=a.style||(a.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return a}function U1(t,r){const a={};for(const l of r.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&t.evaluater){const u=l.data.estree.body[0];u.type;const c=u.expression;c.type;const h=c.properties[0];h.type,Object.assign(a,t.evaluater.evaluateExpression(h.argument))}else wl(t,r.position);else{const s=l.name;let u;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&t.evaluater){const h=l.value.data.estree.body[0];h.type,u=t.evaluater.evaluateExpression(h.expression)}else wl(t,r.position);else u=l.value===null?!0:l.value;a[s]=u}return a}function Id(t,r){const a=[];let l=-1;const s=t.passKeys?new Map:S1;for(;++l<r.children.length;){const u=r.children[l];let c;if(t.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const h=Wg(t,u,c);h!==void 0&&a.push(h)}return a}function B1(t,r,a){const l=d1(t.schema,r);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=l.commaSeparated?Wv(a):p1(a)),l.property==="style"){let s=typeof a=="object"?a:P1(t,String(a));return t.stylePropertyNameCase==="css"&&(s=q1(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&l.space?o1[l.property]||l.property:l.attribute,a]}}function P1(t,r){try{return w1(r,{reactCompat:!0})}catch(a){if(t.ignoreInvalidStyle)return{};const l=a,s=new Ot("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Jg+"#cannot-parse-style-attribute",s}}function tx(t,r,a){let l;if(!a)l={type:"Literal",value:r};else if(r.includes(".")){const s=r.split(".");let u=-1,c;for(;++u<s.length;){const h=gp(s[u])?{type:"Identifier",name:s[u]}:{type:"Literal",value:s[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(u&&h.type==="Literal"),optional:!1}:h}l=c}else l=gp(r)&&!/^[a-z]/.test(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};if(l.type==="Literal"){const s=l.value;return Pd.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(l);wl(t)}function wl(t,r){const a=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:r,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=Jg+"#cannot-handle-mdx-estrees-without-createevaluater",a}function q1(t){const r={};let a;for(a in t)Pd.call(t,a)&&(r[I1(a)]=t[a]);return r}function I1(t){let r=t.replace(j1,H1);return r.slice(0,3)==="ms-"&&(r="-"+r),r}function H1(t){return"-"+t.toLowerCase()}const zc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$1={};function Hd(t,r){const a=$1,l=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,s=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return nx(t,l,s)}function nx(t,r,a){if(F1(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ep(t.children,r,a)}return Array.isArray(t)?Ep(t,r,a):""}function Ep(t,r,a){const l=[];let s=-1;for(;++s<t.length;)l[s]=nx(t[s],r,a);return l.join("")}function F1(t){return!!(t&&typeof t=="object")}const Np=document.createElement("i");function $d(t){const r="&"+t+";";Np.innerHTML=r;const a=Np.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===r?!1:a}function Zt(t,r,a,l){const s=t.length;let u=0,c;if(r<0?r=-r>s?0:s+r:r=r>s?s:r,a=a>0?a:0,l.length<1e4)c=Array.from(l),c.unshift(r,a),t.splice(...c);else for(a&&t.splice(r,a);u<l.length;)c=l.slice(u,u+1e4),c.unshift(r,0),t.splice(...c),u+=1e4,r+=1e4}function un(t,r){return t.length>0?(Zt(t,t.length,0,r),t):r}const Ap={}.hasOwnProperty;function rx(t){const r={};let a=-1;for(;++a<t.length;)G1(r,t[a]);return r}function G1(t,r){let a;for(a in r){const s=(Ap.call(t,a)?t[a]:void 0)||(t[a]={}),u=r[a];let c;if(u)for(c in u){Ap.call(s,c)||(s[c]=[]);const h=u[c];Y1(s[c],Array.isArray(h)?h:h?[h]:[])}}}function Y1(t,r){let a=-1;const l=[];for(;++a<r.length;)(r[a].add==="after"?t:l).push(r[a]);Zt(t,0,0,l)}function ax(t,r){const a=Number.parseInt(t,r);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"�":String.fromCodePoint(a)}function xn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lt=_r(/[A-Za-z]/),Ct=_r(/[\dA-Za-z]/),V1=_r(/[#-'*+\--9=?A-Z^-~]/);function ao(t){return t!==null&&(t<32||t===127)}const bd=_r(/\d/),Q1=_r(/[\dA-Fa-f]/),X1=_r(/[!-/:-@[-`{-~]/);function be(t){return t!==null&&t<-2}function Xe(t){return t!==null&&(t<0||t===32)}function Me(t){return t===-2||t===-1||t===32}const fo=_r(new RegExp("\\p{P}|\\p{S}","u")),Jr=_r(/\s/);function _r(t){return r;function r(a){return a!==null&&a>-1&&t.test(String.fromCharCode(a))}}function ai(t){const r=[];let a=-1,l=0,s=0;for(;++a<t.length;){const u=t.charCodeAt(a);let c="";if(u===37&&Ct(t.charCodeAt(a+1))&&Ct(t.charCodeAt(a+2)))s=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=t.charCodeAt(a+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),s=1):c="�"}else c=String.fromCharCode(u);c&&(r.push(t.slice(l,a),encodeURIComponent(c)),l=a+s+1,c=""),s&&(a+=s,s=0)}return r.join("")+t.slice(l)}function Ue(t,r,a,l){const s=l?l-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(p){return Me(p)?(t.enter(a),h(p)):r(p)}function h(p){return Me(p)&&u++<s?(t.consume(p),h):(t.exit(a),r(p))}}const K1={tokenize:Z1};function Z1(t){const r=t.attempt(this.parser.constructs.contentInitial,l,s);let a;return r;function l(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ue(t,r,"linePrefix")}function s(h){return t.enter("paragraph"),u(h)}function u(h){const p=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=p),a=p,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return be(h)?(t.consume(h),t.exit("chunkText"),u):(t.consume(h),c)}}const J1={tokenize:W1},Tp={tokenize:ew};function W1(t){const r=this,a=[];let l=0,s,u,c;return h;function h(N){if(l<a.length){const F=a[l];return r.containerState=F[1],t.attempt(F[0].continuation,p,m)(N)}return m(N)}function p(N){if(l++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,s&&M();const F=r.events.length;let G=F,R;for(;G--;)if(r.events[G][0]==="exit"&&r.events[G][1].type==="chunkFlow"){R=r.events[G][1].end;break}T(l);let ne=F;for(;ne<r.events.length;)r.events[ne][1].end={...R},ne++;return Zt(r.events,G+1,0,r.events.slice(F)),r.events.length=ne,m(N)}return h(N)}function m(N){if(l===a.length){if(!s)return v(N);if(s.currentConstruct&&s.currentConstruct.concrete)return j(N);r.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(Tp,x,y)(N)}function x(N){return s&&M(),T(l),v(N)}function y(N){return r.parser.lazy[r.now().line]=l!==a.length,c=r.now().offset,j(N)}function v(N){return r.containerState={},t.attempt(Tp,b,j)(N)}function b(N){return l++,a.push([r.currentConstruct,r.containerState]),v(N)}function j(N){if(N===null){s&&M(),T(0),t.consume(N);return}return s=s||r.parser.flow(r.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:u}),E(N)}function E(N){if(N===null){C(t.exit("chunkFlow"),!0),T(0),t.consume(N);return}return be(N)?(t.consume(N),C(t.exit("chunkFlow")),l=0,r.interrupt=void 0,h):(t.consume(N),E)}function C(N,F){const G=r.sliceStream(N);if(F&&G.push(null),N.previous=u,u&&(u.next=N),u=N,s.defineSkip(N.start),s.write(G),r.parser.lazy[N.start.line]){let R=s.events.length;for(;R--;)if(s.events[R][1].start.offset<c&&(!s.events[R][1].end||s.events[R][1].end.offset>c))return;const ne=r.events.length;let ie=ne,ue,D;for(;ie--;)if(r.events[ie][0]==="exit"&&r.events[ie][1].type==="chunkFlow"){if(ue){D=r.events[ie][1].end;break}ue=!0}for(T(l),R=ne;R<r.events.length;)r.events[R][1].end={...D},R++;Zt(r.events,ie+1,0,r.events.slice(ne)),r.events.length=R}}function T(N){let F=a.length;for(;F-- >N;){const G=a[F];r.containerState=G[1],G[0].exit.call(r,t)}a.length=N}function M(){s.write([null]),u=void 0,s=void 0,r.containerState._closeFlow=void 0}}function ew(t,r,a){return Ue(t,t.attempt(this.parser.constructs.document,r,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ti(t){if(t===null||Xe(t)||Jr(t))return 1;if(fo(t))return 2}function ho(t,r,a){const l=[];let s=-1;for(;++s<t.length;){const u=t[s].resolveAll;u&&!l.includes(u)&&(r=u(r,a),l.push(u))}return r}const vd={name:"attention",resolveAll:tw,tokenize:nw};function tw(t,r){let a=-1,l,s,u,c,h,p,m,x;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(l=a;l--;)if(t[l][0]==="exit"&&t[l][1].type==="attentionSequence"&&t[l][1]._open&&r.sliceSerialize(t[l][1]).charCodeAt(0)===r.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[l][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[l][1].end.offset-t[l][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;p=t[l][1].end.offset-t[l][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const y={...t[l][1].end},v={...t[a][1].start};Cp(y,-p),Cp(v,p),c={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...t[l][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[a][1].start},end:v},u={type:p>1?"strongText":"emphasisText",start:{...t[l][1].end},end:{...t[a][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[l][1].end={...c.start},t[a][1].start={...h.end},m=[],t[l][1].end.offset-t[l][1].start.offset&&(m=un(m,[["enter",t[l][1],r],["exit",t[l][1],r]])),m=un(m,[["enter",s,r],["enter",c,r],["exit",c,r],["enter",u,r]]),m=un(m,ho(r.parser.constructs.insideSpan.null,t.slice(l+1,a),r)),m=un(m,[["exit",u,r],["enter",h,r],["exit",h,r],["exit",s,r]]),t[a][1].end.offset-t[a][1].start.offset?(x=2,m=un(m,[["enter",t[a][1],r],["exit",t[a][1],r]])):x=0,Zt(t,l-1,a-l+3,m),a=l+m.length-x-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function nw(t,r){const a=this.parser.constructs.attentionMarkers.null,l=this.previous,s=ti(l);let u;return c;function c(p){return u=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===u)return t.consume(p),h;const m=t.exit("attentionSequence"),x=ti(p),y=!x||x===2&&s||a.includes(p),v=!s||s===2&&x||a.includes(l);return m._open=!!(u===42?y:y&&(s||!v)),m._close=!!(u===42?v:v&&(x||!y)),r(p)}}function Cp(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const rw={name:"autolink",tokenize:aw};function aw(t,r,a){let l=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(b){return Lt(b)?(t.consume(b),c):b===64?a(b):m(b)}function c(b){return b===43||b===45||b===46||Ct(b)?(l=1,h(b)):m(b)}function h(b){return b===58?(t.consume(b),l=0,p):(b===43||b===45||b===46||Ct(b))&&l++<32?(t.consume(b),h):(l=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):b===null||b===32||b===60||ao(b)?a(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),x):V1(b)?(t.consume(b),m):a(b)}function x(b){return Ct(b)?y(b):a(b)}function y(b){return b===46?(t.consume(b),l=0,x):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):v(b)}function v(b){if((b===45||Ct(b))&&l++<63){const j=b===45?v:y;return t.consume(b),j}return a(b)}}const El={partial:!0,tokenize:iw};function iw(t,r,a){return l;function l(u){return Me(u)?Ue(t,s,"linePrefix")(u):s(u)}function s(u){return u===null||be(u)?r(u):a(u)}}const ix={continuation:{tokenize:sw},exit:ow,name:"blockQuote",tokenize:lw};function lw(t,r,a){const l=this;return s;function s(c){if(c===62){const h=l.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return a(c)}function u(c){return Me(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(c))}}function sw(t,r,a){const l=this;return s;function s(c){return Me(c)?Ue(t,u,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(ix,r,a)(c)}}function ow(t){t.exit("blockQuote")}const lx={name:"characterEscape",tokenize:uw};function uw(t,r,a){return l;function l(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),s}function s(u){return X1(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):a(u)}}const sx={name:"characterReference",tokenize:cw};function cw(t,r,a){const l=this;let s=0,u,c;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),p}function p(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),u=31,c=Ct,x(y))}function m(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=Q1,x):(t.enter("characterReferenceValue"),u=7,c=bd,x(y))}function x(y){if(y===59&&s){const v=t.exit("characterReferenceValue");return c===Ct&&!$d(l.sliceSerialize(v))?a(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return c(y)&&s++<u?(t.consume(y),x):a(y)}}const Op={partial:!0,tokenize:fw},Rp={concrete:!0,name:"codeFenced",tokenize:dw};function dw(t,r,a){const l=this,s={partial:!0,tokenize:G};let u=0,c=0,h;return p;function p(R){return m(R)}function m(R){const ne=l.events[l.events.length-1];return u=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,h=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(R)}function x(R){return R===h?(c++,t.consume(R),x):c<3?a(R):(t.exit("codeFencedFenceSequence"),Me(R)?Ue(t,y,"whitespace")(R):y(R))}function y(R){return R===null||be(R)?(t.exit("codeFencedFence"),l.interrupt?r(R):t.check(Op,E,F)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===null||be(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(R)):Me(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ue(t,b,"whitespace")(R)):R===96&&R===h?a(R):(t.consume(R),v)}function b(R){return R===null||be(R)?y(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(R))}function j(R){return R===null||be(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(R)):R===96&&R===h?a(R):(t.consume(R),j)}function E(R){return t.attempt(s,F,C)(R)}function C(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),T}function T(R){return u>0&&Me(R)?Ue(t,M,"linePrefix",u+1)(R):M(R)}function M(R){return R===null||be(R)?t.check(Op,E,F)(R):(t.enter("codeFlowValue"),N(R))}function N(R){return R===null||be(R)?(t.exit("codeFlowValue"),M(R)):(t.consume(R),N)}function F(R){return t.exit("codeFenced"),r(R)}function G(R,ne,ie){let ue=0;return D;function D(oe){return R.enter("lineEnding"),R.consume(oe),R.exit("lineEnding"),z}function z(oe){return R.enter("codeFencedFence"),Me(oe)?Ue(R,V,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):V(oe)}function V(oe){return oe===h?(R.enter("codeFencedFenceSequence"),J(oe)):ie(oe)}function J(oe){return oe===h?(ue++,R.consume(oe),J):ue>=c?(R.exit("codeFencedFenceSequence"),Me(oe)?Ue(R,ae,"whitespace")(oe):ae(oe)):ie(oe)}function ae(oe){return oe===null||be(oe)?(R.exit("codeFencedFence"),ne(oe)):ie(oe)}}}function fw(t,r,a){const l=this;return s;function s(c){return c===null?a(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return l.parser.lazy[l.now().line]?a(c):r(c)}}const Uc={name:"codeIndented",tokenize:mw},hw={partial:!0,tokenize:pw};function mw(t,r,a){const l=this;return s;function s(m){return t.enter("codeIndented"),Ue(t,u,"linePrefix",5)(m)}function u(m){const x=l.events[l.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(m):a(m)}function c(m){return m===null?p(m):be(m)?t.attempt(hw,c,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||be(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),r(m)}}function pw(t,r,a){const l=this;return s;function s(c){return l.parser.lazy[l.now().line]?a(c):be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):Ue(t,u,"linePrefix",5)(c)}function u(c){const h=l.events[l.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):be(c)?s(c):a(c)}}const gw={name:"codeText",previous:yw,resolve:xw,tokenize:bw};function xw(t){let r=t.length-4,a=3,l,s;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(l=a;++l<r;)if(t[l][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[r][1].type="codeTextPadding",a+=2,r-=2;break}}for(l=a-1,r++;++l<=r;)s===void 0?l!==r&&t[l][1].type!=="lineEnding"&&(s=l):(l===r||t[l][1].type==="lineEnding")&&(t[s][1].type="codeTextData",l!==s+2&&(t[s][1].end=t[l-1][1].end,t.splice(s+2,l-s-2),r-=l-s-2,l=s+2),s=void 0);return t}function yw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bw(t,r,a){let l=0,s,u;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),l++,h):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?a(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(u=t.enter("codeTextSequence"),s=0,x(y)):be(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||be(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),m)}function x(y){return y===96?(t.consume(y),s++,x):s===l?(t.exit("codeTextSequence"),t.exit("codeText"),r(y)):(u.type="codeTextData",m(y))}}class vw{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,a){const l=a??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(r,l):r>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(r,a,l){const s=a||0;this.setCursor(Math.trunc(r));const u=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return l&&cl(this.left,l),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),cl(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),cl(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const a=this.left.splice(r,Number.POSITIVE_INFINITY);cl(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);cl(this.left,a.reverse())}}}function cl(t,r){let a=0;if(r.length<1e4)t.push(...r);else for(;a<r.length;)t.push(...r.slice(a,a+1e4)),a+=1e4}function ox(t){const r={};let a=-1,l,s,u,c,h,p,m;const x=new vw(t);for(;++a<x.length;){for(;a in r;)a=r[a];if(l=x.get(a),a&&l[1].type==="chunkFlow"&&x.get(a-1)[1].type==="listItemPrefix"&&(p=l[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(l[0]==="enter")l[1].contentType&&(Object.assign(r,ww(x,a)),a=r[a],m=!0);else if(l[1]._container){for(u=a,s=void 0;u--;)if(c=x.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(l[1].end={...x.get(s)[1].start},h=x.slice(s,a),h.unshift(l),x.splice(s,a-s+1,h))}}return Zt(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function ww(t,r){const a=t.get(r)[1],l=t.get(r)[2];let s=r-1;const u=[];let c=a._tokenizer;c||(c=l.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],m={};let x,y,v=-1,b=a,j=0,E=0;const C=[E];for(;b;){for(;t.get(++s)[1]!==b;);u.push(s),b._tokenizer||(x=l.sliceStream(b),b.next||x.push(null),y&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=a;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(E=v+1,C.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):C.pop(),v=C.length;v--;){const T=h.slice(C[v],C[v+1]),M=u.pop();p.push([M,M+T.length-1]),t.splice(M,2,T)}for(p.reverse(),v=-1;++v<p.length;)m[j+p[v][0]]=j+p[v][1],j+=p[v][1]-p[v][0]-1;return m}const kw={resolve:jw,tokenize:_w},Sw={partial:!0,tokenize:Ew};function jw(t){return ox(t),t}function _w(t,r){let a;return l;function l(h){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?u(h):be(h)?t.check(Sw,c,u)(h):(t.consume(h),s)}function u(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function c(h){return t.consume(h),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,s}}function Ew(t,r,a){const l=this;return s;function s(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ue(t,u,"linePrefix")}function u(c){if(c===null||be(c))return a(c);const h=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):t.interrupt(l.parser.constructs.flow,a,r)(c)}}function ux(t,r,a,l,s,u,c,h,p){const m=p||Number.POSITIVE_INFINITY;let x=0;return y;function y(T){return T===60?(t.enter(l),t.enter(s),t.enter(u),t.consume(T),t.exit(u),v):T===null||T===32||T===41||ao(T)?a(T):(t.enter(l),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),E(T))}function v(T){return T===62?(t.enter(u),t.consume(T),t.exit(u),t.exit(s),t.exit(l),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(t.exit("chunkString"),t.exit(h),v(T)):T===null||T===60||be(T)?a(T):(t.consume(T),T===92?j:b)}function j(T){return T===60||T===62||T===92?(t.consume(T),b):b(T)}function E(T){return!x&&(T===null||T===41||Xe(T))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(l),r(T)):x<m&&T===40?(t.consume(T),x++,E):T===41?(t.consume(T),x--,E):T===null||T===32||T===40||ao(T)?a(T):(t.consume(T),T===92?C:E)}function C(T){return T===40||T===41||T===92?(t.consume(T),E):E(T)}}function cx(t,r,a,l,s,u){const c=this;let h=0,p;return m;function m(b){return t.enter(l),t.enter(s),t.consume(b),t.exit(s),t.enter(u),x}function x(b){return h>999||b===null||b===91||b===93&&!p||b===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):b===93?(t.exit(u),t.enter(s),t.consume(b),t.exit(s),t.exit(l),r):be(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||be(b)||h++>999?(t.exit("chunkString"),x(b)):(t.consume(b),p||(p=!Me(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),h++,y):y(b)}}function dx(t,r,a,l,s,u){let c;return h;function h(v){return v===34||v===39||v===40?(t.enter(l),t.enter(s),t.consume(v),t.exit(s),c=v===40?41:v,p):a(v)}function p(v){return v===c?(t.enter(s),t.consume(v),t.exit(s),t.exit(l),r):(t.enter(u),m(v))}function m(v){return v===c?(t.exit(u),p(c)):v===null?a(v):be(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Ue(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||be(v)?(t.exit("chunkString"),m(v)):(t.consume(v),v===92?y:x)}function y(v){return v===c||v===92?(t.consume(v),x):x(v)}}function pl(t,r){let a;return l;function l(s){return be(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a=!0,l):Me(s)?Ue(t,l,a?"linePrefix":"lineSuffix")(s):r(s)}}const Nw={name:"definition",tokenize:Tw},Aw={partial:!0,tokenize:Cw};function Tw(t,r,a){const l=this;let s;return u;function u(b){return t.enter("definition"),c(b)}function c(b){return cx.call(l,t,h,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return s=xn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):a(b)}function p(b){return Xe(b)?pl(t,m)(b):m(b)}function m(b){return ux(t,x,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function x(b){return t.attempt(Aw,y,y)(b)}function y(b){return Me(b)?Ue(t,v,"whitespace")(b):v(b)}function v(b){return b===null||be(b)?(t.exit("definition"),l.parser.defined.push(s),r(b)):a(b)}}function Cw(t,r,a){return l;function l(h){return Xe(h)?pl(t,s)(h):a(h)}function s(h){return dx(t,u,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return Me(h)?Ue(t,c,"whitespace")(h):c(h)}function c(h){return h===null||be(h)?r(h):a(h)}}const Ow={name:"hardBreakEscape",tokenize:Rw};function Rw(t,r,a){return l;function l(u){return t.enter("hardBreakEscape"),t.consume(u),s}function s(u){return be(u)?(t.exit("hardBreakEscape"),r(u)):a(u)}}const Dw={name:"headingAtx",resolve:Lw,tokenize:Mw};function Lw(t,r){let a=t.length-2,l=3,s,u;return t[l][1].type==="whitespace"&&(l+=2),a-2>l&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(l===a-1||a-4>l&&t[a-2][1].type==="whitespace")&&(a-=l+1===a?2:4),a>l&&(s={type:"atxHeadingText",start:t[l][1].start,end:t[a][1].end},u={type:"chunkText",start:t[l][1].start,end:t[a][1].end,contentType:"text"},Zt(t,l,a-l+1,[["enter",s,r],["enter",u,r],["exit",u,r],["exit",s,r]])),t}function Mw(t,r,a){let l=0;return s;function s(x){return t.enter("atxHeading"),u(x)}function u(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&l++<6?(t.consume(x),c):x===null||Xe(x)?(t.exit("atxHeadingSequence"),h(x)):a(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),p(x)):x===null||be(x)?(t.exit("atxHeading"),r(x)):Me(x)?Ue(t,h,"whitespace")(x):(t.enter("atxHeadingText"),m(x))}function p(x){return x===35?(t.consume(x),p):(t.exit("atxHeadingSequence"),h(x))}function m(x){return x===null||x===35||Xe(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),m)}}const zw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dp=["pre","script","style","textarea"],Uw={concrete:!0,name:"htmlFlow",resolveTo:qw,tokenize:Iw},Bw={partial:!0,tokenize:$w},Pw={partial:!0,tokenize:Hw};function qw(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function Iw(t,r,a){const l=this;let s,u,c,h,p;return m;function m(_){return x(_)}function x(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),y}function y(_){return _===33?(t.consume(_),v):_===47?(t.consume(_),u=!0,E):_===63?(t.consume(_),s=3,l.interrupt?r:k):Lt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function v(_){return _===45?(t.consume(_),s=2,b):_===91?(t.consume(_),s=5,h=0,j):Lt(_)?(t.consume(_),s=4,l.interrupt?r:k):a(_)}function b(_){return _===45?(t.consume(_),l.interrupt?r:k):a(_)}function j(_){const ce="CDATA[";return _===ce.charCodeAt(h++)?(t.consume(_),h===ce.length?l.interrupt?r:V:j):a(_)}function E(_){return Lt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function C(_){if(_===null||_===47||_===62||Xe(_)){const ce=_===47,ge=c.toLowerCase();return!ce&&!u&&Dp.includes(ge)?(s=1,l.interrupt?r(_):V(_)):zw.includes(c.toLowerCase())?(s=6,ce?(t.consume(_),T):l.interrupt?r(_):V(_)):(s=7,l.interrupt&&!l.parser.lazy[l.now().line]?a(_):u?M(_):N(_))}return _===45||Ct(_)?(t.consume(_),c+=String.fromCharCode(_),C):a(_)}function T(_){return _===62?(t.consume(_),l.interrupt?r:V):a(_)}function M(_){return Me(_)?(t.consume(_),M):D(_)}function N(_){return _===47?(t.consume(_),D):_===58||_===95||Lt(_)?(t.consume(_),F):Me(_)?(t.consume(_),N):D(_)}function F(_){return _===45||_===46||_===58||_===95||Ct(_)?(t.consume(_),F):G(_)}function G(_){return _===61?(t.consume(_),R):Me(_)?(t.consume(_),G):N(_)}function R(_){return _===null||_===60||_===61||_===62||_===96?a(_):_===34||_===39?(t.consume(_),p=_,ne):Me(_)?(t.consume(_),R):ie(_)}function ne(_){return _===p?(t.consume(_),p=null,ue):_===null||be(_)?a(_):(t.consume(_),ne)}function ie(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Xe(_)?G(_):(t.consume(_),ie)}function ue(_){return _===47||_===62||Me(_)?N(_):a(_)}function D(_){return _===62?(t.consume(_),z):a(_)}function z(_){return _===null||be(_)?V(_):Me(_)?(t.consume(_),z):a(_)}function V(_){return _===45&&s===2?(t.consume(_),P):_===60&&s===1?(t.consume(_),H):_===62&&s===4?(t.consume(_),X):_===63&&s===3?(t.consume(_),k):_===93&&s===5?(t.consume(_),se):be(_)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Bw,W,J)(_)):_===null||be(_)?(t.exit("htmlFlowData"),J(_)):(t.consume(_),V)}function J(_){return t.check(Pw,ae,W)(_)}function ae(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),oe}function oe(_){return _===null||be(_)?J(_):(t.enter("htmlFlowData"),V(_))}function P(_){return _===45?(t.consume(_),k):V(_)}function H(_){return _===47?(t.consume(_),c="",te):V(_)}function te(_){if(_===62){const ce=c.toLowerCase();return Dp.includes(ce)?(t.consume(_),X):V(_)}return Lt(_)&&c.length<8?(t.consume(_),c+=String.fromCharCode(_),te):V(_)}function se(_){return _===93?(t.consume(_),k):V(_)}function k(_){return _===62?(t.consume(_),X):_===45&&s===2?(t.consume(_),k):V(_)}function X(_){return _===null||be(_)?(t.exit("htmlFlowData"),W(_)):(t.consume(_),X)}function W(_){return t.exit("htmlFlow"),r(_)}}function Hw(t,r,a){const l=this;return s;function s(c){return be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):a(c)}function u(c){return l.parser.lazy[l.now().line]?a(c):r(c)}}function $w(t,r,a){return l;function l(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(El,r,a)}}const Fw={name:"htmlText",tokenize:Gw};function Gw(t,r,a){const l=this;let s,u,c;return h;function h(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),p}function p(k){return k===33?(t.consume(k),m):k===47?(t.consume(k),G):k===63?(t.consume(k),N):Lt(k)?(t.consume(k),ie):a(k)}function m(k){return k===45?(t.consume(k),x):k===91?(t.consume(k),u=0,j):Lt(k)?(t.consume(k),M):a(k)}function x(k){return k===45?(t.consume(k),b):a(k)}function y(k){return k===null?a(k):k===45?(t.consume(k),v):be(k)?(c=y,H(k)):(t.consume(k),y)}function v(k){return k===45?(t.consume(k),b):y(k)}function b(k){return k===62?P(k):k===45?v(k):y(k)}function j(k){const X="CDATA[";return k===X.charCodeAt(u++)?(t.consume(k),u===X.length?E:j):a(k)}function E(k){return k===null?a(k):k===93?(t.consume(k),C):be(k)?(c=E,H(k)):(t.consume(k),E)}function C(k){return k===93?(t.consume(k),T):E(k)}function T(k){return k===62?P(k):k===93?(t.consume(k),T):E(k)}function M(k){return k===null||k===62?P(k):be(k)?(c=M,H(k)):(t.consume(k),M)}function N(k){return k===null?a(k):k===63?(t.consume(k),F):be(k)?(c=N,H(k)):(t.consume(k),N)}function F(k){return k===62?P(k):N(k)}function G(k){return Lt(k)?(t.consume(k),R):a(k)}function R(k){return k===45||Ct(k)?(t.consume(k),R):ne(k)}function ne(k){return be(k)?(c=ne,H(k)):Me(k)?(t.consume(k),ne):P(k)}function ie(k){return k===45||Ct(k)?(t.consume(k),ie):k===47||k===62||Xe(k)?ue(k):a(k)}function ue(k){return k===47?(t.consume(k),P):k===58||k===95||Lt(k)?(t.consume(k),D):be(k)?(c=ue,H(k)):Me(k)?(t.consume(k),ue):P(k)}function D(k){return k===45||k===46||k===58||k===95||Ct(k)?(t.consume(k),D):z(k)}function z(k){return k===61?(t.consume(k),V):be(k)?(c=z,H(k)):Me(k)?(t.consume(k),z):ue(k)}function V(k){return k===null||k===60||k===61||k===62||k===96?a(k):k===34||k===39?(t.consume(k),s=k,J):be(k)?(c=V,H(k)):Me(k)?(t.consume(k),V):(t.consume(k),ae)}function J(k){return k===s?(t.consume(k),s=void 0,oe):k===null?a(k):be(k)?(c=J,H(k)):(t.consume(k),J)}function ae(k){return k===null||k===34||k===39||k===60||k===61||k===96?a(k):k===47||k===62||Xe(k)?ue(k):(t.consume(k),ae)}function oe(k){return k===47||k===62||Xe(k)?ue(k):a(k)}function P(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),r):a(k)}function H(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),te}function te(k){return Me(k)?Ue(t,se,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):se(k)}function se(k){return t.enter("htmlTextData"),c(k)}}const Fd={name:"labelEnd",resolveAll:Xw,resolveTo:Kw,tokenize:Zw},Yw={tokenize:Jw},Vw={tokenize:Ww},Qw={tokenize:ek};function Xw(t){let r=-1;const a=[];for(;++r<t.length;){const l=t[r][1];if(a.push(t[r]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const s=l.type==="labelImage"?4:2;l.type="data",r+=s}}return t.length!==a.length&&Zt(t,0,t.length,a),t}function Kw(t,r){let a=t.length,l=0,s,u,c,h;for(;a--;)if(s=t[a][1],u){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[a][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(t[a][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(u=a,s.type!=="labelLink")){l=2;break}}else s.type==="labelEnd"&&(c=a);const p={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[u+l+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",p,r],["enter",m,r]],h=un(h,t.slice(u+1,u+l+3)),h=un(h,[["enter",x,r]]),h=un(h,ho(r.parser.constructs.insideSpan.null,t.slice(u+l+4,c-3),r)),h=un(h,[["exit",x,r],t[c-2],t[c-1],["exit",m,r]]),h=un(h,t.slice(c+1)),h=un(h,[["exit",p,r]]),Zt(t,u,t.length,h),t}function Zw(t,r,a){const l=this;let s=l.events.length,u,c;for(;s--;)if((l.events[s][1].type==="labelImage"||l.events[s][1].type==="labelLink")&&!l.events[s][1]._balanced){u=l.events[s][1];break}return h;function h(v){return u?u._inactive?y(v):(c=l.parser.defined.includes(xn(l.sliceSerialize({start:u.end,end:l.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),p):a(v)}function p(v){return v===40?t.attempt(Yw,x,c?x:y)(v):v===91?t.attempt(Vw,x,c?m:y)(v):c?x(v):y(v)}function m(v){return t.attempt(Qw,x,y)(v)}function x(v){return r(v)}function y(v){return u._balanced=!0,a(v)}}function Jw(t,r,a){return l;function l(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Xe(y)?pl(t,u)(y):u(y)}function u(y){return y===41?x(y):ux(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Xe(y)?pl(t,p)(y):x(y)}function h(y){return a(y)}function p(y){return y===34||y===39||y===40?dx(t,m,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function m(y){return Xe(y)?pl(t,x)(y):x(y)}function x(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),r):a(y)}}function Ww(t,r,a){const l=this;return s;function s(h){return cx.call(l,t,u,c,"reference","referenceMarker","referenceString")(h)}function u(h){return l.parser.defined.includes(xn(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?r(h):a(h)}function c(h){return a(h)}}function ek(t,r,a){return l;function l(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),s}function s(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),r):a(u)}}const tk={name:"labelStartImage",resolveAll:Fd.resolveAll,tokenize:nk};function nk(t,r,a){const l=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),u}function u(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):a(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in l.parser.constructs?a(h):r(h)}}const rk={name:"labelStartLink",resolveAll:Fd.resolveAll,tokenize:ak};function ak(t,r,a){const l=this;return s;function s(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in l.parser.constructs?a(c):r(c)}}const Bc={name:"lineEnding",tokenize:ik};function ik(t,r){return a;function a(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ue(t,r,"linePrefix")}}const Ws={name:"thematicBreak",tokenize:lk};function lk(t,r,a){let l=0,s;return u;function u(m){return t.enter("thematicBreak"),c(m)}function c(m){return s=m,h(m)}function h(m){return m===s?(t.enter("thematicBreakSequence"),p(m)):l>=3&&(m===null||be(m))?(t.exit("thematicBreak"),r(m)):a(m)}function p(m){return m===s?(t.consume(m),l++,p):(t.exit("thematicBreakSequence"),Me(m)?Ue(t,h,"whitespace")(m):h(m))}}const It={continuation:{tokenize:ck},exit:fk,name:"list",tokenize:uk},sk={partial:!0,tokenize:hk},ok={partial:!0,tokenize:dk};function uk(t,r,a){const l=this,s=l.events[l.events.length-1];let u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return h;function h(b){const j=l.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!l.containerState.marker||b===l.containerState.marker:bd(b)){if(l.containerState.type||(l.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Ws,a,m)(b):m(b);if(!l.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return a(b)}function p(b){return bd(b)&&++c<10?(t.consume(b),p):(!l.interrupt||c<2)&&(l.containerState.marker?b===l.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):a(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||b,t.check(El,l.interrupt?a:x,t.attempt(sk,v,y))}function x(b){return l.containerState.initialBlankLine=!0,u++,v(b)}function y(b){return Me(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):a(b)}function v(b){return l.containerState.size=u+l.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(b)}}function ck(t,r,a){const l=this;return l.containerState._closeFlow=void 0,t.check(El,s,u);function s(h){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,Ue(t,r,"listItemIndent",l.containerState.size+1)(h)}function u(h){return l.containerState.furtherBlankLines||!Me(h)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,c(h)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,t.attempt(ok,r,c)(h))}function c(h){return l.containerState._closeFlow=!0,l.interrupt=void 0,Ue(t,t.attempt(It,r,a),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function dk(t,r,a){const l=this;return Ue(t,s,"listItemIndent",l.containerState.size+1);function s(u){const c=l.events[l.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===l.containerState.size?r(u):a(u)}}function fk(t){t.exit(this.containerState.type)}function hk(t,r,a){const l=this;return Ue(t,s,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(u){const c=l.events[l.events.length-1];return!Me(u)&&c&&c[1].type==="listItemPrefixWhitespace"?r(u):a(u)}}const Lp={name:"setextUnderline",resolveTo:mk,tokenize:pk};function mk(t,r){let a=t.length,l,s,u;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){l=a;break}t[a][1].type==="paragraph"&&(s=a)}else t[a][1].type==="content"&&t.splice(a,1),!u&&t[a][1].type==="definition"&&(u=a);const c={type:"setextHeading",start:{...t[l][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",u?(t.splice(s,0,["enter",c,r]),t.splice(u+1,0,["exit",t[l][1],r]),t[l][1].end={...t[u][1].end}):t[l][1]=c,t.push(["exit",c,r]),t}function pk(t,r,a){const l=this;let s;return u;function u(m){let x=l.events.length,y;for(;x--;)if(l.events[x][1].type!=="lineEnding"&&l.events[x][1].type!=="linePrefix"&&l.events[x][1].type!=="content"){y=l.events[x][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||y)?(t.enter("setextHeadingLine"),s=m,c(m)):a(m)}function c(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===s?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),Me(m)?Ue(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||be(m)?(t.exit("setextHeadingLine"),r(m)):a(m)}}const gk={tokenize:xk};function xk(t){const r=this,a=t.attempt(El,l,t.attempt(this.parser.constructs.flowInitial,s,Ue(t,t.attempt(this.parser.constructs.flow,s,t.attempt(kw,s)),"linePrefix")));return a;function l(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),r.currentConstruct=void 0,a}function s(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),r.currentConstruct=void 0,a}}const yk={resolveAll:hx()},bk=fx("string"),vk=fx("text");function fx(t){return{resolveAll:hx(t==="text"?wk:void 0),tokenize:r};function r(a){const l=this,s=this.parser.constructs[t],u=a.attempt(s,c,h);return c;function c(x){return m(x)?u(x):h(x)}function h(x){if(x===null){a.consume(x);return}return a.enter("data"),a.consume(x),p}function p(x){return m(x)?(a.exit("data"),u(x)):(a.consume(x),p)}function m(x){if(x===null)return!0;const y=s[x];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(l,l.previous))return!0}return!1}}}function hx(t){return r;function r(a,l){let s=-1,u;for(;++s<=a.length;)u===void 0?a[s]&&a[s][1].type==="data"&&(u=s,s++):(!a[s]||a[s][1].type!=="data")&&(s!==u+2&&(a[u][1].end=a[s-1][1].end,a.splice(u+2,s-u-2),s=u+2),u=void 0);return t?t(a,l):a}}function wk(t,r){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const l=t[a-1][1],s=r.sliceStream(l);let u=s.length,c=-1,h=0,p;for(;u--;){const m=s[u];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)p=!0,h++;else if(m!==-1){u++;break}}if(r._contentTypeTextTrailing&&a===t.length&&(h=0),h){const m={type:a===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:l.start._bufferIndex+c,_index:l.start._index+u,line:l.end.line,column:l.end.column-h,offset:l.end.offset-h},end:{...l.end}};l.end={...m.start},l.start.offset===l.end.offset?Object.assign(l,m):(t.splice(a,0,["enter",m,r],["exit",m,r]),a+=2)}a++}return t}const kk={42:It,43:It,45:It,48:It,49:It,50:It,51:It,52:It,53:It,54:It,55:It,56:It,57:It,62:ix},Sk={91:Nw},jk={[-2]:Uc,[-1]:Uc,32:Uc},_k={35:Dw,42:Ws,45:[Lp,Ws],60:Uw,61:Lp,95:Ws,96:Rp,126:Rp},Ek={38:sx,92:lx},Nk={[-5]:Bc,[-4]:Bc,[-3]:Bc,33:tk,38:sx,42:vd,60:[rw,Fw],91:rk,92:[Ow,lx],93:Fd,95:vd,96:gw},Ak={null:[vd,yk]},Tk={null:[42,95]},Ck={null:[]},Ok=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Tk,contentInitial:Sk,disable:Ck,document:kk,flow:_k,flowInitial:jk,insideSpan:Ak,string:Ek,text:Nk},Symbol.toStringTag,{value:"Module"}));function Rk(t,r,a){let l={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const s={},u=[];let c=[],h=[];const p={attempt:ne(G),check:ne(R),consume:M,enter:N,exit:F,interrupt:ne(R,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let x=r.tokenize.call(m,p);return r.resolveAll&&u.push(r),m;function y(z){return c=un(c,z),C(),c[c.length-1]!==null?[]:(ie(r,0),m.events=ho(u,m.events,m),m.events)}function v(z,V){return Lk(b(z),V)}function b(z){return Dk(c,z)}function j(){const{_bufferIndex:z,_index:V,line:J,column:ae,offset:oe}=l;return{_bufferIndex:z,_index:V,line:J,column:ae,offset:oe}}function E(z){s[z.line]=z.column,D()}function C(){let z;for(;l._index<c.length;){const V=c[l._index];if(typeof V=="string")for(z=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===z&&l._bufferIndex<V.length;)T(V.charCodeAt(l._bufferIndex));else T(V)}}function T(z){x=x(z)}function M(z){be(z)?(l.line++,l.column=1,l.offset+=z===-3?2:1,D()):z!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===c[l._index].length&&(l._bufferIndex=-1,l._index++)),m.previous=z}function N(z,V){const J=V||{};return J.type=z,J.start=j(),m.events.push(["enter",J,m]),h.push(J),J}function F(z){const V=h.pop();return V.end=j(),m.events.push(["exit",V,m]),V}function G(z,V){ie(z,V.from)}function R(z,V){V.restore()}function ne(z,V){return J;function J(ae,oe,P){let H,te,se,k;return Array.isArray(ae)?W(ae):"tokenize"in ae?W([ae]):X(ae);function X(fe){return $e;function $e(je){const et=je!==null&&fe[je],Ve=je!==null&&fe.null,_t=[...Array.isArray(et)?et:et?[et]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return W(_t)(je)}}function W(fe){return H=fe,te=0,fe.length===0?P:_(fe[te])}function _(fe){return $e;function $e(je){return k=ue(),se=fe,fe.partial||(m.currentConstruct=fe),fe.name&&m.parser.constructs.disable.null.includes(fe.name)?ge():fe.tokenize.call(V?Object.assign(Object.create(m),V):m,p,ce,ge)(je)}}function ce(fe){return z(se,k),oe}function ge(fe){return k.restore(),++te<H.length?_(H[te]):P}}}function ie(z,V){z.resolveAll&&!u.includes(z)&&u.push(z),z.resolve&&Zt(m.events,V,m.events.length-V,z.resolve(m.events.slice(V),m)),z.resolveTo&&(m.events=z.resolveTo(m.events,m))}function ue(){const z=j(),V=m.previous,J=m.currentConstruct,ae=m.events.length,oe=Array.from(h);return{from:ae,restore:P};function P(){l=z,m.previous=V,m.currentConstruct=J,m.events.length=ae,h=oe,D()}}function D(){l.line in s&&l.column<2&&(l.column=s[l.line],l.offset+=s[l.line]-1)}}function Dk(t,r){const a=r.start._index,l=r.start._bufferIndex,s=r.end._index,u=r.end._bufferIndex;let c;if(a===s)c=[t[a].slice(l,u)];else{if(c=t.slice(a,s),l>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(l):c.shift()}u>0&&c.push(t[s].slice(0,u))}return c}function Lk(t,r){let a=-1;const l=[];let s;for(;++a<t.length;){const u=t[a];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=r?" ":"	";break}case-1:{if(!r&&s)continue;c=" ";break}default:c=String.fromCharCode(u)}s=u===-2,l.push(c)}return l.join("")}function Mk(t){const l={constructs:rx([Ok,...(t||{}).extensions||[]]),content:s(K1),defined:[],document:s(J1),flow:s(gk),lazy:{},string:s(bk),text:s(vk)};return l;function s(u){return c;function c(h){return Rk(l,u,h)}}}function zk(t){for(;!ox(t););return t}const Mp=/[\0\t\n\r]/g;function Uk(){let t=1,r="",a=!0,l;return s;function s(u,c,h){const p=[];let m,x,y,v,b;for(u=r+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),y=0,r="",a&&(u.charCodeAt(0)===65279&&y++,a=void 0);y<u.length;){if(Mp.lastIndex=y,m=Mp.exec(u),v=m&&m.index!==void 0?m.index:u.length,b=u.charCodeAt(v),!m){r=u.slice(y);break}if(b===10&&y===v&&l)p.push(-3),l=void 0;else switch(l&&(p.push(-5),l=void 0),y<v&&(p.push(u.slice(y,v)),t+=v-y),b){case 0:{p.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,p.push(-2);t++<x;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:l=!0,t=1}y=v+1}return h&&(l&&p.push(-5),r&&p.push(r),p.push(null)),p}}const Bk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pk(t){return t.replace(Bk,qk)}function qk(t,r,a){if(r)return r;if(a.charCodeAt(0)===35){const s=a.charCodeAt(1),u=s===120||s===88;return ax(a.slice(u?2:1),u?16:10)}return $d(a)||t}const mx={}.hasOwnProperty;function Ik(t,r,a){return typeof r!="string"&&(a=r,r=void 0),Hk(a)(zk(Mk(a).document().write(Uk()(t,r,!0))))}function Hk(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Nr),autolinkProtocol:ue,autolinkEmail:ue,atxHeading:u(Yn),blockQuote:u(Ve),characterEscape:ue,characterReference:ue,codeFenced:u(_t),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(_t,c),codeText:u(Ce,c),codeTextData:ue,data:ue,codeFlowValue:ue,definition:u(st),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(ht),hardBreakEscape:u(Vn),hardBreakTrailing:u(Vn),htmlFlow:u(nt,c),htmlFlowData:ue,htmlText:u(nt,c),htmlTextData:ue,image:u(li),label:c,link:u(Nr),listItem:u(Qn),listItemValue:v,listOrdered:u(Ar,y),listUnordered:u(Ar),paragraph:u(si),reference:_,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Yn),strong:u(En),thematicBreak:u(oi)},exit:{atxHeading:p(),atxHeadingSequence:G,autolink:p(),autolinkEmail:et,autolinkProtocol:je,blockQuote:p(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:fe,characterReference:$e,codeFenced:p(C),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:j,codeFlowValue:D,codeIndented:p(T),codeText:p(oe),codeTextData:D,data:D,definition:p(),definitionDestinationString:F,definitionLabelString:M,definitionTitleString:N,emphasis:p(),hardBreakEscape:p(V),hardBreakTrailing:p(V),htmlFlow:p(J),htmlFlowData:D,htmlText:p(ae),htmlTextData:D,image:p(H),label:se,labelText:te,lineEnding:z,link:p(P),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ce,resourceDestinationString:k,resourceTitleString:X,resource:W,setextHeading:p(ie),setextHeadingLineSequence:ne,setextHeadingText:R,strong:p(),thematicBreak:p()}};px(r,(t||{}).mdastExtensions||[]);const a={};return l;function l(Y){let re={type:"root",children:[]};const xe={stack:[re],tokenStack:[],config:r,enter:h,exit:m,buffer:c,resume:x,data:a},ve=[];let Be=-1;for(;++Be<Y.length;)if(Y[Be][1].type==="listOrdered"||Y[Be][1].type==="listUnordered")if(Y[Be][0]==="enter")ve.push(Be);else{const Rt=ve.pop();Be=s(Y,Rt,Be)}for(Be=-1;++Be<Y.length;){const Rt=r[Y[Be][0]];mx.call(Rt,Y[Be][1].type)&&Rt[Y[Be][1].type].call(Object.assign({sliceSerialize:Y[Be][2].sliceSerialize},xe),Y[Be][1])}if(xe.tokenStack.length>0){const Rt=xe.tokenStack[xe.tokenStack.length-1];(Rt[1]||zp).call(xe,void 0,Rt[0])}for(re.position={start:yr(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:yr(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<r.transforms.length;)re=r.transforms[Be](re)||re;return re}function s(Y,re,xe){let ve=re-1,Be=-1,Rt=!1,cn,ee,de,ye;for(;++ve<=xe;){const me=Y[ve];switch(me[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{me[0]==="enter"?Be++:Be--,ye=void 0;break}case"lineEndingBlank":{me[0]==="enter"&&(cn&&!ye&&!Be&&!de&&(de=ve),ye=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ye=void 0}if(!Be&&me[0]==="enter"&&me[1].type==="listItemPrefix"||Be===-1&&me[0]==="exit"&&(me[1].type==="listUnordered"||me[1].type==="listOrdered")){if(cn){let Ae=ve;for(ee=void 0;Ae--;){const wt=Y[Ae];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;ee&&(Y[ee][1].type="lineEndingBlank",Rt=!0),wt[1].type="lineEnding",ee=Ae}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}de&&(!ee||de<ee)&&(cn._spread=!0),cn.end=Object.assign({},ee?Y[ee][1].start:me[1].end),Y.splice(ee||ve,0,["exit",cn,me[2]]),ve++,xe++}if(me[1].type==="listItemPrefix"){const Ae={type:"listItem",_spread:!1,start:Object.assign({},me[1].start),end:void 0};cn=Ae,Y.splice(ve,0,["enter",Ae,me[2]]),ve++,xe++,de=void 0,ye=!0}}}return Y[re][1]._spread=Rt,xe}function u(Y,re){return xe;function xe(ve){h.call(this,Y(ve),ve),re&&re.call(this,ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(Y,re,xe){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([re,xe||void 0]),Y.position={start:yr(re.start),end:void 0}}function p(Y){return re;function re(xe){Y&&Y.call(this,xe),m.call(this,xe)}}function m(Y,re){const xe=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==Y.type&&(re?re.call(this,Y,ve[0]):(ve[1]||zp).call(this,Y,ve[0]));else throw new Error("Cannot close `"+Y.type+"` ("+ml({start:Y.start,end:Y.end})+"): it’s not open");xe.position.end=yr(Y.end)}function x(){return Hd(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(Y){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function b(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.lang=Y}function j(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.meta=Y}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y.replace(/(\r?\n|\r)$/g,"")}function M(Y){const re=this.resume(),xe=this.stack[this.stack.length-1];xe.label=re,xe.identifier=xn(this.sliceSerialize(Y)).toLowerCase()}function N(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.title=Y}function F(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.url=Y}function G(Y){const re=this.stack[this.stack.length-1];if(!re.depth){const xe=this.sliceSerialize(Y).length;re.depth=xe}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function ne(Y){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function ie(){this.data.setextHeadingSlurpLineEnding=void 0}function ue(Y){const xe=this.stack[this.stack.length-1].children;let ve=xe[xe.length-1];(!ve||ve.type!=="text")&&(ve=Tr(),ve.position={start:yr(Y.start),end:void 0},xe.push(ve)),this.stack.push(ve)}function D(Y){const re=this.stack.pop();re.value+=this.sliceSerialize(Y),re.position.end=yr(Y.end)}function z(Y){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=re.children[re.children.length-1];xe.position.end=yr(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(re.type)&&(ue.call(this,Y),D.call(this,Y))}function V(){this.data.atHardBreak=!0}function J(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function ae(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function oe(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function P(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=re,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function H(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=re,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function te(Y){const re=this.sliceSerialize(Y),xe=this.stack[this.stack.length-2];xe.label=Pk(re),xe.identifier=xn(re).toLowerCase()}function se(){const Y=this.stack[this.stack.length-1],re=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const ve=Y.children;xe.children=ve}else xe.alt=re}function k(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.url=Y}function X(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.title=Y}function W(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function ce(Y){const re=this.resume(),xe=this.stack[this.stack.length-1];xe.label=re,xe.identifier=xn(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function ge(Y){this.data.characterReferenceType=Y.type}function fe(Y){const re=this.sliceSerialize(Y),xe=this.data.characterReferenceType;let ve;xe?(ve=ax(re,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=$d(re);const Be=this.stack[this.stack.length-1];Be.value+=ve}function $e(Y){const re=this.stack.pop();re.position.end=yr(Y.end)}function je(Y){D.call(this,Y);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(Y)}function et(Y){D.call(this,Y);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(Y)}function Ve(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function st(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ht(){return{type:"emphasis",children:[]}}function Yn(){return{type:"heading",depth:0,children:[]}}function Vn(){return{type:"break"}}function nt(){return{type:"html",value:""}}function li(){return{type:"image",title:null,url:"",alt:null}}function Nr(){return{type:"link",title:null,url:"",children:[]}}function Ar(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function Qn(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function si(){return{type:"paragraph",children:[]}}function En(){return{type:"strong",children:[]}}function Tr(){return{type:"text",value:""}}function oi(){return{type:"thematicBreak"}}}function yr(t){return{line:t.line,column:t.column,offset:t.offset}}function px(t,r){let a=-1;for(;++a<r.length;){const l=r[a];Array.isArray(l)?px(t,l):$k(t,l)}}function $k(t,r){let a;for(a in r)if(mx.call(r,a))switch(a){case"canContainEols":{const l=r[a];l&&t[a].push(...l);break}case"transforms":{const l=r[a];l&&t[a].push(...l);break}case"enter":case"exit":{const l=r[a];l&&Object.assign(t[a],l);break}}}function zp(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+ml({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+ml({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+ml({start:r.start,end:r.end})+") is still open")}function Fk(t){const r=this;r.parser=a;function a(l){return Ik(l,{...r.data("settings"),...t,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}function Gk(t,r){const a={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,a),t.applyData(r,a)}function Yk(t,r){const a={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,a),[t.applyData(r,a),{type:"text",value:`
`}]}function Vk(t,r){const a=r.value?r.value+`
`:"",l={};r.lang&&(l.className=["language-"+r.lang]);let s={type:"element",tagName:"code",properties:l,children:[{type:"text",value:a}]};return r.meta&&(s.data={meta:r.meta}),t.patch(r,s),s=t.applyData(r,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(r,s),s}function Qk(t,r){const a={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Xk(t,r){const a={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Kk(t,r){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",l=String(r.identifier).toUpperCase(),s=ai(l.toLowerCase()),u=t.footnoteOrder.indexOf(l);let c,h=t.footnoteCounts.get(l);h===void 0?(h=0,t.footnoteOrder.push(l),c=t.footnoteOrder.length):c=u+1,h+=1,t.footnoteCounts.set(l,h);const p={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+s,id:a+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(r,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(r,m),t.applyData(r,m)}function Zk(t,r){const a={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Jk(t,r){if(t.options.allowDangerousHtml){const a={type:"raw",value:r.value};return t.patch(r,a),t.applyData(r,a)}}function gx(t,r){const a=r.referenceType;let l="]";if(a==="collapsed"?l+="[]":a==="full"&&(l+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return[{type:"text",value:"!["+r.alt+l}];const s=t.all(r),u=s[0];u&&u.type==="text"?u.value="["+u.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=l:s.push({type:"text",value:l}),s}function Wk(t,r){const a=String(r.identifier).toUpperCase(),l=t.definitionById.get(a);if(!l)return gx(t,r);const s={src:ai(l.url||""),alt:r.alt};l.title!==null&&l.title!==void 0&&(s.title=l.title);const u={type:"element",tagName:"img",properties:s,children:[]};return t.patch(r,u),t.applyData(r,u)}function e2(t,r){const a={src:ai(r.url)};r.alt!==null&&r.alt!==void 0&&(a.alt=r.alt),r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return t.patch(r,l),t.applyData(r,l)}function t2(t,r){const a={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,a);const l={type:"element",tagName:"code",properties:{},children:[a]};return t.patch(r,l),t.applyData(r,l)}function n2(t,r){const a=String(r.identifier).toUpperCase(),l=t.definitionById.get(a);if(!l)return gx(t,r);const s={href:ai(l.url||"")};l.title!==null&&l.title!==void 0&&(s.title=l.title);const u={type:"element",tagName:"a",properties:s,children:t.all(r)};return t.patch(r,u),t.applyData(r,u)}function r2(t,r){const a={href:ai(r.url)};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:t.all(r)};return t.patch(r,l),t.applyData(r,l)}function a2(t,r,a){const l=t.all(r),s=a?i2(a):xx(r),u={},c=[];if(typeof r.checked=="boolean"){const x=l[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},l.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<l.length;){const x=l[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?c.push(...x.children):c.push(x)}const p=l[l.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:u,children:c};return t.patch(r,m),t.applyData(r,m)}function i2(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const a=t.children;let l=-1;for(;!r&&++l<a.length;)r=xx(a[l])}return r}function xx(t){const r=t.spread;return r??t.children.length>1}function l2(t,r){const a={},l=t.all(r);let s=-1;for(typeof r.start=="number"&&r.start!==1&&(a.start=r.start);++s<l.length;){const c=l[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const u={type:"element",tagName:r.ordered?"ol":"ul",properties:a,children:t.wrap(l,!0)};return t.patch(r,u),t.applyData(r,u)}function s2(t,r){const a={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function o2(t,r){const a={type:"root",children:t.wrap(t.all(r))};return t.patch(r,a),t.applyData(r,a)}function u2(t,r){const a={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function c2(t,r){const a=t.all(r),l=a.shift(),s=[];if(l){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([l],!0)};t.patch(r.children[0],c),s.push(c)}if(a.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(a,!0)},h=Bd(r.children[1]),p=Kg(r.children[r.children.length-1]);h&&p&&(c.position={start:h,end:p}),s.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(r,u),t.applyData(r,u)}function d2(t,r,a){const l=a?a.children:void 0,u=(l?l.indexOf(r):1)===0?"th":"td",c=a&&a.type==="table"?a.align:void 0,h=c?c.length:r.children.length;let p=-1;const m=[];for(;++p<h;){const y=r.children[p],v={},b=c?c[p]:void 0;b&&(v.align=b);let j={type:"element",tagName:u,properties:v,children:[]};y&&(j.children=t.all(y),t.patch(y,j),j=t.applyData(y,j)),m.push(j)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(r,x),t.applyData(r,x)}function f2(t,r){const a={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}const Up=9,Bp=32;function h2(t){const r=String(t),a=/\r?\n|\r/g;let l=a.exec(r),s=0;const u=[];for(;l;)u.push(Pp(r.slice(s,l.index),s>0,!0),l[0]),s=l.index+l[0].length,l=a.exec(r);return u.push(Pp(r.slice(s),s>0,!1)),u.join("")}function Pp(t,r,a){let l=0,s=t.length;if(r){let u=t.codePointAt(l);for(;u===Up||u===Bp;)l++,u=t.codePointAt(l)}if(a){let u=t.codePointAt(s-1);for(;u===Up||u===Bp;)s--,u=t.codePointAt(s-1)}return s>l?t.slice(l,s):""}function m2(t,r){const a={type:"text",value:h2(String(r.value))};return t.patch(r,a),t.applyData(r,a)}function p2(t,r){const a={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,a),t.applyData(r,a)}const g2={blockquote:Gk,break:Yk,code:Vk,delete:Qk,emphasis:Xk,footnoteReference:Kk,heading:Zk,html:Jk,imageReference:Wk,image:e2,inlineCode:t2,linkReference:n2,link:r2,listItem:a2,list:l2,paragraph:s2,root:o2,strong:u2,table:c2,tableCell:f2,tableRow:d2,text:m2,thematicBreak:p2,toml:qs,yaml:qs,definition:qs,footnoteDefinition:qs};function qs(){}const yx=-1,mo=0,gl=1,io=2,Gd=3,Yd=4,Vd=5,Qd=6,bx=7,vx=8,qp=typeof self=="object"?self:globalThis,x2=(t,r)=>{const a=(s,u)=>(t.set(u,s),s),l=s=>{if(t.has(s))return t.get(s);const[u,c]=r[s];switch(u){case mo:case yx:return a(c,s);case gl:{const h=a([],s);for(const p of c)h.push(l(p));return h}case io:{const h=a({},s);for(const[p,m]of c)h[l(p)]=l(m);return h}case Gd:return a(new Date(c),s);case Yd:{const{source:h,flags:p}=c;return a(new RegExp(h,p),s)}case Vd:{const h=a(new Map,s);for(const[p,m]of c)h.set(l(p),l(m));return h}case Qd:{const h=a(new Set,s);for(const p of c)h.add(l(p));return h}case bx:{const{name:h,message:p}=c;return a(new qp[h](p),s)}case vx:return a(BigInt(c),s);case"BigInt":return a(Object(BigInt(c)),s);case"ArrayBuffer":return a(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return a(new DataView(h),c)}}return a(new qp[u](c),s)};return l},Ip=t=>x2(new Map,t)(0),Ha="",{toString:y2}={},{keys:b2}=Object,dl=t=>{const r=typeof t;if(r!=="object"||!t)return[mo,r];const a=y2.call(t).slice(8,-1);switch(a){case"Array":return[gl,Ha];case"Object":return[io,Ha];case"Date":return[Gd,Ha];case"RegExp":return[Yd,Ha];case"Map":return[Vd,Ha];case"Set":return[Qd,Ha];case"DataView":return[gl,a]}return a.includes("Array")?[gl,a]:a.includes("Error")?[bx,a]:[io,a]},Is=([t,r])=>t===mo&&(r==="function"||r==="symbol"),v2=(t,r,a,l)=>{const s=(c,h)=>{const p=l.push(c)-1;return a.set(h,p),p},u=c=>{if(a.has(c))return a.get(c);let[h,p]=dl(c);switch(h){case mo:{let x=c;switch(p){case"bigint":h=vx,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return s([yx],c)}return s([h,x],c)}case gl:{if(p){let v=c;return p==="DataView"?v=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(v=new Uint8Array(c)),s([p,[...v]],c)}const x=[],y=s([h,x],c);for(const v of c)x.push(u(v));return y}case io:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(r&&"toJSON"in c)return u(c.toJSON());const x=[],y=s([h,x],c);for(const v of b2(c))(t||!Is(dl(c[v])))&&x.push([u(v),u(c[v])]);return y}case Gd:return s([h,c.toISOString()],c);case Yd:{const{source:x,flags:y}=c;return s([h,{source:x,flags:y}],c)}case Vd:{const x=[],y=s([h,x],c);for(const[v,b]of c)(t||!(Is(dl(v))||Is(dl(b))))&&x.push([u(v),u(b)]);return y}case Qd:{const x=[],y=s([h,x],c);for(const v of c)(t||!Is(dl(v)))&&x.push(u(v));return y}}const{message:m}=c;return s([h,{name:p,message:m}],c)};return u},Hp=(t,{json:r,lossy:a}={})=>{const l=[];return v2(!(r||a),!!r,new Map,l)(t),l},lo=typeof structuredClone=="function"?(t,r)=>r&&("json"in r||"lossy"in r)?Ip(Hp(t,r)):structuredClone(t):(t,r)=>Ip(Hp(t,r));function w2(t,r){const a=[{type:"text",value:"↩"}];return r>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(r)}]}),a}function k2(t,r){return"Back to reference "+(t+1)+(r>1?"-"+r:"")}function S2(t){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=t.options.footnoteBackContent||w2,l=t.options.footnoteBackLabel||k2,s=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const x=t.all(m),y=String(m.identifier).toUpperCase(),v=ai(y.toLowerCase());let b=0;const j=[],E=t.footnoteCounts.get(y);for(;E!==void 0&&++b<=E;){j.length>0&&j.push({type:"text",value:" "});let M=typeof a=="string"?a:a(p,b);typeof M=="string"&&(M={type:"text",value:M}),j.push({type:"element",tagName:"a",properties:{href:"#"+r+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(p,b),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const C=x[x.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const M=C.children[C.children.length-1];M&&M.type==="text"?M.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...j)}else x.push(...j);const T={type:"element",tagName:"li",properties:{id:r+"fn-"+v},children:t.wrap(x,!0)};t.patch(m,T),h.push(T)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...lo(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const po=function(t){if(t==null)return N2;if(typeof t=="function")return go(t);if(typeof t=="object")return Array.isArray(t)?j2(t):_2(t);if(typeof t=="string")return E2(t);throw new Error("Expected function, string, or object as test")};function j2(t){const r=[];let a=-1;for(;++a<t.length;)r[a]=po(t[a]);return go(l);function l(...s){let u=-1;for(;++u<r.length;)if(r[u].apply(this,s))return!0;return!1}}function _2(t){const r=t;return go(a);function a(l){const s=l;let u;for(u in t)if(s[u]!==r[u])return!1;return!0}}function E2(t){return go(r);function r(a){return a&&a.type===t}}function go(t){return r;function r(a,l,s){return!!(A2(a)&&t.call(this,a,typeof l=="number"?l:void 0,s||void 0))}}function N2(){return!0}function A2(t){return t!==null&&typeof t=="object"&&"type"in t}const wx=[],T2=!0,wd=!1,C2="skip";function kx(t,r,a,l){let s;typeof r=="function"&&typeof a!="function"?(l=a,a=r):s=r;const u=po(s),c=l?-1:1;h(t,void 0,[])();function h(p,m,x){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=wx,j,E,C;if((!r||u(p,m,x[x.length-1]||void 0))&&(b=O2(a(p,x)),b[0]===wd))return b;if("children"in p&&p.children){const T=p;if(T.children&&b[0]!==C2)for(E=(l?T.children.length:-1)+c,C=x.concat(T);E>-1&&E<T.children.length;){const M=T.children[E];if(j=h(M,E,C)(),j[0]===wd)return j;E=typeof j[1]=="number"?j[1]:E+c}}return b}}}function O2(t){return Array.isArray(t)?t:typeof t=="number"?[T2,t]:t==null?wx:[t]}function Xd(t,r,a,l){let s,u,c;typeof r=="function"&&typeof a!="function"?(u=void 0,c=r,s=a):(u=r,c=a,s=l),kx(t,u,h,s);function h(p,m){const x=m[m.length-1],y=x?x.children.indexOf(p):void 0;return c(p,y,x)}}const kd={}.hasOwnProperty,R2={};function D2(t,r){const a=r||R2,l=new Map,s=new Map,u=new Map,c={...g2,...a.handlers},h={all:m,applyData:M2,definitionById:l,footnoteById:s,footnoteCounts:u,footnoteOrder:[],handlers:c,one:p,options:a,patch:L2,wrap:U2};return Xd(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?l:s,v=String(x.identifier).toUpperCase();y.has(v)||y.set(v,x)}}),h;function p(x,y){const v=x.type,b=h.handlers[v];if(kd.call(h.handlers,v)&&b)return b(h,x,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in x){const{children:E,...C}=x,T=lo(C);return T.children=h.all(x),T}return lo(x)}return(h.options.unknownHandler||z2)(h,x,y)}function m(x){const y=[];if("children"in x){const v=x.children;let b=-1;for(;++b<v.length;){const j=h.one(v[b],x);if(j){if(b&&v[b-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=$p(j.value)),!Array.isArray(j)&&j.type==="element")){const E=j.children[0];E&&E.type==="text"&&(E.value=$p(E.value))}Array.isArray(j)?y.push(...j):y.push(j)}}}return y}}function L2(t,r){t.position&&(r.position=k1(t))}function M2(t,r){let a=r;if(t&&t.data){const l=t.data.hName,s=t.data.hChildren,u=t.data.hProperties;if(typeof l=="string")if(a.type==="element")a.tagName=l;else{const c="children"in a?a.children:[a];a={type:"element",tagName:l,properties:{},children:c}}a.type==="element"&&u&&Object.assign(a.properties,lo(u)),"children"in a&&a.children&&s!==null&&s!==void 0&&(a.children=s)}return a}function z2(t,r){const a=r.data||{},l="value"in r&&!(kd.call(a,"hProperties")||kd.call(a,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:t.all(r)};return t.patch(r,l),t.applyData(r,l)}function U2(t,r){const a=[];let l=-1;for(r&&a.push({type:"text",value:`
`});++l<t.length;)l&&a.push({type:"text",value:`
`}),a.push(t[l]);return r&&t.length>0&&a.push({type:"text",value:`
`}),a}function $p(t){let r=0,a=t.charCodeAt(r);for(;a===9||a===32;)r++,a=t.charCodeAt(r);return t.slice(r)}function Fp(t,r){const a=D2(t,r),l=a.one(t,void 0),s=S2(a),u=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return s&&u.children.push({type:"text",value:`
`},s),u}function B2(t,r){return t&&"run"in t?async function(a,l){const s=Fp(a,{file:l,...r});await t.run(s,l)}:function(a,l){return Fp(a,{file:l,...t||r})}}function Gp(t){if(t)throw t}var Pc,Yp;function P2(){if(Yp)return Pc;Yp=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):r.call(m)==="[object Array]"},u=function(m){if(!m||r.call(m)!=="[object Object]")return!1;var x=t.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!x&&!y)return!1;var v;for(v in m);return typeof v>"u"||t.call(m,v)},c=function(m,x){a&&x.name==="__proto__"?a(m,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):m[x.name]=x.newValue},h=function(m,x){if(x==="__proto__")if(t.call(m,x)){if(l)return l(m,x).value}else return;return m[x]};return Pc=function p(){var m,x,y,v,b,j,E=arguments[0],C=1,T=arguments.length,M=!1;for(typeof E=="boolean"&&(M=E,E=arguments[1]||{},C=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});C<T;++C)if(m=arguments[C],m!=null)for(x in m)y=h(E,x),v=h(m,x),E!==v&&(M&&v&&(u(v)||(b=s(v)))?(b?(b=!1,j=y&&s(y)?y:[]):j=y&&u(y)?y:{},c(E,{name:x,newValue:p(M,j,v)})):typeof v<"u"&&c(E,{name:x,newValue:v}));return E},Pc}var q2=P2();const qc=jl(q2);function Sd(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I2(){const t=[],r={run:a,use:l};return r;function a(...s){let u=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...s);function h(p,...m){const x=t[++u];let y=-1;if(p){c(p);return}for(;++y<s.length;)(m[y]===null||m[y]===void 0)&&(m[y]=s[y]);s=m,x?H2(x,h)(...m):c(null,...m)}}function l(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),r}}function H2(t,r){let a;return l;function l(...c){const h=t.length>c.length;let p;h&&c.push(s);try{p=t.apply(this,c)}catch(m){const x=m;if(h&&a)throw x;return s(x)}h||(p&&p.then&&typeof p.then=="function"?p.then(u,s):p instanceof Error?s(p):u(p))}function s(c,...h){a||(a=!0,r(c,...h))}function u(c){s(null,c)}}const jn={basename:$2,dirname:F2,extname:G2,join:Y2,sep:"/"};function $2(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Nl(t);let a=0,l=-1,s=t.length,u;if(r===void 0||r.length===0||r.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else l<0&&(u=!0,l=s+1);return l<0?"":t.slice(a,l)}if(r===t)return"";let c=-1,h=r.length-1;for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else c<0&&(u=!0,c=s+1),h>-1&&(t.codePointAt(s)===r.codePointAt(h--)?h<0&&(l=s):(h=-1,l=c));return a===l?l=c:l<0&&(l=t.length),t.slice(a,l)}function F2(t){if(Nl(t),t.length===0)return".";let r=-1,a=t.length,l;for(;--a;)if(t.codePointAt(a)===47){if(l){r=a;break}}else l||(l=!0);return r<0?t.codePointAt(0)===47?"/":".":r===1&&t.codePointAt(0)===47?"//":t.slice(0,r)}function G2(t){Nl(t);let r=t.length,a=-1,l=0,s=-1,u=0,c;for(;r--;){const h=t.codePointAt(r);if(h===47){if(c){l=r+1;break}continue}a<0&&(c=!0,a=r+1),h===46?s<0?s=r:u!==1&&(u=1):s>-1&&(u=-1)}return s<0||a<0||u===0||u===1&&s===a-1&&s===l+1?"":t.slice(s,a)}function Y2(...t){let r=-1,a;for(;++r<t.length;)Nl(t[r]),t[r]&&(a=a===void 0?t[r]:a+"/"+t[r]);return a===void 0?".":V2(a)}function V2(t){Nl(t);const r=t.codePointAt(0)===47;let a=Q2(t,!r);return a.length===0&&!r&&(a="."),a.length>0&&t.codePointAt(t.length-1)===47&&(a+="/"),r?"/"+a:a}function Q2(t,r){let a="",l=0,s=-1,u=0,c=-1,h,p;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||u===1))if(s!==c-1&&u===2){if(a.length<2||l!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(p=a.lastIndexOf("/"),p!==a.length-1){p<0?(a="",l=0):(a=a.slice(0,p),l=a.length-1-a.lastIndexOf("/")),s=c,u=0;continue}}else if(a.length>0){a="",l=0,s=c,u=0;continue}}r&&(a=a.length>0?a+"/..":"..",l=2)}else a.length>0?a+="/"+t.slice(s+1,c):a=t.slice(s+1,c),l=c-s-1;s=c,u=0}else h===46&&u>-1?u++:u=-1}return a}function Nl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const X2={cwd:K2};function K2(){return"/"}function jd(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Z2(t){if(typeof t=="string")t=new URL(t);else if(!jd(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return J2(t)}function J2(t){if(t.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const r=t.pathname;let a=-1;for(;++a<r.length;)if(r.codePointAt(a)===37&&r.codePointAt(a+1)===50){const l=r.codePointAt(a+2);if(l===70||l===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}const Ic=["history","path","basename","stem","extname","dirname"];class Sx{constructor(r){let a;r?jd(r)?a={path:r}:typeof r=="string"||W2(r)?a={value:r}:a=r:a={},this.cwd="cwd"in a?"":X2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<Ic.length;){const u=Ic[l];u in a&&a[u]!==void 0&&a[u]!==null&&(this[u]=u==="history"?[...a[u]]:a[u])}let s;for(s in a)Ic.includes(s)||(this[s]=a[s])}get basename(){return typeof this.path=="string"?jn.basename(this.path):void 0}set basename(r){$c(r,"basename"),Hc(r,"basename"),this.path=jn.join(this.dirname||"",r)}get dirname(){return typeof this.path=="string"?jn.dirname(this.path):void 0}set dirname(r){Vp(this.basename,"dirname"),this.path=jn.join(r||"",this.basename)}get extname(){return typeof this.path=="string"?jn.extname(this.path):void 0}set extname(r){if(Hc(r,"extname"),Vp(this.dirname,"extname"),r){if(r.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jn.join(this.dirname,this.stem+(r||""))}get path(){return this.history[this.history.length-1]}set path(r){jd(r)&&(r=Z2(r)),$c(r,"path"),this.path!==r&&this.history.push(r)}get stem(){return typeof this.path=="string"?jn.basename(this.path,this.extname):void 0}set stem(r){$c(r,"stem"),Hc(r,"stem"),this.path=jn.join(this.dirname||"",r+(this.extname||""))}fail(r,a,l){const s=this.message(r,a,l);throw s.fatal=!0,s}info(r,a,l){const s=this.message(r,a,l);return s.fatal=void 0,s}message(r,a,l){const s=new Ot(r,a,l);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(r){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(r||void 0).decode(this.value)}}function Hc(t,r){if(t&&t.includes(jn.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+jn.sep+"`")}function $c(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function Vp(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function W2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eS=function(t){const l=this.constructor.prototype,s=l[t],u=function(){return s.apply(u,arguments)};return Object.setPrototypeOf(u,l),u},tS={}.hasOwnProperty;class Kd extends eS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I2()}copy(){const r=new Kd;let a=-1;for(;++a<this.attachers.length;){const l=this.attachers[a];r.use(...l)}return r.data(qc(!0,{},this.namespace)),r}data(r,a){return typeof r=="string"?arguments.length===2?(Yc("data",this.frozen),this.namespace[r]=a,this):tS.call(this.namespace,r)&&this.namespace[r]||void 0:r?(Yc("data",this.frozen),this.namespace=r,this):this.namespace}freeze(){if(this.frozen)return this;const r=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const s=a.call(r,...l);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(r){this.freeze();const a=Hs(r),l=this.parser||this.Parser;return Fc("parse",l),l(String(a),a)}process(r,a){const l=this;return this.freeze(),Fc("process",this.parser||this.Parser),Gc("process",this.compiler||this.Compiler),a?s(void 0,a):new Promise(s);function s(u,c){const h=Hs(r),p=l.parse(h);l.run(p,h,function(x,y,v){if(x||!y||!v)return m(x);const b=y,j=l.stringify(b,v);aS(j)?v.value=j:v.result=j,m(x,v)});function m(x,y){x||!y?c(x):u?u(y):a(void 0,y)}}}processSync(r){let a=!1,l;return this.freeze(),Fc("processSync",this.parser||this.Parser),Gc("processSync",this.compiler||this.Compiler),this.process(r,s),Xp("processSync","process",a),l;function s(u,c){a=!0,Gp(u),l=c}}run(r,a,l){Qp(r),this.freeze();const s=this.transformers;return!l&&typeof a=="function"&&(l=a,a=void 0),l?u(void 0,l):new Promise(u);function u(c,h){const p=Hs(a);s.run(r,p,m);function m(x,y,v){const b=y||r;x?h(x):c?c(b):l(void 0,b,v)}}}runSync(r,a){let l=!1,s;return this.run(r,a,u),Xp("runSync","run",l),s;function u(c,h){Gp(c),s=h,l=!0}}stringify(r,a){this.freeze();const l=Hs(a),s=this.compiler||this.Compiler;return Gc("stringify",s),Qp(r),s(r,l)}use(r,...a){const l=this.attachers,s=this.namespace;if(Yc("use",this.frozen),r!=null)if(typeof r=="function")p(r,a);else if(typeof r=="object")Array.isArray(r)?h(r):c(r);else throw new TypeError("Expected usable value, not `"+r+"`");return this;function u(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...y]=m;p(x,y)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(s.settings=qc(!0,s.settings,m.settings))}function h(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const y=m[x];u(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,x){let y=-1,v=-1;for(;++y<l.length;)if(l[y][0]===m){v=y;break}if(v===-1)l.push([m,...x]);else if(x.length>0){let[b,...j]=x;const E=l[v][1];Sd(E)&&Sd(b)&&(b=qc(!0,E,b)),l[v]=[m,b,...j]}}}}const nS=new Kd().freeze();function Fc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Gc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Yc(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qp(t){if(!Sd(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Xp(t,r,a){if(!a)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function Hs(t){return rS(t)?t:new Sx(t)}function rS(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aS(t){return typeof t=="string"||iS(t)}function iS(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kp=[],Zp={allowDangerousHtml:!0},sS=/^(https?|ircs?|mailto|xmpp)$/i,oS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Zd(t){const r=uS(t),a=cS(t);return dS(r.runSync(r.parse(a),a),t)}function uS(t){const r=t.rehypePlugins||Kp,a=t.remarkPlugins||Kp,l=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Zp}:Zp;return nS().use(Fk).use(a).use(B2,l).use(r)}function cS(t){const r=t.children||"",a=new Sx;return typeof r=="string"&&(a.value=r),a}function dS(t,r){const a=r.allowedElements,l=r.allowElement,s=r.components,u=r.disallowedElements,c=r.skipHtml,h=r.unwrapDisallowed,p=r.urlTransform||fS;for(const x of oS)Object.hasOwn(r,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+lS+x.id,void 0);return r.className&&(t={type:"element",tagName:"div",properties:{className:r.className},children:t.type==="root"?t.children:[t]}),Xd(t,m),N1(t,{Fragment:d.Fragment,components:s,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function m(x,y,v){if(x.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let b;for(b in zc)if(Object.hasOwn(zc,b)&&Object.hasOwn(x.properties,b)){const j=x.properties[b],E=zc[b];(E===null||E.includes(x.tagName))&&(x.properties[b]=p(String(j||""),b,x))}}if(x.type==="element"){let b=a?!a.includes(x.tagName):u?u.includes(x.tagName):!1;if(!b&&l&&typeof y=="number"&&(b=!l(x,y,v)),b&&v&&typeof y=="number")return h&&x.children?v.children.splice(y,1,...x.children):v.children.splice(y,1),y}}}function fS(t){const r=t.indexOf(":"),a=t.indexOf("?"),l=t.indexOf("#"),s=t.indexOf("/");return r===-1||s!==-1&&r>s||a!==-1&&r>a||l!==-1&&r>l||sS.test(t.slice(0,r))?t:""}function Jp(t,r){const a=String(t);if(typeof r!="string")throw new TypeError("Expected character");let l=0,s=a.indexOf(r);for(;s!==-1;)l++,s=a.indexOf(r,s+r.length);return l}function hS(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function mS(t,r,a){const s=po((a||{}).ignore||[]),u=pS(r);let c=-1;for(;++c<u.length;)kx(t,"text",h);function h(m,x){let y=-1,v;for(;++y<x.length;){const b=x[y],j=v?v.children:void 0;if(s(b,j?j.indexOf(b):void 0,v))return;v=b}if(v)return p(m,x)}function p(m,x){const y=x[x.length-1],v=u[c][0],b=u[c][1];let j=0;const C=y.children.indexOf(m);let T=!1,M=[];v.lastIndex=0;let N=v.exec(m.value);for(;N;){const F=N.index,G={index:N.index,input:N.input,stack:[...x,m]};let R=b(...N,G);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?v.lastIndex=F+1:(j!==F&&M.push({type:"text",value:m.value.slice(j,F)}),Array.isArray(R)?M.push(...R):R&&M.push(R),j=F+N[0].length,T=!0),!v.global)break;N=v.exec(m.value)}return T?(j<m.value.length&&M.push({type:"text",value:m.value.slice(j)}),y.children.splice(C,1,...M)):M=[m],C+M.length}}function pS(t){const r=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!t[0]||Array.isArray(t[0])?t:[t];let l=-1;for(;++l<a.length;){const s=a[l];r.push([gS(s[0]),xS(s[1])])}return r}function gS(t){return typeof t=="string"?new RegExp(hS(t),"g"):t}function xS(t){return typeof t=="function"?t:function(){return t}}const Vc="phrasing",Qc=["autolink","link","image","label"];function yS(){return{transforms:[_S],enter:{literalAutolink:vS,literalAutolinkEmail:Xc,literalAutolinkHttp:Xc,literalAutolinkWww:Xc},exit:{literalAutolink:jS,literalAutolinkEmail:SS,literalAutolinkHttp:wS,literalAutolinkWww:kS}}}function bS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Qc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Qc},{character:":",before:"[ps]",after:"\\/",inConstruct:Vc,notInConstruct:Qc}]}}function vS(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Xc(t){this.config.enter.autolinkProtocol.call(this,t)}function wS(t){this.config.exit.autolinkProtocol.call(this,t)}function kS(t){this.config.exit.data.call(this,t);const r=this.stack[this.stack.length-1];r.type,r.url="http://"+this.sliceSerialize(t)}function SS(t){this.config.exit.autolinkEmail.call(this,t)}function jS(t){this.exit(t)}function _S(t){mS(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ES],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),NS]],{ignore:["link","linkReference"]})}function ES(t,r,a,l,s){let u="";if(!jx(s)||(/^w/i.test(r)&&(a=r+a,r="",u="http://"),!AS(a)))return!1;const c=TS(a+l);if(!c[0])return!1;const h={type:"link",title:null,url:u+r+c[0],children:[{type:"text",value:r+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function NS(t,r,a,l){return!jx(l,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+r+"@"+a,children:[{type:"text",value:r+"@"+a}]}}function AS(t){const r=t.split(".");return!(r.length<2||r[r.length-1]&&(/_/.test(r[r.length-1])||!/[a-zA-Z\d]/.test(r[r.length-1]))||r[r.length-2]&&(/_/.test(r[r.length-2])||!/[a-zA-Z\d]/.test(r[r.length-2])))}function TS(t){const r=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!r)return[t,void 0];t=t.slice(0,r.index);let a=r[0],l=a.indexOf(")");const s=Jp(t,"(");let u=Jp(t,")");for(;l!==-1&&s>u;)t+=a.slice(0,l+1),a=a.slice(l+1),l=a.indexOf(")"),u++;return[t,a]}function jx(t,r){const a=t.input.charCodeAt(t.index-1);return(t.index===0||Jr(a)||fo(a))&&(!r||a!==47)}_x.peek=BS;function CS(){this.buffer()}function OS(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function RS(){this.buffer()}function DS(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function LS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=xn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function MS(t){this.exit(t)}function zS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=xn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function US(t){this.exit(t)}function BS(){return"["}function _x(t,r,a,l){const s=a.createTracker(l);let u=s.move("[^");const c=a.enter("footnoteReference"),h=a.enter("reference");return u+=s.move(a.safe(a.associationId(t),{after:"]",before:u})),h(),c(),u+=s.move("]"),u}function PS(){return{enter:{gfmFootnoteCallString:CS,gfmFootnoteCall:OS,gfmFootnoteDefinitionLabelString:RS,gfmFootnoteDefinition:DS},exit:{gfmFootnoteCallString:LS,gfmFootnoteCall:MS,gfmFootnoteDefinitionLabelString:zS,gfmFootnoteDefinition:US}}}function qS(t){let r=!1;return t&&t.firstLineBlank&&(r=!0),{handlers:{footnoteDefinition:a,footnoteReference:_x},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(l,s,u,c){const h=u.createTracker(c);let p=h.move("[^");const m=u.enter("footnoteDefinition"),x=u.enter("label");return p+=h.move(u.safe(u.associationId(l),{before:p,after:"]"})),x(),p+=h.move("]:"),l.children&&l.children.length>0&&(h.shift(4),p+=h.move((r?`
`:" ")+u.indentLines(u.containerFlow(l,h.current()),r?Ex:IS))),m(),p}}function IS(t,r,a){return r===0?t:Ex(t,r,a)}function Ex(t,r,a){return(a?"":"    ")+t}const HS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Nx.peek=VS;function $S(){return{canContainEols:["delete"],enter:{strikethrough:GS},exit:{strikethrough:YS}}}function FS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:HS}],handlers:{delete:Nx}}}function GS(t){this.enter({type:"delete",children:[]},t)}function YS(t){this.exit(t)}function Nx(t,r,a,l){const s=a.createTracker(l),u=a.enter("strikethrough");let c=s.move("~~");return c+=a.containerPhrasing(t,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),u(),c}function VS(){return"~"}function QS(t){return t.length}function XS(t,r){const a=r||{},l=(a.align||[]).concat(),s=a.stringLength||QS,u=[],c=[],h=[],p=[];let m=0,x=-1;for(;++x<t.length;){const E=[],C=[];let T=-1;for(t[x].length>m&&(m=t[x].length);++T<t[x].length;){const M=KS(t[x][T]);if(a.alignDelimiters!==!1){const N=s(M);C[T]=N,(p[T]===void 0||N>p[T])&&(p[T]=N)}E.push(M)}c[x]=E,h[x]=C}let y=-1;if(typeof l=="object"&&"length"in l)for(;++y<m;)u[y]=Wp(l[y]);else{const E=Wp(l);for(;++y<m;)u[y]=E}y=-1;const v=[],b=[];for(;++y<m;){const E=u[y];let C="",T="";E===99?(C=":",T=":"):E===108?C=":":E===114&&(T=":");let M=a.alignDelimiters===!1?1:Math.max(1,p[y]-C.length-T.length);const N=C+"-".repeat(M)+T;a.alignDelimiters!==!1&&(M=C.length+M+T.length,M>p[y]&&(p[y]=M),b[y]=M),v[y]=N}c.splice(1,0,v),h.splice(1,0,b),x=-1;const j=[];for(;++x<c.length;){const E=c[x],C=h[x];y=-1;const T=[];for(;++y<m;){const M=E[y]||"";let N="",F="";if(a.alignDelimiters!==!1){const G=p[y]-(C[y]||0),R=u[y];R===114?N=" ".repeat(G):R===99?G%2?(N=" ".repeat(G/2+.5),F=" ".repeat(G/2-.5)):(N=" ".repeat(G/2),F=N):F=" ".repeat(G)}a.delimiterStart!==!1&&!y&&T.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&M==="")&&(a.delimiterStart!==!1||y)&&T.push(" "),a.alignDelimiters!==!1&&T.push(N),T.push(M),a.alignDelimiters!==!1&&T.push(F),a.padding!==!1&&T.push(" "),(a.delimiterEnd!==!1||y!==m-1)&&T.push("|")}j.push(a.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return j.join(`
`)}function KS(t){return t==null?"":String(t)}function Wp(t){const r=typeof t=="string"?t.codePointAt(0):0;return r===67||r===99?99:r===76||r===108?108:r===82||r===114?114:0}function ZS(t,r,a,l){const s=a.enter("blockquote"),u=a.createTracker(l);u.move("> "),u.shift(2);const c=a.indentLines(a.containerFlow(t,u.current()),JS);return s(),c}function JS(t,r,a){return">"+(a?"":" ")+t}function WS(t,r){return eg(t,r.inConstruct,!0)&&!eg(t,r.notInConstruct,!1)}function eg(t,r,a){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return a;let l=-1;for(;++l<r.length;)if(t.includes(r[l]))return!0;return!1}function tg(t,r,a,l){let s=-1;for(;++s<a.unsafe.length;)if(a.unsafe[s].character===`
`&&WS(a.stack,a.unsafe[s]))return/[ \t]/.test(l.before)?"":" ";return`\\
`}function ej(t,r){const a=String(t);let l=a.indexOf(r),s=l,u=0,c=0;if(typeof r!="string")throw new TypeError("Expected substring");for(;l!==-1;)l===s?++u>c&&(c=u):u=1,s=l+r.length,l=a.indexOf(r,s);return c}function tj(t,r){return!!(r.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function nj(t){const r=t.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function rj(t,r,a,l){const s=nj(a),u=t.value||"",c=s==="`"?"GraveAccent":"Tilde";if(tj(t,a)){const y=a.enter("codeIndented"),v=a.indentLines(u,aj);return y(),v}const h=a.createTracker(l),p=s.repeat(Math.max(ej(u,s)+1,3)),m=a.enter("codeFenced");let x=h.move(p);if(t.lang){const y=a.enter(`codeFencedLang${c}`);x+=h.move(a.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=a.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(a.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),y()}return x+=h.move(`
`),u&&(x+=h.move(u+`
`)),x+=h.move(p),m(),x}function aj(t,r,a){return(a?"":"    ")+t}function Jd(t){const r=t.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function ij(t,r,a,l){const s=Jd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("definition");let h=a.enter("label");const p=a.createTracker(l);let m=p.move("[");return m+=p.move(a.safe(a.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),c(),m}function lj(t){const r=t.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function kl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function so(t,r,a){const l=ti(t),s=ti(r);return l===void 0?s===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:l===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ax.peek=sj;function Ax(t,r,a,l){const s=lj(a),u=a.enter("emphasis"),c=a.createTracker(l),h=c.move(s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=so(l.before.charCodeAt(l.before.length-1),m,s);x.inside&&(p=kl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=so(l.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+kl(y));const b=c.move(s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function sj(t,r,a){return a.options.emphasis||"*"}function oj(t,r){let a=!1;return Xd(t,function(l){if("value"in l&&/\r?\n|\r/.test(l.value)||l.type==="break")return a=!0,wd}),!!((!t.depth||t.depth<3)&&Hd(t)&&(r.options.setext||a))}function uj(t,r,a,l){const s=Math.max(Math.min(6,t.depth||1),1),u=a.createTracker(l);if(oj(t,a)){const x=a.enter("headingSetext"),y=a.enter("phrasing"),v=a.containerPhrasing(t,{...u.current(),before:`
`,after:`
`});return y(),x(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(s),h=a.enter("headingAtx"),p=a.enter("phrasing");u.move(c+" ");let m=a.containerPhrasing(t,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(m)&&(m=kl(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,a.options.closeAtx&&(m+=" "+c),p(),h(),m}Tx.peek=cj;function Tx(t){return t.value||""}function cj(){return"<"}Cx.peek=dj;function Cx(t,r,a,l){const s=Jd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("image");let h=a.enter("label");const p=a.createTracker(l);let m=p.move("![");return m+=p.move(a.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),m+=p.move(")"),c(),m}function dj(){return"!"}Ox.peek=fj;function Ox(t,r,a,l){const s=t.referenceType,u=a.enter("imageReference");let c=a.enter("label");const h=a.createTracker(l);let p=h.move("![");const m=a.safe(t.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function fj(){return"!"}Rx.peek=hj;function Rx(t,r,a){let l=t.value||"",s="`",u=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(l);)s+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++u<a.unsafe.length;){const c=a.unsafe[u],h=a.compilePattern(c);let p;if(c.atBreak)for(;p=h.exec(l);){let m=p.index;l.charCodeAt(m)===10&&l.charCodeAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(p.index+1)}}return s+l+s}function hj(){return"`"}function Dx(t,r){const a=Hd(t);return!!(!r.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(a===t.url||"mailto:"+a===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Lx.peek=mj;function Lx(t,r,a,l){const s=Jd(a),u=s==='"'?"Quote":"Apostrophe",c=a.createTracker(l);let h,p;if(Dx(t,a)){const x=a.stack;a.stack=[],h=a.enter("autolink");let y=c.move("<");return y+=c.move(a.containerPhrasing(t,{before:y,after:">",...c.current()})),y+=c.move(">"),h(),a.stack=x,y}h=a.enter("link"),p=a.enter("label");let m=c.move("[");return m+=c.move(a.containerPhrasing(t,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=a.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(a.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=a.enter("destinationRaw"),m+=c.move(a.safe(t.url,{before:m,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=a.enter(`title${u}`),m+=c.move(" "+s),m+=c.move(a.safe(t.title,{before:m,after:s,...c.current()})),m+=c.move(s),p()),m+=c.move(")"),h(),m}function mj(t,r,a){return Dx(t,a)?"<":"["}Mx.peek=pj;function Mx(t,r,a,l){const s=t.referenceType,u=a.enter("linkReference");let c=a.enter("label");const h=a.createTracker(l);let p=h.move("[");const m=a.containerPhrasing(t,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function pj(){return"["}function Wd(t){const r=t.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function gj(t){const r=Wd(t),a=t.options.bulletOther;if(!a)return r==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+a+"`) to be different");return a}function xj(t){const r=t.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function zx(t){const r=t.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function yj(t,r,a,l){const s=a.enter("list"),u=a.bulletCurrent;let c=t.ordered?xj(a):Wd(a);const h=t.ordered?c==="."?")":".":gj(a);let p=r&&a.bulletLastUsed?c===a.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&(p=!0),zx(a)===c&&x){let y=-1;for(;++y<t.children.length;){const v=t.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=h),a.bulletCurrent=c;const m=a.containerFlow(t,l);return a.bulletLastUsed=c,a.bulletCurrent=u,s(),m}function bj(t){const r=t.options.listItemIndent||"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function vj(t,r,a,l){const s=bj(a);let u=a.bulletCurrent||Wd(a);r&&r.type==="list"&&r.ordered&&(u=(typeof r.start=="number"&&r.start>-1?r.start:1)+(a.options.incrementListMarker===!1?0:r.children.indexOf(t))+u);let c=u.length+1;(s==="tab"||s==="mixed"&&(r&&r.type==="list"&&r.spread||t.spread))&&(c=Math.ceil(c/4)*4);const h=a.createTracker(l);h.move(u+" ".repeat(c-u.length)),h.shift(c);const p=a.enter("listItem"),m=a.indentLines(a.containerFlow(t,h.current()),x);return p(),m;function x(y,v,b){return v?(b?"":" ".repeat(c))+y:(b?u:u+" ".repeat(c-u.length))+y}}function wj(t,r,a,l){const s=a.enter("paragraph"),u=a.enter("phrasing"),c=a.containerPhrasing(t,l);return u(),s(),c}const kj=po(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Sj(t,r,a,l){return(t.children.some(function(c){return kj(c)})?a.containerPhrasing:a.containerFlow).call(a,t,l)}function jj(t){const r=t.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}Ux.peek=_j;function Ux(t,r,a,l){const s=jj(a),u=a.enter("strong"),c=a.createTracker(l),h=c.move(s+s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=so(l.before.charCodeAt(l.before.length-1),m,s);x.inside&&(p=kl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=so(l.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+kl(y));const b=c.move(s+s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function _j(t,r,a){return a.options.strong||"*"}function Ej(t,r,a,l){return a.safe(t.value,l)}function Nj(t){const r=t.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function Aj(t,r,a){const l=(zx(a)+(a.options.ruleSpaces?" ":"")).repeat(Nj(a));return a.options.ruleSpaces?l.slice(0,-1):l}const Bx={blockquote:ZS,break:tg,code:rj,definition:ij,emphasis:Ax,hardBreak:tg,heading:uj,html:Tx,image:Cx,imageReference:Ox,inlineCode:Rx,link:Lx,linkReference:Mx,list:yj,listItem:vj,paragraph:wj,root:Sj,strong:Ux,text:Ej,thematicBreak:Aj};function Tj(){return{enter:{table:Cj,tableData:ng,tableHeader:ng,tableRow:Rj},exit:{codeText:Dj,table:Oj,tableData:Kc,tableHeader:Kc,tableRow:Kc}}}function Cj(t){const r=t._align;this.enter({type:"table",align:r.map(function(a){return a==="none"?null:a}),children:[]},t),this.data.inTable=!0}function Oj(t){this.exit(t),this.data.inTable=void 0}function Rj(t){this.enter({type:"tableRow",children:[]},t)}function Kc(t){this.exit(t)}function ng(t){this.enter({type:"tableCell",children:[]},t)}function Dj(t){let r=this.resume();this.data.inTable&&(r=r.replace(/\\([\\|])/g,Lj));const a=this.stack[this.stack.length-1];a.type,a.value=r,this.exit(t)}function Lj(t,r){return r==="|"?r:t}function Mj(t){const r=t||{},a=r.tableCellPadding,l=r.tablePipeAlign,s=r.stringLength,u=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:p,tableRow:h}};function c(b,j,E,C){return m(x(b,E,C),b.align)}function h(b,j,E,C){const T=y(b,E,C),M=m([T]);return M.slice(0,M.indexOf(`
`))}function p(b,j,E,C){const T=E.enter("tableCell"),M=E.enter("phrasing"),N=E.containerPhrasing(b,{...C,before:u,after:u});return M(),T(),N}function m(b,j){return XS(b,{align:j,alignDelimiters:l,padding:a,stringLength:s})}function x(b,j,E){const C=b.children;let T=-1;const M=[],N=j.enter("table");for(;++T<C.length;)M[T]=y(C[T],j,E);return N(),M}function y(b,j,E){const C=b.children;let T=-1;const M=[],N=j.enter("tableRow");for(;++T<C.length;)M[T]=p(C[T],b,j,E);return N(),M}function v(b,j,E){let C=Bx.inlineCode(b,j,E);return E.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function zj(){return{exit:{taskListCheckValueChecked:rg,taskListCheckValueUnchecked:rg,paragraph:Bj}}}function Uj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Pj}}}function rg(t){const r=this.stack[this.stack.length-2];r.type,r.checked=t.type==="taskListCheckValueChecked"}function Bj(t){const r=this.stack[this.stack.length-2];if(r&&r.type==="listItem"&&typeof r.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const l=a.children[0];if(l&&l.type==="text"){const s=r.children;let u=-1,c;for(;++u<s.length;){const h=s[u];if(h.type==="paragraph"){c=h;break}}c===a&&(l.value=l.value.slice(1),l.value.length===0?a.children.shift():a.position&&l.position&&typeof l.position.start.offset=="number"&&(l.position.start.column++,l.position.start.offset++,a.position.start=Object.assign({},l.position.start)))}}this.exit(t)}function Pj(t,r,a,l){const s=t.children[0],u=typeof t.checked=="boolean"&&s&&s.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",h=a.createTracker(l);u&&h.move(c);let p=Bx.listItem(t,r,a,{...l,...h.current()});return u&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(x){return x+c}}function qj(){return[yS(),PS(),$S(),Tj(),zj()]}function Ij(t){return{extensions:[bS(),qS(t),FS(),Mj(t),Uj()]}}const Hj={tokenize:Qj,partial:!0},Px={tokenize:Xj,partial:!0},qx={tokenize:Kj,partial:!0},Ix={tokenize:Zj,partial:!0},$j={tokenize:Jj,partial:!0},Hx={name:"wwwAutolink",tokenize:Yj,previous:Fx},$x={name:"protocolAutolink",tokenize:Vj,previous:Gx},Gn={name:"emailAutolink",tokenize:Gj,previous:Yx},_n={};function Fj(){return{text:_n}}let Vr=48;for(;Vr<123;)_n[Vr]=Gn,Vr++,Vr===58?Vr=65:Vr===91&&(Vr=97);_n[43]=Gn;_n[45]=Gn;_n[46]=Gn;_n[95]=Gn;_n[72]=[Gn,$x];_n[104]=[Gn,$x];_n[87]=[Gn,Hx];_n[119]=[Gn,Hx];function Gj(t,r,a){const l=this;let s,u;return c;function c(y){return!_d(y)||!Yx.call(l,l.previous)||ef(l.events)?a(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return _d(y)?(t.consume(y),h):y===64?(t.consume(y),p):a(y)}function p(y){return y===46?t.check($j,x,m)(y):y===45||y===95||Ct(y)?(u=!0,t.consume(y),p):x(y)}function m(y){return t.consume(y),s=!0,p}function x(y){return u&&s&&Lt(l.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),r(y)):a(y)}}function Yj(t,r,a){const l=this;return s;function s(c){return c!==87&&c!==119||!Fx.call(l,l.previous)||ef(l.events)?a(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Hj,t.attempt(Px,t.attempt(qx,u),a),a)(c))}function u(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),r(c)}}function Vj(t,r,a){const l=this;let s="",u=!1;return c;function c(y){return(y===72||y===104)&&Gx.call(l,l.previous)&&!ef(l.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),t.consume(y),h):a(y)}function h(y){if(Lt(y)&&s.length<5)return s+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return t.consume(y),p}return a(y)}function p(y){return y===47?(t.consume(y),u?m:(u=!0,p)):a(y)}function m(y){return y===null||ao(y)||Xe(y)||Jr(y)||fo(y)?a(y):t.attempt(Px,t.attempt(qx,x),a)(y)}function x(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),r(y)}}function Qj(t,r,a){let l=0;return s;function s(c){return(c===87||c===119)&&l<3?(l++,t.consume(c),s):c===46&&l===3?(t.consume(c),u):a(c)}function u(c){return c===null?a(c):r(c)}}function Xj(t,r,a){let l,s,u;return c;function c(m){return m===46||m===95?t.check(Ix,p,h)(m):m===null||Xe(m)||Jr(m)||m!==45&&fo(m)?p(m):(u=!0,t.consume(m),c)}function h(m){return m===95?l=!0:(s=l,l=void 0),t.consume(m),c}function p(m){return s||l||!u?a(m):r(m)}}function Kj(t,r){let a=0,l=0;return s;function s(c){return c===40?(a++,t.consume(c),s):c===41&&l<a?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(Ix,r,u)(c):c===null||Xe(c)||Jr(c)?r(c):(t.consume(c),s)}function u(c){return c===41&&l++,t.consume(c),s}}function Zj(t,r,a){return l;function l(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),l):h===38?(t.consume(h),u):h===93?(t.consume(h),s):h===60||h===null||Xe(h)||Jr(h)?r(h):a(h)}function s(h){return h===null||h===40||h===91||Xe(h)||Jr(h)?r(h):l(h)}function u(h){return Lt(h)?c(h):a(h)}function c(h){return h===59?(t.consume(h),l):Lt(h)?(t.consume(h),c):a(h)}}function Jj(t,r,a){return l;function l(u){return t.consume(u),s}function s(u){return Ct(u)?a(u):r(u)}}function Fx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Xe(t)}function Gx(t){return!Lt(t)}function Yx(t){return!(t===47||_d(t))}function _d(t){return t===43||t===45||t===46||t===95||Ct(t)}function ef(t){let r=t.length,a=!1;for(;r--;){const l=t[r][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){a=!0;break}if(l._gfmAutolinkLiteralWalkedInto){a=!1;break}}return t.length>0&&!a&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const Wj={tokenize:s_,partial:!0};function e_(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:a_,continuation:{tokenize:i_},exit:l_}},text:{91:{name:"gfmFootnoteCall",tokenize:r_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:t_,resolveTo:n_}}}}function t_(t,r,a){const l=this;let s=l.events.length;const u=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let c;for(;s--;){const p=l.events[s][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!c||!c._balanced)return a(p);const m=xn(l.sliceSerialize({start:c.end,end:l.now()}));return m.codePointAt(0)!==94||!u.includes(m.slice(1))?a(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),r(p))}}function n_(t,r){let a=t.length;for(;a--;)if(t[a][1].type==="labelImage"&&t[a][0]==="enter"){t[a][1];break}t[a+1][1].type="data",t[a+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},t[a+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[a+3][1].end),end:Object.assign({},t[a+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},h=[t[a+1],t[a+2],["enter",l,r],t[a+3],t[a+4],["enter",s,r],["exit",s,r],["enter",u,r],["enter",c,r],["exit",c,r],["exit",u,r],t[t.length-2],t[t.length-1],["exit",l,r]];return t.splice(a,t.length-a+1,...h),t}function r_(t,r,a){const l=this,s=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let u=0,c;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?a(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(y){if(u>999||y===93&&!c||y===null||y===91||Xe(y))return a(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return s.includes(xn(l.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),r):a(y)}return Xe(y)||(c=!0),u++,t.consume(y),y===92?x:m}function x(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function a_(t,r,a){const l=this,s=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let u,c=0,h;return p;function p(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):a(j)}function x(j){if(c>999||j===93&&!h||j===null||j===91||Xe(j))return a(j);if(j===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return u=xn(l.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Xe(j)||(h=!0),c++,t.consume(j),j===92?y:x}function y(j){return j===91||j===92||j===93?(t.consume(j),c++,x):x(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),s.includes(u)||s.push(u),Ue(t,b,"gfmFootnoteDefinitionWhitespace")):a(j)}function b(j){return r(j)}}function i_(t,r,a){return t.check(El,r,t.attempt(Wj,r,a))}function l_(t){t.exit("gfmFootnoteDefinition")}function s_(t,r,a){const l=this;return Ue(t,s,"gfmFootnoteDefinitionIndent",5);function s(u){const c=l.events[l.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?r(u):a(u)}}function o_(t){let a=(t||{}).singleTilde;const l={name:"strikethrough",tokenize:u,resolveAll:s};return a==null&&(a=!0),{text:{126:l},insideSpan:{null:[l]},attentionMarkers:{null:[126]}};function s(c,h){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},y={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},v=[["enter",x,h],["enter",c[m][1],h],["exit",c[m][1],h],["enter",y,h]],b=h.parser.constructs.insideSpan.null;b&&Zt(v,v.length,0,ho(b,c.slice(m+1,p),h)),Zt(v,v.length,0,[["exit",y,h],["enter",c[p][1],h],["exit",c[p][1],h],["exit",x,h]]),Zt(c,m-1,p-m+3,v),p=m+v.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function u(c,h,p){const m=this.previous,x=this.events;let y=0;return v;function v(j){return m===126&&x[x.length-1][1].type!=="characterEscape"?p(j):(c.enter("strikethroughSequenceTemporary"),b(j))}function b(j){const E=ti(m);if(j===126)return y>1?p(j):(c.consume(j),y++,b);if(y<2&&!a)return p(j);const C=c.exit("strikethroughSequenceTemporary"),T=ti(j);return C._open=!T||T===2&&!!E,C._close=!E||E===2&&!!T,h(j)}}}class u_{constructor(){this.map=[]}add(r,a,l){c_(this,r,a,l)}consume(r){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let a=this.map.length;const l=[];for(;a>0;)a-=1,l.push(r.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),r.length=this.map[a][0];l.push(r.slice()),r.length=0;let s=l.pop();for(;s;){for(const u of s)r.push(u);s=l.pop()}this.map.length=0}}function c_(t,r,a,l){let s=0;if(!(a===0&&l.length===0)){for(;s<t.map.length;){if(t.map[s][0]===r){t.map[s][1]+=a,t.map[s][2].push(...l);return}s+=1}t.map.push([r,a,l])}}function d_(t,r){let a=!1;const l=[];for(;r<t.length;){const s=t[r];if(a){if(s[0]==="enter")s[1].type==="tableContent"&&l.push(t[r+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[r-1][1].type==="tableDelimiterMarker"){const u=l.length-1;l[u]=l[u]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(a=!0);r+=1}return l}function f_(){return{flow:{null:{name:"table",tokenize:h_,resolveAll:m_}}}}function h_(t,r,a){const l=this;let s=0,u=0,c;return h;function h(D){let z=l.events.length-1;for(;z>-1;){const ae=l.events[z][1].type;if(ae==="lineEnding"||ae==="linePrefix")z--;else break}const V=z>-1?l.events[z][1].type:null,J=V==="tableHead"||V==="tableRow"?R:p;return J===R&&l.parser.lazy[l.now().line]?a(D):J(D)}function p(D){return t.enter("tableHead"),t.enter("tableRow"),m(D)}function m(D){return D===124||(c=!0,u+=1),x(D)}function x(D){return D===null?a(D):be(D)?u>1?(u=0,l.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),b):a(D):Me(D)?Ue(t,x,"whitespace")(D):(u+=1,c&&(c=!1,s+=1),D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),y(D)))}function y(D){return D===null||D===124||Xe(D)?(t.exit("data"),x(D)):(t.consume(D),D===92?v:y)}function v(D){return D===92||D===124?(t.consume(D),y):y(D)}function b(D){return l.interrupt=!1,l.parser.lazy[l.now().line]?a(D):(t.enter("tableDelimiterRow"),c=!1,Me(D)?Ue(t,j,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):j(D))}function j(D){return D===45||D===58?C(D):D===124?(c=!0,t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),E):G(D)}function E(D){return Me(D)?Ue(t,C,"whitespace")(D):C(D)}function C(D){return D===58?(u+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),T):D===45?(u+=1,T(D)):D===null||be(D)?F(D):G(D)}function T(D){return D===45?(t.enter("tableDelimiterFiller"),M(D)):G(D)}function M(D){return D===45?(t.consume(D),M):D===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(D),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(D))}function N(D){return Me(D)?Ue(t,F,"whitespace")(D):F(D)}function F(D){return D===124?j(D):D===null||be(D)?!c||s!==u?G(D):(t.exit("tableDelimiterRow"),t.exit("tableHead"),r(D)):G(D)}function G(D){return a(D)}function R(D){return t.enter("tableRow"),ne(D)}function ne(D){return D===124?(t.enter("tableCellDivider"),t.consume(D),t.exit("tableCellDivider"),ne):D===null||be(D)?(t.exit("tableRow"),r(D)):Me(D)?Ue(t,ne,"whitespace")(D):(t.enter("data"),ie(D))}function ie(D){return D===null||D===124||Xe(D)?(t.exit("data"),ne(D)):(t.consume(D),D===92?ue:ie)}function ue(D){return D===92||D===124?(t.consume(D),ie):ie(D)}}function m_(t,r){let a=-1,l=!0,s=0,u=[0,0,0,0],c=[0,0,0,0],h=!1,p=0,m,x,y;const v=new u_;for(;++a<t.length;){const b=t[a],j=b[1];b[0]==="enter"?j.type==="tableHead"?(h=!1,p!==0&&(ag(v,r,p,m,x),x=void 0,p=0),m={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",m,r]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(l=!0,y=void 0,u=[0,0,0,0],c=[0,a+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",x,r]])),s=j.type==="tableDelimiterRow"?2:x?3:1):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(l=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],y=$s(v,r,u,s,void 0,y),u=[0,0,0,0]),c[2]=a)):j.type==="tableCellDivider"&&(l?l=!1:(u[1]!==0&&(c[0]=c[1],y=$s(v,r,u,s,void 0,y)),u=c,c=[u[1],a,0,0])):j.type==="tableHead"?(h=!0,p=a):j.type==="tableRow"||j.type==="tableDelimiterRow"?(p=a,u[1]!==0?(c[0]=c[1],y=$s(v,r,u,s,a,y)):c[1]!==0&&(y=$s(v,r,c,s,a,y)),s=0):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=a)}for(p!==0&&ag(v,r,p,m,x),v.consume(r.events),a=-1;++a<r.events.length;){const b=r.events[a];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=d_(r.events,a))}return t}function $s(t,r,a,l,s,u){const c=l===1?"tableHeader":l===2?"tableDelimiter":"tableData",h="tableContent";a[0]!==0&&(u.end=Object.assign({},Ja(r.events,a[0])),t.add(a[0],0,[["exit",u,r]]));const p=Ja(r.events,a[1]);if(u={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(a[1],0,[["enter",u,r]]),a[2]!==0){const m=Ja(r.events,a[2]),x=Ja(r.events,a[3]),y={type:h,start:Object.assign({},m),end:Object.assign({},x)};if(t.add(a[2],0,[["enter",y,r]]),l!==2){const v=r.events[a[2]],b=r.events[a[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",a[3]>a[2]+1){const j=a[2]+1,E=a[3]-a[2]-1;t.add(j,E,[])}}t.add(a[3]+1,0,[["exit",y,r]])}return s!==void 0&&(u.end=Object.assign({},Ja(r.events,s)),t.add(s,0,[["exit",u,r]]),u=void 0),u}function ag(t,r,a,l,s){const u=[],c=Ja(r.events,a);s&&(s.end=Object.assign({},c),u.push(["exit",s,r])),l.end=Object.assign({},c),u.push(["exit",l,r]),t.add(a+1,0,u)}function Ja(t,r){const a=t[r],l=a[0]==="enter"?"start":"end";return a[1][l]}const p_={name:"tasklistCheck",tokenize:x_};function g_(){return{text:{91:p_}}}function x_(t,r,a){const l=this;return s;function s(p){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?a(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),u)}function u(p){return Xe(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):a(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):a(p)}function h(p){return be(p)?r(p):Me(p)?t.check({tokenize:y_},r,a)(p):a(p)}}function y_(t,r,a){return Ue(t,l,"whitespace");function l(s){return s===null?a(s):r(s)}}function b_(t){return rx([Fj(),e_(),o_(t),f_(),g_()])}const v_={};function tf(t){const r=this,a=t||v_,l=r.data(),s=l.micromarkExtensions||(l.micromarkExtensions=[]),u=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),c=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);s.push(b_(a)),u.push(qj()),c.push(Ij(a))}const Zc={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Jc={Entry:"Entry",SL:"SL",TP1:"TP1"};function w_(t){const r=[...t].sort((l,s)=>l-s),a=t.map(()=>0);for(let l=0;l<t.length-1;l++)Math.abs(r[l]-r[l+1])<7&&(a[t.indexOf(r[l])]=-28,a[t.indexOf(r[l+1])]=28,t.length>2&&l+2<t.length&&Math.abs(r[l+1]-r[l+2])<7&&(a[t.indexOf(r[l+2])]=-56));return a}function k_(t,r=18){const a=t.map((m,x)=>({price:m,idx:x}));a.sort((m,x)=>m.price-x.price);const l=t.length,u=100-r*(l-1),c=l>1?u/(l-1):0;let h=[];for(let m=0;m<l;m++)h.push(m*(r+c));const p=[];return a.forEach((m,x)=>{p[m.idx]=h[x]}),p}const Wc=({color:t,left:r,label:a,yOffset:l,value:s})=>d.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:r,top:0,zIndex:10},children:[d.jsx("div",{style:{transform:`translateY(${l}px)`},className:"transition-all duration-500",children:d.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${t} animate-fadein`,children:a})}),d.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${t} mt-1 animate-markerpop`}),d.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 animate-fadein",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]}),S_=({riskParams:t,analysis:r})=>{if(!r)return null;const{tradeSetup:a}=r,l=a.tradeType==="Long",s=parseFloat(a.entryPrice),u=parseFloat(a.stopLoss),c=parseFloat(a.takeProfit);if(isNaN(s)||isNaN(u)||isNaN(c))return null;const p=k_([u,s,c],24),m=M=>`calc(${p[M]}% - 24px)`,x=w_(p),y=1,v=2,b=Math.min(p[y],p[v]),j=Math.abs(p[v]-p[y]),E=l?"right":"left";let C=1;if(typeof r.riskPerTrade=="number"&&!isNaN(r.riskPerTrade))C=r.riskPerTrade;else if(typeof r.riskPerTrade=="string"){const M=parseFloat(String(r.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(M)||(C=M)}const T=t.currentEquity!==void 0&&t.currentEquity!==null?Number(t.currentEquity):void 0;return T==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[d.jsx(Hg,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),d.jsxs("div",{className:"relative w-full h-20 flex items-end mb-6",children:[d.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),d.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${j}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:d.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:E==="right"?d.jsx("span",{className:"absolute right-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:"▶"}):d.jsx("span",{className:"absolute left-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:"◀"})})}),d.jsx(Wc,{color:Zc.SL,left:m(0),label:Jc.SL,yOffset:x[0],value:String(u)}),d.jsx(Wc,{color:Zc.Entry,left:m(1),label:Jc.Entry,yOffset:x[1],value:String(s)}),d.jsx(Wc,{color:Zc.TP1,left:m(2),label:Jc.TP1,yOffset:x[2],value:String(c)})]}),d.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),d.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:C+"%"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${(T*C/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4})}`:"-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),d.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${Number(T).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"})]})]})]})},Fs=({label:t,value:r,className:a=""})=>d.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${a}`,children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${a}`,children:r})]}),j_=({analysis:t})=>{const{tradeType:r,entryPrice:a,stopLoss:l,takeProfit:s}=t.tradeSetup,u=r==="Long",c=v=>v!=null&&v!==""&&v!=="N/A"&&!isNaN(Number(v))&&Number(v)!==0,h=c(a),p=c(l),m=c(s);let x=!1;return u?x=Number(l)<Number(a)&&Number(a)<Number(s):x=Number(s)<Number(a)&&Number(a)<Number(l),h&&p&&m&&x?d.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${u?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[d.jsxs("h4",{className:`text-lg font-bold ${u?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",r]}),Number(t.confidenceScore)<70&&d.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),d.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(a).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(l).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):d.jsx("div",{className:"p-4 rounded-lg bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},__=({analysis:t,riskParams:r,onBackToUploader:a})=>t?t.tradeSetup&&t.marketTrend&&t.tradeBias?d.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[d.jsx("div",{className:"w-full",children:t.image?d.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{console.error("Failed to load analysis image"),s.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"})})}),d.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&d.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?d.jsx(jr,{className:"h-6 w-6"}):d.jsx(gn,{className:"h-6 w-6"}),d.jsxs("span",{children:["TRADE COMPLETED: ",d.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),d.jsx(j_,{analysis:t}),d.jsx(S_,{riskParams:r,analysis:t}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsx(Fs,{label:"Market Trend",value:t.marketTrend||"N/A"}),d.jsx(Fs,{label:"Trade Bias",value:t.tradeBias||"N/A",className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),d.jsx(Fs,{label:"Confidence",value:`${t.confidenceScore||0}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&d.jsx(Fs,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Gv,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),d.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:d.jsx(Zd,{remarkPlugins:[tf],children:t.rationale||"No reasoning available"})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern||"No pattern identified"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis||"No indicator analysis available"})]})]})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[d.jsx("p",{children:"This might be due to:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[d.jsx("li",{children:"AI response format error"}),d.jsx("li",{children:"Network connectivity issues"}),d.jsx("li",{children:"API quota exceeded"}),d.jsx("li",{children:"Image processing error"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&d.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})}),E_=({status:t})=>{if(t==="pending")return null;const r="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?d.jsx("span",{className:`${r} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?d.jsx("span",{className:`${r} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},N_=({history:t,onSelect:r,onDeleteRequest:a,currentAnalysisId:l})=>t?Array.isArray(t)?(console.log("HistoryPanel: Rendering with",t.length,"items"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):d.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map((s,u)=>!s||!s.id||!s.tradeSetup?(console.error("HistoryPanel: Invalid item at index",u,s),null):d.jsx("li",{className:"group",children:d.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${l===s.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[d.jsxs("button",{onClick:()=>{try{r(s)}catch(c){console.error("Error selecting history item:",c)}},className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(s.timestamp).toLocaleString()}`,children:[d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsxs("p",{className:`font-semibold text-sm truncate ${s.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[s.tradeSetup.tradeType," (",s.tradeBias||"Unknown",")"]}),d.jsx(E_,{status:s.status})]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(s.timestamp).toLocaleString()})]}),d.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",s.keyPattern||"No pattern"]})]}),d.jsx("button",{onClick:c=>{c.stopPropagation();try{a(s)}catch(h){console.error("Error requesting delete:",h)}},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:d.jsx(Qv,{className:"h-4 w-4"})})]})},s.id))})]})):(console.error("HistoryPanel: history prop is not an array:",t),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})):(console.error("HistoryPanel: history prop is null or undefined"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})),ig=({theme:t,setTheme:r})=>{const a=()=>{r(t==="light"?"dark":"light")};return d.jsxs("button",{onClick:a,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[d.jsx("span",{className:"sr-only",children:"Toggle theme"}),d.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[d.jsx(ro,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),d.jsx(Fv,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),d.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},lg=({apiStatus:t,sessionTokens:r,totalTokens:a})=>{const l=c=>new Intl.NumberFormat().format(c),u={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"relative flex h-2 w-2",children:[d.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${u.color} ${u.pulse?"animate-ping":""} opacity-75`}),d.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${u.color}`})]}),d.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",u.text]})]}),d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:l(r)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:l(a)})]})]})},yt=({mode:t,activeMode:r,onClick:a,icon:l,label:s})=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>a(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[l,d.jsx("span",{className:"ml-3",children:s})]})}),A_=({activeMode:t,onModeChange:r,theme:a,setTheme:l,apiStatus:s,sessionTokens:u,totalTokens:c,isMobileMenuOpen:h,onMobileMenuToggle:p})=>d.jsxs(d.Fragment,{children:[h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] lg:hidden",onClick:p}),d.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-800 shadow-xl z-[120] transform transition-transform duration-300 ease-in-out lg:hidden
        ${h?"translate-x-0":"-translate-x-full"}
      `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("div",{}),d.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Kv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(yt,{mode:"home",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(ip,{className:"h-5 w-5"}),label:"Home"}),d.jsx(yt,{mode:"dashboard",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(hd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(yt,{mode:"portfolio",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(lp,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(yt,{mode:"economic-calendar",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(sp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(yt,{mode:"scalp",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(yt,{mode:"day",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(ro,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(yt,{mode:"swing",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(dd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(yt,{mode:"position",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(fd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(yt,{mode:"settings",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(md,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(lg,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(ig,{theme:a,setTheme:l})]})]})]}),d.jsxs("aside",{className:"hidden lg:block w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[d.jsx("div",{className:"mb-6 px-2"}),d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(yt,{mode:"home",activeMode:t,onClick:r,icon:d.jsx(ip,{className:"h-5 w-5"}),label:"Home"}),d.jsx(yt,{mode:"dashboard",activeMode:t,onClick:r,icon:d.jsx(hd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(yt,{mode:"portfolio",activeMode:t,onClick:r,icon:d.jsx(lp,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(yt,{mode:"economic-calendar",activeMode:t,onClick:r,icon:d.jsx(sp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(yt,{mode:"scalp",activeMode:t,onClick:r,icon:d.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(yt,{mode:"day",activeMode:t,onClick:r,icon:d.jsx(ro,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(yt,{mode:"swing",activeMode:t,onClick:r,icon:d.jsx(dd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(yt,{mode:"position",activeMode:t,onClick:r,icon:d.jsx(fd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(yt,{mode:"settings",activeMode:t,onClick:r,icon:d.jsx(md,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(lg,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(ig,{theme:a,setTheme:l})]})]})]}),sg=({type:t,onSave:r,onClose:a})=>{const[l,s]=$.useState("");$.useEffect(()=>{const m=x=>{x.key==="Escape"&&a()};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[a]);const u=m=>{const y=m.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(y)&&s(y)},c=m=>{m.preventDefault();const x=parseFloat(l);!isNaN(x)&&x>0&&r(x)},h=t==="profit",p=!isNaN(parseFloat(l))&&parseFloat(l)>0;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:a,children:d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:d.jsxs("form",{onSubmit:c,children:[h?d.jsx(jr,{className:"mx-auto h-16 w-16 text-emerald-500"}):d.jsx(gn,{className:"mx-auto h-16 w-16 text-red-500"}),d.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),d.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),d.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:l,onChange:u,required:!0,autoFocus:!0})]})]}),d.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!p,children:"Save Result"})]})})})},T_={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},C_={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},br=({label:t,value:r,icon:a,color:l})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:t}),d.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${T_[l]} flex-shrink-0`,children:d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:a})})]}),d.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${C_[l]} leading-tight`,children:r})]}),O_=t=>{const r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const l=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-l.getTime())/864e5+1)/7)},R_=(t,r)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const a=[...t].sort((y,v)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime()),l={};a.forEach(y=>{const v=new Date(y.timestamp);let b="";if(r==="daily")b=v.toLocaleDateString("en-CA");else if(r==="weekly"){const j=v.getFullYear(),E=O_(v);b=`${j}-W${E.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(l[b]||(l[b]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":l[b].profit+=1,l[b].pl+=y.outcomeAmount||0;break;case"stop-loss":l[b].loss+=1,l[b].pl-=y.outcomeAmount||0;break;case"pending":l[b].pending+=1;break}});const s=Object.keys(l).sort(),u=s,c=s.map(y=>l[y].profit),h=s.map(y=>l[y].loss),p=s.map(y=>l[y].pending),m=[];let x=0;return s.forEach(y=>{x+=l[y].pl,m.push(x)}),{labels:u,profitData:c,lossData:h,pendingData:p,cumulativePlData:m}},ed=({buttonTimeframe:t,activeTimeframe:r,setTimeframe:a,children:l})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${r===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:l}),D_=({history:t})=>{const r=$.useRef(null),a=$.useRef(null),[l,s]=$.useState("daily");return $.useEffect(()=>{if(!r.current)return;const u=r.current.getContext("2d");if(!u)return;a.current&&a.current.destroy();const{labels:c,profitData:h,lossData:p,pendingData:m,cumulativePlData:x}=R_(t,l),y="rgba(203, 213, 225, 0.5)",v="rgba(100, 116, 139, 1)",b=u.createLinearGradient(0,0,0,300);b.addColorStop(0,"rgba(34, 197, 94, 0.8)"),b.addColorStop(1,"rgba(34, 197, 94, 0.4)");const j=u.createLinearGradient(0,0,0,300);j.addColorStop(0,"rgba(239, 68, 68, 0.8)"),j.addColorStop(1,"rgba(239, 68, 68, 0.4)");const E=u.createLinearGradient(0,0,0,300);E.addColorStop(0,"rgba(100, 116, 139, 0.7)"),E.addColorStop(1,"rgba(100, 116, 139, 0.3)");const C=u.createLinearGradient(0,50,0,300);return C.addColorStop(0,"rgba(124, 58, 237, 0.5)"),C.addColorStop(1,"rgba(124, 58, 237, 0.05)"),a.current=new window.Chart(u,{type:"bar",data:{labels:c,datasets:[{label:"Profit",data:h,backgroundColor:b,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:p,backgroundColor:j,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:m,backgroundColor:E,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:x,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:C,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:v,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:y,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:v,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:v,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:v,font:{family:"inherit"},callback:function(T){return typeof T!="number"?T:Math.abs(T)>=1e3?"$"+(T/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+T}},title:{display:!0,text:"Cumulative P/L ($)",color:v,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:v,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(T){let M=T.dataset.label||"";return M&&(M+=": "),T.parsed.y!==null&&(T.dataset.yAxisID==="y1"?M+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T.parsed.y):M+=T.parsed.y),M}}}}}}),()=>{a.current&&a.current.destroy()}},[t,l]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ed,{buttonTimeframe:"daily",activeTimeframe:l,setTimeframe:s,children:"Daily"}),d.jsx(ed,{buttonTimeframe:"weekly",activeTimeframe:l,setTimeframe:s,children:"Weekly"}),d.jsx(ed,{buttonTimeframe:"monthly",activeTimeframe:l,setTimeframe:s,children:"Monthly"})]})]}),d.jsx("div",{className:"relative h-96",children:t.length>0?d.jsx("canvas",{ref:r}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",d.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Vx={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:up,image:up},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:cp,image:cp},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:dp,image:dp},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:fp,image:fp},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:hp,image:hp}},L_=t=>{const r=t.filter(E=>E.status!=="pending"),a=r.length,l=r.filter(E=>E.status==="profit").length,s=a>0?l/a*100:0,u=r.filter(E=>E.status==="profit").reduce((E,C)=>E+(C.outcomeAmount||0),0),c=r.reduce((E,C)=>E+(parseFloat(C.tradeSetup.entryPrice)||0),0);let h=0,p=0,m=0,x=0,y=null,v=0;r.forEach(E=>{if(E.status==="stop-loss"?(p++,h=Math.max(h,p),x=0):E.status==="profit"&&(x++,m=Math.max(m,x),p=0),E.timestamp){const C=new Date(E.timestamp);if(y){const T=Math.floor((C.getTime()-y.getTime())/864e5);v=Math.max(v,T)}y=new Date(E.timestamp)}});let b="Novice Navigator";a>=30&&s>=80?b="Elite Executor":a>=20&&s>=60?b="Strategy Sentinel":a>=10&&s>=40?b="Pattern Pursuer":a>=10&&(b="Market Apprentice");const j=[];return a>=30&&h<=3&&s>=70&&j.push("Risk Master"),a>=40&&v<=7&&s>=60&&j.push("Consistency Champion"),h>=5&&m>=3&&j.push("Comeback King/Queen"),c>=1e5&&j.push("Volume Virtuoso"),u>=1e4&&j.push("Profit Hunter"),a>=20&&r.every(E=>E.status!=="stop-loss"||(E.outcomeAmount||0)>=-.02)&&j.push("Iron Hands"),m>=7&&j.push("Streak Specialist"),{tier:b,...Vx[b],badges:j}};function M_(t,r,a){switch(t){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-r,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-r,0),win:a<40?40-a:0,desc:"30 trade & win rate ≥ 40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-r,0),win:a<50?50-a:0,desc:"60 trade & win rate ≥ 50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-r,0),win:a<60?60-a:0,desc:"100 trade & win rate ≥ 60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const z_=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:"≥ 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:"≥ 10 trade & win rate ≥ 40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:"≥ 20 trade & win rate ≥ 60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:"≥ 30 trade & win rate ≥ 80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:"≥ 30 trade, max loss streak ≤ 3, win rate ≥ 70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:"≥ 40 trade, win rate ≥ 60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak ≥ 5, win streak ≥ 3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading ≥ $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit ≥ $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:"≥ 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak ≥ 7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:"≥ 50 scalp trade, win rate ≥ 60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:"≥ 30 swing trade, win rate ≥ 65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:"≥ 30 day trade, win rate ≥ 65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:"≥ 20 position trade, win rate ≥ 70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak ≥ 10, win streak ≥ 10.",requirement:"Loss streak ≥ 10, win streak ≥ 10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading ≥ $1,000,000.",requirement:"Total nominal trading ≥ $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate ≥ 60% di semua mode.",requirement:"Win rate ≥ 60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:"≥ 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:"≥ 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:"≥ 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:"≥ 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:"≥ 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:"≥ 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:"≥ 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:"≥ 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:"≥ 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:"≥ 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],U_=({currentTier:t,onClose:r})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(gn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(a=>d.jsxs("div",{children:[d.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${a==="common"?"text-green-600":a==="rare"?"text-violet-600":a==="epic"?"text-orange-600":"text-red-600"}`,children:a==="common"?"Common Tiers":a==="rare"?"Rare Tiers":a==="epic"?"Epic Tiers":"Legendary Tiers"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:z_.filter(l=>l.rarity===a).map(l=>d.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${l.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":l.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":l.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${l.name===t?"ring-2 ring-violet-500":""}`,children:[d.jsx("span",{className:`text-lg font-bold ${l.colorClass}`,children:l.name}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:l.desc}),d.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",l.requirement]})]},l.name))})]},a))]})]})}),B_=({profile:t,winRate:r,totalTrades:a,onClose:l})=>{var p;const[s,u]=$.useState(!1);$.useEffect(()=>{const m=x=>{x.key==="Escape"&&(s?u(!1):l())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[l,s]);const c=M_(t.tier,a,r),h=c.next?(p=Vx[c.next])==null?void 0:p.image:null;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:l,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:l,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(gn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:eo.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),d.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),d.jsx("div",{className:"mt-8",children:c.next?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[h&&eo.createElement(h,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),d.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",c.next]})]}),d.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[c.desc," (",c.need>0?`${c.need} trade lagi`:"",c.win?`, win rate ${c.win}% lagi`:"",")"]})]}):d.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),d.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>u(!0),children:"Show all tiers & achievements"}),d.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),d.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[r,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a})]})]})]})]})}),s&&d.jsx(U_,{currentTier:t.tier,onClose:()=>u(!1)})]})},P_=(t,r)=>`You are an expert trading analyst with 15+ years of experience in technical analysis, market psychology, and risk management. Analyze this trading chart with extreme precision and provide a PROFITABLE trading signal.

**TRADING MODE:** ${{scalp:"SCALP trade - very short-term (1-15 minutes), tight stops, quick profits. Minimum RRR 1:1. **ANALYZE ONLY 1-15 MINUTE TIMEFRAMES. DO NOT USE HIGHER TIMEFRAMES.**",day:"DAY trade - closed today, intraday trends (5-min to 1-hour). Minimum RRR 1:1.5. **ANALYZE ONLY 5-60 MINUTE TIMEFRAMES. DO NOT USE HIGHER OR LOWER TIMEFRAMES.**",swing:"SWING trade - held for days to weeks, 4-hour to daily charts. Minimum RRR 1:2. **ANALYZE ONLY 4-HOUR TO DAILY TIMEFRAMES. DO NOT USE WEEKLY OR LOWER.**",position:"POSITION trade - held for weeks/months, weekly/monthly charts. Minimum RRR 1:3. **ANALYZE ONLY WEEKLY OR MONTHLY TIMEFRAMES. DO NOT USE LOWER TIMEFRAMES.**"}[r]}
**ACCOUNT BALANCE:** $${t.accountBalance}
**CURRENT EQUITY:** $${t.currentEquity}
**LEVERAGE:** ${t.leverage}x

**IMPORTANT TIMEFRAME INSTRUCTION:**
- Only analyze the chart using the timeframe that matches the trading mode:
  - SCALP: 1-15 minute timeframe only
  - DAY: 5-60 minute timeframe only
  - SWING: 4-hour to daily timeframe only
  - POSITION: weekly or monthly timeframe only
- Do NOT use any other timeframe in your analysis or reasoning.
- In your output, always mention the exact timeframe used in 'keyPattern' and 'rationale'.

**CRITICAL ANALYSIS REQUIREMENTS:**

1. **MARKET STRUCTURE ANALYSIS:**
   - Identify higher highs (HH) and higher lows (HL) for uptrends
   - Identify lower highs (LH) and lower lows (LL) for downtrends
   - Determine if market is trending or ranging
   - Locate key support/resistance levels

2. **TECHNICAL INDICATORS (Analyze ALL visible indicators):**
   - Moving Averages: Crossovers, price position relative to MAs
   - RSI: Overbought/oversold conditions, divergences
   - MACD: Signal line crossovers, histogram patterns
   - Volume: Volume confirmation, volume spikes
   - Bollinger Bands: Price position, squeeze patterns
   - Stochastic: Overbought/oversold, crossovers
   - Any other visible indicators

3. **PRICE ACTION PATTERNS:**
   - Candlestick patterns (Doji, Hammer, Shooting Star, etc.)
   - Chart patterns (Head & Shoulders, Triangles, Flags, etc.)
   - Breakout/breakdown patterns
   - Consolidation zones

4. **CONFLUENCE ANALYSIS:**
   - Multiple indicators pointing in same direction
   - Price action confirming indicator signals
   - Volume supporting price movement
   - Support/resistance alignment

5. **RISK ASSESSMENT:**
   - Clear stop loss level with minimal slippage risk
   - Realistic take profit target based on market structure
   - Risk/Reward ratio meeting minimum requirements
   - Market volatility consideration

6. **RISK PER TRADE DETERMINATION:**
   - Determine the optimal risk per trade (as a percentage of current equity) for this setup, considering the user's current equity, account balance, leverage, trading mode, and market conditions.
   - Use professional risk management standards (e.g., 0.5%–2% typical for most traders, but justify if outside this range).
   - Return this as a field 'riskPerTrade' in your JSON response (number, e.g. 1.0 for 1%).
   - **In your rationale, always explicitly state the user's current equity and the actual risk allocation in dollars (besides the percentage). Example: 'Risk allocation is 0.5% of current equity ($50)'.**

**CONFIDENCE SCORE CRITERIA:**
- 90-100: Multiple strong confirmations, clear trend, perfect RRR
- 80-89: Strong trend with good confirmations, solid RRR
- 70-79: Good setup with some confirmations, acceptable RRR
- 60-69: Decent setup but limited confirmations
- Below 60: Weak setup, avoid trading

**TRADE SETUP REQUIREMENTS:**
- Entry price must be at optimal level (support/resistance, trend line)
- Stop loss must be beyond recent swing high/low
- Take profit must be realistic based on market structure
- RRR must meet minimum requirements for trading mode

**IMPORTANT:** Only provide signals with confidence score 70+ and clear technical justification. If no profitable setup exists, indicate "No profitable setup detected".

**RESPOND ONLY WITH VALID JSON. NO ADDITIONAL TEXT.**

**Required JSON format:**
{
  "marketTrend": "string (Uptrend/Downtrend/Sideways with strength level)",
  "keyPattern": "string (specific pattern name with timeframe, e.g. 'Bullish Engulfing on Weekly')",
  "indicatorAnalysis": "string (detailed analysis of ALL visible indicators)",
  "tradeBias": "Bullish or Bearish or Neutral",
  "confidenceScore": number (0-100, only 70+ for profitable signals),
  "riskPerTrade": number (percentage, e.g. 1.0 for 1%),
  "tradeSetup": {
    "tradeType": "Long or Short (exactly as written)",
    "entryPrice": "number as string (optimal entry level)",
    "stopLoss": "number as string (beyond swing high/low)",
    "takeProfit": "number as string (realistic target)",
    "rrr": number (must meet minimum for trading mode)
  },
  "rationale": "Detailed technical analysis in markdown format including market structure, indicator confluence, risk management justification, and the exact timeframe used."
}

Analyze the chart thoroughly and provide ONLY high-confidence, profitable trading signals using the correct timeframe for the selected trading mode.`,q_=async(t,r,a,l,s)=>{var p;if(!t)throw new Error("API key is not set.");const u=await new Promise((m,x)=>{const y=new FileReader;y.onloadend=()=>{try{const v=y.result;m(v.split(",")[1])}catch{x(new Error("Failed to process image file"))}},y.onerror=()=>x(new Error("Failed to read image file")),y.readAsDataURL(r)});let c=null;for(let m=1;m<=3;m++)try{let x=function(z,V){if(!z)return V;const J=String(z).trim().toLowerCase();return ue.includes(J)?J.charAt(0).toUpperCase()+J.slice(1):V},y=function(z){if(typeof z=="number"&&!isNaN(z))return z;if(typeof z=="string"){const V=parseFloat(z.replace(/[^\d.\-]/g,""));if(!isNaN(V))return V}return 0},v;m===1?v=P_({...a,currentEquity:s},l):v=`You are an expert trading analyst. Analyze this chart for PROFITABLE trading opportunities.

**Trading Mode:** ${l}
**Current Equity:** $${s}

**ANALYSIS REQUIREMENTS:**
- Identify market structure (trend direction, support/resistance)
- Analyze ALL visible technical indicators
- Look for price action patterns and breakouts
- Ensure multiple confirmations for high confidence
- Only provide signals with confidence score 70+

**Required JSON format:**
{
  "marketTrend": "Uptrend/Downtrend/Sideways with strength",
  "keyPattern": "Specific pattern with timeframe",
  "indicatorAnalysis": "Detailed analysis of ALL visible indicators",
  "tradeBias": "Bullish/Bearish/Neutral",
  "confidenceScore": 70-100,
  "riskPerTrade": "number (percentage, e.g. 1.0 for 1%)",
  "tradeSetup": {
    "tradeType": "Long/Short",
    "entryPrice": "optimal entry level",
    "stopLoss": "beyond swing high/low",
    "takeProfit": "realistic target",
    "rrr": "must meet minimum for trading mode"
  },
  "rationale": "Detailed technical analysis with market structure and risk management"
}

Only provide high-confidence, profitable signals. If no good setup exists, use confidence score below 70.`,console.log(`Attempt ${m}: Sending chart analysis request to GPT-4o...`);const b=new AbortController,j=setTimeout(()=>b.abort(),3e4),E=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading analyst AI."},{role:"user",content:[{type:"text",text:v},{type:"image_url",image_url:{url:`data:${r.type};base64,${u}`}}]}],max_tokens:2048}),signal:b.signal});if(clearTimeout(j),!E.ok){const z=await E.text();console.error("API Error Response:",z);let V;try{V=JSON.parse(z)}catch{V={error:{message:E.statusText}}}throw new Error(((p=V==null?void 0:V.error)==null?void 0:p.message)||`HTTP ${E.status}: ${E.statusText}`)}const C=await E.json();if(console.log(`Attempt ${m}: GPT-4o response received:`,C),!C.choices||!C.choices[0]||!C.choices[0].message)throw new Error("Invalid response format from AI service");let T=C.choices[0].message.content.trim();console.log(`Attempt ${m}: Raw AI response:`,T),T=T.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"");let M=T.match(/\{[\s\S]*\}/);if(!M)throw console.error("No JSON object found in response"),console.error("Full response:",T),new Error("AI response does not contain valid JSON format");T=M[0],console.log(`Attempt ${m}: Extracted JSON string:`,T);let N;try{N=JSON.parse(T)}catch(z){throw console.error("JSON parsing failed:",z),console.error("Failed JSON string:",T),new Error("AI response format is invalid. Please try again.")}console.log(`Attempt ${m}: Parsed analysis data:`,N);const G=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(z=>!N[z]);if(console.log(`Attempt ${m}: Full AI response:`,N),G.length>0){console.error(`Attempt ${m}: Missing required fields in analysis data:`,G),console.error("Available fields:",Object.keys(N)),console.error("Analysis data:",N);const z={marketTrend:N.marketTrend||"Unknown",keyPattern:N.keyPattern||"No clear pattern",indicatorAnalysis:N.indicatorAnalysis||"No indicator analysis",tradeBias:N.tradeBias||"Neutral",confidenceScore:N.confidenceScore||50,rationale:N.rationale||"Analysis incomplete due to missing data",tradeSetup:N.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};z.tradeSetup&&!z.tradeSetup.tradeType&&(z.tradeSetup.tradeType="Long");const V=N.confidenceScore||0,J=N.tradeSetup||{},ae=parseFloat(J.rrr)||0;V>=70&&ae>0?console.log(`Attempt ${m}: High-confidence signal detected (${V}%, RRR: ${ae})`):console.warn(`Attempt ${m}: Low-confidence signal (${V}%, RRR: ${ae}) - Consider retrying`);const P=["tradeSetup"].filter(H=>!N[H]);if(P.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${P.join(", ")}`);console.log(`Attempt ${m}: Using fallback data for missing fields:`,z),N={...N,...z}}if((typeof N.riskPerTrade!="number"||isNaN(N.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),N.riskPerTrade=1),!N.tradeSetup||typeof N.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",N.tradeSetup),new Error("Trade setup data is missing or invalid");const ne=["tradeType","entryPrice","stopLoss","takeProfit"].filter(z=>!N.tradeSetup[z]);if(ne.length>0)throw console.error("Missing required tradeSetup fields:",ne),console.error("Available tradeSetup fields:",Object.keys(N.tradeSetup)),console.error("TradeSetup data:",N.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${ne.join(", ")}`);if(typeof N.confidenceScore!="number"||N.confidenceScore<0||N.confidenceScore>100)throw console.error("Invalid confidence score:",N.confidenceScore),new Error("Confidence score must be a number between 0 and 100");if(!["Bullish","Bearish","Neutral"].includes(N.tradeBias))throw console.error("Invalid trade bias:",N.tradeBias),new Error("Trade bias must be Bullish, Bearish, or Neutral");let ie=N.tradeSetup.tradeType;if(typeof ie=="string"?(ie=ie.trim().toLowerCase(),ie==="long"||ie==="short"?N.tradeSetup.tradeType=ie.charAt(0).toUpperCase()+ie.slice(1):["neutral","no trade","sideways","none","wait","hold","n/a","notrade","flat"].includes(ie)?(console.warn("AI returned neutral/no trade/sideways, fallback to Long"),N.tradeSetup.tradeType="Long"):ie=null):ie=null,!N.tradeSetup.tradeType)if(typeof l=="string"){const z=l.trim().toLowerCase();z==="long"||z==="short"?N.tradeSetup.tradeType=z.charAt(0).toUpperCase()+z.slice(1):(console.warn("Invalid tradeType and tradingMode, fallback to Long"),N.tradeSetup.tradeType="Long")}else console.warn("Invalid tradeType and tradingMode, fallback to Long"),N.tradeSetup.tradeType="Long";const ue=["long","short"];N.tradeSetup.tradeType=x(N.tradeSetup.tradeType,"Long"),N.tradeBias=x(N.tradeBias,N.tradeSetup.tradeType),N.rationale&&/(neutral|hold|observe|sideways|no trade|wait|flat|n\/a)/i.test(N.rationale)&&(N.rationale=`AI forced to choose: ${N.tradeSetup.tradeType} (no neutral/hold allowed).`),N.tradeSetup&&(N.tradeSetup.entryPrice=y(N.tradeSetup.entryPrice),N.tradeSetup.stopLoss=y(N.tradeSetup.stopLoss),N.tradeSetup.takeProfit=y(N.tradeSetup.takeProfit));const D=C.usage?{prompt:C.usage.prompt_tokens||0,completion:C.usage.completion_tokens||0,total:C.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return console.log(`Attempt ${m}: Analysis successful!`),{analysis:N,usage:D}}catch(x){console.error(`Attempt ${m} failed:`,x),c=x instanceof Error?x:new Error(String(x)),m<3&&(console.log(`Retrying with simplified prompt... (attempt ${m+1}/3)`),await new Promise(y=>setTimeout(y,1e3)))}console.error("All analysis attempts failed");const h=`AI analysis failed after all attempts. Last error: ${(c==null?void 0:c.message)||c}`;throw new Error(h)},I_=async(t,r)=>{var a;if(!t)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to GPT-4o...");const l=new AbortController,s=setTimeout(()=>l.abort(),3e4),u=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading performance coach."},{role:"user",content:r}],max_tokens:2048}),signal:l.signal});if(clearTimeout(s),!u.ok){const m=await u.text();console.error("API Error Response:",m);let x;try{x=JSON.parse(m)}catch{x={error:{message:u.statusText}}}throw new Error(((a=x==null?void 0:x.error)==null?void 0:a.message)||`HTTP ${u.status}: ${u.statusText}`)}const c=await u.json();if(console.log("GPT-4o performance response received:",c),!c.choices||!c.choices[0]||!c.choices[0].message)throw new Error("Invalid response format from AI service");const h=c.choices[0].message.content,p=c.usage?{prompt:c.usage.prompt_tokens||0,completion:c.usage.completion_tokens||0,total:c.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:h,usage:p}}catch(l){throw console.error("Error in analyzePerformance:",l),l instanceof Error&&l.name==="AbortError"?new Error("Request timeout. Please try again."):l}},H_=async(t,r,a)=>{var u;if(!t)throw new Error("API key is not set.");if(!r)throw new Error("Portfolio data is not available.");const l=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(r,null,2)}

        Pengguna memiliki pertanyaan berikut: "${a}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to GPT-4o...");const c=new AbortController,h=setTimeout(()=>c.abort(),3e4),p=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:l},{role:"user",content:s}],max_tokens:2048}),signal:c.signal});if(clearTimeout(h),!p.ok){const v=await p.text();console.error("API Error Response:",v);let b;try{b=JSON.parse(v)}catch{b={error:{message:p.statusText}}}throw new Error(((u=b==null?void 0:b.error)==null?void 0:u.message)||`HTTP ${p.status}: ${p.statusText}`)}const m=await p.json();if(console.log("GPT-4o financial advice response received:",m),!m.choices||!m.choices[0]||!m.choices[0].message)throw new Error("Invalid response format from AI service");const x=m.choices[0].message.content,y=m.usage?{prompt:m.usage.prompt_tokens||0,completion:m.usage.completion_tokens||0,total:m.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:x,usage:y}}catch(c){throw console.error("Error in generateFinancialAdvice:",c),c instanceof Error&&c.name==="AbortError"?new Error("Request timeout. Please try again."):c}},$_=async t=>{if(!t)return!1;try{return!0}catch(r){return console.error("API Key validation failed:",r),!1}},F_=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),fl=({buttonMode:t,activeMode:r,onClick:a,children:l})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${r===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:l}),G_=({updateTokenUsage:t,apiKey:r,apiStatus:a,allTrades:l,mode:s,setDashboardSource:u,initialCapital:c,netPL:h,currentEquity:p})=>{const[m,x]=$.useState(""),[y,v]=$.useState(!0),[b,j]=$.useState(!1),[E,C]=$.useState(0),T=$.useMemo(()=>({scalp:l.filter(ie=>ie.mode==="scalp"),swing:l.filter(ie=>ie.mode==="swing"),day:l.filter(ie=>ie.mode==="day"),position:l.filter(ie=>ie.mode==="position")}),[l]),M=$.useMemo(()=>s==="all"?l:T[s],[s,l,T]),N=$.useMemo(()=>L_(l),[l]),F=$.useMemo(()=>{const ie=M.filter(J=>J.status!=="pending"),ue=ie.filter(J=>J.status==="profit").length,D=ie.filter(J=>J.status==="stop-loss").length,z=ue+D;return{winRate:z>0?Math.round(ue/z*100):0,wins:ue,losses:D,totalCompleted:z}},[M]);$.useEffect(()=>{x(""),v(!0)},[r]);const G=["all","scalp","day","swing","position"],R={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},ne=G.map(ie=>{const ue=ie==="all"?l:l.filter(te=>te.mode===ie),D=ue.filter(te=>te.status!=="pending"),z=D.filter(te=>te.status==="profit").length,V=D.filter(te=>te.status==="stop-loss").length,J=z+V,ae=J>0?Math.round(z/J*100):0,oe=D.reduce((te,se)=>se.status==="profit"?te+(se.outcomeAmount||0):se.status==="stop-loss"?te-(se.outcomeAmount||0):te,0),P=ie==="all"?c:0,H=ie==="all"?p:0;return{mode:R[ie],initialCapital:P,netPL:oe,currentEquity:H,totalTrades:ue.length,winRate:ae,wins:z,losses:V,completed:J}});return $.useEffect(()=>{if(s!=="all")return;(async()=>{if(a!=="valid"){x("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),v(!1);return}if(l.length===0){x("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),v(!1);return}v(!0);try{const D=`You are an expert trading performance coach. Here are the user's trading statistics for each mode:

${ne.map(se=>`${se.mode}:
- Initial Capital: $${se.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${se.netPL>=0?"+":""}${se.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${se.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${se.totalTrades}
- Win Rate: ${se.winRate}%
- Wins: ${se.wins}
- Losses: ${se.losses}
- Completed: ${se.completed}`).join(`

`)}

Give a concise, strategic, and insightful summary of the user's overall performance and 1 actionable suggestion for improvement. Keep it short, clear, and professional. Do not include code or JSON.

Jawab seluruh analisis dan saran ini dalam bahasa Indonesia yang jelas, singkat, dan mudah dipahami.`,z=Y_(ne),V="fomo-ai-analysis",J="fomo-ai-hash",ae=localStorage.getItem(J),oe=localStorage.getItem(V);if(ae===z&&oe){x(oe),v(!1);return}const{analysisText:P,usage:H}=await I_(r,D);t(H);const te=P.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();x(te),localStorage.setItem(V,te),localStorage.setItem(J,z)}catch(ue){console.error("Failed to get AI analysis:",ue);const D=ue instanceof Error?ue.message:String(ue);let z="Terjadi kesalahan saat mengambil analisis AI.";D.toLowerCase().includes("quota")||D.toLowerCase().includes("rate limit")?z="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":D.toLowerCase().includes("api key")||D.toLowerCase().includes("unauthorized")?z="API key tidak valid. Silakan periksa pengaturan API key Anda.":D.toLowerCase().includes("network")||D.toLowerCase().includes("fetch")?z="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":D.toLowerCase().includes("invalid response")||D.toLowerCase().includes("format")?z="Format respons AI tidak valid. Silakan coba lagi.":D.toLowerCase().includes("timeout")?z="Request timeout. Silakan coba lagi.":z=`Error: ${D}`,x(z)}finally{v(!1)}})()},[r,a,s,E,ne]),d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto",children:[b&&d.jsx(B_,{profile:N,winRate:F.winRate,totalTrades:F.totalCompleted,onClose:()=>j(!1)}),d.jsxs("header",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("button",{onClick:()=>j(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:N&&N.image&&eo.createElement(N.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),d.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",d.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:s==="all"?"All":s})," trading history."]})]})]})}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[d.jsx(fl,{buttonMode:"all",activeMode:s,onClick:u,children:"All"}),d.jsx(fl,{buttonMode:"scalp",activeMode:s,onClick:u,children:"Scalp"}),d.jsx(fl,{buttonMode:"day",activeMode:s,onClick:u,children:"Day"}),d.jsx(fl,{buttonMode:"swing",activeMode:s,onClick:u,children:"Swing"}),d.jsx(fl,{buttonMode:"position",activeMode:s,onClick:u,children:"Position"})]})]}),d.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(br,{label:"Initial Capital",value:`$${c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(mp,{className:"w-6 h-6"}),color:"violet"}),d.jsx(br,{label:"Net P/L",value:`${h>=0?"+":""}$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(Hg,{className:"w-6 h-6"}),color:h>=0?"green":"red"}),d.jsx(br,{label:"Current Equity",value:`$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(mp,{className:"w-6 h-6"}),color:"blue"}),d.jsx(br,{label:"Total Trades Analyzed",value:l.length,icon:d.jsx($v,{className:"w-6 h-6"}),color:"orange"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(br,{label:"Active Win Rate",value:`${F.winRate}%`,icon:d.jsx(Ig,{className:"w-6 h-6"}),color:"emerald"}),d.jsx(br,{label:"Active Wins",value:F.wins,icon:d.jsx(jr,{className:"w-6 h-6"}),color:"green"}),d.jsx(br,{label:"Active Losses",value:F.losses,icon:d.jsx(gn,{className:"w-6 h-6"}),color:"red"}),d.jsx(br,{label:"Active Completed",value:F.totalCompleted,icon:d.jsx(to,{className:"w-6 h-6"}),color:"violet"})]}),s==="all"&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[d.jsx(no,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),d.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),d.jsx("button",{onClick:()=>C(ie=>ie+1),className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,title:"Refresh AI Analysis",children:"Refresh"})]}),y?d.jsx(F_,{}):m&&(m.toLowerCase().includes("error")||m.toLowerCase().includes("unavailable")||m.toLowerCase().includes("failed")||m.toLowerCase().includes("quota")||m.toLowerCase().includes("terjadi kesalahan"))?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:m}),d.jsxs("button",{onClick:()=>C(ie=>ie+1),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):d.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:d.jsx(Zd,{children:m,remarkPlugins:[tf]})})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:d.jsx(D_,{history:M})})]})]})};function Y_(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}const V_=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],og=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],Q_=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:V_.map((t,r)=>{const a=60+Math.random()*90,l=og[r%og.length];return d.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${l}`,style:{width:`${a}px`,height:`${a}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,a/6)}px`},children:t},t)})}),d.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),X_=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:d.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),d.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),d.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),d.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),d.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),d.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),d.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),d.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),d.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),d.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),td=({icon:t,title:r,description:a})=>d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[d.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:d.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:t})}),d.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),d.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:a})]}),K_=({onNavigate:t})=>d.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[d.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[d.jsx(Q_,{}),d.jsx(X_,{}),d.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",d.jsx("br",{}),d.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),d.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),d.jsx("button",{onClick:()=>t("dashboard"),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),d.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:d.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[d.jsx(td,{icon:d.jsx(no,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),d.jsx(td,{icon:d.jsx(hd,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),d.jsx(td,{icon:d.jsx(Ig,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),ug=({user:t,onNavigate:r,onLogoutClick:a})=>{const[l,s]=$.useState(!1),u=$.useRef(null);return $.useEffect(()=>{const c=h=>{u.current&&!u.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),t?d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{onClick:()=>s(!l),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":l,children:[d.jsx(qv,{className:"h-6 w-6"}),d.jsx("span",{className:"sr-only",children:"Open user menu"})]}),l&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:d.jsxs("div",{className:"py-1",role:"none",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),d.jsxs("button",{onClick:()=>{r("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(md,{className:"w-5 h-5"}),d.jsx("span",{children:"Profile & Settings"})]}),d.jsxs("button",{onClick:()=>{a(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(Vv,{className:"w-5 h-5"}),d.jsx("span",{children:"Logout"})]})]})})]}):null},cg=({onNavigate:t,user:r,onLoginClick:a,onLogoutClick:l,onMobileMenuToggle:s,showUserIcon:u,activeMode:c})=>d.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:d.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&d.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:d.jsx(Xv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),d.jsx("div",{className:"flex-shrink-0 flex items-center",children:d.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[d.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),d.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),d.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[c!=="dashboard"&&d.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),r?d.jsx(d.Fragment,{children:u&&d.jsx(ug,{user:r,onLogoutClick:l,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),d.jsx("div",{className:"lg:hidden flex items-center gap-2",children:r?d.jsx(d.Fragment,{children:u&&d.jsx(ug,{user:r,onLogoutClick:l,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})}),Z_="modulepreload",J_=function(t){return"/fomo/"+t},dg={},Al=function(r,a,l){let s=Promise.resolve();if(a&&a.length>0){let c=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(a.map(m=>{if(m=J_(m),m in dg)return;dg[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":Z_,x||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&u(h.reason);return r().catch(u)})},W_=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:l}=await Promise.resolve().then(()=>ii);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)};class nf extends Error{constructor(r,a="FunctionsError",l){super(r),this.name=a,this.context=l}}class e4 extends nf{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class fg extends nf{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class hg extends nf{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ed;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ed||(Ed={}));var t4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};class n4{constructor(r,{headers:a={},customFetch:l,region:s=Ed.Any}={}){this.url=r,this.headers=a,this.region=s,this.fetch=W_(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var l;return t4(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:c}=a;let h={},{region:p}=a;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x}).catch(E=>{throw new e4(E)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new fg(y);if(!y.ok)throw new hg(y);let b=((l=y.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield y.json():b==="application/octet-stream"?j=yield y.blob():b==="text/event-stream"?j=y:b==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof hg||s instanceof fg?s.context:void 0}}})}}var bt={},$a={},Fa={},Ga={},Ya={},Va={},r4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ni=r4();const a4=ni.fetch,Qx=ni.fetch.bind(ni),Xx=ni.Headers,i4=ni.Request,l4=ni.Response,ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xx,Request:i4,Response:l4,default:Qx,fetch:a4},Symbol.toStringTag,{value:"Module"})),s4=Av(ii);var Gs={},mg;function Kx(){if(mg)return Gs;mg=1,Object.defineProperty(Gs,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Gs.default=t,Gs}var pg;function Zx(){if(pg)return Va;pg=1;var t=Va&&Va.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Va,"__esModule",{value:!0});const r=t(s4),a=t(Kx());class l{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,y,v,b;let j=null,E=null,C=null,T=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const R=await m.text();R===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?E=R:E=JSON.parse(R))}const F=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),G=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");F&&G&&G.length>1&&(C=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(j={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,C=null,T=406,M="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const F=await m.text();try{j=JSON.parse(F),Array.isArray(j)&&m.status===404&&(E=[],j=null,T=200,M="OK")}catch{m.status===404&&F===""?(T=204,M="No Content"):j={message:F}}if(j&&this.isMaybeSingle&&(!((b=j==null?void 0:j.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,T=200,M="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:E,count:C,status:T,statusText:M}});return this.shouldThrowOnError||(p=p.catch(m=>{var x,y,v;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Va.default=l,Va}var gg;function Jx(){if(gg)return Ya;gg=1;var t=Ya&&Ya.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ya,"__esModule",{value:!0});const r=t(Zx());class a extends r.default{select(s){let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:u=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${s}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:u,referencedTable:c=u}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${u-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:u=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const y=[s?"analyze":null,u?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ya.default=a,Ya}var xg;function rf(){if(xg)return Ga;xg=1;var t=Ga&&Ga.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ga,"__esModule",{value:!0});const r=t(Jx());class a extends r.default{eq(s,u){return this.url.searchParams.append(s,`eq.${u}`),this}neq(s,u){return this.url.searchParams.append(s,`neq.${u}`),this}gt(s,u){return this.url.searchParams.append(s,`gt.${u}`),this}gte(s,u){return this.url.searchParams.append(s,`gte.${u}`),this}lt(s,u){return this.url.searchParams.append(s,`lt.${u}`),this}lte(s,u){return this.url.searchParams.append(s,`lte.${u}`),this}like(s,u){return this.url.searchParams.append(s,`like.${u}`),this}likeAllOf(s,u){return this.url.searchParams.append(s,`like(all).{${u.join(",")}}`),this}likeAnyOf(s,u){return this.url.searchParams.append(s,`like(any).{${u.join(",")}}`),this}ilike(s,u){return this.url.searchParams.append(s,`ilike.${u}`),this}ilikeAllOf(s,u){return this.url.searchParams.append(s,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(s,u){return this.url.searchParams.append(s,`ilike(any).{${u.join(",")}}`),this}is(s,u){return this.url.searchParams.append(s,`is.${u}`),this}in(s,u){const c=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cs.{${u.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(u)}`),this}containedBy(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cd.{${u.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(u)}`),this}rangeGt(s,u){return this.url.searchParams.append(s,`sr.${u}`),this}rangeGte(s,u){return this.url.searchParams.append(s,`nxl.${u}`),this}rangeLt(s,u){return this.url.searchParams.append(s,`sl.${u}`),this}rangeLte(s,u){return this.url.searchParams.append(s,`nxr.${u}`),this}rangeAdjacent(s,u){return this.url.searchParams.append(s,`adj.${u}`),this}overlaps(s,u){return typeof u=="string"?this.url.searchParams.append(s,`ov.${u}`):this.url.searchParams.append(s,`ov.{${u.join(",")}}`),this}textSearch(s,u,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${u}`),this}match(s){return Object.entries(s).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(s,u,c){return this.url.searchParams.append(s,`not.${u}.${c}`),this}or(s,{foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,u,c){return this.url.searchParams.append(s,`${u}.${c}`),this}}return Ga.default=a,Ga}var yg;function Wx(){if(yg)return Fa;yg=1;var t=Fa&&Fa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Fa,"__esModule",{value:!0});const r=t(rf());class a{constructor(s,{headers:u={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(u),this.schema=c,this.fetch=h}select(s,{head:u=!1,count:c}={}){const h=u?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:u,defaultToNull:c=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:u,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:u}={}){var c;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var u;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Fa.default=a,Fa}var bg;function o4(){if(bg)return $a;bg=1;var t=$a&&$a.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($a,"__esModule",{value:!0});const r=t(Wx()),a=t(rf());class l{constructor(u,{headers:c={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(u){const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:h=!1,get:p=!1,count:m}={}){var x;let y;const v=new URL(`${this.url}/rpc/${u}`);let b;h||p?(y=h?"HEAD":"GET",Object.entries(c).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{v.searchParams.append(E,C)})):(y="POST",b=c);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new a.default({method:y,url:v,headers:j,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return $a.default=l,$a}var vg;function u4(){if(vg)return bt;vg=1;var t=bt&&bt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const r=t(o4());bt.PostgrestClient=r.default;const a=t(Wx());bt.PostgrestQueryBuilder=a.default;const l=t(rf());bt.PostgrestFilterBuilder=l.default;const s=t(Jx());bt.PostgrestTransformBuilder=s.default;const u=t(Zx());bt.PostgrestBuilder=u.default;const c=t(Kx());return bt.PostgrestError=c.default,bt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:c.default},bt}var c4=u4();const d4=jl(c4),{PostgrestClient:f4,PostgrestQueryBuilder:NN,PostgrestFilterBuilder:AN,PostgrestTransformBuilder:TN,PostgrestBuilder:CN,PostgrestError:ON}=d4;function h4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const m4=h4(),p4="2.11.15",g4=`realtime-js/${p4}`,x4="1.0.0",ey=1e4,y4=1e3;var xl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xl||(xl={}));var Tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tt||(Tt={}));var pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pn||(pn={}));var Nd;(function(t){t.websocket="websocket"})(Nd||(Nd={}));var Kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kr||(Kr={}));class b4{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,a,l)}_decodeBroadcast(r,a,l){const s=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const h=l.decode(r.slice(c,c+s));c=c+s;const p=l.decode(r.slice(c,c+u));c=c+u;const m=JSON.parse(l.decode(r.slice(c,r.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class ty{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const wg=(t,r,a={})=>{var l;const s=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(r).reduce((u,c)=>(u[c]=v4(c,t,r,s),u),{})},v4=(t,r,a,l)=>{const s=r.find(h=>h.name===t),u=s==null?void 0:s.type,c=a[t];return u&&!l.includes(u)?ny(u,c):Ad(c)},ny=(t,r)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return j4(r,a)}switch(t){case Ze.bool:return w4(r);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return k4(r);case Ze.json:case Ze.jsonb:return S4(r);case Ze.timestamp:return _4(r);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Ad(r);default:return Ad(r)}},Ad=t=>t,w4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},k4=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},S4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},j4=(t,r)=>{if(typeof t!="string")return t;const a=t.length-1,l=t[a];if(t[0]==="{"&&l==="}"){let u;const c=t.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>ny(r,h))}return t},_4=t=>typeof t=="string"?t.replace(" ","T"):t,ry=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class nd{constructor(r,a,l={},s=ey){this.channel=r,this.event=a,this.payload=l,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var l;return this._hasReceived(r)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var kg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kg||(kg={}));class yl{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,s,u,c),this.pendingDiffs.forEach(p=>{this.state=yl.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yl.syncDiff(this.state,s,u,c),h())}),this.onJoin((s,u,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:c})}),this.onLeave((s,u,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,l,s){const u=this.cloneDeep(r),c=this.transformState(a),h={},p={};return this.map(u,(m,x)=>{c[m]||(p[m]=x)}),this.map(c,(m,x)=>{const y=u[m];if(y){const v=x.map(C=>C.presence_ref),b=y.map(C=>C.presence_ref),j=x.filter(C=>b.indexOf(C.presence_ref)<0),E=y.filter(C=>v.indexOf(C.presence_ref)<0);j.length>0&&(h[m]=j),E.length>0&&(p[m]=E)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},l,s)}static syncDiff(r,a,l,s){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),s||(s=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=r[h])!==null&&m!==void 0?m:[];if(r[h]=this.cloneDeep(p),x.length>0){const y=r[h].map(b=>b.presence_ref),v=x.filter(b=>y.indexOf(b.presence_ref)<0);r[h].unshift(...v)}l(h,x,p)}),this.map(c,(h,p)=>{let m=r[h];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),r[h]=m,s(h,m,p),m.length===0&&delete r[h]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(l=>a(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,l)=>{const s=r[l];return"metas"in s?a[l]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[l]=s,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Sg||(Sg={}));var jg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(jg||(jg={}));var Fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class af{constructor(r,a={config:{}},l){this.topic=r,this.params=a,this.socket=l,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new nd(this,pn.join,this.params,this.timeout),this.rejoinTimer=new ty(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new yl(this),this.broadcastEndpointURL=ry(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var l,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params;this._onError(x=>r==null?void 0:r(Fn.CHANNEL_ERROR,x)),this._onClose(()=>r==null?void 0:r(Fn.CLOSED));const p={},m={broadcast:u,presence:c,postgres_changes:(s=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){r==null||r(Fn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,j=[];for(let E=0;E<b;E++){const C=v[E],{filter:{event:T,schema:M,table:N,filter:F}}=C,G=x&&x[E];if(G&&G.event===T&&G.schema===M&&G.table===N&&G.filter===F)j.push(Object.assign(Object.assign({},C),{id:G.id}));else{this.unsubscribe(),this.state=Tt.errored,r==null||r(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,r&&r(Fn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Tt.errored,r==null||r(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,l){return this._on(r,a,l)}async send(r,a={}){var l,s;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const m=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Tt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(s=>{l=new nd(this,pn.leave,{},r),l.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,a,l){const s=new AbortController,u=setTimeout(()=>s.abort(),l),c=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(u),c}_push(r,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nd(this,r,a,l);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(r,a,l){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,l){var s,u;const c=r.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=pn;if(l&&[h,p,m,x].indexOf(c)>=0&&l!==this._joinRef())return;let v=this._onMessage(c,a,l);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,E,C;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(E=b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(b=>b.callback(v,l)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var j,E,C,T,M,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const F=b.id,G=(j=b.filter)===null||j===void 0?void 0:j.event;return F&&((E=a.ids)===null||E===void 0?void 0:E.includes(F))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((C=a.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const F=(M=(T=b==null?void 0:b.filter)===null||T===void 0?void 0:T.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return F==="*"||F===((N=a==null?void 0:a.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:E,table:C,commit_timestamp:T,type:M,errors:N}=j;v=Object.assign(Object.assign({},{schema:E,table:C,commit_timestamp:T,eventType:M,new:{},old:{},errors:N}),this._getPayloadRecords(j))}b.callback(v,l)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,l){const s=r.toLocaleLowerCase(),u={type:s,filter:a,callback:l};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(r,a){const l=r.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&af.isEqual(s.filter,a))}),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const l in r)if(r[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(pn.close,{},r)}_onError(r){this._on(pn.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=wg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=wg(r.columns,r.old_record)),a}}const _g=()=>{},E4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N4{constructor(r,a){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ey,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_g,this.ref=0,this.logger=_g,this.conn=null,this.sendBuffer=[],this.serializer=new b4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...h)=>Al(async()=>{const{default:p}=await Promise.resolve().then(()=>ii);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${r}/${Nd.websocket}`,this.httpEndpoint=ry(r),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(u,c)=>c(JSON.stringify(u)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ty(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=m4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x4}))}disconnect(r,a){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,l){this.logger(r,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return Kr.Connecting;case xl.open:return Kr.Open;case xl.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}channel(r,a={config:{}}){const l=`realtime:${r}`,s=this.getChannels().find(u=>u.topic===l);if(s)return s;{const u=new af(`realtime:${r}`,a,this);return this.channels.push(u),u}}push(r){const{topic:a,event:l,payload:s,ref:u}=r,c=()=>{this.encode(r,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${a} ${l} (${u})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){let a=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const s={access_token:a,version:g4};a&&l.updateJoinPayload(s),l.joinedOnce&&l._isJoined()&&l._push(pn.access_token,{access_token:a})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(y4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,a=>{let{topic:l,event:s,payload:u,ref:c}=a;l==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${s} ${c&&"("+c+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(l)).forEach(h=>h._trigger(s,u,c)),this.stateChangeCallbacks.message.forEach(h=>h(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(pn.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const l=r.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${r}${l}${s}`}_workerObjectUrl(r){let a;if(r)a=r;else{const l=new Blob([E4],{type:"application/javascript"});a=URL.createObjectURL(l)}return a}}class lf extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function vt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class A4 extends lf{constructor(r,a){super(r),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Td extends lf{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var T4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};const ay=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:l}=await Promise.resolve().then(()=>ii);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},C4=()=>T4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Al(()=>Promise.resolve().then(()=>ii),void 0)).Response:Response}),Cd=t=>{if(Array.isArray(t))return t.map(a=>Cd(a));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([a,l])=>{const s=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[s]=Cd(l)}),r};var ea=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};const rd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),O4=(t,r,a)=>ea(void 0,void 0,void 0,function*(){const l=yield C4();t instanceof l&&!(a!=null&&a.noResolveJson)?t.json().then(s=>{r(new A4(rd(s),t.status||500))}).catch(s=>{r(new Td(rd(s),s))}):r(new Td(rd(t),t))}),R4=(t,r,a,l)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l&&(s.body=JSON.stringify(l)),Object.assign(Object.assign({},s),a))};function Tl(t,r,a,l,s,u){return ea(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(a,R4(r,l,s,u)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>O4(p,h,l))})})}function oo(t,r,a,l){return ea(this,void 0,void 0,function*(){return Tl(t,"GET",r,a,l)})}function wr(t,r,a,l,s){return ea(this,void 0,void 0,function*(){return Tl(t,"POST",r,l,s,a)})}function D4(t,r,a,l,s){return ea(this,void 0,void 0,function*(){return Tl(t,"PUT",r,l,s,a)})}function L4(t,r,a,l){return ea(this,void 0,void 0,function*(){return Tl(t,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),l)})}function iy(t,r,a,l,s){return ea(this,void 0,void 0,function*(){return Tl(t,"DELETE",r,l,s,a)})}var qt=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};const M4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z4{constructor(r,a={},l,s){this.url=r,this.headers=a,this.bucketId=l,this.fetch=ay(s)}uploadOrUpdate(r,a,l,s){return qt(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Eg),s);let h=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=l,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const m=this._removeEmptyFolders(a),x=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:r,body:u,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}upload(r,a,l){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,l)})}uploadToSignedUrl(r,a,l,s){return qt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",a);try{let p;const m=Object.assign({upsert:Eg.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",m.cacheControl)):(p=l,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:x}),v=yield y.json();return y.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(p){if(vt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,a){return qt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const u=yield wr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:s}),c=new URL(this.url+u.url),h=c.searchParams.get("token");if(!h)throw new lf("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}update(r,a,l){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,l)})}move(r,a,l){return qt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(r,a,l){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(r,a,l){return qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),u=yield wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const c=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(r,a,l){return qt(this,void 0,void 0,function*(){try{const s=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(r,a){return qt(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=u?`?${u}`:"";try{const h=this._getFinalPath(r);return{data:yield(yield oo(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(vt(h))return{data:null,error:h};throw h}})}info(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const l=yield oo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Cd(l),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}exists(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield L4(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(vt(l)&&l instanceof Td){const s=l.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,a){const l=this._getFinalPath(r),s=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&s.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${m}`)}}}remove(r){return qt(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}list(r,a,l){return qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},M4),a),{prefix:r||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},l),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const U4="2.7.1",B4={"X-Client-Info":`storage-js/${U4}`};var Qa=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};class P4{constructor(r,a={},l){this.url=r,this.headers=Object.assign(Object.assign({},B4),a),this.fetch=ay(l)}listBuckets(){return Qa(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}getBucket(r){return Qa(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return Qa(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}updateBucket(r,a){return Qa(this,void 0,void 0,function*(){try{return{data:yield D4(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}emptyBucket(r){return Qa(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Qa(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}}class q4 extends P4{constructor(r,a={},l){super(r,a,l)}from(r){return new z4(this.url,this.headers,r,this.fetch)}}const I4="2.50.4";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const H4={"X-Client-Info":`supabase-js-${hl}/${I4}`},$4={headers:H4},F4={schema:"public"},G4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y4={};var V4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};const Q4=t=>{let r;return t?r=t:typeof fetch>"u"?r=Qx:r=fetch,(...a)=>r(...a)},X4=()=>typeof Headers>"u"?Xx:Headers,K4=(t,r,a)=>{const l=Q4(a),s=X4();return(u,c)=>V4(void 0,void 0,void 0,function*(){var h;const p=(h=yield r())!==null&&h!==void 0?h:t;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},c),{headers:m}))})};var Z4=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};function J4(t){return t.endsWith("/")?t:t+"/"}function W4(t,r){var a,l;const{db:s,auth:u,realtime:c,global:h}=t,{db:p,auth:m,realtime:x,global:y}=r,v={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),c),global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(l=h==null?void 0:h.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Z4(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const ly="2.70.0",Wa=30*1e3,Od=3,ad=Od*Wa,eE="http://localhost:9999",tE="supabase.auth.token",nE={"X-Client-Info":`gotrue-js/${ly}`},Rd="X-Supabase-Api-Version",sy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aE=6e5;class sf extends Error{constructor(r,a,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=l}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iE extends sf{constructor(r,a,l){super(r,a,l),this.name="AuthApiError",this.status=a,this.code=l}}function lE(t){return _e(t)&&t.name==="AuthApiError"}class oy extends sf{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class Er extends sf{constructor(r,a,l,s){super(r,l,s),this.name=a,this.status=l}}class vr extends Er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sE(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Ys extends Er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends Er{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends Er{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oE(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ng extends Er{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dd extends Er{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function id(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Ag extends Er{constructor(r,a,l){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=l}}class bl extends Er{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),uE=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<Tg.length;r+=1)t[Tg[r].charCodeAt(0)]=-2;for(let r=0;r<uo.length;r+=1)t[uo[r].charCodeAt(0)]=r;return t})();function Cg(t,r,a){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;a(uo[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;a(uo[l]),r.queuedBits-=6}}function uy(t,r,a){const l=uE[t];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Og(t){const r=[],a=c=>{r.push(String.fromCodePoint(c))},l={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},u=c=>{fE(c,l,a)};for(let c=0;c<t.length;c+=1)uy(t.charCodeAt(c),s,u);return r.join("")}function cE(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dE(t,r){for(let a=0;a<t.length;a+=1){let l=t.charCodeAt(a);if(l>55295&&l<=56319){const s=(l-55296)*1024&65535;l=(t.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}cE(l,r)}}function fE(t,r,a){if(r.utf8seq===0){if(t<=127){a(t);return}for(let l=1;l<6;l+=1)if((t>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function hE(t){const r=[],a={queue:0,queuedBits:0},l=s=>{r.push(s)};for(let s=0;s<t.length;s+=1)uy(t.charCodeAt(s),a,l);return new Uint8Array(r)}function mE(t){const r=[];return dE(t,a=>r.push(a)),new Uint8Array(r)}function pE(t){const r=[],a={queue:0,queuedBits:0},l=s=>{r.push(s)};return t.forEach(s=>Cg(s,a,l)),Cg(null,a,l),r.join("")}function gE(t){return Math.round(Date.now()/1e3)+t}function xE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},vl=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function yE(t){const r={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,u)=>{r[u]=s})}catch{}return a.searchParams.forEach((l,s)=>{r[s]=l}),r}const cy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:l}=await Promise.resolve().then(()=>ii);return{default:l}},void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},bE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dy=async(t,r,a)=>{await t.setItem(r,JSON.stringify(a))},Xs=async(t,r)=>{const a=await t.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ks=async(t,r)=>{await t.removeItem(r)};class xo{constructor(){this.promise=new xo.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}xo.promiseConstructor=Promise;function ld(t){const r=t.split(".");if(r.length!==3)throw new bl("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!rE.test(r[l]))throw new bl("JWT not in base64url format");return{header:JSON.parse(Og(r[0])),payload:JSON.parse(Og(r[1])),signature:hE(r[2]),raw:{header:r[0],payload:r[1]}}}async function vE(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function wE(t,r){return new Promise((l,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!r(u,null,c)){l(c);return}}catch(c){if(!r(u,c)){s(c);return}}})()})}function kE(t){return("0"+t.toString(16)).substr(-2)}function SE(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let s="";for(let u=0;u<56;u++)s+=a.charAt(Math.floor(Math.random()*l));return s}return crypto.getRandomValues(r),Array.from(r,kE).join("")}async function jE(t){const a=new TextEncoder().encode(t),l=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(l);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}async function _E(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await jE(t);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xa(t,r,a=!1){const l=SE();let s=l;a&&(s+="/PASSWORD_RECOVERY"),await dy(t,`${r}-code-verifier`,s);const u=await _E(l);return[u,l===u?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NE(t){const r=t.headers.get(Rd);if(!r||!r.match(EE))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function AE(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function TE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(t){if(!CE.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var OE=function(t,r){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&r.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(t);s<l.length;s++)r.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(t,l[s])&&(a[l[s]]=t[l[s]]);return a};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RE=[502,503,504];async function Rg(t){var r;if(!bE(t))throw new Dd(Xr(t),0);if(RE.includes(t.status))throw new Dd(Xr(t),t.status);let a;try{a=await t.json()}catch(u){throw new oy(Xr(u),u)}let l;const s=NE(t);if(s&&s.getTime()>=sy["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?l=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(l=a.error_code),l){if(l==="weak_password")throw new Ag(Xr(a),t.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new vr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Ag(Xr(a),t.status,a.weak_password.reasons);throw new iE(Xr(a),t.status||500,l)}const DE=(t,r,a,l)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(l),Object.assign(Object.assign({},s),a))};async function Le(t,r,a,l){var s;const u=Object.assign({},l==null?void 0:l.headers);u[Rd]||(u[Rd]=sy["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const c=(s=l==null?void 0:l.query)!==null&&s!==void 0?s:{};l!=null&&l.redirectTo&&(c.redirect_to=l.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await LE(t,r,a+h,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function LE(t,r,a,l,s,u){const c=DE(r,l,s,u);let h;try{h=await t(a,Object.assign({},c))}catch(p){throw console.error(p),new Dd(Xr(p),0)}if(h.ok||await Rg(h),l!=null&&l.noResolveJson)return h;try{return await h.json()}catch(p){await Rg(p)}}function $n(t){var r;let a=null;BE(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=gE(t.expires_in)));const l=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:a,user:l},error:null}}function Dg(t){const r=$n(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0)&&(r.data.weak_password=t.weak_password),r}function kr(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function ME(t){return{data:t,error:null}}function zE(t){const{action_link:r,email_otp:a,hashed_token:l,redirect_to:s,verification_type:u}=t,c=OE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:r,email_otp:a,hashed_token:l,redirect_to:s,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function UE(t){return t}function BE(t){return t.access_token&&t.refresh_token&&t.expires_in}const sd=["global","local","others"];var PE=function(t,r){var a={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&r.indexOf(l)<0&&(a[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(t);s<l.length;s++)r.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(t,l[s])&&(a[l[s]]=t[l[s]]);return a};class qE{constructor({url:r="",headers:a={},fetch:l}){this.url=r,this.headers=a,this.fetch=cy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a=sd[0]){if(sd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,a={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:a}=r,l=PE(r,["options"]),s=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(s.new_email=l==null?void 0:l.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zE,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(_e(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:kr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,l,s,u,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(u=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:UE});if(x.error)throw x.error;const y=await x.json(),v=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const E=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);m[`${C}Page`]=E}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Ka(r);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:kr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){Ka(r);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,a=!1){Ka(r);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:kr})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){Ka(r.userId);try{const{data:a,error:l}=await Le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:l}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _deleteFactor(r){Ka(r.userId),Ka(r.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}}const IE={getItem:t=>vl()?globalThis.localStorage.getItem(t):null,setItem:(t,r)=>{vl()&&globalThis.localStorage.setItem(t,r)},removeItem:t=>{vl()&&globalThis.localStorage.removeItem(t)}};function Lg(t={}){return{getItem:r=>t[r]||null,setItem:(r,a)=>{t[r]=a},removeItem:r=>{delete t[r]}}}function HE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Za={debug:!!(globalThis&&vl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class $E extends fy{}async function FE(t,r,a){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),Za.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async s=>{if(s){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await a()}finally{Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(r===0)throw Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $E(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Za.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}HE();const GE={url:eE,storageKey:tE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mg(t,r,a){return await a()}class Sl{constructor(r){var a,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},GE),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cy(s.fetch),this.lock=s.lock||Mg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=FE:this.lock=Mg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vl()?this.storage=IE:(this.memoryStorage={},this.storage=Lg(this.memoryStorage)):(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ly}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const a=yE(window.location.href);let l="none";if(this._isImplicitGrantCallback(a)?l="implicit":await this._isPKCECallback(a)&&(l="pkce"),mn()&&this.detectSessionInUrl&&l!=="none"){const{data:s,error:u}=await this._getSessionFromURL(a,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),oE(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return _e(a)?{error:a}:{error:new oy("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,l,s;try{const u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:$n}),{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var a,l,s;try{let u;if("email"in r){const{email:x,password:y,options:v}=r;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Xa(this.storage,this.storageKey)),u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:y,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:j},xform:$n})}else if("phone"in r){const{phone:x,password:y,options:v}=r;u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:$n})}else throw new Vs("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let a;if("email"in r){const{email:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dg})}else if("phone"in r){const{phone:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dg})}else throw new Vs("You must provide either an email or phone number and a password");const{data:l,error:s}=a;return s?{data:{user:null,session:null},error:s}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ys}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:s})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,l,s,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;if(a==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(r){var a,l,s,u,c,h,p,m,x,y,v,b;let j,E;if("message"in r)j=r.message,E=r.signature;else{const{chain:C,wallet:T,statement:M,options:N}=r;let F;if(mn())if(typeof T=="object")F=T;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))F=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=T}const G=new URL((a=N==null?void 0:N.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in F&&F.signIn){const R=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),M?{statement:M}:null));let ne;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")ne=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)ne=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)j=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),E=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${G.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(s=(l=N==null?void 0:N.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(x=N==null?void 0:N.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const R=await F.signMessage(new TextEncoder().encode(j),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=R}}try{const{data:C,error:T}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:pE(E)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:$n});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ys}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(_e(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(r){const a=await Xs(this.storage,`${this.storageKey}-code-verifier`),[l,s]=(a??"").split("/");try{const{data:u,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:$n});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s??null}),error:c})}catch(u){if(_e(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:a,provider:l,token:s,access_token:u,nonce:c}=r,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:s,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$n}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ys}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,l,s,u,c;try{if("email"in r){const{email:h,options:p}=r;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Xa(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:h,options:p}=r,{data:m,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new Vs("You must provide either an email or phone number.")}catch(h){if(_e(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(r){var a,l;try{let s,u;"options"in r&&(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:$n});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var a,l,s;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await Xa(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:ME})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)throw l;if(!a)throw new vr;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:l,type:s,options:u}=r,{error:c}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:l,type:s,options:u}=r,{data:c,error:h}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Vs("You must provide either an email or phone number and a type")}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.storage.isServer){let c=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,m,x)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,x))})}return{data:{session:r},error:null}}const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:kr}):await this._useSession(async a=>{var l,s,u;const{data:c,error:h}=a;if(h)throw h;return!(!((l=c.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:kr})})}catch(a){if(_e(a))return sE(a)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async l=>{const{data:s,error:u}=l;if(u)throw u;if(!s.session)throw new vr;const c=s.session;let h=null,p=null;this.flowType==="pkce"&&r.email!=null&&([h,p]=await Xa(this.storage,this.storageKey));const{data:m,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:kr});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(l){if(_e(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vr;const a=Date.now()/1e3;let l=a,s=!0,u=null;const{payload:c}=ld(r.access_token);if(c.exp&&(l=c.exp,s=l<=a),s){const{session:h,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:h.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(_e(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var l;if(!r){const{data:c,error:h}=a;if(h)throw h;r=(l=c.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new vr;const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r,a){try{if(!mn())throw new Qs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Qs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Ng("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ng("No code detected.");const{data:M,error:N}=await this._exchangeCodeForSession(r.code);if(N)throw N;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:s,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=r;if(!u||!h||!c||!m)throw new Qs("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let v=x+y;p&&(v=parseInt(p));const b=v-x;b*1e3<=Wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const j=v-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:E,error:C}=await this._getUser(u);if(C)throw C;const T={provider_token:l,provider_refresh_token:s,access_token:u,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(l){if(_e(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:s,error:u}=a;if(u)return{error:u};const c=(l=s.session)===null||l===void 0?void 0:l.access_token;if(c){const{error:h}=await this.admin.signOut(c,r);if(h&&!(lE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return r!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=xE(),l={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async a=>{var l,s;try{const{data:{session:u},error:c}=a;if(c)throw c;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,a={}){let l=null,s=null;this.flowType==="pkce"&&([l,s]=await Xa(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:a,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:l,error:s}=await this._useSession(async u=>{var c,h,p,m,x;const{data:y,error:v}=u;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=r.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return mn()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(_e(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var l,s;const{data:u,error:c}=a;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await wE(async s=>(s>0&&await vE(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:$n})),(s,u)=>{const c=200*Math.pow(2,s);return u&&id(u)&&Date.now()+c-l<Wa})}catch(l){if(this._debug(a,"error",l),_e(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",l),mn()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Xs(this.storage,this.storageKey);if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const s=((r=l.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ad;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${ad}s`),s){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),id(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var a,l;if(!r)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xo;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new vr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(s,"error",u),_e(u)){const c={session:null,error:u};return id(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,a,l=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(r,a)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await dy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Wa);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((l.expires_at*1e3-r)/Wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wa}ms, refresh threshold is ${Od} ticks`),s<=Od&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof fy)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,l){const s=[`provider=${encodeURIComponent(a)}`];if(l!=null&&l.redirectTo&&s.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&s.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,c]=await Xa(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);s.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&s.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var l,s;const{data:u,error:c}=a;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(r==null?void 0:r.factors)||[],s=l.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=l.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:l,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,l;const{data:{session:s},error:u}=r;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ld(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((l=(a=s.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const x=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,a={keys:[]}){let l=a.keys.find(c=>c.kid===r);if(l||(l=this.jwks.keys.find(c=>c.kid===r),l&&this.jwks_cached_at+aE>Date.now()))return l;const{data:s,error:u}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!s.keys||s.keys.length===0)throw new bl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),l=s.keys.find(c=>c.kid===r),!l)throw new bl("No matching signing key found in JWKS");return l}async getClaims(r,a={keys:[]}){try{let l=r;if(!l){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};l=b.session.access_token}const{header:s,payload:u,signature:c,raw:{header:h,payload:p}}=ld(l);if(AE(u.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(l);if(b)throw b;return{data:{claims:u,header:s,signature:c},error:null}}const m=TE(s.alg),x=await this.fetchJwk(s.kid,a),y=await crypto.subtle.importKey("jwk",x,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,mE(`${h}.${p}`)))throw new bl("Invalid JWT signature");return{data:{claims:u,header:s,signature:c},error:null}}catch(l){if(_e(l))return{data:null,error:l};throw l}}}Sl.nextInstanceID=0;const YE=Sl;class VE extends YE{constructor(r){super(r)}}var QE=function(t,r,a,l){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(l.next(x))}catch(y){c(y)}}function p(x){try{m(l.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((l=l.apply(t,r||[])).next())})};class XE{constructor(r,a,l){var s,u,c;if(this.supabaseUrl=r,this.supabaseKey=a,!r)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const h=J4(r),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:F4,realtime:Y4,auth:Object.assign(Object.assign({},G4),{storageKey:m}),global:$4},y=W4(l??{},x);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=K4(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new f4(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new n4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new q4(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},l={}){return this.rest.rpc(r,a,l)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return QE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,storageKey:u,flowType:c,lock:h,debug:p},m,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VE({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:r,persistSession:a,detectSessionInUrl:l,storage:s,flowType:c,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new N4(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,a,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KE=(t,r,a)=>new XE(t,r,a),ZE="https://vqzivktsvicvbdsuouap.supabase.co",JE="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",Jt=(t,r,a)=>{const l=`There was a problem trying to ${t} data for the '${r}' table.`,u=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(a);if(u.toLowerCase().includes('column "user_id" does not exist')||u.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(u.toLowerCase().includes("failed to fetch"))return`${l}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const c=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${r}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${l}

${c}

Technical Details:
${u}`},Sr=KE(ZE,JE),WE=async(t,{email:r,password:a,nama:l})=>{const{data:s,error:u}=await t.auth.signUp({email:r,password:a,options:{data:{nama:l}}});if(u)throw u.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",u),new Error(`Failed to sign up: ${u.message}`));return s},eN=async(t,{email:r,password:a})=>{const{data:l,error:s}=await t.auth.signInWithPassword({email:r,password:a});if(s)throw s;return l},tN=async t=>{const{error:r}=await t.auth.signOut();if(r)throw r},nN=(t,r)=>{const{data:{subscription:a}}=t.auth.onAuthStateChange((l,s)=>{r(s)});return a},rN=async(t,r)=>{try{const{data:a,error:l}=await t.from("users").select("*").eq("id",r).single();if(l){if(l.code==="PGRST116")return console.warn(`No profile found for user ${r}. A new one may need to be created if this is unexpected.`),null;throw l}return a}catch(a){const l=Jt(`fetch profile for user ${r}`,"users",a);return console.error(l),null}},zg=async(t,r)=>{const{data:a,error:l}=await t.from("trades").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(l){const s=Jt("fetch","trades",l);throw console.error(s),new Error(s)}return(a||[]).map(s=>({id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:s.trade_setup,rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}))},hy=async(t,r,a)=>{const{error:l}=await t.from("users").update({initial_trade:a}).eq("id",r);if(l){const s=Jt(`update initial capital for user ${r}`,"users",l);throw console.error(s),new Error(s)}},aN=async(t,r,a,l)=>{const{error:s}=await t.from("users").update({nama:a,describe:l}).eq("id",r);if(s){const u=Jt(`update profile for user ${r}`,"users",s);throw console.error(u),new Error(u)}},iN=async(t,r,a)=>{const l={user_id:a,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:r.tradeSetup,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount??null},{data:s,error:u}=await t.from("trades").insert(l).select().single();if(u){const h=Jt("add","trades",u);throw console.error(h),new Error(h)}if(!s)throw new Error("Failed to add trade: no data returned.");const c=s;return{id:c.id,timestamp:c.created_at,image:c.image,mode:c.mode,marketTrend:c.market_trend,keyPattern:c.key_pattern,indicatorAnalysis:c.indicator_analysis,tradeBias:c.trade_bias,tradeSetup:c.trade_setup,rationale:c.rationale,confidenceScore:c.confidence_score,status:c.status,outcomeAmount:c.outcome_amount??void 0,riskPerTrade:0}},lN=async(t,r,a,l,s)=>{const{error:u}=await t.from("trades").update({status:a,outcome_amount:l}).eq("id",r).eq("user_id",s);if(u){const c=Jt(`update status for trade ${r}`,"trades",u);throw console.error(c),new Error(c)}},sN=async(t,r,a)=>{const{error:l}=await t.from("trades").delete().eq("id",r).eq("user_id",a);if(l){const s=Jt(`delete trade ${r}`,"trades",l);throw console.error(s),new Error(s)}},oN=async(t,r)=>{const{data:a,error:l}=await t.from("portfolio_assets").select("*").eq("user_id",r).order("symbol",{ascending:!0});if(l){const s=Jt("fetch portfolio assets","portfolio_assets",l);throw console.error(s),new Error(s)}return a||[]},uN=async(t,r,a)=>{const l={user_id:a,symbol:r.symbol,name:r.name,logo_url:r.logo_url||"",amount:r.amount,avg_buy_price:r.avg_buy_price,current_price:r.current_price},{data:s,error:u}=await t.from("portfolio_assets").insert(l).select().single();if(u){const c=Jt("add portfolio asset","portfolio_assets",u);throw console.error(c),new Error(c)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},cN=async(t,r,a,l)=>{const{error:s}=await t.from("portfolio_assets").update(a).eq("id",r).eq("user_id",l);if(s){const u=Jt(`update portfolio asset ${r}`,"portfolio_assets",s);throw console.error(u),new Error(u)}},dN=async(t,r,a)=>{const{error:l}=await t.from("portfolio_assets").delete().eq("id",r).eq("user_id",a);if(l){const s=Jt(`delete portfolio asset ${r}`,"portfolio_assets",l);throw console.error(s),new Error(s)}},my=async(t,r)=>{try{const a=await oN(t,r);let l=0,s=0,u=0;const c=a.map(m=>{const x=m.current_price/(1+(Math.random()-.5)*.04),y=m.amount*m.current_price,v=(m.current_price-m.avg_buy_price)*m.amount,b=m.amount*x,j=y-b;return l+=y,s+=v,u+=j,{id:m.id,symbol:m.symbol,name:m.name,logoUrl:m.logo_url,amount:m.amount,avgBuyPrice:m.avg_buy_price,currentPrice:m.current_price,value:y,totalPl:v}}),h=l-u,p=h>0?u/h*100:0;return{assets:c,totalValue:l,totalPl:s,pl24h:u,pl24hPercent:p}}catch(a){return console.error("Error fetching portfolio data:",a),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},fN=async t=>{try{const{data:r,error:a}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(a){if(a.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw a}return r}catch(r){const a=Jt("fetch","settings",r);throw console.error(a),new Error(a)}},hN=async(t,r)=>{const{error:a}=await t.from("settings").update({gemini_api_key:r}).eq("id",1);if(a){const l=Jt("update Gemini API key in","settings",a);throw console.error(l),new Error(l)}},Ug=({supabaseClient:t,onClose:r})=>{const[a,l]=$.useState("login"),[s,u]=$.useState(""),[c,h]=$.useState(""),[p,m]=$.useState(""),[x,y]=$.useState(!0),[v,b]=$.useState(!1),[j,E]=$.useState("");$.useEffect(()=>{const N=F=>{F.key==="Escape"&&r()};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[r]),$.useEffect(()=>{const N=localStorage.getItem("rememberedEmail");N?(u(N),y(!0)):y(!1)},[]);const C=N=>/^\S+@\S+\.\S+$/.test(N),T=async N=>{if(N.preventDefault(),b(!0),E(""),!C(s)){E("Please enter a valid email address."),b(!1);return}if(c.length<6){E("Password must be at least 6 characters."),b(!1);return}if(a==="register"&&p.trim().length<2){E("Name must be at least 2 characters."),b(!1);return}try{a==="login"?(await eN(t,{email:s,password:c}),x?localStorage.setItem("rememberedEmail",s):localStorage.removeItem("rememberedEmail")):await WE(t,{email:s,password:c,nama:p})}catch(F){E(F.message||"An unexpected error occurred.")}finally{b(!1)}},M=()=>{l(a==="login"?"register":"login"),E(""),h(""),m("")};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:N=>N.stopPropagation(),children:[d.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:d.jsx(gn,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:a==="login"?"Welcome Back":"Create Account"}),d.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:a==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),d.jsxs("form",{onSubmit:T,className:"mt-8 space-y-6",children:[a==="register"&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:p,onChange:N=>m(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:N=>u(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:a==="login"?"current-password":"new-password",required:!0,value:c,onChange:N=>h(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),a==="login"&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:N=>y(N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),j&&d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:j}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:v?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):a==="login"?"Sign in":"Register"})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a==="login"?"Don't have an account?":"Already have an account?",d.jsx("button",{onClick:M,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:a==="login"?"Register":"Sign in"})]})})]})})},mN=({initialCapital:t,supabaseClient:r,user:a,userProfile:l,geminiApiKey:s,apiStatus:u,onApiKeyUpdate:c,onCapitalUpdate:h,onProfileUpdate:p,onWithdraw:m})=>{const[x,y]=$.useState(s),[v,b]=$.useState(!1),[j,E]=$.useState(""),[C,T]=$.useState(!1),[M,N]=$.useState(String(t)),[F,G]=$.useState(!1),[R,ne]=$.useState(""),[ie,ue]=$.useState(!1),[D,z]=$.useState(""),[V,J]=$.useState(!1),[ae,oe]=$.useState(""),[P,H]=$.useState(!1),[te,se]=$.useState(""),[k,X]=$.useState(""),[W,_]=$.useState(!1),[ce,ge]=$.useState(""),[fe,$e]=$.useState(!1);$.useEffect(()=>{l&&(se(l.nama||""),X(l.describe||""))},[l]),$.useEffect(()=>{N(String(t))},[t]),$.useEffect(()=>{y(s)},[s]);const je=async()=>{if(b(!0),E(""),T(!1),!x.trim()){E("API Key cannot be empty."),T(!0),b(!1),setTimeout(()=>E(""),5e3);return}try{await c(x),E("API Key updated and verified successfully!"),T(!1)}catch(Ce){const st=Ce instanceof Error?Ce.message:"Failed to save or verify API key.";E(st),T(!0)}finally{b(!1),setTimeout(()=>E(""),5e3)}},et=async()=>{if(G(!0),ne(""),ue(!1),!r||!a){ne("You must be logged in to save settings."),ue(!0),G(!1);return}const Ce=Number(M);if(isNaN(Ce)||Ce<0){ne("Please enter a valid positive number."),ue(!0),G(!1);return}try{await hy(r,a.id,Ce),h(Ce),ne("Base capital updated successfully!"),ue(!1),setTimeout(()=>ne(""),3e3)}catch(st){const ht=st instanceof Error?st.message:"Failed to save capital to the database.";ne(ht),ue(!0)}finally{G(!1)}},Ve=async()=>{J(!0),oe(""),H(!1);const Ce=Number(D);if(isNaN(Ce)||Ce<=0){oe("Please enter a valid positive withdrawal amount."),H(!0),J(!1);return}if(Ce>t){oe("Withdrawal amount cannot exceed your current capital."),H(!0),J(!1);return}try{await m(Ce),oe("Withdrawal successful!"),H(!1),z(""),setTimeout(()=>oe(""),3e3)}catch(st){const ht=st instanceof Error?st.message:"Failed to process withdrawal.";oe(ht),H(!0)}finally{J(!1)}},_t=async()=>{if(_(!0),ge(""),$e(!1),!r||!a){ge("You must be logged in to save settings."),$e(!0),_(!1);return}if(te.trim().length<2){ge("Name must be at least 2 characters."),$e(!0),_(!1);return}if(k.length>200){ge("Description cannot exceed 200 characters."),$e(!0),_(!1);return}try{await aN(r,a.id,te,k),p({name:te,description:k}),ge("Profile updated successfully!"),$e(!1),setTimeout(()=>ge(""),3e3)}catch(Ce){const st=Ce instanceof Error?Ce.message:"Failed to save profile to the database.";ge(st),$e(!0)}finally{_(!1)}};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),d.jsxs("main",{className:"space-y-8",children:[d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:te,onChange:Ce=>se(Ce.target.value),placeholder:"Your Name",disabled:!r||!a||W})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),d.jsx("div",{className:"mt-1",children:d.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:k,onChange:Ce=>X(Ce.target.value),placeholder:"A short bio about your trading style",disabled:!r||!a||W})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:_t,disabled:!r||!a||W,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:W?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),d.jsx("div",{className:"h-5 mt-2",children:ce&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${fe?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[fe?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(jr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:ce})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (GPT-4o)"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your GPT-4o (OpenAI) API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),d.jsx("div",{className:"mt-1 flex items-center gap-2",children:d.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:x,onChange:Ce=>y(Ce.target.value),placeholder:"Enter your GPT-4o API Key",disabled:!r||!a||v})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:je,disabled:!r||!a||v||u==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v||u==="verifying"?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),d.jsx("div",{className:"h-5 mt-2",children:j&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${C?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[C?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(jr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:j})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),d.jsxs("div",{className:"max-w-xl",children:[d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),d.jsx("input",{type:"number",id:"initialCapital",disabled:!r||!a||F,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:M,onChange:Ce=>N(Ce.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:et,disabled:!r||!a||F,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:F?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),d.jsx("div",{className:"h-5 mt-2",children:R&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${ie?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ie?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(jr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:R})]})})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),d.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!r||!a||V,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:D,onChange:Ce=>z(Ce.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:Ve,disabled:!r||!a||V||!D,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:V?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),d.jsx("div",{className:"h-5 mt-2",children:ae&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${P?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[P?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(jr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:ae})]})})]})]})]})]})]})]})},Zs=[{id:1,time:"00:30",currency:"AUD",flag:"🇦🇺",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"🇦🇺",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"🇯🇵",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"🇪🇺",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"🇪🇺",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"🇪🇺",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"🇺🇸",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"🇺🇸",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"🇨🇦",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"🇺🇸",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"🇨🇳",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"🇺🇸",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"🇬🇧",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],pN=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),d.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),gN=()=>{const[t,r]=$.useState("today"),a=$.useMemo(()=>{switch(t){case"today":return Zs.slice(0,10);case"tomorrow":return Zs.slice(10);case"thisWeek":return Zs;case"nextWeek":return[];default:return Zs}},[t]),l=({buttonFilter:c,children:h})=>d.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===c?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),s=({count:c})=>d.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,p)=>d.jsx("svg",{className:`w-4 h-4 ${p<c?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),u=({value:c,better:h})=>{const p=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return d.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${p}`,children:c||"-"})};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),d.jsx(pN,{}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[d.jsx(l,{buttonFilter:"today",children:"Today"}),d.jsx(l,{buttonFilter:"tomorrow",children:"Tomorrow"}),d.jsx(l,{buttonFilter:"thisWeek",children:"This Week"}),d.jsx(l,{buttonFilter:"nextWeek",children:"Next Week"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(c=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.time}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{children:c.flag}),d.jsx("span",{children:c.currency})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(s,{count:c.importance})}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.event}),d.jsx(u,{value:c.actual,better:c.betterThanForecast}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.forecast||"-"}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.previous||"-"})]},c.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},Ld=({isOpen:t,onClose:r,onConfirm:a,title:l,message:s,confirmText:u="Confirm",cancelText:c="Cancel",isDestructive:h=!1,isLoading:p=!1})=>{if($.useEffect(()=>{const v=b=>{b.key==="Escape"&&r()};return t&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[t,r]),!t)return null;const m=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",x=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=h?d.jsx(qg,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):d.jsx(co,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[d.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${x}`,children:y}),d.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:l}),d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),d.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[d.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:a,disabled:p,children:p?d.jsx(Zr,{className:"w-5 h-5 animate-spin"}):u}),d.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:r,disabled:p,children:c})]})]})})},xN=t=>t?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${t.toLowerCase()}.svg`:"",od="https://via.placeholder.com/32x32?text=?",yN=({userId:t,assets:r,onAssetAdded:a,onAssetUpdated:l,onAssetDeleted:s})=>{const[u,c]=$.useState(!1),[h,p]=$.useState(null),[m,x]=$.useState(!1),[y,v]=$.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[b,j]=$.useState(null),[E,C]=$.useState(null),[T,M]=$.useState(!1),N=()=>{v({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),c(!1),p(null)},F=z=>{const{name:V,value:J}=z.target;if(V==="symbol")v(ae=>({...ae,symbol:J.toUpperCase()}));else if(V==="amount"){const ae=J.replace(/[^0-9eE.-]/g,"");v(oe=>({...oe,amount:ae}))}else v(ae=>({...ae,[V]:V==="avgBuyPrice"||V==="currentPrice"?parseFloat(J)||0:J}))},G=async z=>{if(z.preventDefault(),j(null),!Sr){j("Database connection not available");return}const V=parseFloat(y.amount);if(isNaN(V)||V<0){j("Amount harus berupa angka valid dan lebih dari 0");return}x(!0);try{const J=xN(y.symbol)||od;console.log("[DEBUG] Mulai handleSubmit",{formData:y,parsedAmount:V,logoUrl:J,userId:t}),h?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await cN(Sr,h.id,{amount:V,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice,logo_url:J},t),console.log("[DEBUG] Setelah updatePortfolioAsset"),l()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:J,amount:V,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),await uN(Sr,{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:J,amount:V,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),console.log("[DEBUG] Setelah addPortfolioAsset"),a()),N()}catch(J){console.error("[DEBUG] Error saving asset:",J),j("Gagal menyimpan asset: "+((J==null?void 0:J.message)||J))}finally{x(!1),console.log("[DEBUG] Selesai handleSubmit")}},R=z=>{p(z),v({symbol:z.symbol,name:z.name,amount:z.amount.toString(),avgBuyPrice:z.avgBuyPrice,currentPrice:z.currentPrice,category:z.category??""})},ne=z=>{C(z),M(!0)},ie=async()=>{if(!(!Sr||!(E!=null&&E.id))){x(!0);try{await dN(Sr,E.id,t),s(),M(!1),C(null)}catch(z){console.error("Error deleting asset:",z),alert("Error deleting asset. Please try again.")}finally{x(!1)}}},ue=()=>{M(!1),C(null)},D=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(z);return d.jsxs("div",{className:"space-y-6",children:[b&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:b}),d.jsx("button",{onClick:()=>j(null),className:"absolute top-1 right-2 text-xl font-bold",children:"×"})]}),!u&&!h&&d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(u||h)&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:h?"Edit Asset":"Add New Asset"}),d.jsxs("form",{onSubmit:G,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),d.jsx("input",{type:"text",name:"symbol",value:y.symbol,onChange:F,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:y.name,onChange:F,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),d.jsx("input",{type:"text",name:"amount",value:y.amount,onChange:F,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),d.jsx("input",{type:"number",name:"avgBuyPrice",value:y.avgBuyPrice,onChange:F,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),d.jsx("input",{type:"number",name:"currentPrice",value:y.currentPrice,onChange:F,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),d.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:y.category,onChange:z=>v({...y,category:z.target.value}),required:!0,children:[d.jsx("option",{value:"Crypto",children:"Crypto"}),d.jsx("option",{value:"Saham",children:"Saham"}),d.jsx("option",{value:"Gold",children:"Gold"}),d.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":h?"Update Asset":"Add Asset"}),d.jsx("button",{type:"button",onClick:N,disabled:m,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),r.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",r.length,")"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.map(z=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:z.logoUrl||od,alt:z.name,className:"h-8 w-8 rounded-full mr-3",onError:V=>{V.currentTarget.src=od}}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:z.name}),d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:z.symbol})]})]})}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:z.amount.toLocaleString()}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:D(z.avgBuyPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:D(z.currentPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:D(z.value??0)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsxs("span",{className:(z.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(z.totalPl??0)>=0?"+":"",D(z.totalPl??0)]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center gap-2",children:[d.jsx("button",{onClick:()=>R(z),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("button",{onClick:()=>ne(z),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},z.id))})]})})]}),r.length===0&&!u&&!h&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),d.jsx(Ld,{isOpen:T,onClose:ue,onConfirm:ie,title:"Delete Asset",message:`Are you sure you want to delete ${E==null?void 0:E.name} (${E==null?void 0:E.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:m})]})},ud=({label:t,value:r,subvalue:a,valueColor:l})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`text-3xl font-bold mt-2 ${l||"text-slate-800 dark:text-slate-100"}`,children:r}),a&&d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:a})]}),bN=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),vN=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),d.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),wN=({apiKey:t,apiStatus:r,portfolioData:a,updateTokenUsage:l,userId:s})=>{const[u,c]=$.useState(""),[h,p]=$.useState(!1),[m,x]=$.useState(""),[y,v]=$.useState(!1),[b,j]=$.useState(!1),[E,C]=$.useState(a),[T,M]=$.useState(!1),[N,F]=$.useState(null),G=(H,te=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:te,maximumFractionDigits:te}).format(H),R=$.useCallback(async()=>{if(!s){C(null),F("Anda harus login untuk melihat portfolio.");return}j(!0),F(null);try{const H=await my(Sr,s);C(H)}catch(H){console.error("Error fetching portfolio data:",H),C(null),F("Gagal mengambil data portfolio: "+((H==null?void 0:H.message)||H))}finally{j(!1)}},[s]),ne=$.useCallback(async H=>{if(r!=="valid"){c("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),p(!1);return}p(!0);try{const{analysisText:te,usage:se}=await H_(t,E,H);c(te),l(se)}catch(te){console.error("Failed to get AI financial advice:",te);const se=te instanceof Error?te.message:String(te);let k="Terjadi kesalahan saat mengambil saran keuangan AI.";se.toLowerCase().includes("quota")||se.toLowerCase().includes("rate limit")?k="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":se.toLowerCase().includes("api key")||se.toLowerCase().includes("unauthorized")?k="API key tidak valid. Silakan periksa pengaturan API key Anda.":se.toLowerCase().includes("network")||se.toLowerCase().includes("fetch")?k="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":se.toLowerCase().includes("invalid response")||se.toLowerCase().includes("format")?k="Format respons AI tidak valid. Silakan coba lagi.":se.toLowerCase().includes("portfolio data")?k="Data portfolio tidak tersedia. Silakan muat ulang halaman.":se.toLowerCase().includes("timeout")?k="Request timeout. Silakan coba lagi.":k=`Error: ${se}`,c(k)}finally{p(!1)}},[t,r,E,l]);$.useEffect(()=>{if(!s){C(null),F("Anda harus login untuk melihat portfolio.");return}R()},[R,s]),$.useEffect(()=>{E&&!y&&(ne("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[E,ne,y]);const ie=H=>{H.preventDefault(),m.trim()&&ne(m)};if(!s)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(b)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!E)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),d.jsx("button",{onClick:R,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:ue,totalPl:D,pl24h:z,pl24hPercent:V,assets:J}=E,ae=D>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",oe=z>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",P=z>=0?"+":"";return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[N&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:N}),d.jsx("button",{onClick:()=>F(null),className:"absolute top-1 right-2 text-xl font-bold",children:"×"})]}),d.jsxs("header",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),d.jsxs("button",{onClick:()=>M(!T),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),T?"Hide Manager":"Manage Assets"]})]}),T&&s&&d.jsx(yN,{userId:s,assets:J,onAssetAdded:R,onAssetUpdated:R,onAssetDeleted:R}),d.jsx(vN,{}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(ud,{label:"Total Portfolio Value",value:G(ue),subvalue:"Across all tracked assets"}),d.jsx(ud,{label:"Total Profit / Loss",value:G(D),valueColor:ae,subvalue:"Represents overall unrealized P/L"}),d.jsx(ud,{label:"24-Hour Change",value:`${P}${G(z)}`,valueColor:oe,subvalue:`${P}${V.toFixed(2)}%`})]}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),d.jsx("tbody",{children:J.map(H=>d.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[d.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[d.jsx("img",{src:H.logoUrl,alt:H.name,className:"h-8 w-8"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:H.name}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:H.symbol})]})]}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:H.amount.toLocaleString()}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:G(H.currentPrice,2)})]}),d.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:G(H.avgBuyPrice,2)}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:G(H.value??0)}),d.jsxs("p",{className:`text-xs font-semibold ${(H.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[(H.totalPl??0)>=0?"+":"",G(H.totalPl??0)]})]})]},H.symbol))})]})})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(no,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:m,onChange:H=>x(H.target.value),onKeyPress:H=>{H.key==="Enter"&&ie(H)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),d.jsx("button",{onClick:ie,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:d.jsx(no,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),h?d.jsx(bN,{}):d.jsx("div",{className:"prose dark:prose-invert",children:d.jsx(Zd,{remarkPlugins:[tf],children:u})})]})]})]})]})},Bg=()=>d.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:d.jsx(Iv,{className:"h-8 w-8 text-red-400"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),d.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),d.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),d.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),d.jsxs("li",{children:["Go to your ",d.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),d.jsxs("li",{children:["Navigate to: ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),d.jsxs("li",{children:["Find the ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),d.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),d.jsxs("li",{children:["Click ",d.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[d.jsx(Yv,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),cd={scalp:{title:"Scalp Trading",icon:d.jsx(to,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:d.jsx(dd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:d.jsx(ro,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:d.jsx(fd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},kN=()=>d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(qg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 dark:text-yellow-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200 leading-relaxed",children:[d.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),d.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),SN=({text:t})=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:t})})]})}),Pg=({tabName:t,activeTab:r,setActiveTab:a,children:l})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 sm:px-6 py-2 text-xs sm:text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${r===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:l});function jN(t){return t==="home"}function _N(){const[t,r]=$.useState("light"),[a,l]=$.useState("home"),[s,u]=$.useState("all"),[c,h]=$.useState(!1),[p,m]=$.useState(null),[x,y]=$.useState(null),[v,b]=$.useState(null),[j,E]=$.useState(!1),[C,T]=$.useState(""),[M,N]=$.useState("idle"),[F,G]=$.useState(1e4),[R,ne]=$.useState(0),[ie,ue]=$.useState(0),[D,z]=$.useState("setup"),[V,J]=$.useState(!1),[ae,oe]=$.useState(!1),[P,H]=$.useState(!1),[te,se]=$.useState(null),[k,X]=$.useState(!1),[W,_]=$.useState(null),[ce,ge]=$.useState([]),[fe,$e]=$.useState(null),[je,et]=$.useState(null),[Ve,_t]=$.useState(null),[Ce,st]=$.useState(cd.scalp.initialRiskParams);$.useEffect(()=>{const ee=localStorage.getItem("activeMode");ee&&ee!=="home"&&l(ee)},[]),$.useEffect(()=>{a!=="home"&&localStorage.setItem("activeMode",a)},[a]),$.useEffect(()=>{const ee=localStorage.getItem("activeTab");ee&&z(ee)},[]),$.useEffect(()=>{localStorage.setItem("activeTab",D)},[D]),$.useEffect(()=>{W?localStorage.setItem("currentAnalysis",JSON.stringify(W)):localStorage.removeItem("currentAnalysis")},[W]),$.useEffect(()=>{const ee=localStorage.getItem("currentAnalysis");if(ee)try{const de=JSON.parse(ee);_(de)}catch(de){console.error("Failed to parse saved analysis:",de),localStorage.removeItem("currentAnalysis")}},[]),$.useEffect(()=>{localStorage.setItem("riskParams",JSON.stringify(Ce))},[Ce]),$.useEffect(()=>{const ee=localStorage.getItem("riskParams");if(ee)try{const de=JSON.parse(ee);st(de)}catch(de){console.error("Failed to parse saved risk params:",de),localStorage.removeItem("riskParams")}},[]),$.useEffect(()=>{const ee=()=>{if(!document.hidden){const de=localStorage.getItem("activeMode");de&&de!==a&&de!=="home"&&l(de)}};return document.addEventListener("visibilitychange",ee),()=>{document.removeEventListener("visibilitychange",ee)}},[a]),$.useEffect(()=>{a==="dashboard"&&u("all")},[a]);const ht=$.useCallback(ee=>{const de=ee instanceof Error?ee.message:String(ee);de.includes("Cross-Origin Resource Sharing")?(X(!0),console.error(ee)):se(de)},[]),Yn=$.useCallback(async ee=>{if(!ee){N("idle"),T("");return}T(ee),N("verifying");const de=await $_(ee);N(de?"valid":"invalid")},[]),{netPL:Vn}=$.useMemo(()=>({netPL:ce.filter(ye=>ye.status!=="pending"&&ye.outcomeAmount!==void 0).reduce((ye,me)=>me.status==="profit"?ye+(me.outcomeAmount||0):me.status==="stop-loss"?ye-(me.outcomeAmount||0):ye,0)}),[ce]),nt=$.useMemo(()=>F+Vn,[F,Vn]);$.useEffect(()=>{m(Sr);const ee=Sr;if(ee){const de=nN(ee,async ye=>{const me=(ye==null?void 0:ye.user)??null;if(me){const Ae=await rN(ee,me.id);Ae?(y(me),b(Ae),Ae.initial_trade&&G(Ae.initial_trade),E(!1)):(console.error(`User ${me.id} authenticated but has no profile in 'public.users'. Logging out.`),ht("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await tN(ee))}else y(null),b(null),ge([]),G(1e4),T(""),N("idle"),["dashboard","scalp","swing","day","position","settings","portfolio"].includes(a)&&l("home")});return()=>de.unsubscribe()}},[ht,a]),$.useEffect(()=>{const ee=localStorage.getItem("theme");ee&&r(ee);const de=localStorage.getItem("totalTokens");de&&ue(Number(de)),p&&(async()=>{if(!p){se("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(x){const[me,Ae]=await Promise.all([zg(p,x.id),fN(p)]);ge(me),Ae!=null&&Ae.gemini_api_key&&await Yn(Ae.gemini_api_key)}se(null)}catch(me){ht(me)}})()},[p,x,ht,Yn]);const li=async ee=>{if(!p)throw new Error("Database client not available.");await hN(p,ee),await Yn(ee)},Nr=$.useCallback(ee=>{G(ee)},[]),Ar=$.useCallback(ee=>{b(de=>de?{...de,nama:ee.name,describe:ee.description}:null)},[]),Qn=async ee=>{if(!p||!x)throw new Error("You must be logged in to make a withdrawal.");const de=F-ee;if(de<0)throw new Error("Withdrawal amount exceeds available capital.");await hy(p,x.id,de),G(de)};$.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),$.useEffect(()=>{localStorage.setItem("totalTokens",String(ie))},[ie]),$.useEffect(()=>{st(ee=>({...ee,currentEquity:nt,accountBalance:String(nt.toFixed(2))}))},[nt]);const si=ee=>ce.filter(de=>de.mode===ee),En=async ee=>{if(ee===a)return;if(["dashboard","scalp","swing","day","position","settings","portfolio"].includes(ee)&&!x){E(!0);return}if(ee==="portfolio"&&!fe){H(!0);try{const ye=await my(p,(x==null?void 0:x.id)??"");$e(ye)}catch(ye){ht(ye)}finally{H(!1)}}if(ee!=="dashboard"&&ee!=="home"&&ee!=="settings"&&ee!=="economic-calendar"&&ee!=="portfolio"){const ye=ee;if(u(ye),a!==ee){const me={...cd[ye].initialRiskParams};me.accountBalance=String(nt.toFixed(2)),st(me),_(null),se(null),z("setup")}else st(me=>({...me,accountBalance:String(nt.toFixed(2))}))}l(ee)},Tr=ee=>{ne(de=>de+ee.total),ue(de=>de+ee.total)},oi=$.useCallback(async ee=>{if(a==="dashboard"||a==="home"||a==="settings"||a==="economic-calendar"||a==="portfolio")return;if(!p){se("Not connected to database. Please check settings."),l("settings");return}if(!x){se("You must be logged in to analyze a chart."),E(!0);return}if(M!=="valid"){se("Your Gemini API key is not valid. Please check it in Settings."),l("settings");return}if(V){console.log("Analysis already in progress, ignoring new request");return}const de=a;J(!0),se(null),_(null);try{const{analysis:ye,usage:me}=await q_(C,ee,Ce,de,nt);if(Tr(me),!ye||!ye.tradeSetup||!ye.marketTrend||!ye.tradeBias)throw new Error("AI response format is invalid. The analysis data is incomplete.");const Ae=await new Promise((wt,yn)=>{const Nn=new FileReader;Nn.onloadend=()=>{try{const ta=Nn.result;wt(ta)}catch{yn(new Error("Failed to process image file"))}},Nn.onerror=()=>yn(new Error("Failed to read image file")),Nn.readAsDataURL(ee)});try{const wt={...ye,mode:de,image:Ae,status:"pending"},yn=await iN(p,wt,x.id);ge(Nn=>[yn,...Nn]),_(yn)}catch(wt){console.error("Database save error:",wt);const yn={...ye,id:`temp-${Date.now()}`,timestamp:new Date().toISOString(),mode:de,image:Ae,status:"pending"};_(yn),se("Analysis completed but failed to save to database. Please try again.")}}catch(ye){console.error("Chart analysis error:",ye);const me=ye instanceof Error?ye.message:String(ye);let Ae="Terjadi kesalahan saat menganalisis chart.";me.toLowerCase().includes("quota")||me.toLowerCase().includes("rate limit")?Ae="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":me.toLowerCase().includes("api key")||me.toLowerCase().includes("unauthorized")?Ae="API key tidak valid. Silakan periksa pengaturan API key Anda.":me.toLowerCase().includes("network")||me.toLowerCase().includes("fetch")?Ae="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":me.toLowerCase().includes("invalid response")||me.toLowerCase().includes("format")?Ae="Format respons AI tidak valid. Silakan coba lagi.":me.toLowerCase().includes("image")||me.toLowerCase().includes("file")?Ae="Gagal memproses file gambar. Pastikan file valid dan coba lagi.":me.toLowerCase().includes("timeout")?Ae="Request timeout. Silakan coba lagi.":me.toLowerCase().includes("incomplete")?Ae="Data analisis tidak lengkap. Silakan coba lagi dengan gambar yang berbeda.":Ae=`Error: ${me}`,se(Ae),_(null)}finally{J(!1)}},[C,M,Ce,a,p,x,ht,nt,V]),Y=()=>{_(null),se(null),localStorage.removeItem("currentAnalysis")},re=async(ee,de,ye)=>{if(!p||!x){se("Database not connected. Cannot save result.");return}try{await lN(p,ee,de,ye,x.id);const me=await zg(p,x.id);ge(me),W&&W.id===ee&&_(Ae=>Ae?{...Ae,status:de,outcomeAmount:ye}:null)}catch(me){ht(me)}et(null)},xe=ee=>{_(ee),z("setup")},ve=ee=>{_t(ee)},Be=async()=>{if(!Ve||!p||!x){se("Could not delete trade. Missing information.");return}oe(!0),se(null);try{await sN(p,Ve.id,x.id),ge(ee=>ee.filter(de=>de.id!==Ve.id)),(W==null?void 0:W.id)===Ve.id&&_(null)}catch(ee){ht(ee)}finally{oe(!1),_t(null)}};$.useEffect(()=>{if(te){const ee=setTimeout(()=>se(null),1e4);return()=>clearTimeout(ee)}},[te]);const Rt=ee=>{try{const de=cd[ee],ye=si(ee);return d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:de.title}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:de.subtitle})]}),de.description&&d.jsx(SN,{text:de.description}),d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-200 dark:border-blue-700 p-4 sm:p-6 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Recommended Timeframe"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:de.calculator.timeframeSettings.text})]})]})}),ee==="swing"&&d.jsx(kN,{}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8",children:[d.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[te&&d.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"})]}),d.jsx("p",{className:"text-red-700 dark:text-red-300 mt-1",children:te})]}),V?d.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-violet-600 dark:border-violet-400"}),d.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]}):W?d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),d.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),d.jsx(__,{analysis:W,riskParams:Ce,onBackToUploader:Y})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:de.icon}),d.jsx("h2",{className:"ml-3 text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100",children:de.title})]}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mb-6 ml-9 sm:ml-11",children:de.subtitle}),d.jsx(Zv,{onImageSelect:oi,isLoading:V})]})]})}),d.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[W&&W.status==="pending"&&d.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("button",{onClick:()=>et({analysisId:W.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx(jr,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),d.jsxs("button",{onClick:()=>et({analysisId:W.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[d.jsx(gn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),d.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-4 sm:px-6",children:[d.jsx(Pg,{tabName:"setup",activeTab:D,setActiveTab:z,children:"Trade Setup"}),d.jsx(Pg,{tabName:"history",activeTab:D,setActiveTab:z,children:"History"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:D==="setup"?d.jsx("div",{className:"h-full overflow-y-auto",children:d.jsx(Jv,{params:Ce,timeframeSettings:de.calculator.timeframeSettings})}):(()=>{console.log("HistoryPanel: currentHistory length:",ye==null?void 0:ye.length),console.log("HistoryPanel: currentHistory data:",ye),console.log("HistoryPanel: currentAnalysisId:",W==null?void 0:W.id);try{return d.jsx(N_,{history:ye,onSelect:xe,onDeleteRequest:ve,currentAnalysisId:W==null?void 0:W.id})}catch(me){return console.error("Error rendering HistoryPanel:",me),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error loading history"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please try refreshing the page."}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}})()})]})]})]})}catch(de){return console.error("Error rendering trading view:",de),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Error Loading Trading View"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Something went wrong while loading the trading interface."}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})}},cn=()=>{if(P)return d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})});if(!p&&a!=="home")return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(a){case"dashboard":return d.jsx(G_,{updateTokenUsage:Tr,apiKey:C,apiStatus:M,allTrades:ce,mode:s,setDashboardSource:u,initialCapital:F,netPL:Vn,currentEquity:nt});case"settings":return d.jsx(mN,{initialCapital:F,supabaseClient:p,user:x,userProfile:v,geminiApiKey:C,apiStatus:M,onApiKeyUpdate:li,onCapitalUpdate:Nr,onProfileUpdate:Ar,onWithdraw:Qn});case"economic-calendar":return d.jsx(gN,{});case"portfolio":return d.jsx(wN,{apiKey:C,apiStatus:M,portfolioData:fe,updateTokenUsage:Tr,userId:(x==null?void 0:x.id)??""});case"scalp":case"swing":case"day":case"position":return Rt(a);default:return null}};return a==="home"?d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[k&&d.jsx(Bg,{}),je&&d.jsx(sg,{type:je.type,onSave:ee=>re(je.analysisId,je.type,ee),onClose:()=>et(null)}),Ve&&d.jsx(Ld,{isOpen:!!Ve,onClose:()=>_t(null),onConfirm:Be,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:Ve.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:Ve.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(Ve.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:ae}),j&&p&&d.jsx(Ug,{supabaseClient:p,onClose:()=>E(!1)}),te&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:te})]}),d.jsx("button",{onClick:()=>se(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:"×"})]}),d.jsx(cg,{onNavigate:En,user:x,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),showUserIcon:!1,activeMode:a}),d.jsx("main",{className:"flex-1 overflow-hidden",children:d.jsx(K_,{onNavigate:En})})]}):d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[k&&d.jsx(Bg,{}),je&&d.jsx(sg,{type:je.type,onSave:ee=>re(je.analysisId,je.type,ee),onClose:()=>et(null)}),Ve&&d.jsx(Ld,{isOpen:!!Ve,onClose:()=>_t(null),onConfirm:Be,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:Ve.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:Ve.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(Ve.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:ae}),j&&p&&d.jsx(Ug,{supabaseClient:p,onClose:()=>E(!1)}),te&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:te})]}),d.jsx("button",{onClick:()=>se(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:"×"})]}),d.jsx(cg,{onNavigate:En,user:x,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),onMobileMenuToggle:()=>h(!c),showUserIcon:!jN(a),activeMode:a}),d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[d.jsx(A_,{activeMode:a,onModeChange:En,theme:t,setTheme:r,apiStatus:M,sessionTokens:R,totalTokens:ie,isMobileMenuOpen:c,onMobileMenuToggle:()=>h(!c)}),d.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-hidden",children:cn()})]})]})}const py=document.getElementById("root");if(!py)throw new Error("Could not find root element to mount to");const EN=Pv.createRoot(py);EN.render(d.jsx(eo.StrictMode,{children:d.jsx(_N,{})}));
