(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=a(s);fetch(s.href,u)}})();function jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Av(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(a,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),a}var Ac={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function Tv(){if(Qm)return al;Qm=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,s,u){var c=null;if(u!==void 0&&(c=""+u),s.key!==void 0&&(c=""+s.key),"key"in s){u={};for(var h in s)h!=="key"&&(u[h]=s[h])}else u=s;return s=u.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:u}}return al.Fragment=r,al.jsx=a,al.jsxs=a,al}var Xm;function Cv(){return Xm||(Xm=1,Ac.exports=Tv()),Ac.exports}var d=Cv(),Tc={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function Rv(){if(Km)return Ne;Km=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function C(k,$,ee){this.props=k,this.context=$,this.refs=N,this.updater=ee||b}C.prototype.isReactComponent={},C.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=C.prototype;function O(k,$,ee){this.props=k,this.context=$,this.refs=N,this.updater=ee||b}var E=O.prototype=new T;E.constructor=O,j(E,C.prototype),E.isPureReactComponent=!0;var Y=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function te(k,$,ee,_,se,xe){return ee=xe.ref,{$$typeof:t,type:k,key:$,ref:ee!==void 0?ee:null,props:xe}}function oe(k,$){return te(k.type,$,void 0,void 0,void 0,k.props)}function de(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function U(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ee){return $[ee]})}var z=/\/+/g;function G(k,$){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):$.toString(36)}function K(){}function W(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(K,K):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ie(k,$,ee,_,se){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var ce=!1;if(k===null)ce=!0;else switch(xe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(k.$$typeof){case t:case r:ce=!0;break;case x:return ce=k._init,ie(ce(k._payload),$,ee,_,se)}}if(ce)return se=se(k),ce=_===""?"."+G(k,0):_,Y(se)?(ee="",ce!=null&&(ee=ce.replace(z,"$&/")+"/"),ie(se,$,ee,"",function(nt){return nt})):se!=null&&(de(se)&&(se=oe(se,ee+(se.key==null||k&&k.key===se.key?"":(""+se.key).replace(z,"$&/")+"/")+ce)),$.push(se)),1;ce=0;var Ie=_===""?".":_+":";if(Y(k))for(var Te=0;Te<k.length;Te++)_=k[Te],xe=Ie+G(_,Te),ce+=ie(_,$,ee,xe,se);else if(Te=v(k),typeof Te=="function")for(k=Te.call(k),Te=0;!(_=k.next()).done;)_=_.value,xe=Ie+G(_,Te++),ce+=ie(_,$,ee,xe,se);else if(xe==="object"){if(typeof k.then=="function")return ie(W(k),$,ee,_,se);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ce}function M(k,$,ee){if(k==null)return k;var _=[],se=0;return ie(k,_,"","",function(xe){return $.call(ee,xe,se++)}),_}function I(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(ee){(k._status===0||k._status===-1)&&(k._status=1,k._result=ee)},function(ee){(k._status===0||k._status===-1)&&(k._status=2,k._result=ee)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var le=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function he(){}return Ne.Children={map:M,forEach:function(k,$,ee){M(k,function(){$.apply(this,arguments)},ee)},count:function(k){var $=0;return M(k,function(){$++}),$},toArray:function(k){return M(k,function($){return $})||[]},only:function(k){if(!de(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=C,Ne.Fragment=a,Ne.Profiler=s,Ne.PureComponent=O,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return V.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,$,ee){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var _=j({},k.props),se=k.key,xe=void 0;if($!=null)for(ce in $.ref!==void 0&&(xe=void 0),$.key!==void 0&&(se=""+$.key),$)!D.call($,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&$.ref===void 0||(_[ce]=$[ce]);var ce=arguments.length-2;if(ce===1)_.children=ee;else if(1<ce){for(var Ie=Array(ce),Te=0;Te<ce;Te++)Ie[Te]=arguments[Te+2];_.children=Ie}return te(k.type,se,void 0,void 0,xe,_)},Ne.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ne.createElement=function(k,$,ee){var _,se={},xe=null;if($!=null)for(_ in $.key!==void 0&&(xe=""+$.key),$)D.call($,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(se[_]=$[_]);var ce=arguments.length-2;if(ce===1)se.children=ee;else if(1<ce){for(var Ie=Array(ce),Te=0;Te<ce;Te++)Ie[Te]=arguments[Te+2];se.children=Ie}if(k&&k.defaultProps)for(_ in ce=k.defaultProps,ce)se[_]===void 0&&(se[_]=ce[_]);return te(k,xe,void 0,void 0,null,se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:h,render:k}},Ne.isValidElement=de,Ne.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:I}},Ne.memo=function(k,$){return{$$typeof:m,type:k,compare:$===void 0?null:$}},Ne.startTransition=function(k){var $=V.T,ee={};V.T=ee;try{var _=k(),se=V.S;se!==null&&se(ee,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(he,le)}catch(xe){le(xe)}finally{V.T=$}},Ne.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ne.use=function(k){return V.H.use(k)},Ne.useActionState=function(k,$,ee){return V.H.useActionState(k,$,ee)},Ne.useCallback=function(k,$){return V.H.useCallback(k,$)},Ne.useContext=function(k){return V.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,$){return V.H.useDeferredValue(k,$)},Ne.useEffect=function(k,$,ee){var _=V.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(k,$)},Ne.useId=function(){return V.H.useId()},Ne.useImperativeHandle=function(k,$,ee){return V.H.useImperativeHandle(k,$,ee)},Ne.useInsertionEffect=function(k,$){return V.H.useInsertionEffect(k,$)},Ne.useLayoutEffect=function(k,$){return V.H.useLayoutEffect(k,$)},Ne.useMemo=function(k,$){return V.H.useMemo(k,$)},Ne.useOptimistic=function(k,$){return V.H.useOptimistic(k,$)},Ne.useReducer=function(k,$,ee){return V.H.useReducer(k,$,ee)},Ne.useRef=function(k){return V.H.useRef(k)},Ne.useState=function(k){return V.H.useState(k)},Ne.useSyncExternalStore=function(k,$,ee){return V.H.useSyncExternalStore(k,$,ee)},Ne.useTransition=function(){return V.H.useTransition()},Ne.version="19.1.0",Ne}var Zm;function Ld(){return Zm||(Zm=1,Tc.exports=Rv()),Tc.exports}var F=Ld();const eo=jl(F);var Cc={exports:{}},il={},Rc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Ov(){return Jm||(Jm=1,function(t){function r(M,I){var le=M.length;M.push(I);e:for(;0<le;){var he=le-1>>>1,k=M[he];if(0<s(k,I))M[he]=I,M[le]=k,le=he;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var I=M[0],le=M.pop();if(le!==I){M[0]=le;e:for(var he=0,k=M.length,$=k>>>1;he<$;){var ee=2*(he+1)-1,_=M[ee],se=ee+1,xe=M[se];if(0>s(_,le))se<k&&0>s(xe,_)?(M[he]=xe,M[se]=le,he=se):(M[he]=_,M[ee]=le,he=ee);else if(se<k&&0>s(xe,le))M[he]=xe,M[se]=le,he=se;else break e}}return I}function s(M,I){var le=M.sortIndex-I.sortIndex;return le!==0?le:M.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],x=1,y=null,v=3,b=!1,j=!1,N=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function Y(M){for(var I=a(m);I!==null;){if(I.callback===null)i(m);else if(I.startTime<=M)i(m),I.sortIndex=I.expirationTime,r(p,I);else break;I=a(m)}}function V(M){if(N=!1,Y(M),!j)if(a(p)!==null)j=!0,D||(D=!0,G());else{var I=a(m);I!==null&&ie(V,I.startTime-M)}}var D=!1,te=-1,oe=5,de=-1;function U(){return C?!0:!(t.unstable_now()-de<oe)}function z(){if(C=!1,D){var M=t.unstable_now();de=M;var I=!0;try{e:{j=!1,N&&(N=!1,O(te),te=-1),b=!0;var le=v;try{t:{for(Y(M),y=a(p);y!==null&&!(y.expirationTime>M&&U());){var he=y.callback;if(typeof he=="function"){y.callback=null,v=y.priorityLevel;var k=he(y.expirationTime<=M);if(M=t.unstable_now(),typeof k=="function"){y.callback=k,Y(M),I=!0;break t}y===a(p)&&i(p),Y(M)}else i(p);y=a(p)}if(y!==null)I=!0;else{var $=a(m);$!==null&&ie(V,$.startTime-M),I=!1}}break e}finally{y=null,v=le,b=!1}I=void 0}}finally{I?G():D=!1}}}var G;if(typeof E=="function")G=function(){E(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,W=K.port2;K.port1.onmessage=z,G=function(){W.postMessage(null)}}else G=function(){T(z,0)};function ie(M,I){te=T(function(){M(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var le=v;v=I;try{return M()}finally{v=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var le=v;v=M;try{return I()}finally{v=le}},t.unstable_scheduleCallback=function(M,I,le){var he=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,M){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,M={id:x++,callback:I,priorityLevel:M,startTime:le,expirationTime:k,sortIndex:-1},le>he?(M.sortIndex=le,r(m,M),a(p)===null&&M===a(m)&&(N?(O(te),te=-1):N=!0,ie(V,le-he))):(M.sortIndex=k,r(p,M),j||b||(j=!0,D||(D=!0,G()))),M},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(M){var I=v;return function(){var le=v;v=I;try{return M.apply(this,arguments)}finally{v=le}}}}(Oc)),Oc}var Wm;function Dv(){return Wm||(Wm=1,Rc.exports=Ov()),Rc.exports}var Dc={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Lv(){if(ep)return Tt;ep=1;var t=Ld();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:p,containerInfo:m,implementation:x}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return u(p,m,null,x)},Tt.flushSync=function(p){var m=c.T,x=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=x,i.d.f()}},Tt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Tt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Tt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):x==="script"&&i.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Tt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin);i.d.L(p,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Tt.requestFormReset=function(p){i.d.r(p)},Tt.unstable_batchedUpdates=function(p,m){return p(m)},Tt.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var tp;function Mv(){if(tp)return Dc.exports;tp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Dc.exports=Lv(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function zv(){if(np)return il;np=1;var t=Dv(),r=Ld(),a=Mv();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var l=e,o=n;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return h(f),e;if(g===o)return h(f),n;g=g.sibling}throw Error(i(188))}if(l.return!==o.return)l=f,o=g;else{for(var w=!1,S=f.child;S;){if(S===l){w=!0,l=f,o=g;break}if(S===o){w=!0,o=f,l=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===l){w=!0,l=g,o=f;break}if(S===o){w=!0,o=g,l=f;break}S=S.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==o)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case E:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return n=e.displayName||null,n!==null?n:W(e.type)||"Memo";case oe:n=e._payload,e=e._init;try{return W(e(n))}catch{}}return null}var ie=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],k=-1;function $(e){return{current:e}}function ee(e){0>k||(e.current=he[k],he[k]=null,k--)}function _(e,n){k++,he[k]=e.current,e.current=n}var se=$(null),xe=$(null),ce=$(null),Ie=$(null);function Te(e,n){switch(_(ce,n),_(xe,e),_(se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=km(n),e=Sm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(se),_(se,e)}function nt(){ee(se),ee(xe),ee(ce)}function rt(e){e.memoizedState!==null&&_(Ie,e);var n=se.current,l=Sm(n,e.type);n!==l&&(_(xe,e),_(se,l))}function jt(e){xe.current===e&&(ee(se),ee(xe)),Ie.current===e&&(ee(Ie),Wi._currentValue=le)}var je=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,Gn=t.unstable_shouldYield,Yn=t.unstable_requestPaint,st=t.unstable_now,oi=t.unstable_getCurrentPriorityLevel,Tr=t.unstable_ImmediatePriority,Cr=t.unstable_UserBlockingPriority,Vn=t.unstable_NormalPriority,ui=t.unstable_LowPriority,ra=t.unstable_IdlePriority,Qn=t.log,Rr=t.unstable_setDisableYieldValue,Q=null,ne=null;function pe(e){if(typeof Qn=="function"&&Rr(e),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(Q,e)}catch{}}var ye=Math.clz32?Math.clz32:cn,Pe=Math.log,_t=Math.LN2;function cn(e){return e>>>=0,e===0?32:31-(Pe(e)/_t|0)|0}var Nt=256,ae=4194304;function ue(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,n,l){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~g,o!==0?f=ue(o):(w&=S,w!==0?f=ue(w):l||(l=S&~e,l!==0&&(f=ue(l))))):(S=o&~g,S!==0?f=ue(S):w!==0?f=ue(w):l||(l=o&~e,l!==0&&(f=ue(l)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,l=n&-n,g>=l||g===32&&(l&4194048)!==0)?n:f}function ke(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ce(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),e}function yn(){var e=ae;return ae<<=1,(ae&62914560)===0&&(ae=4194304),e}function bn(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Kn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gy(e,n,l,o,f,g){var w=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,P=e.hiddenUpdates;for(l=w&~l;0<l;){var X=31-ye(l),J=1<<X;S[X]=0,A[X]=-1;var q=P[X];if(q!==null)for(P[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}l&=~J}o!==0&&sf(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function sf(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function of(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var o=31-ye(l),f=1<<o;f&n|e[o]&n&&(e[o]|=n),l&=~f}}function yo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uf(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Hm(e.type))}function xy(e,n){var l=I.p;try{return I.p=e,n()}finally{I.p=l}}var Zn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Zn,Mt="__reactProps$"+Zn,aa="__reactContainer$"+Zn,vo="__reactEvents$"+Zn,yy="__reactListeners$"+Zn,by="__reactHandles$"+Zn,cf="__reactResources$"+Zn,ci="__reactMarker$"+Zn;function wo(e){delete e[Et],delete e[Mt],delete e[vo],delete e[yy],delete e[by]}function ia(e){var n=e[Et];if(n)return n;for(var l=e.parentNode;l;){if(n=l[aa]||l[Et]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Em(e);e!==null;){if(l=e[Et])return l;e=Em(e)}return n}e=l,l=e.parentNode}return null}function la(e){if(e=e[Et]||e[aa]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function di(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function sa(e){var n=e[cf];return n||(n=e[cf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[ci]=!0}var df=new Set,ff={};function Or(e,n){oa(e,n),oa(e+"Capture",n)}function oa(e,n){for(ff[e]=n,e=0;e<n.length;e++)df.add(n[e])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hf={},mf={};function wy(e){return je.call(mf,e)?!0:je.call(hf,e)?!1:vy.test(e)?mf[e]=!0:(hf[e]=!0,!1)}function Cl(e,n,l){if(wy(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Rl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function En(e,n,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+o)}}var ko,pf;function ua(e){if(ko===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ko=n&&n[1]||"",pf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+pf}var So=!1;function jo(e,n){if(!e||So)return"";So=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){q=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var A=w.split(`
`),P=S.split(`
`);for(f=o=0;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(o===A.length||f===P.length)for(o=A.length-1,f=P.length-1;1<=o&&0<=f&&A[o]!==P[f];)f--;for(;1<=o&&0<=f;o--,f--)if(A[o]!==P[f]){if(o!==1||f!==1)do if(o--,f--,0>f||A[o]!==P[f]){var X=`
`+A[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=f);break}}}finally{So=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ua(l):""}function ky(e){switch(e.tag){case 26:case 27:case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return jo(e.type,!1);case 11:return jo(e.type.render,!1);case 1:return jo(e.type,!0);case 31:return ua("Activity");default:return""}}function gf(e){try{var n="";do n+=ky(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sy(e){var n=xf(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ol(e){e._valueTracker||(e._valueTracker=Sy(e))}function yf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),o="";return e&&(o=xf(e)?e.checked?"true":"false":e.value),e=o,e!==l?(n.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jy=/[\n"\\]/g;function en(e){return e.replace(jy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _o(e,n,l,o,f,g,w,S){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wt(n)):e.value!==""+Wt(n)&&(e.value=""+Wt(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?No(e,w,Wt(n)):l!=null?No(e,w,Wt(l)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Wt(S):e.removeAttribute("name")}function bf(e,n,l,o,f,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;l=l!=null?""+Wt(l):"",n=n!=null?""+Wt(n):l,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function No(e,n,l){n==="number"&&Dl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ca(e,n,l,o){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&o&&(e[l].defaultSelected=!0)}else{for(l=""+Wt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function vf(e,n,l){if(n!=null&&(n=""+Wt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Wt(l):""}function wf(e,n,l,o){if(n==null){if(o!=null){if(l!=null)throw Error(i(92));if(ie(o)){if(1<o.length)throw Error(i(93));o=o[0]}l=o}l==null&&(l=""),n=l}l=Wt(n),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function da(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var _y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(e,n,l){var o=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,l):typeof l!="number"||l===0||_y.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Sf(e,n,l){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&l[f]!==o&&kf(e,f,o)}else for(var g in n)n.hasOwnProperty(g)&&kf(e,g,n[g])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return Ey.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ao=null;function To(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,ha=null;function jf(e){var n=la(e);if(n&&(e=n.stateNode)){var l=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(_o(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var o=l[n];if(o!==e&&o.form===e.form){var f=o[Mt]||null;if(!f)throw Error(i(90));_o(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)o=l[n],o.form===e.form&&yf(o)}break e;case"textarea":vf(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&ca(e,!!l.multiple,n,!1)}}}var Co=!1;function _f(e,n,l){if(Co)return e(n,l);Co=!0;try{var o=e(n);return o}finally{if(Co=!1,(fa!==null||ha!==null)&&(bs(),fa&&(n=fa,e=ha,ha=fa=null,jf(n),e)))for(n=0;n<e.length;n++)jf(e[n])}}function fi(e,n){var l=e.stateNode;if(l===null)return null;var o=l[Mt]||null;if(o===null)return null;l=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(i(231,n,typeof l));return l}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=!1;if(An)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Ro=!1}var Jn=null,Oo=null,Ml=null;function Nf(){if(Ml)return Ml;var e,n=Oo,l=n.length,o,f="value"in Jn?Jn.value:Jn.textContent,g=f.length;for(e=0;e<l&&n[e]===f[e];e++);var w=l-e;for(o=1;o<=w&&n[l-o]===f[g-o];o++);return Ml=f.slice(e,1<o?1-o:void 0)}function zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Ef(){return!1}function zt(e){function n(l,o,f,g,w){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ul:Ef,this.isPropagationStopped=Ef,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),n}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=zt(Dr),mi=x({},Dr,{view:0,detail:0}),Ay=zt(mi),Do,Lo,pi,Pl=x({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Do=e.screenX-pi.screenX,Lo=e.screenY-pi.screenY):Lo=Do=0,pi=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Af=zt(Pl),Ty=x({},Pl,{dataTransfer:0}),Cy=zt(Ty),Ry=x({},mi,{relatedTarget:0}),Mo=zt(Ry),Oy=x({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=zt(Oy),Ly=x({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),My=zt(Ly),zy=x({},Dr,{data:0}),Tf=zt(zy),Uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Py[e])?!!n[e]:!1}function zo(){return qy}var Iy=x({},mi,{key:function(e){if(e.key){var n=Uy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?By[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(e){return e.type==="keypress"?zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hy=zt(Iy),$y=x({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=zt($y),Fy=x({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),Gy=zt(Fy),Yy=x({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=zt(Yy),Qy=x({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=zt(Qy),Ky=x({},Dr,{newState:0,oldState:0}),Zy=zt(Ky),Jy=[9,13,27,32],Uo=An&&"CompositionEvent"in window,gi=null;An&&"documentMode"in document&&(gi=document.documentMode);var Wy=An&&"TextEvent"in window&&!gi,Rf=An&&(!Uo||gi&&8<gi&&11>=gi),Of=" ",Df=!1;function Lf(e,n){switch(e){case"keyup":return Jy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function eb(e,n){switch(e){case"compositionend":return Mf(n);case"keypress":return n.which!==32?null:(Df=!0,Of);case"textInput":return e=n.data,e===Of&&Df?null:e;default:return null}}function tb(e,n){if(ma)return e==="compositionend"||!Uo&&Lf(e,n)?(e=Nf(),Ml=Oo=Jn=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rf&&n.locale!=="ko"?null:n.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nb[e.type]:n==="textarea"}function Uf(e,n,l,o){fa?ha?ha.push(o):ha=[o]:fa=o,n=_s(n,"onChange"),0<n.length&&(l=new Bl("onChange","change",null,l,o),e.push({event:l,listeners:n}))}var xi=null,yi=null;function rb(e){xm(e,0)}function ql(e){var n=di(e);if(yf(n))return e}function Bf(e,n){if(e==="change")return n}var Pf=!1;if(An){var Bo;if(An){var Po="oninput"in document;if(!Po){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Po=typeof qf.oninput=="function"}Bo=Po}else Bo=!1;Pf=Bo&&(!document.documentMode||9<document.documentMode)}function If(){xi&&(xi.detachEvent("onpropertychange",Hf),yi=xi=null)}function Hf(e){if(e.propertyName==="value"&&ql(yi)){var n=[];Uf(n,yi,e,To(e)),_f(rb,n)}}function ab(e,n,l){e==="focusin"?(If(),xi=n,yi=l,xi.attachEvent("onpropertychange",Hf)):e==="focusout"&&If()}function ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(yi)}function lb(e,n){if(e==="click")return ql(n)}function sb(e,n){if(e==="input"||e==="change")return ql(n)}function ob(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var $t=typeof Object.is=="function"?Object.is:ob;function bi(e,n){if($t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!je.call(n,f)||!$t(e[f],n[f]))return!1}return!0}function $f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ff(e,n){var l=$f(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=n&&o>=n)return{node:l,offset:n-e};e=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$f(l)}}function Gf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Dl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Dl(e.document)}return n}function qo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ub=An&&"documentMode"in document&&11>=document.documentMode,pa=null,Io=null,vi=null,Ho=!1;function Vf(e,n,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ho||pa==null||pa!==Dl(o)||(o=pa,"selectionStart"in o&&qo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vi&&bi(vi,o)||(vi=o,o=_s(Io,"onSelect"),0<o.length&&(n=new Bl("onSelect","select",null,n,l),e.push({event:n,listeners:o}),n.target=pa)))}function Lr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ga={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},$o={},Qf={};An&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Mr(e){if($o[e])return $o[e];if(!ga[e])return e;var n=ga[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Qf)return $o[e]=n[l];return e}var Xf=Mr("animationend"),Kf=Mr("animationiteration"),Zf=Mr("animationstart"),cb=Mr("transitionrun"),db=Mr("transitionstart"),fb=Mr("transitioncancel"),Jf=Mr("transitionend"),Wf=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function dn(e,n){Wf.set(e,n),Or(n,[e])}var eh=new WeakMap;function tn(e,n){if(typeof e=="object"&&e!==null){var l=eh.get(e);return l!==void 0?l:(n={value:e,source:n,stack:gf(n)},eh.set(e,n),n)}return{value:e,source:n,stack:gf(n)}}var nn=[],xa=0,Go=0;function Il(){for(var e=xa,n=Go=xa=0;n<e;){var l=nn[n];nn[n++]=null;var o=nn[n];nn[n++]=null;var f=nn[n];nn[n++]=null;var g=nn[n];if(nn[n++]=null,o!==null&&f!==null){var w=o.pending;w===null?f.next=f:(f.next=w.next,w.next=f),o.pending=f}g!==0&&th(l,f,g)}}function Hl(e,n,l,o){nn[xa++]=e,nn[xa++]=n,nn[xa++]=l,nn[xa++]=o,Go|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yo(e,n,l,o){return Hl(e,n,l,o),$l(e)}function ya(e,n){return Hl(e,null,null,n),$l(e)}function th(e,n,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&n!==null&&(f=31-ye(l),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=l|536870912),g):null}function $l(e){if(50<Gi)throw Gi=0,Ju=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function hb(e,n,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,l,o){return new hb(e,n,l,o)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,n){var l=e.alternate;return l===null?(l=Ft(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function nh(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fl(e,n,l,o,f,g){var w=0;if(o=e,typeof e=="function")Vo(e)&&(w=1);else if(typeof e=="string")w=pv(e,l,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Ft(31,l,n,f),e.elementType=de,e.lanes=g,e;case j:return zr(l.children,f,g,n);case N:w=8,f|=24;break;case C:return e=Ft(12,l,n,f|2),e.elementType=C,e.lanes=g,e;case V:return e=Ft(13,l,n,f),e.elementType=V,e.lanes=g,e;case D:return e=Ft(19,l,n,f),e.elementType=D,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case E:w=10;break e;case O:w=9;break e;case Y:w=11;break e;case te:w=14;break e;case oe:w=16,o=null;break e}w=29,l=Error(i(130,e===null?"null":typeof e,"")),o=null}return n=Ft(w,l,n,f),n.elementType=e,n.type=o,n.lanes=g,n}function zr(e,n,l,o){return e=Ft(7,e,o,n),e.lanes=l,e}function Qo(e,n,l){return e=Ft(6,e,null,n),e.lanes=l,e}function Xo(e,n,l){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var va=[],wa=0,Gl=null,Yl=0,rn=[],an=0,Ur=null,Cn=1,Rn="";function Br(e,n){va[wa++]=Yl,va[wa++]=Gl,Gl=e,Yl=n}function rh(e,n,l){rn[an++]=Cn,rn[an++]=Rn,rn[an++]=Ur,Ur=e;var o=Cn;e=Rn;var f=32-ye(o)-1;o&=~(1<<f),l+=1;var g=32-ye(n)+f;if(30<g){var w=f-f%5;g=(o&(1<<w)-1).toString(32),o>>=w,f-=w,Cn=1<<32-ye(n)+f|l<<f|o,Rn=g+e}else Cn=1<<g|l<<f|o,Rn=e}function Ko(e){e.return!==null&&(Br(e,1),rh(e,1,0))}function Zo(e){for(;e===Gl;)Gl=va[--wa],va[wa]=null,Yl=va[--wa],va[wa]=null;for(;e===Ur;)Ur=rn[--an],rn[an]=null,Rn=rn[--an],rn[an]=null,Cn=rn[--an],rn[an]=null}var Dt=null,et=null,qe=!1,Pr=null,vn=!1,Jo=Error(i(519));function qr(e){var n=Error(i(418,""));throw Si(tn(n,e)),Jo}function ah(e){var n=e.stateNode,l=e.type,o=e.memoizedProps;switch(n[Et]=e,n[Mt]=o,l){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(l=0;l<Vi.length;l++)De(Vi[l],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),bf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ol(n);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),wf(n,o.value,o.defaultValue,o.children),Ol(n)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||o.suppressHydrationWarning===!0||wm(n.textContent,l)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Ns),n=!0):n=!1,n||qr(e)}function ih(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Dt=Dt.return}}function wi(e){if(e!==Dt)return!1;if(!qe)return ih(e),qe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||mc(e.type,e.memoizedProps)),l=!l),l&&et&&qr(e),ih(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){et=hn(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}et=null}}else n===27?(n=et,mr(e.type)?(e=yc,yc=null,et=e):et=n):et=Dt?hn(e.stateNode.nextSibling):null;return!0}function ki(){et=Dt=null,qe=!1}function lh(){var e=Pr;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Pr=null),e}function Si(e){Pr===null?Pr=[e]:Pr.push(e)}var Wo=$(null),Ir=null,On=null;function Wn(e,n,l){_(Wo,n._currentValue),n._currentValue=l}function Dn(e){e._currentValue=Wo.current,ee(Wo)}function eu(e,n,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===l)break;e=e.return}}function tu(e,n,l,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var A=0;A<n.length;A++)if(S.context===n[A]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),eu(g.return,l,e),o||(w=null);break e}g=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),eu(w,l,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function ji(e,n,l,o){e=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=f.type;$t(f.pendingProps.value,w.value)||(e!==null?e.push(S):e=[S])}}else if(f===Ie.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}f=f.return}e!==null&&tu(n,e,l,o),n.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){Ir=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return sh(Ir,e)}function Ql(e,n){return Ir===null&&Hr(e),sh(e,n)}function sh(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},On===null){if(e===null)throw Error(i(308));On=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else On=On.next=n;return l}var mb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},pb=t.unstable_scheduleCallback,gb=t.unstable_NormalPriority,dt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new mb,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&pb(gb,function(){e.controller.abort()})}var Ni=null,ru=0,ka=0,Sa=null;function xb(e,n){if(Ni===null){var l=Ni=[];ru=0,ka=ic(),Sa={status:"pending",value:void 0,then:function(o){l.push(o)}}}return ru++,n.then(oh,oh),n}function oh(){if(--ru===0&&Ni!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ni;Ni=null,ka=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yb(e,n){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var uh=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xb(e,n),uh!==null&&uh(e,n)};var $r=$(null);function au(){var e=$r.current;return e!==null?e:Xe.pooledCache}function Xl(e,n){n===null?_($r,$r.current):_($r,n.pool)}function ch(){var e=au();return e===null?null:{parent:dt._currentValue,pool:e}}var Ei=Error(i(460)),dh=Error(i(474)),Kl=Error(i(542)),iu={then:function(){}};function fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zl(){}function hh(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Zl,Zl),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ph(e),e;default:if(typeof n.status=="string")n.then(Zl,Zl);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ph(e),e}throw Ai=n,Ei}}var Ai=null;function mh(){if(Ai===null)throw Error(i(459));var e=Ai;return Ai=null,e}function ph(e){if(e===Ei||e===Kl)throw Error(i(483))}var er=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,n,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=$l(e),th(e,null,l),n}return Hl(e,o,n,l),$l(e)}function Ti(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,of(e,l)}}function ou(e,n){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=n:g=g.next=n}else f=g=n;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var uu=!1;function Ci(){if(uu){var e=Sa;if(e!==null)throw e}}function Ri(e,n,l,o){uu=!1;var f=e.updateQueue;er=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var A=S,P=A.next;A.next=null,w===null?g=P:w.next=P,w=A;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==w&&(S===null?X.firstBaseUpdate=P:S.next=P,X.lastBaseUpdate=A))}if(g!==null){var J=f.baseState;w=0,X=P=A=null,S=g;do{var q=S.lane&-536870913,H=q!==S.lane;if(H?(ze&q)===q:(o&q)===q){q!==0&&q===ka&&(uu=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=e,ve=S;q=n;var Ye=l;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){J=Se.call(Ye,J,q);break e}J=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,q=typeof Se=="function"?Se.call(Ye,J,q):Se,q==null)break e;J=x({},J,q);break e;case 2:er=!0}}q=S.callback,q!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(P=X=H,A=J):X=X.next=H,w|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);X===null&&(A=J),f.baseState=A,f.firstBaseUpdate=P,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),cr|=w,e.lanes=w,e.memoizedState=J}}function gh(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function xh(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)gh(l[e],n)}var ja=$(null),Jl=$(0);function yh(e,n){e=qn,_(Jl,e),_(ja,n),qn=e|n.baseLanes}function cu(){_(Jl,qn),_(ja,ja.current)}function du(){qn=Jl.current,ee(ja),ee(Jl)}var rr=0,Ae=null,Fe=null,ot=null,Wl=!1,_a=!1,Fr=!1,es=0,Oi=0,Na=null,bb=0;function at(){throw Error(i(321))}function fu(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!$t(e[l],n[l]))return!1;return!0}function hu(e,n,l,o,f,g){return rr=g,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?t0:n0,Fr=!1,g=l(o,f),Fr=!1,_a&&(g=vh(n,l,o,f)),bh(e),g}function bh(e){M.H=ls;var n=Fe!==null&&Fe.next!==null;if(rr=0,ot=Fe=Ae=null,Wl=!1,Oi=0,Na=null,n)throw Error(i(300));e===null||mt||(e=e.dependencies,e!==null&&Vl(e)&&(mt=!0))}function vh(e,n,l,o){Ae=e;var f=0;do{if(_a&&(Na=null),Oi=0,_a=!1,25<=f)throw Error(i(301));if(f+=1,ot=Fe=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}M.H=Nb,g=n(l,o)}while(_a);return g}function vb(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Di(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Ae.flags|=1024),n}function mu(){var e=es!==0;return es=0,e}function pu(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function gu(e){if(Wl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Wl=!1}rr=0,ot=Fe=Ae=null,_a=!1,Oi=es=0,Na=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ae.memoizedState=ot=e:ot=ot.next=e,ot}function ut(){if(Fe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=ot===null?Ae.memoizedState:ot.next;if(n!==null)ot=n,Fe=e;else{if(e===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ot===null?Ae.memoizedState=ot=e:ot=ot.next=e}return ot}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(e){var n=Oi;return Oi+=1,Na===null&&(Na=[]),e=hh(Na,e,n),n=Ae,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?t0:n0),e}function ts(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Di(e);if(e.$$typeof===E)return At(e)}throw Error(i(438,String(e)))}function yu(e){var n=null,l=Ae.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=xu(),Ae.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),o=0;o<e;o++)l[o]=U;return n.index++,l}function Ln(e,n){return typeof n=="function"?n(e):n}function ns(e){var n=ut();return bu(n,Fe,e)}function bu(e,n,l){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=l;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}n.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{n=f.next;var S=w=null,A=null,P=n,X=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(ze&J)===J:(rr&J)===J){var q=P.revertLane;if(q===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===ka&&(X=!0);else if((rr&q)===q){P=P.next,q===ka&&(X=!0);continue}else J={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=J,w=g):A=A.next=J,Ae.lanes|=q,cr|=q;J=P.action,Fr&&l(g,J),g=P.hasEagerState?P.eagerState:l(g,J)}else q={lane:J,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=q,w=g):A=A.next=q,Ae.lanes|=J,cr|=J;P=P.next}while(P!==null&&P!==n);if(A===null?w=g:A.next=S,!$t(g,e.memoizedState)&&(mt=!0,X&&(l=Sa,l!==null)))throw l;e.memoizedState=g,e.baseState=w,e.baseQueue=A,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vu(e){var n=ut(),l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=e;var o=l.dispatch,f=l.pending,g=n.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);$t(g,n.memoizedState)||(mt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),l.lastRenderedState=g}return[g,o]}function wh(e,n,l){var o=Ae,f=ut(),g=qe;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=n();var w=!$t((Fe||f).memoizedState,l);w&&(f.memoizedState=l,mt=!0),f=f.queue;var S=jh.bind(null,o,f,e);if(Li(2048,8,S,[e]),f.getSnapshot!==n||w||ot!==null&&ot.memoizedState.tag&1){if(o.flags|=2048,Ea(9,rs(),Sh.bind(null,o,f,l,n),null),Xe===null)throw Error(i(349));g||(rr&124)!==0||kh(o,n,l)}return l}function kh(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ae.updateQueue,n===null?(n=xu(),Ae.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Sh(e,n,l,o){n.value=l,n.getSnapshot=o,_h(n)&&Nh(e)}function jh(e,n,l){return l(function(){_h(n)&&Nh(e)})}function _h(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!$t(e,l)}catch{return!0}}function Nh(e){var n=ya(e,2);n!==null&&Xt(n,e,2)}function wu(e){var n=Ut();if(typeof e=="function"){var l=e;if(e=l(),Fr){pe(!0);try{l()}finally{pe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},n}function Eh(e,n,l,o){return e.baseState=l,bu(e,Fe,typeof o=="function"?o:Ln)}function wb(e,n,l,o,f){if(is(e))throw Error(i(485));if(e=n.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};M.T!==null?l(!0):g.isTransition=!1,o(g),l=n.pending,l===null?(g.next=n.pending=g,Ah(n,g)):(g.next=l.next,n.pending=l.next=g)}}function Ah(e,n){var l=n.action,o=n.payload,f=e.state;if(n.isTransition){var g=M.T,w={};M.T=w;try{var S=l(f,o),A=M.S;A!==null&&A(w,S),Th(e,n,S)}catch(P){ku(e,n,P)}finally{M.T=g}}else try{g=l(f,o),Th(e,n,g)}catch(P){ku(e,n,P)}}function Th(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Ch(e,n,o)},function(o){return ku(e,n,o)}):Ch(e,n,l)}function Ch(e,n,l){n.status="fulfilled",n.value=l,Rh(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Ah(e,l)))}function ku(e,n,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=l,Rh(n),n=n.next;while(n!==o)}e.action=null}function Rh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Oh(e,n){return n}function Dh(e,n){if(qe){var l=Xe.formState;if(l!==null){e:{var o=Ae;if(qe){if(et){t:{for(var f=et,g=vn;f.nodeType!==8;){if(!g){f=null;break t}if(f=hn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){et=hn(f.nextSibling),o=f.data==="F!";break e}}qr(o)}o=!1}o&&(n=l[0])}}return l=Ut(),l.memoizedState=l.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:n},l.queue=o,l=Jh.bind(null,Ae,o),o.dispatch=l,o=wu(!1),g=Eu.bind(null,Ae,!1,o.queue),o=Ut(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,l=wb.bind(null,Ae,f,g,l),f.dispatch=l,o.memoizedState=e,[n,l,!1]}function Lh(e){var n=ut();return Mh(n,Fe,e)}function Mh(e,n,l){if(n=bu(e,n,Oh)[0],e=ns(Ln)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Di(n)}catch(w){throw w===Ei?Kl:w}else o=n;n=ut();var f=n.queue,g=f.dispatch;return l!==n.memoizedState&&(Ae.flags|=2048,Ea(9,rs(),kb.bind(null,f,l),null)),[o,g,e]}function kb(e,n){e.action=n}function zh(e){var n=ut(),l=Fe;if(l!==null)return Mh(n,l,e);ut(),n=n.memoizedState,l=ut();var o=l.queue.dispatch;return l.memoizedState=e,[n,o,!1]}function Ea(e,n,l,o){return e={tag:e,create:l,deps:o,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=xu(),Ae.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,n.lastEffect=e),e}function rs(){return{destroy:void 0,resource:void 0}}function Uh(){return ut().memoizedState}function as(e,n,l,o){var f=Ut();o=o===void 0?null:o,Ae.flags|=e,f.memoizedState=Ea(1|n,rs(),l,o)}function Li(e,n,l,o){var f=ut();o=o===void 0?null:o;var g=f.memoizedState.inst;Fe!==null&&o!==null&&fu(o,Fe.memoizedState.deps)?f.memoizedState=Ea(n,g,l,o):(Ae.flags|=e,f.memoizedState=Ea(1|n,g,l,o))}function Bh(e,n){as(8390656,8,e,n)}function Ph(e,n){Li(2048,8,e,n)}function qh(e,n){return Li(4,2,e,n)}function Ih(e,n){return Li(4,4,e,n)}function Hh(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $h(e,n,l){l=l!=null?l.concat([e]):null,Li(4,4,Hh.bind(null,n,e),l)}function Su(){}function Fh(e,n){var l=ut();n=n===void 0?null:n;var o=l.memoizedState;return n!==null&&fu(n,o[1])?o[0]:(l.memoizedState=[e,n],e)}function Gh(e,n){var l=ut();n=n===void 0?null:n;var o=l.memoizedState;if(n!==null&&fu(n,o[1]))return o[0];if(o=e(),Fr){pe(!0);try{e()}finally{pe(!1)}}return l.memoizedState=[o,n],o}function ju(e,n,l){return l===void 0||(rr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=Q0(),Ae.lanes|=e,cr|=e,l)}function Yh(e,n,l,o){return $t(l,n)?l:ja.current!==null?(e=ju(e,l,o),$t(e,n)||(mt=!0),e):(rr&42)===0?(mt=!0,e.memoizedState=l):(e=Q0(),Ae.lanes|=e,cr|=e,n)}function Vh(e,n,l,o,f){var g=I.p;I.p=g!==0&&8>g?g:8;var w=M.T,S={};M.T=S,Eu(e,!1,n,l);try{var A=f(),P=M.S;if(P!==null&&P(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=yb(A,o);Mi(e,n,X,Qt(e))}else Mi(e,n,o,Qt(e))}catch(J){Mi(e,n,{then:function(){},status:"rejected",reason:J},Qt())}finally{I.p=g,M.T=w}}function Sb(){}function _u(e,n,l,o){if(e.tag!==5)throw Error(i(476));var f=Qh(e).queue;Vh(e,f,n,le,l===null?Sb:function(){return Xh(e),l(o)})}function Qh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:le},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xh(e){var n=Qh(e).next.queue;Mi(e,n,{},Qt())}function Nu(){return At(Wi)}function Kh(){return ut().memoizedState}function Zh(){return ut().memoizedState}function jb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Qt();e=tr(l);var o=nr(n,e,l);o!==null&&(Xt(o,n,l),Ti(o,n,l)),n={cache:nu()},e.payload=n;return}n=n.return}}function _b(e,n,l){var o=Qt();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},is(e)?Wh(n,l):(l=Yo(e,n,l,o),l!==null&&(Xt(l,e,o),e0(l,n,o)))}function Jh(e,n,l){var o=Qt();Mi(e,n,l,o)}function Mi(e,n,l,o){var f={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(is(e))Wh(n,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,S=g(w,l);if(f.hasEagerState=!0,f.eagerState=S,$t(S,w))return Hl(e,n,f,0),Xe===null&&Il(),!1}catch{}finally{}if(l=Yo(e,n,f,o),l!==null)return Xt(l,e,o),e0(l,n,o),!0}return!1}function Eu(e,n,l,o){if(o={lane:2,revertLane:ic(),action:o,hasEagerState:!1,eagerState:null,next:null},is(e)){if(n)throw Error(i(479))}else n=Yo(e,l,o,2),n!==null&&Xt(n,e,2)}function is(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function Wh(e,n){_a=Wl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function e0(e,n,l){if((l&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,of(e,l)}}var ls={readContext:At,use:ts,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},t0={readContext:At,use:ts,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:At,useEffect:Bh,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,as(4194308,4,Hh.bind(null,n,e),l)},useLayoutEffect:function(e,n){return as(4194308,4,e,n)},useInsertionEffect:function(e,n){as(4,2,e,n)},useMemo:function(e,n){var l=Ut();n=n===void 0?null:n;var o=e();if(Fr){pe(!0);try{e()}finally{pe(!1)}}return l.memoizedState=[o,n],o},useReducer:function(e,n,l){var o=Ut();if(l!==void 0){var f=l(n);if(Fr){pe(!0);try{l(n)}finally{pe(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=_b.bind(null,Ae,e),[o.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=wu(e);var n=e.queue,l=Jh.bind(null,Ae,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Su,useDeferredValue:function(e,n){var l=Ut();return ju(l,e,n)},useTransition:function(){var e=wu(!1);return e=Vh.bind(null,Ae,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var o=Ae,f=Ut();if(qe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=n(),Xe===null)throw Error(i(349));(ze&124)!==0||kh(o,n,l)}f.memoizedState=l;var g={value:l,getSnapshot:n};return f.queue=g,Bh(jh.bind(null,o,g,e),[e]),o.flags|=2048,Ea(9,rs(),Sh.bind(null,o,g,l,n),null),l},useId:function(){var e=Ut(),n=Xe.identifierPrefix;if(qe){var l=Rn,o=Cn;l=(o&~(1<<32-ye(o)-1)).toString(32)+l,n=""+n+"R"+l,l=es++,0<l&&(n+="H"+l.toString(32)),n+=""}else l=bb++,n=""+n+"r"+l.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Nu,useFormState:Dh,useActionState:Dh,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Eu.bind(null,Ae,!0,l),l.dispatch=n,[e,n]},useMemoCache:yu,useCacheRefresh:function(){return Ut().memoizedState=jb.bind(null,Ae)}},n0={readContext:At,use:ts,useCallback:Fh,useContext:At,useEffect:Ph,useImperativeHandle:$h,useInsertionEffect:qh,useLayoutEffect:Ih,useMemo:Gh,useReducer:ns,useRef:Uh,useState:function(){return ns(Ln)},useDebugValue:Su,useDeferredValue:function(e,n){var l=ut();return Yh(l,Fe.memoizedState,e,n)},useTransition:function(){var e=ns(Ln)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Di(e),n]},useSyncExternalStore:wh,useId:Kh,useHostTransitionStatus:Nu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,n){var l=ut();return Eh(l,Fe,e,n)},useMemoCache:yu,useCacheRefresh:Zh},Nb={readContext:At,use:ts,useCallback:Fh,useContext:At,useEffect:Ph,useImperativeHandle:$h,useInsertionEffect:qh,useLayoutEffect:Ih,useMemo:Gh,useReducer:vu,useRef:Uh,useState:function(){return vu(Ln)},useDebugValue:Su,useDeferredValue:function(e,n){var l=ut();return Fe===null?ju(l,e,n):Yh(l,Fe.memoizedState,e,n)},useTransition:function(){var e=vu(Ln)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Di(e),n]},useSyncExternalStore:wh,useId:Kh,useHostTransitionStatus:Nu,useFormState:zh,useActionState:zh,useOptimistic:function(e,n){var l=ut();return Fe!==null?Eh(l,Fe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:yu,useCacheRefresh:Zh},Aa=null,zi=0;function ss(e){var n=zi;return zi+=1,Aa===null&&(Aa=[]),hh(Aa,e,n)}function Ui(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function os(e,n){throw n.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function r0(e){var n=e._init;return n(e._payload)}function a0(e){function n(L,R){if(e){var B=L.deletions;B===null?(L.deletions=[R],L.flags|=16):B.push(R)}}function l(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function o(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function f(L,R){return L=Tn(L,R),L.index=0,L.sibling=null,L}function g(L,R,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<R?(L.flags|=67108866,R):B):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function w(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,R,B,Z){return R===null||R.tag!==6?(R=Qo(B,L.mode,Z),R.return=L,R):(R=f(R,B),R.return=L,R)}function A(L,R,B,Z){var fe=B.type;return fe===j?X(L,R,B.props.children,Z,B.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===oe&&r0(fe)===R.type)?(R=f(R,B.props),Ui(R,B),R.return=L,R):(R=Fl(B.type,B.key,B.props,null,L.mode,Z),Ui(R,B),R.return=L,R)}function P(L,R,B,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=Xo(B,L.mode,Z),R.return=L,R):(R=f(R,B.children||[]),R.return=L,R)}function X(L,R,B,Z,fe){return R===null||R.tag!==7?(R=zr(B,L.mode,Z,fe),R.return=L,R):(R=f(R,B),R.return=L,R)}function J(L,R,B){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Qo(""+R,L.mode,B),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return B=Fl(R.type,R.key,R.props,null,L.mode,B),Ui(B,R),B.return=L,B;case b:return R=Xo(R,L.mode,B),R.return=L,R;case oe:var Z=R._init;return R=Z(R._payload),J(L,R,B)}if(ie(R)||G(R))return R=zr(R,L.mode,B,null),R.return=L,R;if(typeof R.then=="function")return J(L,ss(R),B);if(R.$$typeof===E)return J(L,Ql(L,R),B);os(L,R)}return null}function q(L,R,B,Z){var fe=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:S(L,R,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return B.key===fe?A(L,R,B,Z):null;case b:return B.key===fe?P(L,R,B,Z):null;case oe:return fe=B._init,B=fe(B._payload),q(L,R,B,Z)}if(ie(B)||G(B))return fe!==null?null:X(L,R,B,Z,null);if(typeof B.then=="function")return q(L,R,ss(B),Z);if(B.$$typeof===E)return q(L,R,Ql(L,B),Z);os(L,B)}return null}function H(L,R,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,S(R,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return L=L.get(Z.key===null?B:Z.key)||null,A(R,L,Z,fe);case b:return L=L.get(Z.key===null?B:Z.key)||null,P(R,L,Z,fe);case oe:var Re=Z._init;return Z=Re(Z._payload),H(L,R,B,Z,fe)}if(ie(Z)||G(Z))return L=L.get(B)||null,X(R,L,Z,fe,null);if(typeof Z.then=="function")return H(L,R,B,ss(Z),fe);if(Z.$$typeof===E)return H(L,R,B,Ql(R,Z),fe);os(R,Z)}return null}function Se(L,R,B,Z){for(var fe=null,Re=null,me=R,we=R=0,gt=null;me!==null&&we<B.length;we++){me.index>we?(gt=me,me=null):gt=me.sibling;var Be=q(L,me,B[we],Z);if(Be===null){me===null&&(me=gt);break}e&&me&&Be.alternate===null&&n(L,me),R=g(Be,R,we),Re===null?fe=Be:Re.sibling=Be,Re=Be,me=gt}if(we===B.length)return l(L,me),qe&&Br(L,we),fe;if(me===null){for(;we<B.length;we++)me=J(L,B[we],Z),me!==null&&(R=g(me,R,we),Re===null?fe=me:Re.sibling=me,Re=me);return qe&&Br(L,we),fe}for(me=o(me);we<B.length;we++)gt=H(me,L,we,B[we],Z),gt!==null&&(e&&gt.alternate!==null&&me.delete(gt.key===null?we:gt.key),R=g(gt,R,we),Re===null?fe=gt:Re.sibling=gt,Re=gt);return e&&me.forEach(function(br){return n(L,br)}),qe&&Br(L,we),fe}function ve(L,R,B,Z){if(B==null)throw Error(i(151));for(var fe=null,Re=null,me=R,we=R=0,gt=null,Be=B.next();me!==null&&!Be.done;we++,Be=B.next()){me.index>we?(gt=me,me=null):gt=me.sibling;var br=q(L,me,Be.value,Z);if(br===null){me===null&&(me=gt);break}e&&me&&br.alternate===null&&n(L,me),R=g(br,R,we),Re===null?fe=br:Re.sibling=br,Re=br,me=gt}if(Be.done)return l(L,me),qe&&Br(L,we),fe;if(me===null){for(;!Be.done;we++,Be=B.next())Be=J(L,Be.value,Z),Be!==null&&(R=g(Be,R,we),Re===null?fe=Be:Re.sibling=Be,Re=Be);return qe&&Br(L,we),fe}for(me=o(me);!Be.done;we++,Be=B.next())Be=H(me,L,we,Be.value,Z),Be!==null&&(e&&Be.alternate!==null&&me.delete(Be.key===null?we:Be.key),R=g(Be,R,we),Re===null?fe=Be:Re.sibling=Be,Re=Be);return e&&me.forEach(function(Ev){return n(L,Ev)}),qe&&Br(L,we),fe}function Ye(L,R,B,Z){if(typeof B=="object"&&B!==null&&B.type===j&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case v:e:{for(var fe=B.key;R!==null;){if(R.key===fe){if(fe=B.type,fe===j){if(R.tag===7){l(L,R.sibling),Z=f(R,B.props.children),Z.return=L,L=Z;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===oe&&r0(fe)===R.type){l(L,R.sibling),Z=f(R,B.props),Ui(Z,B),Z.return=L,L=Z;break e}l(L,R);break}else n(L,R);R=R.sibling}B.type===j?(Z=zr(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=Fl(B.type,B.key,B.props,null,L.mode,Z),Ui(Z,B),Z.return=L,L=Z)}return w(L);case b:e:{for(fe=B.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){l(L,R.sibling),Z=f(R,B.children||[]),Z.return=L,L=Z;break e}else{l(L,R);break}else n(L,R);R=R.sibling}Z=Xo(B,L.mode,Z),Z.return=L,L=Z}return w(L);case oe:return fe=B._init,B=fe(B._payload),Ye(L,R,B,Z)}if(ie(B))return Se(L,R,B,Z);if(G(B)){if(fe=G(B),typeof fe!="function")throw Error(i(150));return B=fe.call(B),ve(L,R,B,Z)}if(typeof B.then=="function")return Ye(L,R,ss(B),Z);if(B.$$typeof===E)return Ye(L,R,Ql(L,B),Z);os(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,R!==null&&R.tag===6?(l(L,R.sibling),Z=f(R,B),Z.return=L,L=Z):(l(L,R),Z=Qo(B,L.mode,Z),Z.return=L,L=Z),w(L)):l(L,R)}return function(L,R,B,Z){try{zi=0;var fe=Ye(L,R,B,Z);return Aa=null,fe}catch(me){if(me===Ei||me===Kl)throw me;var Re=Ft(29,me,null,L.mode);return Re.lanes=Z,Re.return=L,Re}finally{}}}var Ta=a0(!0),i0=a0(!1),ln=$(null),wn=null;function ar(e){var n=e.alternate;_(ft,ft.current&1),_(ln,e),wn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(wn=e)}function l0(e){if(e.tag===22){if(_(ft,ft.current),_(ln,e),wn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(wn=e)}}else ir()}function ir(){_(ft,ft.current),_(ln,ln.current)}function Mn(e){ee(ln),wn===e&&(wn=null),ee(ft)}var ft=$(0);function us(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xc(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Au(e,n,l,o){n=e.memoizedState,l=l(o,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Tu={enqueueSetState:function(e,n,l){e=e._reactInternals;var o=Qt(),f=tr(o);f.payload=n,l!=null&&(f.callback=l),n=nr(e,f,o),n!==null&&(Xt(n,e,o),Ti(n,e,o))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var o=Qt(),f=tr(o);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=nr(e,f,o),n!==null&&(Xt(n,e,o),Ti(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Qt(),o=tr(l);o.tag=2,n!=null&&(o.callback=n),n=nr(e,o,l),n!==null&&(Xt(n,e,l),Ti(n,e,l))}};function s0(e,n,l,o,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,w):n.prototype&&n.prototype.isPureReactComponent?!bi(l,o)||!bi(f,g):!0}function o0(e,n,l,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,o),n.state!==e&&Tu.enqueueReplaceState(n,n.state,null)}function Gr(e,n){var l=n;if("ref"in n){l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var cs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function u0(e){cs(e)}function c0(e){console.error(e)}function d0(e){cs(e)}function ds(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function f0(e,n,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cu(e,n,l){return l=tr(l),l.tag=3,l.payload={element:null},l.callback=function(){ds(e,n)},l}function h0(e){return e=tr(e),e.tag=3,e}function m0(e,n,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){f0(n,l,o)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){f0(n,l,o),typeof f!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Eb(e,n,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=l.alternate,n!==null&&ji(n,l,f,!0),l=ln.current,l!==null){switch(l.tag){case 13:return wn===null?ec():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===iu?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([o]):n.add(o),nc(e,o,f)),!1;case 22:return l.flags|=65536,o===iu?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([o]):l.add(o)),nc(e,o,f)),!1}throw Error(i(435,l.tag))}return nc(e,o,f),ec(),!1}if(qe)return n=ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Jo&&(e=Error(i(422),{cause:o}),Si(tn(e,l)))):(o!==Jo&&(n=Error(i(423),{cause:o}),Si(tn(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=tn(o,l),f=Cu(e.stateNode,o,f),ou(e,f),tt!==4&&(tt=2)),!1;var g=Error(i(520),{cause:o});if(g=tn(g,l),Fi===null?Fi=[g]:Fi.push(g),tt!==4&&(tt=2),n===null)return!0;o=tn(o,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Cu(l.stateNode,o,e),ou(l,e),!1;case 1:if(n=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=h0(f),m0(f,e,l,o),ou(l,f),!1}l=l.return}while(l!==null);return!1}var p0=Error(i(461)),mt=!1;function wt(e,n,l,o){n.child=e===null?i0(n,null,l,o):Ta(n,e.child,l,o)}function g0(e,n,l,o,f){l=l.render;var g=n.ref;if("ref"in o){var w={};for(var S in o)S!=="ref"&&(w[S]=o[S])}else w=o;return Hr(n),o=hu(e,n,l,w,g,f),S=mu(),e!==null&&!mt?(pu(e,n,f),zn(e,n,f)):(qe&&S&&Ko(n),n.flags|=1,wt(e,n,o,f),n.child)}function x0(e,n,l,o,f){if(e===null){var g=l.type;return typeof g=="function"&&!Vo(g)&&g.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=g,y0(e,n,g,o,f)):(e=Fl(l.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Bu(e,f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:bi,l(w,o)&&e.ref===n.ref)return zn(e,n,f)}return n.flags|=1,e=Tn(g,o),e.ref=n.ref,e.return=n,n.child=e}function y0(e,n,l,o,f){if(e!==null){var g=e.memoizedProps;if(bi(g,o)&&e.ref===n.ref)if(mt=!1,n.pendingProps=o=g,Bu(e,f))(e.flags&131072)!==0&&(mt=!0);else return n.lanes=e.lanes,zn(e,n,f)}return Ru(e,n,l,o,f)}function b0(e,n,l){var o=n.pendingProps,f=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|l:l,e!==null){for(f=n.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return v0(e,n,o,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xl(n,g!==null?g.cachePool:null),g!==null?yh(n,g):cu(),l0(n);else return n.lanes=n.childLanes=536870912,v0(e,n,g!==null?g.baseLanes|l:l,l)}else g!==null?(Xl(n,g.cachePool),yh(n,g),ir(),n.memoizedState=null):(e!==null&&Xl(n,null),cu(),ir());return wt(e,n,f,l),n.child}function v0(e,n,l,o){var f=au();return f=f===null?null:{parent:dt._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},e!==null&&Xl(n,null),cu(),l0(n),e!==null&&ji(e,n,o,!0),null}function fs(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Ru(e,n,l,o,f){return Hr(n),l=hu(e,n,l,o,void 0,f),o=mu(),e!==null&&!mt?(pu(e,n,f),zn(e,n,f)):(qe&&o&&Ko(n),n.flags|=1,wt(e,n,l,f),n.child)}function w0(e,n,l,o,f,g){return Hr(n),n.updateQueue=null,l=vh(n,o,l,f),bh(e),o=mu(),e!==null&&!mt?(pu(e,n,g),zn(e,n,g)):(qe&&o&&Ko(n),n.flags|=1,wt(e,n,l,g),n.child)}function k0(e,n,l,o,f){if(Hr(n),n.stateNode===null){var g=ba,w=l.contextType;typeof w=="object"&&w!==null&&(g=At(w)),g=new l(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Tu,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},lu(n),w=l.contextType,g.context=typeof w=="object"&&w!==null?At(w):ba,g.state=n.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Au(n,l,w,o),g.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Tu.enqueueReplaceState(g,g.state,null),Ri(n,o,g,f),Ci(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){g=n.stateNode;var S=n.memoizedProps,A=Gr(l,S);g.props=A;var P=g.context,X=l.contextType;w=ba,typeof X=="object"&&X!==null&&(w=At(X));var J=l.getDerivedStateFromProps;X=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||P!==w)&&o0(n,g,o,w),er=!1;var q=n.memoizedState;g.state=q,Ri(n,o,g,f),Ci(),P=n.memoizedState,S||q!==P||er?(typeof J=="function"&&(Au(n,l,J,o),P=n.memoizedState),(A=er||s0(n,l,A,o,q,P,w))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),g.props=o,g.state=P,g.context=w,o=A):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,su(e,n),w=n.memoizedProps,X=Gr(l,w),g.props=X,J=n.pendingProps,q=g.context,P=l.contextType,A=ba,typeof P=="object"&&P!==null&&(A=At(P)),S=l.getDerivedStateFromProps,(P=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==J||q!==A)&&o0(n,g,o,A),er=!1,q=n.memoizedState,g.state=q,Ri(n,o,g,f),Ci();var H=n.memoizedState;w!==J||q!==H||er||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof S=="function"&&(Au(n,l,S,o),H=n.memoizedState),(X=er||s0(n,l,X,o,q,H,A)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(P||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,H,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,H,A)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),g.props=o,g.state=H,g.context=A,o=X):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return g=o,fs(e,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&o?(n.child=Ta(n,e.child,null,f),n.child=Ta(n,null,l,f)):wt(e,n,l,f),n.memoizedState=g.state,e=n.child):e=zn(e,n,f),e}function S0(e,n,l,o){return ki(),n.flags|=256,wt(e,n,l,o),n.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(e){return{baseLanes:e,cachePool:ch()}}function Lu(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=sn),e}function j0(e,n,l){var o=n.pendingProps,f=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(qe){if(f?ar(n):ir(),qe){var S=et,A;if(A=S){e:{for(A=S,S=vn;A.nodeType!==8;){if(!S){S=null;break e}if(A=hn(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(n.memoizedState={dehydrated:S,treeContext:Ur!==null?{id:Cn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},A=Ft(18,null,null,0),A.stateNode=S,A.return=n,n.child=A,Dt=n,et=null,A=!0):A=!1}A||qr(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return xc(S)?n.lanes=32:n.lanes=536870912,null;Mn(n)}return S=o.children,o=o.fallback,f?(ir(),f=n.mode,S=hs({mode:"hidden",children:S},f),o=zr(o,f,l,null),S.return=n,o.return=n,S.sibling=o,n.child=S,f=n.child,f.memoizedState=Du(l),f.childLanes=Lu(e,w,l),n.memoizedState=Ou,o):(ar(n),Mu(n,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(g)n.flags&256?(ar(n),n.flags&=-257,n=zu(e,n,l)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),f=o.fallback,S=n.mode,o=hs({mode:"visible",children:o.children},S),f=zr(f,S,l,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Ta(n,e.child,null,l),o=n.child,o.memoizedState=Du(l),o.childLanes=Lu(e,w,l),n.memoizedState=Ou,n=f);else if(ar(n),xc(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var P=w.dgst;w=P,o=Error(i(419)),o.stack="",o.digest=w,Si({value:o,source:null,stack:null}),n=zu(e,n,l)}else if(mt||ji(e,n,l,!1),w=(l&e.childLanes)!==0,mt||w){if(w=Xe,w!==null&&(o=l&-l,o=(o&42)!==0?1:yo(o),o=(o&(w.suspendedLanes|l))!==0?0:o,o!==0&&o!==A.retryLane))throw A.retryLane=o,ya(e,o),Xt(w,e,o),p0;S.data==="$?"||ec(),n=zu(e,n,l)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,et=hn(S.nextSibling),Dt=n,qe=!0,Pr=null,vn=!1,e!==null&&(rn[an++]=Cn,rn[an++]=Rn,rn[an++]=Ur,Cn=e.id,Rn=e.overflow,Ur=n),n=Mu(n,o.children),n.flags|=4096);return n}return f?(ir(),f=o.fallback,S=n.mode,A=e.child,P=A.sibling,o=Tn(A,{mode:"hidden",children:o.children}),o.subtreeFlags=A.subtreeFlags&65011712,P!==null?f=Tn(P,f):(f=zr(f,S,l,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,S=e.child.memoizedState,S===null?S=Du(l):(A=S.cachePool,A!==null?(P=dt._currentValue,A=A.parent!==P?{parent:P,pool:P}:A):A=ch(),S={baseLanes:S.baseLanes|l,cachePool:A}),f.memoizedState=S,f.childLanes=Lu(e,w,l),n.memoizedState=Ou,o):(ar(n),l=e.child,e=l.sibling,l=Tn(l,{mode:"visible",children:o.children}),l.return=n,l.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=l,n.memoizedState=null,l)}function Mu(e,n){return n=hs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hs(e,n){return e=Ft(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zu(e,n,l){return Ta(n,e.child,null,l),e=Mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function _0(e,n,l){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),eu(e.return,n,l)}function Uu(e,n,l,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=l,g.tailMode=f)}function N0(e,n,l){var o=n.pendingProps,f=o.revealOrder,g=o.tail;if(wt(e,n,o.children,l),o=ft.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_0(e,l,n);else if(e.tag===19)_0(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(_(ft,o),f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&us(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Uu(n,!1,f,l,g);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&us(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Uu(n,!0,l,null,g);break;case"together":Uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),cr|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ji(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,l=Tn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Tn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Bu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function Ab(e,n,l){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Wn(n,dt,e.memoizedState.cache),ki();break;case 27:case 5:rt(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):(l&n.child.childLanes)!==0?j0(e,n,l):(ar(n),e=zn(e,n,l),e!==null?e.sibling:null);ar(n);break;case 19:var f=(e.flags&128)!==0;if(o=(l&n.childLanes)!==0,o||(ji(e,n,l,!1),o=(l&n.childLanes)!==0),f){if(o)return N0(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_(ft,ft.current),o)break;return null;case 22:case 23:return n.lanes=0,b0(e,n,l);case 24:Wn(n,dt,e.memoizedState.cache)}return zn(e,n,l)}function E0(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)mt=!0;else{if(!Bu(e,l)&&(n.flags&128)===0)return mt=!1,Ab(e,n,l);mt=(e.flags&131072)!==0}else mt=!1,qe&&(n.flags&1048576)!==0&&rh(n,Yl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Vo(o)?(e=Gr(o,e),n.tag=1,n=k0(null,n,o,e,l)):(n.tag=0,n=Ru(null,n,o,e,l));else{if(o!=null){if(f=o.$$typeof,f===Y){n.tag=11,n=g0(null,n,o,e,l);break e}else if(f===te){n.tag=14,n=x0(null,n,o,e,l);break e}}throw n=W(o)||o,Error(i(306,n,""))}}return n;case 0:return Ru(e,n,n.type,n.pendingProps,l);case 1:return o=n.type,f=Gr(o,n.pendingProps),k0(e,n,o,f,l);case 3:e:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(i(387));o=n.pendingProps;var g=n.memoizedState;f=g.element,su(e,n),Ri(n,o,null,l);var w=n.memoizedState;if(o=w.cache,Wn(n,dt,o),o!==g.cache&&tu(n,[dt],l,!0),Ci(),o=w.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=S0(e,n,o,l);break e}else if(o!==f){f=tn(Error(i(424)),n),Si(f),n=S0(e,n,o,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=hn(e.firstChild),Dt=n,qe=!0,Pr=null,vn=!0,l=i0(n,null,o,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ki(),o===f){n=zn(e,n,l);break e}wt(e,n,o,l)}n=n.child}return n;case 26:return fs(e,n),e===null?(l=Rm(n.type,null,n.pendingProps,null))?n.memoizedState=l:qe||(l=n.type,e=n.pendingProps,o=Es(ce.current).createElement(l),o[Et]=n,o[Mt]=e,St(o,l,e),ht(o),n.stateNode=o):n.memoizedState=Rm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rt(n),e===null&&qe&&(o=n.stateNode=Am(n.type,n.pendingProps,ce.current),Dt=n,vn=!0,f=et,mr(n.type)?(yc=f,et=hn(o.firstChild)):et=f),wt(e,n,n.pendingProps.children,l),fs(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qe&&((f=o=et)&&(o=nv(o,n.type,n.pendingProps,vn),o!==null?(n.stateNode=o,Dt=n,et=hn(o.firstChild),vn=!1,f=!0):f=!1),f||qr(n)),rt(n),f=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,o=g.children,mc(f,g)?o=null:w!==null&&mc(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=hu(e,n,vb,null,null,l),Wi._currentValue=f),fs(e,n),wt(e,n,o,l),n.child;case 6:return e===null&&qe&&((e=l=et)&&(l=rv(l,n.pendingProps,vn),l!==null?(n.stateNode=l,Dt=n,et=null,e=!0):e=!1),e||qr(n)),null;case 13:return j0(e,n,l);case 4:return Te(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ta(n,null,o,l):wt(e,n,o,l),n.child;case 11:return g0(e,n,n.type,n.pendingProps,l);case 7:return wt(e,n,n.pendingProps,l),n.child;case 8:return wt(e,n,n.pendingProps.children,l),n.child;case 12:return wt(e,n,n.pendingProps.children,l),n.child;case 10:return o=n.pendingProps,Wn(n,n.type,o.value),wt(e,n,o.children,l),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Hr(n),f=At(f),o=o(f),n.flags|=1,wt(e,n,o,l),n.child;case 14:return x0(e,n,n.type,n.pendingProps,l);case 15:return y0(e,n,n.type,n.pendingProps,l);case 19:return N0(e,n,l);case 31:return o=n.pendingProps,l=n.mode,o={mode:o.mode,children:o.children},e===null?(l=hs(o,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Tn(e.child,o),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return b0(e,n,l);case 24:return Hr(n),o=At(dt),e===null?(f=au(),f===null&&(f=Xe,g=nu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),n.memoizedState={parent:o,cache:f},lu(n),Wn(n,dt,f)):((e.lanes&l)!==0&&(su(e,n),Ri(n,null,null,l),Ci()),f=e.memoizedState,g=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Wn(n,dt,o)):(o=g.cache,Wn(n,dt,o),o!==f.cache&&tu(n,[dt],l,!0))),wt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Un(e){e.flags|=4}function A0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zm(n)){if(n=ln.current,n!==null&&((ze&4194048)===ze?wn!==null:(ze&62914560)!==ze&&(ze&536870912)===0||n!==wn))throw Ai=iu,dh;e.flags|=8192}}function ms(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yn():536870912,e.lanes|=n,Da|=n)}function Bi(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=l,n}function Tb(e,n,l){var o=n.pendingProps;switch(Zo(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return l=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Dn(dt),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(wi(n)?Un(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lh())),We(n),null;case 26:return l=n.memoizedState,e===null?(Un(n),l!==null?(We(n),A0(n,l)):(We(n),n.flags&=-16777217)):l?l!==e.memoizedState?(Un(n),We(n),A0(n,l)):(We(n),n.flags&=-16777217):(e.memoizedProps!==o&&Un(n),We(n),n.flags&=-16777217),null;case 27:jt(n),l=ce.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return We(n),null}e=se.current,wi(n)?ah(n):(e=Am(f,o,l),n.stateNode=e,Un(n))}return We(n),null;case 5:if(jt(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(!o){if(n.stateNode===null)throw Error(i(166));return We(n),null}if(e=se.current,wi(n))ah(n);else{switch(f=Es(ce.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(l,{is:o.is}):f.createElement(l)}}e[Et]=n,e[Mt]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(St(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Un(n)}}return We(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Un(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(i(166));if(e=ce.current,wi(n)){if(e=n.stateNode,l=n.memoizedProps,o=null,f=Dt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Et]=n,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||wm(e.nodeValue,l)),e||qr(n)}else e=Es(e).createTextNode(o),e[Et]=n,n.stateNode=e}return We(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=wi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Et]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),f=!1}else f=lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Mn(n),n):(Mn(n),null)}if(Mn(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),ms(n,n.updateQueue),We(n),null;case 4:return nt(),e===null&&uc(n.stateNode.containerInfo),We(n),null;case 10:return Dn(n.type),We(n),null;case 19:if(ee(ft),f=n.memoizedState,f===null)return We(n),null;if(o=(n.flags&128)!==0,g=f.rendering,g===null)if(o)Bi(f,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=us(e),g!==null){for(n.flags|=128,Bi(f,!1),e=g.updateQueue,n.updateQueue=e,ms(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)nh(l,e),l=l.sibling;return _(ft,ft.current&1|2),n.child}e=e.sibling}f.tail!==null&&st()>xs&&(n.flags|=128,o=!0,Bi(f,!1),n.lanes=4194304)}else{if(!o)if(e=us(g),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,ms(n,e),Bi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qe)return We(n),null}else 2*st()-f.renderingStartTime>xs&&l!==536870912&&(n.flags|=128,o=!0,Bi(f,!1),n.lanes=4194304);f.isBackwards?(g.sibling=n.child,n.child=g):(e=f.last,e!==null?e.sibling=g:n.child=g,f.last=g)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=st(),n.sibling=null,e=ft.current,_(ft,o?e&1|2:e&1),n):(We(n),null);case 22:case 23:return Mn(n),du(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(l&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),l=n.updateQueue,l!==null&&ms(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==l&&(n.flags|=2048),e!==null&&ee($r),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Dn(dt),We(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Cb(e,n){switch(Zo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Dn(dt),nt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return jt(n),null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(ft),null;case 4:return nt(),null;case 10:return Dn(n.type),null;case 22:case 23:return Mn(n),du(),e!==null&&ee($r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Dn(dt),null;case 25:return null;default:return null}}function T0(e,n){switch(Zo(n),n.tag){case 3:Dn(dt),nt();break;case 26:case 27:case 5:jt(n);break;case 4:nt();break;case 13:Mn(n);break;case 19:ee(ft);break;case 10:Dn(n.type);break;case 22:case 23:Mn(n),du(),e!==null&&ee($r);break;case 24:Dn(dt)}}function Pi(e,n){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){o=void 0;var g=l.create,w=l.inst;o=g(),w.destroy=o}l=l.next}while(l!==f)}}catch(S){Ve(n,n.return,S)}}function lr(e,n,l){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var w=o.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=n;var A=l,P=S;try{P()}catch(X){Ve(f,A,X)}}}o=o.next}while(o!==g)}}catch(X){Ve(n,n.return,X)}}function C0(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{xh(n,l)}catch(o){Ve(e,e.return,o)}}}function R0(e,n,l){l.props=Gr(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Ve(e,n,o)}}function qi(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(f){Ve(e,n,f)}}function kn(e,n){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Ve(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ve(e,n,f)}else l.current=null}function O0(e){var n=e.type,l=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Ve(e,e.return,f)}}function Pu(e,n,l){try{var o=e.stateNode;Zb(o,e.type,l,n),o[Mt]=n}catch(f){Ve(e,e.return,f)}}function D0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Ns));else if(o!==4&&(o===27&&mr(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Iu(e,n,l),e=e.sibling;e!==null;)Iu(e,n,l),e=e.sibling}function ps(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ps(e,n,l),e=e.sibling;e!==null;)ps(e,n,l),e=e.sibling}function L0(e){var n=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);St(n,o,l),n[Et]=e,n[Mt]=l}catch(g){Ve(e,e.return,g)}}var Bn=!1,it=!1,Hu=!1,M0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Rb(e,n){if(e=e.containerInfo,fc=Ds,e=Yf(e),qo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,S=-1,A=-1,P=0,X=0,J=e,q=null;t:for(;;){for(var H;J!==l||f!==0&&J.nodeType!==3||(S=w+f),J!==g||o!==0&&J.nodeType!==3||(A=w+o),J.nodeType===3&&(w+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===e)break t;if(q===l&&++P===f&&(S=w),q===g&&++X===o&&(A=w),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}l=S===-1||A===-1?null:{start:S,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(hc={focusedElem:e,selectionRange:l},Ds=!1,pt=n;pt!==null;)if(n=pt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,pt=e;else for(;pt!==null;){switch(n=pt,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=n,f=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var Se=Gr(l.type,f,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(Se,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ve(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)gc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,pt=e;break}pt=n.return}}function z0(e,n,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:sr(e,l),o&4&&Pi(5,l);break;case 1:if(sr(e,l),o&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(w){Ve(l,l.return,w)}else{var f=Gr(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ve(l,l.return,w)}}o&64&&C0(l),o&512&&qi(l,l.return);break;case 3:if(sr(e,l),o&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{xh(e,n)}catch(w){Ve(l,l.return,w)}}break;case 27:n===null&&o&4&&L0(l);case 26:case 5:sr(e,l),n===null&&o&4&&O0(l),o&512&&qi(l,l.return);break;case 12:sr(e,l);break;case 13:sr(e,l),o&4&&P0(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qb.bind(null,l),av(e,l))));break;case 22:if(o=l.memoizedState!==null||Bn,!o){n=n!==null&&n.memoizedState!==null||it,f=Bn;var g=it;Bn=o,(it=n)&&!g?or(e,l,(l.subtreeFlags&8772)!==0):sr(e,l),Bn=f,it=g}break;case 30:break;default:sr(e,l)}}function U0(e){var n=e.alternate;n!==null&&(e.alternate=null,U0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&wo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Bt=!1;function Pn(e,n,l){for(l=l.child;l!==null;)B0(e,n,l),l=l.sibling}function B0(e,n,l){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(Q,l)}catch{}switch(l.tag){case 26:it||kn(l,n),Pn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:it||kn(l,n);var o=Je,f=Bt;mr(l.type)&&(Je=l.stateNode,Bt=!1),Pn(e,n,l),Xi(l.stateNode),Je=o,Bt=f;break;case 5:it||kn(l,n);case 6:if(o=Je,f=Bt,Je=null,Pn(e,n,l),Je=o,Bt=f,Je!==null)if(Bt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(g){Ve(l,n,g)}else try{Je.removeChild(l.stateNode)}catch(g){Ve(l,n,g)}break;case 18:Je!==null&&(Bt?(e=Je,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),rl(e)):Nm(Je,l.stateNode));break;case 4:o=Je,f=Bt,Je=l.stateNode.containerInfo,Bt=!0,Pn(e,n,l),Je=o,Bt=f;break;case 0:case 11:case 14:case 15:it||lr(2,l,n),it||lr(4,l,n),Pn(e,n,l);break;case 1:it||(kn(l,n),o=l.stateNode,typeof o.componentWillUnmount=="function"&&R0(l,n,o)),Pn(e,n,l);break;case 21:Pn(e,n,l);break;case 22:it=(o=it)||l.memoizedState!==null,Pn(e,n,l),it=o;break;default:Pn(e,n,l)}}function P0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(l){Ve(n,n.return,l)}}function Ob(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new M0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new M0),n;default:throw Error(i(435,e.tag))}}function $u(e,n){var l=Ob(e);n.forEach(function(o){var f=Ib.bind(null,e,o);l.has(o)||(l.add(o),o.then(f,f))})}function Gt(e,n){var l=n.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],g=e,w=n,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(mr(S.type)){Je=S.stateNode,Bt=!1;break e}break;case 5:Je=S.stateNode,Bt=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,Bt=!0;break e}S=S.return}if(Je===null)throw Error(i(160));B0(g,w,f),Je=null,Bt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)q0(n,e),n=n.sibling}var fn=null;function q0(e,n){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(n,e),Yt(e),o&4&&(lr(3,e,e.return),Pi(3,e),lr(5,e,e.return));break;case 1:Gt(n,e),Yt(e),o&512&&(it||l===null||kn(l,l.return)),o&64&&Bn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=fn;if(Gt(n,e),Yt(e),o&512&&(it||l===null||kn(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){e:{o=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ci]||g[Et]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),St(g,o,l),g[Et]=e,ht(g),o=g;break e;case"link":var w=Lm("link","href",f).get(o+(l.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(S,1);break t}}g=f.createElement(o),St(g,o,l),f.head.appendChild(g);break;case"meta":if(w=Lm("meta","content",f).get(o+(l.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(S,1);break t}}g=f.createElement(o),St(g,o,l),f.head.appendChild(g);break;default:throw Error(i(468,o))}g[Et]=e,ht(g),o=g}e.stateNode=o}else Mm(f,e.type,e.stateNode);else e.stateNode=Dm(f,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?Mm(f,e.type,e.stateNode):Dm(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pu(e,e.memoizedProps,l.memoizedProps)}break;case 27:Gt(n,e),Yt(e),o&512&&(it||l===null||kn(l,l.return)),l!==null&&o&4&&Pu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Gt(n,e),Yt(e),o&512&&(it||l===null||kn(l,l.return)),e.flags&32){f=e.stateNode;try{da(f,"")}catch(H){Ve(e,e.return,H)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Pu(e,f,l!==null?l.memoizedProps:f)),o&1024&&(Hu=!0);break;case 6:if(Gt(n,e),Yt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(H){Ve(e,e.return,H)}}break;case 3:if(Cs=null,f=fn,fn=As(n.containerInfo),Gt(n,e),fn=f,Yt(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(H){Ve(e,e.return,H)}Hu&&(Hu=!1,I0(e));break;case 4:o=fn,fn=As(e.stateNode.containerInfo),Gt(n,e),Yt(e),fn=o;break;case 12:Gt(n,e),Yt(e);break;case 13:Gt(n,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xu=st()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,P=Bn,X=it;if(Bn=P||f,it=X||A,Gt(n,e),it=X,Bn=P,Yt(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||A||Bn||it||Yr(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(g=A.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=A.stateNode;var J=A.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Ve(A,A.return,H)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(H){Ve(A,A.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,$u(e,l))));break;case 19:Gt(n,e),Yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:Gt(n,e),Yt(e)}}function Yt(e){var n=e.flags;if(n&2){try{for(var l,o=e.return;o!==null;){if(D0(o)){l=o;break}o=o.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,g=qu(e);ps(e,g,f);break;case 5:var w=l.stateNode;l.flags&32&&(da(w,""),l.flags&=-33);var S=qu(e);ps(e,S,w);break;case 3:case 4:var A=l.stateNode.containerInfo,P=qu(e);Iu(e,P,A);break;default:throw Error(i(161))}}catch(X){Ve(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function I0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;I0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)z0(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Yr(n);break;case 1:kn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&R0(n,n.return,l),Yr(n);break;case 27:Xi(n.stateNode);case 26:case 5:kn(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function or(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:or(f,g,l),Pi(4,g);break;case 1:if(or(f,g,l),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Ve(o,o.return,P)}if(o=g,f=o.updateQueue,f!==null){var S=o.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)gh(A[f],S)}catch(P){Ve(o,o.return,P)}}l&&w&64&&C0(g),qi(g,g.return);break;case 27:L0(g);case 26:case 5:or(f,g,l),l&&o===null&&w&4&&O0(g),qi(g,g.return);break;case 12:or(f,g,l);break;case 13:or(f,g,l),l&&w&4&&P0(f,g);break;case 22:g.memoizedState===null&&or(f,g,l),qi(g,g.return);break;case 30:break;default:or(f,g,l)}n=n.sibling}}function Fu(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_i(l))}function Gu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_i(e))}function Sn(e,n,l,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)H0(e,n,l,o),n=n.sibling}function H0(e,n,l,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n,l,o),f&2048&&Pi(9,n);break;case 1:Sn(e,n,l,o);break;case 3:Sn(e,n,l,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_i(e)));break;case 12:if(f&2048){Sn(e,n,l,o),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ve(n,n.return,A)}}else Sn(e,n,l,o);break;case 13:Sn(e,n,l,o);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?Sn(e,n,l,o):Ii(e,n):g._visibility&2?Sn(e,n,l,o):(g._visibility|=2,Ca(e,n,l,o,(n.subtreeFlags&10256)!==0)),f&2048&&Fu(w,n);break;case 24:Sn(e,n,l,o),f&2048&&Gu(n.alternate,n);break;default:Sn(e,n,l,o)}}function Ca(e,n,l,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,S=l,A=o,P=w.flags;switch(w.tag){case 0:case 11:case 15:Ca(g,w,S,A,f),Pi(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?Ca(g,w,S,A,f):Ii(g,w):(X._visibility|=2,Ca(g,w,S,A,f)),f&&P&2048&&Fu(w.alternate,w);break;case 24:Ca(g,w,S,A,f),f&&P&2048&&Gu(w.alternate,w);break;default:Ca(g,w,S,A,f)}n=n.sibling}}function Ii(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,o=n,f=o.flags;switch(o.tag){case 22:Ii(l,o),f&2048&&Fu(o.alternate,o);break;case 24:Ii(l,o),f&2048&&Gu(o.alternate,o);break;default:Ii(l,o)}n=n.sibling}}var Hi=8192;function Ra(e){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)$0(e),e=e.sibling}function $0(e){switch(e.tag){case 26:Ra(e),e.flags&Hi&&e.memoizedState!==null&&xv(fn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e);break;case 3:case 4:var n=fn;fn=As(e.stateNode.containerInfo),Ra(e),fn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Hi,Hi=16777216,Ra(e),Hi=n):Ra(e));break;default:Ra(e)}}function F0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $i(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];pt=o,Y0(o,e)}F0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)G0(e),e=e.sibling}function G0(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&lr(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gs(e)):$i(e);break;default:$i(e)}}function gs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];pt=o,Y0(o,e)}F0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:lr(8,n,n.return),gs(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,gs(n));break;default:gs(n)}e=e.sibling}}function Y0(e,n){for(;pt!==null;){var l=pt;switch(l.tag){case 0:case 11:case 15:lr(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_i(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,pt=o;else e:for(l=e;pt!==null;){o=pt;var f=o.sibling,g=o.return;if(U0(o),o===l){pt=null;break e}if(f!==null){f.return=g,pt=f;break e}pt=g}}}var Db={getCacheForType:function(e){var n=At(dt),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},Lb=typeof WeakMap=="function"?WeakMap:Map,He=0,Xe=null,Oe=null,ze=0,$e=0,Vt=null,ur=!1,Oa=!1,Yu=!1,qn=0,tt=0,cr=0,Vr=0,Vu=0,sn=0,Da=0,Fi=null,Pt=null,Qu=!1,Xu=0,xs=1/0,ys=null,dr=null,kt=0,fr=null,La=null,Ma=0,Ku=0,Zu=null,V0=null,Gi=0,Ju=null;function Qt(){if((He&2)!==0&&ze!==0)return ze&-ze;if(M.T!==null){var e=ka;return e!==0?e:ic()}return uf()}function Q0(){sn===0&&(sn=(ze&536870912)===0||qe?Xn():536870912);var e=ln.current;return e!==null&&(e.flags|=32),sn}function Xt(e,n,l){(e===Xe&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(za(e,0),hr(e,ze,sn,!1)),Kn(e,l),((He&2)===0||e!==Xe)&&(e===Xe&&((He&2)===0&&(Vr|=l),tt===4&&hr(e,ze,sn,!1)),jn(e))}function X0(e,n,l){if((He&6)!==0)throw Error(i(327));var o=!l&&(n&124)===0&&(n&e.expiredLanes)===0||ke(e,n),f=o?Ub(e,n):tc(e,n,!0),g=o;do{if(f===0){Oa&&!o&&hr(e,n,0,!1);break}else{if(l=e.current.alternate,g&&!Mb(l)){f=tc(e,n,!1),g=!1;continue}if(f===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var S=e;f=Fi;var A=S.current.memoizedState.isDehydrated;if(A&&(za(S,w).flags|=256),w=tc(S,w,!1),w!==2){if(Yu&&!A){S.errorRecoveryDisabledLanes|=g,Vr|=g,f=4;break e}g=Pt,Pt=f,g!==null&&(Pt===null?Pt=g:Pt.push.apply(Pt,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){za(e,0),hr(e,n,0,!0);break}e:{switch(o=e,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,sn,!ur);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=Xu+300-st(),10<f)){if(hr(o,n,sn,!ur),be(o,0,!0)!==0)break e;o.timeoutHandle=jm(K0.bind(null,o,l,Pt,ys,Qu,n,sn,Vr,Da,ur,g,2,-0,0),f);break e}K0(o,l,Pt,ys,Qu,n,sn,Vr,Da,ur,g,0,-0,0)}}break}while(!0);jn(e)}function K0(e,n,l,o,f,g,w,S,A,P,X,J,q,H){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ji={stylesheets:null,count:0,unsuspend:gv},$0(n),J=yv(),J!==null)){e.cancelPendingCommit=J(rm.bind(null,e,n,g,l,o,f,w,S,A,X,1,q,H)),hr(e,g,w,!P);return}rm(e,n,g,l,o,f,w,S,A)}function Mb(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],g=f.getSnapshot;f=f.value;try{if(!$t(g(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n,l,o){n&=~Vu,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var g=31-ye(f),w=1<<g;o[g]=-1,f&=~w}l!==0&&sf(e,l,n)}function bs(){return(He&6)===0?(Yi(0),!1):!0}function Wu(){if(Oe!==null){if($e===0)var e=Oe.return;else e=Oe,On=Ir=null,gu(e),Aa=null,zi=0,e=Oe;for(;e!==null;)T0(e.alternate,e),e=e.return;Oe=null}}function za(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Wb(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Wu(),Xe=e,Oe=l=Tn(e.current,null),ze=n,$e=0,Vt=null,ur=!1,Oa=ke(e,n),Yu=!1,Da=sn=Vu=Vr=cr=tt=0,Pt=Fi=null,Qu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ye(o),g=1<<f;n|=e[f],o&=~g}return qn=n,Il(),l}function Z0(e,n){Ae=null,M.H=ls,n===Ei||n===Kl?(n=mh(),$e=3):n===dh?(n=mh(),$e=4):$e=n===p0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vt=n,Oe===null&&(tt=1,ds(e,tn(n,e.current)))}function J0(){var e=M.H;return M.H=ls,e===null?ls:e}function W0(){var e=M.A;return M.A=Db,e}function ec(){tt=4,ur||(ze&4194048)!==ze&&ln.current!==null||(Oa=!0),(cr&134217727)===0&&(Vr&134217727)===0||Xe===null||hr(Xe,ze,sn,!1)}function tc(e,n,l){var o=He;He|=2;var f=J0(),g=W0();(Xe!==e||ze!==n)&&(ys=null,za(e,n)),n=!1;var w=tt;e:do try{if($e!==0&&Oe!==null){var S=Oe,A=Vt;switch($e){case 8:Wu(),w=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(n=!0);var P=$e;if($e=0,Vt=null,Ua(e,S,A,P),l&&Oa){w=0;break e}break;default:P=$e,$e=0,Vt=null,Ua(e,S,A,P)}}zb(),w=tt;break}catch(X){Z0(e,X)}while(!0);return n&&e.shellSuspendCounter++,On=Ir=null,He=o,M.H=f,M.A=g,Oe===null&&(Xe=null,ze=0,Il()),w}function zb(){for(;Oe!==null;)em(Oe)}function Ub(e,n){var l=He;He|=2;var o=J0(),f=W0();Xe!==e||ze!==n?(ys=null,xs=st()+500,za(e,n)):Oa=ke(e,n);e:do try{if($e!==0&&Oe!==null){n=Oe;var g=Vt;t:switch($e){case 1:$e=0,Vt=null,Ua(e,n,g,1);break;case 2:case 9:if(fh(g)){$e=0,Vt=null,tm(n);break}n=function(){$e!==2&&$e!==9||Xe!==e||($e=7),jn(e)},g.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:fh(g)?($e=0,Vt=null,tm(n)):($e=0,Vt=null,Ua(e,n,g,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var S=Oe;if(!w||zm(w)){$e=0,Vt=null;var A=S.sibling;if(A!==null)Oe=A;else{var P=S.return;P!==null?(Oe=P,vs(P)):Oe=null}break t}}$e=0,Vt=null,Ua(e,n,g,5);break;case 6:$e=0,Vt=null,Ua(e,n,g,6);break;case 8:Wu(),tt=6;break e;default:throw Error(i(462))}}Bb();break}catch(X){Z0(e,X)}while(!0);return On=Ir=null,M.H=o,M.A=f,He=l,Oe!==null?0:(Xe=null,ze=0,Il(),tt)}function Bb(){for(;Oe!==null&&!Gn();)em(Oe)}function em(e){var n=E0(e.alternate,e,qn);e.memoizedProps=e.pendingProps,n===null?vs(e):Oe=n}function tm(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=w0(l,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=w0(l,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:gu(n);default:T0(l,n),n=Oe=nh(n,qn),n=E0(l,n,qn)}e.memoizedProps=e.pendingProps,n===null?vs(e):Oe=n}function Ua(e,n,l,o){On=Ir=null,gu(n),Aa=null,zi=0;var f=n.return;try{if(Eb(e,f,n,l,ze)){tt=1,ds(e,tn(l,e.current)),Oe=null;return}}catch(g){if(f!==null)throw Oe=f,g;tt=1,ds(e,tn(l,e.current)),Oe=null;return}n.flags&32768?(qe||o===1?e=!0:Oa||(ze&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=ln.current,o!==null&&o.tag===13&&(o.flags|=16384))),nm(n,e)):vs(n)}function vs(e){var n=e;do{if((n.flags&32768)!==0){nm(n,ur);return}e=n.return;var l=Tb(n.alternate,n,qn);if(l!==null){Oe=l;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);tt===0&&(tt=5)}function nm(e,n){do{var l=Cb(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);tt=6,Oe=null}function rm(e,n,l,o,f,g,w,S,A){e.cancelPendingCommit=null;do ws();while(kt!==0);if((He&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(g=n.lanes|n.childLanes,g|=Go,gy(e,l,g,w,S,A),e===Xe&&(Oe=Xe=null,ze=0),La=n,fr=e,Ma=l,Ku=g,Zu=f,V0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hb(Vn,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,f=I.p,I.p=2,w=He,He|=4;try{Rb(e,n,l)}finally{He=w,I.p=f,M.T=o}}kt=1,am(),im(),lm()}}function am(){if(kt===1){kt=0;var e=fr,n=La,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var o=I.p;I.p=2;var f=He;He|=4;try{q0(n,e);var g=hc,w=Yf(e.containerInfo),S=g.focusedElem,A=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&Gf(S.ownerDocument.documentElement,S)){if(A!==null&&qo(S)){var P=A.start,X=A.end;if(X===void 0&&(X=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),Se=S.textContent.length,ve=Math.min(A.start,Se),Ye=A.end===void 0?ve:Math.min(A.end,Se);!H.extend&&ve>Ye&&(w=Ye,Ye=ve,ve=w);var L=Ff(S,ve),R=Ff(S,Ye);if(L&&R&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var B=J.createRange();B.setStart(L.node,L.offset),H.removeAllRanges(),ve>Ye?(H.addRange(B),H.extend(R.node,R.offset)):(B.setEnd(R.node,R.offset),H.addRange(B))}}}}for(J=[],H=S;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Z=J[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ds=!!fc,hc=fc=null}finally{He=f,I.p=o,M.T=l}}e.current=n,kt=2}}function im(){if(kt===2){kt=0;var e=fr,n=La,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var o=I.p;I.p=2;var f=He;He|=4;try{z0(e,n.alternate,n)}finally{He=f,I.p=o,M.T=l}}kt=3}}function lm(){if(kt===4||kt===3){kt=0,Yn();var e=fr,n=La,l=Ma,o=V0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,La=fr=null,sm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(dr=null),bo(l),n=n.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(Q,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,f=I.p,I.p=2,M.T=null;try{for(var g=e.onRecoverableError,w=0;w<o.length;w++){var S=o[w];g(S.value,{componentStack:S.stack})}}finally{M.T=n,I.p=f}}(Ma&3)!==0&&ws(),jn(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===Ju?Gi++:(Gi=0,Ju=e):Gi=0,Yi(0)}}function sm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_i(n)))}function ws(e){return am(),im(),lm(),om()}function om(){if(kt!==5)return!1;var e=fr,n=Ku;Ku=0;var l=bo(Ma),o=M.T,f=I.p;try{I.p=32>l?32:l,M.T=null,l=Zu,Zu=null;var g=fr,w=Ma;if(kt=0,La=fr=null,Ma=0,(He&6)!==0)throw Error(i(331));var S=He;if(He|=4,G0(g.current),H0(g,g.current,w,l),He=S,Yi(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(Q,g)}catch{}return!0}finally{I.p=f,M.T=o,sm(e,n)}}function um(e,n,l){n=tn(l,n),n=Cu(e.stateNode,n,2),e=nr(e,n,2),e!==null&&(Kn(e,2),jn(e))}function Ve(e,n,l){if(e.tag===3)um(e,e,l);else for(;n!==null;){if(n.tag===3){um(n,e,l);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=tn(l,e),l=h0(2),o=nr(n,l,2),o!==null&&(m0(l,o,n,e),Kn(o,2),jn(o));break}}n=n.return}}function nc(e,n,l){var o=e.pingCache;if(o===null){o=e.pingCache=new Lb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(l)||(Yu=!0,f.add(l),e=Pb.bind(null,e,n,l),n.then(e,e))}function Pb(e,n,l){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Xe===e&&(ze&l)===l&&(tt===4||tt===3&&(ze&62914560)===ze&&300>st()-Xu?(He&2)===0&&za(e,0):Vu|=l,Da===ze&&(Da=0)),jn(e)}function cm(e,n){n===0&&(n=yn()),e=ya(e,n),e!==null&&(Kn(e,n),jn(e))}function qb(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cm(e,l)}function Ib(e,n){var l=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(n),cm(e,l)}function Hb(e,n){return lt(e,n)}var ks=null,Ba=null,rc=!1,Ss=!1,ac=!1,Qr=0;function jn(e){e!==Ba&&e.next===null&&(Ba===null?ks=Ba=e:Ba=Ba.next=e),Ss=!0,rc||(rc=!0,Fb())}function Yi(e,n){if(!ac&&Ss){ac=!0;do for(var l=!1,o=ks;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var w=o.suspendedLanes,S=o.pingedLanes;g=(1<<31-ye(42|e)+1)-1,g&=f&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,mm(o,g))}else g=ze,g=be(o,o===Xe?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||ke(o,g)||(l=!0,mm(o,g));o=o.next}while(l);ac=!1}}function $b(){dm()}function dm(){Ss=rc=!1;var e=0;Qr!==0&&(Jb()&&(e=Qr),Qr=0);for(var n=st(),l=null,o=ks;o!==null;){var f=o.next,g=fm(o,n);g===0?(o.next=null,l===null?ks=f:l.next=f,f===null&&(Ba=l)):(l=o,(e!==0||(g&3)!==0)&&(Ss=!0)),o=f}Yi(e)}function fm(e,n){for(var l=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-ye(g),S=1<<w,A=f[w];A===-1?((S&l)===0||(S&o)!==0)&&(f[w]=Ce(S,n)):A<=n&&(e.expiredLanes|=S),g&=~S}if(n=Xe,l=ze,l=be(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===n&&($e===2||$e===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&vt(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ke(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(o!==null&&vt(o),bo(l)){case 2:case 8:l=Cr;break;case 32:l=Vn;break;case 268435456:l=ra;break;default:l=Vn}return o=hm.bind(null,e),l=lt(l,o),e.callbackPriority=n,e.callbackNode=l,n}return o!==null&&o!==null&&vt(o),e.callbackPriority=2,e.callbackNode=null,2}function hm(e,n){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ws()&&e.callbackNode!==l)return null;var o=ze;return o=be(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(X0(e,o,n),fm(e,st()),e.callbackNode!=null&&e.callbackNode===l?hm.bind(null,e):null)}function mm(e,n){if(ws())return null;X0(e,n,!0)}function Fb(){ev(function(){(He&6)!==0?lt(Tr,$b):dm()})}function ic(){return Qr===0&&(Qr=Xn()),Qr}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function gm(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Gb(e,n,l,o,f){if(n==="submit"&&l&&l.stateNode===f){var g=pm((f[Mt]||null).action),w=o.submitter;w&&(n=(n=w[Mt]||null)?pm(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var S=new Bl("action","action",null,o,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qr!==0){var A=w?gm(f,w):new FormData(f);_u(l,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(S.preventDefault(),A=w?gm(f,w):new FormData(f),_u(l,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var lc=0;lc<Fo.length;lc++){var sc=Fo[lc],Yb=sc.toLowerCase(),Vb=sc[0].toUpperCase()+sc.slice(1);dn(Yb,"on"+Vb)}dn(Xf,"onAnimationEnd"),dn(Kf,"onAnimationIteration"),dn(Zf,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(cb,"onTransitionRun"),dn(db,"onTransitionStart"),dn(fb,"onTransitionCancel"),dn(Jf,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vi));function xm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],f=o.event;o=o.listeners;e:{var g=void 0;if(n)for(var w=o.length-1;0<=w;w--){var S=o[w],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=P;try{g(f)}catch(X){cs(X)}f.currentTarget=null,g=A}else for(w=0;w<o.length;w++){if(S=o[w],A=S.instance,P=S.currentTarget,S=S.listener,A!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=P;try{g(f)}catch(X){cs(X)}f.currentTarget=null,g=A}}}}function De(e,n){var l=n[vo];l===void 0&&(l=n[vo]=new Set);var o=e+"__bubble";l.has(o)||(ym(n,e,2,!1),l.add(o))}function oc(e,n,l){var o=0;n&&(o|=4),ym(l,e,o,n)}var js="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[js]){e[js]=!0,df.forEach(function(l){l!=="selectionchange"&&(Qb.has(l)||oc(l,!1,e),oc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[js]||(n[js]=!0,oc("selectionchange",!1,n))}}function ym(e,n,l,o){switch(Hm(n)){case 2:var f=wv;break;case 8:f=kv;break;default:f=Sc}l=f.bind(null,n,l,e),f=void 0,!Ro||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function cc(e,n,l,o,f){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var S=o.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=o.return;w!==null;){var A=w.tag;if((A===3||A===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=ia(S),w===null)return;if(A=w.tag,A===5||A===6||A===26||A===27){o=g=w;continue e}S=S.parentNode}}o=o.return}_f(function(){var P=g,X=To(l),J=[];e:{var q=Wf.get(e);if(q!==void 0){var H=Bl,Se=e;switch(e){case"keypress":if(zl(l)===0)break e;case"keydown":case"keyup":H=Hy;break;case"focusin":Se="focus",H=Mo;break;case"focusout":Se="blur",H=Mo;break;case"beforeblur":case"afterblur":H=Mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Gy;break;case Xf:case Kf:case Zf:H=Dy;break;case Jf:H=Vy;break;case"scroll":case"scrollend":H=Ay;break;case"wheel":H=Xy;break;case"copy":case"cut":case"paste":H=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Cf;break;case"toggle":case"beforetoggle":H=Zy}var ve=(n&4)!==0,Ye=!ve&&(e==="scroll"||e==="scrollend"),L=ve?q!==null?q+"Capture":null:q;ve=[];for(var R=P,B;R!==null;){var Z=R;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=fi(R,L),Z!=null&&ve.push(Qi(R,Z,B))),Ye)break;R=R.return}0<ve.length&&(q=new H(q,Se,null,l,X),J.push({event:q,listeners:ve}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",q&&l!==Ao&&(Se=l.relatedTarget||l.fromElement)&&(ia(Se)||Se[aa]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Se=l.relatedTarget||l.toElement,H=P,Se=Se?ia(Se):null,Se!==null&&(Ye=u(Se),ve=Se.tag,Se!==Ye||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(H=null,Se=P),H!==Se)){if(ve=Af,Z="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Cf,Z="onPointerLeave",L="onPointerEnter",R="pointer"),Ye=H==null?q:di(H),B=Se==null?q:di(Se),q=new ve(Z,R+"leave",H,l,X),q.target=Ye,q.relatedTarget=B,Z=null,ia(X)===P&&(ve=new ve(L,R+"enter",Se,l,X),ve.target=B,ve.relatedTarget=Ye,Z=ve),Ye=Z,H&&Se)t:{for(ve=H,L=Se,R=0,B=ve;B;B=Pa(B))R++;for(B=0,Z=L;Z;Z=Pa(Z))B++;for(;0<R-B;)ve=Pa(ve),R--;for(;0<B-R;)L=Pa(L),B--;for(;R--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Pa(ve),L=Pa(L)}ve=null}else ve=null;H!==null&&bm(J,q,H,ve,!1),Se!==null&&Ye!==null&&bm(J,Ye,Se,ve,!0)}}e:{if(q=P?di(P):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var fe=Bf;else if(zf(q))if(Pf)fe=sb;else{fe=ib;var Re=ab}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Eo(P.elementType)&&(fe=Bf):fe=lb;if(fe&&(fe=fe(e,P))){Uf(J,fe,l,X);break e}Re&&Re(e,q,P),e==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&No(q,"number",q.value)}switch(Re=P?di(P):window,e){case"focusin":(zf(Re)||Re.contentEditable==="true")&&(pa=Re,Io=P,vi=null);break;case"focusout":vi=Io=pa=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Vf(J,l,X);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Vf(J,l,X)}var me;if(Uo)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ma?Lf(e,l)&&(we="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Rf&&l.locale!=="ko"&&(ma||we!=="onCompositionStart"?we==="onCompositionEnd"&&ma&&(me=Nf()):(Jn=X,Oo="value"in Jn?Jn.value:Jn.textContent,ma=!0)),Re=_s(P,we),0<Re.length&&(we=new Tf(we,e,null,l,X),J.push({event:we,listeners:Re}),me?we.data=me:(me=Mf(l),me!==null&&(we.data=me)))),(me=Wy?eb(e,l):tb(e,l))&&(we=_s(P,"onBeforeInput"),0<we.length&&(Re=new Tf("onBeforeInput","beforeinput",null,l,X),J.push({event:Re,listeners:we}),Re.data=me)),Gb(J,e,P,l,X)}xm(J,n)})}function Qi(e,n,l){return{instance:e,listener:n,currentTarget:l}}function _s(e,n){for(var l=n+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=fi(e,l),f!=null&&o.unshift(Qi(e,f,g)),f=fi(e,n),f!=null&&o.push(Qi(e,f,g))),e.tag===3)return o;e=e.return}return[]}function Pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,n,l,o,f){for(var g=n._reactName,w=[];l!==null&&l!==o;){var S=l,A=S.alternate,P=S.stateNode;if(S=S.tag,A!==null&&A===o)break;S!==5&&S!==26&&S!==27||P===null||(A=P,f?(P=fi(l,g),P!=null&&w.unshift(Qi(l,P,A))):f||(P=fi(l,g),P!=null&&w.push(Qi(l,P,A)))),l=l.return}w.length!==0&&e.push({event:n,listeners:w})}var Xb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(Xb,`
`).replace(Kb,"")}function wm(e,n){return n=vm(n),vm(e)===n}function Ns(){}function Ge(e,n,l,o,f,g){switch(l){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||da(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&da(e,""+o);break;case"className":Rl(e,"class",o);break;case"tabIndex":Rl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rl(e,l,o);break;case"style":Sf(e,o,g);break;case"data":if(n!=="object"){Rl(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Ll(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(n!=="input"&&Ge(e,n,"name",f.name,f,null),Ge(e,n,"formEncType",f.formEncType,f,null),Ge(e,n,"formMethod",f.formMethod,f,null),Ge(e,n,"formTarget",f.formTarget,f,null)):(Ge(e,n,"encType",f.encType,f,null),Ge(e,n,"method",f.method,f,null),Ge(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Ll(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Ns);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=Ll(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":De("beforetoggle",e),De("toggle",e),Cl(e,"popover",o);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Cl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ny.get(l)||l,Cl(e,l,o))}}function dc(e,n,l,o,f,g){switch(l){case"style":Sf(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"children":typeof o=="string"?da(e,o):(typeof o=="number"||typeof o=="bigint")&&da(e,""+o);break;case"onScroll":o!=null&&De("scroll",e);break;case"onScrollEnd":o!=null&&De("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ns);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ff.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),g=e[Mt]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(n,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,o,f);break e}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Cl(e,l,o)}}}function St(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var o=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ge(e,n,g,w,l,null)}}f&&Ge(e,n,"srcSet",l.srcSet,l,null),o&&Ge(e,n,"src",l.src,l,null);return;case"input":De("invalid",e);var S=g=w=f=null,A=null,P=null;for(o in l)if(l.hasOwnProperty(o)){var X=l[o];if(X!=null)switch(o){case"name":f=X;break;case"type":w=X;break;case"checked":A=X;break;case"defaultChecked":P=X;break;case"value":g=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,n));break;default:Ge(e,n,o,X,l,null)}}bf(e,g,S,A,P,w,f,!1),Ol(e);return;case"select":De("invalid",e),o=w=g=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":o=S;default:Ge(e,n,f,S,l,null)}n=g,l=w,e.multiple=!!o,n!=null?ca(e,!!o,n,!1):l!=null&&ca(e,!!o,l,!0);return;case"textarea":De("invalid",e),g=f=o=null;for(w in l)if(l.hasOwnProperty(w)&&(S=l[w],S!=null))switch(w){case"value":o=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Ge(e,n,w,S,l,null)}wf(e,o,f,g),Ol(e);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(o=l[A],o!=null))switch(A){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ge(e,n,A,o,l,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(o=0;o<Vi.length;o++)De(Vi[o],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(o=l[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ge(e,n,P,o,l,null)}return;default:if(Eo(n)){for(X in l)l.hasOwnProperty(X)&&(o=l[X],o!==void 0&&dc(e,n,X,o,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(o=l[S],o!=null&&Ge(e,n,S,o,l,null))}function Zb(e,n,l,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,S=null,A=null,P=null,X=null;for(H in l){var J=l[H];if(l.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=J;default:o.hasOwnProperty(H)||Ge(e,n,H,null,o,J)}}for(var q in o){var H=o[q];if(J=l[q],o.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":g=H;break;case"name":f=H;break;case"checked":P=H;break;case"defaultChecked":X=H;break;case"value":w=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,n));break;default:H!==J&&Ge(e,n,q,H,o,J)}}_o(e,w,S,A,P,X,g,f);return;case"select":H=w=S=q=null;for(g in l)if(A=l[g],l.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":H=A;default:o.hasOwnProperty(g)||Ge(e,n,g,null,o,A)}for(f in o)if(g=o[f],A=l[f],o.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":q=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==A&&Ge(e,n,f,g,o,A)}n=S,l=w,o=H,q!=null?ca(e,!!l,q,!1):!!o!=!!l&&(n!=null?ca(e,!!l,n,!0):ca(e,!!l,l?[]:"",!1));return;case"textarea":H=q=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(e,n,S,null,o,f)}for(w in o)if(f=o[w],g=l[w],o.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ge(e,n,w,f,o,g)}vf(e,q,H);return;case"option":for(var Se in l)if(q=l[Se],l.hasOwnProperty(Se)&&q!=null&&!o.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:Ge(e,n,Se,null,o,q)}for(A in o)if(q=o[A],H=l[A],o.hasOwnProperty(A)&&q!==H&&(q!=null||H!=null))switch(A){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ge(e,n,A,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)q=l[ve],l.hasOwnProperty(ve)&&q!=null&&!o.hasOwnProperty(ve)&&Ge(e,n,ve,null,o,q);for(P in o)if(q=o[P],H=l[P],o.hasOwnProperty(P)&&q!==H&&(q!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,n));break;default:Ge(e,n,P,q,o,H)}return;default:if(Eo(n)){for(var Ye in l)q=l[Ye],l.hasOwnProperty(Ye)&&q!==void 0&&!o.hasOwnProperty(Ye)&&dc(e,n,Ye,void 0,o,q);for(X in o)q=o[X],H=l[X],!o.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||dc(e,n,X,q,o,H);return}}for(var L in l)q=l[L],l.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&Ge(e,n,L,null,o,q);for(J in o)q=o[J],H=l[J],!o.hasOwnProperty(J)||q===H||q==null&&H==null||Ge(e,n,J,q,o,H)}var fc=null,hc=null;function Es(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pc=null;function Jb(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,ev=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(tv)}:jm;function tv(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function Nm(e,n){var l=n,o=0,f=0;do{var g=l.nextSibling;if(e.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<o&&8>o){l=o;var w=e.ownerDocument;if(l&1&&Xi(w.documentElement),l&2&&Xi(w.body),l&4)for(l=w.head,Xi(l),w=l.firstChild;w;){var S=w.nextSibling,A=w.nodeName;w[ci]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=S}}if(f===0){e.removeChild(g),rl(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:o=l.charCodeAt(0)-48;else o=0;l=g}while(l);rl(n)}function gc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gc(l),wo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function nv(e,n,l,o){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function rv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=hn(e.nextSibling),e===null))return null;return e}function xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function av(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var o=function(){n(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var yc=null;function Em(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function Am(e,n,l){switch(n=Es(l),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Xi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);wo(e)}var on=new Map,Tm=new Set;function As(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=I.d;I.d={f:iv,r:lv,D:sv,C:ov,L:uv,m:cv,X:fv,S:dv,M:hv};function iv(){var e=In.f(),n=bs();return e||n}function lv(e){var n=la(e);n!==null&&n.tag===5&&n.type==="form"?Xh(n):In.r(e)}var qa=typeof document>"u"?null:document;function Cm(e,n,l){var o=qa;if(o&&typeof n=="string"&&n){var f=en(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Tm.has(f)||(Tm.add(f),e={rel:e,crossOrigin:l,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),St(n,"link",e),ht(n),o.head.appendChild(n)))}}function sv(e){In.D(e),Cm("dns-prefetch",e,null)}function ov(e,n){In.C(e,n),Cm("preconnect",e,n)}function uv(e,n,l){In.L(e,n,l);var o=qa;if(o&&e&&n){var f='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+en(l.imageSizes)+'"]')):f+='[href="'+en(e)+'"]';var g=f;switch(n){case"style":g=Ia(e);break;case"script":g=Ha(e)}on.has(g)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),on.set(g,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Ki(g))||n==="script"&&o.querySelector(Zi(g))||(n=o.createElement("link"),St(n,"link",e),ht(n),o.head.appendChild(n)))}}function cv(e,n){In.m(e,n);var l=qa;if(l&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ha(e)}if(!on.has(g)&&(e=x({rel:"modulepreload",href:e},n),on.set(g,e),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zi(g)))return}o=l.createElement("link"),St(o,"link",e),ht(o),l.head.appendChild(o)}}}function dv(e,n,l){In.S(e,n,l);var o=qa;if(o&&e){var f=sa(o).hoistableStyles,g=Ia(e);n=n||"default";var w=f.get(g);if(!w){var S={loading:0,preload:null};if(w=o.querySelector(Ki(g)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=on.get(g))&&bc(e,l);var A=w=o.createElement("link");ht(A),St(A,"link",e),A._p=new Promise(function(P,X){A.onload=P,A.onerror=X}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ts(w,n,o)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(g,w)}}}function fv(e,n){In.X(e,n);var l=qa;if(l&&e){var o=sa(l).hoistableScripts,f=Ha(e),g=o.get(f);g||(g=l.querySelector(Zi(f)),g||(e=x({src:e,async:!0},n),(n=on.get(f))&&vc(e,n),g=l.createElement("script"),ht(g),St(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function hv(e,n){In.M(e,n);var l=qa;if(l&&e){var o=sa(l).hoistableScripts,f=Ha(e),g=o.get(f);g||(g=l.querySelector(Zi(f)),g||(e=x({src:e,async:!0,type:"module"},n),(n=on.get(f))&&vc(e,n),g=l.createElement("script"),ht(g),St(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function Rm(e,n,l,o){var f=(f=ce.current)?As(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Ia(l.href),l=sa(f).hoistableStyles,o=l.get(n),o||(o={type:"style",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ia(l.href);var g=sa(f).hoistableStyles,w=g.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=f.querySelector(Ki(e)))&&!g._p&&(w.instance=g,w.state.loading=5),on.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},on.set(e,l),g||mv(f,e,l,w.state))),n&&o===null)throw Error(i(528,""));return w}if(n&&o!==null)throw Error(i(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(l),l=sa(f).hoistableScripts,o=l.get(n),o||(o={type:"script",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ia(e){return'href="'+en(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function Om(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function mv(e,n,l,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),St(n,"link",l),ht(n),e.head.appendChild(n))}function Ha(e){return'[src="'+en(e)+'"]'}function Zi(e){return"script[async]"+e}function Dm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(l.href)+'"]');if(o)return n.instance=o,ht(o),o;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ht(o),St(o,"style",f),Ts(o,l.precedence,e),n.instance=o;case"stylesheet":f=Ia(l.href);var g=e.querySelector(Ki(f));if(g)return n.state.loading|=4,n.instance=g,ht(g),g;o=Om(l),(f=on.get(f))&&bc(o,f),g=(e.ownerDocument||e).createElement("link"),ht(g);var w=g;return w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),St(g,"link",o),n.state.loading|=4,Ts(g,l.precedence,e),n.instance=g;case"script":return g=Ha(l.src),(f=e.querySelector(Zi(g)))?(n.instance=f,ht(f),f):(o=l,(f=on.get(g))&&(o=x({},l),vc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),ht(f),St(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ts(o,l.precedence,e));return n.instance}function Ts(e,n,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,w=0;w<o.length;w++){var S=o[w];if(S.dataset.precedence===n)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cs=null;function Lm(e,n,l){if(Cs===null){var o=new Map,f=Cs=new Map;f.set(l,o)}else f=Cs,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[ci]||g[Et]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var S=o.get(w);S?S.push(g):o.set(w,[g])}}return o}function Mm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function pv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ji=null;function gv(){}function xv(e,n,l){if(Ji===null)throw Error(i(475));var o=Ji;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ia(l.href),g=e.querySelector(Ki(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Rs.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=g,ht(g);return}g=e.ownerDocument||e,l=Om(l),(f=on.get(f))&&bc(l,f),g=g.createElement("link"),ht(g);var w=g;w._p=new Promise(function(S,A){w.onload=S,w.onerror=A}),St(g,"link",l),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Rs.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function yv(){if(Ji===null)throw Error(i(475));var e=Ji;return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Rs(){if(this.count--,this.count===0){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Os=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Os=new Map,n.forEach(bv,e),Os=null,Rs.call(e))}function bv(e,n){if(!(n.state.loading&4)){var l=Os.get(e);if(l)var o=l.get(null);else{l=new Map,Os.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),o=w)}o&&l.set(null,o)}f=n.instance,w=f.getAttribute("data-precedence"),g=l.get(w)||o,g===o&&l.set(null,f),l.set(w,f),this.count++,o=Rs.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Wi={$$typeof:E,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function vv(e,n,l,o,f,g,w,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.hiddenUpdates=bn(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Um(e,n,l,o,f,g,w,S,A,P,X,J){return e=new vv(e,n,l,w,S,A,P,J),n=1,g===!0&&(n|=24),g=Ft(3,null,null,n),e.current=g,g.stateNode=e,n=nu(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:n},lu(g),e}function Bm(e){return e?(e=ba,e):ba}function Pm(e,n,l,o,f,g){f=Bm(f),o.context===null?o.context=f:o.pendingContext=f,o=tr(n),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=nr(e,o,n),l!==null&&(Xt(l,e,n),Ti(l,e,n))}function qm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function kc(e,n){qm(e,n),(e=e.alternate)&&qm(e,n)}function Im(e){if(e.tag===13){var n=ya(e,67108864);n!==null&&Xt(n,e,67108864),kc(e,67108864)}}var Ds=!0;function wv(e,n,l,o){var f=M.T;M.T=null;var g=I.p;try{I.p=2,Sc(e,n,l,o)}finally{I.p=g,M.T=f}}function kv(e,n,l,o){var f=M.T;M.T=null;var g=I.p;try{I.p=8,Sc(e,n,l,o)}finally{I.p=g,M.T=f}}function Sc(e,n,l,o){if(Ds){var f=jc(o);if(f===null)cc(e,n,o,Ls,l),$m(e,o);else if(jv(f,e,n,l,o))o.stopPropagation();else if($m(e,o),n&4&&-1<Sv.indexOf(e)){for(;f!==null;){var g=la(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ue(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var A=1<<31-ye(w);S.entanglements[1]|=A,w&=~A}jn(g),(He&6)===0&&(xs=st()+500,Yi(0))}}break;case 13:S=ya(g,2),S!==null&&Xt(S,g,2),bs(),kc(g,2)}if(g=jc(o),g===null&&cc(e,n,o,Ls,l),g===f)break;f=g}f!==null&&o.stopPropagation()}else cc(e,n,o,null,l)}}function jc(e){return e=To(e),_c(e)}var Ls=null;function _c(e){if(Ls=null,e=ia(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=c(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ls=e,null}function Hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oi()){case Tr:return 2;case Cr:return 8;case Vn:case ui:return 32;case ra:return 268435456;default:return 32}default:return 32}}var Nc=!1,pr=null,gr=null,xr=null,el=new Map,tl=new Map,yr=[],Sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(e,n){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function nl(e,n,l,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},n!==null&&(n=la(n),n!==null&&Im(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function jv(e,n,l,o,f){switch(n){case"focusin":return pr=nl(pr,e,n,l,o,f),!0;case"dragenter":return gr=nl(gr,e,n,l,o,f),!0;case"mouseover":return xr=nl(xr,e,n,l,o,f),!0;case"pointerover":var g=f.pointerId;return el.set(g,nl(el.get(g)||null,e,n,l,o,f)),!0;case"gotpointercapture":return g=f.pointerId,tl.set(g,nl(tl.get(g)||null,e,n,l,o,f)),!0}return!1}function Fm(e){var n=ia(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=c(l),n!==null){e.blockedOn=n,xy(e.priority,function(){if(l.tag===13){var o=Qt();o=yo(o);var f=ya(l,o);f!==null&&Xt(f,l,o),kc(l,o)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=jc(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);Ao=o,l.target.dispatchEvent(o),Ao=null}else return n=la(l),n!==null&&Im(n),e.blockedOn=l,!1;n.shift()}return!0}function Gm(e,n,l){Ms(e)&&l.delete(n)}function _v(){Nc=!1,pr!==null&&Ms(pr)&&(pr=null),gr!==null&&Ms(gr)&&(gr=null),xr!==null&&Ms(xr)&&(xr=null),el.forEach(Gm),tl.forEach(Gm)}function zs(e,n){e.blockedOn===n&&(e.blockedOn=null,Nc||(Nc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_v)))}var Us=null;function Ym(e){Us!==e&&(Us=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Us===e&&(Us=null);for(var n=0;n<e.length;n+=3){var l=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(_c(o||l)===null)continue;break}var g=la(l);g!==null&&(e.splice(n,3),n-=3,_u(g,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function rl(e){function n(A){return zs(A,e)}pr!==null&&zs(pr,e),gr!==null&&zs(gr,e),xr!==null&&zs(xr,e),el.forEach(n),tl.forEach(n);for(var l=0;l<yr.length;l++){var o=yr[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)Fm(l),l.blockedOn===null&&yr.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],g=l[o+1],w=f[Mt]||null;if(typeof g=="function")w||Ym(l);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[Mt]||null)S=w.formAction;else if(_c(f)!==null)continue}else S=w.action;typeof S=="function"?l[o+1]=S:(l.splice(o,3),o-=3),Ym(l)}}}function Ec(e){this._internalRoot=e}Bs.prototype.render=Ec.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var l=n.current,o=Qt();Pm(l,o,e,n,null,null)},Bs.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Pm(e.current,2,null,e,null,null),bs(),n[aa]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var n=uf();e={blockedOn:null,target:e,priority:n};for(var l=0;l<yr.length&&n!==0&&n<yr[l].priority;l++);yr.splice(l,0,e),l===0&&Fm(e)}};var Vm=r.version;if(Vm!=="19.1.0")throw Error(i(527,Vm,"19.1.0"));I.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Nv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{Q=Ps.inject(Nv),ne=Ps}catch{}}return il.createRoot=function(e,n){if(!s(e))throw Error(i(299));var l=!1,o="",f=u0,g=c0,w=d0,S=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Um(e,1,!1,null,null,l,o,f,g,w,S,null),e[aa]=n.current,uc(e),new Ec(n)},il.hydrateRoot=function(e,n,l){if(!s(e))throw Error(i(299));var o=!1,f="",g=u0,w=c0,S=d0,A=null,P=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(P=l.formState)),n=Um(e,1,!0,n,l??null,o,f,g,w,S,A,P),n.context=Bm(null),l=n.current,o=Qt(),o=yo(o),f=tr(o),f.callback=null,nr(l,f,o),l=o,n.current.lanes=l,Kn(n,l),jn(n),e[aa]=n.current,uc(e),new Bs(n)},il.version="19.1.0",il}var rp;function Uv(){if(rp)return Cc.exports;rp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Cc.exports=zv(),Cc.exports}var Bv=Uv();const Pv=jl(Bv),ap=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),ip=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),qv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),to=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),cd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),dd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),lp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),fd=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),hd=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),no=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),qg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),co=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),sp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Iv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),Hv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),Js=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Wr=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:d.jsxs("g",{children:[d.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:d.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),d.jsx("g",{})]})}),Nr=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),gn=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$v=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Ig=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ro=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Fv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Gv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),op=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),up=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),cp=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),dp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),fp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Yv=({className:t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),Vv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),hp=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Hg=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),Qv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Xv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Kv=({className:t})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Zv=({onImageSelect:t,isLoading:r})=>{const[a,i]=F.useState(!1),[s,u]=F.useState(null),c=F.useRef(null),h=F.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const j=new FileReader;j.onloadend=()=>{try{const N=j.result;u(N),t(b)}catch(N){console.error("Error processing image file:",N),alert("Gagal memproses file gambar. Silakan coba file lain.")}},j.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},j.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[t]),p=F.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?i(!0):b.type==="dragleave"&&i(!1)},[]),m=F.useCallback(b=>{b.preventDefault(),b.stopPropagation(),i(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&h(b.dataTransfer.files[0])},[h]),x=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&h(b.target.files[0])},y=()=>{var b;(b=c.current)==null||b.click()},v=F.useCallback(b=>{var C,T;if(r||!c.current)return;const j=(C=b.clipboardData)==null?void 0:C.items;if(!j)return;const N=(T=Array.from(j).find(O=>O.kind==="file"&&O.type.startsWith("image/")))==null?void 0:T.getAsFile();N&&(b.preventDefault(),h(N))},[r,h]);return F.useEffect(()=>(document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}),[v]),d.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${a?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!s&&"bg-white dark:bg-slate-800"}`}`,children:[d.jsx("input",{ref:c,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:x,disabled:r}),s?d.jsxs("div",{className:"w-full h-full relative",children:[d.jsx("img",{src:s,alt:"Chart preview",className:"object-contain w-full h-full rounded-md"}),r&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg",children:[d.jsx(Wr,{className:"w-16 h-16 text-violet-600 dark:text-violet-400"}),d.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx(sp,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),d.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),d.jsxs("button",{type:"button",onClick:y,disabled:r,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[d.jsx(sp,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},ll="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",sl="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",mp="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Jv=({params:t,timeframeSettings:r})=>{const[a,i]=F.useState(t.accountBalance||""),[s,u]=F.useState(t.leverage||"10"),[c,h]=F.useState(t.entryPrice||""),[p,m]=F.useState(t.stopLoss||""),[x,y]=F.useState(""),[v,b]=F.useState("LONG"),j=C=>parseFloat(C.replace(",",".")),N=F.useMemo(()=>{const C=j(a),T=j(s),O=j(c),E=j(p),Y=j(x);if([C,T,O,E,Y].some(isNaN)||C<=0||T<=0||O<=0||E<=0||Y<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const V=C*T;let D=0,te=0,oe=0,de=0;v==="LONG"?(D=(E-O)*V/O,te=(Y-O)*V/O,oe=Math.abs(te/Math.abs(D)),de=O*(1-1/T)):(D=(O-E)*V/O,te=(O-Y)*V/O,oe=Math.abs(te/Math.abs(D)),de=O*(1+1/T));const U=C,z=C,G=`${(D/C*100).toFixed(2)}%`,K=`${(te/C*100).toFixed(2)}%`;let W="";return oe<1?W="RRR di bawah standar minimum!":D>=0?W="Stop Loss tidak valid (tidak rugi)!":te<=0&&(W="Take Profit tidak valid (tidak untung)!"),{contract:`$${V.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:E,slMargin:`$${U.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${D>=0?"+":""}$${D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:G,tp:Y,tpMargin:`$${z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${te>=0?"+":""}$${te.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:K,rrr:oe.toFixed(2),liq:de.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:W}},[a,s,c,p,x,v]);return d.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx(Hv,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),d.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:r.text})]})}),d.jsx("div",{className:sl,children:d.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),d.jsx("input",{type:"number",className:ll,value:a,onChange:C=>i(C.target.value),placeholder:"e.g. 6.64"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),d.jsx("input",{type:"number",className:ll,value:s,onChange:C=>u(C.target.value),min:1,max:125})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),d.jsx("input",{type:"number",className:ll,value:c,onChange:C=>h(C.target.value),placeholder:"e.g. 0.621"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),d.jsx("input",{type:"number",className:ll,value:p,onChange:C=>m(C.target.value),placeholder:"e.g. 0.62552"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),d.jsx("input",{type:"number",className:ll,value:x,onChange:C=>y(C.target.value),placeholder:"e.g. 0.6185"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),d.jsxs("div",{className:"flex gap-3 mt-1",children:[d.jsx("button",{onClick:()=>b("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${v==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),d.jsx("button",{onClick:()=>b("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${v==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:sl,children:[d.jsx("h4",{className:mp,children:"Nilai Kontrak"}),d.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[d.jsx("span",{children:"Total Kontrak"}),d.jsx("span",{children:N.contract})]})]}),d.jsxs("div",{className:sl+" border-l-4 border-red-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi SL (USDT)"}),d.jsx("span",{children:N.sl})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:N.slMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:N.slProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:N.slProfitPct})]})]}),d.jsxs("div",{className:sl+" border-l-4 border-emerald-400",children:[d.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Estimasi TP (USDT)"}),d.jsx("span",{children:N.tp})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Margin Penutupan (USDT)"}),d.jsx("span",{children:N.tpMargin})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (USDT)"}),d.jsx("span",{children:N.tpProfit})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Est. Profit (%)"}),d.jsx("span",{children:N.tpProfitPct})]})]}),d.jsxs("div",{className:sl,children:[d.jsx("h4",{className:mp,children:"Ringkasan"}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),d.jsx("span",{children:N.rrr})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Liquidation Price (estimasi)"}),d.jsx("span",{children:N.liq})]})]}),N.warning&&d.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:N.warning})]})]})};function Wv(t,r){const a={};return(t[t.length-1]===""?[...t,""]:t).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const e1=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t1=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n1={};function pp(t,r){return(n1.jsx?t1:e1).test(t)}const r1=/[ \t\n\f\r]/g;function a1(t){return typeof t=="object"?t.type==="text"?gp(t.value):!1:gp(t)}function gp(t){return t.replace(r1,"")===""}class _l{constructor(r,a,i){this.normal=a,this.property=r,i&&(this.space=i)}}_l.prototype.normal={};_l.prototype.property={};_l.prototype.space=void 0;function $g(t,r){const a={},i={};for(const s of t)Object.assign(a,s.property),Object.assign(i,s.normal);return new _l(a,i,r)}function md(t){return t.toLowerCase()}class Ht{constructor(r,a){this.attribute=a,this.property=r}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let i1=0;const Ee=ta(),ct=ta(),pd=ta(),re=ta(),Ze=ta(),ni=ta(),Kt=ta();function ta(){return 2**++i1}const gd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:ct,commaOrSpaceSeparated:Kt,commaSeparated:ni,number:re,overloadedBoolean:pd,spaceSeparated:Ze},Symbol.toStringTag,{value:"Module"})),Lc=Object.keys(gd);class Md extends Ht{constructor(r,a,i,s){let u=-1;if(super(r,a),xp(this,"space",s),typeof i=="number")for(;++u<Lc.length;){const c=Lc[u];xp(this,Lc[u],(i&gd[c])===gd[c])}}}Md.prototype.defined=!0;function xp(t,r,a){a&&(t[r]=a)}function ii(t){const r={},a={};for(const[i,s]of Object.entries(t.properties)){const u=new Md(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),r[i]=u,a[md(i)]=i,a[md(u.attribute)]=i}return new _l(r,a,t.space)}const Fg=ii({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:Ze,ariaCurrent:null,ariaDescribedBy:Ze,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:Ze,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:Ze,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ze,ariaLevel:re,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:Ze,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:Ze,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:ct,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()}});function Gg(t,r){return r in t?t[r]:r}function Yg(t,r){return Gg(t,r.toLowerCase())}const l1=ii({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ni,acceptCharset:Ze,accessKey:Ze,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:Ze,autoFocus:Ee,autoPlay:Ee,blocking:Ze,capture:null,charSet:null,checked:Ee,cite:null,className:Ze,cols:re,colSpan:null,content:null,contentEditable:ct,controls:Ee,controlsList:Ze,coords:re|ni,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:pd,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:Ze,height:re,hidden:pd,high:re,href:null,hrefLang:null,htmlFor:Ze,httpEquiv:Ze,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:Ze,itemRef:Ze,itemScope:Ee,itemType:Ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:re,pattern:null,ping:Ze,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:Ze,required:Ee,reversed:Ee,rows:re,rowSpan:re,sandbox:Ze,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:ct,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ze,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:Yg}),s1=ii({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kt,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:Ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ni,g2:ni,glyphName:ni,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Kt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kt,rev:Kt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kt,requiredFeatures:Kt,requiredFonts:Kt,requiredFormats:Kt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Kt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kt,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Gg}),Vg=ii({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()}}),Qg=ii({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yg}),Xg=ii({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()}}),o1={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},u1=/[A-Z]/g,yp=/-[a-z]/g,c1=/^data[-\w.:]+$/i;function d1(t,r){const a=md(r);let i=r,s=Ht;if(a in t.normal)return t.property[t.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&c1.test(r)){if(r.charAt(4)==="-"){const u=r.slice(5).replace(yp,h1);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=r.slice(4);if(!yp.test(u)){let c=u.replace(u1,f1);c.charAt(0)!=="-"&&(c="-"+c),r="data"+c}}s=Md}return new s(i,r)}function f1(t){return"-"+t.toLowerCase()}function h1(t){return t.charAt(1).toUpperCase()}const m1=$g([Fg,l1,Vg,Qg,Xg],"html"),zd=$g([Fg,s1,Vg,Qg,Xg],"svg");function p1(t){return t.join(" ").trim()}var $a={},Mc,bp;function g1(){if(bp)return Mc;bp=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,a=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",x="*",y="",v="comment",b="declaration";Mc=function(N,C){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];C=C||{};var T=1,O=1;function E(K){var W=K.match(r);W&&(T+=W.length);var ie=K.lastIndexOf(p);O=~ie?K.length-ie:O+K.length}function Y(){var K={line:T,column:O};return function(W){return W.position=new V(K),oe(),W}}function V(K){this.start=K,this.end={line:T,column:O},this.source=C.source}V.prototype.content=N;function D(K){var W=new Error(C.source+":"+T+":"+O+": "+K);if(W.reason=K,W.filename=C.source,W.line=T,W.column=O,W.source=N,!C.silent)throw W}function te(K){var W=K.exec(N);if(W){var ie=W[0];return E(ie),N=N.slice(ie.length),W}}function oe(){te(a)}function de(K){var W;for(K=K||[];W=U();)W!==!1&&K.push(W);return K}function U(){var K=Y();if(!(m!=N.charAt(0)||x!=N.charAt(1))){for(var W=2;y!=N.charAt(W)&&(x!=N.charAt(W)||m!=N.charAt(W+1));)++W;if(W+=2,y===N.charAt(W-1))return D("End of comment missing");var ie=N.slice(2,W-2);return O+=2,E(ie),N=N.slice(W),O+=2,K({type:v,comment:ie})}}function z(){var K=Y(),W=te(i);if(W){if(U(),!te(s))return D("property missing ':'");var ie=te(u),M=K({type:b,property:j(W[0].replace(t,y)),value:ie?j(ie[0].replace(t,y)):y});return te(c),M}}function G(){var K=[];de(K);for(var W;W=z();)W!==!1&&(K.push(W),de(K));return K}return oe(),G()};function j(N){return N?N.replace(h,y):y}return Mc}var vp;function x1(){if(vp)return $a;vp=1;var t=$a&&$a.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($a,"__esModule",{value:!0}),$a.default=a;var r=t(g1());function a(i,s){var u=null;if(!i||typeof i!="string")return u;var c=(0,r.default)(i),h=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,x=p.value;h?s(m,x,p):x&&(u=u||{},u[m]=x)}}),u}return $a}var ol={},wp;function y1(){if(wp)return ol;wp=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,a=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,u=function(m){return!m||a.test(m)||t.test(m)},c=function(m,x){return x.toUpperCase()},h=function(m,x){return"".concat(x,"-")},p=function(m,x){return x===void 0&&(x={}),u(m)?m:(m=m.toLowerCase(),x.reactCompat?m=m.replace(s,h):m=m.replace(i,h),m.replace(r,c))};return ol.camelCase=p,ol}var ul,kp;function b1(){if(kp)return ul;kp=1;var t=ul&&ul.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},r=t(x1()),a=y1();function i(s,u){var c={};return!s||typeof s!="string"||(0,r.default)(s,function(h,p){h&&p&&(c[(0,a.camelCase)(h,u)]=p)}),c}return i.default=i,ul=i,ul}var v1=b1();const w1=jl(v1),Kg=Zg("end"),Ud=Zg("start");function Zg(t){return r;function r(a){const i=a&&a.position&&a.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function k1(t){const r=Ud(t),a=Kg(t);if(r&&a)return{start:r,end:a}}function ml(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Sp(t.position):"start"in t||"end"in t?Sp(t):"line"in t||"column"in t?xd(t):""}function xd(t){return jp(t&&t.line)+":"+jp(t&&t.column)}function Sp(t){return xd(t&&t.start)+"-"+xd(t&&t.end)}function jp(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(r,a,i){super(),typeof a=="string"&&(i=a,a=void 0);let s="",u={},c=!1;if(a&&("line"in a&&"column"in a?u={place:a}:"start"in a&&"end"in a?u={place:a}:"type"in a?u={ancestors:[a],place:a.position}:u={...a}),typeof r=="string"?s=r:!u.cause&&r&&(c=!0,s=r.message,u.cause=r),!u.ruleId&&!u.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?u.ruleId=i:(u.source=i.slice(0,p),u.ruleId=i.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=h?h.line:void 0,this.name=ml(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const Bd={}.hasOwnProperty,S1=new Map,j1=/[A-Z]/g,_1=new Set(["table","tbody","thead","tfoot","tr"]),N1=new Set(["td","th"]),Jg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function E1(t,r){if(!r||r.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=r.filePath||void 0;let i;if(r.development){if(typeof r.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=M1(a,r.jsxDEV)}else{if(typeof r.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof r.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=L1(a,r.jsx,r.jsxs)}const s={Fragment:r.Fragment,ancestors:[],components:r.components||{},create:i,elementAttributeNameCase:r.elementAttributeNameCase||"react",evaluater:r.createEvaluater?r.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:r.ignoreInvalidStyle||!1,passKeys:r.passKeys!==!1,passNode:r.passNode||!1,schema:r.space==="svg"?zd:m1,stylePropertyNameCase:r.stylePropertyNameCase||"dom",tableCellAlignToStyle:r.tableCellAlignToStyle!==!1},u=Wg(s,t,void 0);return u&&typeof u!="string"?u:s.create(t,s.Fragment,{children:u||void 0},void 0)}function Wg(t,r,a){if(r.type==="element")return A1(t,r,a);if(r.type==="mdxFlowExpression"||r.type==="mdxTextExpression")return T1(t,r);if(r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement")return R1(t,r,a);if(r.type==="mdxjsEsm")return C1(t,r);if(r.type==="root")return O1(t,r,a);if(r.type==="text")return D1(t,r)}function A1(t,r,a){const i=t.schema;let s=i;r.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=zd,t.schema=s),t.ancestors.push(r);const u=tx(t,r.tagName,!1),c=z1(t,r);let h=qd(t,r);return _1.has(r.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!a1(p):!0})),ex(t,c,u,r),Pd(c,h),t.ancestors.pop(),t.schema=i,t.create(r,u,c,a)}function T1(t,r){if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}wl(t,r.position)}function C1(t,r){if(r.data&&r.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(r.data.estree);wl(t,r.position)}function R1(t,r,a){const i=t.schema;let s=i;r.name==="svg"&&i.space==="html"&&(s=zd,t.schema=s),t.ancestors.push(r);const u=r.name===null?t.Fragment:tx(t,r.name,!0),c=U1(t,r),h=qd(t,r);return ex(t,c,u,r),Pd(c,h),t.ancestors.pop(),t.schema=i,t.create(r,u,c,a)}function O1(t,r,a){const i={};return Pd(i,qd(t,r)),t.create(r,t.Fragment,i,a)}function D1(t,r){return r.value}function ex(t,r,a,i){typeof a!="string"&&a!==t.Fragment&&t.passNode&&(r.node=i)}function Pd(t,r){if(r.length>0){const a=r.length>1?r:r[0];a&&(t.children=a)}}function L1(t,r,a){return i;function i(s,u,c,h){const m=Array.isArray(c.children)?a:r;return h?m(u,c,h):m(u,c)}}function M1(t,r){return a;function a(i,s,u,c){const h=Array.isArray(u.children),p=Ud(i);return r(s,u,c,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function z1(t,r){const a={};let i,s;for(s in r.properties)if(s!=="children"&&Bd.call(r.properties,s)){const u=B1(t,s,r.properties[s]);if(u){const[c,h]=u;t.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&N1.has(r.tagName)?i=h:a[c]=h}}if(i){const u=a.style||(a.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return a}function U1(t,r){const a={};for(const i of r.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const u=i.data.estree.body[0];u.type;const c=u.expression;c.type;const h=c.properties[0];h.type,Object.assign(a,t.evaluater.evaluateExpression(h.argument))}else wl(t,r.position);else{const s=i.name;let u;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,u=t.evaluater.evaluateExpression(h.expression)}else wl(t,r.position);else u=i.value===null?!0:i.value;a[s]=u}return a}function qd(t,r){const a=[];let i=-1;const s=t.passKeys?new Map:S1;for(;++i<r.children.length;){const u=r.children[i];let c;if(t.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const h=Wg(t,u,c);h!==void 0&&a.push(h)}return a}function B1(t,r,a){const i=d1(t.schema,r);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=i.commaSeparated?Wv(a):p1(a)),i.property==="style"){let s=typeof a=="object"?a:P1(t,String(a));return t.stylePropertyNameCase==="css"&&(s=q1(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?o1[i.property]||i.property:i.attribute,a]}}function P1(t,r){try{return w1(r,{reactCompat:!0})}catch(a){if(t.ignoreInvalidStyle)return{};const i=a,s=new Ot("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Jg+"#cannot-parse-style-attribute",s}}function tx(t,r,a){let i;if(!a)i={type:"Literal",value:r};else if(r.includes(".")){const s=r.split(".");let u=-1,c;for(;++u<s.length;){const h=pp(s[u])?{type:"Identifier",name:s[u]}:{type:"Literal",value:s[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(u&&h.type==="Literal"),optional:!1}:h}i=c}else i=pp(r)&&!/^[a-z]/.test(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};if(i.type==="Literal"){const s=i.value;return Bd.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);wl(t)}function wl(t,r){const a=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:r,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=Jg+"#cannot-handle-mdx-estrees-without-createevaluater",a}function q1(t){const r={};let a;for(a in t)Bd.call(t,a)&&(r[I1(a)]=t[a]);return r}function I1(t){let r=t.replace(j1,H1);return r.slice(0,3)==="ms-"&&(r="-"+r),r}function H1(t){return"-"+t.toLowerCase()}const zc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$1={};function Id(t,r){const a=$1,i=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,s=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return nx(t,i,s)}function nx(t,r,a){if(F1(t)){if("value"in t)return t.type==="html"&&!a?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return _p(t.children,r,a)}return Array.isArray(t)?_p(t,r,a):""}function _p(t,r,a){const i=[];let s=-1;for(;++s<t.length;)i[s]=nx(t[s],r,a);return i.join("")}function F1(t){return!!(t&&typeof t=="object")}const Np=document.createElement("i");function Hd(t){const r="&"+t+";";Np.innerHTML=r;const a=Np.textContent;return a.charCodeAt(a.length-1)===59&&t!=="semi"||a===r?!1:a}function Zt(t,r,a,i){const s=t.length;let u=0,c;if(r<0?r=-r>s?0:s+r:r=r>s?s:r,a=a>0?a:0,i.length<1e4)c=Array.from(i),c.unshift(r,a),t.splice(...c);else for(a&&t.splice(r,a);u<i.length;)c=i.slice(u,u+1e4),c.unshift(r,0),t.splice(...c),u+=1e4,r+=1e4}function un(t,r){return t.length>0?(Zt(t,t.length,0,r),t):r}const Ep={}.hasOwnProperty;function rx(t){const r={};let a=-1;for(;++a<t.length;)G1(r,t[a]);return r}function G1(t,r){let a;for(a in r){const s=(Ep.call(t,a)?t[a]:void 0)||(t[a]={}),u=r[a];let c;if(u)for(c in u){Ep.call(s,c)||(s[c]=[]);const h=u[c];Y1(s[c],Array.isArray(h)?h:h?[h]:[])}}}function Y1(t,r){let a=-1;const i=[];for(;++a<r.length;)(r[a].add==="after"?t:i).push(r[a]);Zt(t,0,0,i)}function ax(t,r){const a=Number.parseInt(t,r);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function xn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lt=Er(/[A-Za-z]/),Rt=Er(/[\dA-Za-z]/),V1=Er(/[#-'*+\--9=?A-Z^-~]/);function ao(t){return t!==null&&(t<32||t===127)}const yd=Er(/\d/),Q1=Er(/[\dA-Fa-f]/),X1=Er(/[!-/:-@[-`{-~]/);function ge(t){return t!==null&&t<-2}function Qe(t){return t!==null&&(t<0||t===32)}function Me(t){return t===-2||t===-1||t===32}const fo=Er(new RegExp("\\p{P}|\\p{S}","u")),ea=Er(/\s/);function Er(t){return r;function r(a){return a!==null&&a>-1&&t.test(String.fromCharCode(a))}}function li(t){const r=[];let a=-1,i=0,s=0;for(;++a<t.length;){const u=t.charCodeAt(a);let c="";if(u===37&&Rt(t.charCodeAt(a+1))&&Rt(t.charCodeAt(a+2)))s=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=t.charCodeAt(a+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),s=1):c=""}else c=String.fromCharCode(u);c&&(r.push(t.slice(i,a),encodeURIComponent(c)),i=a+s+1,c=""),s&&(a+=s,s=0)}return r.join("")+t.slice(i)}function Ue(t,r,a,i){const s=i?i-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(p){return Me(p)?(t.enter(a),h(p)):r(p)}function h(p){return Me(p)&&u++<s?(t.consume(p),h):(t.exit(a),r(p))}}const K1={tokenize:Z1};function Z1(t){const r=t.attempt(this.parser.constructs.contentInitial,i,s);let a;return r;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Ue(t,r,"linePrefix")}function s(h){return t.enter("paragraph"),u(h)}function u(h){const p=t.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=p),a=p,c(h)}function c(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return ge(h)?(t.consume(h),t.exit("chunkText"),u):(t.consume(h),c)}}const J1={tokenize:W1},Ap={tokenize:ew};function W1(t){const r=this,a=[];let i=0,s,u,c;return h;function h(E){if(i<a.length){const Y=a[i];return r.containerState=Y[1],t.attempt(Y[0].continuation,p,m)(E)}return m(E)}function p(E){if(i++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,s&&O();const Y=r.events.length;let V=Y,D;for(;V--;)if(r.events[V][0]==="exit"&&r.events[V][1].type==="chunkFlow"){D=r.events[V][1].end;break}T(i);let te=Y;for(;te<r.events.length;)r.events[te][1].end={...D},te++;return Zt(r.events,V+1,0,r.events.slice(Y)),r.events.length=te,m(E)}return h(E)}function m(E){if(i===a.length){if(!s)return v(E);if(s.currentConstruct&&s.currentConstruct.concrete)return j(E);r.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(Ap,x,y)(E)}function x(E){return s&&O(),T(i),v(E)}function y(E){return r.parser.lazy[r.now().line]=i!==a.length,c=r.now().offset,j(E)}function v(E){return r.containerState={},t.attempt(Ap,b,j)(E)}function b(E){return i++,a.push([r.currentConstruct,r.containerState]),v(E)}function j(E){if(E===null){s&&O(),T(0),t.consume(E);return}return s=s||r.parser.flow(r.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:u}),N(E)}function N(E){if(E===null){C(t.exit("chunkFlow"),!0),T(0),t.consume(E);return}return ge(E)?(t.consume(E),C(t.exit("chunkFlow")),i=0,r.interrupt=void 0,h):(t.consume(E),N)}function C(E,Y){const V=r.sliceStream(E);if(Y&&V.push(null),E.previous=u,u&&(u.next=E),u=E,s.defineSkip(E.start),s.write(V),r.parser.lazy[E.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<c&&(!s.events[D][1].end||s.events[D][1].end.offset>c))return;const te=r.events.length;let oe=te,de,U;for(;oe--;)if(r.events[oe][0]==="exit"&&r.events[oe][1].type==="chunkFlow"){if(de){U=r.events[oe][1].end;break}de=!0}for(T(i),D=te;D<r.events.length;)r.events[D][1].end={...U},D++;Zt(r.events,oe+1,0,r.events.slice(te)),r.events.length=D}}function T(E){let Y=a.length;for(;Y-- >E;){const V=a[Y];r.containerState=V[1],V[0].exit.call(r,t)}a.length=E}function O(){s.write([null]),u=void 0,s=void 0,r.containerState._closeFlow=void 0}}function ew(t,r,a){return Ue(t,t.attempt(this.parser.constructs.document,r,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ri(t){if(t===null||Qe(t)||ea(t))return 1;if(fo(t))return 2}function ho(t,r,a){const i=[];let s=-1;for(;++s<t.length;){const u=t[s].resolveAll;u&&!i.includes(u)&&(r=u(r,a),i.push(u))}return r}const bd={name:"attention",resolveAll:tw,tokenize:nw};function tw(t,r){let a=-1,i,s,u,c,h,p,m,x;for(;++a<t.length;)if(t[a][0]==="enter"&&t[a][1].type==="attentionSequence"&&t[a][1]._close){for(i=a;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&r.sliceSerialize(t[i][1]).charCodeAt(0)===r.sliceSerialize(t[a][1]).charCodeAt(0)){if((t[i][1]._close||t[a][1]._open)&&(t[a][1].end.offset-t[a][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[a][1].end.offset-t[a][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[a][1].end.offset-t[a][1].start.offset>1?2:1;const y={...t[i][1].end},v={...t[a][1].start};Tp(y,-p),Tp(v,p),c={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...t[i][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[a][1].start},end:v},u={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[a][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},t[i][1].end={...c.start},t[a][1].start={...h.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=un(m,[["enter",t[i][1],r],["exit",t[i][1],r]])),m=un(m,[["enter",s,r],["enter",c,r],["exit",c,r],["enter",u,r]]),m=un(m,ho(r.parser.constructs.insideSpan.null,t.slice(i+1,a),r)),m=un(m,[["exit",u,r],["enter",h,r],["exit",h,r],["exit",s,r]]),t[a][1].end.offset-t[a][1].start.offset?(x=2,m=un(m,[["enter",t[a][1],r],["exit",t[a][1],r]])):x=0,Zt(t,i-1,a-i+3,m),a=i+m.length-x-2;break}}for(a=-1;++a<t.length;)t[a][1].type==="attentionSequence"&&(t[a][1].type="data");return t}function nw(t,r){const a=this.parser.constructs.attentionMarkers.null,i=this.previous,s=ri(i);let u;return c;function c(p){return u=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===u)return t.consume(p),h;const m=t.exit("attentionSequence"),x=ri(p),y=!x||x===2&&s||a.includes(p),v=!s||s===2&&x||a.includes(i);return m._open=!!(u===42?y:y&&(s||!v)),m._close=!!(u===42?v:v&&(x||!y)),r(p)}}function Tp(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const rw={name:"autolink",tokenize:aw};function aw(t,r,a){let i=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(b){return Lt(b)?(t.consume(b),c):b===64?a(b):m(b)}function c(b){return b===43||b===45||b===46||Rt(b)?(i=1,h(b)):m(b)}function h(b){return b===58?(t.consume(b),i=0,p):(b===43||b===45||b===46||Rt(b))&&i++<32?(t.consume(b),h):(i=0,m(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):b===null||b===32||b===60||ao(b)?a(b):(t.consume(b),p)}function m(b){return b===64?(t.consume(b),x):V1(b)?(t.consume(b),m):a(b)}function x(b){return Rt(b)?y(b):a(b)}function y(b){return b===46?(t.consume(b),i=0,x):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),r):v(b)}function v(b){if((b===45||Rt(b))&&i++<63){const j=b===45?v:y;return t.consume(b),j}return a(b)}}const Nl={partial:!0,tokenize:iw};function iw(t,r,a){return i;function i(u){return Me(u)?Ue(t,s,"linePrefix")(u):s(u)}function s(u){return u===null||ge(u)?r(u):a(u)}}const ix={continuation:{tokenize:sw},exit:ow,name:"blockQuote",tokenize:lw};function lw(t,r,a){const i=this;return s;function s(c){if(c===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return a(c)}function u(c){return Me(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(c))}}function sw(t,r,a){const i=this;return s;function s(c){return Me(c)?Ue(t,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(ix,r,a)(c)}}function ow(t){t.exit("blockQuote")}const lx={name:"characterEscape",tokenize:uw};function uw(t,r,a){return i;function i(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),s}function s(u){return X1(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):a(u)}}const sx={name:"characterReference",tokenize:cw};function cw(t,r,a){const i=this;let s=0,u,c;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),p}function p(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),u=31,c=Rt,x(y))}function m(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=Q1,x):(t.enter("characterReferenceValue"),u=7,c=yd,x(y))}function x(y){if(y===59&&s){const v=t.exit("characterReferenceValue");return c===Rt&&!Hd(i.sliceSerialize(v))?a(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return c(y)&&s++<u?(t.consume(y),x):a(y)}}const Cp={partial:!0,tokenize:fw},Rp={concrete:!0,name:"codeFenced",tokenize:dw};function dw(t,r,a){const i=this,s={partial:!0,tokenize:V};let u=0,c=0,h;return p;function p(D){return m(D)}function m(D){const te=i.events[i.events.length-1];return u=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,h=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(D)}function x(D){return D===h?(c++,t.consume(D),x):c<3?a(D):(t.exit("codeFencedFenceSequence"),Me(D)?Ue(t,y,"whitespace")(D):y(D))}function y(D){return D===null||ge(D)?(t.exit("codeFencedFence"),i.interrupt?r(D):t.check(Cp,N,Y)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||ge(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(D)):Me(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ue(t,b,"whitespace")(D)):D===96&&D===h?a(D):(t.consume(D),v)}function b(D){return D===null||ge(D)?y(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),j(D))}function j(D){return D===null||ge(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(D)):D===96&&D===h?a(D):(t.consume(D),j)}function N(D){return t.attempt(s,Y,C)(D)}function C(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),T}function T(D){return u>0&&Me(D)?Ue(t,O,"linePrefix",u+1)(D):O(D)}function O(D){return D===null||ge(D)?t.check(Cp,N,Y)(D):(t.enter("codeFlowValue"),E(D))}function E(D){return D===null||ge(D)?(t.exit("codeFlowValue"),O(D)):(t.consume(D),E)}function Y(D){return t.exit("codeFenced"),r(D)}function V(D,te,oe){let de=0;return U;function U(ie){return D.enter("lineEnding"),D.consume(ie),D.exit("lineEnding"),z}function z(ie){return D.enter("codeFencedFence"),Me(ie)?Ue(D,G,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):G(ie)}function G(ie){return ie===h?(D.enter("codeFencedFenceSequence"),K(ie)):oe(ie)}function K(ie){return ie===h?(de++,D.consume(ie),K):de>=c?(D.exit("codeFencedFenceSequence"),Me(ie)?Ue(D,W,"whitespace")(ie):W(ie)):oe(ie)}function W(ie){return ie===null||ge(ie)?(D.exit("codeFencedFence"),te(ie)):oe(ie)}}}function fw(t,r,a){const i=this;return s;function s(c){return c===null?a(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return i.parser.lazy[i.now().line]?a(c):r(c)}}const Uc={name:"codeIndented",tokenize:mw},hw={partial:!0,tokenize:pw};function mw(t,r,a){const i=this;return s;function s(m){return t.enter("codeIndented"),Ue(t,u,"linePrefix",5)(m)}function u(m){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(m):a(m)}function c(m){return m===null?p(m):ge(m)?t.attempt(hw,c,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||ge(m)?(t.exit("codeFlowValue"),c(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),r(m)}}function pw(t,r,a){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?a(c):ge(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):Ue(t,u,"linePrefix",5)(c)}function u(c){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):ge(c)?s(c):a(c)}}const gw={name:"codeText",previous:yw,resolve:xw,tokenize:bw};function xw(t){let r=t.length-4,a=3,i,s;if((t[a][1].type==="lineEnding"||t[a][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(i=a;++i<r;)if(t[i][1].type==="codeTextData"){t[a][1].type="codeTextPadding",t[r][1].type="codeTextPadding",a+=2,r-=2;break}}for(i=a-1,r++;++i<=r;)s===void 0?i!==r&&t[i][1].type!=="lineEnding"&&(s=i):(i===r||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),r-=i-s-2,i=s+2),s=void 0);return t}function yw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bw(t,r,a){let i=0,s,u;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),i++,h):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?a(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(u=t.enter("codeTextSequence"),s=0,x(y)):ge(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||ge(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),m)}function x(y){return y===96?(t.consume(y),s++,x):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),r(y)):(u.type="codeTextData",m(y))}}class vw{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,a){const i=a??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(r,i):r>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(r,a,i){const s=a||0;this.setCursor(Math.trunc(r));const u=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&cl(this.left,i),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),cl(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),cl(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const a=this.left.splice(r,Number.POSITIVE_INFINITY);cl(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);cl(this.left,a.reverse())}}}function cl(t,r){let a=0;if(r.length<1e4)t.push(...r);else for(;a<r.length;)t.push(...r.slice(a,a+1e4)),a+=1e4}function ox(t){const r={};let a=-1,i,s,u,c,h,p,m;const x=new vw(t);for(;++a<x.length;){for(;a in r;)a=r[a];if(i=x.get(a),a&&i[1].type==="chunkFlow"&&x.get(a-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(i[0]==="enter")i[1].contentType&&(Object.assign(r,ww(x,a)),a=r[a],m=!0);else if(i[1]._container){for(u=a,s=void 0;u--;)if(c=x.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...x.get(s)[1].start},h=x.slice(s,a),h.unshift(i),x.splice(s,a-s+1,h))}}return Zt(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function ww(t,r){const a=t.get(r)[1],i=t.get(r)[2];let s=r-1;const u=[];let c=a._tokenizer;c||(c=i.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],m={};let x,y,v=-1,b=a,j=0,N=0;const C=[N];for(;b;){for(;t.get(++s)[1]!==b;);u.push(s),b._tokenizer||(x=i.sliceStream(b),b.next||x.push(null),y&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=a;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(N=v+1,C.push(N),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):C.pop(),v=C.length;v--;){const T=h.slice(C[v],C[v+1]),O=u.pop();p.push([O,O+T.length-1]),t.splice(O,2,T)}for(p.reverse(),v=-1;++v<p.length;)m[j+p[v][0]]=j+p[v][1],j+=p[v][1]-p[v][0]-1;return m}const kw={resolve:jw,tokenize:_w},Sw={partial:!0,tokenize:Nw};function jw(t){return ox(t),t}function _w(t,r){let a;return i;function i(h){return t.enter("content"),a=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?u(h):ge(h)?t.check(Sw,c,u)(h):(t.consume(h),s)}function u(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function c(h){return t.consume(h),t.exit("chunkContent"),a.next=t.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,s}}function Nw(t,r,a){const i=this;return s;function s(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ue(t,u,"linePrefix")}function u(c){if(c===null||ge(c))return a(c);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(c):t.interrupt(i.parser.constructs.flow,a,r)(c)}}function ux(t,r,a,i,s,u,c,h,p){const m=p||Number.POSITIVE_INFINITY;let x=0;return y;function y(T){return T===60?(t.enter(i),t.enter(s),t.enter(u),t.consume(T),t.exit(u),v):T===null||T===32||T===41||ao(T)?a(T):(t.enter(i),t.enter(c),t.enter(h),t.enter("chunkString",{contentType:"string"}),N(T))}function v(T){return T===62?(t.enter(u),t.consume(T),t.exit(u),t.exit(s),t.exit(i),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(t.exit("chunkString"),t.exit(h),v(T)):T===null||T===60||ge(T)?a(T):(t.consume(T),T===92?j:b)}function j(T){return T===60||T===62||T===92?(t.consume(T),b):b(T)}function N(T){return!x&&(T===null||T===41||Qe(T))?(t.exit("chunkString"),t.exit(h),t.exit(c),t.exit(i),r(T)):x<m&&T===40?(t.consume(T),x++,N):T===41?(t.consume(T),x--,N):T===null||T===32||T===40||ao(T)?a(T):(t.consume(T),T===92?C:N)}function C(T){return T===40||T===41||T===92?(t.consume(T),N):N(T)}}function cx(t,r,a,i,s,u){const c=this;let h=0,p;return m;function m(b){return t.enter(i),t.enter(s),t.consume(b),t.exit(s),t.enter(u),x}function x(b){return h>999||b===null||b===91||b===93&&!p||b===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):b===93?(t.exit(u),t.enter(s),t.consume(b),t.exit(s),t.exit(i),r):ge(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||ge(b)||h++>999?(t.exit("chunkString"),x(b)):(t.consume(b),p||(p=!Me(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),h++,y):y(b)}}function dx(t,r,a,i,s,u){let c;return h;function h(v){return v===34||v===39||v===40?(t.enter(i),t.enter(s),t.consume(v),t.exit(s),c=v===40?41:v,p):a(v)}function p(v){return v===c?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),r):(t.enter(u),m(v))}function m(v){return v===c?(t.exit(u),p(c)):v===null?a(v):ge(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Ue(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(v))}function x(v){return v===c||v===null||ge(v)?(t.exit("chunkString"),m(v)):(t.consume(v),v===92?y:x)}function y(v){return v===c||v===92?(t.consume(v),x):x(v)}}function pl(t,r){let a;return i;function i(s){return ge(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a=!0,i):Me(s)?Ue(t,i,a?"linePrefix":"lineSuffix")(s):r(s)}}const Ew={name:"definition",tokenize:Tw},Aw={partial:!0,tokenize:Cw};function Tw(t,r,a){const i=this;let s;return u;function u(b){return t.enter("definition"),c(b)}function c(b){return cx.call(i,t,h,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return s=xn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):a(b)}function p(b){return Qe(b)?pl(t,m)(b):m(b)}function m(b){return ux(t,x,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function x(b){return t.attempt(Aw,y,y)(b)}function y(b){return Me(b)?Ue(t,v,"whitespace")(b):v(b)}function v(b){return b===null||ge(b)?(t.exit("definition"),i.parser.defined.push(s),r(b)):a(b)}}function Cw(t,r,a){return i;function i(h){return Qe(h)?pl(t,s)(h):a(h)}function s(h){return dx(t,u,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return Me(h)?Ue(t,c,"whitespace")(h):c(h)}function c(h){return h===null||ge(h)?r(h):a(h)}}const Rw={name:"hardBreakEscape",tokenize:Ow};function Ow(t,r,a){return i;function i(u){return t.enter("hardBreakEscape"),t.consume(u),s}function s(u){return ge(u)?(t.exit("hardBreakEscape"),r(u)):a(u)}}const Dw={name:"headingAtx",resolve:Lw,tokenize:Mw};function Lw(t,r){let a=t.length-2,i=3,s,u;return t[i][1].type==="whitespace"&&(i+=2),a-2>i&&t[a][1].type==="whitespace"&&(a-=2),t[a][1].type==="atxHeadingSequence"&&(i===a-1||a-4>i&&t[a-2][1].type==="whitespace")&&(a-=i+1===a?2:4),a>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[a][1].end},u={type:"chunkText",start:t[i][1].start,end:t[a][1].end,contentType:"text"},Zt(t,i,a-i+1,[["enter",s,r],["enter",u,r],["exit",u,r],["exit",s,r]])),t}function Mw(t,r,a){let i=0;return s;function s(x){return t.enter("atxHeading"),u(x)}function u(x){return t.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&i++<6?(t.consume(x),c):x===null||Qe(x)?(t.exit("atxHeadingSequence"),h(x)):a(x)}function h(x){return x===35?(t.enter("atxHeadingSequence"),p(x)):x===null||ge(x)?(t.exit("atxHeading"),r(x)):Me(x)?Ue(t,h,"whitespace")(x):(t.enter("atxHeadingText"),m(x))}function p(x){return x===35?(t.consume(x),p):(t.exit("atxHeadingSequence"),h(x))}function m(x){return x===null||x===35||Qe(x)?(t.exit("atxHeadingText"),h(x)):(t.consume(x),m)}}const zw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Op=["pre","script","style","textarea"],Uw={concrete:!0,name:"htmlFlow",resolveTo:qw,tokenize:Iw},Bw={partial:!0,tokenize:$w},Pw={partial:!0,tokenize:Hw};function qw(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function Iw(t,r,a){const i=this;let s,u,c,h,p;return m;function m(_){return x(_)}function x(_){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(_),y}function y(_){return _===33?(t.consume(_),v):_===47?(t.consume(_),u=!0,N):_===63?(t.consume(_),s=3,i.interrupt?r:k):Lt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function v(_){return _===45?(t.consume(_),s=2,b):_===91?(t.consume(_),s=5,h=0,j):Lt(_)?(t.consume(_),s=4,i.interrupt?r:k):a(_)}function b(_){return _===45?(t.consume(_),i.interrupt?r:k):a(_)}function j(_){const se="CDATA[";return _===se.charCodeAt(h++)?(t.consume(_),h===se.length?i.interrupt?r:G:j):a(_)}function N(_){return Lt(_)?(t.consume(_),c=String.fromCharCode(_),C):a(_)}function C(_){if(_===null||_===47||_===62||Qe(_)){const se=_===47,xe=c.toLowerCase();return!se&&!u&&Op.includes(xe)?(s=1,i.interrupt?r(_):G(_)):zw.includes(c.toLowerCase())?(s=6,se?(t.consume(_),T):i.interrupt?r(_):G(_)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?a(_):u?O(_):E(_))}return _===45||Rt(_)?(t.consume(_),c+=String.fromCharCode(_),C):a(_)}function T(_){return _===62?(t.consume(_),i.interrupt?r:G):a(_)}function O(_){return Me(_)?(t.consume(_),O):U(_)}function E(_){return _===47?(t.consume(_),U):_===58||_===95||Lt(_)?(t.consume(_),Y):Me(_)?(t.consume(_),E):U(_)}function Y(_){return _===45||_===46||_===58||_===95||Rt(_)?(t.consume(_),Y):V(_)}function V(_){return _===61?(t.consume(_),D):Me(_)?(t.consume(_),V):E(_)}function D(_){return _===null||_===60||_===61||_===62||_===96?a(_):_===34||_===39?(t.consume(_),p=_,te):Me(_)?(t.consume(_),D):oe(_)}function te(_){return _===p?(t.consume(_),p=null,de):_===null||ge(_)?a(_):(t.consume(_),te)}function oe(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Qe(_)?V(_):(t.consume(_),oe)}function de(_){return _===47||_===62||Me(_)?E(_):a(_)}function U(_){return _===62?(t.consume(_),z):a(_)}function z(_){return _===null||ge(_)?G(_):Me(_)?(t.consume(_),z):a(_)}function G(_){return _===45&&s===2?(t.consume(_),M):_===60&&s===1?(t.consume(_),I):_===62&&s===4?(t.consume(_),$):_===63&&s===3?(t.consume(_),k):_===93&&s===5?(t.consume(_),he):ge(_)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Bw,ee,K)(_)):_===null||ge(_)?(t.exit("htmlFlowData"),K(_)):(t.consume(_),G)}function K(_){return t.check(Pw,W,ee)(_)}function W(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),ie}function ie(_){return _===null||ge(_)?K(_):(t.enter("htmlFlowData"),G(_))}function M(_){return _===45?(t.consume(_),k):G(_)}function I(_){return _===47?(t.consume(_),c="",le):G(_)}function le(_){if(_===62){const se=c.toLowerCase();return Op.includes(se)?(t.consume(_),$):G(_)}return Lt(_)&&c.length<8?(t.consume(_),c+=String.fromCharCode(_),le):G(_)}function he(_){return _===93?(t.consume(_),k):G(_)}function k(_){return _===62?(t.consume(_),$):_===45&&s===2?(t.consume(_),k):G(_)}function $(_){return _===null||ge(_)?(t.exit("htmlFlowData"),ee(_)):(t.consume(_),$)}function ee(_){return t.exit("htmlFlow"),r(_)}}function Hw(t,r,a){const i=this;return s;function s(c){return ge(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):a(c)}function u(c){return i.parser.lazy[i.now().line]?a(c):r(c)}}function $w(t,r,a){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Nl,r,a)}}const Fw={name:"htmlText",tokenize:Gw};function Gw(t,r,a){const i=this;let s,u,c;return h;function h(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),p}function p(k){return k===33?(t.consume(k),m):k===47?(t.consume(k),V):k===63?(t.consume(k),E):Lt(k)?(t.consume(k),oe):a(k)}function m(k){return k===45?(t.consume(k),x):k===91?(t.consume(k),u=0,j):Lt(k)?(t.consume(k),O):a(k)}function x(k){return k===45?(t.consume(k),b):a(k)}function y(k){return k===null?a(k):k===45?(t.consume(k),v):ge(k)?(c=y,I(k)):(t.consume(k),y)}function v(k){return k===45?(t.consume(k),b):y(k)}function b(k){return k===62?M(k):k===45?v(k):y(k)}function j(k){const $="CDATA[";return k===$.charCodeAt(u++)?(t.consume(k),u===$.length?N:j):a(k)}function N(k){return k===null?a(k):k===93?(t.consume(k),C):ge(k)?(c=N,I(k)):(t.consume(k),N)}function C(k){return k===93?(t.consume(k),T):N(k)}function T(k){return k===62?M(k):k===93?(t.consume(k),T):N(k)}function O(k){return k===null||k===62?M(k):ge(k)?(c=O,I(k)):(t.consume(k),O)}function E(k){return k===null?a(k):k===63?(t.consume(k),Y):ge(k)?(c=E,I(k)):(t.consume(k),E)}function Y(k){return k===62?M(k):E(k)}function V(k){return Lt(k)?(t.consume(k),D):a(k)}function D(k){return k===45||Rt(k)?(t.consume(k),D):te(k)}function te(k){return ge(k)?(c=te,I(k)):Me(k)?(t.consume(k),te):M(k)}function oe(k){return k===45||Rt(k)?(t.consume(k),oe):k===47||k===62||Qe(k)?de(k):a(k)}function de(k){return k===47?(t.consume(k),M):k===58||k===95||Lt(k)?(t.consume(k),U):ge(k)?(c=de,I(k)):Me(k)?(t.consume(k),de):M(k)}function U(k){return k===45||k===46||k===58||k===95||Rt(k)?(t.consume(k),U):z(k)}function z(k){return k===61?(t.consume(k),G):ge(k)?(c=z,I(k)):Me(k)?(t.consume(k),z):de(k)}function G(k){return k===null||k===60||k===61||k===62||k===96?a(k):k===34||k===39?(t.consume(k),s=k,K):ge(k)?(c=G,I(k)):Me(k)?(t.consume(k),G):(t.consume(k),W)}function K(k){return k===s?(t.consume(k),s=void 0,ie):k===null?a(k):ge(k)?(c=K,I(k)):(t.consume(k),K)}function W(k){return k===null||k===34||k===39||k===60||k===61||k===96?a(k):k===47||k===62||Qe(k)?de(k):(t.consume(k),W)}function ie(k){return k===47||k===62||Qe(k)?de(k):a(k)}function M(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),r):a(k)}function I(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),le}function le(k){return Me(k)?Ue(t,he,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):he(k)}function he(k){return t.enter("htmlTextData"),c(k)}}const $d={name:"labelEnd",resolveAll:Xw,resolveTo:Kw,tokenize:Zw},Yw={tokenize:Jw},Vw={tokenize:Ww},Qw={tokenize:ek};function Xw(t){let r=-1;const a=[];for(;++r<t.length;){const i=t[r][1];if(a.push(t[r]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",r+=s}}return t.length!==a.length&&Zt(t,0,t.length,a),t}function Kw(t,r){let a=t.length,i=0,s,u,c,h;for(;a--;)if(s=t[a][1],u){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[a][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(t[a][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(u=a,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=a);const p={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},x={type:"labelText",start:{...t[u+i+2][1].end},end:{...t[c-2][1].start}};return h=[["enter",p,r],["enter",m,r]],h=un(h,t.slice(u+1,u+i+3)),h=un(h,[["enter",x,r]]),h=un(h,ho(r.parser.constructs.insideSpan.null,t.slice(u+i+4,c-3),r)),h=un(h,[["exit",x,r],t[c-2],t[c-1],["exit",m,r]]),h=un(h,t.slice(c+1)),h=un(h,[["exit",p,r]]),Zt(t,u,t.length,h),t}function Zw(t,r,a){const i=this;let s=i.events.length,u,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){u=i.events[s][1];break}return h;function h(v){return u?u._inactive?y(v):(c=i.parser.defined.includes(xn(i.sliceSerialize({start:u.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),p):a(v)}function p(v){return v===40?t.attempt(Yw,x,c?x:y)(v):v===91?t.attempt(Vw,x,c?m:y)(v):c?x(v):y(v)}function m(v){return t.attempt(Qw,x,y)(v)}function x(v){return r(v)}function y(v){return u._balanced=!0,a(v)}}function Jw(t,r,a){return i;function i(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Qe(y)?pl(t,u)(y):u(y)}function u(y){return y===41?x(y):ux(t,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Qe(y)?pl(t,p)(y):x(y)}function h(y){return a(y)}function p(y){return y===34||y===39||y===40?dx(t,m,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function m(y){return Qe(y)?pl(t,x)(y):x(y)}function x(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),r):a(y)}}function Ww(t,r,a){const i=this;return s;function s(h){return cx.call(i,t,u,c,"reference","referenceMarker","referenceString")(h)}function u(h){return i.parser.defined.includes(xn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?r(h):a(h)}function c(h){return a(h)}}function ek(t,r,a){return i;function i(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),s}function s(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),r):a(u)}}const tk={name:"labelStartImage",resolveAll:$d.resolveAll,tokenize:nk};function nk(t,r,a){const i=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),u}function u(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),c):a(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(h):r(h)}}const rk={name:"labelStartLink",resolveAll:$d.resolveAll,tokenize:ak};function ak(t,r,a){const i=this;return s;function s(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?a(c):r(c)}}const Bc={name:"lineEnding",tokenize:ik};function ik(t,r){return a;function a(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ue(t,r,"linePrefix")}}const Ws={name:"thematicBreak",tokenize:lk};function lk(t,r,a){let i=0,s;return u;function u(m){return t.enter("thematicBreak"),c(m)}function c(m){return s=m,h(m)}function h(m){return m===s?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||ge(m))?(t.exit("thematicBreak"),r(m)):a(m)}function p(m){return m===s?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),Me(m)?Ue(t,h,"whitespace")(m):h(m))}}const It={continuation:{tokenize:ck},exit:fk,name:"list",tokenize:uk},sk={partial:!0,tokenize:hk},ok={partial:!0,tokenize:dk};function uk(t,r,a){const i=this,s=i.events[i.events.length-1];let u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return h;function h(b){const j=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(j==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:yd(b)){if(i.containerState.type||(i.containerState.type=j,t.enter(j,{_container:!0})),j==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Ws,a,m)(b):m(b);if(!i.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return a(b)}function p(b){return yd(b)&&++c<10?(t.consume(b),p):(!i.interrupt||c<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),m(b)):a(b)}function m(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,t.check(Nl,i.interrupt?a:x,t.attempt(sk,v,y))}function x(b){return i.containerState.initialBlankLine=!0,u++,v(b)}function y(b){return Me(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):a(b)}function v(b){return i.containerState.size=u+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(b)}}function ck(t,r,a){const i=this;return i.containerState._closeFlow=void 0,t.check(Nl,s,u);function s(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ue(t,r,"listItemIndent",i.containerState.size+1)(h)}function u(h){return i.containerState.furtherBlankLines||!Me(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(ok,r,c)(h))}function c(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ue(t,t.attempt(It,r,a),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function dk(t,r,a){const i=this;return Ue(t,s,"listItemIndent",i.containerState.size+1);function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?r(u):a(u)}}function fk(t){t.exit(this.containerState.type)}function hk(t,r,a){const i=this;return Ue(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(u){const c=i.events[i.events.length-1];return!Me(u)&&c&&c[1].type==="listItemPrefixWhitespace"?r(u):a(u)}}const Dp={name:"setextUnderline",resolveTo:mk,tokenize:pk};function mk(t,r){let a=t.length,i,s,u;for(;a--;)if(t[a][0]==="enter"){if(t[a][1].type==="content"){i=a;break}t[a][1].type==="paragraph"&&(s=a)}else t[a][1].type==="content"&&t.splice(a,1),!u&&t[a][1].type==="definition"&&(u=a);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",u?(t.splice(s,0,["enter",c,r]),t.splice(u+1,0,["exit",t[i][1],r]),t[i][1].end={...t[u][1].end}):t[i][1]=c,t.push(["exit",c,r]),t}function pk(t,r,a){const i=this;let s;return u;function u(m){let x=i.events.length,y;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){y=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(t.enter("setextHeadingLine"),s=m,c(m)):a(m)}function c(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===s?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),Me(m)?Ue(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||ge(m)?(t.exit("setextHeadingLine"),r(m)):a(m)}}const gk={tokenize:xk};function xk(t){const r=this,a=t.attempt(Nl,i,t.attempt(this.parser.constructs.flowInitial,s,Ue(t,t.attempt(this.parser.constructs.flow,s,t.attempt(kw,s)),"linePrefix")));return a;function i(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),r.currentConstruct=void 0,a}function s(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),r.currentConstruct=void 0,a}}const yk={resolveAll:hx()},bk=fx("string"),vk=fx("text");function fx(t){return{resolveAll:hx(t==="text"?wk:void 0),tokenize:r};function r(a){const i=this,s=this.parser.constructs[t],u=a.attempt(s,c,h);return c;function c(x){return m(x)?u(x):h(x)}function h(x){if(x===null){a.consume(x);return}return a.enter("data"),a.consume(x),p}function p(x){return m(x)?(a.exit("data"),u(x)):(a.consume(x),p)}function m(x){if(x===null)return!0;const y=s[x];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function hx(t){return r;function r(a,i){let s=-1,u;for(;++s<=a.length;)u===void 0?a[s]&&a[s][1].type==="data"&&(u=s,s++):(!a[s]||a[s][1].type!=="data")&&(s!==u+2&&(a[u][1].end=a[s-1][1].end,a.splice(u+2,s-u-2),s=u+2),u=void 0);return t?t(a,i):a}}function wk(t,r){let a=0;for(;++a<=t.length;)if((a===t.length||t[a][1].type==="lineEnding")&&t[a-1][1].type==="data"){const i=t[a-1][1],s=r.sliceStream(i);let u=s.length,c=-1,h=0,p;for(;u--;){const m=s[u];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(m===-2)p=!0,h++;else if(m!==-1){u++;break}}if(r._contentTypeTextTrailing&&a===t.length&&(h=0),h){const m={type:a===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:i.start._bufferIndex+c,_index:i.start._index+u,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(a,0,["enter",m,r],["exit",m,r]),a+=2)}a++}return t}const kk={42:It,43:It,45:It,48:It,49:It,50:It,51:It,52:It,53:It,54:It,55:It,56:It,57:It,62:ix},Sk={91:Ew},jk={[-2]:Uc,[-1]:Uc,32:Uc},_k={35:Dw,42:Ws,45:[Dp,Ws],60:Uw,61:Dp,95:Ws,96:Rp,126:Rp},Nk={38:sx,92:lx},Ek={[-5]:Bc,[-4]:Bc,[-3]:Bc,33:tk,38:sx,42:bd,60:[rw,Fw],91:rk,92:[Rw,lx],93:$d,95:bd,96:gw},Ak={null:[bd,yk]},Tk={null:[42,95]},Ck={null:[]},Rk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Tk,contentInitial:Sk,disable:Ck,document:kk,flow:_k,flowInitial:jk,insideSpan:Ak,string:Nk,text:Ek},Symbol.toStringTag,{value:"Module"}));function Ok(t,r,a){let i={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const s={},u=[];let c=[],h=[];const p={attempt:te(V),check:te(D),consume:O,enter:E,exit:Y,interrupt:te(D,{interrupt:!0})},m={code:null,containerState:{},defineSkip:N,events:[],now:j,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let x=r.tokenize.call(m,p);return r.resolveAll&&u.push(r),m;function y(z){return c=un(c,z),C(),c[c.length-1]!==null?[]:(oe(r,0),m.events=ho(u,m.events,m),m.events)}function v(z,G){return Lk(b(z),G)}function b(z){return Dk(c,z)}function j(){const{_bufferIndex:z,_index:G,line:K,column:W,offset:ie}=i;return{_bufferIndex:z,_index:G,line:K,column:W,offset:ie}}function N(z){s[z.line]=z.column,U()}function C(){let z;for(;i._index<c.length;){const G=c[i._index];if(typeof G=="string")for(z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===z&&i._bufferIndex<G.length;)T(G.charCodeAt(i._bufferIndex));else T(G)}}function T(z){x=x(z)}function O(z){ge(z)?(i.line++,i.column=1,i.offset+=z===-3?2:1,U()):z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=z}function E(z,G){const K=G||{};return K.type=z,K.start=j(),m.events.push(["enter",K,m]),h.push(K),K}function Y(z){const G=h.pop();return G.end=j(),m.events.push(["exit",G,m]),G}function V(z,G){oe(z,G.from)}function D(z,G){G.restore()}function te(z,G){return K;function K(W,ie,M){let I,le,he,k;return Array.isArray(W)?ee(W):"tokenize"in W?ee([W]):$(W);function $(ce){return Ie;function Ie(Te){const nt=Te!==null&&ce[Te],rt=Te!==null&&ce.null,jt=[...Array.isArray(nt)?nt:nt?[nt]:[],...Array.isArray(rt)?rt:rt?[rt]:[]];return ee(jt)(Te)}}function ee(ce){return I=ce,le=0,ce.length===0?M:_(ce[le])}function _(ce){return Ie;function Ie(Te){return k=de(),he=ce,ce.partial||(m.currentConstruct=ce),ce.name&&m.parser.constructs.disable.null.includes(ce.name)?xe():ce.tokenize.call(G?Object.assign(Object.create(m),G):m,p,se,xe)(Te)}}function se(ce){return z(he,k),ie}function xe(ce){return k.restore(),++le<I.length?_(I[le]):M}}}function oe(z,G){z.resolveAll&&!u.includes(z)&&u.push(z),z.resolve&&Zt(m.events,G,m.events.length-G,z.resolve(m.events.slice(G),m)),z.resolveTo&&(m.events=z.resolveTo(m.events,m))}function de(){const z=j(),G=m.previous,K=m.currentConstruct,W=m.events.length,ie=Array.from(h);return{from:W,restore:M};function M(){i=z,m.previous=G,m.currentConstruct=K,m.events.length=W,h=ie,U()}}function U(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Dk(t,r){const a=r.start._index,i=r.start._bufferIndex,s=r.end._index,u=r.end._bufferIndex;let c;if(a===s)c=[t[a].slice(i,u)];else{if(c=t.slice(a,s),i>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(i):c.shift()}u>0&&c.push(t[s].slice(0,u))}return c}function Lk(t,r){let a=-1;const i=[];let s;for(;++a<t.length;){const u=t[a];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=r?" ":"	";break}case-1:{if(!r&&s)continue;c=" ";break}default:c=String.fromCharCode(u)}s=u===-2,i.push(c)}return i.join("")}function Mk(t){const i={constructs:rx([Rk,...(t||{}).extensions||[]]),content:s(K1),defined:[],document:s(J1),flow:s(gk),lazy:{},string:s(bk),text:s(vk)};return i;function s(u){return c;function c(h){return Ok(i,u,h)}}}function zk(t){for(;!ox(t););return t}const Lp=/[\0\t\n\r]/g;function Uk(){let t=1,r="",a=!0,i;return s;function s(u,c,h){const p=[];let m,x,y,v,b;for(u=r+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),y=0,r="",a&&(u.charCodeAt(0)===65279&&y++,a=void 0);y<u.length;){if(Lp.lastIndex=y,m=Lp.exec(u),v=m&&m.index!==void 0?m.index:u.length,b=u.charCodeAt(v),!m){r=u.slice(y);break}if(b===10&&y===v&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),y<v&&(p.push(u.slice(y,v)),t+=v-y),b){case 0:{p.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,p.push(-2);t++<x;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}y=v+1}return h&&(i&&p.push(-5),r&&p.push(r),p.push(null)),p}}const Bk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pk(t){return t.replace(Bk,qk)}function qk(t,r,a){if(r)return r;if(a.charCodeAt(0)===35){const s=a.charCodeAt(1),u=s===120||s===88;return ax(a.slice(u?2:1),u?16:10)}return Hd(a)||t}const mx={}.hasOwnProperty;function Ik(t,r,a){return typeof r!="string"&&(a=r,r=void 0),Hk(a)(zk(Mk(a).document().write(Uk()(t,r,!0))))}function Hk(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Tr),autolinkProtocol:de,autolinkEmail:de,atxHeading:u(Gn),blockQuote:u(rt),characterEscape:de,characterReference:de,codeFenced:u(jt),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(jt,c),codeText:u(je,c),codeTextData:de,data:de,codeFlowValue:de,definition:u(lt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(vt),hardBreakEscape:u(Yn),hardBreakTrailing:u(Yn),htmlFlow:u(st,c),htmlFlowData:de,htmlText:u(st,c),htmlTextData:de,image:u(oi),label:c,link:u(Tr),listItem:u(Vn),listItemValue:v,listOrdered:u(Cr,y),listUnordered:u(Cr),paragraph:u(ui),reference:_,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Gn),strong:u(ra),thematicBreak:u(Rr)},exit:{atxHeading:p(),atxHeadingSequence:V,autolink:p(),autolinkEmail:nt,autolinkProtocol:Te,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:ce,characterReference:Ie,codeFenced:p(C),codeFencedFence:N,codeFencedFenceInfo:b,codeFencedFenceMeta:j,codeFlowValue:U,codeIndented:p(T),codeText:p(ie),codeTextData:U,data:U,definition:p(),definitionDestinationString:Y,definitionLabelString:O,definitionTitleString:E,emphasis:p(),hardBreakEscape:p(G),hardBreakTrailing:p(G),htmlFlow:p(K),htmlFlowData:U,htmlText:p(W),htmlTextData:U,image:p(I),label:he,labelText:le,lineEnding:z,link:p(M),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:se,resourceDestinationString:k,resourceTitleString:$,resource:ee,setextHeading:p(oe),setextHeadingLineSequence:te,setextHeadingText:D,strong:p(),thematicBreak:p()}};px(r,(t||{}).mdastExtensions||[]);const a={};return i;function i(Q){let ne={type:"root",children:[]};const pe={stack:[ne],tokenStack:[],config:r,enter:h,exit:m,buffer:c,resume:x,data:a},ye=[];let Pe=-1;for(;++Pe<Q.length;)if(Q[Pe][1].type==="listOrdered"||Q[Pe][1].type==="listUnordered")if(Q[Pe][0]==="enter")ye.push(Pe);else{const _t=ye.pop();Pe=s(Q,_t,Pe)}for(Pe=-1;++Pe<Q.length;){const _t=r[Q[Pe][0]];mx.call(_t,Q[Pe][1].type)&&_t[Q[Pe][1].type].call(Object.assign({sliceSerialize:Q[Pe][2].sliceSerialize},pe),Q[Pe][1])}if(pe.tokenStack.length>0){const _t=pe.tokenStack[pe.tokenStack.length-1];(_t[1]||Mp).call(pe,void 0,_t[0])}for(ne.position={start:vr(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:vr(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<r.transforms.length;)ne=r.transforms[Pe](ne)||ne;return ne}function s(Q,ne,pe){let ye=ne-1,Pe=-1,_t=!1,cn,Nt,ae,ue;for(;++ye<=pe;){const be=Q[ye];switch(be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{be[0]==="enter"?Pe++:Pe--,ue=void 0;break}case"lineEndingBlank":{be[0]==="enter"&&(cn&&!ue&&!Pe&&!ae&&(ae=ye),ue=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ue=void 0}if(!Pe&&be[0]==="enter"&&be[1].type==="listItemPrefix"||Pe===-1&&be[0]==="exit"&&(be[1].type==="listUnordered"||be[1].type==="listOrdered")){if(cn){let ke=ye;for(Nt=void 0;ke--;){const Ce=Q[ke];if(Ce[1].type==="lineEnding"||Ce[1].type==="lineEndingBlank"){if(Ce[0]==="exit")continue;Nt&&(Q[Nt][1].type="lineEndingBlank",_t=!0),Ce[1].type="lineEnding",Nt=ke}else if(!(Ce[1].type==="linePrefix"||Ce[1].type==="blockQuotePrefix"||Ce[1].type==="blockQuotePrefixWhitespace"||Ce[1].type==="blockQuoteMarker"||Ce[1].type==="listItemIndent"))break}ae&&(!Nt||ae<Nt)&&(cn._spread=!0),cn.end=Object.assign({},Nt?Q[Nt][1].start:be[1].end),Q.splice(Nt||ye,0,["exit",cn,be[2]]),ye++,pe++}if(be[1].type==="listItemPrefix"){const ke={type:"listItem",_spread:!1,start:Object.assign({},be[1].start),end:void 0};cn=ke,Q.splice(ye,0,["enter",ke,be[2]]),ye++,pe++,ae=void 0,ue=!0}}}return Q[ne][1]._spread=_t,pe}function u(Q,ne){return pe;function pe(ye){h.call(this,Q(ye),ye),ne&&ne.call(this,ye)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(Q,ne,pe){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([ne,pe||void 0]),Q.position={start:vr(ne.start),end:void 0}}function p(Q){return ne;function ne(pe){Q&&Q.call(this,pe),m.call(this,pe)}}function m(Q,ne){const pe=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==Q.type&&(ne?ne.call(this,Q,ye[0]):(ye[1]||Mp).call(this,Q,ye[0]));else throw new Error("Cannot close `"+Q.type+"` ("+ml({start:Q.start,end:Q.end})+"): its not open");pe.position.end=vr(Q.end)}function x(){return Id(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(Q){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function b(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=Q}function j(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=Q}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q.replace(/(\r?\n|\r)$/g,"")}function O(Q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=xn(this.sliceSerialize(Q)).toLowerCase()}function E(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=Q}function Y(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=Q}function V(Q){const ne=this.stack[this.stack.length-1];if(!ne.depth){const pe=this.sliceSerialize(Q).length;ne.depth=pe}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function te(Q){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function oe(){this.data.setextHeadingSlurpLineEnding=void 0}function de(Q){const pe=this.stack[this.stack.length-1].children;let ye=pe[pe.length-1];(!ye||ye.type!=="text")&&(ye=Qn(),ye.position={start:vr(Q.start),end:void 0},pe.push(ye)),this.stack.push(ye)}function U(Q){const ne=this.stack.pop();ne.value+=this.sliceSerialize(Q),ne.position.end=vr(Q.end)}function z(Q){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=ne.children[ne.children.length-1];pe.position.end=vr(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(ne.type)&&(de.call(this,Q),U.call(this,Q))}function G(){this.data.atHardBreak=!0}function K(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function W(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function ie(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.value=Q}function M(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ne,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function I(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ne,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function le(Q){const ne=this.sliceSerialize(Q),pe=this.stack[this.stack.length-2];pe.label=Pk(ne),pe.identifier=xn(ne).toLowerCase()}function he(){const Q=this.stack[this.stack.length-1],ne=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const ye=Q.children;pe.children=ye}else pe.alt=ne}function k(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.url=Q}function $(){const Q=this.resume(),ne=this.stack[this.stack.length-1];ne.title=Q}function ee(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function se(Q){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=xn(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function xe(Q){this.data.characterReferenceType=Q.type}function ce(Q){const ne=this.sliceSerialize(Q),pe=this.data.characterReferenceType;let ye;pe?(ye=ax(ne,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=Hd(ne);const Pe=this.stack[this.stack.length-1];Pe.value+=ye}function Ie(Q){const ne=this.stack.pop();ne.position.end=vr(Q.end)}function Te(Q){U.call(this,Q);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(Q)}function nt(Q){U.call(this,Q);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(Q)}function rt(){return{type:"blockquote",children:[]}}function jt(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vt(){return{type:"emphasis",children:[]}}function Gn(){return{type:"heading",depth:0,children:[]}}function Yn(){return{type:"break"}}function st(){return{type:"html",value:""}}function oi(){return{type:"image",title:null,url:"",alt:null}}function Tr(){return{type:"link",title:null,url:"",children:[]}}function Cr(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function Vn(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function ui(){return{type:"paragraph",children:[]}}function ra(){return{type:"strong",children:[]}}function Qn(){return{type:"text",value:""}}function Rr(){return{type:"thematicBreak"}}}function vr(t){return{line:t.line,column:t.column,offset:t.offset}}function px(t,r){let a=-1;for(;++a<r.length;){const i=r[a];Array.isArray(i)?px(t,i):$k(t,i)}}function $k(t,r){let a;for(a in r)if(mx.call(r,a))switch(a){case"canContainEols":{const i=r[a];i&&t[a].push(...i);break}case"transforms":{const i=r[a];i&&t[a].push(...i);break}case"enter":case"exit":{const i=r[a];i&&Object.assign(t[a],i);break}}}function Mp(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+ml({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+ml({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+ml({start:r.start,end:r.end})+") is still open")}function Fk(t){const r=this;r.parser=a;function a(i){return Ik(i,{...r.data("settings"),...t,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}function Gk(t,r){const a={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,a),t.applyData(r,a)}function Yk(t,r){const a={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,a),[t.applyData(r,a),{type:"text",value:`
`}]}function Vk(t,r){const a=r.value?r.value+`
`:"",i={};r.lang&&(i.className=["language-"+r.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:a}]};return r.meta&&(s.data={meta:r.meta}),t.patch(r,s),s=t.applyData(r,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(r,s),s}function Qk(t,r){const a={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Xk(t,r){const a={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Kk(t,r){const a=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(r.identifier).toUpperCase(),s=li(i.toLowerCase()),u=t.footnoteOrder.indexOf(i);let c,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=u+1,h+=1,t.footnoteCounts.set(i,h);const p={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+s,id:a+"fnref-"+s+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(r,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(r,m),t.applyData(r,m)}function Zk(t,r){const a={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function Jk(t,r){if(t.options.allowDangerousHtml){const a={type:"raw",value:r.value};return t.patch(r,a),t.applyData(r,a)}}function gx(t,r){const a=r.referenceType;let i="]";if(a==="collapsed"?i+="[]":a==="full"&&(i+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return[{type:"text",value:"!["+r.alt+i}];const s=t.all(r),u=s[0];u&&u.type==="text"?u.value="["+u.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function Wk(t,r){const a=String(r.identifier).toUpperCase(),i=t.definitionById.get(a);if(!i)return gx(t,r);const s={src:li(i.url||""),alt:r.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const u={type:"element",tagName:"img",properties:s,children:[]};return t.patch(r,u),t.applyData(r,u)}function e2(t,r){const a={src:li(r.url)};r.alt!==null&&r.alt!==void 0&&(a.alt=r.alt),r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(r,i),t.applyData(r,i)}function t2(t,r){const a={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,a);const i={type:"element",tagName:"code",properties:{},children:[a]};return t.patch(r,i),t.applyData(r,i)}function n2(t,r){const a=String(r.identifier).toUpperCase(),i=t.definitionById.get(a);if(!i)return gx(t,r);const s={href:li(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const u={type:"element",tagName:"a",properties:s,children:t.all(r)};return t.patch(r,u),t.applyData(r,u)}function r2(t,r){const a={href:li(r.url)};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(r)};return t.patch(r,i),t.applyData(r,i)}function a2(t,r,a){const i=t.all(r),s=a?i2(a):xx(r),u={},c=[];if(typeof r.checked=="boolean"){const x=i[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const x=i[h];(s||h!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?c.push(...x.children):c.push(x)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:u,children:c};return t.patch(r,m),t.applyData(r,m)}function i2(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const a=t.children;let i=-1;for(;!r&&++i<a.length;)r=xx(a[i])}return r}function xx(t){const r=t.spread;return r??t.children.length>1}function l2(t,r){const a={},i=t.all(r);let s=-1;for(typeof r.start=="number"&&r.start!==1&&(a.start=r.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const u={type:"element",tagName:r.ordered?"ol":"ul",properties:a,children:t.wrap(i,!0)};return t.patch(r,u),t.applyData(r,u)}function s2(t,r){const a={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function o2(t,r){const a={type:"root",children:t.wrap(t.all(r))};return t.patch(r,a),t.applyData(r,a)}function u2(t,r){const a={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}function c2(t,r){const a=t.all(r),i=a.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(r.children[0],c),s.push(c)}if(a.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(a,!0)},h=Ud(r.children[1]),p=Kg(r.children[r.children.length-1]);h&&p&&(c.position={start:h,end:p}),s.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(r,u),t.applyData(r,u)}function d2(t,r,a){const i=a?a.children:void 0,u=(i?i.indexOf(r):1)===0?"th":"td",c=a&&a.type==="table"?a.align:void 0,h=c?c.length:r.children.length;let p=-1;const m=[];for(;++p<h;){const y=r.children[p],v={},b=c?c[p]:void 0;b&&(v.align=b);let j={type:"element",tagName:u,properties:v,children:[]};y&&(j.children=t.all(y),t.patch(y,j),j=t.applyData(y,j)),m.push(j)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(r,x),t.applyData(r,x)}function f2(t,r){const a={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,a),t.applyData(r,a)}const zp=9,Up=32;function h2(t){const r=String(t),a=/\r?\n|\r/g;let i=a.exec(r),s=0;const u=[];for(;i;)u.push(Bp(r.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=a.exec(r);return u.push(Bp(r.slice(s),s>0,!1)),u.join("")}function Bp(t,r,a){let i=0,s=t.length;if(r){let u=t.codePointAt(i);for(;u===zp||u===Up;)i++,u=t.codePointAt(i)}if(a){let u=t.codePointAt(s-1);for(;u===zp||u===Up;)s--,u=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function m2(t,r){const a={type:"text",value:h2(String(r.value))};return t.patch(r,a),t.applyData(r,a)}function p2(t,r){const a={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,a),t.applyData(r,a)}const g2={blockquote:Gk,break:Yk,code:Vk,delete:Qk,emphasis:Xk,footnoteReference:Kk,heading:Zk,html:Jk,imageReference:Wk,image:e2,inlineCode:t2,linkReference:n2,link:r2,listItem:a2,list:l2,paragraph:s2,root:o2,strong:u2,table:c2,tableCell:f2,tableRow:d2,text:m2,thematicBreak:p2,toml:qs,yaml:qs,definition:qs,footnoteDefinition:qs};function qs(){}const yx=-1,mo=0,gl=1,io=2,Fd=3,Gd=4,Yd=5,Vd=6,bx=7,vx=8,Pp=typeof self=="object"?self:globalThis,x2=(t,r)=>{const a=(s,u)=>(t.set(u,s),s),i=s=>{if(t.has(s))return t.get(s);const[u,c]=r[s];switch(u){case mo:case yx:return a(c,s);case gl:{const h=a([],s);for(const p of c)h.push(i(p));return h}case io:{const h=a({},s);for(const[p,m]of c)h[i(p)]=i(m);return h}case Fd:return a(new Date(c),s);case Gd:{const{source:h,flags:p}=c;return a(new RegExp(h,p),s)}case Yd:{const h=a(new Map,s);for(const[p,m]of c)h.set(i(p),i(m));return h}case Vd:{const h=a(new Set,s);for(const p of c)h.add(i(p));return h}case bx:{const{name:h,message:p}=c;return a(new Pp[h](p),s)}case vx:return a(BigInt(c),s);case"BigInt":return a(Object(BigInt(c)),s);case"ArrayBuffer":return a(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return a(new DataView(h),c)}}return a(new Pp[u](c),s)};return i},qp=t=>x2(new Map,t)(0),Fa="",{toString:y2}={},{keys:b2}=Object,dl=t=>{const r=typeof t;if(r!=="object"||!t)return[mo,r];const a=y2.call(t).slice(8,-1);switch(a){case"Array":return[gl,Fa];case"Object":return[io,Fa];case"Date":return[Fd,Fa];case"RegExp":return[Gd,Fa];case"Map":return[Yd,Fa];case"Set":return[Vd,Fa];case"DataView":return[gl,a]}return a.includes("Array")?[gl,a]:a.includes("Error")?[bx,a]:[io,a]},Is=([t,r])=>t===mo&&(r==="function"||r==="symbol"),v2=(t,r,a,i)=>{const s=(c,h)=>{const p=i.push(c)-1;return a.set(h,p),p},u=c=>{if(a.has(c))return a.get(c);let[h,p]=dl(c);switch(h){case mo:{let x=c;switch(p){case"bigint":h=vx,x=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return s([yx],c)}return s([h,x],c)}case gl:{if(p){let v=c;return p==="DataView"?v=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(v=new Uint8Array(c)),s([p,[...v]],c)}const x=[],y=s([h,x],c);for(const v of c)x.push(u(v));return y}case io:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(r&&"toJSON"in c)return u(c.toJSON());const x=[],y=s([h,x],c);for(const v of b2(c))(t||!Is(dl(c[v])))&&x.push([u(v),u(c[v])]);return y}case Fd:return s([h,c.toISOString()],c);case Gd:{const{source:x,flags:y}=c;return s([h,{source:x,flags:y}],c)}case Yd:{const x=[],y=s([h,x],c);for(const[v,b]of c)(t||!(Is(dl(v))||Is(dl(b))))&&x.push([u(v),u(b)]);return y}case Vd:{const x=[],y=s([h,x],c);for(const v of c)(t||!Is(dl(v)))&&x.push(u(v));return y}}const{message:m}=c;return s([h,{name:p,message:m}],c)};return u},Ip=(t,{json:r,lossy:a}={})=>{const i=[];return v2(!(r||a),!!r,new Map,i)(t),i},lo=typeof structuredClone=="function"?(t,r)=>r&&("json"in r||"lossy"in r)?qp(Ip(t,r)):structuredClone(t):(t,r)=>qp(Ip(t,r));function w2(t,r){const a=[{type:"text",value:""}];return r>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(r)}]}),a}function k2(t,r){return"Back to reference "+(t+1)+(r>1?"-"+r:"")}function S2(t){const r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=t.options.footnoteBackContent||w2,i=t.options.footnoteBackLabel||k2,s=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const x=t.all(m),y=String(m.identifier).toUpperCase(),v=li(y.toLowerCase());let b=0;const j=[],N=t.footnoteCounts.get(y);for(;N!==void 0&&++b<=N;){j.length>0&&j.push({type:"text",value:" "});let O=typeof a=="string"?a:a(p,b);typeof O=="string"&&(O={type:"text",value:O}),j.push({type:"element",tagName:"a",properties:{href:"#"+r+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,b),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const C=x[x.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const O=C.children[C.children.length-1];O&&O.type==="text"?O.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...j)}else x.push(...j);const T={type:"element",tagName:"li",properties:{id:r+"fn-"+v},children:t.wrap(x,!0)};t.patch(m,T),h.push(T)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...lo(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const po=function(t){if(t==null)return E2;if(typeof t=="function")return go(t);if(typeof t=="object")return Array.isArray(t)?j2(t):_2(t);if(typeof t=="string")return N2(t);throw new Error("Expected function, string, or object as test")};function j2(t){const r=[];let a=-1;for(;++a<t.length;)r[a]=po(t[a]);return go(i);function i(...s){let u=-1;for(;++u<r.length;)if(r[u].apply(this,s))return!0;return!1}}function _2(t){const r=t;return go(a);function a(i){const s=i;let u;for(u in t)if(s[u]!==r[u])return!1;return!0}}function N2(t){return go(r);function r(a){return a&&a.type===t}}function go(t){return r;function r(a,i,s){return!!(A2(a)&&t.call(this,a,typeof i=="number"?i:void 0,s||void 0))}}function E2(){return!0}function A2(t){return t!==null&&typeof t=="object"&&"type"in t}const wx=[],T2=!0,vd=!1,C2="skip";function kx(t,r,a,i){let s;typeof r=="function"&&typeof a!="function"?(i=a,a=r):s=r;const u=po(s),c=i?-1:1;h(t,void 0,[])();function h(p,m,x){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=wx,j,N,C;if((!r||u(p,m,x[x.length-1]||void 0))&&(b=R2(a(p,x)),b[0]===vd))return b;if("children"in p&&p.children){const T=p;if(T.children&&b[0]!==C2)for(N=(i?T.children.length:-1)+c,C=x.concat(T);N>-1&&N<T.children.length;){const O=T.children[N];if(j=h(O,N,C)(),j[0]===vd)return j;N=typeof j[1]=="number"?j[1]:N+c}}return b}}}function R2(t){return Array.isArray(t)?t:typeof t=="number"?[T2,t]:t==null?wx:[t]}function Qd(t,r,a,i){let s,u,c;typeof r=="function"&&typeof a!="function"?(u=void 0,c=r,s=a):(u=r,c=a,s=i),kx(t,u,h,s);function h(p,m){const x=m[m.length-1],y=x?x.children.indexOf(p):void 0;return c(p,y,x)}}const wd={}.hasOwnProperty,O2={};function D2(t,r){const a=r||O2,i=new Map,s=new Map,u=new Map,c={...g2,...a.handlers},h={all:m,applyData:M2,definitionById:i,footnoteById:s,footnoteCounts:u,footnoteOrder:[],handlers:c,one:p,options:a,patch:L2,wrap:U2};return Qd(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?i:s,v=String(x.identifier).toUpperCase();y.has(v)||y.set(v,x)}}),h;function p(x,y){const v=x.type,b=h.handlers[v];if(wd.call(h.handlers,v)&&b)return b(h,x,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in x){const{children:N,...C}=x,T=lo(C);return T.children=h.all(x),T}return lo(x)}return(h.options.unknownHandler||z2)(h,x,y)}function m(x){const y=[];if("children"in x){const v=x.children;let b=-1;for(;++b<v.length;){const j=h.one(v[b],x);if(j){if(b&&v[b-1].type==="break"&&(!Array.isArray(j)&&j.type==="text"&&(j.value=Hp(j.value)),!Array.isArray(j)&&j.type==="element")){const N=j.children[0];N&&N.type==="text"&&(N.value=Hp(N.value))}Array.isArray(j)?y.push(...j):y.push(j)}}}return y}}function L2(t,r){t.position&&(r.position=k1(t))}function M2(t,r){let a=r;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,u=t.data.hProperties;if(typeof i=="string")if(a.type==="element")a.tagName=i;else{const c="children"in a?a.children:[a];a={type:"element",tagName:i,properties:{},children:c}}a.type==="element"&&u&&Object.assign(a.properties,lo(u)),"children"in a&&a.children&&s!==null&&s!==void 0&&(a.children=s)}return a}function z2(t,r){const a=r.data||{},i="value"in r&&!(wd.call(a,"hProperties")||wd.call(a,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:t.all(r)};return t.patch(r,i),t.applyData(r,i)}function U2(t,r){const a=[];let i=-1;for(r&&a.push({type:"text",value:`
`});++i<t.length;)i&&a.push({type:"text",value:`
`}),a.push(t[i]);return r&&t.length>0&&a.push({type:"text",value:`
`}),a}function Hp(t){let r=0,a=t.charCodeAt(r);for(;a===9||a===32;)r++,a=t.charCodeAt(r);return t.slice(r)}function $p(t,r){const a=D2(t,r),i=a.one(t,void 0),s=S2(a),u=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&u.children.push({type:"text",value:`
`},s),u}function B2(t,r){return t&&"run"in t?async function(a,i){const s=$p(a,{file:i,...r});await t.run(s,i)}:function(a,i){return $p(a,{file:i,...t||r})}}function Fp(t){if(t)throw t}var Pc,Gp;function P2(){if(Gp)return Pc;Gp=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):r.call(m)==="[object Array]"},u=function(m){if(!m||r.call(m)!=="[object Object]")return!1;var x=t.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!x&&!y)return!1;var v;for(v in m);return typeof v>"u"||t.call(m,v)},c=function(m,x){a&&x.name==="__proto__"?a(m,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):m[x.name]=x.newValue},h=function(m,x){if(x==="__proto__")if(t.call(m,x)){if(i)return i(m,x).value}else return;return m[x]};return Pc=function p(){var m,x,y,v,b,j,N=arguments[0],C=1,T=arguments.length,O=!1;for(typeof N=="boolean"&&(O=N,N=arguments[1]||{},C=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});C<T;++C)if(m=arguments[C],m!=null)for(x in m)y=h(N,x),v=h(m,x),N!==v&&(O&&v&&(u(v)||(b=s(v)))?(b?(b=!1,j=y&&s(y)?y:[]):j=y&&u(y)?y:{},c(N,{name:x,newValue:p(O,j,v)})):typeof v<"u"&&c(N,{name:x,newValue:v}));return N},Pc}var q2=P2();const qc=jl(q2);function kd(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I2(){const t=[],r={run:a,use:i};return r;function a(...s){let u=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...s);function h(p,...m){const x=t[++u];let y=-1;if(p){c(p);return}for(;++y<s.length;)(m[y]===null||m[y]===void 0)&&(m[y]=s[y]);s=m,x?H2(x,h)(...m):c(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),r}}function H2(t,r){let a;return i;function i(...c){const h=t.length>c.length;let p;h&&c.push(s);try{p=t.apply(this,c)}catch(m){const x=m;if(h&&a)throw x;return s(x)}h||(p&&p.then&&typeof p.then=="function"?p.then(u,s):p instanceof Error?s(p):u(p))}function s(c,...h){a||(a=!0,r(c,...h))}function u(c){s(null,c)}}const _n={basename:$2,dirname:F2,extname:G2,join:Y2,sep:"/"};function $2(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');El(t);let a=0,i=-1,s=t.length,u;if(r===void 0||r.length===0||r.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else i<0&&(u=!0,i=s+1);return i<0?"":t.slice(a,i)}if(r===t)return"";let c=-1,h=r.length-1;for(;s--;)if(t.codePointAt(s)===47){if(u){a=s+1;break}}else c<0&&(u=!0,c=s+1),h>-1&&(t.codePointAt(s)===r.codePointAt(h--)?h<0&&(i=s):(h=-1,i=c));return a===i?i=c:i<0&&(i=t.length),t.slice(a,i)}function F2(t){if(El(t),t.length===0)return".";let r=-1,a=t.length,i;for(;--a;)if(t.codePointAt(a)===47){if(i){r=a;break}}else i||(i=!0);return r<0?t.codePointAt(0)===47?"/":".":r===1&&t.codePointAt(0)===47?"//":t.slice(0,r)}function G2(t){El(t);let r=t.length,a=-1,i=0,s=-1,u=0,c;for(;r--;){const h=t.codePointAt(r);if(h===47){if(c){i=r+1;break}continue}a<0&&(c=!0,a=r+1),h===46?s<0?s=r:u!==1&&(u=1):s>-1&&(u=-1)}return s<0||a<0||u===0||u===1&&s===a-1&&s===i+1?"":t.slice(s,a)}function Y2(...t){let r=-1,a;for(;++r<t.length;)El(t[r]),t[r]&&(a=a===void 0?t[r]:a+"/"+t[r]);return a===void 0?".":V2(a)}function V2(t){El(t);const r=t.codePointAt(0)===47;let a=Q2(t,!r);return a.length===0&&!r&&(a="."),a.length>0&&t.codePointAt(t.length-1)===47&&(a+="/"),r?"/"+a:a}function Q2(t,r){let a="",i=0,s=-1,u=0,c=-1,h,p;for(;++c<=t.length;){if(c<t.length)h=t.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(s===c-1||u===1))if(s!==c-1&&u===2){if(a.length<2||i!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(p=a.lastIndexOf("/"),p!==a.length-1){p<0?(a="",i=0):(a=a.slice(0,p),i=a.length-1-a.lastIndexOf("/")),s=c,u=0;continue}}else if(a.length>0){a="",i=0,s=c,u=0;continue}}r&&(a=a.length>0?a+"/..":"..",i=2)}else a.length>0?a+="/"+t.slice(s+1,c):a=t.slice(s+1,c),i=c-s-1;s=c,u=0}else h===46&&u>-1?u++:u=-1}return a}function El(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const X2={cwd:K2};function K2(){return"/"}function Sd(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Z2(t){if(typeof t=="string")t=new URL(t);else if(!Sd(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return J2(t)}function J2(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const r=t.pathname;let a=-1;for(;++a<r.length;)if(r.codePointAt(a)===37&&r.codePointAt(a+1)===50){const i=r.codePointAt(a+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}const Ic=["history","path","basename","stem","extname","dirname"];class Sx{constructor(r){let a;r?Sd(r)?a={path:r}:typeof r=="string"||W2(r)?a={value:r}:a=r:a={},this.cwd="cwd"in a?"":X2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Ic.length;){const u=Ic[i];u in a&&a[u]!==void 0&&a[u]!==null&&(this[u]=u==="history"?[...a[u]]:a[u])}let s;for(s in a)Ic.includes(s)||(this[s]=a[s])}get basename(){return typeof this.path=="string"?_n.basename(this.path):void 0}set basename(r){$c(r,"basename"),Hc(r,"basename"),this.path=_n.join(this.dirname||"",r)}get dirname(){return typeof this.path=="string"?_n.dirname(this.path):void 0}set dirname(r){Yp(this.basename,"dirname"),this.path=_n.join(r||"",this.basename)}get extname(){return typeof this.path=="string"?_n.extname(this.path):void 0}set extname(r){if(Hc(r,"extname"),Yp(this.dirname,"extname"),r){if(r.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_n.join(this.dirname,this.stem+(r||""))}get path(){return this.history[this.history.length-1]}set path(r){Sd(r)&&(r=Z2(r)),$c(r,"path"),this.path!==r&&this.history.push(r)}get stem(){return typeof this.path=="string"?_n.basename(this.path,this.extname):void 0}set stem(r){$c(r,"stem"),Hc(r,"stem"),this.path=_n.join(this.dirname||"",r+(this.extname||""))}fail(r,a,i){const s=this.message(r,a,i);throw s.fatal=!0,s}info(r,a,i){const s=this.message(r,a,i);return s.fatal=void 0,s}message(r,a,i){const s=new Ot(r,a,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(r){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(r||void 0).decode(this.value)}}function Hc(t,r){if(t&&t.includes(_n.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+_n.sep+"`")}function $c(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function Yp(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function W2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eS=function(t){const i=this.constructor.prototype,s=i[t],u=function(){return s.apply(u,arguments)};return Object.setPrototypeOf(u,i),u},tS={}.hasOwnProperty;class Xd extends eS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I2()}copy(){const r=new Xd;let a=-1;for(;++a<this.attachers.length;){const i=this.attachers[a];r.use(...i)}return r.data(qc(!0,{},this.namespace)),r}data(r,a){return typeof r=="string"?arguments.length===2?(Yc("data",this.frozen),this.namespace[r]=a,this):tS.call(this.namespace,r)&&this.namespace[r]||void 0:r?(Yc("data",this.frozen),this.namespace=r,this):this.namespace}freeze(){if(this.frozen)return this;const r=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=a.call(r,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(r){this.freeze();const a=Hs(r),i=this.parser||this.Parser;return Fc("parse",i),i(String(a),a)}process(r,a){const i=this;return this.freeze(),Fc("process",this.parser||this.Parser),Gc("process",this.compiler||this.Compiler),a?s(void 0,a):new Promise(s);function s(u,c){const h=Hs(r),p=i.parse(h);i.run(p,h,function(x,y,v){if(x||!y||!v)return m(x);const b=y,j=i.stringify(b,v);aS(j)?v.value=j:v.result=j,m(x,v)});function m(x,y){x||!y?c(x):u?u(y):a(void 0,y)}}}processSync(r){let a=!1,i;return this.freeze(),Fc("processSync",this.parser||this.Parser),Gc("processSync",this.compiler||this.Compiler),this.process(r,s),Qp("processSync","process",a),i;function s(u,c){a=!0,Fp(u),i=c}}run(r,a,i){Vp(r),this.freeze();const s=this.transformers;return!i&&typeof a=="function"&&(i=a,a=void 0),i?u(void 0,i):new Promise(u);function u(c,h){const p=Hs(a);s.run(r,p,m);function m(x,y,v){const b=y||r;x?h(x):c?c(b):i(void 0,b,v)}}}runSync(r,a){let i=!1,s;return this.run(r,a,u),Qp("runSync","run",i),s;function u(c,h){Fp(c),s=h,i=!0}}stringify(r,a){this.freeze();const i=Hs(a),s=this.compiler||this.Compiler;return Gc("stringify",s),Vp(r),s(r,i)}use(r,...a){const i=this.attachers,s=this.namespace;if(Yc("use",this.frozen),r!=null)if(typeof r=="function")p(r,a);else if(typeof r=="object")Array.isArray(r)?h(r):c(r);else throw new TypeError("Expected usable value, not `"+r+"`");return this;function u(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...y]=m;p(x,y)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(s.settings=qc(!0,s.settings,m.settings))}function h(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const y=m[x];u(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,x){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===m){v=y;break}if(v===-1)i.push([m,...x]);else if(x.length>0){let[b,...j]=x;const N=i[v][1];kd(N)&&kd(b)&&(b=qc(!0,N,b)),i[v]=[m,b,...j]}}}}const nS=new Xd().freeze();function Fc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Gc(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Yc(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Vp(t){if(!kd(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Qp(t,r,a){if(!a)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function Hs(t){return rS(t)?t:new Sx(t)}function rS(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function aS(t){return typeof t=="string"||iS(t)}function iS(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const lS="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Xp=[],Kp={allowDangerousHtml:!0},sS=/^(https?|ircs?|mailto|xmpp)$/i,oS=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kd(t){const r=uS(t),a=cS(t);return dS(r.runSync(r.parse(a),a),t)}function uS(t){const r=t.rehypePlugins||Xp,a=t.remarkPlugins||Xp,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Kp}:Kp;return nS().use(Fk).use(a).use(B2,i).use(r)}function cS(t){const r=t.children||"",a=new Sx;return typeof r=="string"&&(a.value=r),a}function dS(t,r){const a=r.allowedElements,i=r.allowElement,s=r.components,u=r.disallowedElements,c=r.skipHtml,h=r.unwrapDisallowed,p=r.urlTransform||fS;for(const x of oS)Object.hasOwn(r,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+lS+x.id,void 0);return r.className&&(t={type:"element",tagName:"div",properties:{className:r.className},children:t.type==="root"?t.children:[t]}),Qd(t,m),E1(t,{Fragment:d.Fragment,components:s,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function m(x,y,v){if(x.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let b;for(b in zc)if(Object.hasOwn(zc,b)&&Object.hasOwn(x.properties,b)){const j=x.properties[b],N=zc[b];(N===null||N.includes(x.tagName))&&(x.properties[b]=p(String(j||""),b,x))}}if(x.type==="element"){let b=a?!a.includes(x.tagName):u?u.includes(x.tagName):!1;if(!b&&i&&typeof y=="number"&&(b=!i(x,y,v)),b&&v&&typeof y=="number")return h&&x.children?v.children.splice(y,1,...x.children):v.children.splice(y,1),y}}}function fS(t){const r=t.indexOf(":"),a=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return r===-1||s!==-1&&r>s||a!==-1&&r>a||i!==-1&&r>i||sS.test(t.slice(0,r))?t:""}function Zp(t,r){const a=String(t);if(typeof r!="string")throw new TypeError("Expected character");let i=0,s=a.indexOf(r);for(;s!==-1;)i++,s=a.indexOf(r,s+r.length);return i}function hS(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function mS(t,r,a){const s=po((a||{}).ignore||[]),u=pS(r);let c=-1;for(;++c<u.length;)kx(t,"text",h);function h(m,x){let y=-1,v;for(;++y<x.length;){const b=x[y],j=v?v.children:void 0;if(s(b,j?j.indexOf(b):void 0,v))return;v=b}if(v)return p(m,x)}function p(m,x){const y=x[x.length-1],v=u[c][0],b=u[c][1];let j=0;const C=y.children.indexOf(m);let T=!1,O=[];v.lastIndex=0;let E=v.exec(m.value);for(;E;){const Y=E.index,V={index:E.index,input:E.input,stack:[...x,m]};let D=b(...E,V);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?v.lastIndex=Y+1:(j!==Y&&O.push({type:"text",value:m.value.slice(j,Y)}),Array.isArray(D)?O.push(...D):D&&O.push(D),j=Y+E[0].length,T=!0),!v.global)break;E=v.exec(m.value)}return T?(j<m.value.length&&O.push({type:"text",value:m.value.slice(j)}),y.children.splice(C,1,...O)):O=[m],C+O.length}}function pS(t){const r=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<a.length;){const s=a[i];r.push([gS(s[0]),xS(s[1])])}return r}function gS(t){return typeof t=="string"?new RegExp(hS(t),"g"):t}function xS(t){return typeof t=="function"?t:function(){return t}}const Vc="phrasing",Qc=["autolink","link","image","label"];function yS(){return{transforms:[_S],enter:{literalAutolink:vS,literalAutolinkEmail:Xc,literalAutolinkHttp:Xc,literalAutolinkWww:Xc},exit:{literalAutolink:jS,literalAutolinkEmail:SS,literalAutolinkHttp:wS,literalAutolinkWww:kS}}}function bS(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Qc},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vc,notInConstruct:Qc},{character:":",before:"[ps]",after:"\\/",inConstruct:Vc,notInConstruct:Qc}]}}function vS(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Xc(t){this.config.enter.autolinkProtocol.call(this,t)}function wS(t){this.config.exit.autolinkProtocol.call(this,t)}function kS(t){this.config.exit.data.call(this,t);const r=this.stack[this.stack.length-1];r.type,r.url="http://"+this.sliceSerialize(t)}function SS(t){this.config.exit.autolinkEmail.call(this,t)}function jS(t){this.exit(t)}function _S(t){mS(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,NS],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ES]],{ignore:["link","linkReference"]})}function NS(t,r,a,i,s){let u="";if(!jx(s)||(/^w/i.test(r)&&(a=r+a,r="",u="http://"),!AS(a)))return!1;const c=TS(a+i);if(!c[0])return!1;const h={type:"link",title:null,url:u+r+c[0],children:[{type:"text",value:r+c[0]}]};return c[1]?[h,{type:"text",value:c[1]}]:h}function ES(t,r,a,i){return!jx(i,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+r+"@"+a,children:[{type:"text",value:r+"@"+a}]}}function AS(t){const r=t.split(".");return!(r.length<2||r[r.length-1]&&(/_/.test(r[r.length-1])||!/[a-zA-Z\d]/.test(r[r.length-1]))||r[r.length-2]&&(/_/.test(r[r.length-2])||!/[a-zA-Z\d]/.test(r[r.length-2])))}function TS(t){const r=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!r)return[t,void 0];t=t.slice(0,r.index);let a=r[0],i=a.indexOf(")");const s=Zp(t,"(");let u=Zp(t,")");for(;i!==-1&&s>u;)t+=a.slice(0,i+1),a=a.slice(i+1),i=a.indexOf(")"),u++;return[t,a]}function jx(t,r){const a=t.input.charCodeAt(t.index-1);return(t.index===0||ea(a)||fo(a))&&(!r||a!==47)}_x.peek=BS;function CS(){this.buffer()}function RS(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function OS(){this.buffer()}function DS(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function LS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=xn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function MS(t){this.exit(t)}function zS(t){const r=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=xn(this.sliceSerialize(t)).toLowerCase(),a.label=r}function US(t){this.exit(t)}function BS(){return"["}function _x(t,r,a,i){const s=a.createTracker(i);let u=s.move("[^");const c=a.enter("footnoteReference"),h=a.enter("reference");return u+=s.move(a.safe(a.associationId(t),{after:"]",before:u})),h(),c(),u+=s.move("]"),u}function PS(){return{enter:{gfmFootnoteCallString:CS,gfmFootnoteCall:RS,gfmFootnoteDefinitionLabelString:OS,gfmFootnoteDefinition:DS},exit:{gfmFootnoteCallString:LS,gfmFootnoteCall:MS,gfmFootnoteDefinitionLabelString:zS,gfmFootnoteDefinition:US}}}function qS(t){let r=!1;return t&&t.firstLineBlank&&(r=!0),{handlers:{footnoteDefinition:a,footnoteReference:_x},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(i,s,u,c){const h=u.createTracker(c);let p=h.move("[^");const m=u.enter("footnoteDefinition"),x=u.enter("label");return p+=h.move(u.safe(u.associationId(i),{before:p,after:"]"})),x(),p+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),p+=h.move((r?`
`:" ")+u.indentLines(u.containerFlow(i,h.current()),r?Nx:IS))),m(),p}}function IS(t,r,a){return r===0?t:Nx(t,r,a)}function Nx(t,r,a){return(a?"":"    ")+t}const HS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Ex.peek=VS;function $S(){return{canContainEols:["delete"],enter:{strikethrough:GS},exit:{strikethrough:YS}}}function FS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:HS}],handlers:{delete:Ex}}}function GS(t){this.enter({type:"delete",children:[]},t)}function YS(t){this.exit(t)}function Ex(t,r,a,i){const s=a.createTracker(i),u=a.enter("strikethrough");let c=s.move("~~");return c+=a.containerPhrasing(t,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),u(),c}function VS(){return"~"}function QS(t){return t.length}function XS(t,r){const a=r||{},i=(a.align||[]).concat(),s=a.stringLength||QS,u=[],c=[],h=[],p=[];let m=0,x=-1;for(;++x<t.length;){const N=[],C=[];let T=-1;for(t[x].length>m&&(m=t[x].length);++T<t[x].length;){const O=KS(t[x][T]);if(a.alignDelimiters!==!1){const E=s(O);C[T]=E,(p[T]===void 0||E>p[T])&&(p[T]=E)}N.push(O)}c[x]=N,h[x]=C}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<m;)u[y]=Jp(i[y]);else{const N=Jp(i);for(;++y<m;)u[y]=N}y=-1;const v=[],b=[];for(;++y<m;){const N=u[y];let C="",T="";N===99?(C=":",T=":"):N===108?C=":":N===114&&(T=":");let O=a.alignDelimiters===!1?1:Math.max(1,p[y]-C.length-T.length);const E=C+"-".repeat(O)+T;a.alignDelimiters!==!1&&(O=C.length+O+T.length,O>p[y]&&(p[y]=O),b[y]=O),v[y]=E}c.splice(1,0,v),h.splice(1,0,b),x=-1;const j=[];for(;++x<c.length;){const N=c[x],C=h[x];y=-1;const T=[];for(;++y<m;){const O=N[y]||"";let E="",Y="";if(a.alignDelimiters!==!1){const V=p[y]-(C[y]||0),D=u[y];D===114?E=" ".repeat(V):D===99?V%2?(E=" ".repeat(V/2+.5),Y=" ".repeat(V/2-.5)):(E=" ".repeat(V/2),Y=E):Y=" ".repeat(V)}a.delimiterStart!==!1&&!y&&T.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&O==="")&&(a.delimiterStart!==!1||y)&&T.push(" "),a.alignDelimiters!==!1&&T.push(E),T.push(O),a.alignDelimiters!==!1&&T.push(Y),a.padding!==!1&&T.push(" "),(a.delimiterEnd!==!1||y!==m-1)&&T.push("|")}j.push(a.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return j.join(`
`)}function KS(t){return t==null?"":String(t)}function Jp(t){const r=typeof t=="string"?t.codePointAt(0):0;return r===67||r===99?99:r===76||r===108?108:r===82||r===114?114:0}function ZS(t,r,a,i){const s=a.enter("blockquote"),u=a.createTracker(i);u.move("> "),u.shift(2);const c=a.indentLines(a.containerFlow(t,u.current()),JS);return s(),c}function JS(t,r,a){return">"+(a?"":" ")+t}function WS(t,r){return Wp(t,r.inConstruct,!0)&&!Wp(t,r.notInConstruct,!1)}function Wp(t,r,a){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return a;let i=-1;for(;++i<r.length;)if(t.includes(r[i]))return!0;return!1}function eg(t,r,a,i){let s=-1;for(;++s<a.unsafe.length;)if(a.unsafe[s].character===`
`&&WS(a.stack,a.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function ej(t,r){const a=String(t);let i=a.indexOf(r),s=i,u=0,c=0;if(typeof r!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++u>c&&(c=u):u=1,s=i+r.length,i=a.indexOf(r,s);return c}function tj(t,r){return!!(r.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function nj(t){const r=t.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function rj(t,r,a,i){const s=nj(a),u=t.value||"",c=s==="`"?"GraveAccent":"Tilde";if(tj(t,a)){const y=a.enter("codeIndented"),v=a.indentLines(u,aj);return y(),v}const h=a.createTracker(i),p=s.repeat(Math.max(ej(u,s)+1,3)),m=a.enter("codeFenced");let x=h.move(p);if(t.lang){const y=a.enter(`codeFencedLang${c}`);x+=h.move(a.safe(t.lang,{before:x,after:" ",encode:["`"],...h.current()})),y()}if(t.lang&&t.meta){const y=a.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(a.safe(t.meta,{before:x,after:`
`,encode:["`"],...h.current()})),y()}return x+=h.move(`
`),u&&(x+=h.move(u+`
`)),x+=h.move(p),m(),x}function aj(t,r,a){return(a?"":"    ")+t}function Zd(t){const r=t.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function ij(t,r,a,i){const s=Zd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("definition");let h=a.enter("label");const p=a.createTracker(i);let m=p.move("[");return m+=p.move(a.safe(a.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),c(),m}function lj(t){const r=t.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function kl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function so(t,r,a){const i=ri(t),s=ri(r);return i===void 0?s===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ax.peek=sj;function Ax(t,r,a,i){const s=lj(a),u=a.enter("emphasis"),c=a.createTracker(i),h=c.move(s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=so(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=kl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=so(i.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+kl(y));const b=c.move(s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function sj(t,r,a){return a.options.emphasis||"*"}function oj(t,r){let a=!1;return Qd(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return a=!0,vd}),!!((!t.depth||t.depth<3)&&Id(t)&&(r.options.setext||a))}function uj(t,r,a,i){const s=Math.max(Math.min(6,t.depth||1),1),u=a.createTracker(i);if(oj(t,a)){const x=a.enter("headingSetext"),y=a.enter("phrasing"),v=a.containerPhrasing(t,{...u.current(),before:`
`,after:`
`});return y(),x(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const c="#".repeat(s),h=a.enter("headingAtx"),p=a.enter("phrasing");u.move(c+" ");let m=a.containerPhrasing(t,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(m)&&(m=kl(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,a.options.closeAtx&&(m+=" "+c),p(),h(),m}Tx.peek=cj;function Tx(t){return t.value||""}function cj(){return"<"}Cx.peek=dj;function Cx(t,r,a,i){const s=Zd(a),u=s==='"'?"Quote":"Apostrophe",c=a.enter("image");let h=a.enter("label");const p=a.createTracker(i);let m=p.move("![");return m+=p.move(a.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=a.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(a.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=a.enter("destinationRaw"),m+=p.move(a.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),h(),t.title&&(h=a.enter(`title${u}`),m+=p.move(" "+s),m+=p.move(a.safe(t.title,{before:m,after:s,...p.current()})),m+=p.move(s),h()),m+=p.move(")"),c(),m}function dj(){return"!"}Rx.peek=fj;function Rx(t,r,a,i){const s=t.referenceType,u=a.enter("imageReference");let c=a.enter("label");const h=a.createTracker(i);let p=h.move("![");const m=a.safe(t.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function fj(){return"!"}Ox.peek=hj;function Ox(t,r,a){let i=t.value||"",s="`",u=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++u<a.unsafe.length;){const c=a.unsafe[u],h=a.compilePattern(c);let p;if(c.atBreak)for(;p=h.exec(i);){let m=p.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(p.index+1)}}return s+i+s}function hj(){return"`"}function Dx(t,r){const a=Id(t);return!!(!r.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(a===t.url||"mailto:"+a===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Lx.peek=mj;function Lx(t,r,a,i){const s=Zd(a),u=s==='"'?"Quote":"Apostrophe",c=a.createTracker(i);let h,p;if(Dx(t,a)){const x=a.stack;a.stack=[],h=a.enter("autolink");let y=c.move("<");return y+=c.move(a.containerPhrasing(t,{before:y,after:">",...c.current()})),y+=c.move(">"),h(),a.stack=x,y}h=a.enter("link"),p=a.enter("label");let m=c.move("[");return m+=c.move(a.containerPhrasing(t,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=a.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(a.safe(t.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=a.enter("destinationRaw"),m+=c.move(a.safe(t.url,{before:m,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=a.enter(`title${u}`),m+=c.move(" "+s),m+=c.move(a.safe(t.title,{before:m,after:s,...c.current()})),m+=c.move(s),p()),m+=c.move(")"),h(),m}function mj(t,r,a){return Dx(t,a)?"<":"["}Mx.peek=pj;function Mx(t,r,a,i){const s=t.referenceType,u=a.enter("linkReference");let c=a.enter("label");const h=a.createTracker(i);let p=h.move("[");const m=a.containerPhrasing(t,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),c();const x=a.stack;a.stack=[],c=a.enter("reference");const y=a.safe(a.associationId(t),{before:p,after:"]",...h.current()});return c(),a.stack=x,u(),s==="full"||!m||m!==y?p+=h.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function pj(){return"["}function Jd(t){const r=t.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function gj(t){const r=Jd(t),a=t.options.bulletOther;if(!a)return r==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+a+"`) to be different");return a}function xj(t){const r=t.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function zx(t){const r=t.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function yj(t,r,a,i){const s=a.enter("list"),u=a.bulletCurrent;let c=t.ordered?xj(a):Jd(a);const h=t.ordered?c==="."?")":".":gj(a);let p=r&&a.bulletLastUsed?c===a.bulletLastUsed:!1;if(!t.ordered){const x=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&(p=!0),zx(a)===c&&x){let y=-1;for(;++y<t.children.length;){const v=t.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=h),a.bulletCurrent=c;const m=a.containerFlow(t,i);return a.bulletLastUsed=c,a.bulletCurrent=u,s(),m}function bj(t){const r=t.options.listItemIndent||"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function vj(t,r,a,i){const s=bj(a);let u=a.bulletCurrent||Jd(a);r&&r.type==="list"&&r.ordered&&(u=(typeof r.start=="number"&&r.start>-1?r.start:1)+(a.options.incrementListMarker===!1?0:r.children.indexOf(t))+u);let c=u.length+1;(s==="tab"||s==="mixed"&&(r&&r.type==="list"&&r.spread||t.spread))&&(c=Math.ceil(c/4)*4);const h=a.createTracker(i);h.move(u+" ".repeat(c-u.length)),h.shift(c);const p=a.enter("listItem"),m=a.indentLines(a.containerFlow(t,h.current()),x);return p(),m;function x(y,v,b){return v?(b?"":" ".repeat(c))+y:(b?u:u+" ".repeat(c-u.length))+y}}function wj(t,r,a,i){const s=a.enter("paragraph"),u=a.enter("phrasing"),c=a.containerPhrasing(t,i);return u(),s(),c}const kj=po(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Sj(t,r,a,i){return(t.children.some(function(c){return kj(c)})?a.containerPhrasing:a.containerFlow).call(a,t,i)}function jj(t){const r=t.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}Ux.peek=_j;function Ux(t,r,a,i){const s=jj(a),u=a.enter("strong"),c=a.createTracker(i),h=c.move(s+s);let p=c.move(a.containerPhrasing(t,{after:s,before:h,...c.current()}));const m=p.charCodeAt(0),x=so(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=kl(m)+p.slice(1));const y=p.charCodeAt(p.length-1),v=so(i.after.charCodeAt(0),y,s);v.inside&&(p=p.slice(0,-1)+kl(y));const b=c.move(s+s);return u(),a.attentionEncodeSurroundingInfo={after:v.outside,before:x.outside},h+p+b}function _j(t,r,a){return a.options.strong||"*"}function Nj(t,r,a,i){return a.safe(t.value,i)}function Ej(t){const r=t.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function Aj(t,r,a){const i=(zx(a)+(a.options.ruleSpaces?" ":"")).repeat(Ej(a));return a.options.ruleSpaces?i.slice(0,-1):i}const Bx={blockquote:ZS,break:eg,code:rj,definition:ij,emphasis:Ax,hardBreak:eg,heading:uj,html:Tx,image:Cx,imageReference:Rx,inlineCode:Ox,link:Lx,linkReference:Mx,list:yj,listItem:vj,paragraph:wj,root:Sj,strong:Ux,text:Nj,thematicBreak:Aj};function Tj(){return{enter:{table:Cj,tableData:tg,tableHeader:tg,tableRow:Oj},exit:{codeText:Dj,table:Rj,tableData:Kc,tableHeader:Kc,tableRow:Kc}}}function Cj(t){const r=t._align;this.enter({type:"table",align:r.map(function(a){return a==="none"?null:a}),children:[]},t),this.data.inTable=!0}function Rj(t){this.exit(t),this.data.inTable=void 0}function Oj(t){this.enter({type:"tableRow",children:[]},t)}function Kc(t){this.exit(t)}function tg(t){this.enter({type:"tableCell",children:[]},t)}function Dj(t){let r=this.resume();this.data.inTable&&(r=r.replace(/\\([\\|])/g,Lj));const a=this.stack[this.stack.length-1];a.type,a.value=r,this.exit(t)}function Lj(t,r){return r==="|"?r:t}function Mj(t){const r=t||{},a=r.tableCellPadding,i=r.tablePipeAlign,s=r.stringLength,u=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:c,tableCell:p,tableRow:h}};function c(b,j,N,C){return m(x(b,N,C),b.align)}function h(b,j,N,C){const T=y(b,N,C),O=m([T]);return O.slice(0,O.indexOf(`
`))}function p(b,j,N,C){const T=N.enter("tableCell"),O=N.enter("phrasing"),E=N.containerPhrasing(b,{...C,before:u,after:u});return O(),T(),E}function m(b,j){return XS(b,{align:j,alignDelimiters:i,padding:a,stringLength:s})}function x(b,j,N){const C=b.children;let T=-1;const O=[],E=j.enter("table");for(;++T<C.length;)O[T]=y(C[T],j,N);return E(),O}function y(b,j,N){const C=b.children;let T=-1;const O=[],E=j.enter("tableRow");for(;++T<C.length;)O[T]=p(C[T],b,j,N);return E(),O}function v(b,j,N){let C=Bx.inlineCode(b,j,N);return N.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function zj(){return{exit:{taskListCheckValueChecked:ng,taskListCheckValueUnchecked:ng,paragraph:Bj}}}function Uj(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Pj}}}function ng(t){const r=this.stack[this.stack.length-2];r.type,r.checked=t.type==="taskListCheckValueChecked"}function Bj(t){const r=this.stack[this.stack.length-2];if(r&&r.type==="listItem"&&typeof r.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const i=a.children[0];if(i&&i.type==="text"){const s=r.children;let u=-1,c;for(;++u<s.length;){const h=s[u];if(h.type==="paragraph"){c=h;break}}c===a&&(i.value=i.value.slice(1),i.value.length===0?a.children.shift():a.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,a.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function Pj(t,r,a,i){const s=t.children[0],u=typeof t.checked=="boolean"&&s&&s.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",h=a.createTracker(i);u&&h.move(c);let p=Bx.listItem(t,r,a,{...i,...h.current()});return u&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(x){return x+c}}function qj(){return[yS(),PS(),$S(),Tj(),zj()]}function Ij(t){return{extensions:[bS(),qS(t),FS(),Mj(t),Uj()]}}const Hj={tokenize:Qj,partial:!0},Px={tokenize:Xj,partial:!0},qx={tokenize:Kj,partial:!0},Ix={tokenize:Zj,partial:!0},$j={tokenize:Jj,partial:!0},Hx={name:"wwwAutolink",tokenize:Yj,previous:Fx},$x={name:"protocolAutolink",tokenize:Vj,previous:Gx},Fn={name:"emailAutolink",tokenize:Gj,previous:Yx},Nn={};function Fj(){return{text:Nn}}let Xr=48;for(;Xr<123;)Nn[Xr]=Fn,Xr++,Xr===58?Xr=65:Xr===91&&(Xr=97);Nn[43]=Fn;Nn[45]=Fn;Nn[46]=Fn;Nn[95]=Fn;Nn[72]=[Fn,$x];Nn[104]=[Fn,$x];Nn[87]=[Fn,Hx];Nn[119]=[Fn,Hx];function Gj(t,r,a){const i=this;let s,u;return c;function c(y){return!jd(y)||!Yx.call(i,i.previous)||Wd(i.events)?a(y):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(y))}function h(y){return jd(y)?(t.consume(y),h):y===64?(t.consume(y),p):a(y)}function p(y){return y===46?t.check($j,x,m)(y):y===45||y===95||Rt(y)?(u=!0,t.consume(y),p):x(y)}function m(y){return t.consume(y),s=!0,p}function x(y){return u&&s&&Lt(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),r(y)):a(y)}}function Yj(t,r,a){const i=this;return s;function s(c){return c!==87&&c!==119||!Fx.call(i,i.previous)||Wd(i.events)?a(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Hj,t.attempt(Px,t.attempt(qx,u),a),a)(c))}function u(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),r(c)}}function Vj(t,r,a){const i=this;let s="",u=!1;return c;function c(y){return(y===72||y===104)&&Gx.call(i,i.previous)&&!Wd(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),t.consume(y),h):a(y)}function h(y){if(Lt(y)&&s.length<5)return s+=String.fromCodePoint(y),t.consume(y),h;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return t.consume(y),p}return a(y)}function p(y){return y===47?(t.consume(y),u?m:(u=!0,p)):a(y)}function m(y){return y===null||ao(y)||Qe(y)||ea(y)||fo(y)?a(y):t.attempt(Px,t.attempt(qx,x),a)(y)}function x(y){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),r(y)}}function Qj(t,r,a){let i=0;return s;function s(c){return(c===87||c===119)&&i<3?(i++,t.consume(c),s):c===46&&i===3?(t.consume(c),u):a(c)}function u(c){return c===null?a(c):r(c)}}function Xj(t,r,a){let i,s,u;return c;function c(m){return m===46||m===95?t.check(Ix,p,h)(m):m===null||Qe(m)||ea(m)||m!==45&&fo(m)?p(m):(u=!0,t.consume(m),c)}function h(m){return m===95?i=!0:(s=i,i=void 0),t.consume(m),c}function p(m){return s||i||!u?a(m):r(m)}}function Kj(t,r){let a=0,i=0;return s;function s(c){return c===40?(a++,t.consume(c),s):c===41&&i<a?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(Ix,r,u)(c):c===null||Qe(c)||ea(c)?r(c):(t.consume(c),s)}function u(c){return c===41&&i++,t.consume(c),s}}function Zj(t,r,a){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),u):h===93?(t.consume(h),s):h===60||h===null||Qe(h)||ea(h)?r(h):a(h)}function s(h){return h===null||h===40||h===91||Qe(h)||ea(h)?r(h):i(h)}function u(h){return Lt(h)?c(h):a(h)}function c(h){return h===59?(t.consume(h),i):Lt(h)?(t.consume(h),c):a(h)}}function Jj(t,r,a){return i;function i(u){return t.consume(u),s}function s(u){return Rt(u)?a(u):r(u)}}function Fx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Qe(t)}function Gx(t){return!Lt(t)}function Yx(t){return!(t===47||jd(t))}function jd(t){return t===43||t===45||t===46||t===95||Rt(t)}function Wd(t){let r=t.length,a=!1;for(;r--;){const i=t[r][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){a=!0;break}if(i._gfmAutolinkLiteralWalkedInto){a=!1;break}}return t.length>0&&!a&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const Wj={tokenize:s_,partial:!0};function e_(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:a_,continuation:{tokenize:i_},exit:l_}},text:{91:{name:"gfmFootnoteCall",tokenize:r_},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:t_,resolveTo:n_}}}}function t_(t,r,a){const i=this;let s=i.events.length;const u=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let c;for(;s--;){const p=i.events[s][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!c||!c._balanced)return a(p);const m=xn(i.sliceSerialize({start:c.end,end:i.now()}));return m.codePointAt(0)!==94||!u.includes(m.slice(1))?a(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),r(p))}}function n_(t,r){let a=t.length;for(;a--;)if(t[a][1].type==="labelImage"&&t[a][0]==="enter"){t[a][1];break}t[a+1][1].type="data",t[a+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[a+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[a+3][1].end),end:Object.assign({},t[a+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},h=[t[a+1],t[a+2],["enter",i,r],t[a+3],t[a+4],["enter",s,r],["exit",s,r],["enter",u,r],["enter",c,r],["exit",c,r],["exit",u,r],t[t.length-2],t[t.length-1],["exit",i,r]];return t.splice(a,t.length-a+1,...h),t}function r_(t,r,a){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u=0,c;return h;function h(y){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?a(y):(t.enter("gfmFootnoteCallMarker"),t.consume(y),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(y){if(u>999||y===93&&!c||y===null||y===91||Qe(y))return a(y);if(y===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return s.includes(xn(i.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(y),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),r):a(y)}return Qe(y)||(c=!0),u++,t.consume(y),y===92?x:m}function x(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function a_(t,r,a){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u,c=0,h;return p;function p(j){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(j){return j===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",x):a(j)}function x(j){if(c>999||j===93&&!h||j===null||j===91||Qe(j))return a(j);if(j===93){t.exit("chunkString");const N=t.exit("gfmFootnoteDefinitionLabelString");return u=xn(i.sliceSerialize(N)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(j),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return Qe(j)||(h=!0),c++,t.consume(j),j===92?y:x}function y(j){return j===91||j===92||j===93?(t.consume(j),c++,x):x(j)}function v(j){return j===58?(t.enter("definitionMarker"),t.consume(j),t.exit("definitionMarker"),s.includes(u)||s.push(u),Ue(t,b,"gfmFootnoteDefinitionWhitespace")):a(j)}function b(j){return r(j)}}function i_(t,r,a){return t.check(Nl,r,t.attempt(Wj,r,a))}function l_(t){t.exit("gfmFootnoteDefinition")}function s_(t,r,a){const i=this;return Ue(t,s,"gfmFootnoteDefinitionIndent",5);function s(u){const c=i.events[i.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?r(u):a(u)}}function o_(t){let a=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:u,resolveAll:s};return a==null&&(a=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(c,h){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},y={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},v=[["enter",x,h],["enter",c[m][1],h],["exit",c[m][1],h],["enter",y,h]],b=h.parser.constructs.insideSpan.null;b&&Zt(v,v.length,0,ho(b,c.slice(m+1,p),h)),Zt(v,v.length,0,[["exit",y,h],["enter",c[p][1],h],["exit",c[p][1],h],["exit",x,h]]),Zt(c,m-1,p-m+3,v),p=m+v.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function u(c,h,p){const m=this.previous,x=this.events;let y=0;return v;function v(j){return m===126&&x[x.length-1][1].type!=="characterEscape"?p(j):(c.enter("strikethroughSequenceTemporary"),b(j))}function b(j){const N=ri(m);if(j===126)return y>1?p(j):(c.consume(j),y++,b);if(y<2&&!a)return p(j);const C=c.exit("strikethroughSequenceTemporary"),T=ri(j);return C._open=!T||T===2&&!!N,C._close=!N||N===2&&!!T,h(j)}}}class u_{constructor(){this.map=[]}add(r,a,i){c_(this,r,a,i)}consume(r){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let a=this.map.length;const i=[];for(;a>0;)a-=1,i.push(r.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),r.length=this.map[a][0];i.push(r.slice()),r.length=0;let s=i.pop();for(;s;){for(const u of s)r.push(u);s=i.pop()}this.map.length=0}}function c_(t,r,a,i){let s=0;if(!(a===0&&i.length===0)){for(;s<t.map.length;){if(t.map[s][0]===r){t.map[s][1]+=a,t.map[s][2].push(...i);return}s+=1}t.map.push([r,a,i])}}function d_(t,r){let a=!1;const i=[];for(;r<t.length;){const s=t[r];if(a){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(t[r+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[r-1][1].type==="tableDelimiterMarker"){const u=i.length-1;i[u]=i[u]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(a=!0);r+=1}return i}function f_(){return{flow:{null:{name:"table",tokenize:h_,resolveAll:m_}}}}function h_(t,r,a){const i=this;let s=0,u=0,c;return h;function h(U){let z=i.events.length-1;for(;z>-1;){const W=i.events[z][1].type;if(W==="lineEnding"||W==="linePrefix")z--;else break}const G=z>-1?i.events[z][1].type:null,K=G==="tableHead"||G==="tableRow"?D:p;return K===D&&i.parser.lazy[i.now().line]?a(U):K(U)}function p(U){return t.enter("tableHead"),t.enter("tableRow"),m(U)}function m(U){return U===124||(c=!0,u+=1),x(U)}function x(U){return U===null?a(U):ge(U)?u>1?(u=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),b):a(U):Me(U)?Ue(t,x,"whitespace")(U):(u+=1,c&&(c=!1,s+=1),U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),c=!0,x):(t.enter("data"),y(U)))}function y(U){return U===null||U===124||Qe(U)?(t.exit("data"),x(U)):(t.consume(U),U===92?v:y)}function v(U){return U===92||U===124?(t.consume(U),y):y(U)}function b(U){return i.interrupt=!1,i.parser.lazy[i.now().line]?a(U):(t.enter("tableDelimiterRow"),c=!1,Me(U)?Ue(t,j,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):j(U))}function j(U){return U===45||U===58?C(U):U===124?(c=!0,t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),N):V(U)}function N(U){return Me(U)?Ue(t,C,"whitespace")(U):C(U)}function C(U){return U===58?(u+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),T):U===45?(u+=1,T(U)):U===null||ge(U)?Y(U):V(U)}function T(U){return U===45?(t.enter("tableDelimiterFiller"),O(U)):V(U)}function O(U){return U===45?(t.consume(U),O):U===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(U))}function E(U){return Me(U)?Ue(t,Y,"whitespace")(U):Y(U)}function Y(U){return U===124?j(U):U===null||ge(U)?!c||s!==u?V(U):(t.exit("tableDelimiterRow"),t.exit("tableHead"),r(U)):V(U)}function V(U){return a(U)}function D(U){return t.enter("tableRow"),te(U)}function te(U){return U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),te):U===null||ge(U)?(t.exit("tableRow"),r(U)):Me(U)?Ue(t,te,"whitespace")(U):(t.enter("data"),oe(U))}function oe(U){return U===null||U===124||Qe(U)?(t.exit("data"),te(U)):(t.consume(U),U===92?de:oe)}function de(U){return U===92||U===124?(t.consume(U),oe):oe(U)}}function m_(t,r){let a=-1,i=!0,s=0,u=[0,0,0,0],c=[0,0,0,0],h=!1,p=0,m,x,y;const v=new u_;for(;++a<t.length;){const b=t[a],j=b[1];b[0]==="enter"?j.type==="tableHead"?(h=!1,p!==0&&(rg(v,r,p,m,x),x=void 0,p=0),m={type:"table",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",m,r]])):j.type==="tableRow"||j.type==="tableDelimiterRow"?(i=!0,y=void 0,u=[0,0,0,0],c=[0,a+1,0,0],h&&(h=!1,x={type:"tableBody",start:Object.assign({},j.start),end:Object.assign({},j.end)},v.add(a,0,[["enter",x,r]])),s=j.type==="tableDelimiterRow"?2:x?3:1):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")?(i=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],y=$s(v,r,u,s,void 0,y),u=[0,0,0,0]),c[2]=a)):j.type==="tableCellDivider"&&(i?i=!1:(u[1]!==0&&(c[0]=c[1],y=$s(v,r,u,s,void 0,y)),u=c,c=[u[1],a,0,0])):j.type==="tableHead"?(h=!0,p=a):j.type==="tableRow"||j.type==="tableDelimiterRow"?(p=a,u[1]!==0?(c[0]=c[1],y=$s(v,r,u,s,a,y)):c[1]!==0&&(y=$s(v,r,c,s,a,y)),s=0):s&&(j.type==="data"||j.type==="tableDelimiterMarker"||j.type==="tableDelimiterFiller")&&(c[3]=a)}for(p!==0&&rg(v,r,p,m,x),v.consume(r.events),a=-1;++a<r.events.length;){const b=r.events[a];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=d_(r.events,a))}return t}function $s(t,r,a,i,s,u){const c=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";a[0]!==0&&(u.end=Object.assign({},ei(r.events,a[0])),t.add(a[0],0,[["exit",u,r]]));const p=ei(r.events,a[1]);if(u={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(a[1],0,[["enter",u,r]]),a[2]!==0){const m=ei(r.events,a[2]),x=ei(r.events,a[3]),y={type:h,start:Object.assign({},m),end:Object.assign({},x)};if(t.add(a[2],0,[["enter",y,r]]),i!==2){const v=r.events[a[2]],b=r.events[a[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",a[3]>a[2]+1){const j=a[2]+1,N=a[3]-a[2]-1;t.add(j,N,[])}}t.add(a[3]+1,0,[["exit",y,r]])}return s!==void 0&&(u.end=Object.assign({},ei(r.events,s)),t.add(s,0,[["exit",u,r]]),u=void 0),u}function rg(t,r,a,i,s){const u=[],c=ei(r.events,a);s&&(s.end=Object.assign({},c),u.push(["exit",s,r])),i.end=Object.assign({},c),u.push(["exit",i,r]),t.add(a+1,0,u)}function ei(t,r){const a=t[r],i=a[0]==="enter"?"start":"end";return a[1][i]}const p_={name:"tasklistCheck",tokenize:x_};function g_(){return{text:{91:p_}}}function x_(t,r,a){const i=this;return s;function s(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?a(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),u)}function u(p){return Qe(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):a(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):a(p)}function h(p){return ge(p)?r(p):Me(p)?t.check({tokenize:y_},r,a)(p):a(p)}}function y_(t,r,a){return Ue(t,i,"whitespace");function i(s){return s===null?a(s):r(s)}}function b_(t){return rx([Fj(),e_(),o_(t),f_(),g_()])}const v_={};function ef(t){const r=this,a=t||v_,i=r.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),u=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),c=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(b_(a)),u.push(qj()),c.push(Ij(a))}const Zc={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Jc={Entry:"Entry",SL:"SL",TP1:"TP1"};function w_(t){const r=[...t].sort((i,s)=>i-s),a=t.map(()=>0);for(let i=0;i<t.length-1;i++)Math.abs(r[i]-r[i+1])<7&&(a[t.indexOf(r[i])]=-28,a[t.indexOf(r[i+1])]=28,t.length>2&&i+2<t.length&&Math.abs(r[i+1]-r[i+2])<7&&(a[t.indexOf(r[i+2])]=-56));return a}function k_(t,r=18){const a=t.map((m,x)=>({price:m,idx:x}));a.sort((m,x)=>m.price-x.price);const i=t.length,u=100-r*(i-1),c=i>1?u/(i-1):0;let h=[];for(let m=0;m<i;m++)h.push(m*(r+c));const p=[];return a.forEach((m,x)=>{p[m.idx]=h[x]}),p}const Wc=({color:t,left:r,label:a,yOffset:i,value:s})=>d.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:r,top:0,zIndex:10},children:[d.jsx("div",{style:{transform:`translateY(${i}px)`},className:"transition-all duration-500",children:d.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${t} animate-fadein`,children:a})}),d.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${t} mt-1 animate-markerpop`}),d.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 animate-fadein",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]}),S_=({riskParams:t,analysis:r})=>{if(!r)return null;const{tradeSetup:a}=r,i=a.tradeType==="Long",s=parseFloat(a.entryPrice),u=parseFloat(a.stopLoss),c=parseFloat(a.takeProfit);if(isNaN(s)||isNaN(u)||isNaN(c))return null;const p=k_([u,s,c],24),m=O=>`calc(${p[O]}% - 24px)`,x=w_(p),y=1,v=2,b=Math.min(p[y],p[v]),j=Math.abs(p[v]-p[y]),N=i?"right":"left";let C=1;if(typeof r.riskPerTrade=="number"&&!isNaN(r.riskPerTrade))C=r.riskPerTrade;else if(typeof r.riskPerTrade=="string"){const O=parseFloat(String(r.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(O)||(C=O)}const T=t.currentEquity!==void 0&&t.currentEquity!==null?Number(t.currentEquity):void 0;return T==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[d.jsx(Hg,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),d.jsxs("div",{className:"relative w-full h-20 flex items-end mb-6",children:[d.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),d.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${j}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:d.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:N==="right"?d.jsx("span",{className:"absolute right-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:""}):d.jsx("span",{className:"absolute left-0 -top-2 text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:""})})}),d.jsx(Wc,{color:Zc.SL,left:m(0),label:Jc.SL,yOffset:x[0],value:String(u)}),d.jsx(Wc,{color:Zc.Entry,left:m(1),label:Jc.Entry,yOffset:x[1],value:String(s)}),d.jsx(Wc,{color:Zc.TP1,left:m(2),label:Jc.TP1,yOffset:x[2],value:String(c)})]}),d.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),d.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:C+"%"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${(T*C/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4})}`:"-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),d.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),d.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:T!==void 0?`$${Number(T).toLocaleString("en-US",{maximumFractionDigits:0})}`:"-"})]})]})]})},Fs=({label:t,value:r,className:a=""})=>d.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${a}`,children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${a}`,children:r})]}),j_=({analysis:t})=>{const{tradeType:r,entryPrice:a,stopLoss:i,takeProfit:s}=t.tradeSetup,u=r==="Long",c=v=>v!=null&&v!==""&&v!=="N/A"&&!isNaN(Number(v))&&Number(v)!==0,h=c(a),p=c(i),m=c(s);let x=!1;return u?x=Number(i)<Number(a)&&Number(a)<Number(s):x=Number(s)<Number(a)&&Number(a)<Number(i),h&&p&&m&&x?d.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${u?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[d.jsxs("h4",{className:`text-lg font-bold ${u?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",r]}),Number(t.confidenceScore)<70&&d.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),d.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(a).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):d.jsx("div",{className:"p-4 rounded-lg bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},__=({analysis:t,riskParams:r,onBackToUploader:a})=>t?t.tradeSetup&&t.marketTrend&&t.tradeBias?d.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[d.jsx("div",{className:"w-full",children:t.image?d.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{console.error("Failed to load analysis image"),s.currentTarget.style.display="none"}}):d.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"})})}),d.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&d.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?d.jsx(Nr,{className:"h-6 w-6"}):d.jsx(gn,{className:"h-6 w-6"}),d.jsxs("span",{children:["TRADE COMPLETED: ",d.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),d.jsx(j_,{analysis:t}),d.jsx(S_,{riskParams:r,analysis:t}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsx(Fs,{label:"Market Trend",value:t.marketTrend||"N/A"}),d.jsx(Fs,{label:"Trade Bias",value:t.tradeBias||"N/A",className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),d.jsx(Fs,{label:"Confidence",value:`${t.confidenceScore||0}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&d.jsx(Fs,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Gv,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),d.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:d.jsx(Kd,{remarkPlugins:[ef],children:t.rationale||"No reasoning available"})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern||"No pattern identified"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis||"No indicator analysis available"})]})]})]}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[d.jsx("p",{children:"This might be due to:"}),d.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[d.jsx("li",{children:"AI response format error"}),d.jsx("li",{children:"Network connectivity issues"}),d.jsx("li",{children:"API quota exceeded"}),d.jsx("li",{children:"Image processing error"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a&&d.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}):d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})}),N_=({status:t})=>{if(t==="pending")return null;const r="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?d.jsx("span",{className:`${r} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?d.jsx("span",{className:`${r} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},E_=({history:t,onSelect:r,onDeleteRequest:a,currentAnalysisId:i})=>t?Array.isArray(t)?(console.log("HistoryPanel: Rendering with",t.length,"items"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):d.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map((s,u)=>!s||!s.id||!s.tradeSetup?(console.error("HistoryPanel: Invalid item at index",u,s),null):d.jsx("li",{className:"group",children:d.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${i===s.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[d.jsxs("button",{onClick:()=>{try{r(s)}catch(c){console.error("Error selecting history item:",c)}},className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(s.timestamp).toLocaleString()}`,children:[d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsxs("p",{className:`font-semibold text-sm truncate ${s.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[s.tradeSetup.tradeType," (",s.tradeBias||"Unknown",")"]}),d.jsx(N_,{status:s.status})]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(s.timestamp).toLocaleString()})]}),d.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",s.keyPattern||"No pattern"]})]}),d.jsx("button",{onClick:c=>{c.stopPropagation();try{a(s)}catch(h){console.error("Error requesting delete:",h)}},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:d.jsx(Qv,{className:"h-4 w-4"})})]})},s.id))})]})):(console.error("HistoryPanel: history prop is not an array:",t),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})):(console.error("HistoryPanel: history prop is null or undefined"),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]})),ag=({theme:t,setTheme:r})=>{const a=()=>{r(t==="light"?"dark":"light")};return d.jsxs("button",{onClick:a,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[d.jsx("span",{className:"sr-only",children:"Toggle theme"}),d.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[d.jsx(ro,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),d.jsx(Fv,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),d.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},ig=({apiStatus:t,sessionTokens:r,totalTokens:a})=>{const i=c=>new Intl.NumberFormat().format(c),u={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"relative flex h-2 w-2",children:[d.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${u.color} ${u.pulse?"animate-ping":""} opacity-75`}),d.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${u.color}`})]}),d.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",u.text]})]}),d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(r)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),d.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(a)})]})]})},xt=({mode:t,activeMode:r,onClick:a,icon:i,label:s})=>d.jsx("li",{children:d.jsxs("button",{onClick:()=>a(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${r===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[i,d.jsx("span",{className:"ml-3",children:s})]})}),A_=({activeMode:t,onModeChange:r,theme:a,setTheme:i,apiStatus:s,sessionTokens:u,totalTokens:c,isMobileMenuOpen:h,onMobileMenuToggle:p})=>d.jsxs(d.Fragment,{children:[h&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] lg:hidden",onClick:p}),d.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-800 shadow-xl z-[120] transform transition-transform duration-300 ease-in-out lg:hidden
        ${h?"translate-x-0":"-translate-x-full"}
      `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("div",{}),d.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(Kv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(xt,{mode:"home",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(ap,{className:"h-5 w-5"}),label:"Home"}),d.jsx(xt,{mode:"dashboard",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(fd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(xt,{mode:"portfolio",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(ip,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(xt,{mode:"economic-calendar",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(lp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(xt,{mode:"scalp",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(xt,{mode:"day",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(ro,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(xt,{mode:"swing",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(cd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(xt,{mode:"position",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(dd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(xt,{mode:"settings",activeMode:t,onClick:m=>{r(m),p()},icon:d.jsx(hd,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(ig,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(ag,{theme:a,setTheme:i})]})]})]}),d.jsxs("aside",{className:"hidden lg:block w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[d.jsx("div",{className:"mb-6 px-2"}),d.jsx("nav",{className:"flex-1",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx(xt,{mode:"home",activeMode:t,onClick:r,icon:d.jsx(ap,{className:"h-5 w-5"}),label:"Home"}),d.jsx(xt,{mode:"dashboard",activeMode:t,onClick:r,icon:d.jsx(fd,{className:"h-5 w-5"}),label:"Dashboard"}),d.jsx(xt,{mode:"portfolio",activeMode:t,onClick:r,icon:d.jsx(ip,{className:"h-5 w-5"}),label:"Portfolio"}),d.jsx(xt,{mode:"economic-calendar",activeMode:t,onClick:r,icon:d.jsx(lp,{className:"h-5 w-5"}),label:"Economic Calendar"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),d.jsx(xt,{mode:"scalp",activeMode:t,onClick:r,icon:d.jsx(to,{className:"h-5 w-5"}),label:"Scalp Trading"}),d.jsx(xt,{mode:"day",activeMode:t,onClick:r,icon:d.jsx(ro,{className:"h-5 w-5"}),label:"Day Trading"}),d.jsx(xt,{mode:"swing",activeMode:t,onClick:r,icon:d.jsx(cd,{className:"h-5 w-5"}),label:"Swing Trading"}),d.jsx(xt,{mode:"position",activeMode:t,onClick:r,icon:d.jsx(dd,{className:"h-5 w-5"}),label:"Position Trading"}),d.jsx("div",{className:"py-2",children:d.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),d.jsx(xt,{mode:"settings",activeMode:t,onClick:r,icon:d.jsx(hd,{className:"h-5 w-5"}),label:"Settings"})]})}),d.jsxs("div",{className:"mt-6 space-y-4",children:[d.jsx(ig,{apiStatus:s,sessionTokens:u,totalTokens:c}),d.jsx(ag,{theme:a,setTheme:i})]})]})]}),lg=({type:t,onSave:r,onClose:a})=>{const[i,s]=F.useState("");F.useEffect(()=>{const m=x=>{x.key==="Escape"&&a()};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[a]);const u=m=>{const y=m.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(y)&&s(y)},c=m=>{m.preventDefault();const x=parseFloat(i);!isNaN(x)&&x>0&&r(x)},h=t==="profit",p=!isNaN(parseFloat(i))&&parseFloat(i)>0;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:a,children:d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:d.jsxs("form",{onSubmit:c,children:[h?d.jsx(Nr,{className:"mx-auto h-16 w-16 text-emerald-500"}):d.jsx(gn,{className:"mx-auto h-16 w-16 text-red-500"}),d.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),d.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),d.jsxs("div",{className:"mt-6",children:[d.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),d.jsxs("div",{className:"relative rounded-md shadow-sm",children:[d.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:d.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),d.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:i,onChange:u,required:!0,autoFocus:!0})]})]}),d.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!p,children:"Save Result"})]})})})},T_={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},C_={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},wr=({label:t,value:r,icon:a,color:i})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:t}),d.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${T_[i]} flex-shrink-0`,children:d.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:a})})]}),d.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${C_[i]} leading-tight`,children:r})]}),R_=t=>{const r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-a);const i=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r.getTime()-i.getTime())/864e5+1)/7)},O_=(t,r)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const a=[...t].sort((y,v)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime()),i={};a.forEach(y=>{const v=new Date(y.timestamp);let b="";if(r==="daily")b=v.toLocaleDateString("en-CA");else if(r==="weekly"){const j=v.getFullYear(),N=R_(v);b=`${j}-W${N.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(i[b]||(i[b]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":i[b].profit+=1,i[b].pl+=y.outcomeAmount||0;break;case"stop-loss":i[b].loss+=1,i[b].pl-=y.outcomeAmount||0;break;case"pending":i[b].pending+=1;break}});const s=Object.keys(i).sort(),u=s,c=s.map(y=>i[y].profit),h=s.map(y=>i[y].loss),p=s.map(y=>i[y].pending),m=[];let x=0;return s.forEach(y=>{x+=i[y].pl,m.push(x)}),{labels:u,profitData:c,lossData:h,pendingData:p,cumulativePlData:m}},ed=({buttonTimeframe:t,activeTimeframe:r,setTimeframe:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${r===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),D_=({history:t})=>{const r=F.useRef(null),a=F.useRef(null),[i,s]=F.useState("daily");return F.useEffect(()=>{if(!r.current)return;const u=r.current.getContext("2d");if(!u)return;a.current&&a.current.destroy();const{labels:c,profitData:h,lossData:p,pendingData:m,cumulativePlData:x}=O_(t,i),y="rgba(203, 213, 225, 0.5)",v="rgba(100, 116, 139, 1)",b=u.createLinearGradient(0,0,0,300);b.addColorStop(0,"rgba(34, 197, 94, 0.8)"),b.addColorStop(1,"rgba(34, 197, 94, 0.4)");const j=u.createLinearGradient(0,0,0,300);j.addColorStop(0,"rgba(239, 68, 68, 0.8)"),j.addColorStop(1,"rgba(239, 68, 68, 0.4)");const N=u.createLinearGradient(0,0,0,300);N.addColorStop(0,"rgba(100, 116, 139, 0.7)"),N.addColorStop(1,"rgba(100, 116, 139, 0.3)");const C=u.createLinearGradient(0,50,0,300);return C.addColorStop(0,"rgba(124, 58, 237, 0.5)"),C.addColorStop(1,"rgba(124, 58, 237, 0.05)"),a.current=new window.Chart(u,{type:"bar",data:{labels:c,datasets:[{label:"Profit",data:h,backgroundColor:b,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:p,backgroundColor:j,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:m,backgroundColor:N,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:x,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:C,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:v,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:y,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:v,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:v,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:v,font:{family:"inherit"},callback:function(T){return typeof T!="number"?T:Math.abs(T)>=1e3?"$"+(T/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+T}},title:{display:!0,text:"Cumulative P/L ($)",color:v,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:v,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(T){let O=T.dataset.label||"";return O&&(O+=": "),T.parsed.y!==null&&(T.dataset.yAxisID==="y1"?O+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T.parsed.y):O+=T.parsed.y),O}}}}}}),()=>{a.current&&a.current.destroy()}},[t,i]),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ed,{buttonTimeframe:"daily",activeTimeframe:i,setTimeframe:s,children:"Daily"}),d.jsx(ed,{buttonTimeframe:"weekly",activeTimeframe:i,setTimeframe:s,children:"Weekly"}),d.jsx(ed,{buttonTimeframe:"monthly",activeTimeframe:i,setTimeframe:s,children:"Monthly"})]})]}),d.jsx("div",{className:"relative h-96",children:t.length>0?d.jsx("canvas",{ref:r}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",d.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Vx={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:op,image:op},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:up,image:up},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:cp,image:cp},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:dp,image:dp},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:fp,image:fp}},L_=t=>{const r=t.filter(N=>N.status!=="pending"),a=r.length,i=r.filter(N=>N.status==="profit").length,s=a>0?i/a*100:0,u=r.filter(N=>N.status==="profit").reduce((N,C)=>N+(C.outcomeAmount||0),0),c=r.reduce((N,C)=>N+(parseFloat(C.tradeSetup.entryPrice)||0),0);let h=0,p=0,m=0,x=0,y=null,v=0;r.forEach(N=>{if(N.status==="stop-loss"?(p++,h=Math.max(h,p),x=0):N.status==="profit"&&(x++,m=Math.max(m,x),p=0),N.timestamp){const C=new Date(N.timestamp);if(y){const T=Math.floor((C.getTime()-y.getTime())/864e5);v=Math.max(v,T)}y=new Date(N.timestamp)}});let b="Novice Navigator";a>=30&&s>=80?b="Elite Executor":a>=20&&s>=60?b="Strategy Sentinel":a>=10&&s>=40?b="Pattern Pursuer":a>=10&&(b="Market Apprentice");const j=[];return a>=30&&h<=3&&s>=70&&j.push("Risk Master"),a>=40&&v<=7&&s>=60&&j.push("Consistency Champion"),h>=5&&m>=3&&j.push("Comeback King/Queen"),c>=1e5&&j.push("Volume Virtuoso"),u>=1e4&&j.push("Profit Hunter"),a>=20&&r.every(N=>N.status!=="stop-loss"||(N.outcomeAmount||0)>=-.02)&&j.push("Iron Hands"),m>=7&&j.push("Streak Specialist"),{tier:b,...Vx[b],badges:j}};function M_(t,r,a){switch(t){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-r,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-r,0),win:a<40?40-a:0,desc:"30 trade & win rate  40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-r,0),win:a<50?50-a:0,desc:"60 trade & win rate  50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-r,0),win:a<60?60-a:0,desc:"100 trade & win rate  60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const z_=t=>{const r=t.filter(O=>O.status!=="pending"),a=r.filter(O=>O.status==="profit"),i=r.filter(O=>O.status==="stop-loss"),s=a.length,u=i.length,c=r.length,h=c>0?s/c*100:0,p=a.reduce((O,E)=>O+(E.outcomeAmount||0),0),m=i.reduce((O,E)=>O+(E.outcomeAmount||0),0),x=s>0?p/s:0,y=u>0?m/u:0,v=m>0?p/m:0;let b=0,j=0,N=0;r.forEach(O=>{O.status==="profit"?j+=O.outcomeAmount||0:j-=O.outcomeAmount||0,j>N&&(N=j);const E=N-j;E>b&&(b=E)});const C=a.length>0?Math.max(...a.map(O=>O.outcomeAmount||0)):0,T=i.length>0?Math.max(...i.map(O=>O.outcomeAmount||0)):0;return{averageWin:x,averageLoss:y,profitFactor:v,maxDrawdown:b,bestTrade:C,worstTrade:T,totalTrades:c,winRate:h,totalWins:s,totalLosses:u}},Qx=t=>{const a=t.filter(p=>p.status!=="pending").slice(-5),i=a.length>0?a.filter(p=>p.status==="profit").length/a.length:.5;let s="neutral",u=5,c="Neutral pattern";i>=.8?(s="confident",u=2,c="Confident  High Performance"):i>=.6?(s="calm",u=3,c="Calm  Consistent Results"):i>=.4?(s="nervous",u=6,c="Nervous  Mixed Results"):(s="frustrated",u=8,c="Frustrated  Poor Performance");const h=a.map((p,m)=>({tradeId:p.id,preTradeMood:["confident","calm","nervous","excited"][m%4],postTradeEmotion:p.status==="profit"?"happy":"frustrated",stressLevel:Math.floor(Math.random()*5)+3,timestamp:p.timestamp}));return{currentMood:s,stressLevel:u,emotionalPattern:c,recentEmotions:h}},U_=t=>({confident:"",nervous:"",excited:"",calm:"",frustrated:"",neutral:""})[t],B_=t=>t<=3?"text-green-600 dark:text-green-400":t<=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",P_=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:" 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:" 10 trade & win rate  40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:" 20 trade & win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:" 30 trade & win rate  80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:" 30 trade, max loss streak  3, win rate  70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:" 40 trade, win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak  5, win streak  3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading  $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit  $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:" 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak  7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:" 50 scalp trade, win rate  60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:" 30 swing trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:" 30 day trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:" 20 position trade, win rate  70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak  10, win streak  10.",requirement:"Loss streak  10, win streak  10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading  $1,000,000.",requirement:"Total nominal trading  $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate  60% di semua mode.",requirement:"Win rate  60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:" 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:" 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:" 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:" 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:" 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:" 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:" 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:" 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:" 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:" 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],q_=({currentTier:t,onClose:r})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(gn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(a=>d.jsxs("div",{children:[d.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${a==="common"?"text-green-600":a==="rare"?"text-violet-600":a==="epic"?"text-orange-600":"text-red-600"}`,children:a==="common"?"Common Tiers":a==="rare"?"Rare Tiers":a==="epic"?"Epic Tiers":"Legendary Tiers"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P_.filter(i=>i.rarity===a).map(i=>d.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${i.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":i.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":i.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${i.name===t?"ring-2 ring-violet-500":""}`,children:[d.jsx("span",{className:`text-lg font-bold ${i.colorClass}`,children:i.name}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:i.desc}),d.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",i.requirement]})]},i.name))})]},a))]})]})}),I_=({profile:t,winRate:r,totalTrades:a,onClose:i})=>{var p;const[s,u]=F.useState(!1);F.useEffect(()=>{const m=x=>{x.key==="Escape"&&(s?u(!1):i())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,s]);const c=M_(t.tier,a,r),h=c.next?(p=Vx[c.next])==null?void 0:p.image:null;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(gn,{className:"w-8 h-8"})})}),d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:eo.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),d.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),d.jsx("div",{className:"mt-8",children:c.next?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[h&&eo.createElement(h,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),d.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",c.next]})]}),d.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[c.desc," (",c.need>0?`${c.need} trade lagi`:"",c.win?`, win rate ${c.win}% lagi`:"",")"]})]}):d.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),d.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>u(!0),children:"Show all tiers & achievements"}),d.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),d.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[r,"%"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a})]})]})]})]})}),s&&d.jsx(q_,{currentTier:t.tier,onClose:()=>u(!1)})]})},H_=(t,r)=>`You are an expert trading analyst with 15+ years of experience in technical analysis, market psychology, and risk management. Analyze this trading chart with extreme precision and provide a PROFITABLE trading signal.

**TRADING MODE:** ${{scalp:"SCALP trade - very short-term (1-15 minutes), tight stops, quick profits. Minimum RRR 1:1. **ANALYZE ONLY 1-15 MINUTE TIMEFRAMES. DO NOT USE HIGHER TIMEFRAMES.**",day:"DAY trade - closed today, intraday trends (5-min to 1-hour). Minimum RRR 1:1.5. **ANALYZE ONLY 5-60 MINUTE TIMEFRAMES. DO NOT USE HIGHER OR LOWER TIMEFRAMES.**",swing:"SWING trade - held for days to weeks, 4-hour to daily charts. Minimum RRR 1:2. **ANALYZE ONLY 4-HOUR TO DAILY TIMEFRAMES. DO NOT USE WEEKLY OR LOWER.**",position:"POSITION trade - held for weeks/months, weekly/monthly charts. Minimum RRR 1:3. **ANALYZE ONLY WEEKLY OR MONTHLY TIMEFRAMES. DO NOT USE LOWER TIMEFRAMES.**"}[r]}
**ACCOUNT BALANCE:** $${t.accountBalance}
**CURRENT EQUITY:** $${t.currentEquity}
**LEVERAGE:** ${t.leverage}x

**IMPORTANT TIMEFRAME INSTRUCTION:**
- Only analyze the chart using the timeframe that matches the trading mode:
  - SCALP: 1-15 minute timeframe only
  - DAY: 5-60 minute timeframe only
  - SWING: 4-hour to daily timeframe only
  - POSITION: weekly or monthly timeframe only
- Do NOT use any other timeframe in your analysis or reasoning.
- In your output, always mention the exact timeframe used in 'keyPattern' and 'rationale'.

**CRITICAL ANALYSIS REQUIREMENTS:**

1. **MARKET STRUCTURE ANALYSIS:**
   - Identify higher highs (HH) and higher lows (HL) for uptrends
   - Identify lower highs (LH) and lower lows (LL) for downtrends
   - Determine if market is trending or ranging
   - Locate key support/resistance levels

2. **TECHNICAL INDICATORS (Analyze ALL visible indicators):**
   - Moving Averages: Crossovers, price position relative to MAs
   - RSI: Overbought/oversold conditions, divergences
   - MACD: Signal line crossovers, histogram patterns
   - Volume: Volume confirmation, volume spikes
   - Bollinger Bands: Price position, squeeze patterns
   - Stochastic: Overbought/oversold, crossovers
   - Any other visible indicators

3. **PRICE ACTION PATTERNS:**
   - Candlestick patterns (Doji, Hammer, Shooting Star, etc.)
   - Chart patterns (Head & Shoulders, Triangles, Flags, etc.)
   - Breakout/breakdown patterns
   - Consolidation zones

4. **CONFLUENCE ANALYSIS:**
   - Multiple indicators pointing in same direction
   - Price action confirming indicator signals
   - Volume supporting price movement
   - Support/resistance alignment

5. **RISK ASSESSMENT:**
   - Clear stop loss level with minimal slippage risk
   - Realistic take profit target based on market structure
   - Risk/Reward ratio meeting minimum requirements
   - Market volatility consideration

6. **RISK PER TRADE DETERMINATION:**
   - Determine the optimal risk per trade (as a percentage of current equity) for this setup, considering the user's current equity, account balance, leverage, trading mode, and market conditions.
   - Use professional risk management standards (e.g., 0.5%2% typical for most traders, but justify if outside this range).
   - Return this as a field 'riskPerTrade' in your JSON response (number, e.g. 1.0 for 1%).
   - **In your rationale, always explicitly state the user's current equity and the actual risk allocation in dollars (besides the percentage). Example: 'Risk allocation is 0.5% of current equity ($50)'.**

**CONFIDENCE SCORE CRITERIA:**
- 90-100: Multiple strong confirmations, clear trend, perfect RRR
- 80-89: Strong trend with good confirmations, solid RRR
- 70-79: Good setup with some confirmations, acceptable RRR
- 60-69: Decent setup but limited confirmations
- Below 60: Weak setup, avoid trading

**TRADE SETUP REQUIREMENTS:**
- Entry price must be at optimal level (support/resistance, trend line)
- Stop loss must be beyond recent swing high/low
- Take profit must be realistic based on market structure
- RRR must meet minimum requirements for trading mode

**IMPORTANT:** Only provide signals with confidence score 70+ and clear technical justification. If no profitable setup exists, indicate "No profitable setup detected".

**RESPOND ONLY WITH VALID JSON. NO ADDITIONAL TEXT.**

**Required JSON format:**
{
  "marketTrend": "string (Uptrend/Downtrend/Sideways with strength level)",
  "keyPattern": "string (specific pattern name with timeframe, e.g. 'Bullish Engulfing on Weekly')",
  "indicatorAnalysis": "string (detailed analysis of ALL visible indicators)",
  "tradeBias": "Bullish or Bearish or Neutral",
  "confidenceScore": number (0-100, only 70+ for profitable signals),
  "riskPerTrade": number (percentage, e.g. 1.0 for 1%),
  "tradeSetup": {
    "tradeType": "Long or Short (exactly as written)",
    "entryPrice": "number as string (optimal entry level)",
    "stopLoss": "number as string (beyond swing high/low)",
    "takeProfit": "number as string (realistic target)",
    "rrr": number (must meet minimum for trading mode)
  },
  "rationale": "Detailed technical analysis in markdown format including market structure, indicator confluence, risk management justification, and the exact timeframe used."
}

Analyze the chart thoroughly and provide ONLY high-confidence, profitable trading signals using the correct timeframe for the selected trading mode.`,$_=async(t,r,a,i,s)=>{var p;if(!t)throw new Error("API key is not set.");const u=await new Promise((m,x)=>{const y=new FileReader;y.onloadend=()=>{try{const v=y.result;m(v.split(",")[1])}catch{x(new Error("Failed to process image file"))}},y.onerror=()=>x(new Error("Failed to read image file")),y.readAsDataURL(r)});let c=null;for(let m=1;m<=3;m++)try{let x=function(z,G){if(!z)return G;const K=String(z).trim().toLowerCase();return de.includes(K)?K.charAt(0).toUpperCase()+K.slice(1):G},y=function(z){if(typeof z=="number"&&!isNaN(z))return z;if(typeof z=="string"){const G=parseFloat(z.replace(/[^\d.\-]/g,""));if(!isNaN(G))return G}return 0},v;m===1?v=H_({...a,currentEquity:s},i):v=`You are an expert trading analyst. Analyze this chart for PROFITABLE trading opportunities.

**Trading Mode:** ${i}
**Current Equity:** $${s}

**ANALYSIS REQUIREMENTS:**
- Identify market structure (trend direction, support/resistance)
- Analyze ALL visible technical indicators
- Look for price action patterns and breakouts
- Ensure multiple confirmations for high confidence
- Only provide signals with confidence score 70+

**Required JSON format:**
{
  "marketTrend": "Uptrend/Downtrend/Sideways with strength",
  "keyPattern": "Specific pattern with timeframe",
  "indicatorAnalysis": "Detailed analysis of ALL visible indicators",
  "tradeBias": "Bullish/Bearish/Neutral",
  "confidenceScore": 70-100,
  "riskPerTrade": "number (percentage, e.g. 1.0 for 1%)",
  "tradeSetup": {
    "tradeType": "Long/Short",
    "entryPrice": "optimal entry level",
    "stopLoss": "beyond swing high/low",
    "takeProfit": "realistic target",
    "rrr": "must meet minimum for trading mode"
  },
  "rationale": "Detailed technical analysis with market structure and risk management"
}

Only provide high-confidence, profitable signals. If no good setup exists, use confidence score below 70.`,console.log(`Attempt ${m}: Sending chart analysis request to GPT-4o...`);const b=new AbortController,j=setTimeout(()=>b.abort(),3e4),N=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading analyst AI."},{role:"user",content:[{type:"text",text:v},{type:"image_url",image_url:{url:`data:${r.type};base64,${u}`}}]}],max_tokens:2048}),signal:b.signal});if(clearTimeout(j),!N.ok){const z=await N.text();console.error("API Error Response:",z);let G;try{G=JSON.parse(z)}catch{G={error:{message:N.statusText}}}throw new Error(((p=G==null?void 0:G.error)==null?void 0:p.message)||`HTTP ${N.status}: ${N.statusText}`)}const C=await N.json();if(console.log(`Attempt ${m}: GPT-4o response received:`,C),!C.choices||!C.choices[0]||!C.choices[0].message)throw new Error("Invalid response format from AI service");let T=C.choices[0].message.content.trim();console.log(`Attempt ${m}: Raw AI response:`,T),T=T.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"");let O=T.match(/\{[\s\S]*\}/);if(!O)throw console.error("No JSON object found in response"),console.error("Full response:",T),new Error("AI response does not contain valid JSON format");T=O[0],console.log(`Attempt ${m}: Extracted JSON string:`,T);let E;try{E=JSON.parse(T)}catch(z){throw console.error("JSON parsing failed:",z),console.error("Failed JSON string:",T),new Error("AI response format is invalid. Please try again.")}console.log(`Attempt ${m}: Parsed analysis data:`,E);const V=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(z=>!E[z]);if(console.log(`Attempt ${m}: Full AI response:`,E),V.length>0){console.error(`Attempt ${m}: Missing required fields in analysis data:`,V),console.error("Available fields:",Object.keys(E)),console.error("Analysis data:",E);const z={marketTrend:E.marketTrend||"Unknown",keyPattern:E.keyPattern||"No clear pattern",indicatorAnalysis:E.indicatorAnalysis||"No indicator analysis",tradeBias:E.tradeBias||"Neutral",confidenceScore:E.confidenceScore||50,rationale:E.rationale||"Analysis incomplete due to missing data",tradeSetup:E.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};z.tradeSetup&&!z.tradeSetup.tradeType&&(z.tradeSetup.tradeType="Long");const G=E.confidenceScore||0,K=E.tradeSetup||{},W=parseFloat(K.rrr)||0;G>=70&&W>0?console.log(`Attempt ${m}: High-confidence signal detected (${G}%, RRR: ${W})`):console.warn(`Attempt ${m}: Low-confidence signal (${G}%, RRR: ${W}) - Consider retrying`);const M=["tradeSetup"].filter(I=>!E[I]);if(M.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${M.join(", ")}`);console.log(`Attempt ${m}: Using fallback data for missing fields:`,z),E={...E,...z}}if((typeof E.riskPerTrade!="number"||isNaN(E.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),E.riskPerTrade=1),!E.tradeSetup||typeof E.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",E.tradeSetup),new Error("Trade setup data is missing or invalid");const te=["tradeType","entryPrice","stopLoss","takeProfit"].filter(z=>!E.tradeSetup[z]);if(te.length>0)throw console.error("Missing required tradeSetup fields:",te),console.error("Available tradeSetup fields:",Object.keys(E.tradeSetup)),console.error("TradeSetup data:",E.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${te.join(", ")}`);if(typeof E.confidenceScore!="number"||E.confidenceScore<0||E.confidenceScore>100)throw console.error("Invalid confidence score:",E.confidenceScore),new Error("Confidence score must be a number between 0 and 100");if(!["Bullish","Bearish","Neutral"].includes(E.tradeBias))throw console.error("Invalid trade bias:",E.tradeBias),new Error("Trade bias must be Bullish, Bearish, or Neutral");let oe=E.tradeSetup.tradeType;if(typeof oe=="string"?(oe=oe.trim().toLowerCase(),oe==="long"||oe==="short"?E.tradeSetup.tradeType=oe.charAt(0).toUpperCase()+oe.slice(1):["neutral","no trade","sideways","none","wait","hold","n/a","notrade","flat"].includes(oe)?(console.warn("AI returned neutral/no trade/sideways, fallback to Long"),E.tradeSetup.tradeType="Long"):oe=null):oe=null,!E.tradeSetup.tradeType)if(typeof i=="string"){const z=i.trim().toLowerCase();z==="long"||z==="short"?E.tradeSetup.tradeType=z.charAt(0).toUpperCase()+z.slice(1):(console.warn("Invalid tradeType and tradingMode, fallback to Long"),E.tradeSetup.tradeType="Long")}else console.warn("Invalid tradeType and tradingMode, fallback to Long"),E.tradeSetup.tradeType="Long";const de=["long","short"];E.tradeSetup.tradeType=x(E.tradeSetup.tradeType,"Long"),E.tradeBias=x(E.tradeBias,E.tradeSetup.tradeType),E.rationale&&/(neutral|hold|observe|sideways|no trade|wait|flat|n\/a)/i.test(E.rationale)&&(E.rationale=`AI forced to choose: ${E.tradeSetup.tradeType} (no neutral/hold allowed).`),E.tradeSetup&&(E.tradeSetup.entryPrice=y(E.tradeSetup.entryPrice),E.tradeSetup.stopLoss=y(E.tradeSetup.stopLoss),E.tradeSetup.takeProfit=y(E.tradeSetup.takeProfit));const U=C.usage?{prompt:C.usage.prompt_tokens||0,completion:C.usage.completion_tokens||0,total:C.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return console.log(`Attempt ${m}: Analysis successful!`),{analysis:E,usage:U}}catch(x){console.error(`Attempt ${m} failed:`,x),c=x instanceof Error?x:new Error(String(x)),m<3&&(console.log(`Retrying with simplified prompt... (attempt ${m+1}/3)`),await new Promise(y=>setTimeout(y,1e3)))}console.error("All analysis attempts failed");const h=`AI analysis failed after all attempts. Last error: ${(c==null?void 0:c.message)||c}`;throw new Error(h)},F_=async(t,r)=>{var a;if(!t)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to GPT-4o...");const i=new AbortController,s=setTimeout(()=>i.abort(),3e4),u=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are a professional trading performance coach."},{role:"user",content:r}],max_tokens:2048}),signal:i.signal});if(clearTimeout(s),!u.ok){const m=await u.text();console.error("API Error Response:",m);let x;try{x=JSON.parse(m)}catch{x={error:{message:u.statusText}}}throw new Error(((a=x==null?void 0:x.error)==null?void 0:a.message)||`HTTP ${u.status}: ${u.statusText}`)}const c=await u.json();if(console.log("GPT-4o performance response received:",c),!c.choices||!c.choices[0]||!c.choices[0].message)throw new Error("Invalid response format from AI service");const h=c.choices[0].message.content,p=c.usage?{prompt:c.usage.prompt_tokens||0,completion:c.usage.completion_tokens||0,total:c.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:h,usage:p}}catch(i){throw console.error("Error in analyzePerformance:",i),i instanceof Error&&i.name==="AbortError"?new Error("Request timeout. Please try again."):i}},G_=async(t,r,a)=>{var u;if(!t)throw new Error("API key is not set.");if(!r)throw new Error("Portfolio data is not available.");const i=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(r,null,2)}

        Pengguna memiliki pertanyaan berikut: "${a}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to GPT-4o...");const c=new AbortController,h=setTimeout(()=>c.abort(),3e4),p=await fetch("https://ai.sumopod.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:i},{role:"user",content:s}],max_tokens:2048}),signal:c.signal});if(clearTimeout(h),!p.ok){const v=await p.text();console.error("API Error Response:",v);let b;try{b=JSON.parse(v)}catch{b={error:{message:p.statusText}}}throw new Error(((u=b==null?void 0:b.error)==null?void 0:u.message)||`HTTP ${p.status}: ${p.statusText}`)}const m=await p.json();if(console.log("GPT-4o financial advice response received:",m),!m.choices||!m.choices[0]||!m.choices[0].message)throw new Error("Invalid response format from AI service");const x=m.choices[0].message.content,y=m.usage?{prompt:m.usage.prompt_tokens||0,completion:m.usage.completion_tokens||0,total:m.usage.total_tokens||0}:{prompt:0,completion:0,total:0};return{analysisText:x,usage:y}}catch(c){throw console.error("Error in generateFinancialAdvice:",c),c instanceof Error&&c.name==="AbortError"?new Error("Request timeout. Please try again."):c}},Y_=async t=>{if(!t)return!1;try{return!0}catch(r){return console.error("API Key validation failed:",r),!1}},V_=({advancedMetrics:t,psychologyMetrics:r})=>{const a=s=>`${s.toFixed(1)}%`,i=s=>s.toFixed(2);return d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Performance"}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Win Rate:"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:a(t.winRate)})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Profit Factor:"}),d.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400",children:i(t.profitFactor)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Psychology"}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg",children:U_(r.currentMood)}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Mood:"}),d.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 capitalize",children:r.currentMood})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Stress:"}),d.jsxs("span",{className:`font-bold ${B_(r.stressLevel)}`,children:[r.stressLevel,"/10"]})]})]})]})},Q_=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),d.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),fl=({buttonMode:t,activeMode:r,onClick:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${r===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i}),X_=({updateTokenUsage:t,apiKey:r,apiStatus:a,allTrades:i,mode:s,setDashboardSource:u,initialCapital:c,netPL:h,currentEquity:p})=>{const[m,x]=F.useState(""),[y,v]=F.useState(!0),[b,j]=F.useState(!1),[N,C]=F.useState(0),T=F.useMemo(()=>({scalp:i.filter(z=>z.mode==="scalp"),swing:i.filter(z=>z.mode==="swing"),day:i.filter(z=>z.mode==="day"),position:i.filter(z=>z.mode==="position")}),[i]),O=F.useMemo(()=>s==="all"?i:T[s],[s,i,T]),E=F.useMemo(()=>L_(i),[i]),Y=F.useMemo(()=>{const z=O.filter(M=>M.status!=="pending"),G=z.filter(M=>M.status==="profit").length,K=z.filter(M=>M.status==="stop-loss").length,W=G+K;return{winRate:W>0?Math.round(G/W*100):0,wins:G,losses:K,totalCompleted:W}},[O]);F.useEffect(()=>{x(""),v(!0)},[r]);const V=["all","scalp","day","swing","position"],D={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},te=V.map(z=>{const G=z==="all"?i:i.filter($=>$.mode===z),K=G.filter($=>$.status!=="pending"),W=K.filter($=>$.status==="profit").length,ie=K.filter($=>$.status==="stop-loss").length,M=W+ie,I=M>0?Math.round(W/M*100):0,le=K.reduce(($,ee)=>ee.status==="profit"?$+(ee.outcomeAmount||0):ee.status==="stop-loss"?$-(ee.outcomeAmount||0):$,0),he=z==="all"?c:0,k=z==="all"?p:0;return{mode:D[z],initialCapital:he,netPL:le,currentEquity:k,totalTrades:G.length,winRate:I,wins:W,losses:ie,completed:M}}),oe=z_(i),de=Qx(i);F.useEffect(()=>{if(s!=="all")return;(async()=>{if(a!=="valid"){x("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),v(!1);return}if(i.length===0){x("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),v(!1);return}v(!0);try{const K=`You are an expert trading performance coach and psychology analyst. Here are the user's trading statistics for each mode:

${te.map(ee=>`${ee.mode}:
- Initial Capital: $${ee.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${ee.netPL>=0?"+":""}${ee.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${ee.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${ee.totalTrades}
- Win Rate: ${ee.winRate}%
- Wins: ${ee.wins}
- Losses: ${ee.losses}
- Completed: ${ee.completed}`).join(`

`)}

**ANALYSIS REQUIREMENTS:**

- Gabungkan seluruh insight (performance, playbook, diary, psychology) dalam SATU paragraf narasi singkat, tanpa judul atau icon.
- Setelah itu, di paragraf terpisah, tuliskan 2-3 saran actionable yang jelas dan langsung ke poin.

Jawab SINGKAT, maksimal 3 kalimat untuk narasi utama, dan 1 paragraf untuk saran. Jangan gunakan emoji/icon. Bahasa Indonesia yang jelas dan mudah dipahami.`,W=K_(te),ie="fomo-ai-analysis",M="fomo-ai-hash",I=localStorage.getItem(M),le=localStorage.getItem(ie);if(I===W&&le){x(le),v(!1);return}const{analysisText:he,usage:k}=await F_(r,K);t(k);const $=he.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();x($),localStorage.setItem(ie,$),localStorage.setItem(M,W)}catch(G){console.error("Failed to get AI analysis:",G);const K=G instanceof Error?G.message:String(G);let W="Terjadi kesalahan saat mengambil analisis AI.";K.toLowerCase().includes("quota")||K.toLowerCase().includes("rate limit")?W="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":K.toLowerCase().includes("api key")||K.toLowerCase().includes("unauthorized")?W="API key tidak valid. Silakan periksa pengaturan API key Anda.":K.toLowerCase().includes("network")||K.toLowerCase().includes("fetch")?W="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":K.toLowerCase().includes("invalid response")||K.toLowerCase().includes("format")?W="Format respons AI tidak valid. Silakan coba lagi.":K.toLowerCase().includes("timeout")?W="Request timeout. Silakan coba lagi.":W=`Error: ${K}`,x(W)}finally{v(!1)}})()},[r,a,s,N,te]);const U=()=>{localStorage.removeItem("fomo-ai-analysis"),localStorage.removeItem("fomo-ai-hash"),C(z=>z+1)};return d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto",children:[b&&d.jsx(I_,{profile:E,winRate:Y.winRate,totalTrades:Y.totalCompleted,onClose:()=>j(!1)}),d.jsxs("header",{className:"flex flex-col gap-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("button",{onClick:()=>j(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:E&&E.image&&eo.createElement(E.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),d.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",d.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:s==="all"?"All":s})," trading history."]})]})]})}),d.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[d.jsx(fl,{buttonMode:"all",activeMode:s,onClick:u,children:"All"}),d.jsx(fl,{buttonMode:"scalp",activeMode:s,onClick:u,children:"Scalp"}),d.jsx(fl,{buttonMode:"day",activeMode:s,onClick:u,children:"Day"}),d.jsx(fl,{buttonMode:"swing",activeMode:s,onClick:u,children:"Swing"}),d.jsx(fl,{buttonMode:"position",activeMode:s,onClick:u,children:"Position"})]})]}),d.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(wr,{label:"Initial Capital",value:`$${c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(hp,{className:"w-6 h-6"}),color:"violet"}),d.jsx(wr,{label:"Net P/L",value:`${h>=0?"+":""}$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(Hg,{className:"w-6 h-6"}),color:h>=0?"green":"red"}),d.jsx(wr,{label:"Current Equity",value:`$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(hp,{className:"w-6 h-6"}),color:"blue"}),d.jsx(wr,{label:"Total Trades Analyzed",value:i.length,icon:d.jsx($v,{className:"w-6 h-6"}),color:"orange"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[d.jsx(wr,{label:"Active Win Rate",value:`${Y.winRate}%`,icon:d.jsx(Ig,{className:"w-6 h-6"}),color:"emerald"}),d.jsx(wr,{label:"Active Wins",value:Y.wins,icon:d.jsx(Nr,{className:"w-6 h-6"}),color:"green"}),d.jsx(wr,{label:"Active Losses",value:Y.losses,icon:d.jsx(gn,{className:"w-6 h-6"}),color:"red"}),d.jsx(wr,{label:"Active Completed",value:Y.totalCompleted,icon:d.jsx(to,{className:"w-6 h-6"}),color:"violet"})]}),s==="all"&&d.jsxs(d.Fragment,{children:[d.jsx(V_,{advancedMetrics:oe,psychologyMetrics:de}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[d.jsx(no,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),d.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),d.jsx("button",{onClick:U,className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,title:"Refresh AI Analysis",children:"Refresh"})]}),y?d.jsx(Q_,{}):m&&(m.toLowerCase().includes("error")||m.toLowerCase().includes("unavailable")||m.toLowerCase().includes("failed")||m.toLowerCase().includes("quota")||m.toLowerCase().includes("terjadi kesalahan"))?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:m}),d.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):d.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:d.jsx(Kd,{children:m,remarkPlugins:[ef]})})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:d.jsx(D_,{history:O})})]})]})};function K_(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}const Z_=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],sg=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],J_=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:Z_.map((t,r)=>{const a=60+Math.random()*90,i=sg[r%sg.length];return d.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${a}px`,height:`${a}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,a/6)}px`},children:t},t)})}),d.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),W_=()=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:d.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),d.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),d.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),d.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),d.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),d.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),d.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),d.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),d.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),d.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),d.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),td=({icon:t,title:r,description:a})=>d.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[d.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:d.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:t})}),d.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),d.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:a})]}),e4=({onNavigate:t})=>d.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[d.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[d.jsx(J_,{}),d.jsx(W_,{}),d.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[d.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",d.jsx("br",{}),d.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),d.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),d.jsx("button",{onClick:()=>t("dashboard"),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),d.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:d.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),d.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[d.jsx(td,{icon:d.jsx(no,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),d.jsx(td,{icon:d.jsx(fd,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),d.jsx(td,{icon:d.jsx(Ig,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),og=({user:t,onNavigate:r,onLogoutClick:a})=>{const[i,s]=F.useState(!1),u=F.useRef(null);return F.useEffect(()=>{const c=h=>{u.current&&!u.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),t?d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[d.jsx(qv,{className:"h-6 w-6"}),d.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&d.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:d.jsxs("div",{className:"py-1",role:"none",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),d.jsxs("button",{onClick:()=>{r("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(hd,{className:"w-5 h-5"}),d.jsx("span",{children:"Profile & Settings"})]}),d.jsxs("button",{onClick:()=>{a(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[d.jsx(Vv,{className:"w-5 h-5"}),d.jsx("span",{children:"Logout"})]})]})})]}):null},ug=({onNavigate:t,user:r,onLoginClick:a,onLogoutClick:i,onMobileMenuToggle:s,showUserIcon:u,activeMode:c})=>d.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:d.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&d.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:d.jsx(Xv,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),d.jsx("div",{className:"flex-shrink-0 flex items-center",children:d.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[d.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),d.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),d.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[c!=="dashboard"&&d.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),r?d.jsx(d.Fragment,{children:u&&d.jsx(og,{user:r,onLogoutClick:i,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),d.jsx("div",{className:"lg:hidden flex items-center gap-2",children:r?d.jsx(d.Fragment,{children:u&&d.jsx(og,{user:r,onLogoutClick:i,onNavigate:t})}):d.jsx("button",{onClick:a,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})}),t4="modulepreload",n4=function(t){return"/fomo/"+t},cg={},Al=function(r,a,i){let s=Promise.resolve();if(a&&a.length>0){let c=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=c(a.map(m=>{if(m=n4(m),m in cg)return;cg[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":t4,x||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&u(h.reason);return r().catch(u)})},r4=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>si);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)};class tf extends Error{constructor(r,a="FunctionsError",i){super(r),this.name=a,this.context=i}}class a4 extends tf{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class dg extends tf{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class fg extends tf{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var _d;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_d||(_d={}));var i4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class l4{constructor(r,{headers:a={},customFetch:i,region:s=_d.Any}={}){this.url=r,this.headers=a,this.region=s,this.fetch=r4(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var i;return i4(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:c}=a;let h={},{region:p}=a;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(h["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(h["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:x}).catch(N=>{throw new a4(N)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new dg(y);if(!y.ok)throw new fg(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield y.json():b==="application/octet-stream"?j=yield y.blob():b==="text/event-stream"?j=y:b==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof fg||s instanceof dg?s.context:void 0}}})}}var yt={},Ga={},Ya={},Va={},Qa={},Xa={},s4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=s4();const o4=ai.fetch,Xx=ai.fetch.bind(ai),Kx=ai.Headers,u4=ai.Request,c4=ai.Response,si=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kx,Request:u4,Response:c4,default:Xx,fetch:o4},Symbol.toStringTag,{value:"Module"})),d4=Av(si);var Gs={},hg;function Zx(){if(hg)return Gs;hg=1,Object.defineProperty(Gs,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Gs.default=t,Gs}var mg;function Jx(){if(mg)return Xa;mg=1;var t=Xa&&Xa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xa,"__esModule",{value:!0});const r=t(d4),a=t(Zx());class i{constructor(u){var c,h;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(c=u.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=u.signal,this.isMaybeSingle=(h=u.isMaybeSingle)!==null&&h!==void 0?h:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,c){return this.headers=new Headers(this.headers),this.headers.set(u,c),this}then(u,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,y,v,b;let j=null,N=null,C=null,T=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?N=D:N=JSON.parse(D))}const Y=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),V=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");Y&&V&&V.length>1&&(C=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,T=406,O="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const Y=await m.text();try{j=JSON.parse(Y),Array.isArray(j)&&m.status===404&&(N=[],j=null,T=200,O="OK")}catch{m.status===404&&Y===""?(T=204,O="No Content"):j={message:Y}}if(j&&this.isMaybeSingle&&(!((b=j==null?void 0:j.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,T=200,O="OK"),j&&this.shouldThrowOnError)throw new a.default(j)}return{error:j,data:N,count:C,status:T,statusText:O}});return this.shouldThrowOnError||(p=p.catch(m=>{var x,y,v;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,c)}returns(){return this}overrideTypes(){return this}}return Xa.default=i,Xa}var pg;function Wx(){if(pg)return Qa;pg=1;var t=Qa&&Qa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qa,"__esModule",{value:!0});const r=t(Jx());class a extends r.default{select(s){let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:u=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${s}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:u,referencedTable:c=u}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,u,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${u-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:u=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var x;const y=[s?"analyze":null,u?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Qa.default=a,Qa}var gg;function nf(){if(gg)return Va;gg=1;var t=Va&&Va.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Va,"__esModule",{value:!0});const r=t(Wx());class a extends r.default{eq(s,u){return this.url.searchParams.append(s,`eq.${u}`),this}neq(s,u){return this.url.searchParams.append(s,`neq.${u}`),this}gt(s,u){return this.url.searchParams.append(s,`gt.${u}`),this}gte(s,u){return this.url.searchParams.append(s,`gte.${u}`),this}lt(s,u){return this.url.searchParams.append(s,`lt.${u}`),this}lte(s,u){return this.url.searchParams.append(s,`lte.${u}`),this}like(s,u){return this.url.searchParams.append(s,`like.${u}`),this}likeAllOf(s,u){return this.url.searchParams.append(s,`like(all).{${u.join(",")}}`),this}likeAnyOf(s,u){return this.url.searchParams.append(s,`like(any).{${u.join(",")}}`),this}ilike(s,u){return this.url.searchParams.append(s,`ilike.${u}`),this}ilikeAllOf(s,u){return this.url.searchParams.append(s,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(s,u){return this.url.searchParams.append(s,`ilike(any).{${u.join(",")}}`),this}is(s,u){return this.url.searchParams.append(s,`is.${u}`),this}in(s,u){const c=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cs.{${u.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(u)}`),this}containedBy(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cd.{${u.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(u)}`),this}rangeGt(s,u){return this.url.searchParams.append(s,`sr.${u}`),this}rangeGte(s,u){return this.url.searchParams.append(s,`nxl.${u}`),this}rangeLt(s,u){return this.url.searchParams.append(s,`sl.${u}`),this}rangeLte(s,u){return this.url.searchParams.append(s,`nxr.${u}`),this}rangeAdjacent(s,u){return this.url.searchParams.append(s,`adj.${u}`),this}overlaps(s,u){return typeof u=="string"?this.url.searchParams.append(s,`ov.${u}`):this.url.searchParams.append(s,`ov.{${u.join(",")}}`),this}textSearch(s,u,{config:c,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${u}`),this}match(s){return Object.entries(s).forEach(([u,c])=>{this.url.searchParams.append(u,`eq.${c}`)}),this}not(s,u,c){return this.url.searchParams.append(s,`not.${u}.${c}`),this}or(s,{foreignTable:u,referencedTable:c=u}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,u,c){return this.url.searchParams.append(s,`${u}.${c}`),this}}return Va.default=a,Va}var xg;function ey(){if(xg)return Ya;xg=1;var t=Ya&&Ya.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ya,"__esModule",{value:!0});const r=t(nf());class a{constructor(s,{headers:u={},schema:c,fetch:h}){this.url=s,this.headers=new Headers(u),this.schema=c,this.fetch=h}select(s,{head:u=!1,count:c}={}){const h=u?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:u,defaultToNull:c=!0}={}){var h;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:u,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:u}={}){var c;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var u;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Ya.default=a,Ya}var yg;function f4(){if(yg)return Ga;yg=1;var t=Ga&&Ga.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ga,"__esModule",{value:!0});const r=t(ey()),a=t(nf());class i{constructor(u,{headers:c={},schema:h,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(u){const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:h=!1,get:p=!1,count:m}={}){var x;let y;const v=new URL(`${this.url}/rpc/${u}`);let b;h||p?(y=h?"HEAD":"GET",Object.entries(c).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{v.searchParams.append(N,C)})):(y="POST",b=c);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new a.default({method:y,url:v,headers:j,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Ga.default=i,Ga}var bg;function h4(){if(bg)return yt;bg=1;var t=yt&&yt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const r=t(f4());yt.PostgrestClient=r.default;const a=t(ey());yt.PostgrestQueryBuilder=a.default;const i=t(nf());yt.PostgrestFilterBuilder=i.default;const s=t(Wx());yt.PostgrestTransformBuilder=s.default;const u=t(Jx());yt.PostgrestBuilder=u.default;const c=t(Zx());return yt.PostgrestError=c.default,yt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:c.default},yt}var m4=h4();const p4=jl(m4),{PostgrestClient:g4,PostgrestQueryBuilder:OE,PostgrestFilterBuilder:DE,PostgrestTransformBuilder:LE,PostgrestBuilder:ME,PostgrestError:zE}=p4;function x4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const y4=x4(),b4="2.11.15",v4=`realtime-js/${b4}`,w4="1.0.0",ty=1e4,k4=1e3;var xl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xl||(xl={}));var Ct;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ct||(Ct={}));var pn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(pn||(pn={}));var Nd;(function(t){t.websocket="websocket"})(Nd||(Nd={}));var Jr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jr||(Jr={}));class S4{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,a,i)}_decodeBroadcast(r,a,i){const s=a.getUint8(1),u=a.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(r.slice(c,c+s));c=c+s;const p=i.decode(r.slice(c,c+u));c=c+u;const m=JSON.parse(i.decode(r.slice(c,r.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class ny{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ke||(Ke={}));const vg=(t,r,a={})=>{var i;const s=(i=a.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(r).reduce((u,c)=>(u[c]=j4(c,t,r,s),u),{})},j4=(t,r,a,i)=>{const s=r.find(h=>h.name===t),u=s==null?void 0:s.type,c=a[t];return u&&!i.includes(u)?ry(u,c):Ed(c)},ry=(t,r)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return A4(r,a)}switch(t){case Ke.bool:return _4(r);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return N4(r);case Ke.json:case Ke.jsonb:return E4(r);case Ke.timestamp:return T4(r);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Ed(r);default:return Ed(r)}},Ed=t=>t,_4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},N4=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},E4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},A4=(t,r)=>{if(typeof t!="string")return t;const a=t.length-1,i=t[a];if(t[0]==="{"&&i==="}"){let u;const c=t.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>ry(r,h))}return t},T4=t=>typeof t=="string"?t.replace(" ","T"):t,ay=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class nd{constructor(r,a,i={},s=ty){this.channel=r,this.event=a,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var i;return this._hasReceived(r)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var wg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wg||(wg={}));class yl{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,s,u,c),this.pendingDiffs.forEach(p=>{this.state=yl.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},s=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yl.syncDiff(this.state,s,u,c),h())}),this.onJoin((s,u,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:c})}),this.onLeave((s,u,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,i,s){const u=this.cloneDeep(r),c=this.transformState(a),h={},p={};return this.map(u,(m,x)=>{c[m]||(p[m]=x)}),this.map(c,(m,x)=>{const y=u[m];if(y){const v=x.map(C=>C.presence_ref),b=y.map(C=>C.presence_ref),j=x.filter(C=>b.indexOf(C.presence_ref)<0),N=y.filter(C=>v.indexOf(C.presence_ref)<0);j.length>0&&(h[m]=j),N.length>0&&(p[m]=N)}else h[m]=x}),this.syncDiff(u,{joins:h,leaves:p},i,s)}static syncDiff(r,a,i,s){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(u,(h,p)=>{var m;const x=(m=r[h])!==null&&m!==void 0?m:[];if(r[h]=this.cloneDeep(p),x.length>0){const y=r[h].map(b=>b.presence_ref),v=x.filter(b=>y.indexOf(b.presence_ref)<0);r[h].unshift(...v)}i(h,x,p)}),this.map(c,(h,p)=>{let m=r[h];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),r[h]=m,s(h,m,p),m.length===0&&delete r[h]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(i=>a(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,i)=>{const s=r[i];return"metas"in s?a[i]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=s,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kg||(kg={}));var Sg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sg||(Sg={}));var $n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class rf{constructor(r,a={config:{}},i){this.topic=r,this.params=a,this.socket=i,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new nd(this,pn.join,this.params,this.timeout),this.rejoinTimer=new ny(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new yl(this),this.broadcastEndpointURL=ay(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ct.closed){const{config:{broadcast:u,presence:c,private:h}}=this.params;this._onError(x=>r==null?void 0:r($n.CHANNEL_ERROR,x)),this._onClose(()=>r==null?void 0:r($n.CLOSED));const p={},m={broadcast:u,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){r==null||r($n.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,j=[];for(let N=0;N<b;N++){const C=v[N],{filter:{event:T,schema:O,table:E,filter:Y}}=C,V=x&&x[N];if(V&&V.event===T&&V.schema===O&&V.table===E&&V.filter===Y)j.push(Object.assign(Object.assign({},C),{id:V.id}));else{this.unsubscribe(),this.state=Ct.errored,r==null||r($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,r&&r($n.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ct.errored,r==null||r($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r==null||r($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,i){return this._on(r,a,i)}async send(r,a={}){var i,s;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const m=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ct.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new nd(this,pn.leave,{},r),i.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,a,i){const s=new AbortController,u=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(u),c}_push(r,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nd(this,r,a,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(r,a,i){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,i){var s,u;const c=r.toLocaleLowerCase(),{close:h,error:p,leave:m,join:x}=pn;if(i&&[h,p,m,x].indexOf(c)>=0&&i!==this._joinRef())return;let v=this._onMessage(c,a,i);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,N,C;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(N=b.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(b=>b.callback(v,i)):(u=this.bindings[c])===null||u===void 0||u.filter(b=>{var j,N,C,T,O,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in b){const Y=b.id,V=(j=b.filter)===null||j===void 0?void 0:j.event;return Y&&((N=a.ids)===null||N===void 0?void 0:N.includes(Y))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((C=a.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const Y=(O=(T=b==null?void 0:b.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return Y==="*"||Y===((E=a==null?void 0:a.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===c}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:N,table:C,commit_timestamp:T,type:O,errors:E}=j;v=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:T,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(j))}b.callback(v,i)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,i){const s=r.toLocaleLowerCase(),u={type:s,filter:a,callback:i};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(r,a){const i=r.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&rf.isEqual(s.filter,a))}),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const i in r)if(r[i]!==a[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(pn.close,{},r)}_onError(r){this._on(pn.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=vg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=vg(r.columns,r.old_record)),a}}const jg=()=>{},C4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R4{constructor(r,a){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ty,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jg,this.ref=0,this.logger=jg,this.conn=null,this.sendBuffer=[],this.serializer=new S4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...h)=>Al(async()=>{const{default:p}=await Promise.resolve().then(()=>si);return{default:p}},void 0).then(({default:p})=>p(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${r}/${Nd.websocket}`,this.httpEndpoint=ay(r),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(i=a==null?void 0:a.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(u,c)=>c(JSON.stringify(u)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ny(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=y4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:w4}))}disconnect(r,a){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,i){this.logger(r,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return Jr.Connecting;case xl.open:return Jr.Open;case xl.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(r,a={config:{}}){const i=`realtime:${r}`,s=this.getChannels().find(u=>u.topic===i);if(s)return s;{const u=new rf(`realtime:${r}`,a,this);return this.channels.push(u),u}}push(r){const{topic:a,event:i,payload:s,ref:u}=r,c=()=>{this.encode(r,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${a} ${i} (${u})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){let a=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const s={access_token:a,version:v4};a&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(pn.access_token,{access_token:a})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(k4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,a=>{let{topic:i,event:s,payload:u,ref:c}=a;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,u,c)),this.stateChangeCallbacks.message.forEach(h=>h(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(pn.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const i=r.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${r}${i}${s}`}_workerObjectUrl(r){let a;if(r)a=r;else{const i=new Blob([C4],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}}class af extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class O4 extends af{constructor(r,a){super(r),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ad extends af{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var D4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const iy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>si);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)},L4=()=>D4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Al(()=>Promise.resolve().then(()=>si),void 0)).Response:Response}),Td=t=>{if(Array.isArray(t))return t.map(a=>Td(a));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([a,i])=>{const s=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[s]=Td(i)}),r};var na=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const rd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),M4=(t,r,a)=>na(void 0,void 0,void 0,function*(){const i=yield L4();t instanceof i&&!(a!=null&&a.noResolveJson)?t.json().then(s=>{r(new O4(rd(s),t.status||500))}).catch(s=>{r(new Ad(rd(s),s))}):r(new Ad(rd(t),t))}),z4=(t,r,a,i)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),a))};function Tl(t,r,a,i,s,u){return na(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(a,z4(r,i,s,u)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>M4(p,h,i))})})}function oo(t,r,a,i){return na(this,void 0,void 0,function*(){return Tl(t,"GET",r,a,i)})}function Sr(t,r,a,i,s){return na(this,void 0,void 0,function*(){return Tl(t,"POST",r,i,s,a)})}function U4(t,r,a,i,s){return na(this,void 0,void 0,function*(){return Tl(t,"PUT",r,i,s,a)})}function B4(t,r,a,i){return na(this,void 0,void 0,function*(){return Tl(t,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),i)})}function ly(t,r,a,i,s){return na(this,void 0,void 0,function*(){return Tl(t,"DELETE",r,i,s,a)})}var qt=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const P4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q4{constructor(r,a={},i,s){this.url=r,this.headers=a,this.bucketId=i,this.fetch=iy(s)}uploadOrUpdate(r,a,i,s){return qt(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},_g),s);let h=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const m=this._removeEmptyFolders(a),x=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:r,body:u,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(bt(u))return{data:null,error:u};throw u}})}upload(r,a,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,i)})}uploadToSignedUrl(r,a,i,s){return qt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",a);try{let p;const m=Object.assign({upsert:_g.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:x}),v=yield y.json();return y.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(p){if(bt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,a){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const u=yield Sr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+u.url),h=c.searchParams.get("token");if(!h)throw new af("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}update(r,a,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,i)})}move(r,a,i){return qt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}copy(r,a,i){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}createSignedUrl(r,a,i){return qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),u=yield Sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}createSignedUrls(r,a,i){return qt(this,void 0,void 0,function*(){try{const s=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}download(r,a){return qt(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),c=u?`?${u}`:"";try{const h=this._getFinalPath(r);return{data:yield(yield oo(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(bt(h))return{data:null,error:h};throw h}})}info(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const i=yield oo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Td(i),error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}exists(r){return qt(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield B4(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(bt(i)&&i instanceof Ad){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,a){const i=this._getFinalPath(r),s=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&s.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(r){return qt(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}list(r,a,i){return qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},P4),a),{prefix:r||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const I4="2.7.1",H4={"X-Client-Info":`storage-js/${I4}`};var Ka=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class $4{constructor(r,a={},i){this.url=r,this.headers=Object.assign(Object.assign({},H4),a),this.fetch=iy(i)}listBuckets(){return Ka(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}getBucket(r){return Ka(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return Ka(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}updateBucket(r,a){return Ka(this,void 0,void 0,function*(){try{return{data:yield U4(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}emptyBucket(r){return Ka(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Ka(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}}class F4 extends $4{constructor(r,a={},i){super(r,a,i)}from(r){return new q4(this.url,this.headers,r,this.fetch)}}const G4="2.50.4";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const Y4={"X-Client-Info":`supabase-js-${hl}/${G4}`},V4={headers:Y4},Q4={schema:"public"},X4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K4={};var Z4=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};const J4=t=>{let r;return t?r=t:typeof fetch>"u"?r=Xx:r=fetch,(...a)=>r(...a)},W4=()=>typeof Headers>"u"?Kx:Headers,eN=(t,r,a)=>{const i=J4(a),s=W4();return(u,c)=>Z4(void 0,void 0,void 0,function*(){var h;const p=(h=yield r())!==null&&h!==void 0?h:t;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(u,Object.assign(Object.assign({},c),{headers:m}))})};var tN=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};function nN(t){return t.endsWith("/")?t:t+"/"}function rN(t,r){var a,i;const{db:s,auth:u,realtime:c,global:h}=t,{db:p,auth:m,realtime:x,global:y}=r,v={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),c),global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(a=y==null?void 0:y.headers)!==null&&a!==void 0?a:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>tN(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const sy="2.70.0",ti=30*1e3,Cd=3,ad=Cd*ti,aN="http://localhost:9999",iN="supabase.auth.token",lN={"X-Client-Info":`gotrue-js/${sy}`},Rd="X-Supabase-Api-Version",oy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oN=6e5;class lf extends Error{constructor(r,a,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function _e(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uN extends lf{constructor(r,a,i){super(r,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function cN(t){return _e(t)&&t.name==="AuthApiError"}class uy extends lf{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class Ar extends lf{constructor(r,a,i,s){super(r,i,s),this.name=a,this.status=i}}class kr extends Ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dN(t){return _e(t)&&t.name==="AuthSessionMissingError"}class Ys extends Ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends Ar{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends Ar{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fN(t){return _e(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ng extends Ar{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Od extends Ar{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function id(t){return _e(t)&&t.name==="AuthRetryableFetchError"}class Eg extends Ar{constructor(r,a,i){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class bl extends Ar{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),hN=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<Ag.length;r+=1)t[Ag[r].charCodeAt(0)]=-2;for(let r=0;r<uo.length;r+=1)t[uo[r].charCodeAt(0)]=r;return t})();function Tg(t,r,a){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;a(uo[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;a(uo[i]),r.queuedBits-=6}}function cy(t,r,a){const i=hN[t];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cg(t){const r=[],a=c=>{r.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},u=c=>{gN(c,i,a)};for(let c=0;c<t.length;c+=1)cy(t.charCodeAt(c),s,u);return r.join("")}function mN(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pN(t,r){for(let a=0;a<t.length;a+=1){let i=t.charCodeAt(a);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}mN(i,r)}}function gN(t,r,a){if(r.utf8seq===0){if(t<=127){a(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function xN(t){const r=[],a={queue:0,queuedBits:0},i=s=>{r.push(s)};for(let s=0;s<t.length;s+=1)cy(t.charCodeAt(s),a,i);return new Uint8Array(r)}function yN(t){const r=[];return pN(t,a=>r.push(a)),new Uint8Array(r)}function bN(t){const r=[],a={queue:0,queuedBits:0},i=s=>{r.push(s)};return t.forEach(s=>Tg(s,a,i)),Tg(null,a,i),r.join("")}function vN(t){return Math.round(Date.now()/1e3)+t}function wN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",Kr={tested:!1,writable:!1},vl=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kr.tested)return Kr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kr.tested=!0,Kr.writable=!0}catch{Kr.tested=!0,Kr.writable=!1}return Kr.writable};function kN(t){const r={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,u)=>{r[u]=s})}catch{}return a.searchParams.forEach((i,s)=>{r[s]=i}),r}const dy=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>Al(async()=>{const{default:i}=await Promise.resolve().then(()=>si);return{default:i}},void 0).then(({default:i})=>i(...a)):r=fetch,(...a)=>r(...a)},SN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fy=async(t,r,a)=>{await t.setItem(r,JSON.stringify(a))},Xs=async(t,r)=>{const a=await t.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ks=async(t,r)=>{await t.removeItem(r)};class xo{constructor(){this.promise=new xo.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}xo.promiseConstructor=Promise;function ld(t){const r=t.split(".");if(r.length!==3)throw new bl("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!sN.test(r[i]))throw new bl("JWT not in base64url format");return{header:JSON.parse(Cg(r[0])),payload:JSON.parse(Cg(r[1])),signature:xN(r[2]),raw:{header:r[0],payload:r[1]}}}async function jN(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function _N(t,r){return new Promise((i,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await t(u);if(!r(u,null,c)){i(c);return}}catch(c){if(!r(u,c)){s(c);return}}})()})}function NN(t){return("0"+t.toString(16)).substr(-2)}function EN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let s="";for(let u=0;u<56;u++)s+=a.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(r),Array.from(r,NN).join("")}async function AN(t){const a=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(i);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}async function TN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await AN(t);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Za(t,r,a=!1){const i=EN();let s=i;a&&(s+="/PASSWORD_RECOVERY"),await fy(t,`${r}-code-verifier`,s);const u=await TN(i);return[u,i===u?"plain":"s256"]}const CN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RN(t){const r=t.headers.get(Rd);if(!r||!r.match(CN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function ON(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function DN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ja(t){if(!LN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var MN=function(t,r){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(a[i[s]]=t[i[s]]);return a};const Zr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zN=[502,503,504];async function Rg(t){var r;if(!SN(t))throw new Od(Zr(t),0);if(zN.includes(t.status))throw new Od(Zr(t),t.status);let a;try{a=await t.json()}catch(u){throw new uy(Zr(u),u)}let i;const s=RN(t);if(s&&s.getTime()>=oy["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new Eg(Zr(a),t.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new kr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Eg(Zr(a),t.status,a.weak_password.reasons);throw new uN(Zr(a),t.status||500,i)}const UN=(t,r,a,i)=>{const s={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),a))};async function Le(t,r,a,i){var s;const u=Object.assign({},i==null?void 0:i.headers);u[Rd]||(u[Rd]=oy["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await BN(t,r,a+h,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function BN(t,r,a,i,s,u){const c=UN(r,i,s,u);let h;try{h=await t(a,Object.assign({},c))}catch(p){throw console.error(p),new Od(Zr(p),0)}if(h.ok||await Rg(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Rg(p)}}function Hn(t){var r;let a=null;HN(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=vN(t.expires_in)));const i=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:a,user:i},error:null}}function Og(t){const r=Hn(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(r.data.weak_password=t.weak_password),r}function jr(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function PN(t){return{data:t,error:null}}function qN(t){const{action_link:r,email_otp:a,hashed_token:i,redirect_to:s,verification_type:u}=t,c=MN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:r,email_otp:a,hashed_token:i,redirect_to:s,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function IN(t){return t}function HN(t){return t.access_token&&t.refresh_token&&t.expires_in}const sd=["global","local","others"];var $N=function(t,r){var a={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(a[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(a[i[s]]=t[i[s]]);return a};class FN{constructor({url:r="",headers:a={},fetch:i}){this.url=r,this.headers=a,this.fetch=dy(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a=sd[0]){if(sd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sd.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,a={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:jr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:a}=r,i=$N(r,["options"]),s=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:qN,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(_e(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:jr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,i,s,u,c,h,p;try{const m={nextPage:null,lastPage:0,total:0},x=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:IN});if(x.error)throw x.error;const y=await x.json(),v=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,b=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);m[`${C}Page`]=N}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){Ja(r);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:jr})}catch(a){if(_e(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){Ja(r);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:jr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,a=!1){Ja(r);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:jr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){Ja(r.userId);try{const{data:a,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:i}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _deleteFactor(r){Ja(r.userId),Ja(r.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}}const GN={getItem:t=>vl()?globalThis.localStorage.getItem(t):null,setItem:(t,r)=>{vl()&&globalThis.localStorage.setItem(t,r)},removeItem:t=>{vl()&&globalThis.localStorage.removeItem(t)}};function Dg(t={}){return{getItem:r=>t[r]||null,setItem:(r,a)=>{t[r]=a},removeItem:r=>{delete t[r]}}}function YN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wa={debug:!!(globalThis&&vl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hy extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class VN extends hy{}async function QN(t,r,a){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await a()}finally{Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(r===0)throw Wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wa.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}YN();const XN={url:aN,storageKey:iN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lg(t,r,a){return await a()}class Sl{constructor(r){var a,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},XN),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new FN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dy(s.fetch),this.lock=s.lock||Lg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=QN:this.lock=Lg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vl()?this.storage=GN:(this.memoryStorage={},this.storage=Dg(this.memoryStorage)):(this.memoryStorage={},this.storage=Dg(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sy}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const a=kN(window.location.href);let i="none";if(this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce"),mn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),fN(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return _e(a)?{error:a}:{error:new uy("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,i,s;try{const u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:Hn}),{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var a,i,s;try{let u;if("email"in r){const{email:x,password:y,options:v}=r;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Za(this.storage,this.storageKey)),u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:y,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:j},xform:Hn})}else if("phone"in r){const{phone:x,password:y,options:v}=r;u=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Hn})}else throw new Vs("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return{data:{user:null,session:null},error:h};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(u){if(_e(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let a;if("email"in r){const{email:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Og})}else if("phone"in r){const{phone:u,password:c,options:h}=r;a=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Og})}else throw new Vs("You must provide either an email or phone number and a password");const{data:i,error:s}=a;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,i,s,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;if(a==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(r){var a,i,s,u,c,h,p,m,x,y,v,b;let j,N;if("message"in r)j=r.message,N=r.signature;else{const{chain:C,wallet:T,statement:O,options:E}=r;let Y;if(mn())if(typeof T=="object")Y=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))Y=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=T}const V=new URL((a=E==null?void 0:E.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in Y&&Y.signIn){const D=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),O?{statement:O}:null));let te;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")te=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)te=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),N=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${V.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(x=E==null?void 0:E.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const D=await Y.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:C,error:T}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:bN(N)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Hn});if(T)throw T;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ys}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:T})}catch(C){if(_e(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(r){const a=await Xs(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(a??"").split("/");try{const{data:u,error:c}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Hn});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s??null}),error:c})}catch(u){if(_e(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:a,provider:i,token:s,access_token:u,nonce:c}=r,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Ys}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,i,s,u,c;try{if("email"in r){const{email:h,options:p}=r;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Za(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:h,options:p}=r,{data:m,error:x}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new Vs("You must provide either an email or phone number.")}catch(h){if(_e(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(r){var a,i;try{let s,u;"options"in r&&(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:Hn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var a,i,s;try{let u=null,c=null;return this.flowType==="pkce"&&([u,c]=await Za(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:PN})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;if(i)throw i;if(!a)throw new kr;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(_e(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:i,type:s,options:u}=r,{error:c}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in r){const{phone:i,type:s,options:u}=r,{data:c,error:h}=await Le(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Vs("You must provide either an email or phone number and a type")}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await Xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,m,x)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,x))})}return{data:{session:r},error:null}}const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:jr}):await this._useSession(async a=>{var i,s,u;const{data:c,error:h}=a;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:jr})})}catch(a){if(_e(a))return dN(a)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async i=>{const{data:s,error:u}=i;if(u)throw u;if(!s.session)throw new kr;const c=s.session;let h=null,p=null;this.flowType==="pkce"&&r.email!=null&&([h,p]=await Za(this.storage,this.storageKey));const{data:m,error:x}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:jr});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new kr;const a=Date.now()/1e3;let i=a,s=!0,u=null;const{payload:c}=ld(r.access_token);if(c.exp&&(i=c.exp,s=i<=a),s){const{session:h,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:h.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(_e(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var i;if(!r){const{data:c,error:h}=a;if(h)throw h;r=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new kr;const{session:s,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r,a){try{if(!mn())throw new Qs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Qs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Ng("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ng("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(r.code);if(E)throw E;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:m}=r;if(!u||!h||!c||!m)throw new Qs("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let v=x+y;p&&(v=parseInt(p));const b=v-x;b*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const j=v-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,x);const{data:N,error:C}=await this._getUser(u);if(C)throw C;const T={provider_token:i,provider_refresh_token:s,access_token:u,expires_in:y,expires_at:v,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(i){if(_e(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await Xs(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:s,error:u}=a;if(u)return{error:u};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,r);if(h&&!(cN(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return r!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=wN(),i={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async a=>{var i,s;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,a={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Za(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(_e(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:i,error:s}=await this._useSession(async u=>{var c,h,p,m,x;const{data:y,error:v}=u;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=r.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return mn()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:r.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(_e(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var i,s;const{data:u,error:c}=a;if(c)throw c;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await _N(async s=>(s>0&&await jN(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Hn})),(s,u)=>{const c=200*Math.pow(2,s);return u&&id(u)&&Date.now()+c-i<ti})}catch(i){if(this._debug(a,"error",i),_e(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",i),mn()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Xs(this.storage,this.storageKey);if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ad;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${ad}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),id(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var a,i;if(!r)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xo;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new kr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(s,"error",u),_e(u)){const c={session:null,error:u};return id(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,a,i=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(r,a)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await fy(this.storage,this.storageKey,r)}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-r)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ti}ms, refresh threshold is ${Cd} ticks`),s<=Cd&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof hy)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,i){const s=[`provider=${encodeURIComponent(a)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await Za(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);s.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var i,s;const{data:u,error:c}=a;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(r.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;if(u)return{data:null,error:u};const{data:c,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var i;const{data:s,error:u}=a;return u?{data:null,error:u}:await Le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(_e(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i=(r==null?void 0:r.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),u=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,i;const{data:{session:s},error:u}=r;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ld(s.access_token);let h=null;c.aal&&(h=c.aal);let p=h;((i=(a=s.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const x=c.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,a={keys:[]}){let i=a.keys.find(c=>c.kid===r);if(i||(i=this.jwks.keys.find(c=>c.kid===r),i&&this.jwks_cached_at+oN>Date.now()))return i;const{data:s,error:u}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!s.keys||s.keys.length===0)throw new bl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===r),!i)throw new bl("No matching signing key found in JWKS");return i}async getClaims(r,a={keys:[]}){try{let i=r;if(!i){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};i=b.session.access_token}const{header:s,payload:u,signature:c,raw:{header:h,payload:p}}=ld(i);if(ON(u.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:u,header:s,signature:c},error:null}}const m=DN(s.alg),x=await this.fetchJwk(s.kid,a),y=await crypto.subtle.importKey("jwk",x,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,yN(`${h}.${p}`)))throw new bl("Invalid JWT signature");return{data:{claims:u,header:s,signature:c},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}}Sl.nextInstanceID=0;const KN=Sl;class ZN extends KN{constructor(r){super(r)}}var JN=function(t,r,a,i){function s(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function h(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?u(x.value):s(x.value).then(h,p)}m((i=i.apply(t,r||[])).next())})};class WN{constructor(r,a,i){var s,u,c;if(this.supabaseUrl=r,this.supabaseKey=a,!r)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const h=nN(r),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:Q4,realtime:K4,auth:Object.assign(Object.assign({},X4),{storageKey:m}),global:V4},y=rN(i??{},x);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=eN(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new g4(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new l4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new F4(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},i={}){return this.rest.rpc(r,a,i)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return JN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,storageKey:u,flowType:c,lock:h,debug:p},m,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZN({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:s,flowType:c,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new R4(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,a,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eE=(t,r,a)=>new WN(t,r,a),tE="https://vqzivktsvicvbdsuouap.supabase.co",nE="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",Jt=(t,r,a)=>{const i=`There was a problem trying to ${t} data for the '${r}' table.`,u=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(a);if(u.toLowerCase().includes('column "user_id" does not exist')||u.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(u.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const c=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${r}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${c}

Technical Details:
${u}`},_r=eE(tE,nE),rE=async(t,{email:r,password:a,nama:i})=>{const{data:s,error:u}=await t.auth.signUp({email:r,password:a,options:{data:{nama:i}}});if(u)throw u.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",u),new Error(`Failed to sign up: ${u.message}`));return s},aE=async(t,{email:r,password:a})=>{const{data:i,error:s}=await t.auth.signInWithPassword({email:r,password:a});if(s)throw s;return i},iE=async t=>{const{error:r}=await t.auth.signOut();if(r)throw r},lE=(t,r)=>{const{data:{subscription:a}}=t.auth.onAuthStateChange((i,s)=>{r(s)});return a},sE=async(t,r)=>{try{const{data:a,error:i}=await t.from("users").select("*").eq("id",r).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${r}. A new one may need to be created if this is unexpected.`),null;throw i}return a}catch(a){const i=Jt(`fetch profile for user ${r}`,"users",a);return console.error(i),null}},Mg=async(t,r)=>{const{data:a,error:i}=await t.from("trades").select("*").eq("user_id",r).order("created_at",{ascending:!1});if(i){const s=Jt("fetch","trades",i);throw console.error(s),new Error(s)}return(a||[]).map(s=>({id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:s.trade_setup,rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}))},my=async(t,r,a)=>{const{error:i}=await t.from("users").update({initial_trade:a}).eq("id",r);if(i){const s=Jt(`update initial capital for user ${r}`,"users",i);throw console.error(s),new Error(s)}},oE=async(t,r,a,i)=>{const{error:s}=await t.from("users").update({nama:a,describe:i}).eq("id",r);if(s){const u=Jt(`update profile for user ${r}`,"users",s);throw console.error(u),new Error(u)}},uE=async(t,r,a)=>{const i={user_id:a,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:r.tradeSetup,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount??null},{data:s,error:u}=await t.from("trades").insert(i).select().single();if(u){const h=Jt("add","trades",u);throw console.error(h),new Error(h)}if(!s)throw new Error("Failed to add trade: no data returned.");const c=s;return{id:c.id,timestamp:c.created_at,image:c.image,mode:c.mode,marketTrend:c.market_trend,keyPattern:c.key_pattern,indicatorAnalysis:c.indicator_analysis,tradeBias:c.trade_bias,tradeSetup:c.trade_setup,rationale:c.rationale,confidenceScore:c.confidence_score,status:c.status,outcomeAmount:c.outcome_amount??void 0,riskPerTrade:0}},cE=async(t,r,a,i,s)=>{const{error:u}=await t.from("trades").update({status:a,outcome_amount:i}).eq("id",r).eq("user_id",s);if(u){const c=Jt(`update status for trade ${r}`,"trades",u);throw console.error(c),new Error(c)}},dE=async(t,r,a)=>{const{error:i}=await t.from("trades").delete().eq("id",r).eq("user_id",a);if(i){const s=Jt(`delete trade ${r}`,"trades",i);throw console.error(s),new Error(s)}},fE=async(t,r)=>{const{data:a,error:i}=await t.from("portfolio_assets").select("*").eq("user_id",r).order("symbol",{ascending:!0});if(i){const s=Jt("fetch portfolio assets","portfolio_assets",i);throw console.error(s),new Error(s)}return a||[]},hE=async(t,r,a)=>{const i={user_id:a,symbol:r.symbol,name:r.name,logo_url:r.logo_url||"",amount:r.amount,avg_buy_price:r.avg_buy_price,current_price:r.current_price},{data:s,error:u}=await t.from("portfolio_assets").insert(i).select().single();if(u){const c=Jt("add portfolio asset","portfolio_assets",u);throw console.error(c),new Error(c)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},mE=async(t,r,a,i)=>{const{error:s}=await t.from("portfolio_assets").update(a).eq("id",r).eq("user_id",i);if(s){const u=Jt(`update portfolio asset ${r}`,"portfolio_assets",s);throw console.error(u),new Error(u)}},pE=async(t,r,a)=>{const{error:i}=await t.from("portfolio_assets").delete().eq("id",r).eq("user_id",a);if(i){const s=Jt(`delete portfolio asset ${r}`,"portfolio_assets",i);throw console.error(s),new Error(s)}},gE=async(t,r)=>{try{const a=await fE(t,r);let i=0,s=0,u=0;const c=a.map(m=>{const x=m.current_price/(1+(Math.random()-.5)*.04),y=m.amount*m.current_price,v=(m.current_price-m.avg_buy_price)*m.amount,b=m.amount*x,j=y-b;return i+=y,s+=v,u+=j,{id:m.id,symbol:m.symbol,name:m.name,logoUrl:m.logo_url,amount:m.amount,avgBuyPrice:m.avg_buy_price,currentPrice:m.current_price,value:y,totalPl:v}}),h=i-u,p=h>0?u/h*100:0;return{assets:c,totalValue:i,totalPl:s,pl24h:u,pl24hPercent:p}}catch(a){return console.error("Error fetching portfolio data:",a),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},xE=async t=>{try{const{data:r,error:a}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(a){if(a.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw a}return r}catch(r){const a=Jt("fetch","settings",r);throw console.error(a),new Error(a)}},yE=async(t,r)=>{const{error:a}=await t.from("settings").update({gemini_api_key:r}).eq("id",1);if(a){const i=Jt("update Gemini API key in","settings",a);throw console.error(i),new Error(i)}},zg=({supabaseClient:t,onClose:r})=>{const[a,i]=F.useState("login"),[s,u]=F.useState(""),[c,h]=F.useState(""),[p,m]=F.useState(""),[x,y]=F.useState(!0),[v,b]=F.useState(!1),[j,N]=F.useState("");F.useEffect(()=>{const E=Y=>{Y.key==="Escape"&&r()};return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[r]),F.useEffect(()=>{const E=localStorage.getItem("rememberedEmail");E?(u(E),y(!0)):y(!1)},[]);const C=E=>/^\S+@\S+\.\S+$/.test(E),T=async E=>{if(E.preventDefault(),b(!0),N(""),!C(s)){N("Please enter a valid email address."),b(!1);return}if(c.length<6){N("Password must be at least 6 characters."),b(!1);return}if(a==="register"&&p.trim().length<2){N("Name must be at least 2 characters."),b(!1);return}try{a==="login"?(await aE(t,{email:s,password:c}),x?localStorage.setItem("rememberedEmail",s):localStorage.removeItem("rememberedEmail")):await rE(t,{email:s,password:c,nama:p})}catch(Y){N(Y.message||"An unexpected error occurred.")}finally{b(!1)}},O=()=>{i(a==="login"?"register":"login"),N(""),h(""),m("")};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:E=>E.stopPropagation(),children:[d.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:d.jsx(gn,{className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:a==="login"?"Welcome Back":"Create Account"}),d.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:a==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),d.jsxs("form",{onSubmit:T,className:"mt-8 space-y-6",children:[a==="register"&&d.jsxs("div",{children:[d.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:p,onChange:E=>m(E.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:E=>u(E.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:a==="login"?"current-password":"new-password",required:!0,value:c,onChange:E=>h(E.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),a==="login"&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:E=>y(E.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),j&&d.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:j}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:v?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):a==="login"?"Sign in":"Register"})})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[a==="login"?"Don't have an account?":"Already have an account?",d.jsx("button",{onClick:O,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:a==="login"?"Register":"Sign in"})]})})]})})},bE=({initialCapital:t,supabaseClient:r,user:a,userProfile:i,geminiApiKey:s,apiStatus:u,onApiKeyUpdate:c,onCapitalUpdate:h,onProfileUpdate:p,onWithdraw:m})=>{const[x,y]=F.useState(s),[v,b]=F.useState(!1),[j,N]=F.useState(""),[C,T]=F.useState(!1),[O,E]=F.useState(String(t)),[Y,V]=F.useState(!1),[D,te]=F.useState(""),[oe,de]=F.useState(!1),[U,z]=F.useState(""),[G,K]=F.useState(!1),[W,ie]=F.useState(""),[M,I]=F.useState(!1),[le,he]=F.useState(""),[k,$]=F.useState(""),[ee,_]=F.useState(!1),[se,xe]=F.useState(""),[ce,Ie]=F.useState(!1);F.useEffect(()=>{i&&(he(i.nama||""),$(i.describe||""))},[i]),F.useEffect(()=>{E(String(t))},[t]),F.useEffect(()=>{y(s)},[s]);const Te=async()=>{if(b(!0),N(""),T(!1),!x.trim()){N("API Key cannot be empty."),T(!0),b(!1),setTimeout(()=>N(""),5e3);return}try{await c(x),N("API Key updated and verified successfully!"),T(!1)}catch(je){const lt=je instanceof Error?je.message:"Failed to save or verify API key.";N(lt),T(!0)}finally{b(!1),setTimeout(()=>N(""),5e3)}},nt=async()=>{if(V(!0),te(""),de(!1),!r||!a){te("You must be logged in to save settings."),de(!0),V(!1);return}const je=Number(O);if(isNaN(je)||je<0){te("Please enter a valid positive number."),de(!0),V(!1);return}try{await my(r,a.id,je),h(je),te("Base capital updated successfully!"),de(!1),setTimeout(()=>te(""),3e3)}catch(lt){const vt=lt instanceof Error?lt.message:"Failed to save capital to the database.";te(vt),de(!0)}finally{V(!1)}},rt=async()=>{K(!0),ie(""),I(!1);const je=Number(U);if(isNaN(je)||je<=0){ie("Please enter a valid positive withdrawal amount."),I(!0),K(!1);return}if(je>t){ie("Withdrawal amount cannot exceed your current capital."),I(!0),K(!1);return}try{await m(je),ie("Withdrawal successful!"),I(!1),z(""),setTimeout(()=>ie(""),3e3)}catch(lt){const vt=lt instanceof Error?lt.message:"Failed to process withdrawal.";ie(vt),I(!0)}finally{K(!1)}},jt=async()=>{if(_(!0),xe(""),Ie(!1),!r||!a){xe("You must be logged in to save settings."),Ie(!0),_(!1);return}if(le.trim().length<2){xe("Name must be at least 2 characters."),Ie(!0),_(!1);return}if(k.length>200){xe("Description cannot exceed 200 characters."),Ie(!0),_(!1);return}try{await oE(r,a.id,le,k),p({name:le,description:k}),xe("Profile updated successfully!"),Ie(!1),setTimeout(()=>xe(""),3e3)}catch(je){const lt=je instanceof Error?je.message:"Failed to save profile to the database.";xe(lt),Ie(!0)}finally{_(!1)}};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),d.jsxs("main",{className:"space-y-8",children:[d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:le,onChange:je=>he(je.target.value),placeholder:"Your Name",disabled:!r||!a||ee})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),d.jsx("div",{className:"mt-1",children:d.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:k,onChange:je=>$(je.target.value),placeholder:"A short bio about your trading style",disabled:!r||!a||ee})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:jt,disabled:!r||!a||ee,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:ee?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),d.jsx("div",{className:"h-5 mt-2",children:se&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${ce?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ce?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(Nr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:se})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (GPT-4o)"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your GPT-4o (OpenAI) API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),d.jsxs("div",{className:"space-y-4 max-w-xl",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),d.jsx("div",{className:"mt-1 flex items-center gap-2",children:d.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:x,onChange:je=>y(je.target.value),placeholder:"Enter your GPT-4o API Key",disabled:!r||!a||v})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:Te,disabled:!r||!a||v||u==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v||u==="verifying"?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),d.jsx("div",{className:"h-5 mt-2",children:j&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${C?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[C?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(Nr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:j})]})})]})]})]}),d.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!r||!a)&&"opacity-50"}`,children:[d.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),d.jsxs("div",{className:"max-w-xl",children:[d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),d.jsx("input",{type:"number",id:"initialCapital",disabled:!r||!a||Y,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:O,onChange:je=>E(je.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:nt,disabled:!r||!a||Y,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:Y?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),d.jsx("div",{className:"h-5 mt-2",children:D&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${oe?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[oe?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(Nr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:D})]})})]}),d.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),d.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!r||!a||G,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:U,onChange:je=>z(je.target.value)})]}),d.jsxs("div",{className:"mt-4 flex flex-col",children:[d.jsx("button",{onClick:rt,disabled:!r||!a||G||!U,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:G?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),d.jsx("div",{className:"h-5 mt-2",children:W&&d.jsxs("div",{className:`flex items-center gap-2 text-sm ${M?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[M?d.jsx(gn,{className:"w-5 h-5"}):d.jsx(Nr,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium whitespace-pre-wrap",children:W})]})})]})]})]})]})]})]})},Zs=[{id:1,time:"00:30",currency:"AUD",flag:"",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],vE=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),d.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),wE=()=>{const[t,r]=F.useState("today"),a=F.useMemo(()=>{switch(t){case"today":return Zs.slice(0,10);case"tomorrow":return Zs.slice(10);case"thisWeek":return Zs;case"nextWeek":return[];default:return Zs}},[t]),i=({buttonFilter:c,children:h})=>d.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===c?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),s=({count:c})=>d.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,p)=>d.jsx("svg",{className:`w-4 h-4 ${p<c?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),u=({value:c,better:h})=>{const p=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return d.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${p}`,children:c||"-"})};return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),d.jsx(vE,{}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[d.jsx(i,{buttonFilter:"today",children:"Today"}),d.jsx(i,{buttonFilter:"tomorrow",children:"Tomorrow"}),d.jsx(i,{buttonFilter:"thisWeek",children:"This Week"}),d.jsx(i,{buttonFilter:"nextWeek",children:"Next Week"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.length>0?a.map(c=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.time}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{children:c.flag}),d.jsx("span",{children:c.currency})]})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx(s,{count:c.importance})}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:c.event}),d.jsx(u,{value:c.actual,better:c.betterThanForecast}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.forecast||"-"}),d.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:c.previous||"-"})]},c.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},Dd=({isOpen:t,onClose:r,onConfirm:a,title:i,message:s,confirmText:u="Confirm",cancelText:c="Cancel",isDestructive:h=!1,isLoading:p=!1})=>{if(F.useEffect(()=>{const v=b=>{b.key==="Escape"&&r()};return t&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[t,r]),!t)return null;const m=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",x=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=h?d.jsx(qg,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):d.jsx(co,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[d.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${x}`,children:y}),d.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),d.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[d.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:a,disabled:p,children:p?d.jsx(Wr,{className:"w-5 h-5 animate-spin"}):u}),d.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:r,disabled:p,children:c})]})]})})},kE=t=>t?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${t.toLowerCase()}.svg`:"",od="https://via.placeholder.com/32x32?text=?",SE=({userId:t,assets:r,onAssetAdded:a,onAssetUpdated:i,onAssetDeleted:s})=>{const[u,c]=F.useState(!1),[h,p]=F.useState(null),[m,x]=F.useState(!1),[y,v]=F.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[b,j]=F.useState(null),[N,C]=F.useState(null),[T,O]=F.useState(!1),E=()=>{v({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),c(!1),p(null)},Y=z=>{const{name:G,value:K}=z.target;if(G==="symbol")v(W=>({...W,symbol:K.toUpperCase()}));else if(G==="amount"){const W=K.replace(/[^0-9eE.-]/g,"");v(ie=>({...ie,amount:W}))}else v(W=>({...W,[G]:G==="avgBuyPrice"||G==="currentPrice"?parseFloat(K)||0:K}))},V=async z=>{if(z.preventDefault(),j(null),!_r){j("Database connection not available");return}const G=parseFloat(y.amount);if(isNaN(G)||G<0){j("Amount harus berupa angka valid dan lebih dari 0");return}x(!0);try{const K=kE(y.symbol)||od;console.log("[DEBUG] Mulai handleSubmit",{formData:y,parsedAmount:G,logoUrl:K,userId:t}),h?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await mE(_r,h.id,{amount:G,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice,logo_url:K},t),console.log("[DEBUG] Setelah updatePortfolioAsset"),i()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:K,amount:G,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),await hE(_r,{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:K,amount:G,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},t),console.log("[DEBUG] Setelah addPortfolioAsset"),a()),E()}catch(K){console.error("[DEBUG] Error saving asset:",K),j("Gagal menyimpan asset: "+((K==null?void 0:K.message)||K))}finally{x(!1),console.log("[DEBUG] Selesai handleSubmit")}},D=z=>{p(z),v({symbol:z.symbol,name:z.name,amount:z.amount.toString(),avgBuyPrice:z.avgBuyPrice,currentPrice:z.currentPrice,category:z.category??""})},te=z=>{C(z),O(!0)},oe=async()=>{if(!(!_r||!(N!=null&&N.id))){x(!0);try{await pE(_r,N.id,t),s(),O(!1),C(null)}catch(z){console.error("Error deleting asset:",z),alert("Error deleting asset. Please try again.")}finally{x(!1)}}},de=()=>{O(!1),C(null)},U=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(z);return d.jsxs("div",{className:"space-y-6",children:[b&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:b}),d.jsx("button",{onClick:()=>j(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),!u&&!h&&d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(u||h)&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:h?"Edit Asset":"Add New Asset"}),d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),d.jsx("input",{type:"text",name:"symbol",value:y.symbol,onChange:Y,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),d.jsx("input",{type:"text",name:"name",value:y.name,onChange:Y,required:!0,disabled:!!h,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),d.jsx("input",{type:"text",name:"amount",value:y.amount,onChange:Y,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),d.jsx("input",{type:"number",name:"avgBuyPrice",value:y.avgBuyPrice,onChange:Y,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),d.jsx("input",{type:"number",name:"currentPrice",value:y.currentPrice,onChange:Y,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),d.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:y.category,onChange:z=>v({...y,category:z.target.value}),required:!0,children:[d.jsx("option",{value:"Crypto",children:"Crypto"}),d.jsx("option",{value:"Saham",children:"Saham"}),d.jsx("option",{value:"Gold",children:"Gold"}),d.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":h?"Update Asset":"Add Asset"}),d.jsx("button",{type:"button",onClick:E,disabled:m,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),r.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",r.length,")"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.map(z=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:z.logoUrl||od,alt:z.name,className:"h-8 w-8 rounded-full mr-3",onError:G=>{G.currentTarget.src=od}}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:z.name}),d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:z.symbol})]})]})}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:z.amount.toLocaleString()}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(z.avgBuyPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(z.currentPrice)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:U(z.value??0)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsxs("span",{className:(z.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(z.totalPl??0)>=0?"+":"",U(z.totalPl??0)]})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex justify-center gap-2",children:[d.jsx("button",{onClick:()=>D(z),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("button",{onClick:()=>te(z),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},z.id))})]})})]}),r.length===0&&!u&&!h&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),d.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),d.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),d.jsx("div",{className:"mt-6",children:d.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),d.jsx(Dd,{isOpen:T,onClose:de,onConfirm:oe,title:"Delete Asset",message:`Are you sure you want to delete ${N==null?void 0:N.name} (${N==null?void 0:N.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:m})]})},ud=({label:t,value:r,subvalue:a,valueColor:i})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),d.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:r}),a&&d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:a})]}),jE=()=>d.jsxs("div",{className:"space-y-4 animate-pulse",children:[d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),d.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),_E=()=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-3",children:d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[d.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),d.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),NE=({apiKey:t,apiStatus:r,portfolioData:a,updateTokenUsage:i,userId:s})=>{const[u,c]=F.useState(""),[h,p]=F.useState(!1),[m,x]=F.useState(""),[y,v]=F.useState(!1),[b,j]=F.useState(!1),[N,C]=F.useState(a),[T,O]=F.useState(!1),[E,Y]=F.useState(null),V=(I,le=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:le,maximumFractionDigits:le}).format(I),D=F.useCallback(async()=>{if(!s){C(null),Y("Anda harus login untuk melihat portfolio.");return}j(!0),Y(null);try{const I=await gE(_r,s);C(I)}catch(I){console.error("Error fetching portfolio data:",I),C(null),Y("Gagal mengambil data portfolio: "+((I==null?void 0:I.message)||I))}finally{j(!1)}},[s]),te=F.useCallback(async I=>{if(r!=="valid"){c("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),p(!1);return}p(!0);try{const{analysisText:le,usage:he}=await G_(t,N,I);c(le),i(he)}catch(le){console.error("Failed to get AI financial advice:",le);const he=le instanceof Error?le.message:String(le);let k="Terjadi kesalahan saat mengambil saran keuangan AI.";he.toLowerCase().includes("quota")||he.toLowerCase().includes("rate limit")?k="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":he.toLowerCase().includes("api key")||he.toLowerCase().includes("unauthorized")?k="API key tidak valid. Silakan periksa pengaturan API key Anda.":he.toLowerCase().includes("network")||he.toLowerCase().includes("fetch")?k="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":he.toLowerCase().includes("invalid response")||he.toLowerCase().includes("format")?k="Format respons AI tidak valid. Silakan coba lagi.":he.toLowerCase().includes("portfolio data")?k="Data portfolio tidak tersedia. Silakan muat ulang halaman.":he.toLowerCase().includes("timeout")?k="Request timeout. Silakan coba lagi.":k=`Error: ${he}`,c(k)}finally{p(!1)}},[t,r,N,i]);F.useEffect(()=>{if(!s){C(null),Y("Anda harus login untuk melihat portfolio.");return}D()},[D,s]),F.useEffect(()=>{N&&!y&&(te("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[N,te,y]);const oe=I=>{I.preventDefault(),m.trim()&&te(m)};if(!s)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(b)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!N)return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),d.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:de,totalPl:U,pl24h:z,pl24hPercent:G,assets:K}=N,W=U>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",ie=z>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",M=z>=0?"+":"";return d.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[E&&d.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[d.jsx("span",{className:"block sm:inline",children:E}),d.jsx("button",{onClick:()=>Y(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),d.jsxs("header",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),d.jsxs("button",{onClick:()=>O(!T),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),T?"Hide Manager":"Manage Assets"]})]}),T&&s&&d.jsx(SE,{userId:s,assets:K,onAssetAdded:D,onAssetUpdated:D,onAssetDeleted:D}),d.jsx(_E,{}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(ud,{label:"Total Portfolio Value",value:V(de),subvalue:"Across all tracked assets"}),d.jsx(ud,{label:"Total Profit / Loss",value:V(U),valueColor:W,subvalue:"Represents overall unrealized P/L"}),d.jsx(ud,{label:"24-Hour Change",value:`${M}${V(z)}`,valueColor:ie,subvalue:`${M}${G.toFixed(2)}%`})]}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[d.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),d.jsx("tbody",{children:K.map(I=>d.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[d.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[d.jsx("img",{src:I.logoUrl,alt:I.name,className:"h-8 w-8"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:I.name}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.symbol})]})]}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:I.amount.toLocaleString()}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:V(I.currentPrice,2)})]}),d.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:V(I.avgBuyPrice,2)}),d.jsxs("td",{className:"px-4 py-4 text-right",children:[d.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:V(I.value??0)}),d.jsxs("p",{className:`text-xs font-semibold ${(I.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[(I.totalPl??0)>=0?"+":"",V(I.totalPl??0)]})]})]},I.symbol))})]})})]}),d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(no,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:m,onChange:I=>x(I.target.value),onKeyPress:I=>{I.key==="Enter"&&oe(I)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),d.jsx("button",{onClick:oe,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:d.jsx(no,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),h?d.jsx(jE,{}):d.jsx("div",{className:"prose dark:prose-invert",children:d.jsx(Kd,{remarkPlugins:[ef],children:u})})]})]})]})]})},Ug=()=>d.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[d.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:d.jsx(Iv,{className:"h-8 w-8 text-red-400"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),d.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),d.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),d.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[d.jsxs("li",{children:[d.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),d.jsxs("li",{children:["Go to your ",d.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),d.jsxs("li",{children:["Navigate to: ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),d.jsxs("li",{children:["Find the ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),d.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",d.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),d.jsxs("li",{children:["Click ",d.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[d.jsx(Yv,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),Bg={scalp:{title:"Scalp Trading",icon:d.jsx(to,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:d.jsx(cd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:d.jsx(ro,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:d.jsx(dd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},EE=()=>d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(qg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 dark:text-yellow-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200 leading-relaxed",children:[d.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),d.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),AE=({text:t})=>d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 sm:p-4 rounded-lg",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(co,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 dark:text-blue-500"})}),d.jsx("div",{className:"ml-2 sm:ml-3",children:d.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:t})})]})}),Pg=({tabName:t,activeTab:r,setActiveTab:a,children:i})=>d.jsx("button",{onClick:()=>a(t),className:`px-3 sm:px-6 py-2 text-xs sm:text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${r===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:i});function TE(t){return t==="home"}function CE(){const[t,r]=F.useState("light"),[a,i]=F.useState("home"),[s,u]=F.useState("all"),[c,h]=F.useState(!1),[p,m]=F.useState(null),[x,y]=F.useState(null),[v,b]=F.useState(null),[j,N]=F.useState(!1),[C,T]=F.useState(""),[O,E]=F.useState("idle"),[Y,V]=F.useState(1e4),[D,te]=F.useState(0),[oe,de]=F.useState(0),[U,z]=F.useState("setup"),[G,K]=F.useState(!1),[W,ie]=F.useState(!1),[M,I]=F.useState(null),[le,he]=F.useState(!1),[k,$]=F.useState(null),[ee,_]=F.useState([]),[se,xe]=F.useState(Bg.scalp.initialRiskParams),[ce,Ie]=F.useState(!1),[Te,nt]=F.useState(null),[rt,jt]=F.useState(null),[je,lt]=F.useState(null);F.useEffect(()=>{const ae=localStorage.getItem("activeMode");ae&&ae!=="home"&&i(ae)},[]),F.useEffect(()=>{a!=="home"&&localStorage.setItem("activeMode",a)},[a]),F.useEffect(()=>{const ae=localStorage.getItem("activeTab");ae&&z(ae)},[]),F.useEffect(()=>{localStorage.setItem("activeTab",U)},[U]),F.useEffect(()=>{k?localStorage.setItem("currentAnalysis",JSON.stringify(k)):localStorage.removeItem("currentAnalysis")},[k]),F.useEffect(()=>{const ae=localStorage.getItem("currentAnalysis");if(ae)try{const ue=JSON.parse(ae);$(ue)}catch(ue){console.error("Failed to parse saved analysis:",ue),localStorage.removeItem("currentAnalysis")}},[]),F.useEffect(()=>{localStorage.setItem("riskParams",JSON.stringify(se))},[se]),F.useEffect(()=>{const ae=localStorage.getItem("riskParams");if(ae)try{const ue=JSON.parse(ae);xe(ue)}catch(ue){console.error("Failed to parse saved risk params:",ue),localStorage.removeItem("riskParams")}},[]),F.useEffect(()=>{const ae=()=>{if(!document.hidden){const ue=localStorage.getItem("activeMode");ue&&ue!==a&&ue!=="home"&&i(ue)}};return document.addEventListener("visibilitychange",ae),()=>{document.removeEventListener("visibilitychange",ae)}},[a]),F.useEffect(()=>{a==="dashboard"&&u("all")},[a]);const vt=F.useCallback(ae=>{const ue=ae instanceof Error?ae.message:String(ae);ue.includes("Cross-Origin Resource Sharing")?(he(!0),console.error(ae)):I(ue)},[]),Gn=F.useCallback(async ae=>{if(!ae){E("idle"),T("");return}T(ae),E("verifying");const ue=await Y_(ae);E(ue?"valid":"invalid")},[]),{netPL:Yn}=F.useMemo(()=>({netPL:ee.filter(be=>be.status!=="pending"&&be.outcomeAmount!==void 0).reduce((be,ke)=>ke.status==="profit"?be+(ke.outcomeAmount||0):ke.status==="stop-loss"?be-(ke.outcomeAmount||0):be,0)}),[ee]),st=F.useMemo(()=>Y+Yn,[Y,Yn]);F.useEffect(()=>{m(_r);const ae=_r;if(ae){const ue=lE(ae,async be=>{const ke=(be==null?void 0:be.user)??null;if(ke){const Ce=await sE(ae,ke.id);Ce?(y(ke),b(Ce),Ce.initial_trade&&V(Ce.initial_trade),N(!1)):(console.error(`User ${ke.id} authenticated but has no profile in 'public.users'. Logging out.`),vt("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await iE(ae))}else y(null),b(null),_([]),V(1e4),T(""),E("idle"),["dashboard","scalp","swing","day","position","settings","portfolio"].includes(a)&&i("home")});return()=>ue.unsubscribe()}},[vt,a]),F.useEffect(()=>{const ae=localStorage.getItem("theme");ae&&r(ae);const ue=localStorage.getItem("totalTokens");ue&&de(Number(ue)),p&&(async()=>{if(!p){I("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(x){const[ke,Ce]=await Promise.all([Mg(p,x.id),xE(p)]);_(ke),Ce!=null&&Ce.gemini_api_key&&await Gn(Ce.gemini_api_key)}I(null)}catch(ke){vt(ke)}})()},[p,x,vt,Gn]);const oi=async ae=>{if(!p)throw new Error("Database client not available.");await yE(p,ae),await Gn(ae)},Tr=F.useCallback(ae=>{V(ae)},[]),Cr=F.useCallback(ae=>{b(ue=>ue?{...ue,nama:ae.name,describe:ae.description}:null)},[]),Vn=async ae=>{if(!p||!x)throw new Error("You must be logged in to make a withdrawal.");const ue=Y-ae;if(ue<0)throw new Error("Withdrawal amount exceeds available capital.");await my(p,x.id,ue),V(ue)};F.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),F.useEffect(()=>{localStorage.setItem("totalTokens",String(oe))},[oe]),F.useEffect(()=>{xe(ae=>({...ae,currentEquity:st,accountBalance:String(st.toFixed(2))}))},[st]);const ui=ae=>ee.filter(ue=>ue.mode===ae),ra=Qx(ee),Qn=ae=>{if(["scalp","day","swing","position"].includes(ae)&&ra.stressLevel>=7){nt(ae),Ie(!0);return}i(ae)},Rr=ae=>{te(ue=>ue+ae.total),de(ue=>ue+ae.total)},Q=F.useCallback(async ae=>{if(a==="dashboard"||a==="home"||a==="settings"||a==="economic-calendar"||a==="portfolio")return;if(!p){I("Not connected to database. Please check settings."),i("settings");return}if(!x){I("You must be logged in to analyze a chart."),N(!0);return}if(O!=="valid"){I("Your Gemini API key is not valid. Please check it in Settings."),i("settings");return}if(G){console.log("Analysis already in progress, ignoring new request");return}const ue=a;K(!0),I(null),$(null);try{const{analysis:be,usage:ke}=await $_(C,ae,se,ue,st);if(Rr(ke),!be||!be.tradeSetup||!be.marketTrend||!be.tradeBias)throw new Error("AI response format is invalid. The analysis data is incomplete.");const Ce=await new Promise((Xn,yn)=>{const bn=new FileReader;bn.onloadend=()=>{try{const Kn=bn.result;Xn(Kn)}catch{yn(new Error("Failed to process image file"))}},bn.onerror=()=>yn(new Error("Failed to read image file")),bn.readAsDataURL(ae)});try{const Xn={...be,mode:ue,image:Ce,status:"pending"},yn=await uE(p,Xn,x.id);_(bn=>[yn,...bn]),$(yn)}catch(Xn){console.error("Database save error:",Xn);const yn={...be,id:`temp-${Date.now()}`,timestamp:new Date().toISOString(),mode:ue,image:Ce,status:"pending"};$(yn),I("Analysis completed but failed to save to database. Please try again.")}}catch(be){console.error("Chart analysis error:",be);const ke=be instanceof Error?be.message:String(be);let Ce="Terjadi kesalahan saat menganalisis chart.";ke.toLowerCase().includes("quota")||ke.toLowerCase().includes("rate limit")?Ce="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":ke.toLowerCase().includes("api key")||ke.toLowerCase().includes("unauthorized")?Ce="API key tidak valid. Silakan periksa pengaturan API key Anda.":ke.toLowerCase().includes("network")||ke.toLowerCase().includes("fetch")?Ce="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":ke.toLowerCase().includes("invalid response")||ke.toLowerCase().includes("format")?Ce="Format respons AI tidak valid. Silakan coba lagi.":ke.toLowerCase().includes("image")||ke.toLowerCase().includes("file")?Ce="Gagal memproses file gambar. Pastikan file valid dan coba lagi.":ke.toLowerCase().includes("timeout")?Ce="Request timeout. Silakan coba lagi.":ke.toLowerCase().includes("incomplete")?Ce="Data analisis tidak lengkap. Silakan coba lagi dengan gambar yang berbeda.":Ce=`Error: ${ke}`,I(Ce),$(null)}finally{K(!1)}},[C,O,se,a,p,x,vt,st,G]),ne=()=>{$(null),I(null),localStorage.removeItem("currentAnalysis")},pe=async(ae,ue,be)=>{if(!p||!x){I("Database not connected. Cannot save result.");return}try{await cE(p,ae,ue,be,x.id);const ke=await Mg(p,x.id);_(ke),k&&k.id===ae&&$(Ce=>Ce?{...Ce,status:ue,outcomeAmount:be}:null)}catch(ke){vt(ke)}},ye=ae=>{$(ae),z("setup")},Pe=ae=>{lt(ae)},_t=async()=>{if(!je||!p||!x){I("Could not delete trade. Missing information.");return}ie(!0),I(null);try{await dE(p,je.id,x.id),_(ae=>ae.filter(ue=>ue.id!==je.id)),(k==null?void 0:k.id)===je.id&&$(null)}catch(ae){vt(ae)}finally{ie(!1),lt(null)}};F.useEffect(()=>{if(M){const ae=setTimeout(()=>I(null),1e4);return()=>clearTimeout(ae)}},[M]);const cn=ae=>{try{const ue=Bg[ae],be=ui(ae);return d.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6",children:[d.jsxs("header",{children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:ue.title}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:ue.subtitle})]}),ue.description&&d.jsx(AE,{text:ue.description}),d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 border border-blue-200 dark:border-blue-700 p-4 sm:p-6 rounded-lg",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Recommended Timeframe"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:ue.calculator.timeframeSettings.text})]})]})}),ae==="swing"&&d.jsx(EE,{}),d.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8",children:[d.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[M&&d.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error"})]}),d.jsx("p",{className:"text-red-700 dark:text-red-300 mt-1",children:M})]}),G?d.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-violet-600 dark:border-violet-400"}),d.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]}):k?d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),d.jsxs("button",{onClick:ne,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),d.jsx(__,{analysis:k,riskParams:se,onBackToUploader:ne})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center mb-1",children:[d.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:ue.icon}),d.jsx("h2",{className:"ml-3 text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100",children:ue.title})]}),d.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mb-6 ml-9 sm:ml-11",children:ue.subtitle}),d.jsx(Zv,{onImageSelect:Q,isLoading:G})]})]})}),d.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[k&&k.status==="pending"&&d.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[d.jsxs("button",{onClick:()=>jt({analysisId:k.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[d.jsx(Nr,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),d.jsxs("button",{onClick:()=>jt({analysisId:k.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[d.jsx(gn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),d.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-4 sm:px-6",children:[d.jsx(Pg,{tabName:"setup",activeTab:U,setActiveTab:z,children:"Trade Setup"}),d.jsx(Pg,{tabName:"history",activeTab:U,setActiveTab:z,children:"History"})]}),d.jsx("div",{className:"flex-1 min-h-0",children:U==="setup"?d.jsx("div",{className:"h-full overflow-y-auto",children:d.jsx(Jv,{params:se,timeframeSettings:ue.calculator.timeframeSettings})}):(()=>{console.log("HistoryPanel: currentHistory length:",be==null?void 0:be.length),console.log("HistoryPanel: currentHistory data:",be),console.log("HistoryPanel: currentAnalysisId:",k==null?void 0:k.id);try{return d.jsx(E_,{history:be,onSelect:ye,onDeleteRequest:Pe,currentAnalysisId:k==null?void 0:k.id})}catch(ke){return console.error("Error rendering HistoryPanel:",ke),d.jsxs("div",{className:"p-6 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[d.jsx(Js,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),d.jsxs("div",{className:"text-center py-10 flex-1",children:[d.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error loading history"}),d.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please try refreshing the page."}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})}})()})]})]})]})}catch(ue){return console.error("Error rendering trading view:",ue),d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Error Loading Trading View"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Something went wrong while loading the trading interface."}),d.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})}},Nt=()=>{if(G)return d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})});if(!p&&a!=="home")return d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),d.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(a){case"dashboard":return d.jsx(X_,{updateTokenUsage:Rr,apiKey:C,apiStatus:O,allTrades:ee,mode:s,setDashboardSource:u,initialCapital:Y,netPL:Yn,currentEquity:st});case"settings":return d.jsx(bE,{initialCapital:Y,supabaseClient:p,user:x,userProfile:v,geminiApiKey:C,apiStatus:O,onApiKeyUpdate:oi,onCapitalUpdate:Tr,onProfileUpdate:Cr,onWithdraw:Vn});case"economic-calendar":return d.jsx(wE,{});case"portfolio":return d.jsx(NE,{apiKey:C,apiStatus:O,portfolioData:null,updateTokenUsage:Rr,userId:(x==null?void 0:x.id)??""});case"scalp":case"swing":case"day":case"position":return cn(a);default:return null}};return a==="home"?d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[le&&d.jsx(Ug,{}),rt&&d.jsx(lg,{type:rt.type,onSave:ae=>pe(rt.analysisId,rt.type,ae),onClose:()=>jt(null)}),je&&d.jsx(Dd,{isOpen:!!je,onClose:()=>lt(null),onConfirm:_t,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:je.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:je.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(je.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:W}),j&&p&&d.jsx(zg,{supabaseClient:p,onClose:()=>N(!1)}),M&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:M})]}),d.jsx("button",{onClick:()=>I(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),ce&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-8 max-w-md w-full text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:" Psychology Warning"}),d.jsx("p",{className:"mb-6 text-slate-700 dark:text-slate-200",children:"Kondisi psikologi Anda saat ini kurang ideal untuk trading (stress level tinggi). Hindari overtrade, pastikan emosi stabil sebelum entry."}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100 font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition",onClick:()=>{Ie(!1),i("dashboard"),nt(null)},children:"Kembali ke Dashboard"}),d.jsx("button",{className:"px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>{Ie(!1),Te&&i(Te),nt(null)},children:"Abaikan"})]})]})}),d.jsx(ug,{onNavigate:Qn,user:x,onLoginClick:()=>N(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),showUserIcon:!1,activeMode:a}),d.jsx("main",{className:"flex-1 overflow-hidden",children:d.jsx(e4,{onNavigate:Qn})})]}):d.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[le&&d.jsx(Ug,{}),rt&&d.jsx(lg,{type:rt.type,onSave:ae=>pe(rt.analysisId,rt.type,ae),onClose:()=>jt(null)}),je&&d.jsx(Dd,{isOpen:!!je,onClose:()=>lt(null),onConfirm:_t,title:"Delete Trade Analysis",message:d.jsxs("p",{children:["Are you sure you want to delete this signal? ",d.jsx("br",{}),d.jsx("span",{className:"font-semibold",children:je.tradeSetup.tradeType})," for ",d.jsx("span",{className:"font-semibold",children:je.keyPattern})," from ",d.jsx("span",{className:"font-mono text-xs",children:new Date(je.timestamp).toLocaleString()}),".",d.jsx("br",{}),d.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:W}),j&&p&&d.jsx(zg,{supabaseClient:p,onClose:()=>N(!1)}),M&&d.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("strong",{className:"font-bold",children:"Error! "}),d.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:M})]}),d.jsx("button",{onClick:()=>I(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),d.jsx(ug,{onNavigate:Qn,user:x,onLoginClick:()=>N(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),onMobileMenuToggle:()=>h(!c),showUserIcon:!TE(a),activeMode:a}),d.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[d.jsx(A_,{activeMode:a,onModeChange:Qn,theme:t,setTheme:r,apiStatus:O,sessionTokens:D,totalTokens:oe,isMobileMenuOpen:c,onMobileMenuToggle:()=>h(!c)}),d.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-hidden",children:Nt()})]})]})}const py=document.getElementById("root");if(!py)throw new Error("Could not find root element to mount to");const RE=Pv.createRoot(py);RE.render(d.jsx(eo.StrictMode,{children:d.jsx(CE,{})}));
