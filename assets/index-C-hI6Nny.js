(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Vl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var ad={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function ow(){if(Up)return vl;Up=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:o}}return vl.Fragment=n,vl.jsx=r,vl.jsxs=r,vl}var Bp;function uw(){return Bp||(Bp=1,ad.exports=ow()),ad.exports}var f=uw(),id={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function cw(){if(Ip)return Ae;Ip=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function j(S,H,I){this.props=S,this.context=H,this.refs=E,this.updater=I||b}j.prototype.isReactComponent={},j.prototype.setState=function(S,H){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,H,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function k(){}k.prototype=j.prototype;function A(S,H,I){this.props=S,this.context=H,this.refs=E,this.updater=I||b}var T=A.prototype=new k;T.constructor=A,w(T,j.prototype),T.isPureReactComponent=!0;var N=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function G(S,H,I,R,se,he){return I=he.ref,{$$typeof:e,type:S,key:H,ref:I!==void 0?I:null,props:he}}function F(S,H){return G(S.type,H,void 0,void 0,void 0,S.props)}function W(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function P(S){var H={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(I){return H[I]})}var q=/\/+/g;function V(S,H){return typeof S=="object"&&S!==null&&S.key!=null?P(""+S.key):H.toString(36)}function Z(){}function ae(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Z,Z):(S.status="pending",S.then(function(H){S.status==="pending"&&(S.status="fulfilled",S.value=H)},function(H){S.status==="pending"&&(S.status="rejected",S.reason=H)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ce(S,H,I,R,se){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var z=!1;if(S===null)z=!0;else switch(he){case"bigint":case"string":case"number":z=!0;break;case"object":switch(S.$$typeof){case e:case n:z=!0;break;case g:return z=S._init,ce(z(S._payload),H,I,R,se)}}if(z)return se=se(S),z=R===""?"."+V(S,0):R,N(se)?(I="",z!=null&&(I=z.replace(q,"$&/")+"/"),ce(se,H,I,"",function(me){return me})):se!=null&&(W(se)&&(se=F(se,I+(se.key==null||S&&S.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+z)),H.push(se)),1;z=0;var ee=R===""?".":R+":";if(N(S))for(var ue=0;ue<S.length;ue++)R=S[ue],he=ee+V(R,ue),z+=ce(R,H,I,he,se);else if(ue=v(S),typeof ue=="function")for(S=ue.call(S),ue=0;!(R=S.next()).done;)R=R.value,he=ee+V(R,ue++),z+=ce(R,H,I,he,se);else if(he==="object"){if(typeof S.then=="function")return ce(ae(S),H,I,R,se);throw H=String(S),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return z}function B(S,H,I){if(S==null)return S;var R=[],se=0;return ce(S,R,"","",function(he){return H.call(I,he,se++)}),R}function X(S){if(S._status===-1){var H=S._result;H=H(),H.then(function(I){(S._status===0||S._status===-1)&&(S._status=1,S._result=I)},function(I){(S._status===0||S._status===-1)&&(S._status=2,S._result=I)}),S._status===-1&&(S._status=0,S._result=H)}if(S._status===1)return S._result.default;throw S._result}var oe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function te(){}return Ae.Children={map:B,forEach:function(S,H,I){B(S,function(){H.apply(this,arguments)},I)},count:function(S){var H=0;return B(S,function(){H++}),H},toArray:function(S){return B(S,function(H){return H})||[]},only:function(S){if(!W(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ae.Component=j,Ae.Fragment=r,Ae.Profiler=s,Ae.PureComponent=A,Ae.StrictMode=i,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return O.H.useMemoCache(S)}},Ae.cache=function(S){return function(){return S.apply(null,arguments)}},Ae.cloneElement=function(S,H,I){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var R=w({},S.props),se=S.key,he=void 0;if(H!=null)for(z in H.ref!==void 0&&(he=void 0),H.key!==void 0&&(se=""+H.key),H)!D.call(H,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&H.ref===void 0||(R[z]=H[z]);var z=arguments.length-2;if(z===1)R.children=I;else if(1<z){for(var ee=Array(z),ue=0;ue<z;ue++)ee[ue]=arguments[ue+2];R.children=ee}return G(S.type,se,void 0,void 0,he,R)},Ae.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Ae.createElement=function(S,H,I){var R,se={},he=null;if(H!=null)for(R in H.key!==void 0&&(he=""+H.key),H)D.call(H,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(se[R]=H[R]);var z=arguments.length-2;if(z===1)se.children=I;else if(1<z){for(var ee=Array(z),ue=0;ue<z;ue++)ee[ue]=arguments[ue+2];se.children=ee}if(S&&S.defaultProps)for(R in z=S.defaultProps,z)se[R]===void 0&&(se[R]=z[R]);return G(S,he,void 0,void 0,null,se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(S){return{$$typeof:d,render:S}},Ae.isValidElement=W,Ae.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:X}},Ae.memo=function(S,H){return{$$typeof:h,type:S,compare:H===void 0?null:H}},Ae.startTransition=function(S){var H=O.T,I={};O.T=I;try{var R=S(),se=O.S;se!==null&&se(I,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(te,oe)}catch(he){oe(he)}finally{O.T=H}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(S){return O.H.use(S)},Ae.useActionState=function(S,H,I){return O.H.useActionState(S,H,I)},Ae.useCallback=function(S,H){return O.H.useCallback(S,H)},Ae.useContext=function(S){return O.H.useContext(S)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(S,H){return O.H.useDeferredValue(S,H)},Ae.useEffect=function(S,H,I){var R=O.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return R.useEffect(S,H)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(S,H,I){return O.H.useImperativeHandle(S,H,I)},Ae.useInsertionEffect=function(S,H){return O.H.useInsertionEffect(S,H)},Ae.useLayoutEffect=function(S,H){return O.H.useLayoutEffect(S,H)},Ae.useMemo=function(S,H){return O.H.useMemo(S,H)},Ae.useOptimistic=function(S,H){return O.H.useOptimistic(S,H)},Ae.useReducer=function(S,H,I){return O.H.useReducer(S,H,I)},Ae.useRef=function(S){return O.H.useRef(S)},Ae.useState=function(S){return O.H.useState(S)},Ae.useSyncExternalStore=function(S,H,I){return O.H.useSyncExternalStore(S,H,I)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.1.0",Ae}var Hp;function Uo(){return Hp||(Hp=1,id.exports=cw()),id.exports}var M=Uo();const sa=Vl(M);var ld={exports:{}},bl={},sd={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function dw(){return qp||(qp=1,function(e){function n(B,X){var oe=B.length;B.push(X);e:for(;0<oe;){var te=oe-1>>>1,S=B[te];if(0<s(S,X))B[te]=X,B[oe]=S,oe=te;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],oe=B.pop();if(oe!==X){B[0]=oe;e:for(var te=0,S=B.length,H=S>>>1;te<H;){var I=2*(te+1)-1,R=B[I],se=I+1,he=B[se];if(0>s(R,oe))se<S&&0>s(he,R)?(B[te]=he,B[se]=oe,te=se):(B[te]=R,B[I]=oe,te=I);else if(se<S&&0>s(he,oe))B[te]=he,B[se]=oe,te=se;else break e}}return X}function s(B,X){var oe=B.sortIndex-X.sortIndex;return oe!==0?oe:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var m=[],h=[],g=1,x=null,v=3,b=!1,w=!1,E=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var X=r(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,n(m,X);else break;X=r(h)}}function O(B){if(E=!1,N(B),!w)if(r(m)!==null)w=!0,D||(D=!0,V());else{var X=r(h);X!==null&&ce(O,X.startTime-B)}}var D=!1,G=-1,F=5,W=-1;function P(){return j?!0:!(e.unstable_now()-W<F)}function q(){if(j=!1,D){var B=e.unstable_now();W=B;var X=!0;try{e:{w=!1,E&&(E=!1,A(G),G=-1),b=!0;var oe=v;try{t:{for(N(B),x=r(m);x!==null&&!(x.expirationTime>B&&P());){var te=x.callback;if(typeof te=="function"){x.callback=null,v=x.priorityLevel;var S=te(x.expirationTime<=B);if(B=e.unstable_now(),typeof S=="function"){x.callback=S,N(B),X=!0;break t}x===r(m)&&i(m),N(B)}else i(m);x=r(m)}if(x!==null)X=!0;else{var H=r(h);H!==null&&ce(O,H.startTime-B),X=!1}}break e}finally{x=null,v=oe,b=!1}X=void 0}}finally{X?V():D=!1}}}var V;if(typeof T=="function")V=function(){T(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ae=Z.port2;Z.port1.onmessage=q,V=function(){ae.postMessage(null)}}else V=function(){k(q,0)};function ce(B,X){G=k(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var oe=v;v=X;try{return B()}finally{v=oe}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=v;v=B;try{return X()}finally{v=oe}},e.unstable_scheduleCallback=function(B,X,oe){var te=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?te+oe:te):oe=te,B){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=oe+S,B={id:g++,callback:X,priorityLevel:B,startTime:oe,expirationTime:S,sortIndex:-1},oe>te?(B.sortIndex=oe,n(h,B),r(m)===null&&B===r(h)&&(E?(A(G),G=-1):E=!0,ce(O,oe-te))):(B.sortIndex=S,n(m,B),w||b||(w=!0,D||(D=!0,V()))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var X=v;return function(){var oe=v;v=X;try{return B.apply(this,arguments)}finally{v=oe}}}}(od)),od}var $p;function fw(){return $p||($p=1,sd.exports=dw()),sd.exports}var ud={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function hw(){if(Fp)return Ct;Fp=1;var e=Uo();function n(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:m,containerInfo:h,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ct.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return o(m,h,null,g)},Ct.flushSync=function(m){var h=u.T,g=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=h,i.p=g,i.d.f()}},Ct.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(m,h))},Ct.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Ct.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):g==="script"&&i.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ct.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);i.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(m)},Ct.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=d(g,h.crossOrigin);i.d.L(m,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ct.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=d(h.as,h.crossOrigin);i.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(m)},Ct.requestFormReset=function(m){i.d.r(m)},Ct.unstable_batchedUpdates=function(m,h){return m(h)},Ct.useFormState=function(m,h,g){return u.H.useFormState(m,h,g)},Ct.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var Gp;function mw(){if(Gp)return ud.exports;Gp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ud.exports=hw(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function pw(){if(Yp)return bl;Yp=1;var e=fw(),n=Uo(),r=mw();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function u(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function d(t){if(o(t)!==t)throw Error(i(188))}function m(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(i(188));return a!==t?null:t}for(var l=t,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),t;if(y===c)return d(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var _=!1,C=p.child;C;){if(C===l){_=!0,l=p,c=y;break}if(C===c){_=!0,c=p,l=y;break}C=C.sibling}if(!_){for(C=y.child;C;){if(C===l){_=!0,l=y,c=p;break}if(C===c){_=!0,c=y,l=p;break}C=C.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:a}function h(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=h(t),a!==null)return a;t=t.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case T:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case N:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return a=t.displayName||null,a!==null?a:ae(t.type)||"Memo";case F:a=t._payload,t=t._init;try{return ae(t(a))}catch{}}return null}var ce=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},te=[],S=-1;function H(t){return{current:t}}function I(t){0>S||(t.current=te[S],te[S]=null,S--)}function R(t,a){S++,te[S]=t.current,t.current=a}var se=H(null),he=H(null),z=H(null),ee=H(null);function ue(t,a){switch(R(z,a),R(he,t),R(se,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?fp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=fp(a),t=hp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(se),R(se,t)}function me(){I(se),I(he),I(z)}function pe(t){t.memoizedState!==null&&R(ee,t);var a=se.current,l=hp(a,t.type);a!==l&&(R(he,t),R(se,l))}function ge(t){he.current===t&&(I(se),I(he)),ee.current===t&&(I(ee),ml._currentValue=oe)}var ye=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,jt=e.unstable_shouldYield,Ln=e.unstable_requestPaint,ve=e.unstable_now,et=e.unstable_getCurrentPriorityLevel,Ge=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,ar=e.unstable_LowPriority,gn=e.unstable_IdlePriority,Ur=e.log,Tt=e.unstable_setDisableYieldValue,ne=null,de=null;function we(t){if(typeof Ur=="function"&&Tt(t),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(ne,t)}catch{}}var Ee=Math.clz32?Math.clz32:Pn,qe=Math.log,Vt=Math.LN2;function Pn(t){return t>>>=0,t===0?32:31-(qe(t)/Vt|0)|0}var Ut=256,jn=4194304;function Kt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gt(t,a,l){var c=t.pendingLanes;if(c===0)return 0;var p=0,y=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?p=Kt(c):(_&=C,_!==0?p=Kt(_):l||(l=C&~t,l!==0&&(p=Kt(l))))):(C=c&~y,C!==0?p=Kt(C):_!==0?p=Kt(_):l||(l=c&~t,l!==0&&(p=Kt(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function an(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function xn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xf(){var t=Ut;return Ut<<=1,(Ut&4194048)===0&&(Ut=256),t}function Qf(){var t=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),t}function Vo(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function _i(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xv(t,a,l,c,p,y){var _=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var C=t.entanglements,L=t.expirationTimes,K=t.hiddenUpdates;for(l=_&~l;0<l;){var re=31-Ee(l),le=1<<re;C[re]=0,L[re]=-1;var Q=K[re];if(Q!==null)for(K[re]=null,re=0;re<Q.length;re++){var J=Q[re];J!==null&&(J.lane&=-536870913)}l&=~le}c!==0&&Jf(t,c,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(_&~a))}function Jf(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-Ee(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|l&4194090}function Wf(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var c=31-Ee(l),p=1<<c;p&a|t[c]&a&&(t[c]|=a),l&=~p}}function Ko(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zf(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Op(t.type))}function Qv(t,a){var l=X.p;try{return X.p=t,a()}finally{X.p=l}}var ir=Math.random().toString(36).slice(2),At="__reactFiber$"+ir,Bt="__reactProps$"+ir,fa="__reactContainer$"+ir,Qo="__reactEvents$"+ir,Jv="__reactListeners$"+ir,Wv="__reactHandles$"+ir,eh="__reactResources$"+ir,Ei="__reactMarker$"+ir;function Jo(t){delete t[At],delete t[Bt],delete t[Qo],delete t[Jv],delete t[Wv]}function ha(t){var a=t[At];if(a)return a;for(var l=t.parentNode;l;){if(a=l[fa]||l[At]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=xp(t);t!==null;){if(l=t[At])return l;t=xp(t)}return a}t=l,l=t.parentNode}return null}function ma(t){if(t=t[At]||t[fa]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function ji(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function pa(t){var a=t[eh];return a||(a=t[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xt(t){t[Ei]=!0}var th=new Set,nh={};function Br(t,a){ga(t,a),ga(t+"Capture",a)}function ga(t,a){for(nh[t]=a,t=0;t<a.length;t++)th.add(a[t])}var Zv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rh={},ah={};function eb(t){return ye.call(ah,t)?!0:ye.call(rh,t)?!1:Zv.test(t)?ah[t]=!0:(rh[t]=!0,!1)}function ns(t,a,l){if(eb(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function rs(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function zn(t,a,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+c)}}var Wo,ih;function xa(t){if(Wo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Wo=a&&a[1]||"",ih=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wo+t+ih}var Zo=!1;function eu(t,a){if(!t||Zo)return"";Zo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Q=J}Reflect.construct(t,[],le)}else{try{le.call()}catch(J){Q=J}t.call(le.prototype)}}else{try{throw Error()}catch(J){Q=J}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),_=y[0],C=y[1];if(_&&C){var L=_.split(`
`),K=C.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===K.length)for(c=L.length-1,p=K.length-1;1<=c&&0<=p&&L[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==K[p]){var re=`
`+L[c].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=c&&0<=p);break}}}finally{Zo=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?xa(l):""}function tb(t){switch(t.tag){case 26:case 27:case 5:return xa(t.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return eu(t.type,!1);case 11:return eu(t.type.render,!1);case 1:return eu(t.type,!0);case 31:return xa("Activity");default:return""}}function lh(t){try{var a="";do a+=tb(t),t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sh(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nb(t){var a=sh(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),c=""+t[a];if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return p.call(this)},set:function(_){c=""+_,y.call(this,_)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function as(t){t._valueTracker||(t._valueTracker=nb(t))}function oh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return t&&(c=sh(t)?t.checked?"true":"false":t.value),t=c,t!==l?(a.setValue(t),!0):!1}function is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rb=/[\n"\\]/g;function sn(t){return t.replace(rb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tu(t,a,l,c,p,y,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),a!=null?_==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+ln(a)):t.value!==""+ln(a)&&(t.value=""+ln(a)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),a!=null?nu(t,_,ln(a)):l!=null?nu(t,_,ln(l)):c!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+ln(C):t.removeAttribute("name")}function uh(t,a,l,c,p,y,_,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+ln(l):"",a=a!=null?""+ln(a):l,C||a===t.value||(t.value=a),t.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=C?t.checked:!!c,t.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function nu(t,a,l){a==="number"&&is(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ya(t,a,l,c){if(t=t.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<t.length;l++)p=a.hasOwnProperty("$"+t[l].value),t[l].selected!==p&&(t[l].selected=p),p&&c&&(t[l].defaultSelected=!0)}else{for(l=""+ln(l),a=null,p=0;p<t.length;p++){if(t[p].value===l){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}a!==null||t[p].disabled||(a=t[p])}a!==null&&(a.selected=!0)}}function ch(t,a,l){if(a!=null&&(a=""+ln(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+ln(l):""}function dh(t,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=ln(a),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c)}function va(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var ab=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(t,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,l):typeof l!="number"||l===0||ab.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function hh(t,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&fh(t,p,c)}else for(var y in a)a.hasOwnProperty(y)&&fh(t,y,a[y])}function ru(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ls(t){return lb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var au=null;function iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,wa=null;function mh(t){var a=ma(t);if(a&&(t=a.stateNode)){var l=t[Bt]||null;e:switch(t=a.stateNode,a.type){case"input":if(tu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==t&&c.form===t.form){var p=c[Bt]||null;if(!p)throw Error(i(90));tu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===t.form&&oh(c)}break e;case"textarea":ch(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ya(t,!!l.multiple,a,!1)}}}var lu=!1;function ph(t,a,l){if(lu)return t(a,l);lu=!0;try{var c=t(a);return c}finally{if(lu=!1,(ba!==null||wa!==null)&&(Gs(),ba&&(a=ba,t=wa,wa=ba=null,mh(a),t)))for(a=0;a<t.length;a++)mh(t[a])}}function Ti(t,a){var l=t.stateNode;if(l===null)return null;var c=l[Bt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(Un)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){su=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{su=!1}var lr=null,ou=null,ss=null;function gh(){if(ss)return ss;var t,a=ou,l=a.length,c,p="value"in lr?lr.value:lr.textContent,y=p.length;for(t=0;t<l&&a[t]===p[t];t++);var _=l-t;for(c=1;c<=_&&a[l-c]===p[y-c];c++);return ss=p.slice(t,1<c?1-c:void 0)}function os(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function xh(){return!1}function It(t){function a(l,c,p,y,_){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(l=t[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?us:xh,this.isPropagationStopped=xh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),a}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=It(Ir),Ni=g({},Ir,{view:0,detail:0}),sb=It(Ni),uu,cu,Ci,ds=g({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(uu=t.screenX-Ci.screenX,cu=t.screenY-Ci.screenY):cu=uu=0,Ci=t),uu)},movementY:function(t){return"movementY"in t?t.movementY:cu}}),yh=It(ds),ob=g({},ds,{dataTransfer:0}),ub=It(ob),cb=g({},Ni,{relatedTarget:0}),du=It(cb),db=g({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=It(db),hb=g({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mb=It(hb),pb=g({},Ir,{data:0}),vh=It(pb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=yb[t])?!!a[t]:!1}function fu(){return vb}var bb=g({},Ni,{key:function(t){if(t.key){var a=gb[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wb=It(bb),kb=g({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=It(kb),Sb=g({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),_b=It(Sb),Eb=g({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),jb=It(Eb),Tb=g({},ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=It(Tb),Nb=g({},Ir,{newState:0,oldState:0}),Cb=It(Nb),Rb=[9,13,27,32],hu=Un&&"CompositionEvent"in window,Ri=null;Un&&"documentMode"in document&&(Ri=document.documentMode);var Ob=Un&&"TextEvent"in window&&!Ri,wh=Un&&(!hu||Ri&&8<Ri&&11>=Ri),kh=" ",Sh=!1;function _h(t,a){switch(t){case"keyup":return Rb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function Db(t,a){switch(t){case"compositionend":return Eh(a);case"keypress":return a.which!==32?null:(Sh=!0,kh);case"textInput":return t=a.data,t===kh&&Sh?null:t;default:return null}}function Mb(t,a){if(ka)return t==="compositionend"||!hu&&_h(t,a)?(t=gh(),ss=ou=lr=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wh&&a.locale!=="ko"?null:a.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Lb[t.type]:a==="textarea"}function Th(t,a,l,c){ba?wa?wa.push(c):wa=[c]:ba=c,a=Js(a,"onChange"),0<a.length&&(l=new cs("onChange","change",null,l,c),t.push({event:l,listeners:a}))}var Oi=null,Di=null;function Pb(t){sp(t,0)}function fs(t){var a=ji(t);if(oh(a))return t}function Ah(t,a){if(t==="change")return a}var Nh=!1;if(Un){var mu;if(Un){var pu="oninput"in document;if(!pu){var Ch=document.createElement("div");Ch.setAttribute("oninput","return;"),pu=typeof Ch.oninput=="function"}mu=pu}else mu=!1;Nh=mu&&(!document.documentMode||9<document.documentMode)}function Rh(){Oi&&(Oi.detachEvent("onpropertychange",Oh),Di=Oi=null)}function Oh(t){if(t.propertyName==="value"&&fs(Di)){var a=[];Th(a,Di,t,iu(t)),ph(Pb,a)}}function zb(t,a,l){t==="focusin"?(Rh(),Oi=a,Di=l,Oi.attachEvent("onpropertychange",Oh)):t==="focusout"&&Rh()}function Ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fs(Di)}function Bb(t,a){if(t==="click")return fs(a)}function Ib(t,a){if(t==="input"||t==="change")return fs(a)}function Hb(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Xt=typeof Object.is=="function"?Object.is:Hb;function Mi(t,a){if(Xt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!ye.call(a,p)||!Xt(t[p],a[p]))return!1}return!0}function Dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mh(t,a){var l=Dh(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=a&&c>=a)return{node:l,offset:a-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dh(l)}}function Lh(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Lh(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Ph(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=is(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=is(t.document)}return a}function gu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var qb=Un&&"documentMode"in document&&11>=document.documentMode,Sa=null,xu=null,Li=null,yu=!1;function zh(t,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yu||Sa==null||Sa!==is(c)||(c=Sa,"selectionStart"in c&&gu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Li&&Mi(Li,c)||(Li=c,c=Js(xu,"onSelect"),0<c.length&&(a=new cs("onSelect","select",null,a,l),t.push({event:a,listeners:c}),a.target=Sa)))}function Hr(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var _a={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},vu={},Uh={};Un&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function qr(t){if(vu[t])return vu[t];if(!_a[t])return t;var a=_a[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Uh)return vu[t]=a[l];return t}var Bh=qr("animationend"),Ih=qr("animationiteration"),Hh=qr("animationstart"),$b=qr("transitionrun"),Fb=qr("transitionstart"),Gb=qr("transitioncancel"),qh=qr("transitionend"),$h=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function yn(t,a){$h.set(t,a),Br(a,[t])}var Fh=new WeakMap;function on(t,a){if(typeof t=="object"&&t!==null){var l=Fh.get(t);return l!==void 0?l:(a={value:t,source:a,stack:lh(a)},Fh.set(t,a),a)}return{value:t,source:a,stack:lh(a)}}var un=[],Ea=0,wu=0;function hs(){for(var t=Ea,a=wu=Ea=0;a<t;){var l=un[a];un[a++]=null;var c=un[a];un[a++]=null;var p=un[a];un[a++]=null;var y=un[a];if(un[a++]=null,c!==null&&p!==null){var _=c.pending;_===null?p.next=p:(p.next=_.next,_.next=p),c.pending=p}y!==0&&Gh(l,p,y)}}function ms(t,a,l,c){un[Ea++]=t,un[Ea++]=a,un[Ea++]=l,un[Ea++]=c,wu|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ku(t,a,l,c){return ms(t,a,l,c),ps(t)}function ja(t,a){return ms(t,null,null,a),ps(t)}function Gh(t,a,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=t.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&a!==null&&(p=31-Ee(l),t=y.hiddenUpdates,c=t[p],c===null?t[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function ps(t){if(50<ll)throw ll=0,Ac=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ta={};function Yb(t,a,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,a,l,c){return new Yb(t,a,l,c)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bn(t,a){var l=t.alternate;return l===null?(l=Qt(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Yh(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function gs(t,a,l,c,p,y){var _=0;if(c=t,typeof t=="function")Su(t)&&(_=1);else if(typeof t=="string")_=K1(t,l,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Qt(31,l,a,p),t.elementType=W,t.lanes=y,t;case w:return $r(l.children,p,y,a);case E:_=8,p|=24;break;case j:return t=Qt(12,l,a,p|2),t.elementType=j,t.lanes=y,t;case O:return t=Qt(13,l,a,p),t.elementType=O,t.lanes=y,t;case D:return t=Qt(19,l,a,p),t.elementType=D,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case T:_=10;break e;case A:_=9;break e;case N:_=11;break e;case G:_=14;break e;case F:_=16,c=null;break e}_=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return a=Qt(_,l,a,p),a.elementType=t,a.type=c,a.lanes=y,a}function $r(t,a,l,c){return t=Qt(7,t,c,a),t.lanes=l,t}function _u(t,a,l){return t=Qt(6,t,null,a),t.lanes=l,t}function Eu(t,a,l){return a=Qt(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Aa=[],Na=0,xs=null,ys=0,cn=[],dn=0,Fr=null,In=1,Hn="";function Gr(t,a){Aa[Na++]=ys,Aa[Na++]=xs,xs=t,ys=a}function Vh(t,a,l){cn[dn++]=In,cn[dn++]=Hn,cn[dn++]=Fr,Fr=t;var c=In;t=Hn;var p=32-Ee(c)-1;c&=~(1<<p),l+=1;var y=32-Ee(a)+p;if(30<y){var _=p-p%5;y=(c&(1<<_)-1).toString(32),c>>=_,p-=_,In=1<<32-Ee(a)+p|l<<p|c,Hn=y+t}else In=1<<y|l<<p|c,Hn=t}function ju(t){t.return!==null&&(Gr(t,1),Vh(t,1,0))}function Tu(t){for(;t===xs;)xs=Aa[--Na],Aa[Na]=null,ys=Aa[--Na],Aa[Na]=null;for(;t===Fr;)Fr=cn[--dn],cn[dn]=null,Hn=cn[--dn],cn[dn]=null,In=cn[--dn],cn[dn]=null}var Lt=null,at=null,Be=!1,Yr=null,Tn=!1,Au=Error(i(519));function Vr(t){var a=Error(i(418,""));throw Ui(on(a,t)),Au}function Kh(t){var a=t.stateNode,l=t.type,c=t.memoizedProps;switch(a[At]=t,a[Bt]=c,l){case"dialog":De("cancel",a),De("close",a);break;case"iframe":case"object":case"embed":De("load",a);break;case"video":case"audio":for(l=0;l<ol.length;l++)De(ol[l],a);break;case"source":De("error",a);break;case"img":case"image":case"link":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"input":De("invalid",a),uh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),as(a);break;case"select":De("invalid",a);break;case"textarea":De("invalid",a),dh(a,c.value,c.defaultValue,c.children),as(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||dp(a.textContent,l)?(c.popover!=null&&(De("beforetoggle",a),De("toggle",a)),c.onScroll!=null&&De("scroll",a),c.onScrollEnd!=null&&De("scrollend",a),c.onClick!=null&&(a.onclick=Ws),a=!0):a=!1,a||Vr(t)}function Xh(t){for(Lt=t.return;Lt;)switch(Lt.tag){case 5:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Lt=Lt.return}}function Pi(t){if(t!==Lt)return!1;if(!Be)return Xh(t),Be=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Fc(t.type,t.memoizedProps)),l=!l),l&&at&&Vr(t),Xh(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(a===0){at=bn(t.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;t=t.nextSibling}at=null}}else a===27?(a=at,kr(t.type)?(t=Kc,Kc=null,at=t):at=a):at=Lt?bn(t.stateNode.nextSibling):null;return!0}function zi(){at=Lt=null,Be=!1}function Qh(){var t=Yr;return t!==null&&($t===null?$t=t:$t.push.apply($t,t),Yr=null),t}function Ui(t){Yr===null?Yr=[t]:Yr.push(t)}var Nu=H(null),Kr=null,qn=null;function sr(t,a,l){R(Nu,a._currentValue),a._currentValue=l}function $n(t){t._currentValue=Nu.current,I(Nu)}function Cu(t,a,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===l)break;t=t.return}}function Ru(t,a,l,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var L=0;L<a.length;L++)if(C.context===a[L]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),Cu(y.return,l,t),c||(_=null);break e}y=C.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=l,y=_.alternate,y!==null&&(y.lanes|=l),Cu(_,l,t),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===t){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Bi(t,a,l,c){t=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var C=p.type;Xt(p.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(p===ee.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}p=p.return}t!==null&&Ru(a,t,l,c),a.flags|=262144}function vs(t){for(t=t.firstContext;t!==null;){if(!Xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Kr=t,qn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nt(t){return Jh(Kr,t)}function bs(t,a){return Kr===null&&Xr(t),Jh(t,a)}function Jh(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qn===null){if(t===null)throw Error(i(308));qn=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else qn=qn.next=a;return l}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},Kb=e.unstable_scheduleCallback,Xb=e.unstable_NormalPriority,ht={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new Vb,data:new Map,refCount:0}}function Ii(t){t.refCount--,t.refCount===0&&Kb(Xb,function(){t.controller.abort()})}var Hi=null,Du=0,Ca=0,Ra=null;function Qb(t,a){if(Hi===null){var l=Hi=[];Du=0,Ca=Lc(),Ra={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Du++,a.then(Wh,Wh),a}function Wh(){if(--Du===0&&Hi!==null){Ra!==null&&(Ra.status="fulfilled");var t=Hi;Hi=null,Ca=0,Ra=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Jb(t,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Zh=B.S;B.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Qb(t,a),Zh!==null&&Zh(t,a)};var Qr=H(null);function Mu(){var t=Qr.current;return t!==null?t:Je.pooledCache}function ws(t,a){a===null?R(Qr,Qr.current):R(Qr,a.pool)}function em(){var t=Mu();return t===null?null:{parent:ht._currentValue,pool:t}}var qi=Error(i(460)),tm=Error(i(474)),ks=Error(i(542)),Lu={then:function(){}};function nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ss(){}function rm(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(Ss,Ss),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,im(t),t;default:if(typeof a.status=="string")a.then(Ss,Ss);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,im(t),t}throw $i=a,qi}}var $i=null;function am(){if($i===null)throw Error(i(459));var t=$i;return $i=null,t}function im(t){if(t===qi||t===ks)throw Error(i(483))}var or=!1;function Pu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cr(t,a,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=ps(t),Gh(t,null,l),a}return ms(t,c,a,l),ps(t)}function Fi(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,Wf(t,l)}}function Uu(t,a){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Bu=!1;function Gi(){if(Bu){var t=Ra;if(t!==null)throw t}}function Yi(t,a,l,c){Bu=!1;var p=t.updateQueue;or=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var L=C,K=L.next;L.next=null,_===null?y=K:_.next=K,_=L;var re=t.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==_&&(C===null?re.firstBaseUpdate=K:C.next=K,re.lastBaseUpdate=L))}if(y!==null){var le=p.baseState;_=0,re=K=L=null,C=y;do{var Q=C.lane&-536870913,J=Q!==C.lane;if(J?(Pe&Q)===Q:(c&Q)===Q){Q!==0&&Q===Ca&&(Bu=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var je=t,Se=C;Q=a;var Ke=l;switch(Se.tag){case 1:if(je=Se.payload,typeof je=="function"){le=je.call(Ke,le,Q);break e}le=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Se.payload,Q=typeof je=="function"?je.call(Ke,le,Q):je,Q==null)break e;le=g({},le,Q);break e;case 2:or=!0}}Q=C.callback,Q!==null&&(t.flags|=64,J&&(t.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(K=re=J,L=le):re=re.next=J,_|=Q;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;J=C,C=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);re===null&&(L=le),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=re,y===null&&(p.shared.lanes=0),yr|=_,t.lanes=_,t.memoizedState=le}}function lm(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function sm(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)lm(l[t],a)}var Oa=H(null),_s=H(0);function om(t,a){t=Qn,R(_s,t),R(Oa,a),Qn=t|a.baseLanes}function Iu(){R(_s,Qn),R(Oa,Oa.current)}function Hu(){Qn=_s.current,I(Oa),I(_s)}var dr=0,Ce=null,Ye=null,ct=null,Es=!1,Da=!1,Jr=!1,js=0,Vi=0,Ma=null,Wb=0;function ot(){throw Error(i(321))}function qu(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!Xt(t[l],a[l]))return!1;return!0}function $u(t,a,l,c,p,y){return dr=y,Ce=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=t===null||t.memoizedState===null?Gm:Ym,Jr=!1,y=l(c,p),Jr=!1,Da&&(y=cm(a,l,c,p)),um(t),y}function um(t){B.H=Os;var a=Ye!==null&&Ye.next!==null;if(dr=0,ct=Ye=Ce=null,Es=!1,Vi=0,Ma=null,a)throw Error(i(300));t===null||yt||(t=t.dependencies,t!==null&&vs(t)&&(yt=!0))}function cm(t,a,l,c){Ce=t;var p=0;do{if(Da&&(Ma=null),Vi=0,Da=!1,25<=p)throw Error(i(301));if(p+=1,ct=Ye=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=i1,y=a(l,c)}while(Da);return y}function Zb(){var t=B.H,a=t.useState()[0];return a=typeof a.then=="function"?Ki(a):a,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),a}function Fu(){var t=js!==0;return js=0,t}function Gu(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Yu(t){if(Es){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Es=!1}dr=0,ct=Ye=Ce=null,Da=!1,Vi=js=0,Ma=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ce.memoizedState=ct=t:ct=ct.next=t,ct}function dt(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var a=ct===null?Ce.memoizedState:ct.next;if(a!==null)ct=a,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ct===null?Ce.memoizedState=ct=t:ct=ct.next=t}return ct}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ki(t){var a=Vi;return Vi+=1,Ma===null&&(Ma=[]),t=rm(Ma,t,a),a=Ce,(ct===null?a.memoizedState:ct.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Gm:Ym),t}function Ts(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ki(t);if(t.$$typeof===T)return Nt(t)}throw Error(i(438,String(t)))}function Ku(t){var a=null,l=Ce.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Vu(),Ce.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),c=0;c<t;c++)l[c]=P;return a.index++,l}function Fn(t,a){return typeof a=="function"?a(t):a}function As(t){var a=dt();return Xu(a,Ye,t)}function Xu(t,a,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=t.baseQueue,y=c.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}a.baseQueue=p=y,c.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{a=p.next;var C=_=null,L=null,K=a,re=!1;do{var le=K.lane&-536870913;if(le!==K.lane?(Pe&le)===le:(dr&le)===le){var Q=K.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),le===Ca&&(re=!0);else if((dr&Q)===Q){K=K.next,Q===Ca&&(re=!0);continue}else le={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=le,_=y):L=L.next=le,Ce.lanes|=Q,yr|=Q;le=K.action,Jr&&l(y,le),y=K.hasEagerState?K.eagerState:l(y,le)}else Q={lane:le,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=Q,_=y):L=L.next=Q,Ce.lanes|=le,yr|=le;K=K.next}while(K!==null&&K!==a);if(L===null?_=y:L.next=C,!Xt(y,t.memoizedState)&&(yt=!0,re&&(l=Ra,l!==null)))throw l;t.memoizedState=y,t.baseState=_,t.baseQueue=L,c.lastRenderedState=y}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Qu(t){var a=dt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do y=t(y,_.action),_=_.next;while(_!==p);Xt(y,a.memoizedState)||(yt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function dm(t,a,l){var c=Ce,p=dt(),y=Be;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var _=!Xt((Ye||p).memoizedState,l);_&&(p.memoizedState=l,yt=!0),p=p.queue;var C=mm.bind(null,c,p,t);if(Xi(2048,8,C,[t]),p.getSnapshot!==a||_||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,La(9,Ns(),hm.bind(null,c,p,l,a),null),Je===null)throw Error(i(349));y||(dr&124)!==0||fm(c,a,l)}return l}function fm(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Ce.updateQueue,a===null?(a=Vu(),Ce.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function hm(t,a,l,c){a.value=l,a.getSnapshot=c,pm(a)&&gm(t)}function mm(t,a,l){return l(function(){pm(a)&&gm(t)})}function pm(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!Xt(t,l)}catch{return!0}}function gm(t){var a=ja(t,2);a!==null&&tn(a,t,2)}function Ju(t){var a=Ht();if(typeof t=="function"){var l=t;if(t=l(),Jr){we(!0);try{l()}finally{we(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},a}function xm(t,a,l,c){return t.baseState=l,Xu(t,Ye,typeof c=="function"?c:Fn)}function e1(t,a,l,c,p){if(Rs(t))throw Error(i(485));if(t=a.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};B.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,ym(a,y)):(y.next=l.next,a.pending=l.next=y)}}function ym(t,a){var l=a.action,c=a.payload,p=t.state;if(a.isTransition){var y=B.T,_={};B.T=_;try{var C=l(p,c),L=B.S;L!==null&&L(_,C),vm(t,a,C)}catch(K){Wu(t,a,K)}finally{B.T=y}}else try{y=l(p,c),vm(t,a,y)}catch(K){Wu(t,a,K)}}function vm(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){bm(t,a,c)},function(c){return Wu(t,a,c)}):bm(t,a,l)}function bm(t,a,l){a.status="fulfilled",a.value=l,wm(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,ym(t,l)))}function Wu(t,a,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,wm(a),a=a.next;while(a!==c)}t.action=null}function wm(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function km(t,a){return a}function Sm(t,a){if(Be){var l=Je.formState;if(l!==null){e:{var c=Ce;if(Be){if(at){t:{for(var p=at,y=Tn;p.nodeType!==8;){if(!y){p=null;break t}if(p=bn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){at=bn(p.nextSibling),c=p.data==="F!";break e}}Vr(c)}c=!1}c&&(a=l[0])}}return l=Ht(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:a},l.queue=c,l=qm.bind(null,Ce,c),c.dispatch=l,c=Ju(!1),y=rc.bind(null,Ce,!1,c.queue),c=Ht(),p={state:a,dispatch:null,action:t,pending:null},c.queue=p,l=e1.bind(null,Ce,p,y,l),p.dispatch=l,c.memoizedState=t,[a,l,!1]}function _m(t){var a=dt();return Em(a,Ye,t)}function Em(t,a,l){if(a=Xu(t,a,km)[0],t=As(Fn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ki(a)}catch(_){throw _===qi?ks:_}else c=a;a=dt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Ce.flags|=2048,La(9,Ns(),t1.bind(null,p,l),null)),[c,y,t]}function t1(t,a){t.action=a}function jm(t){var a=dt(),l=Ye;if(l!==null)return Em(a,l,t);dt(),a=a.memoizedState,l=dt();var c=l.queue.dispatch;return l.memoizedState=t,[a,c,!1]}function La(t,a,l,c){return t={tag:t,create:l,deps:c,inst:a,next:null},a=Ce.updateQueue,a===null&&(a=Vu(),Ce.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,a.lastEffect=t),t}function Ns(){return{destroy:void 0,resource:void 0}}function Tm(){return dt().memoizedState}function Cs(t,a,l,c){var p=Ht();c=c===void 0?null:c,Ce.flags|=t,p.memoizedState=La(1|a,Ns(),l,c)}function Xi(t,a,l,c){var p=dt();c=c===void 0?null:c;var y=p.memoizedState.inst;Ye!==null&&c!==null&&qu(c,Ye.memoizedState.deps)?p.memoizedState=La(a,y,l,c):(Ce.flags|=t,p.memoizedState=La(1|a,y,l,c))}function Am(t,a){Cs(8390656,8,t,a)}function Nm(t,a){Xi(2048,8,t,a)}function Cm(t,a){return Xi(4,2,t,a)}function Rm(t,a){return Xi(4,4,t,a)}function Om(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Dm(t,a,l){l=l!=null?l.concat([t]):null,Xi(4,4,Om.bind(null,a,t),l)}function Zu(){}function Mm(t,a){var l=dt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&qu(a,c[1])?c[0]:(l.memoizedState=[t,a],t)}function Lm(t,a){var l=dt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&qu(a,c[1]))return c[0];if(c=t(),Jr){we(!0);try{t()}finally{we(!1)}}return l.memoizedState=[c,a],c}function ec(t,a,l){return l===void 0||(dr&1073741824)!==0?t.memoizedState=a:(t.memoizedState=l,t=U0(),Ce.lanes|=t,yr|=t,l)}function Pm(t,a,l,c){return Xt(l,a)?l:Oa.current!==null?(t=ec(t,l,c),Xt(t,a)||(yt=!0),t):(dr&42)===0?(yt=!0,t.memoizedState=l):(t=U0(),Ce.lanes|=t,yr|=t,a)}function zm(t,a,l,c,p){var y=X.p;X.p=y!==0&&8>y?y:8;var _=B.T,C={};B.T=C,rc(t,!1,a,l);try{var L=p(),K=B.S;if(K!==null&&K(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=Jb(L,c);Qi(t,a,re,en(t))}else Qi(t,a,c,en(t))}catch(le){Qi(t,a,{then:function(){},status:"rejected",reason:le},en())}finally{X.p=y,B.T=_}}function n1(){}function tc(t,a,l,c){if(t.tag!==5)throw Error(i(476));var p=Um(t).queue;zm(t,p,a,oe,l===null?n1:function(){return Bm(t),l(c)})}function Um(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Bm(t){var a=Um(t).next.queue;Qi(t,a,{},en())}function nc(){return Nt(ml)}function Im(){return dt().memoizedState}function Hm(){return dt().memoizedState}function r1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=en();t=ur(l);var c=cr(a,t,l);c!==null&&(tn(c,a,l),Fi(c,a,l)),a={cache:Ou()},t.payload=a;return}a=a.return}}function a1(t,a,l){var c=en();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Rs(t)?$m(a,l):(l=ku(t,a,l,c),l!==null&&(tn(l,t,c),Fm(l,a,c)))}function qm(t,a,l){var c=en();Qi(t,a,l,c)}function Qi(t,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rs(t))$m(a,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var _=a.lastRenderedState,C=y(_,l);if(p.hasEagerState=!0,p.eagerState=C,Xt(C,_))return ms(t,a,p,0),Je===null&&hs(),!1}catch{}finally{}if(l=ku(t,a,p,c),l!==null)return tn(l,t,c),Fm(l,a,c),!0}return!1}function rc(t,a,l,c){if(c={lane:2,revertLane:Lc(),action:c,hasEagerState:!1,eagerState:null,next:null},Rs(t)){if(a)throw Error(i(479))}else a=ku(t,l,c,2),a!==null&&tn(a,t,2)}function Rs(t){var a=t.alternate;return t===Ce||a!==null&&a===Ce}function $m(t,a){Da=Es=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Fm(t,a,l){if((l&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,Wf(t,l)}}var Os={readContext:Nt,use:Ts,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},Gm={readContext:Nt,use:Ts,useCallback:function(t,a){return Ht().memoizedState=[t,a===void 0?null:a],t},useContext:Nt,useEffect:Am,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,Cs(4194308,4,Om.bind(null,a,t),l)},useLayoutEffect:function(t,a){return Cs(4194308,4,t,a)},useInsertionEffect:function(t,a){Cs(4,2,t,a)},useMemo:function(t,a){var l=Ht();a=a===void 0?null:a;var c=t();if(Jr){we(!0);try{t()}finally{we(!1)}}return l.memoizedState=[c,a],c},useReducer:function(t,a,l){var c=Ht();if(l!==void 0){var p=l(a);if(Jr){we(!0);try{l(a)}finally{we(!1)}}}else p=a;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=a1.bind(null,Ce,t),[c.memoizedState,t]},useRef:function(t){var a=Ht();return t={current:t},a.memoizedState=t},useState:function(t){t=Ju(t);var a=t.queue,l=qm.bind(null,Ce,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:Zu,useDeferredValue:function(t,a){var l=Ht();return ec(l,t,a)},useTransition:function(){var t=Ju(!1);return t=zm.bind(null,Ce,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var c=Ce,p=Ht();if(Be){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Je===null)throw Error(i(349));(Pe&124)!==0||fm(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,Am(mm.bind(null,c,y,t),[t]),c.flags|=2048,La(9,Ns(),hm.bind(null,c,y,l,a),null),l},useId:function(){var t=Ht(),a=Je.identifierPrefix;if(Be){var l=Hn,c=In;l=(c&~(1<<32-Ee(c)-1)).toString(32)+l,a=""+a+"R"+l,l=js++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Wb++,a=""+a+"r"+l.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:nc,useFormState:Sm,useActionState:Sm,useOptimistic:function(t){var a=Ht();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=rc.bind(null,Ce,!0,l),l.dispatch=a,[t,a]},useMemoCache:Ku,useCacheRefresh:function(){return Ht().memoizedState=r1.bind(null,Ce)}},Ym={readContext:Nt,use:Ts,useCallback:Mm,useContext:Nt,useEffect:Nm,useImperativeHandle:Dm,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:Lm,useReducer:As,useRef:Tm,useState:function(){return As(Fn)},useDebugValue:Zu,useDeferredValue:function(t,a){var l=dt();return Pm(l,Ye.memoizedState,t,a)},useTransition:function(){var t=As(Fn)[0],a=dt().memoizedState;return[typeof t=="boolean"?t:Ki(t),a]},useSyncExternalStore:dm,useId:Im,useHostTransitionStatus:nc,useFormState:_m,useActionState:_m,useOptimistic:function(t,a){var l=dt();return xm(l,Ye,t,a)},useMemoCache:Ku,useCacheRefresh:Hm},i1={readContext:Nt,use:Ts,useCallback:Mm,useContext:Nt,useEffect:Nm,useImperativeHandle:Dm,useInsertionEffect:Cm,useLayoutEffect:Rm,useMemo:Lm,useReducer:Qu,useRef:Tm,useState:function(){return Qu(Fn)},useDebugValue:Zu,useDeferredValue:function(t,a){var l=dt();return Ye===null?ec(l,t,a):Pm(l,Ye.memoizedState,t,a)},useTransition:function(){var t=Qu(Fn)[0],a=dt().memoizedState;return[typeof t=="boolean"?t:Ki(t),a]},useSyncExternalStore:dm,useId:Im,useHostTransitionStatus:nc,useFormState:jm,useActionState:jm,useOptimistic:function(t,a){var l=dt();return Ye!==null?xm(l,Ye,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Ku,useCacheRefresh:Hm},Pa=null,Ji=0;function Ds(t){var a=Ji;return Ji+=1,Pa===null&&(Pa=[]),rm(Pa,t,a)}function Wi(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Ms(t,a){throw a.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Vm(t){var a=t._init;return a(t._payload)}function Km(t){function a($,U){if(t){var Y=$.deletions;Y===null?($.deletions=[U],$.flags|=16):Y.push(U)}}function l($,U){if(!t)return null;for(;U!==null;)a($,U),U=U.sibling;return null}function c($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function p($,U){return $=Bn($,U),$.index=0,$.sibling=null,$}function y($,U,Y){return $.index=Y,t?(Y=$.alternate,Y!==null?(Y=Y.index,Y<U?($.flags|=67108866,U):Y):($.flags|=67108866,U)):($.flags|=1048576,U)}function _($){return t&&$.alternate===null&&($.flags|=67108866),$}function C($,U,Y,ie){return U===null||U.tag!==6?(U=_u(Y,$.mode,ie),U.return=$,U):(U=p(U,Y),U.return=$,U)}function L($,U,Y,ie){var xe=Y.type;return xe===w?re($,U,Y.props.children,ie,Y.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===F&&Vm(xe)===U.type)?(U=p(U,Y.props),Wi(U,Y),U.return=$,U):(U=gs(Y.type,Y.key,Y.props,null,$.mode,ie),Wi(U,Y),U.return=$,U)}function K($,U,Y,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Eu(Y,$.mode,ie),U.return=$,U):(U=p(U,Y.children||[]),U.return=$,U)}function re($,U,Y,ie,xe){return U===null||U.tag!==7?(U=$r(Y,$.mode,ie,xe),U.return=$,U):(U=p(U,Y),U.return=$,U)}function le($,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=_u(""+U,$.mode,Y),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return Y=gs(U.type,U.key,U.props,null,$.mode,Y),Wi(Y,U),Y.return=$,Y;case b:return U=Eu(U,$.mode,Y),U.return=$,U;case F:var ie=U._init;return U=ie(U._payload),le($,U,Y)}if(ce(U)||V(U))return U=$r(U,$.mode,Y,null),U.return=$,U;if(typeof U.then=="function")return le($,Ds(U),Y);if(U.$$typeof===T)return le($,bs($,U),Y);Ms($,U)}return null}function Q($,U,Y,ie){var xe=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:C($,U,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===xe?L($,U,Y,ie):null;case b:return Y.key===xe?K($,U,Y,ie):null;case F:return xe=Y._init,Y=xe(Y._payload),Q($,U,Y,ie)}if(ce(Y)||V(Y))return xe!==null?null:re($,U,Y,ie,null);if(typeof Y.then=="function")return Q($,U,Ds(Y),ie);if(Y.$$typeof===T)return Q($,U,bs($,Y),ie);Ms($,Y)}return null}function J($,U,Y,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(Y)||null,C(U,$,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return $=$.get(ie.key===null?Y:ie.key)||null,L(U,$,ie,xe);case b:return $=$.get(ie.key===null?Y:ie.key)||null,K(U,$,ie,xe);case F:var Re=ie._init;return ie=Re(ie._payload),J($,U,Y,ie,xe)}if(ce(ie)||V(ie))return $=$.get(Y)||null,re(U,$,ie,xe,null);if(typeof ie.then=="function")return J($,U,Y,Ds(ie),xe);if(ie.$$typeof===T)return J($,U,Y,bs(U,ie),xe);Ms(U,ie)}return null}function je($,U,Y,ie){for(var xe=null,Re=null,be=U,_e=U=0,bt=null;be!==null&&_e<Y.length;_e++){be.index>_e?(bt=be,be=null):bt=be.sibling;var Ue=Q($,be,Y[_e],ie);if(Ue===null){be===null&&(be=bt);break}t&&be&&Ue.alternate===null&&a($,be),U=y(Ue,U,_e),Re===null?xe=Ue:Re.sibling=Ue,Re=Ue,be=bt}if(_e===Y.length)return l($,be),Be&&Gr($,_e),xe;if(be===null){for(;_e<Y.length;_e++)be=le($,Y[_e],ie),be!==null&&(U=y(be,U,_e),Re===null?xe=be:Re.sibling=be,Re=be);return Be&&Gr($,_e),xe}for(be=c(be);_e<Y.length;_e++)bt=J(be,$,_e,Y[_e],ie),bt!==null&&(t&&bt.alternate!==null&&be.delete(bt.key===null?_e:bt.key),U=y(bt,U,_e),Re===null?xe=bt:Re.sibling=bt,Re=bt);return t&&be.forEach(function(Tr){return a($,Tr)}),Be&&Gr($,_e),xe}function Se($,U,Y,ie){if(Y==null)throw Error(i(151));for(var xe=null,Re=null,be=U,_e=U=0,bt=null,Ue=Y.next();be!==null&&!Ue.done;_e++,Ue=Y.next()){be.index>_e?(bt=be,be=null):bt=be.sibling;var Tr=Q($,be,Ue.value,ie);if(Tr===null){be===null&&(be=bt);break}t&&be&&Tr.alternate===null&&a($,be),U=y(Tr,U,_e),Re===null?xe=Tr:Re.sibling=Tr,Re=Tr,be=bt}if(Ue.done)return l($,be),Be&&Gr($,_e),xe;if(be===null){for(;!Ue.done;_e++,Ue=Y.next())Ue=le($,Ue.value,ie),Ue!==null&&(U=y(Ue,U,_e),Re===null?xe=Ue:Re.sibling=Ue,Re=Ue);return Be&&Gr($,_e),xe}for(be=c(be);!Ue.done;_e++,Ue=Y.next())Ue=J(be,$,_e,Ue.value,ie),Ue!==null&&(t&&Ue.alternate!==null&&be.delete(Ue.key===null?_e:Ue.key),U=y(Ue,U,_e),Re===null?xe=Ue:Re.sibling=Ue,Re=Ue);return t&&be.forEach(function(lw){return a($,lw)}),Be&&Gr($,_e),xe}function Ke($,U,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var xe=Y.key;U!==null;){if(U.key===xe){if(xe=Y.type,xe===w){if(U.tag===7){l($,U.sibling),ie=p(U,Y.props.children),ie.return=$,$=ie;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===F&&Vm(xe)===U.type){l($,U.sibling),ie=p(U,Y.props),Wi(ie,Y),ie.return=$,$=ie;break e}l($,U);break}else a($,U);U=U.sibling}Y.type===w?(ie=$r(Y.props.children,$.mode,ie,Y.key),ie.return=$,$=ie):(ie=gs(Y.type,Y.key,Y.props,null,$.mode,ie),Wi(ie,Y),ie.return=$,$=ie)}return _($);case b:e:{for(xe=Y.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){l($,U.sibling),ie=p(U,Y.children||[]),ie.return=$,$=ie;break e}else{l($,U);break}else a($,U);U=U.sibling}ie=Eu(Y,$.mode,ie),ie.return=$,$=ie}return _($);case F:return xe=Y._init,Y=xe(Y._payload),Ke($,U,Y,ie)}if(ce(Y))return je($,U,Y,ie);if(V(Y)){if(xe=V(Y),typeof xe!="function")throw Error(i(150));return Y=xe.call(Y),Se($,U,Y,ie)}if(typeof Y.then=="function")return Ke($,U,Ds(Y),ie);if(Y.$$typeof===T)return Ke($,U,bs($,Y),ie);Ms($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(l($,U.sibling),ie=p(U,Y),ie.return=$,$=ie):(l($,U),ie=_u(Y,$.mode,ie),ie.return=$,$=ie),_($)):l($,U)}return function($,U,Y,ie){try{Ji=0;var xe=Ke($,U,Y,ie);return Pa=null,xe}catch(be){if(be===qi||be===ks)throw be;var Re=Qt(29,be,null,$.mode);return Re.lanes=ie,Re.return=$,Re}finally{}}}var za=Km(!0),Xm=Km(!1),fn=H(null),An=null;function fr(t){var a=t.alternate;R(mt,mt.current&1),R(fn,t),An===null&&(a===null||Oa.current!==null||a.memoizedState!==null)&&(An=t)}function Qm(t){if(t.tag===22){if(R(mt,mt.current),R(fn,t),An===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(An=t)}}else hr()}function hr(){R(mt,mt.current),R(fn,fn.current)}function Gn(t){I(fn),An===t&&(An=null),I(mt)}var mt=H(0);function Ls(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Vc(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ac(t,a,l,c){a=t.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ic={enqueueSetState:function(t,a,l){t=t._reactInternals;var c=en(),p=ur(c);p.payload=a,l!=null&&(p.callback=l),a=cr(t,p,c),a!==null&&(tn(a,t,c),Fi(a,t,c))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var c=en(),p=ur(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=cr(t,p,c),a!==null&&(tn(a,t,c),Fi(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=en(),c=ur(l);c.tag=2,a!=null&&(c.callback=a),a=cr(t,c,l),a!==null&&(tn(a,t,l),Fi(a,t,l))}};function Jm(t,a,l,c,p,y,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,_):a.prototype&&a.prototype.isPureReactComponent?!Mi(l,c)||!Mi(p,y):!0}function Wm(t,a,l,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==t&&ic.enqueueReplaceState(a,a.state,null)}function Wr(t,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(t=t.defaultProps){l===a&&(l=g({},l));for(var p in t)l[p]===void 0&&(l[p]=t[p])}return l}var Ps=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zm(t){Ps(t)}function e0(t){console.error(t)}function t0(t){Ps(t)}function zs(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function n0(t,a,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function lc(t,a,l){return l=ur(l),l.tag=3,l.payload={element:null},l.callback=function(){zs(t,a)},l}function r0(t){return t=ur(t),t.tag=3,t}function a0(t,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;t.payload=function(){return p(y)},t.callback=function(){n0(a,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){n0(a,l,c),typeof p!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function l1(t,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Bi(a,l,p,!0),l=fn.current,l!==null){switch(l.tag){case 13:return An===null?Cc():l.alternate===null&&it===0&&(it=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Lu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Oc(t,c,p)),!1;case 22:return l.flags|=65536,c===Lu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Oc(t,c,p)),!1}throw Error(i(435,l.tag))}return Oc(t,c,p),Cc(),!1}if(Be)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Au&&(t=Error(i(422),{cause:c}),Ui(on(t,l)))):(c!==Au&&(a=Error(i(423),{cause:c}),Ui(on(a,l))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=on(c,l),p=lc(t.stateNode,c,p),Uu(t,p),it!==4&&(it=2)),!1;var y=Error(i(520),{cause:c});if(y=on(y,l),il===null?il=[y]:il.push(y),it!==4&&(it=2),a===null)return!0;c=on(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=p&-p,l.lanes|=t,t=lc(l.stateNode,c,t),Uu(l,t),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=r0(p),a0(p,t,l,c),Uu(l,p),!1}l=l.return}while(l!==null);return!1}var i0=Error(i(461)),yt=!1;function St(t,a,l,c){a.child=t===null?Xm(a,null,l,c):za(a,t.child,l,c)}function l0(t,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var _={};for(var C in c)C!=="ref"&&(_[C]=c[C])}else _=c;return Xr(a),c=$u(t,a,l,_,y,p),C=Fu(),t!==null&&!yt?(Gu(t,a,p),Yn(t,a,p)):(Be&&C&&ju(a),a.flags|=1,St(t,a,c,p),a.child)}function s0(t,a,l,c,p){if(t===null){var y=l.type;return typeof y=="function"&&!Su(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,o0(t,a,y,c,p)):(t=gs(l.type,null,c,a,a.mode,p),t.ref=a.ref,t.return=a,a.child=t)}if(y=t.child,!mc(t,p)){var _=y.memoizedProps;if(l=l.compare,l=l!==null?l:Mi,l(_,c)&&t.ref===a.ref)return Yn(t,a,p)}return a.flags|=1,t=Bn(y,c),t.ref=a.ref,t.return=a,a.child=t}function o0(t,a,l,c,p){if(t!==null){var y=t.memoizedProps;if(Mi(y,c)&&t.ref===a.ref)if(yt=!1,a.pendingProps=c=y,mc(t,p))(t.flags&131072)!==0&&(yt=!0);else return a.lanes=t.lanes,Yn(t,a,p)}return sc(t,a,l,c,p)}function u0(t,a,l){var c=a.pendingProps,p=c.children,y=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,t!==null){for(p=a.child=t.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return c0(t,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&ws(a,y!==null?y.cachePool:null),y!==null?om(a,y):Iu(),Qm(a);else return a.lanes=a.childLanes=536870912,c0(t,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(ws(a,y.cachePool),om(a,y),hr(),a.memoizedState=null):(t!==null&&ws(a,null),Iu(),hr());return St(t,a,p,l),a.child}function c0(t,a,l,c){var p=Mu();return p=p===null?null:{parent:ht._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},t!==null&&ws(a,null),Iu(),Qm(a),t!==null&&Bi(t,a,c,!0),null}function Us(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function sc(t,a,l,c,p){return Xr(a),l=$u(t,a,l,c,void 0,p),c=Fu(),t!==null&&!yt?(Gu(t,a,p),Yn(t,a,p)):(Be&&c&&ju(a),a.flags|=1,St(t,a,l,p),a.child)}function d0(t,a,l,c,p,y){return Xr(a),a.updateQueue=null,l=cm(a,c,l,p),um(t),c=Fu(),t!==null&&!yt?(Gu(t,a,y),Yn(t,a,y)):(Be&&c&&ju(a),a.flags|=1,St(t,a,l,y),a.child)}function f0(t,a,l,c,p){if(Xr(a),a.stateNode===null){var y=Ta,_=l.contextType;typeof _=="object"&&_!==null&&(y=Nt(_)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ic,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Pu(a),_=l.contextType,y.context=typeof _=="object"&&_!==null?Nt(_):Ta,y.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(ac(a,l,_,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&ic.enqueueReplaceState(y,y.state,null),Yi(a,c,y,p),Gi(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){y=a.stateNode;var C=a.memoizedProps,L=Wr(l,C);y.props=L;var K=y.context,re=l.contextType;_=Ta,typeof re=="object"&&re!==null&&(_=Nt(re));var le=l.getDerivedStateFromProps;re=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||K!==_)&&Wm(a,y,c,_),or=!1;var Q=a.memoizedState;y.state=Q,Yi(a,c,y,p),Gi(),K=a.memoizedState,C||Q!==K||or?(typeof le=="function"&&(ac(a,l,le,c),K=a.memoizedState),(L=or||Jm(a,l,L,c,Q,K,_))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=_,c=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,zu(t,a),_=a.memoizedProps,re=Wr(l,_),y.props=re,le=a.pendingProps,Q=y.context,K=l.contextType,L=Ta,typeof K=="object"&&K!==null&&(L=Nt(K)),C=l.getDerivedStateFromProps,(K=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==le||Q!==L)&&Wm(a,y,c,L),or=!1,Q=a.memoizedState,y.state=Q,Yi(a,c,y,p),Gi();var J=a.memoizedState;_!==le||Q!==J||or||t!==null&&t.dependencies!==null&&vs(t.dependencies)?(typeof C=="function"&&(ac(a,l,C,c),J=a.memoizedState),(re=or||Jm(a,l,re,c,Q,J,L)||t!==null&&t.dependencies!==null&&vs(t.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),y.props=c,y.state=J,y.context=L,c=re):(typeof y.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),c=!1)}return y=c,Us(t,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,t!==null&&c?(a.child=za(a,t.child,null,p),a.child=za(a,null,l,p)):St(t,a,l,p),a.memoizedState=y.state,t=a.child):t=Yn(t,a,p),t}function h0(t,a,l,c){return zi(),a.flags|=256,St(t,a,l,c),a.child}var oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(t){return{baseLanes:t,cachePool:em()}}function cc(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=hn),t}function m0(t,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,_;if((_=y)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(p=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,t===null){if(Be){if(p?fr(a):hr(),Be){var C=at,L;if(L=C){e:{for(L=C,C=Tn;L.nodeType!==8;){if(!C){C=null;break e}if(L=bn(L.nextSibling),L===null){C=null;break e}}C=L}C!==null?(a.memoizedState={dehydrated:C,treeContext:Fr!==null?{id:In,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},L=Qt(18,null,null,0),L.stateNode=C,L.return=a,a.child=L,Lt=a,at=null,L=!0):L=!1}L||Vr(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Vc(C)?a.lanes=32:a.lanes=536870912,null;Gn(a)}return C=c.children,c=c.fallback,p?(hr(),p=a.mode,C=Bs({mode:"hidden",children:C},p),c=$r(c,p,l,null),C.return=a,c.return=a,C.sibling=c,a.child=C,p=a.child,p.memoizedState=uc(l),p.childLanes=cc(t,_,l),a.memoizedState=oc,c):(fr(a),dc(a,C))}if(L=t.memoizedState,L!==null&&(C=L.dehydrated,C!==null)){if(y)a.flags&256?(fr(a),a.flags&=-257,a=fc(t,a,l)):a.memoizedState!==null?(hr(),a.child=t.child,a.flags|=128,a=null):(hr(),p=c.fallback,C=a.mode,c=Bs({mode:"visible",children:c.children},C),p=$r(p,C,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,za(a,t.child,null,l),c=a.child,c.memoizedState=uc(l),c.childLanes=cc(t,_,l),a.memoizedState=oc,a=p);else if(fr(a),Vc(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(i(419)),c.stack="",c.digest=_,Ui({value:c,source:null,stack:null}),a=fc(t,a,l)}else if(yt||Bi(t,a,l,!1),_=(l&t.childLanes)!==0,yt||_){if(_=Je,_!==null&&(c=l&-l,c=(c&42)!==0?1:Ko(c),c=(c&(_.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,ja(t,c),tn(_,t,c),i0;C.data==="$?"||Cc(),a=fc(t,a,l)}else C.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=L.treeContext,at=bn(C.nextSibling),Lt=a,Be=!0,Yr=null,Tn=!1,t!==null&&(cn[dn++]=In,cn[dn++]=Hn,cn[dn++]=Fr,In=t.id,Hn=t.overflow,Fr=a),a=dc(a,c.children),a.flags|=4096);return a}return p?(hr(),p=c.fallback,C=a.mode,L=t.child,K=L.sibling,c=Bn(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,K!==null?p=Bn(K,p):(p=$r(p,C,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,C=t.child.memoizedState,C===null?C=uc(l):(L=C.cachePool,L!==null?(K=ht._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=em(),C={baseLanes:C.baseLanes|l,cachePool:L}),p.memoizedState=C,p.childLanes=cc(t,_,l),a.memoizedState=oc,c):(fr(a),l=t.child,t=l.sibling,l=Bn(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,t!==null&&(_=a.deletions,_===null?(a.deletions=[t],a.flags|=16):_.push(t)),a.child=l,a.memoizedState=null,l)}function dc(t,a){return a=Bs({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Bs(t,a){return t=Qt(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fc(t,a,l){return za(a,t.child,null,l),t=dc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function p0(t,a,l){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Cu(t.return,a,l)}function hc(t,a,l,c,p){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function g0(t,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(St(t,a,c.children,l),c=mt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,l,a);else if(t.tag===19)p0(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(R(mt,c),p){case"forwards":for(l=a.child,p=null;l!==null;)t=l.alternate,t!==null&&Ls(t)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),hc(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(t=p.alternate,t!==null&&Ls(t)===null){a.child=p;break}t=p.sibling,p.sibling=l,l=p,p=t}hc(a,!0,l,null,y);break;case"together":hc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Yn(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),yr|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(Bi(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,l=Bn(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=Bn(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function mc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&vs(t)))}function s1(t,a,l){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),sr(a,ht,t.memoizedState.cache),zi();break;case 27:case 5:pe(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:sr(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(fr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?m0(t,a,l):(fr(a),t=Yn(t,a,l),t!==null?t.sibling:null);fr(a);break;case 19:var p=(t.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Bi(t,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return g0(t,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),R(mt,mt.current),c)break;return null;case 22:case 23:return a.lanes=0,u0(t,a,l);case 24:sr(a,ht,t.memoizedState.cache)}return Yn(t,a,l)}function x0(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)yt=!0;else{if(!mc(t,l)&&(a.flags&128)===0)return yt=!1,s1(t,a,l);yt=(t.flags&131072)!==0}else yt=!1,Be&&(a.flags&1048576)!==0&&Vh(a,ys,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Su(c)?(t=Wr(c,t),a.tag=1,a=f0(null,a,c,t,l)):(a.tag=0,a=sc(null,a,c,t,l));else{if(c!=null){if(p=c.$$typeof,p===N){a.tag=11,a=l0(null,a,c,t,l);break e}else if(p===G){a.tag=14,a=s0(null,a,c,t,l);break e}}throw a=ae(c)||c,Error(i(306,a,""))}}return a;case 0:return sc(t,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Wr(c,a.pendingProps),f0(t,a,c,p,l);case 3:e:{if(ue(a,a.stateNode.containerInfo),t===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,zu(t,a),Yi(a,c,null,l);var _=a.memoizedState;if(c=_.cache,sr(a,ht,c),c!==y.cache&&Ru(a,[ht],l,!0),Gi(),c=_.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=h0(t,a,c,l);break e}else if(c!==p){p=on(Error(i(424)),a),Ui(p),a=h0(t,a,c,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=bn(t.firstChild),Lt=a,Be=!0,Yr=null,Tn=!0,l=Xm(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(zi(),c===p){a=Yn(t,a,l);break e}St(t,a,c,l)}a=a.child}return a;case 26:return Us(t,a),t===null?(l=wp(a.type,null,a.pendingProps,null))?a.memoizedState=l:Be||(l=a.type,t=a.pendingProps,c=Zs(z.current).createElement(l),c[At]=a,c[Bt]=t,Et(c,l,t),xt(c),a.stateNode=c):a.memoizedState=wp(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return pe(a),t===null&&Be&&(c=a.stateNode=yp(a.type,a.pendingProps,z.current),Lt=a,Tn=!0,p=at,kr(a.type)?(Kc=p,at=bn(c.firstChild)):at=p),St(t,a,a.pendingProps.children,l),Us(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Be&&((p=c=at)&&(c=L1(c,a.type,a.pendingProps,Tn),c!==null?(a.stateNode=c,Lt=a,at=bn(c.firstChild),Tn=!1,p=!0):p=!1),p||Vr(a)),pe(a),p=a.type,y=a.pendingProps,_=t!==null?t.memoizedProps:null,c=y.children,Fc(p,y)?c=null:_!==null&&Fc(p,_)&&(a.flags|=32),a.memoizedState!==null&&(p=$u(t,a,Zb,null,null,l),ml._currentValue=p),Us(t,a),St(t,a,c,l),a.child;case 6:return t===null&&Be&&((t=l=at)&&(l=P1(l,a.pendingProps,Tn),l!==null?(a.stateNode=l,Lt=a,at=null,t=!0):t=!1),t||Vr(a)),null;case 13:return m0(t,a,l);case 4:return ue(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=za(a,null,c,l):St(t,a,c,l),a.child;case 11:return l0(t,a,a.type,a.pendingProps,l);case 7:return St(t,a,a.pendingProps,l),a.child;case 8:return St(t,a,a.pendingProps.children,l),a.child;case 12:return St(t,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,sr(a,a.type,c.value),St(t,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Xr(a),p=Nt(p),c=c(p),a.flags|=1,St(t,a,c,l),a.child;case 14:return s0(t,a,a.type,a.pendingProps,l);case 15:return o0(t,a,a.type,a.pendingProps,l);case 19:return g0(t,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},t===null?(l=Bs(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Bn(t.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return u0(t,a,l);case 24:return Xr(a),c=Nt(ht),t===null?(p=Mu(),p===null&&(p=Je,y=Ou(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},Pu(a),sr(a,ht,p)):((t.lanes&l)!==0&&(zu(t,a),Yi(a,null,null,l),Gi()),p=t.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),sr(a,ht,c)):(c=y.cache,sr(a,ht,c),c!==p.cache&&Ru(a,[ht],l,!0))),St(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Vn(t){t.flags|=4}function y0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jp(a)){if(a=fn.current,a!==null&&((Pe&4194048)===Pe?An!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||a!==An))throw $i=Lu,tm;t.flags|=8192}}function Is(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Qf():536870912,t.lanes|=a,Ha|=a)}function Zi(t,a){if(!Be)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function rt(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(a)for(var p=t.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=l,a}function o1(t,a,l){var c=a.pendingProps;switch(Tu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return l=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),$n(ht),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Pi(a)?Vn(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qh())),rt(a),null;case 26:return l=a.memoizedState,t===null?(Vn(a),l!==null?(rt(a),y0(a,l)):(rt(a),a.flags&=-16777217)):l?l!==t.memoizedState?(Vn(a),rt(a),y0(a,l)):(rt(a),a.flags&=-16777217):(t.memoizedProps!==c&&Vn(a),rt(a),a.flags&=-16777217),null;case 27:ge(a),l=z.current;var p=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Vn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}t=se.current,Pi(a)?Kh(a):(t=yp(p,c,l),a.stateNode=t,Vn(a))}return rt(a),null;case 5:if(ge(a),l=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Vn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return rt(a),null}if(t=se.current,Pi(a))Kh(a);else{switch(p=Zs(z.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}t[At]=a,t[Bt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=t;e:switch(Et(t,l,c),l){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vn(a)}}return rt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&Vn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(t=z.current,Pi(a)){if(t=a.stateNode,l=a.memoizedProps,c=null,p=Lt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[At]=a,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||dp(t.nodeValue,l)),t||Vr(a)}else t=Zs(t).createTextNode(c),t[At]=a,a.stateNode=t}return rt(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Pi(a),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[At]=a}else zi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),p=!1}else p=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Gn(a),a):(Gn(a),null)}if(Gn(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,t=t!==null&&t.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==t&&l&&(a.child.flags|=8192),Is(a,a.updateQueue),rt(a),null;case 4:return me(),t===null&&Bc(a.stateNode.containerInfo),rt(a),null;case 10:return $n(a.type),rt(a),null;case 19:if(I(mt),p=a.memoizedState,p===null)return rt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Zi(p,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(y=Ls(t),y!==null){for(a.flags|=128,Zi(p,!1),t=y.updateQueue,a.updateQueue=t,Is(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Yh(l,t),l=l.sibling;return R(mt,mt.current&1|2),a.child}t=t.sibling}p.tail!==null&&ve()>$s&&(a.flags|=128,c=!0,Zi(p,!1),a.lanes=4194304)}else{if(!c)if(t=Ls(y),t!==null){if(a.flags|=128,c=!0,t=t.updateQueue,a.updateQueue=t,Is(a,t),Zi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Be)return rt(a),null}else 2*ve()-p.renderingStartTime>$s&&l!==536870912&&(a.flags|=128,c=!0,Zi(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(t=p.last,t!==null?t.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ve(),a.sibling=null,t=mt.current,R(mt,c?t&1|2:t&1),a):(rt(a),null);case 22:case 23:return Gn(a),Hu(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),l=a.updateQueue,l!==null&&Is(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),t!==null&&I(Qr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$n(ht),rt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function u1(t,a){switch(Tu(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return $n(ht),me(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return ge(a),null;case 13:if(Gn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));zi()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return I(mt),null;case 4:return me(),null;case 10:return $n(a.type),null;case 22:case 23:return Gn(a),Hu(),t!==null&&I(Qr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return $n(ht),null;case 25:return null;default:return null}}function v0(t,a){switch(Tu(a),a.tag){case 3:$n(ht),me();break;case 26:case 27:case 5:ge(a);break;case 4:me();break;case 13:Gn(a);break;case 19:I(mt);break;case 10:$n(a.type);break;case 22:case 23:Gn(a),Hu(),t!==null&&I(Qr);break;case 24:$n(ht)}}function el(t,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&t)===t){c=void 0;var y=l.create,_=l.inst;c=y(),_.destroy=c}l=l.next}while(l!==p)}}catch(C){Xe(a,a.return,C)}}function mr(t,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&t)===t){var _=c.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,p=a;var L=l,K=C;try{K()}catch(re){Xe(p,L,re)}}}c=c.next}while(c!==y)}}catch(re){Xe(a,a.return,re)}}function b0(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{sm(a,l)}catch(c){Xe(t,t.return,c)}}}function w0(t,a,l){l.props=Wr(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){Xe(t,a,c)}}function tl(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(p){Xe(t,a,p)}}function Nn(t,a){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Xe(t,a,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Xe(t,a,p)}else l.current=null}function k0(t){var a=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Xe(t,t.return,p)}}function pc(t,a,l){try{var c=t.stateNode;C1(c,t.type,l,a),c[Bt]=a}catch(p){Xe(t,t.return,p)}}function S0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&kr(t.type)||t.tag===4}function gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ws));else if(c!==4&&(c===27&&kr(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(xc(t,a,l),t=t.sibling;t!==null;)xc(t,a,l),t=t.sibling}function Hs(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(c!==4&&(c===27&&kr(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Hs(t,a,l),t=t.sibling;t!==null;)Hs(t,a,l),t=t.sibling}function _0(t){var a=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Et(a,c,l),a[At]=t,a[Bt]=l}catch(y){Xe(t,t.return,y)}}var Kn=!1,ut=!1,yc=!1,E0=typeof WeakSet=="function"?WeakSet:Set,vt=null;function c1(t,a){if(t=t.containerInfo,qc=io,t=Ph(t),gu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var _=0,C=-1,L=-1,K=0,re=0,le=t,Q=null;t:for(;;){for(var J;le!==l||p!==0&&le.nodeType!==3||(C=_+p),le!==y||c!==0&&le.nodeType!==3||(L=_+c),le.nodeType===3&&(_+=le.nodeValue.length),(J=le.firstChild)!==null;)Q=le,le=J;for(;;){if(le===t)break t;if(Q===l&&++K===p&&(C=_),Q===y&&++re===c&&(L=_),(J=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=J}l=C===-1||L===-1?null:{start:C,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for($c={focusedElem:t,selectionRange:l},io=!1,vt=a;vt!==null;)if(a=vt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,vt=t;else for(;vt!==null;){switch(a=vt,y=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var je=Wr(l.type,p,l.elementType===l.type);t=c.getSnapshotBeforeUpdate(je,y),c.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Xe(l,l.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Yc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,vt=t;break}vt=a.return}}function j0(t,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:pr(t,l),c&4&&el(5,l);break;case 1:if(pr(t,l),c&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(_){Xe(l,l.return,_)}else{var p=Wr(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(p,a,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(l,l.return,_)}}c&64&&b0(l),c&512&&tl(l,l.return);break;case 3:if(pr(t,l),c&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{sm(t,a)}catch(_){Xe(l,l.return,_)}}break;case 27:a===null&&c&4&&_0(l);case 26:case 5:pr(t,l),a===null&&c&4&&k0(l),c&512&&tl(l,l.return);break;case 12:pr(t,l);break;case 13:pr(t,l),c&4&&N0(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=v1.bind(null,l),z1(t,l))));break;case 22:if(c=l.memoizedState!==null||Kn,!c){a=a!==null&&a.memoizedState!==null||ut,p=Kn;var y=ut;Kn=c,(ut=a)&&!y?gr(t,l,(l.subtreeFlags&8772)!==0):pr(t,l),Kn=p,ut=y}break;case 30:break;default:pr(t,l)}}function T0(t){var a=t.alternate;a!==null&&(t.alternate=null,T0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Jo(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,qt=!1;function Xn(t,a,l){for(l=l.child;l!==null;)A0(t,a,l),l=l.sibling}function A0(t,a,l){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(ne,l)}catch{}switch(l.tag){case 26:ut||Nn(l,a),Xn(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||Nn(l,a);var c=tt,p=qt;kr(l.type)&&(tt=l.stateNode,qt=!1),Xn(t,a,l),cl(l.stateNode),tt=c,qt=p;break;case 5:ut||Nn(l,a);case 6:if(c=tt,p=qt,tt=null,Xn(t,a,l),tt=c,qt=p,tt!==null)if(qt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(l.stateNode)}catch(y){Xe(l,a,y)}else try{tt.removeChild(l.stateNode)}catch(y){Xe(l,a,y)}break;case 18:tt!==null&&(qt?(t=tt,gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),yl(t)):gp(tt,l.stateNode));break;case 4:c=tt,p=qt,tt=l.stateNode.containerInfo,qt=!0,Xn(t,a,l),tt=c,qt=p;break;case 0:case 11:case 14:case 15:ut||mr(2,l,a),ut||mr(4,l,a),Xn(t,a,l);break;case 1:ut||(Nn(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&w0(l,a,c)),Xn(t,a,l);break;case 21:Xn(t,a,l);break;case 22:ut=(c=ut)||l.memoizedState!==null,Xn(t,a,l),ut=c;break;default:Xn(t,a,l)}}function N0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(l){Xe(a,a.return,l)}}function d1(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new E0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new E0),a;default:throw Error(i(435,t.tag))}}function vc(t,a){var l=d1(t);a.forEach(function(c){var p=b1.bind(null,t,c);l.has(c)||(l.add(c),c.then(p,p))})}function Jt(t,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=t,_=a,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(kr(C.type)){tt=C.stateNode,qt=!1;break e}break;case 5:tt=C.stateNode,qt=!1;break e;case 3:case 4:tt=C.stateNode.containerInfo,qt=!0;break e}C=C.return}if(tt===null)throw Error(i(160));A0(y,_,p),tt=null,qt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)C0(a,t),a=a.sibling}var vn=null;function C0(t,a){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jt(a,t),Wt(t),c&4&&(mr(3,t,t.return),el(3,t),mr(5,t,t.return));break;case 1:Jt(a,t),Wt(t),c&512&&(ut||l===null||Nn(l,l.return)),c&64&&Kn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=vn;if(Jt(a,t),Wt(t),c&512&&(ut||l===null||Nn(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ei]||y[At]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Et(y,c,l),y[At]=t,xt(y),c=y;break e;case"link":var _=_p("link","href",p).get(c+(l.href||""));if(_){for(var C=0;C<_.length;C++)if(y=_[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(C,1);break t}}y=p.createElement(c),Et(y,c,l),p.head.appendChild(y);break;case"meta":if(_=_p("meta","content",p).get(c+(l.content||""))){for(C=0;C<_.length;C++)if(y=_[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(C,1);break t}}y=p.createElement(c),Et(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[At]=t,xt(y),c=y}t.stateNode=c}else Ep(p,t.type,t.stateNode);else t.stateNode=Sp(p,c,t.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?Ep(p,t.type,t.stateNode):Sp(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&pc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Jt(a,t),Wt(t),c&512&&(ut||l===null||Nn(l,l.return)),l!==null&&c&4&&pc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Jt(a,t),Wt(t),c&512&&(ut||l===null||Nn(l,l.return)),t.flags&32){p=t.stateNode;try{va(p,"")}catch(J){Xe(t,t.return,J)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,pc(t,p,l!==null?l.memoizedProps:p)),c&1024&&(yc=!0);break;case 6:if(Jt(a,t),Wt(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(J){Xe(t,t.return,J)}}break;case 3:if(no=null,p=vn,vn=eo(a.containerInfo),Jt(a,t),vn=p,Wt(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{yl(a.containerInfo)}catch(J){Xe(t,t.return,J)}yc&&(yc=!1,R0(t));break;case 4:c=vn,vn=eo(t.stateNode.containerInfo),Jt(a,t),Wt(t),vn=c;break;case 12:Jt(a,t),Wt(t);break;case 13:Jt(a,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ec=ve()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vc(t,c)));break;case 22:p=t.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,K=Kn,re=ut;if(Kn=K||p,ut=re||L,Jt(a,t),ut=re,Kn=K,Wt(t),c&8192)e:for(a=t.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||L||Kn||ut||Zr(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(y=L.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=L.stateNode;var le=L.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){Xe(L,L.return,J)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(J){Xe(L,L.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,vc(t,l))));break;case 19:Jt(a,t),Wt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vc(t,c)));break;case 30:break;case 21:break;default:Jt(a,t),Wt(t)}}function Wt(t){var a=t.flags;if(a&2){try{for(var l,c=t.return;c!==null;){if(S0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=gc(t);Hs(t,y,p);break;case 5:var _=l.stateNode;l.flags&32&&(va(_,""),l.flags&=-33);var C=gc(t);Hs(t,C,_);break;case 3:case 4:var L=l.stateNode.containerInfo,K=gc(t);xc(t,K,L);break;default:throw Error(i(161))}}catch(re){Xe(t,t.return,re)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function R0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;R0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function pr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)j0(t,a.alternate,a),a=a.sibling}function Zr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:mr(4,a,a.return),Zr(a);break;case 1:Nn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&w0(a,a.return,l),Zr(a);break;case 27:cl(a.stateNode);case 26:case 5:Nn(a,a.return),Zr(a);break;case 22:a.memoizedState===null&&Zr(a);break;case 30:Zr(a);break;default:Zr(a)}t=t.sibling}}function gr(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=t,y=a,_=y.flags;switch(y.tag){case 0:case 11:case 15:gr(p,y,l),el(4,y);break;case 1:if(gr(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){Xe(c,c.return,K)}if(c=y,p=c.updateQueue,p!==null){var C=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)lm(L[p],C)}catch(K){Xe(c,c.return,K)}}l&&_&64&&b0(y),tl(y,y.return);break;case 27:_0(y);case 26:case 5:gr(p,y,l),l&&c===null&&_&4&&k0(y),tl(y,y.return);break;case 12:gr(p,y,l);break;case 13:gr(p,y,l),l&&_&4&&N0(p,y);break;case 22:y.memoizedState===null&&gr(p,y,l),tl(y,y.return);break;case 30:break;default:gr(p,y,l)}a=a.sibling}}function bc(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Ii(l))}function wc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ii(t))}function Cn(t,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)O0(t,a,l,c),a=a.sibling}function O0(t,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(t,a,l,c),p&2048&&el(9,a);break;case 1:Cn(t,a,l,c);break;case 3:Cn(t,a,l,c),p&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ii(t)));break;case 12:if(p&2048){Cn(t,a,l,c),t=a.stateNode;try{var y=a.memoizedProps,_=y.id,C=y.onPostCommit;typeof C=="function"&&C(_,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Xe(a,a.return,L)}}else Cn(t,a,l,c);break;case 13:Cn(t,a,l,c);break;case 23:break;case 22:y=a.stateNode,_=a.alternate,a.memoizedState!==null?y._visibility&2?Cn(t,a,l,c):nl(t,a):y._visibility&2?Cn(t,a,l,c):(y._visibility|=2,Ua(t,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&bc(_,a);break;case 24:Cn(t,a,l,c),p&2048&&wc(a.alternate,a);break;default:Cn(t,a,l,c)}}function Ua(t,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=t,_=a,C=l,L=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(y,_,C,L,p),el(8,_);break;case 23:break;case 22:var re=_.stateNode;_.memoizedState!==null?re._visibility&2?Ua(y,_,C,L,p):nl(y,_):(re._visibility|=2,Ua(y,_,C,L,p)),p&&K&2048&&bc(_.alternate,_);break;case 24:Ua(y,_,C,L,p),p&&K&2048&&wc(_.alternate,_);break;default:Ua(y,_,C,L,p)}a=a.sibling}}function nl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,c=a,p=c.flags;switch(c.tag){case 22:nl(l,c),p&2048&&bc(c.alternate,c);break;case 24:nl(l,c),p&2048&&wc(c.alternate,c);break;default:nl(l,c)}a=a.sibling}}var rl=8192;function Ba(t){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)D0(t),t=t.sibling}function D0(t){switch(t.tag){case 26:Ba(t),t.flags&rl&&t.memoizedState!==null&&Q1(vn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var a=vn;vn=eo(t.stateNode.containerInfo),Ba(t),vn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=rl,rl=16777216,Ba(t),rl=a):Ba(t));break;default:Ba(t)}}function M0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function al(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];vt=c,P0(c,t)}M0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L0(t),t=t.sibling}function L0(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&mr(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,qs(t)):al(t);break;default:al(t)}}function qs(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];vt=c,P0(c,t)}M0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:mr(8,a,a.return),qs(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,qs(a));break;default:qs(a)}t=t.sibling}}function P0(t,a){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:mr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ii(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,vt=c;else e:for(l=t;vt!==null;){c=vt;var p=c.sibling,y=c.return;if(T0(c),c===l){vt=null;break e}if(p!==null){p.return=y,vt=p;break e}vt=y}}}var f1={getCacheForType:function(t){var a=Nt(ht),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l}},h1=typeof WeakMap=="function"?WeakMap:Map,$e=0,Je=null,Oe=null,Pe=0,Fe=0,Zt=null,xr=!1,Ia=!1,kc=!1,Qn=0,it=0,yr=0,ea=0,Sc=0,hn=0,Ha=0,il=null,$t=null,_c=!1,Ec=0,$s=1/0,Fs=null,vr=null,_t=0,br=null,qa=null,$a=0,jc=0,Tc=null,z0=null,ll=0,Ac=null;function en(){if(($e&2)!==0&&Pe!==0)return Pe&-Pe;if(B.T!==null){var t=Ca;return t!==0?t:Lc()}return Zf()}function U0(){hn===0&&(hn=(Pe&536870912)===0||Be?Xf():536870912);var t=fn.current;return t!==null&&(t.flags|=32),hn}function tn(t,a,l){(t===Je&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),wr(t,Pe,hn,!1)),_i(t,l),(($e&2)===0||t!==Je)&&(t===Je&&(($e&2)===0&&(ea|=l),it===4&&wr(t,Pe,hn,!1)),Rn(t))}function B0(t,a,l){if(($e&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&t.expiredLanes)===0||an(t,a),p=c?g1(t,a):Rc(t,a,!0),y=c;do{if(p===0){Ia&&!c&&wr(t,a,0,!1);break}else{if(l=t.current.alternate,y&&!m1(l)){p=Rc(t,a,!1),y=!1;continue}if(p===2){if(y=a,t.errorRecoveryDisabledLanes&y)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var C=t;p=il;var L=C.current.memoizedState.isDehydrated;if(L&&(Fa(C,_).flags|=256),_=Rc(C,_,!1),_!==2){if(kc&&!L){C.errorRecoveryDisabledLanes|=y,ea|=y,p=4;break e}y=$t,$t=p,y!==null&&($t===null?$t=y:$t.push.apply($t,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){Fa(t,0),wr(t,a,0,!0);break}e:{switch(c=t,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wr(c,a,hn,!xr);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ec+300-ve(),10<p)){if(wr(c,a,hn,!xr),gt(c,0,!0)!==0)break e;c.timeoutHandle=mp(I0.bind(null,c,l,$t,Fs,_c,a,hn,ea,Ha,xr,y,2,-0,0),p);break e}I0(c,l,$t,Fs,_c,a,hn,ea,Ha,xr,y,0,-0,0)}}break}while(!0);Rn(t)}function I0(t,a,l,c,p,y,_,C,L,K,re,le,Q,J){if(t.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:X1},D0(a),le=J1(),le!==null)){t.cancelPendingCommit=le(V0.bind(null,t,a,y,l,c,p,_,C,L,re,1,Q,J)),wr(t,y,_,!K);return}V0(t,a,y,l,c,p,_,C,L)}function m1(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!Xt(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wr(t,a,l,c){a&=~Sc,a&=~ea,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var p=a;0<p;){var y=31-Ee(p),_=1<<y;c[y]=-1,p&=~_}l!==0&&Jf(t,l,a)}function Gs(){return($e&6)===0?(sl(0),!1):!0}function Nc(){if(Oe!==null){if(Fe===0)var t=Oe.return;else t=Oe,qn=Kr=null,Yu(t),Pa=null,Ji=0,t=Oe;for(;t!==null;)v0(t.alternate,t),t=t.return;Oe=null}}function Fa(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,O1(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Nc(),Je=t,Oe=l=Bn(t.current,null),Pe=a,Fe=0,Zt=null,xr=!1,Ia=an(t,a),kc=!1,Ha=hn=Sc=ea=yr=it=0,$t=il=null,_c=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var p=31-Ee(c),y=1<<p;a|=t[p],c&=~y}return Qn=a,hs(),l}function H0(t,a){Ce=null,B.H=Os,a===qi||a===ks?(a=am(),Fe=3):a===tm?(a=am(),Fe=4):Fe=a===i0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zt=a,Oe===null&&(it=1,zs(t,on(a,t.current)))}function q0(){var t=B.H;return B.H=Os,t===null?Os:t}function $0(){var t=B.A;return B.A=f1,t}function Cc(){it=4,xr||(Pe&4194048)!==Pe&&fn.current!==null||(Ia=!0),(yr&134217727)===0&&(ea&134217727)===0||Je===null||wr(Je,Pe,hn,!1)}function Rc(t,a,l){var c=$e;$e|=2;var p=q0(),y=$0();(Je!==t||Pe!==a)&&(Fs=null,Fa(t,a)),a=!1;var _=it;e:do try{if(Fe!==0&&Oe!==null){var C=Oe,L=Zt;switch(Fe){case 8:Nc(),_=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var K=Fe;if(Fe=0,Zt=null,Ga(t,C,L,K),l&&Ia){_=0;break e}break;default:K=Fe,Fe=0,Zt=null,Ga(t,C,L,K)}}p1(),_=it;break}catch(re){H0(t,re)}while(!0);return a&&t.shellSuspendCounter++,qn=Kr=null,$e=c,B.H=p,B.A=y,Oe===null&&(Je=null,Pe=0,hs()),_}function p1(){for(;Oe!==null;)F0(Oe)}function g1(t,a){var l=$e;$e|=2;var c=q0(),p=$0();Je!==t||Pe!==a?(Fs=null,$s=ve()+500,Fa(t,a)):Ia=an(t,a);e:do try{if(Fe!==0&&Oe!==null){a=Oe;var y=Zt;t:switch(Fe){case 1:Fe=0,Zt=null,Ga(t,a,y,1);break;case 2:case 9:if(nm(y)){Fe=0,Zt=null,G0(a);break}a=function(){Fe!==2&&Fe!==9||Je!==t||(Fe=7),Rn(t)},y.then(a,a);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:nm(y)?(Fe=0,Zt=null,G0(a)):(Fe=0,Zt=null,Ga(t,a,y,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var C=Oe;if(!_||jp(_)){Fe=0,Zt=null;var L=C.sibling;if(L!==null)Oe=L;else{var K=C.return;K!==null?(Oe=K,Ys(K)):Oe=null}break t}}Fe=0,Zt=null,Ga(t,a,y,5);break;case 6:Fe=0,Zt=null,Ga(t,a,y,6);break;case 8:Nc(),it=6;break e;default:throw Error(i(462))}}x1();break}catch(re){H0(t,re)}while(!0);return qn=Kr=null,B.H=c,B.A=p,$e=l,Oe!==null?0:(Je=null,Pe=0,hs(),it)}function x1(){for(;Oe!==null&&!jt();)F0(Oe)}function F0(t){var a=x0(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,a===null?Ys(t):Oe=a}function G0(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=d0(l,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=d0(l,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Yu(a);default:v0(l,a),a=Oe=Yh(a,Qn),a=x0(l,a,Qn)}t.memoizedProps=t.pendingProps,a===null?Ys(t):Oe=a}function Ga(t,a,l,c){qn=Kr=null,Yu(a),Pa=null,Ji=0;var p=a.return;try{if(l1(t,p,a,l,Pe)){it=1,zs(t,on(l,t.current)),Oe=null;return}}catch(y){if(p!==null)throw Oe=p,y;it=1,zs(t,on(l,t.current)),Oe=null;return}a.flags&32768?(Be||c===1?t=!0:Ia||(Pe&536870912)!==0?t=!1:(xr=t=!0,(c===2||c===9||c===3||c===6)&&(c=fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Y0(a,t)):Ys(a)}function Ys(t){var a=t;do{if((a.flags&32768)!==0){Y0(a,xr);return}t=a.return;var l=o1(a.alternate,a,Qn);if(l!==null){Oe=l;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=t}while(a!==null);it===0&&(it=5)}function Y0(t,a){do{var l=u1(t.alternate,t);if(l!==null){l.flags&=32767,Oe=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=l}while(t!==null);it=6,Oe=null}function V0(t,a,l,c,p,y,_,C,L){t.cancelPendingCommit=null;do Vs();while(_t!==0);if(($e&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=wu,Xv(t,l,y,_,C,L),t===Je&&(Oe=Je=null,Pe=0),qa=a,br=t,$a=l,jc=y,Tc=p,z0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,w1(zt,function(){return W0(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,p=X.p,X.p=2,_=$e,$e|=4;try{c1(t,a,l)}finally{$e=_,X.p=p,B.T=c}}_t=1,K0(),X0(),Q0()}}function K0(){if(_t===1){_t=0;var t=br,a=qa,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var c=X.p;X.p=2;var p=$e;$e|=4;try{C0(a,t);var y=$c,_=Ph(t.containerInfo),C=y.focusedElem,L=y.selectionRange;if(_!==C&&C&&C.ownerDocument&&Lh(C.ownerDocument.documentElement,C)){if(L!==null&&gu(C)){var K=L.start,re=L.end;if(re===void 0&&(re=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(re,C.value.length);else{var le=C.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),je=C.textContent.length,Se=Math.min(L.start,je),Ke=L.end===void 0?Se:Math.min(L.end,je);!J.extend&&Se>Ke&&(_=Ke,Ke=Se,Se=_);var $=Mh(C,Se),U=Mh(C,Ke);if($&&U&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var Y=le.createRange();Y.setStart($.node,$.offset),J.removeAllRanges(),Se>Ke?(J.addRange(Y),J.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),J.addRange(Y))}}}}for(le=[],J=C;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<le.length;C++){var ie=le[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}io=!!qc,$c=qc=null}finally{$e=p,X.p=c,B.T=l}}t.current=a,_t=2}}function X0(){if(_t===2){_t=0;var t=br,a=qa,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var c=X.p;X.p=2;var p=$e;$e|=4;try{j0(t,a.alternate,a)}finally{$e=p,X.p=c,B.T=l}}_t=3}}function Q0(){if(_t===4||_t===3){_t=0,Ln();var t=br,a=qa,l=$a,c=z0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_t=5:(_t=0,qa=br=null,J0(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(vr=null),Xo(l),a=a.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(ne,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=B.T,p=X.p,X.p=2,B.T=null;try{for(var y=t.onRecoverableError,_=0;_<c.length;_++){var C=c[_];y(C.value,{componentStack:C.stack})}}finally{B.T=a,X.p=p}}($a&3)!==0&&Vs(),Rn(t),p=t.pendingLanes,(l&4194090)!==0&&(p&42)!==0?t===Ac?ll++:(ll=0,Ac=t):ll=0,sl(0)}}function J0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ii(a)))}function Vs(t){return K0(),X0(),Q0(),W0()}function W0(){if(_t!==5)return!1;var t=br,a=jc;jc=0;var l=Xo($a),c=B.T,p=X.p;try{X.p=32>l?32:l,B.T=null,l=Tc,Tc=null;var y=br,_=$a;if(_t=0,qa=br=null,$a=0,($e&6)!==0)throw Error(i(331));var C=$e;if($e|=4,L0(y.current),O0(y,y.current,_,l),$e=C,sl(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(ne,y)}catch{}return!0}finally{X.p=p,B.T=c,J0(t,a)}}function Z0(t,a,l){a=on(l,a),a=lc(t.stateNode,a,2),t=cr(t,a,2),t!==null&&(_i(t,2),Rn(t))}function Xe(t,a,l){if(t.tag===3)Z0(t,t,l);else for(;a!==null;){if(a.tag===3){Z0(a,t,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(vr===null||!vr.has(c))){t=on(l,t),l=r0(2),c=cr(a,l,2),c!==null&&(a0(l,c,a,t),_i(c,2),Rn(c));break}}a=a.return}}function Oc(t,a,l){var c=t.pingCache;if(c===null){c=t.pingCache=new h1;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(kc=!0,p.add(l),t=y1.bind(null,t,a,l),a.then(t,t))}function y1(t,a,l){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Je===t&&(Pe&l)===l&&(it===4||it===3&&(Pe&62914560)===Pe&&300>ve()-Ec?($e&2)===0&&Fa(t,0):Sc|=l,Ha===Pe&&(Ha=0)),Rn(t)}function ep(t,a){a===0&&(a=Qf()),t=ja(t,a),t!==null&&(_i(t,a),Rn(t))}function v1(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),ep(t,l)}function b1(t,a){var l=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),ep(t,l)}function w1(t,a){return He(t,a)}var Ks=null,Ya=null,Dc=!1,Xs=!1,Mc=!1,ta=0;function Rn(t){t!==Ya&&t.next===null&&(Ya===null?Ks=Ya=t:Ya=Ya.next=t),Xs=!0,Dc||(Dc=!0,S1())}function sl(t,a){if(!Mc&&Xs){Mc=!0;do for(var l=!1,c=Ks;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var _=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-Ee(42|t)+1)-1,y&=p&~(_&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,ap(c,y))}else y=Pe,y=gt(c,c===Je?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||an(c,y)||(l=!0,ap(c,y));c=c.next}while(l);Mc=!1}}function k1(){tp()}function tp(){Xs=Dc=!1;var t=0;ta!==0&&(R1()&&(t=ta),ta=0);for(var a=ve(),l=null,c=Ks;c!==null;){var p=c.next,y=np(c,a);y===0?(c.next=null,l===null?Ks=p:l.next=p,p===null&&(Ya=l)):(l=c,(t!==0||(y&3)!==0)&&(Xs=!0)),c=p}sl(t)}function np(t,a){for(var l=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var _=31-Ee(y),C=1<<_,L=p[_];L===-1?((C&l)===0||(C&c)!==0)&&(p[_]=xn(C,a)):L<=a&&(t.expiredLanes|=C),y&=~C}if(a=Je,l=Pe,l=gt(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===a&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&st(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||an(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(c!==null&&st(c),Xo(l)){case 2:case 8:l=pt;break;case 32:l=zt;break;case 268435456:l=gn;break;default:l=zt}return c=rp.bind(null,t),l=He(l,c),t.callbackPriority=a,t.callbackNode=l,a}return c!==null&&c!==null&&st(c),t.callbackPriority=2,t.callbackNode=null,2}function rp(t,a){if(_t!==0&&_t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Vs()&&t.callbackNode!==l)return null;var c=Pe;return c=gt(t,t===Je?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(B0(t,c,a),np(t,ve()),t.callbackNode!=null&&t.callbackNode===l?rp.bind(null,t):null)}function ap(t,a){if(Vs())return null;B0(t,a,!0)}function S1(){D1(function(){($e&6)!==0?He(Ge,k1):tp()})}function Lc(){return ta===0&&(ta=Xf()),ta}function ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ls(""+t)}function lp(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function _1(t,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=ip((p[Bt]||null).action),_=c.submitter;_&&(a=(a=_[Bt]||null)?ip(a.formAction):_.getAttribute("formAction"),a!==null&&(y=a,_=null));var C=new cs("action","action",null,c,p);t.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ta!==0){var L=_?lp(p,_):new FormData(p);tc(l,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(C.preventDefault(),L=_?lp(p,_):new FormData(p),tc(l,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var Pc=0;Pc<bu.length;Pc++){var zc=bu[Pc],E1=zc.toLowerCase(),j1=zc[0].toUpperCase()+zc.slice(1);yn(E1,"on"+j1)}yn(Bh,"onAnimationEnd"),yn(Ih,"onAnimationIteration"),yn(Hh,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn($b,"onTransitionRun"),yn(Fb,"onTransitionStart"),yn(Gb,"onTransitionCancel"),yn(qh,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function sp(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var _=c.length-1;0<=_;_--){var C=c[_],L=C.instance,K=C.currentTarget;if(C=C.listener,L!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=K;try{y(p)}catch(re){Ps(re)}p.currentTarget=null,y=L}else for(_=0;_<c.length;_++){if(C=c[_],L=C.instance,K=C.currentTarget,C=C.listener,L!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=K;try{y(p)}catch(re){Ps(re)}p.currentTarget=null,y=L}}}}function De(t,a){var l=a[Qo];l===void 0&&(l=a[Qo]=new Set);var c=t+"__bubble";l.has(c)||(op(a,t,2,!1),l.add(c))}function Uc(t,a,l){var c=0;a&&(c|=4),op(l,t,c,a)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Bc(t){if(!t[Qs]){t[Qs]=!0,th.forEach(function(l){l!=="selectionchange"&&(T1.has(l)||Uc(l,!1,t),Uc(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Qs]||(a[Qs]=!0,Uc("selectionchange",!1,a))}}function op(t,a,l,c){switch(Op(a)){case 2:var p=ew;break;case 8:p=tw;break;default:p=Zc}l=p.bind(null,a,l,t),p=void 0,!su||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(a,l,{capture:!0,passive:p}):t.addEventListener(a,l,!0):p!==void 0?t.addEventListener(a,l,{passive:p}):t.addEventListener(a,l,!1)}function Ic(t,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===p)break;if(_===4)for(_=c.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;C!==null;){if(_=ha(C),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){c=y=_;continue e}C=C.parentNode}}c=c.return}ph(function(){var K=y,re=iu(l),le=[];e:{var Q=$h.get(t);if(Q!==void 0){var J=cs,je=t;switch(t){case"keypress":if(os(l)===0)break e;case"keydown":case"keyup":J=wb;break;case"focusin":je="focus",J=du;break;case"focusout":je="blur",J=du;break;case"beforeblur":case"afterblur":J=du;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_b;break;case Bh:case Ih:case Hh:J=fb;break;case qh:J=jb;break;case"scroll":case"scrollend":J=sb;break;case"wheel":J=Ab;break;case"copy":case"cut":case"paste":J=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=bh;break;case"toggle":case"beforetoggle":J=Cb}var Se=(a&4)!==0,Ke=!Se&&(t==="scroll"||t==="scrollend"),$=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var U=K,Y;U!==null;){var ie=U;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||$===null||(ie=Ti(U,$),ie!=null&&Se.push(ul(U,ie,Y))),Ke)break;U=U.return}0<Se.length&&(Q=new J(Q,je,null,l,re),le.push({event:Q,listeners:Se}))}}if((a&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Q&&l!==au&&(je=l.relatedTarget||l.fromElement)&&(ha(je)||je[fa]))break e;if((J||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(je=l.relatedTarget||l.toElement,J=K,je=je?ha(je):null,je!==null&&(Ke=o(je),Se=je.tag,je!==Ke||Se!==5&&Se!==27&&Se!==6)&&(je=null)):(J=null,je=K),J!==je)){if(Se=yh,ie="onMouseLeave",$="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Se=bh,ie="onPointerLeave",$="onPointerEnter",U="pointer"),Ke=J==null?Q:ji(J),Y=je==null?Q:ji(je),Q=new Se(ie,U+"leave",J,l,re),Q.target=Ke,Q.relatedTarget=Y,ie=null,ha(re)===K&&(Se=new Se($,U+"enter",je,l,re),Se.target=Y,Se.relatedTarget=Ke,ie=Se),Ke=ie,J&&je)t:{for(Se=J,$=je,U=0,Y=Se;Y;Y=Va(Y))U++;for(Y=0,ie=$;ie;ie=Va(ie))Y++;for(;0<U-Y;)Se=Va(Se),U--;for(;0<Y-U;)$=Va($),Y--;for(;U--;){if(Se===$||$!==null&&Se===$.alternate)break t;Se=Va(Se),$=Va($)}Se=null}else Se=null;J!==null&&up(le,Q,J,Se,!1),je!==null&&Ke!==null&&up(le,Ke,je,Se,!0)}}e:{if(Q=K?ji(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var xe=Ah;else if(jh(Q))if(Nh)xe=Ib;else{xe=Ub;var Re=zb}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ru(K.elementType)&&(xe=Ah):xe=Bb;if(xe&&(xe=xe(t,K))){Th(le,xe,l,re);break e}Re&&Re(t,Q,K),t==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&nu(Q,"number",Q.value)}switch(Re=K?ji(K):window,t){case"focusin":(jh(Re)||Re.contentEditable==="true")&&(Sa=Re,xu=K,Li=null);break;case"focusout":Li=xu=Sa=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,zh(le,l,re);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":zh(le,l,re)}var be;if(hu)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ka?_h(t,l)&&(_e="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(_e="onCompositionStart");_e&&(wh&&l.locale!=="ko"&&(ka||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ka&&(be=gh()):(lr=re,ou="value"in lr?lr.value:lr.textContent,ka=!0)),Re=Js(K,_e),0<Re.length&&(_e=new vh(_e,t,null,l,re),le.push({event:_e,listeners:Re}),be?_e.data=be:(be=Eh(l),be!==null&&(_e.data=be)))),(be=Ob?Db(t,l):Mb(t,l))&&(_e=Js(K,"onBeforeInput"),0<_e.length&&(Re=new vh("onBeforeInput","beforeinput",null,l,re),le.push({event:Re,listeners:_e}),Re.data=be)),_1(le,t,K,l,re)}sp(le,a)})}function ul(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Js(t,a){for(var l=a+"Capture",c=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ti(t,l),p!=null&&c.unshift(ul(t,p,y)),p=Ti(t,a),p!=null&&c.push(ul(t,p,y))),t.tag===3)return c;t=t.return}return[]}function Va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function up(t,a,l,c,p){for(var y=a._reactName,_=[];l!==null&&l!==c;){var C=l,L=C.alternate,K=C.stateNode;if(C=C.tag,L!==null&&L===c)break;C!==5&&C!==26&&C!==27||K===null||(L=K,p?(K=Ti(l,y),K!=null&&_.unshift(ul(l,K,L))):p||(K=Ti(l,y),K!=null&&_.push(ul(l,K,L)))),l=l.return}_.length!==0&&t.push({event:a,listeners:_})}var A1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(N1,"")}function dp(t,a){return a=cp(a),cp(t)===a}function Ws(){}function Ve(t,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||va(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&va(t,""+c);break;case"className":rs(t,"class",c);break;case"tabIndex":rs(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(t,l,c);break;case"style":hh(t,c,y);break;case"data":if(a!=="object"){rs(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=ls(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Ve(t,a,"name",p.name,p,null),Ve(t,a,"formEncType",p.formEncType,p,null),Ve(t,a,"formMethod",p.formMethod,p,null),Ve(t,a,"formTarget",p.formTarget,p,null)):(Ve(t,a,"encType",p.encType,p,null),Ve(t,a,"method",p.method,p,null),Ve(t,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=ls(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=Ws);break;case"onScroll":c!=null&&De("scroll",t);break;case"onScrollEnd":c!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=ls(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":De("beforetoggle",t),De("toggle",t),ns(t,"popover",c);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ns(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ib.get(l)||l,ns(t,l,c))}}function Hc(t,a,l,c,p,y){switch(l){case"style":hh(t,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?va(t,c):(typeof c=="number"||typeof c=="bigint")&&va(t,""+c);break;case"onScroll":c!=null&&De("scroll",t);break;case"onScrollEnd":c!=null&&De("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=t[Bt]||null,y=y!=null?y[l]:null,typeof y=="function"&&t.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,c,p);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):ns(t,l,c)}}}function Et(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var _=l[y];if(_!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(t,a,y,_,l,null)}}p&&Ve(t,a,"srcSet",l.srcSet,l,null),c&&Ve(t,a,"src",l.src,l,null);return;case"input":De("invalid",t);var C=y=_=p=null,L=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":_=re;break;case"checked":L=re;break;case"defaultChecked":K=re;break;case"value":y=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:Ve(t,a,c,re,l,null)}}uh(t,y,C,L,K,_,p,!1),as(t);return;case"select":De("invalid",t),c=_=y=null;for(p in l)if(l.hasOwnProperty(p)&&(C=l[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":_=C;break;case"multiple":c=C;default:Ve(t,a,p,C,l,null)}a=y,l=_,t.multiple=!!c,a!=null?ya(t,!!c,a,!1):l!=null&&ya(t,!!c,l,!0);return;case"textarea":De("invalid",t),y=p=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(C=l[_],C!=null))switch(_){case"value":c=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Ve(t,a,_,C,l,null)}dh(t,c,p,y),as(t);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ve(t,a,L,c,l,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(c=0;c<ol.length;c++)De(ol[c],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(t,a,K,c,l,null)}return;default:if(ru(a)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Hc(t,a,re,c,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(c=l[C],c!=null&&Ve(t,a,C,c,l,null))}function C1(t,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,C=null,L=null,K=null,re=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=le;default:c.hasOwnProperty(J)||Ve(t,a,J,null,c,le)}}for(var Q in c){var J=c[Q];if(le=l[Q],c.hasOwnProperty(Q)&&(J!=null||le!=null))switch(Q){case"type":y=J;break;case"name":p=J;break;case"checked":K=J;break;case"defaultChecked":re=J;break;case"value":_=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==le&&Ve(t,a,Q,J,c,le)}}tu(t,_,C,L,K,re,y,p);return;case"select":J=_=C=Q=null;for(y in l)if(L=l[y],l.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(y)||Ve(t,a,y,null,c,L)}for(p in c)if(y=c[p],L=l[p],c.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":Q=y;break;case"defaultValue":C=y;break;case"multiple":_=y;default:y!==L&&Ve(t,a,p,y,c,L)}a=C,l=_,c=J,Q!=null?ya(t,!!l,Q,!1):!!c!=!!l&&(a!=null?ya(t,!!l,a,!0):ya(t,!!l,l?[]:"",!1));return;case"textarea":J=Q=null;for(C in l)if(p=l[C],l.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ve(t,a,C,null,c,p)}for(_ in c)if(p=c[_],y=l[_],c.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Ve(t,a,_,p,c,y)}ch(t,Q,J);return;case"option":for(var je in l)if(Q=l[je],l.hasOwnProperty(je)&&Q!=null&&!c.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:Ve(t,a,je,null,c,Q)}for(L in c)if(Q=c[L],J=l[L],c.hasOwnProperty(L)&&Q!==J&&(Q!=null||J!=null))switch(L){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ve(t,a,L,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)Q=l[Se],l.hasOwnProperty(Se)&&Q!=null&&!c.hasOwnProperty(Se)&&Ve(t,a,Se,null,c,Q);for(K in c)if(Q=c[K],J=l[K],c.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Ve(t,a,K,Q,c,J)}return;default:if(ru(a)){for(var Ke in l)Q=l[Ke],l.hasOwnProperty(Ke)&&Q!==void 0&&!c.hasOwnProperty(Ke)&&Hc(t,a,Ke,void 0,c,Q);for(re in c)Q=c[re],J=l[re],!c.hasOwnProperty(re)||Q===J||Q===void 0&&J===void 0||Hc(t,a,re,Q,c,J);return}}for(var $ in l)Q=l[$],l.hasOwnProperty($)&&Q!=null&&!c.hasOwnProperty($)&&Ve(t,a,$,null,c,Q);for(le in c)Q=c[le],J=l[le],!c.hasOwnProperty(le)||Q===J||Q==null&&J==null||Ve(t,a,le,Q,c,J)}var qc=null,$c=null;function Zs(t){return t.nodeType===9?t:t.ownerDocument}function fp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Fc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gc=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===Gc?!1:(Gc=t,!0):(Gc=null,!1)}var mp=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(M1)}:mp;function M1(t){setTimeout(function(){throw t})}function kr(t){return t==="head"}function gp(t,a){var l=a,c=0,p=0;do{var y=l.nextSibling;if(t.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var _=t.ownerDocument;if(l&1&&cl(_.documentElement),l&2&&cl(_.body),l&4)for(l=_.head,cl(l),_=l.firstChild;_;){var C=_.nextSibling,L=_.nodeName;_[Ei]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}if(p===0){t.removeChild(y),yl(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);yl(a)}function Yc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Yc(l),Jo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function L1(t,a,l,c){for(;t.nodeType===1;){var p=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ei])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function P1(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=bn(t.nextSibling),t===null))return null;return t}function Vc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function z1(t,a){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function bn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Kc=null;function xp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return t;a--}else l==="/$"&&a++}t=t.previousSibling}return null}function yp(t,a,l){switch(a=Zs(l),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function cl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Jo(t)}var mn=new Map,vp=new Set;function eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jn=X.d;X.d={f:U1,r:B1,D:I1,C:H1,L:q1,m:$1,X:G1,S:F1,M:Y1};function U1(){var t=Jn.f(),a=Gs();return t||a}function B1(t){var a=ma(t);a!==null&&a.tag===5&&a.type==="form"?Bm(a):Jn.r(t)}var Ka=typeof document>"u"?null:document;function bp(t,a,l){var c=Ka;if(c&&typeof a=="string"&&a){var p=sn(a);p='link[rel="'+t+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),vp.has(p)||(vp.add(p),t={rel:t,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Et(a,"link",t),xt(a),c.head.appendChild(a)))}}function I1(t){Jn.D(t),bp("dns-prefetch",t,null)}function H1(t,a){Jn.C(t,a),bp("preconnect",t,a)}function q1(t,a,l){Jn.L(t,a,l);var c=Ka;if(c&&t&&a){var p='link[rel="preload"][as="'+sn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+sn(l.imageSizes)+'"]')):p+='[href="'+sn(t)+'"]';var y=p;switch(a){case"style":y=Xa(t);break;case"script":y=Qa(t)}mn.has(y)||(t=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),mn.set(y,t),c.querySelector(p)!==null||a==="style"&&c.querySelector(dl(y))||a==="script"&&c.querySelector(fl(y))||(a=c.createElement("link"),Et(a,"link",t),xt(a),c.head.appendChild(a)))}}function $1(t,a){Jn.m(t,a);var l=Ka;if(l&&t){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+sn(c)+'"][href="'+sn(t)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Qa(t)}if(!mn.has(y)&&(t=g({rel:"modulepreload",href:t},a),mn.set(y,t),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fl(y)))return}c=l.createElement("link"),Et(c,"link",t),xt(c),l.head.appendChild(c)}}}function F1(t,a,l){Jn.S(t,a,l);var c=Ka;if(c&&t){var p=pa(c).hoistableStyles,y=Xa(t);a=a||"default";var _=p.get(y);if(!_){var C={loading:0,preload:null};if(_=c.querySelector(dl(y)))C.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":a},l),(l=mn.get(y))&&Xc(t,l);var L=_=c.createElement("link");xt(L),Et(L,"link",t),L._p=new Promise(function(K,re){L.onload=K,L.onerror=re}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,to(_,a,c)}_={type:"stylesheet",instance:_,count:1,state:C},p.set(y,_)}}}function G1(t,a){Jn.X(t,a);var l=Ka;if(l&&t){var c=pa(l).hoistableScripts,p=Qa(t),y=c.get(p);y||(y=l.querySelector(fl(p)),y||(t=g({src:t,async:!0},a),(a=mn.get(p))&&Qc(t,a),y=l.createElement("script"),xt(y),Et(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Y1(t,a){Jn.M(t,a);var l=Ka;if(l&&t){var c=pa(l).hoistableScripts,p=Qa(t),y=c.get(p);y||(y=l.querySelector(fl(p)),y||(t=g({src:t,async:!0,type:"module"},a),(a=mn.get(p))&&Qc(t,a),y=l.createElement("script"),xt(y),Et(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function wp(t,a,l,c){var p=(p=z.current)?eo(p):null;if(!p)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Xa(l.href),l=pa(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Xa(l.href);var y=pa(p).hoistableStyles,_=y.get(t);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,_),(y=p.querySelector(dl(t)))&&!y._p&&(_.instance=y,_.state.loading=5),mn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mn.set(t,l),y||V1(p,t,l,_.state))),a&&c===null)throw Error(i(528,""));return _}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Qa(l),l=pa(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Xa(t){return'href="'+sn(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function V1(t,a,l,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Et(a,"link",l),xt(a),t.head.appendChild(a))}function Qa(t){return'[src="'+sn(t)+'"]'}function fl(t){return"script[async]"+t}function Sp(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+sn(l.href)+'"]');if(c)return a.instance=c,xt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),xt(c),Et(c,"style",p),to(c,l.precedence,t),a.instance=c;case"stylesheet":p=Xa(l.href);var y=t.querySelector(dl(p));if(y)return a.state.loading|=4,a.instance=y,xt(y),y;c=kp(l),(p=mn.get(p))&&Xc(c,p),y=(t.ownerDocument||t).createElement("link"),xt(y);var _=y;return _._p=new Promise(function(C,L){_.onload=C,_.onerror=L}),Et(y,"link",c),a.state.loading|=4,to(y,l.precedence,t),a.instance=y;case"script":return y=Qa(l.src),(p=t.querySelector(fl(y)))?(a.instance=p,xt(p),p):(c=l,(p=mn.get(y))&&(c=g({},l),Qc(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),xt(p),Et(p,"link",c),t.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,to(c,l.precedence,t));return a.instance}function to(t,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,_=0;_<c.length;_++){var C=c[_];if(C.dataset.precedence===a)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function Xc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Qc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var no=null;function _p(t,a,l){if(no===null){var c=new Map,p=no=new Map;p.set(l,c)}else p=no,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),p=0;p<l.length;p++){var y=l[p];if(!(y[Ei]||y[At]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(a)||"";_=t+_;var C=c.get(_);C?C.push(y):c.set(_,[y])}}return c}function Ep(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function K1(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hl=null;function X1(){}function Q1(t,a,l){if(hl===null)throw Error(i(475));var c=hl;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Xa(l.href),y=t.querySelector(dl(p));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=ro.bind(c),t.then(c,c)),a.state.loading|=4,a.instance=y,xt(y);return}y=t.ownerDocument||t,l=kp(l),(p=mn.get(p))&&Xc(l,p),y=y.createElement("link"),xt(y);var _=y;_._p=new Promise(function(C,L){_.onload=C,_.onerror=L}),Et(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ro.bind(c),t.addEventListener("load",a),t.addEventListener("error",a))}}function J1(){if(hl===null)throw Error(i(475));var t=hl;return t.stylesheets&&t.count===0&&Jc(t,t.stylesheets),0<t.count?function(a){var l=setTimeout(function(){if(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l)}}:null}function ro(){if(this.count--,this.count===0){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ao=null;function Jc(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ao=new Map,a.forEach(W1,t),ao=null,ro.call(t))}function W1(t,a){if(!(a.state.loading&4)){var l=ao.get(t);if(l)var c=l.get(null);else{l=new Map,ao.set(t,l);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}p=a.instance,_=p.getAttribute("data-precedence"),y=l.get(_)||c,y===c&&l.set(null,p),l.set(_,p),this.count++,c=ro.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),a.state.loading|=4}}var ml={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Z1(t,a,l,c,p,y,_,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.hiddenUpdates=Vo(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Tp(t,a,l,c,p,y,_,C,L,K,re,le){return t=new Z1(t,a,l,_,C,L,K,le),a=1,y===!0&&(a|=24),y=Qt(3,null,null,a),t.current=y,y.stateNode=t,a=Ou(),a.refCount++,t.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Pu(y),t}function Ap(t){return t?(t=Ta,t):Ta}function Np(t,a,l,c,p,y){p=Ap(p),c.context===null?c.context=p:c.pendingContext=p,c=ur(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=cr(t,c,a),l!==null&&(tn(l,t,a),Fi(l,t,a))}function Cp(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Wc(t,a){Cp(t,a),(t=t.alternate)&&Cp(t,a)}function Rp(t){if(t.tag===13){var a=ja(t,67108864);a!==null&&tn(a,t,67108864),Wc(t,67108864)}}var io=!0;function ew(t,a,l,c){var p=B.T;B.T=null;var y=X.p;try{X.p=2,Zc(t,a,l,c)}finally{X.p=y,B.T=p}}function tw(t,a,l,c){var p=B.T;B.T=null;var y=X.p;try{X.p=8,Zc(t,a,l,c)}finally{X.p=y,B.T=p}}function Zc(t,a,l,c){if(io){var p=ed(c);if(p===null)Ic(t,a,c,lo,l),Dp(t,c);else if(rw(p,t,a,l,c))c.stopPropagation();else if(Dp(t,c),a&4&&-1<nw.indexOf(t)){for(;p!==null;){var y=ma(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Kt(y.pendingLanes);if(_!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var L=1<<31-Ee(_);C.entanglements[1]|=L,_&=~L}Rn(y),($e&6)===0&&($s=ve()+500,sl(0))}}break;case 13:C=ja(y,2),C!==null&&tn(C,y,2),Gs(),Wc(y,2)}if(y=ed(c),y===null&&Ic(t,a,c,lo,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ic(t,a,c,null,l)}}function ed(t){return t=iu(t),td(t)}var lo=null;function td(t){if(lo=null,t=ha(t),t!==null){var a=o(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=u(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return lo=t,null}function Op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ge:return 2;case pt:return 8;case zt:case ar:return 32;case gn:return 268435456;default:return 32}default:return 32}}var nd=!1,Sr=null,_r=null,Er=null,pl=new Map,gl=new Map,jr=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dp(t,a){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":pl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(a.pointerId)}}function xl(t,a,l,c,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=ma(a),a!==null&&Rp(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),t)}function rw(t,a,l,c,p){switch(a){case"focusin":return Sr=xl(Sr,t,a,l,c,p),!0;case"dragenter":return _r=xl(_r,t,a,l,c,p),!0;case"mouseover":return Er=xl(Er,t,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return pl.set(y,xl(pl.get(y)||null,t,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,gl.set(y,xl(gl.get(y)||null,t,a,l,c,p)),!0}return!1}function Mp(t){var a=ha(t.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){t.blockedOn=a,Qv(t.priority,function(){if(l.tag===13){var c=en();c=Ko(c);var p=ja(l,c);p!==null&&tn(p,l,c),Wc(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function so(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=ed(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);au=c,l.target.dispatchEvent(c),au=null}else return a=ma(l),a!==null&&Rp(a),t.blockedOn=l,!1;a.shift()}return!0}function Lp(t,a,l){so(t)&&l.delete(a)}function aw(){nd=!1,Sr!==null&&so(Sr)&&(Sr=null),_r!==null&&so(_r)&&(_r=null),Er!==null&&so(Er)&&(Er=null),pl.forEach(Lp),gl.forEach(Lp)}function oo(t,a){t.blockedOn===a&&(t.blockedOn=null,nd||(nd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aw)))}var uo=null;function Pp(t){uo!==t&&(uo=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uo===t&&(uo=null);for(var a=0;a<t.length;a+=3){var l=t[a],c=t[a+1],p=t[a+2];if(typeof c!="function"){if(td(c||l)===null)continue;break}var y=ma(l);y!==null&&(t.splice(a,3),a-=3,tc(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function yl(t){function a(L){return oo(L,t)}Sr!==null&&oo(Sr,t),_r!==null&&oo(_r,t),Er!==null&&oo(Er,t),pl.forEach(a),gl.forEach(a);for(var l=0;l<jr.length;l++){var c=jr[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<jr.length&&(l=jr[0],l.blockedOn===null);)Mp(l),l.blockedOn===null&&jr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],_=p[Bt]||null;if(typeof y=="function")_||Pp(l);else if(_){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[Bt]||null)C=_.formAction;else if(td(p)!==null)continue}else C=_.action;typeof C=="function"?l[c+1]=C:(l.splice(c,3),c-=3),Pp(l)}}}function rd(t){this._internalRoot=t}co.prototype.render=rd.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=en();Np(l,c,t,a,null,null)},co.prototype.unmount=rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Np(t.current,2,null,t,null,null),Gs(),a[fa]=null}};function co(t){this._internalRoot=t}co.prototype.unstable_scheduleHydration=function(t){if(t){var a=Zf();t={blockedOn:null,target:t,priority:a};for(var l=0;l<jr.length&&a!==0&&a<jr[l].priority;l++);jr.splice(l,0,t),l===0&&Mp(t)}};var zp=n.version;if(zp!=="19.1.0")throw Error(i(527,zp,"19.1.0"));X.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=m(a),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{ne=fo.inject(iw),de=fo}catch{}}return bl.createRoot=function(t,a){if(!s(t))throw Error(i(299));var l=!1,c="",p=Zm,y=e0,_=t0,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=Tp(t,1,!1,null,null,l,c,p,y,_,C,null),t[fa]=a.current,Bc(t),new rd(a)},bl.hydrateRoot=function(t,a,l){if(!s(t))throw Error(i(299));var c=!1,p="",y=Zm,_=e0,C=t0,L=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=Tp(t,1,!0,a,l??null,c,p,y,_,C,L,K),a.context=Ap(null),l=a.current,c=en(),c=Ko(c),p=ur(c),p.callback=null,cr(l,p,c),l=c,a.current.lanes=l,_i(a,l),Rn(a),t[fa]=a.current,Bc(t),new co(a)},bl.version="19.1.0",bl}var Vp;function gw(){if(Vp)return ld.exports;Vp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ld.exports=pw(),ld.exports}var xw=gw();const yw=Vl(xw);var wl={},Kp;function vw(){if(Kp)return wl;Kp=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.parse=u,wl.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,b){const w=new o,E=v.length;if(E<2)return w;const j=(b==null?void 0:b.decode)||g;let k=0;do{const A=v.indexOf("=",k);if(A===-1)break;const T=v.indexOf(";",k),N=T===-1?E:T;if(A>N){k=v.lastIndexOf(";",A-1)+1;continue}const O=d(v,k,A),D=m(v,A,O),G=v.slice(O,D);if(w[G]===void 0){let F=d(v,A+1,N),W=m(v,N,F);const P=j(v.slice(F,W));w[G]=P}k=N+1}while(k<E);return w}function d(v,b,w){do{const E=v.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<w);return w}function m(v,b,w){for(;b>w;){const E=v.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return w}function h(v,b,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const j=E(b);if(!n.test(j))throw new TypeError(`argument val is invalid: ${b}`);let k=v+"="+j;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!x(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function x(v){return s.call(v)==="[object Date]"}return wl}vw();var Xp="popstate";function bw(e={}){function n(i,s){let{pathname:o,search:u,hash:d}=i.location;return Gd("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:Il(s)}return kw(n,r,null,e)}function nt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function _n(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function Qp(e,n){return{usr:e.state,key:e.key,idx:n}}function Gd(e,n,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?yi(n):n,state:r,key:n&&n.key||i||ww()}}function Il({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yi(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function kw(e,n,r,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,d="POP",m=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let j=g(),k=j==null?null:j-h;h=j,m&&m({action:d,location:E.location,delta:k})}function v(j,k){d="PUSH";let A=Gd(E.location,j,k);h=g()+1;let T=Qp(A,h),N=E.createHref(A);try{u.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&m&&m({action:d,location:E.location,delta:1})}function b(j,k){d="REPLACE";let A=Gd(E.location,j,k);h=g();let T=Qp(A,h),N=E.createHref(A);u.replaceState(T,"",N),o&&m&&m({action:d,location:E.location,delta:0})}function w(j){return Sw(j)}let E={get action(){return d},get location(){return e(s,u)},listen(j){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Xp,x),m=j,()=>{s.removeEventListener(Xp,x),m=null}},createHref(j){return n(s,j)},createURL:w,encodeLocation(j){let k=w(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:b,go(j){return u.go(j)}};return E}function Sw(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),nt(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Il(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Qx(e,n,r="/"){return _w(e,n,r,!1)}function _w(e,n,r,i){let s=typeof n=="string"?yi(n):n,o=tr(s.pathname||"/",r);if(o==null)return null;let u=Jx(e);Ew(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let h=Pw(o);d=Mw(u[m],h,i)}return d}function Jx(e,n=[],r=[],i=""){let s=(o,u,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};m.relativePath.startsWith("/")&&(nt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let h=er([i,m.relativePath]),g=r.concat(m);o.children&&o.children.length>0&&(nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Jx(o.children,n,g,h)),!(o.path==null&&!o.index)&&n.push({path:h,score:Ow(h,o.index),routesMeta:g})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let m of Wx(o.path))s(o,u,m)}),n}function Wx(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=Wx(i.join("/")),d=[];return d.push(...u.map(m=>m===""?o:[o,m].join("/"))),s&&d.push(...u),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function Ew(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:Dw(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var jw=/^:[\w-]+$/,Tw=3,Aw=2,Nw=1,Cw=10,Rw=-2,Jp=e=>e==="*";function Ow(e,n){let r=e.split("/"),i=r.length;return r.some(Jp)&&(i+=Rw),n&&(i+=Aw),r.filter(s=>!Jp(s)).reduce((s,o)=>s+(jw.test(o)?Tw:o===""?Nw:Cw),i)}function Dw(e,n){return e.length===n.length&&e.slice(0,-1).every((i,s)=>i===n[s])?e[e.length-1]-n[n.length-1]:0}function Mw(e,n,r=!1){let{routesMeta:i}=e,s={},o="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],h=d===i.length-1,g=o==="/"?n:n.slice(o.length)||"/",x=Ro({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},g),v=m.route;if(!x&&h&&r&&!i[i.length-1].route.index&&(x=Ro({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:er([o,x.pathname]),pathnameBase:Iw(er([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=er([o,x.pathnameBase]))}return u}function Ro(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Lw(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:x},v)=>{if(g==="*"){let w=d[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[v];return x&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:e}}function Lw(e,n=!1,r=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),i]}function Pw(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function tr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function zw(e,n="/"){let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?yi(e):e;return{pathname:r?r.startsWith("/")?r:Uw(r,n):n,search:Hw(i),hash:qw(s)}}function Uw(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cd(e,n,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bw(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function mf(e){let n=Bw(e);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function pf(e,n,r,i=!1){let s;typeof e=="string"?s=yi(e):(s={...e},nt(!s.pathname||!s.pathname.includes("?"),cd("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),cd("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),cd("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=r;else{let x=n.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}d=x>=0?n[x]:"/"}let m=zw(s,d),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(h||g)&&(m.pathname+="/"),m}var er=e=>e.join("/").replace(/\/\/+/g,"/"),Iw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $w(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Zx=["POST","PUT","PATCH","DELETE"];new Set(Zx);var Fw=["GET",...Zx];new Set(Fw);var vi=M.createContext(null);vi.displayName="DataRouter";var Bo=M.createContext(null);Bo.displayName="DataRouterState";var ey=M.createContext({isTransitioning:!1});ey.displayName="ViewTransition";var Gw=M.createContext(new Map);Gw.displayName="Fetchers";var Yw=M.createContext(null);Yw.displayName="Await";var En=M.createContext(null);En.displayName="Navigation";var Kl=M.createContext(null);Kl.displayName="Location";var Dn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var gf=M.createContext(null);gf.displayName="RouteError";function Vw(e,{relative:n}={}){nt(bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=M.useContext(En),{hash:s,pathname:o,search:u}=Xl(e,{relative:n}),d=o;return r!=="/"&&(d=o==="/"?r:er([r,o])),i.createHref({pathname:d,search:u,hash:s})}function bi(){return M.useContext(Kl)!=null}function nr(){return nt(bi(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Kl).location}var ty="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ny(e){M.useContext(En).static||M.useLayoutEffect(e)}function xf(){let{isDataRoute:e}=M.useContext(Dn);return e?lk():Kw()}function Kw(){nt(bi(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(vi),{basename:n,navigator:r}=M.useContext(En),{matches:i}=M.useContext(Dn),{pathname:s}=nr(),o=JSON.stringify(mf(i)),u=M.useRef(!1);return ny(()=>{u.current=!0}),M.useCallback((m,h={})=>{if(_n(u.current,ty),!u.current)return;if(typeof m=="number"){r.go(m);return}let g=pf(m,JSON.parse(o),s,h.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:er([n,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[n,r,o,s,e])}M.createContext(null);function Xl(e,{relative:n}={}){let{matches:r}=M.useContext(Dn),{pathname:i}=nr(),s=JSON.stringify(mf(r));return M.useMemo(()=>pf(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Xw(e,n){return ry(e,n)}function ry(e,n,r,i){var k;nt(bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(En),{matches:o}=M.useContext(Dn),u=o[o.length-1],d=u?u.params:{},m=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";ay(m,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=nr(),v;if(n){let A=typeof n=="string"?yi(n):n;nt(h==="/"||((k=A.pathname)==null?void 0:k.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=x;let b=v.pathname||"/",w=b;if(h!=="/"){let A=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Qx(e,{pathname:w});_n(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),_n(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ek(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:er([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:er([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,i);return n&&j?M.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},j):j}function Qw(){let e=ik(),n=$w(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),r?M.createElement("pre",{style:s},r):null,u)}var Jw=M.createElement(Qw,null),Ww=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Dn.Provider,{value:this.props.routeContext},M.createElement(gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:e,match:n,children:r}){let i=M.useContext(vi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Dn.Provider,{value:e},r)}function ek(e,n=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let m=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<s.length;m++){let h=s[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:g,errors:x}=r,v=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,h,g)=>{let x,v=!1,b=null,w=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||Jw,u&&(d<0&&g===0?(ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=h.route.hydrateFallbackElement||null)));let E=n.concat(s.slice(0,g+1)),j=()=>{let k;return x?k=b:v?k=w:h.route.Component?k=M.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=m,M.createElement(Zw,{match:h,routeContext:{outlet:m,matches:E,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?M.createElement(Ww,{location:r.location,revalidation:r.revalidation,component:b,error:x,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}function yf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(e){let n=M.useContext(vi);return nt(n,yf(e)),n}function nk(e){let n=M.useContext(Bo);return nt(n,yf(e)),n}function rk(e){let n=M.useContext(Dn);return nt(n,yf(e)),n}function vf(e){let n=rk(e),r=n.matches[n.matches.length-1];return nt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ak(){return vf("useRouteId")}function ik(){var i;let e=M.useContext(gf),n=nk("useRouteError"),r=vf("useRouteError");return e!==void 0?e:(i=n.errors)==null?void 0:i[r]}function lk(){let{router:e}=tk("useNavigate"),n=vf("useNavigate"),r=M.useRef(!1);return ny(()=>{r.current=!0}),M.useCallback(async(s,o={})=>{_n(r.current,ty),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:n,...o}))},[e,n])}var Wp={};function ay(e,n,r){!n&&!Wp[e]&&(Wp[e]=!0,_n(!1,r))}M.memo(sk);function sk({routes:e,future:n,state:r}){return ry(e,void 0,r,n)}function na({to:e,replace:n,state:r,relative:i}){nt(bi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(En);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Dn),{pathname:u}=nr(),d=xf(),m=pf(e,mf(o),u,i==="path"),h=JSON.stringify(m);return M.useEffect(()=>{d(JSON.parse(h),{replace:n,state:r,relative:i})},[d,h,i,n,r]),null}function Nr(e){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ok({basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:o=!1}){nt(!bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof r=="string"&&(r=yi(r));let{pathname:m="/",search:h="",hash:g="",state:x=null,key:v="default"}=r,b=M.useMemo(()=>{let w=tr(m,u);return w==null?null:{location:{pathname:w,search:h,hash:g,state:x,key:v},navigationType:i}},[u,m,h,g,x,v,i]);return _n(b!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(En.Provider,{value:d},M.createElement(Kl.Provider,{children:n,value:b}))}function uk({children:e,location:n}){return Xw(Yd(e),n)}function Yd(e,n=[]){let r=[];return M.Children.forEach(e,(i,s)=>{if(!M.isValidElement(i))return;let o=[...n,s];if(i.type===M.Fragment){r.push.apply(r,Yd(i.props.children,o));return}nt(i.type===Nr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yd(i.props.children,o)),r.push(u)}),r}var jo="get",To="application/x-www-form-urlencoded";function Io(e){return e!=null&&typeof e.tagName=="string"}function ck(e){return Io(e)&&e.tagName.toLowerCase()==="button"}function dk(e){return Io(e)&&e.tagName.toLowerCase()==="form"}function fk(e){return Io(e)&&e.tagName.toLowerCase()==="input"}function hk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mk(e,n){return e.button===0&&(!n||n==="_self")&&!hk(e)}var ho=null;function pk(){if(ho===null)try{new FormData(document.createElement("form"),0),ho=!1}catch{ho=!0}return ho}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(e){return e!=null&&!gk.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${To}"`),null):e}function xk(e,n){let r,i,s,o,u;if(dk(e)){let d=e.getAttribute("action");i=d?tr(d,n):null,r=e.getAttribute("method")||jo,s=dd(e.getAttribute("enctype"))||To,o=new FormData(e)}else if(ck(e)||fk(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(i=m?tr(m,n):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||jo,s=dd(e.getAttribute("formenctype"))||dd(d.getAttribute("enctype"))||To,o=new FormData(d,e),!pk()){let{name:h,type:g,value:x}=e;if(g==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,x)}}else{if(Io(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jo,i=null,s=To,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:r.toLowerCase(),encType:s,formData:o,body:u}}function bf(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}async function yk(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bk(e,n,r){let i=await Promise.all(e.map(async s=>{let o=n.routes[s.route.id];if(o){let u=await yk(o,r);return u.links?u.links():[]}return[]}));return _k(i.flat(1).filter(vk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Zp(e,n,r,i,s,o){let u=(m,h)=>r[h]?m.route.id!==r[h].route.id:!0,d=(m,h)=>{var g;return r[h].pathname!==m.pathname||((g=r[h].route.path)==null?void 0:g.endsWith("*"))&&r[h].params["*"]!==m.params["*"]};return o==="assets"?n.filter((m,h)=>u(m,h)||d(m,h)):o==="data"?n.filter((m,h)=>{var x;let g=i.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(u(m,h)||d(m,h))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=r[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wk(e,n,{includeHydrateFallback:r}={}){return kk(e.map(i=>{let s=n.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function kk(e){return[...new Set(e)]}function Sk(e){let n={},r=Object.keys(e).sort();for(let i of r)n[i]=e[i];return n}function _k(e,n){let r=new Set;return new Set(n),e.reduce((i,s)=>{let o=JSON.stringify(Sk(s));return r.has(o)||(r.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ek=new Set([100,101,204,205]);function jk(e,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":n&&tr(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function iy(){let e=M.useContext(vi);return bf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Tk(){let e=M.useContext(Bo);return bf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wf=M.createContext(void 0);wf.displayName="FrameworkContext";function ly(){let e=M.useContext(wf);return bf(e,"You must render this element inside a <HydratedRouter> element"),e}function Ak(e,n){let r=M.useContext(wf),[i,s]=M.useState(!1),[o,u]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:h,onMouseLeave:g,onTouchStart:x}=n,v=M.useRef(null);M.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=k=>{k.forEach(A=>{u(A.isIntersecting)})},j=new IntersectionObserver(E,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),M.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},w=()=>{s(!1),u(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:kl(d,b),onBlur:kl(m,w),onMouseEnter:kl(h,b),onMouseLeave:kl(g,w),onTouchStart:kl(x,b)}]:[!1,v,{}]}function kl(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function Nk({page:e,...n}){let{router:r}=iy(),i=M.useMemo(()=>Qx(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?M.createElement(Rk,{page:e,matches:i,...n}):null}function Ck(e){let{manifest:n,routeModules:r}=ly(),[i,s]=M.useState([]);return M.useEffect(()=>{let o=!1;return bk(e,n,r).then(u=>{o||s(u)}),()=>{o=!0}},[e,n,r]),i}function Rk({page:e,matches:n,...r}){let i=nr(),{manifest:s,routeModules:o}=ly(),{basename:u}=iy(),{loaderData:d,matches:m}=Tk(),h=M.useMemo(()=>Zp(e,n,m,s,i,"data"),[e,n,m,s,i]),g=M.useMemo(()=>Zp(e,n,m,s,i,"assets"),[e,n,m,s,i]),x=M.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let w=new Set,E=!1;if(n.forEach(k=>{var T;let A=s.routes[k.route.id];!A||!A.hasLoader||(!h.some(N=>N.route.id===k.route.id)&&k.route.id in d&&((T=o[k.route.id])!=null&&T.shouldRevalidate)||A.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let j=jk(e,u);return E&&w.size>0&&j.searchParams.set("_routes",n.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[u,d,i,s,h,n,e,o]),v=M.useMemo(()=>wk(g,s),[g,s]),b=Ck(g);return M.createElement(M.Fragment,null,x.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),b.map(({key:w,link:E})=>M.createElement("link",{key:w,...E})))}function Ok(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sy&&(window.__reactRouterVersion="7.6.3")}catch{}function Dk({basename:e,children:n,window:r}){let i=M.useRef();i.current==null&&(i.current=bw({window:r,v5Compat:!0}));let s=i.current,[o,u]=M.useState({action:s.action,location:s.location}),d=M.useCallback(m=>{M.startTransition(()=>u(m))},[u]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.createElement(ok,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=M.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:d,target:m,to:h,preventScrollReset:g,viewTransition:x,...v},b){let{basename:w}=M.useContext(En),E=typeof h=="string"&&oy.test(h),j,k=!1;if(typeof h=="string"&&E&&(j=h,sy))try{let W=new URL(window.location.href),P=h.startsWith("//")?new URL(W.protocol+h):new URL(h),q=tr(P.pathname,w);P.origin===W.origin&&q!=null?h=q+P.search+P.hash:k=!0}catch{_n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Vw(h,{relative:s}),[T,N,O]=Ak(i,v),D=zk(h,{replace:u,state:d,target:m,preventScrollReset:g,relative:s,viewTransition:x});function G(W){n&&n(W),W.defaultPrevented||D(W)}let F=M.createElement("a",{...v,...O,href:j||A,onClick:k||o?n:G,ref:Ok(b,N),target:m,"data-discover":!E&&r==="render"?"true":void 0});return T&&!E?M.createElement(M.Fragment,null,F,M.createElement(Nk,{page:A})):F});di.displayName="Link";var Mk=M.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:d,children:m,...h},g){let x=Xl(u,{relative:h.relative}),v=nr(),b=M.useContext(Bo),{navigator:w,basename:E}=M.useContext(En),j=b!=null&&qk(x)&&d===!0,k=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,A=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&E&&(T=tr(T,E)||T);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=A===k||!s&&A.startsWith(k)&&A.charAt(N)==="/",D=T!=null&&(T===k||!s&&T.startsWith(k)&&T.charAt(k.length)==="/"),G={isActive:O,isPending:D,isTransitioning:j},F=O?n:void 0,W;typeof i=="function"?W=i(G):W=[i,O?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(G):o;return M.createElement(di,{...h,"aria-current":F,className:W,ref:g,style:P,to:u,viewTransition:d},typeof m=="function"?m(G):m)});Mk.displayName="NavLink";var Lk=M.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:u=jo,action:d,onSubmit:m,relative:h,preventScrollReset:g,viewTransition:x,...v},b)=>{let w=Ik(),E=Hk(d,{relative:h}),j=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&oy.test(d),A=T=>{if(m&&m(T),T.defaultPrevented)return;T.preventDefault();let N=T.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||u;w(N||T.currentTarget,{fetcherKey:n,method:O,navigate:r,replace:s,state:o,relative:h,preventScrollReset:g,viewTransition:x})};return M.createElement("form",{ref:b,method:j,action:E,onSubmit:i?m:A,...v,"data-discover":!k&&e==="render"?"true":void 0})});Lk.displayName="Form";function Pk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(e){let n=M.useContext(vi);return nt(n,Pk(e)),n}function zk(e,{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=xf(),m=nr(),h=Xl(e,{relative:o});return M.useCallback(g=>{if(mk(g,n)){g.preventDefault();let x=r!==void 0?r:Il(m)===Il(h);d(e,{replace:x,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[m,d,h,r,i,n,e,s,o,u])}var Uk=0,Bk=()=>`__${String(++Uk)}__`;function Ik(){let{router:e}=uy("useSubmit"),{basename:n}=M.useContext(En),r=ak();return M.useCallback(async(i,s={})=>{let{action:o,method:u,encType:d,formData:m,body:h}=xk(i,n);if(s.navigate===!1){let g=s.fetcherKey||Bk();await e.fetch(g,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:h,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:h,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}function Hk(e,{relative:n}={}){let{basename:r}=M.useContext(En),i=M.useContext(Dn);nt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Xl(e||".",{relative:n})},u=nr();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(g=>g==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:er([r,o.pathname])),Il(o)}function qk(e,n={}){let r=M.useContext(ey);nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uy("useViewTransitionState"),s=Xl(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=tr(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=tr(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Ro(s.pathname,u)!=null||Ro(s.pathname,o)!=null}[...Ek];const $k=e=>{const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-i.getTime())/864e5+1)/7)},Fk=(e,n)=>{if(e.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const r=[...e].sort((x,v)=>new Date(x.timestamp).getTime()-new Date(v.timestamp).getTime()),i={};r.forEach(x=>{const v=new Date(x.timestamp);let b="";if(n==="daily")b=v.toLocaleDateString("en-CA");else if(n==="weekly"){const w=v.getFullYear(),E=$k(v);b=`${w}-W${E.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(i[b]||(i[b]={profit:0,loss:0,pending:0,pl:0}),x.status){case"profit":i[b].profit+=1,i[b].pl+=x.outcomeAmount||0;break;case"stop-loss":i[b].loss+=1,i[b].pl-=x.outcomeAmount||0;break;case"pending":i[b].pending+=1;break}});const s=Object.keys(i).sort(),o=s,u=s.map(x=>i[x].profit),d=s.map(x=>i[x].loss),m=s.map(x=>i[x].pending),h=[];let g=0;return s.forEach(x=>{g+=i[x].pl,h.push(g)}),{labels:o,profitData:u,lossData:d,pendingData:m,cumulativePlData:h}},fd=({buttonTimeframe:e,activeTimeframe:n,setTimeframe:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===e?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),Gk=({history:e})=>{const n=M.useRef(null),r=M.useRef(null),[i,s]=M.useState("daily");return M.useEffect(()=>{if(!n.current)return;const o=n.current.getContext("2d");if(!o)return;r.current&&r.current.destroy();const{labels:u,profitData:d,lossData:m,pendingData:h,cumulativePlData:g}=Fk(e,i),x="rgba(203, 213, 225, 0.5)",v="rgba(100, 116, 139, 1)",b=o.createLinearGradient(0,0,0,300);b.addColorStop(0,"rgba(34, 197, 94, 0.8)"),b.addColorStop(1,"rgba(34, 197, 94, 0.4)");const w=o.createLinearGradient(0,0,0,300);w.addColorStop(0,"rgba(239, 68, 68, 0.8)"),w.addColorStop(1,"rgba(239, 68, 68, 0.4)");const E=o.createLinearGradient(0,0,0,300);E.addColorStop(0,"rgba(100, 116, 139, 0.7)"),E.addColorStop(1,"rgba(100, 116, 139, 0.3)");const j=o.createLinearGradient(0,50,0,300);return j.addColorStop(0,"rgba(124, 58, 237, 0.5)"),j.addColorStop(1,"rgba(124, 58, 237, 0.05)"),r.current=new window.Chart(o,{type:"bar",data:{labels:u,datasets:[{label:"Profit",data:d,backgroundColor:b,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:m,backgroundColor:w,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:h,backgroundColor:E,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:g,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:j,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:v,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:x,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:v,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:v,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:v,font:{family:"inherit"},callback:function(k){return typeof k!="number"?k:Math.abs(k)>=1e3?"$"+(k/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+k}},title:{display:!0,text:"Cumulative P/L ($)",color:v,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:v,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(k){let A=k.dataset.label||"";return A&&(A+=": "),k.parsed.y!==null&&(k.dataset.yAxisID==="y1"?A+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k.parsed.y):A+=k.parsed.y),A}}}}}}),()=>{r.current&&r.current.destroy()}},[e,i]),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(fd,{buttonTimeframe:"daily",activeTimeframe:i,setTimeframe:s,children:"Daily"}),f.jsx(fd,{buttonTimeframe:"weekly",activeTimeframe:i,setTimeframe:s,children:"Weekly"}),f.jsx(fd,{buttonTimeframe:"monthly",activeTimeframe:i,setTimeframe:s,children:"Monthly"})]})]}),f.jsx("div",{className:"relative h-96",children:e.length>0?f.jsx("canvas",{ref:n}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",f.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Yk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Vk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Kk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Xk=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),cy=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),dy=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Hl=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Qk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),fy=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),eg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Jk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),hd=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),fi=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:f.jsxs("g",{children:[f.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),f.jsx("g",{})]})}),Cl=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Mr=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Wk=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Zk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),tg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),ng=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),rg=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),ag=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),ig=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),eS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),tS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),nS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),rS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),aS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Vd=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),hy={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:tg,image:tg},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:ng,image:ng},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:rg,image:rg},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:ag,image:ag},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:ig,image:ig}},iS=e=>{const n=e.filter(E=>E.status!=="pending"),r=n.length,i=n.filter(E=>E.status==="profit").length,s=r>0?i/r*100:0,o=n.filter(E=>E.status==="profit").reduce((E,j)=>E+(j.outcomeAmount||0),0),u=n.reduce((E,j)=>E+(parseFloat(j.tradeSetup.entryPrice)||0),0);let d=0,m=0,h=0,g=0,x=null,v=0;n.forEach(E=>{if(E.status==="stop-loss"?(m++,d=Math.max(d,m),g=0):E.status==="profit"&&(g++,h=Math.max(h,g),m=0),E.timestamp){const j=new Date(E.timestamp);if(x){const k=Math.floor((j.getTime()-x.getTime())/864e5);v=Math.max(v,k)}x=new Date(E.timestamp)}});let b="Novice Navigator";r>=30&&s>=80?b="Elite Executor":r>=20&&s>=60?b="Strategy Sentinel":r>=10&&s>=40?b="Pattern Pursuer":r>=10&&(b="Market Apprentice");const w=[];return r>=30&&d<=3&&s>=70&&w.push("Risk Master"),r>=40&&v<=7&&s>=60&&w.push("Consistency Champion"),d>=5&&h>=3&&w.push("Comeback King/Queen"),u>=1e5&&w.push("Volume Virtuoso"),o>=1e4&&w.push("Profit Hunter"),r>=20&&n.every(E=>E.status!=="stop-loss"||(E.outcomeAmount||0)>=-.02)&&w.push("Iron Hands"),h>=7&&w.push("Streak Specialist"),{tier:b,...hy[b],badges:w}};function lS(e,n,r){switch(e){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-n,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-n,0),win:r<40?40-r:0,desc:"30 trade & win rate  40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-n,0),win:r<50?50-r:0,desc:"60 trade & win rate  50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-n,0),win:r<60?60-r:0,desc:"100 trade & win rate  60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const sS=e=>{const n=e.filter(A=>A.status!=="pending"),r=n.filter(A=>A.status==="profit"),i=n.filter(A=>A.status==="stop-loss"),s=r.length,o=i.length,u=n.length,d=u>0?s/u*100:0,m=r.reduce((A,T)=>A+(T.outcomeAmount||0),0),h=i.reduce((A,T)=>A+(T.outcomeAmount||0),0),g=s>0?m/s:0,x=o>0?h/o:0,v=h>0?m/h:0;let b=0,w=0,E=0;n.forEach(A=>{A.status==="profit"?w+=A.outcomeAmount||0:w-=A.outcomeAmount||0,w>E&&(E=w);const T=E-w;T>b&&(b=T)});const j=r.length>0?Math.max(...r.map(A=>A.outcomeAmount||0)):0,k=i.length>0?Math.max(...i.map(A=>A.outcomeAmount||0)):0;return{averageWin:g,averageLoss:x,profitFactor:v,maxDrawdown:b,bestTrade:j,worstTrade:k,totalTrades:u,winRate:d,totalWins:s,totalLosses:o}},oS=e=>{const r=e.filter(m=>m.status!=="pending").slice(-5),i=r.length>0?r.filter(m=>m.status==="profit").length/r.length:.5;let s="neutral",o=5,u="Neutral pattern";i>=.8?(s="confident",o=2,u="Confident  High Performance"):i>=.6?(s="calm",o=3,u="Calm  Consistent Results"):i>=.4?(s="nervous",o=6,u="Nervous  Mixed Results"):(s="frustrated",o=8,u="Frustrated  Poor Performance");const d=r.map((m,h)=>({tradeId:m.id,preTradeMood:["confident","calm","nervous","excited"][h%4],postTradeEmotion:m.status==="profit"?"happy":"frustrated",stressLevel:Math.floor(Math.random()*5)+3,timestamp:m.timestamp}));return{currentMood:s,stressLevel:o,emotionalPattern:u,recentEmotions:d}},uS=e=>({confident:"",nervous:"",excited:"",calm:"",frustrated:"",neutral:""})[e],cS=e=>e<=3?"text-green-600 dark:text-green-400":e<=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";function dS(e,n,r=7){const i={};e.forEach(w=>{if(!w.timestamp)return;const j=new Date(w.timestamp).toISOString().slice(0,10);i[j]||(i[j]=[]),i[j].push(w)});const s=new Date,o=[];for(let w=r-1;w>=0;w--){const E=new Date(s);E.setDate(s.getDate()-w),o.push(E.toISOString().slice(0,10))}let u=n,d=0,m=0,h=0,g=0,x=0,v=0;return o.map(w=>{const j=(i[w]||[]).filter(P=>P.status!=="pending"),k=j.filter(P=>P.status==="profit").length,A=j.filter(P=>P.status==="stop-loss").length,T=j.reduce((P,q)=>q.status==="profit"?P+(q.outcomeAmount||0):q.status==="stop-loss"?P-(q.outcomeAmount||0):P,0),N=u+T,O=m+j.length,D=h+k,G=g+A,F=D+G>0?D/(D+G)*100:v,W=G>0?D/G:x;return u=N,d+=T,m=O,h=D,g=G,x=W,v=F,{date:w,equity:N,netPL:d,totalTrades:O,winRate:F,profitFactor:W}})}const fS=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:" 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:" 10 trade & win rate  40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:" 20 trade & win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:" 30 trade & win rate  80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:" 30 trade, max loss streak  3, win rate  70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:" 40 trade, win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak  5, win streak  3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading  $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit  $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:" 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak  7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:" 50 scalp trade, win rate  60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:" 30 swing trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:" 30 day trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:" 20 position trade, win rate  70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak  10, win streak  10.",requirement:"Loss streak  10, win streak  10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading  $1,000,000.",requirement:"Total nominal trading  $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate  60% di semua mode.",requirement:"Win rate  60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:" 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:" 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:" 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:" 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:" 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:" 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:" 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:" 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:" 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:" 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],hS=({currentTier:e,onClose:n})=>f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:n,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:r=>r.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Mr,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(r=>f.jsxs("div",{children:[f.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${r==="common"?"text-green-600":r==="rare"?"text-violet-600":r==="epic"?"text-orange-600":"text-red-600"}`,children:r==="common"?"Common Tiers":r==="rare"?"Rare Tiers":r==="epic"?"Epic Tiers":"Legendary Tiers"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:fS.filter(i=>i.rarity===r).map(i=>f.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${i.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":i.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":i.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${i.name===e?"ring-2 ring-violet-500":""}`,children:[f.jsx("span",{className:`text-lg font-bold ${i.colorClass}`,children:i.name}),f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:i.desc}),f.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",i.requirement]})]},i.name))})]},r))]})]})}),mS=({profile:e,winRate:n,totalTrades:r,onClose:i})=>{var m;const[s,o]=M.useState(!1);M.useEffect(()=>{const h=g=>{g.key==="Escape"&&(s?o(!1):i())};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[i,s]);const u=lS(e.tier,r,n),d=u.next?(m=hy[u.next])==null?void 0:m.image:null;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:h=>h.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Mr,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:sa.createElement(e.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:e.tier}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:e.description}),f.jsx("div",{className:"mt-8",children:u.next?f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[d&&sa.createElement(d,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),f.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",u.next]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[u.desc," (",u.need>0?`${u.need} trade lagi`:"",u.win?`, win rate ${u.win}% lagi`:"",")"]})]}):f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),f.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>o(!0),children:"Show all tiers & achievements"}),f.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),f.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[n,"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r})]})]})]})]})}),s&&f.jsx(hS,{currentTier:e.tier,onClose:()=>o(!1)})]})};var lg;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(lg||(lg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sg;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(sg||(sg={}));var og;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(og||(og={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=["user","model","function","system"];var hi;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hi||(hi={}));var mi;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(mi||(mi={}));var cg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(cg||(cg={}));var dg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(dg||(dg={}));var Ol;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ol||(Ol={}));var fg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(fg||(fg={}));var hg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(hg||(hg={}));var mg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(mg||(mg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Ja extends Ot{constructor(n,r){super(n),this.response=r}}class my extends Ot{constructor(n,r,i,s){super(n),this.status=r,this.statusText=i,this.errorDetails=s}}class Lr extends Ot{}class py extends Ot{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="https://generativelanguage.googleapis.com",gS="v1beta",xS="0.24.1",yS="genai-js";var oa;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(oa||(oa={}));class vS{constructor(n,r,i,s,o){this.model=n,this.task=r,this.apiKey=i,this.stream=s,this.requestOptions=o}toString(){var n,r;const i=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||gS;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||pS}/${i}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function bS(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${yS}/${xS}`),n.join(" ")}async function wS(e){var n;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",bS(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let i=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(s){throw new Lr(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${s.message}`)}for(const[s,o]of i.entries()){if(s==="x-goog-api-key")throw new Lr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Lr(`Header name ${s} can only be set using the apiClient field`);r.append(s,o)}}return r}async function kS(e,n,r,i,s,o){const u=new vS(e,n,r,i,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},jS(o)),{method:"POST",headers:await wS(u),body:s})}}async function Ql(e,n,r,i,s,o={},u=fetch){const{url:d,fetchOptions:m}=await kS(e,n,r,i,s,o);return SS(d,m,u)}async function SS(e,n,r=fetch){let i;try{i=await r(e,n)}catch(s){_S(s,e)}return i.ok||await ES(i,e),i}function _S(e,n){let r=e;throw r.name==="AbortError"?(r=new py(`Request aborted when fetching ${n.toString()}: ${e.message}`),r.stack=e.stack):e instanceof my||e instanceof Lr||(r=new Ot(`Error fetching from ${n.toString()}: ${e.message}`),r.stack=e.stack),r}async function ES(e,n){let r="",i;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,i=s.error.details)}catch{}throw new my(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,i)}function jS(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),n.signal=r.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ao(e.candidates[0]))throw new Ja(`${Rr(e)}`,e);return TS(e)}else if(e.promptFeedback)throw new Ja(`Text not available. ${Rr(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ao(e.candidates[0]))throw new Ja(`${Rr(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),pg(e)[0]}else if(e.promptFeedback)throw new Ja(`Function call not available. ${Rr(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ao(e.candidates[0]))throw new Ja(`${Rr(e)}`,e);return pg(e)}else if(e.promptFeedback)throw new Ja(`Function call not available. ${Rr(e)}`,e)},e}function TS(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const u of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function pg(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const u of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const AS=[Ol.RECITATION,Ol.SAFETY,Ol.LANGUAGE];function Ao(e){return!!e.finishReason&&AS.includes(e.finishReason)}function Rr(e){var n,r,i;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((i=e.candidates)===null||i===void 0)&&i[0]){const o=e.candidates[0];Ao(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function ql(e){return this instanceof ql?(this.v=e,this):new ql(e)}function NS(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,n||[]),s,o=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(v){i[v]&&(s[v]=function(b){return new Promise(function(w,E){o.push([v,b,w,E])>1||d(v,b)})})}function d(v,b){try{m(i[v](b))}catch(w){x(o[0][3],w)}}function m(v){v.value instanceof ql?Promise.resolve(v.value.v).then(h,g):x(o[0][2],v)}function h(v){d("next",v)}function g(v){d("throw",v)}function x(v,b){v(b),o.shift(),o.length&&d(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function CS(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=DS(n),[i,s]=r.tee();return{stream:OS(i),response:RS(s)}}async function RS(e){const n=[],r=e.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)return kf(MS(n));n.push(s)}}function OS(e){return NS(this,arguments,function*(){const r=e.getReader();for(;;){const{value:i,done:s}=yield ql(r.read());if(s)break;yield yield ql(kf(i))}})}function DS(e){const n=e.getReader();return new ReadableStream({start(i){let s="";return o();function o(){return n.read().then(({value:u,done:d})=>{if(d){if(s.trim()){i.error(new Ot("Failed to parse stream"));return}i.close();return}s+=u;let m=s.match(gg),h;for(;m;){try{h=JSON.parse(m[1])}catch{i.error(new Ot(`Error parsing JSON response: "${m[1]}"`));return}i.enqueue(h),s=s.substring(m[0].length),m=s.match(gg)}return o()}).catch(u=>{let d=u;throw d.stack=u.stack,d.name==="AbortError"?d=new py("Request aborted when reading from the stream"):d=new Ot("Error reading from the stream"),d})}}})}function MS(e){const n=e[e.length-1],r={promptFeedback:n==null?void 0:n.promptFeedback};for(const i of e){if(i.candidates){let s=0;for(const o of i.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=o.citationMetadata,r.candidates[s].groundingMetadata=o.groundingMetadata,r.candidates[s].finishReason=o.finishReason,r.candidates[s].finishMessage=o.finishMessage,r.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[s].content||(r.candidates[s].content={role:o.content.role||"user",parts:[]});const u={};for(const d of o.content.parts)d.text&&(u.text=d.text),d.functionCall&&(u.functionCall=d.functionCall),d.executableCode&&(u.executableCode=d.executableCode),d.codeExecutionResult&&(u.codeExecutionResult=d.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),r.candidates[s].content.parts.push(u)}s++}i.usageMetadata&&(r.usageMetadata=i.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gy(e,n,r,i){const s=await Ql(n,oa.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),i);return CS(s)}async function xy(e,n,r,i){const o=await(await Ql(n,oa.GENERATE_CONTENT,e,!1,JSON.stringify(r),i)).json();return{response:kf(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function $l(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return LS(n)}function LS(e){const n={role:"user",parts:[]},r={role:"function",parts:[]};let i=!1,s=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),s=!0):(n.parts.push(o),i=!0);if(i&&s)throw new Ot("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!s)throw new Ot("No content is provided for sending chat message.");return i?n:r}function PS(e,n){var r;let i={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(r=n==null?void 0:n.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new Lr("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=e.contents}else if(s)i=Object.assign(Object.assign({},i),e.generateContentRequest);else{const o=$l(e);i.contents=[o]}return{generateContentRequest:i}}function xg(e){let n;return e.contents?n=e:n={contents:[$l(e)]},e.systemInstruction&&(n.systemInstruction=yy(e.systemInstruction)),n}function zS(e){return typeof e=="string"||Array.isArray(e)?{content:$l(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],US={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function BS(e){let n=!1;for(const r of e){const{role:i,parts:s}=r;if(!n&&i!=="user")throw new Ot(`First content should be with role 'user', got ${i}`);if(!ug.includes(i))throw new Ot(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(ug)}`);if(!Array.isArray(s))throw new Ot("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Ot("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of s)for(const m of yg)m in d&&(o[m]+=1);const u=US[i];for(const d of yg)if(!u.includes(d)&&o[d]>0)throw new Ot(`Content with role '${i}' can't contain '${d}' part`);n=!0}}function vg(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const i of r.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="SILENT_ERROR";class IS{constructor(n,r,i,s={}){this.model=r,this.params=i,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,i!=null&&i.history&&(BS(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,r={}){var i,s,o,u,d,m;await this._sendPromise;const h=$l(n),g={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,h]},x=Object.assign(Object.assign({},this._requestOptions),r);let v;return this._sendPromise=this._sendPromise.then(()=>xy(this._apiKey,this.model,g,x)).then(b=>{var w;if(vg(b.response)){this._history.push(h);const E=Object.assign({parts:[],role:"model"},(w=b.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(E)}else{const E=Rr(b.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}v=b}).catch(b=>{throw this._sendPromise=Promise.resolve(),b}),await this._sendPromise,v}async sendMessageStream(n,r={}){var i,s,o,u,d,m;await this._sendPromise;const h=$l(n),g={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,h]},x=Object.assign(Object.assign({},this._requestOptions),r),v=gy(this._apiKey,this.model,g,x);return this._sendPromise=this._sendPromise.then(()=>v).catch(b=>{throw new Error(bg)}).then(b=>b.response).then(b=>{if(vg(b)){this._history.push(h);const w=Object.assign({},b.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=Rr(b);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(b=>{b.message!==bg&&console.error(b)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(e,n,r,i){return(await Ql(n,oa.COUNT_TOKENS,e,!1,JSON.stringify(r),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(e,n,r,i){return(await Ql(n,oa.EMBED_CONTENT,e,!1,JSON.stringify(r),i)).json()}async function $S(e,n,r,i){const s=r.requests.map(u=>Object.assign(Object.assign({},u),{model:n}));return(await Ql(n,oa.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(n,r,i={}){this.apiKey=n,this._requestOptions=i,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=yy(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(n,r={}){var i;const s=xg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return xy(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}async generateContentStream(n,r={}){var i;const s=xg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return gy(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}startChat(n){var r;return new IS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},n),this._requestOptions)}async countTokens(n,r={}){const i=PS(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return HS(this.apiKey,this.model,i,s)}async embedContent(n,r={}){const i=zS(n),s=Object.assign(Object.assign({},this._requestOptions),r);return qS(this.apiKey,this.model,i,s)}async batchEmbedContents(n,r={}){const i=Object.assign(Object.assign({},this._requestOptions),r);return $S(this.apiKey,this.model,n,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(n){this.apiKey=n}getGenerativeModel(n,r){if(!n.model)throw new Ot("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new wg(this.apiKey,n,r)}getGenerativeModelFromCachedContent(n,r,i){if(!n.name)throw new Lr("Cached content must contain a `name` field.");if(!n.model)throw new Lr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const u of s)if(r!=null&&r[u]&&n[u]&&(r==null?void 0:r[u])!==n[u]){if(u==="model"){const d=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(d===m)continue}throw new Lr(`Different value for "${u}" specified in modelParams (${r[u]}) and cachedContent (${n[u]})`)}const o=Object.assign(Object.assign({},r),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new wg(this.apiKey,o,i)}}const vy={scalp:"SCALP trade - 1-minute chart.",day:"DAY trade - 5-minute atau 15-minute chart.",swing:"SWING trade - 30-minute atau 1-hour chart.",position:"POSITION trade - daily atau weekly chart."},FS=(e,n)=>`Anda adalah AI analis trading profesional. User memilih mode: ${vy[n]}.

**Tujuan utama Anda adalah membantu user mengubah current equity yang ada menjadi puluhan juta dollar dengan strategi dan analisa trading yang visioner, ambisius, namun tetap realistis dan profesional.**

**Gunakan Chain-of-Charts reasoning flow:**
1. **OBSERVE** - Identifikasi elemen visual chart yang jelas
2. **CALCULATE** - Analisa teknikal dan perhitungan level
3. **REASON** - Interpretasi pola dan sinyal trading
4. **DECIDE** - Keputusan trading yang actionable

Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x3x
  - Moderat (Day trading): 5x10x
  - Agresif (Scalping/spekulatif): 10x20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, triangle, flag, wedge, rectangle, pennant, cup and handle, ascending/descending triangle, dsb, atau No clear pattern jika tidak ada). Fokuskan pada pola yang benar-benar terlihat jelas dan sebutkan alasannya.
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, moving average, volume, dsb, atau No indicator analysis jika tidak ada). Sertakan sinyal penting dari indikator jika ada.
  
  **WAJIB sebutkan nilai indikator secara eksplisit, minimal RSI dan MFI, misal: 'RSI: 70 (overbought)', 'MFI: 80 (overbought)'. Jika indikator tidak terlihat jelas, tulis 'Unknown'.**
- supportResistance: WAJIB identifikasi level support dan resistance utama, sebutkan harga dan alasan kenapa level tersebut penting (misal: banyak sentuhan, volume tinggi, reaksi harga kuat, dsb). Jika tidak jelas, tulis 'Unknown'.
- rationale: reasoning trading profesional menggunakan Chain-of-Charts, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik). Sertakan:
    1. **OBSERVE**: Elemen visual yang teridentifikasi (harga, volume, pola, indikator).
    2. **CALCULATE**: Perhitungan level support/resistance dan rasio risk/reward.
    3. **REASON**: Interpretasi sinyal dan pola chart yang relevan.
    4. **DECIDE**: Keputusan trading (Long/Short) dengan alasan yang jelas.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

FOKUSKAN analisa pada:
- Identifikasi pola chart yang benar-benar terlihat jelas (jangan paksakan jika tidak ada)
- Penjelasan support dan resistance utama (harga, alasan, dan reaksi harga di level tersebut)
- Analisa teknikal yang actionable dan relevan untuk trader

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI: 72 (overbought), MFI: 80 (overbought), MACD: -0.12 (bearish crossover)",
  "supportResistance": [
    {"level": 21571.45, "type": "support", "reason": "Level ini sudah beberapa kali menjadi titik pantulan harga dan volume meningkat di area ini."},
    {"level": 21585.25, "type": "resistance", "reason": "Harga sering tertahan di area ini dan terjadi reaksi jual yang kuat."}
  ],
  "rationale": [
    "OBSERVE: Harga berada di resistance level 21585.25 dengan volume tinggi, RSI menunjukkan overbought (72), dan pola descending triangle terlihat jelas.",
    "CALCULATE: Risk/Reward ratio 1:3.5, stop loss 13.8 points, target profit 85.25 points dari entry.",
    "REASON: Sinyal bearish kuat dari RSI overbought, MACD bearish crossover, dan pola descending triangle yang mengindikasikan penurunan.",
    "DECIDE: SHORT signal dengan entry di 21585.25, target profit di 21500.00, stop loss di 21571.45.",
    "Strategi: Gunakan leverage 10x untuk scalping, waktu hold 1-2 jam, pantau volume untuk konfirmasi entry."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.`,GS=async(e,n,r,i,s)=>{if(!e)throw new Error("API key is not set.");const o=await new Promise((x,v)=>{const b=new FileReader;b.onloadend=()=>{try{const w=b.result;x(w.split(",")[1])}catch{v(new Error("Failed to process image file"))}},b.onerror=()=>v(new Error("Failed to read image file")),b.readAsDataURL(n)});let u=null;const m=new Sf(e).getGenerativeModel({model:"gemini-2.5-pro",safetySettings:[{category:hi.HARM_CATEGORY_HARASSMENT,threshold:mi.BLOCK_NONE},{category:hi.HARM_CATEGORY_HATE_SPEECH,threshold:mi.BLOCK_NONE},{category:hi.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:mi.BLOCK_NONE},{category:hi.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:mi.BLOCK_NONE}]}),h={inlineData:{data:o,mimeType:n.type}};for(let x=1;x<=3;x++)try{let v=function(V){if(!V)return"unknown";const Z=String(V).trim();if(Z==="1M")return"position";const ae=Z.toLowerCase();return["1m","3m","5m","15m"].includes(ae)?"scalp":["30m"].includes(ae)?"day":["1h","2h","4h","12h"].includes(ae)?"swing":["1d","1w"].includes(ae)?"position":"unknown"},b;x===1?b=FS({...r,currentEquity:s},i):b=`Anda adalah AI analis trading profesional. User memilih mode: ${vy[i]}.

**Tujuan utama Anda adalah membantu user mengubah current equity yang ada menjadi puluhan juta dollar dengan strategi dan analisa trading yang visioner, ambisius, namun tetap realistis dan profesional.**

**Gunakan Chain-of-Charts reasoning flow:**
1. **OBSERVE** - Identifikasi elemen visual chart yang jelas
2. **CALCULATE** - Analisa teknikal dan perhitungan level
3. **REASON** - Interpretasi pola dan sinyal trading
4. **DECIDE** - Keputusan trading yang actionable

Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x3x
  - Moderat (Day trading): 5x10x
  - Agresif (Scalping/spekulatif): 10x20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, dsb, atau No clear pattern jika tidak ada)
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, dsb, atau No indicator analysis jika tidak ada).
  
  **WAJIB sebutkan nilai indikator secara eksplisit, minimal RSI dan MFI, misal: 'RSI: 70 (overbought)', 'MFI: 80 (overbought)'. Jika indikator tidak terlihat jelas, tulis 'Unknown'.**
- rationale: reasoning trading profesional menggunakan Chain-of-Charts, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik). Sertakan:
    1. **OBSERVE**: Elemen visual yang teridentifikasi (harga, volume, pola, indikator).
    2. **CALCULATE**: Perhitungan level support/resistance dan rasio risk/reward.
    3. **REASON**: Interpretasi sinyal dan pola chart yang relevan.
    4. **DECIDE**: Keputusan trading (Long/Short) dengan alasan yang jelas.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI: 72 (overbought), MFI: 80 (overbought), MACD: -0.12 (bearish crossover)",
  "supportResistance": [
    {"level": 21571.45, "type": "support", "reason": "Level ini sudah beberapa kali menjadi titik pantulan harga dan volume meningkat di area ini."},
    {"level": 21585.25, "type": "resistance", "reason": "Harga sering tertahan di area ini dan terjadi reaksi jual yang kuat."}
  ],
  "rationale": [
    "OBSERVE: Harga berada di resistance level 21585.25 dengan volume tinggi, RSI menunjukkan overbought (72), dan pola descending triangle terlihat jelas.",
    "CALCULATE: Risk/Reward ratio 1:3.5, stop loss 13.8 points, target profit 85.25 points dari entry.",
    "REASON: Sinyal bearish kuat dari RSI overbought, MACD bearish crossover, dan pola descending triangle yang mengindikasikan penurunan.",
    "DECIDE: SHORT signal dengan entry di 21585.25, target profit di 21500.00, stop loss di 21571.45.",
    "Strategi: Gunakan leverage 10x untuk scalping, waktu hold 1-2 jam, pantau volume untuk konfirmasi entry."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.

Pada bagian reasoning, tulis kata OBSERVE:, CALCULATE:, REASON:, dan DECIDE: dengan format tebal (markdown: **OBSERVE:** dst) di awal setiap kalimat reasoning.`,console.log(`Attempt ${x}: Sending chart analysis request to Gemini 1.5 Pro...`);const E=`You are a professional trading analyst AI. You MUST respond with ONLY valid JSON format. Do not include any additional text, markdown formatting, or explanations outside the JSON structure. The response must be parseable JSON.

${b}`;let A=(await m.generateContent([E,h])).response.text();console.log(`Attempt ${x}: Gemini 1.5 Pro response received:`,A);const T={prompt:0,completion:0,total:0};A=A.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"").trim();let N=A.match(/\{[\s\S]*\}/);if(!N)throw console.error("No JSON object found in response"),console.error("Full response:",A),new Error("AI response does not contain valid JSON format");A=N[0],console.log(`Attempt ${x}: Extracted JSON string:`,A);let O;try{O=JSON.parse(A)}catch(V){throw console.error("JSON parsing failed:",V),console.error("Failed JSON string:",A),new Error("AI response format is invalid. Please try again.")}!O.tradeSetup&&O.tradeType&&O.entryPrice&&O.stopLoss&&O.takeProfit&&(O.tradeSetup={tradeType:O.tradeType,entryPrice:O.entryPrice,stopLoss:O.stopLoss,takeProfit:O.takeProfit,rrr:O.rrr||0}),console.log(`Attempt ${x}: Parsed analysis data:`,O),!O.tradeSetup&&O.tradeType&&O.entryPrice!==void 0&&O.stopLoss!==void 0&&O.takeProfit!==void 0&&(O.tradeSetup={tradeType:O.tradeType,entryPrice:O.entryPrice,stopLoss:O.stopLoss,takeProfit:O.takeProfit,rrr:O.rrr||0},O.leverage!==void 0&&(O.leverage=O.leverage),O.profitAmount!==void 0&&(O.profitAmount=O.profitAmount),O.rationale!==void 0&&(O.rationale=O.rationale),O.error!==void 0&&(O.error=O.error));const G=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(V=>O[V]===void 0||O[V]===null);if(console.log(`Attempt ${x}: Full AI response:`,O),O&&O.error&&O.error.trim()!=="")return{analysis:{error:O.error},usage:T};if(G.length>0){console.error(`Attempt ${x}: Missing required fields in analysis data:`,G),console.error("Available fields:",Object.keys(O)),console.error("Analysis data:",O);const V={marketTrend:O.marketTrend||"Unknown",keyPattern:O.keyPattern||"No clear pattern",indicatorAnalysis:O.indicatorAnalysis||"No indicator analysis",tradeBias:O.tradeBias||"Neutral",confidenceScore:O.confidenceScore||50,rationale:O.rationale||"Analysis incomplete due to missing data",tradeSetup:O.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};V.tradeSetup&&!V.tradeSetup.tradeType&&(V.tradeSetup.tradeType="Long");const Z=O.confidenceScore||0,ae=O.tradeSetup||{},ce=parseFloat(ae.rrr)||0;Z>=70&&ce>0?console.log(`Attempt ${x}: High-confidence signal detected (${Z}%, RRR: ${ce})`):console.warn(`Attempt ${x}: Low-confidence signal (${Z}%, RRR: ${ce}) - Consider retrying`);const X=["tradeSetup"].filter(oe=>!O[oe]);if(X.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${X.join(", ")}`);console.log(`Attempt ${x}: Using fallback data for missing fields:`,V),O={...O,...V}}(typeof O.riskPerTrade!="number"||isNaN(O.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),O.riskPerTrade=1);const F=["Long","Short"],P=["tradeType","entryPrice","stopLoss","takeProfit"].filter(V=>{const Z=O.tradeSetup[V];return V==="tradeType"?!Z||Z!=="Long"&&Z!=="Short":Z==null||Z===""||Number(Z)===0||isNaN(Number(Z))});if(P.length>0)throw console.error("Missing required tradeSetup fields:",P),console.error("Available tradeSetup fields:",Object.keys(O.tradeSetup)),console.error("TradeSetup data:",O.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${P.join(", ")}`);if(!O.tradeSetup||typeof O.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",O.tradeSetup),new Error("Trade setup data is missing or invalid");if(O.confidenceScore=Number(O.confidenceScore)||50,(O.confidenceScore<0||O.confidenceScore>100)&&(O.confidenceScore=50),O.tradeSetup&&O.tradeSetup.tradeType==="Neutral"&&(O.confidenceScore=Math.min(O.confidenceScore||50,50)),(!O.tradeBias||!["Bullish","Bearish","Neutral"].includes(O.tradeBias))&&(O.tradeBias="Neutral"),O.tradeSetup.tradeType){const V=String(O.tradeSetup.tradeType).trim().toLowerCase();V==="long"||V==="short"?O.tradeSetup.tradeType=V.charAt(0).toUpperCase()+V.slice(1):(console.warn("Invalid tradeType, fallback to Long"),O.tradeSetup.tradeType="Long")}else console.warn("Missing tradeType, fallback to Long"),O.tradeSetup.tradeType="Long";O.tradeSetup&&(O.tradeSetup.entryPrice=Number(O.tradeSetup.entryPrice)||0,O.tradeSetup.stopLoss=Number(O.tradeSetup.stopLoss)||0,O.tradeSetup.takeProfit=Number(O.tradeSetup.takeProfit)||0,O.tradeSetup.rrr=Number(O.tradeSetup.rrr)||1),console.log(`Attempt ${x}: Analysis successful!`);const q=v(O.detectedTimeframe);return{analysis:{...O,mode:q},usage:T}}catch(v){console.error(`Attempt ${x} failed:`,v),u=v instanceof Error?v:new Error(String(v)),x<3&&(console.log(`Retrying with enhanced prompt... (attempt ${x+1}/3)`),await new Promise(b=>setTimeout(b,1e3)))}console.error("All analysis attempts failed");const g=`AI analysis failed after all attempts. Last error: ${(u==null?void 0:u.message)||u}`;throw new Error(g)},YS=async(e,n)=>{if(!e)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to Gemini 1.5 Pro...");const i=new Sf(e).getGenerativeModel({model:"gemini-2.5-flash"}),u=`You are a professional trading performance coach.
Jawab analisis performa trading ini secara singkat, maksimal 3-5 kalimat saja, namun tetap insightfull dan jelas, dalam bahasa Indonesia.

${n}`,h=(await i.generateContent(u)).response.text();return console.log("Gemini 1.5 Pro performance response received:",h),{analysisText:h,usage:{prompt:0,completion:0,total:0}}}catch(r){throw console.error("Error in analyzePerformance:",r),r}},VS=async(e,n,r)=>{if(!e)throw new Error("API key is not set.");if(!n)throw new Error("Portfolio data is not available.");const i=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(n,null,2)}

        Pengguna memiliki pertanyaan berikut: "${r}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to Gemini 1.5 Pro...");const u=new Sf(e).getGenerativeModel({model:"gemini-2.5-flash"}),d=`${i}

${s}`,g=(await u.generateContent(d)).response.text();return console.log("Gemini 1.5 Pro financial advice response received:",g),{analysisText:g,usage:{prompt:0,completion:0,total:0}}}catch(o){throw console.error("Error in generateFinancialAdvice:",o),o}};function KS(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const XS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JS={};function kg(e,n){return(JS.jsx?QS:XS).test(e)}const WS=/[ \t\n\f\r]/g;function ZS(e){return typeof e=="object"?e.type==="text"?Sg(e.value):!1:Sg(e)}function Sg(e){return e.replace(WS,"")===""}class Jl{constructor(n,r,i){this.normal=r,this.property=n,i&&(this.space=i)}}Jl.prototype.normal={};Jl.prototype.property={};Jl.prototype.space=void 0;function by(e,n){const r={},i={};for(const s of e)Object.assign(r,s.property),Object.assign(i,s.normal);return new Jl(r,i,n)}function Kd(e){return e.toLowerCase()}class Yt{constructor(n,r){this.attribute=r,this.property=n}}Yt.prototype.attribute="";Yt.prototype.booleanish=!1;Yt.prototype.boolean=!1;Yt.prototype.commaOrSpaceSeparated=!1;Yt.prototype.commaSeparated=!1;Yt.prototype.defined=!1;Yt.prototype.mustUseProperty=!1;Yt.prototype.number=!1;Yt.prototype.overloadedBoolean=!1;Yt.prototype.property="";Yt.prototype.spaceSeparated=!1;Yt.prototype.space=void 0;let e2=0;const Ne=ca(),ft=ca(),Xd=ca(),fe=ca(),Ze=ca(),pi=ca(),nn=ca();function ca(){return 2**++e2}const Qd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:ft,commaOrSpaceSeparated:nn,commaSeparated:pi,number:fe,overloadedBoolean:Xd,spaceSeparated:Ze},Symbol.toStringTag,{value:"Module"})),md=Object.keys(Qd);class _f extends Yt{constructor(n,r,i,s){let o=-1;if(super(n,r),_g(this,"space",s),typeof i=="number")for(;++o<md.length;){const u=md[o];_g(this,md[o],(i&Qd[u])===Qd[u])}}}_f.prototype.defined=!0;function _g(e,n,r){r&&(e[n]=r)}function wi(e){const n={},r={};for(const[i,s]of Object.entries(e.properties)){const o=new _f(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),n[i]=o,r[Kd(i)]=i,r[Kd(o.attribute)]=i}return new Jl(n,r,e.space)}const wy=wi({properties:{ariaActiveDescendant:null,ariaAtomic:ft,ariaAutoComplete:null,ariaBusy:ft,ariaChecked:ft,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:Ze,ariaCurrent:null,ariaDescribedBy:Ze,ariaDetails:null,ariaDisabled:ft,ariaDropEffect:Ze,ariaErrorMessage:null,ariaExpanded:ft,ariaFlowTo:Ze,ariaGrabbed:ft,ariaHasPopup:null,ariaHidden:ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ze,ariaLevel:fe,ariaLive:null,ariaModal:ft,ariaMultiLine:ft,ariaMultiSelectable:ft,ariaOrientation:null,ariaOwns:Ze,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:ft,ariaReadOnly:ft,ariaRelevant:null,ariaRequired:ft,ariaRoleDescription:Ze,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:ft,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function ky(e,n){return n in e?e[n]:n}function Sy(e,n){return ky(e,n.toLowerCase())}const t2=wi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pi,acceptCharset:Ze,accessKey:Ze,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:Ze,autoFocus:Ne,autoPlay:Ne,blocking:Ze,capture:null,charSet:null,checked:Ne,cite:null,className:Ze,cols:fe,colSpan:null,content:null,contentEditable:ft,controls:Ne,controlsList:Ze,coords:fe|pi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:Xd,draggable:ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:Ze,height:fe,hidden:Xd,high:fe,href:null,hrefLang:null,htmlFor:Ze,httpEquiv:Ze,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:Ze,itemRef:Ze,itemScope:Ne,itemType:Ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:fe,pattern:null,ping:Ze,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:Ze,required:Ne,reversed:Ne,rows:fe,rowSpan:fe,sandbox:Ze,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:ft,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ze,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:ft,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:Sy}),n2=wi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:Ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pi,g2:pi,glyphName:pi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:nn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nn,rev:nn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nn,requiredFeatures:nn,requiredFonts:nn,requiredFormats:nn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:nn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ky}),_y=wi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Ey=wi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Sy}),jy=wi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),r2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},a2=/[A-Z]/g,Eg=/-[a-z]/g,i2=/^data[-\w.:]+$/i;function l2(e,n){const r=Kd(n);let i=n,s=Yt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&i2.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(Eg,o2);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!Eg.test(o)){let u=o.replace(a2,s2);u.charAt(0)!=="-"&&(u="-"+u),n="data"+u}}s=_f}return new s(i,n)}function s2(e){return"-"+e.toLowerCase()}function o2(e){return e.charAt(1).toUpperCase()}const u2=by([wy,t2,_y,Ey,jy],"html"),Ef=by([wy,n2,_y,Ey,jy],"svg");function c2(e){return e.join(" ").trim()}var Wa={},pd,jg;function d2(){if(jg)return pd;jg=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,h="/",g="*",x="",v="comment",b="declaration";pd=function(E,j){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];j=j||{};var k=1,A=1;function T(Z){var ae=Z.match(n);ae&&(k+=ae.length);var ce=Z.lastIndexOf(m);A=~ce?Z.length-ce:A+Z.length}function N(){var Z={line:k,column:A};return function(ae){return ae.position=new O(Z),F(),ae}}function O(Z){this.start=Z,this.end={line:k,column:A},this.source=j.source}O.prototype.content=E;function D(Z){var ae=new Error(j.source+":"+k+":"+A+": "+Z);if(ae.reason=Z,ae.filename=j.source,ae.line=k,ae.column=A,ae.source=E,!j.silent)throw ae}function G(Z){var ae=Z.exec(E);if(ae){var ce=ae[0];return T(ce),E=E.slice(ce.length),ae}}function F(){G(r)}function W(Z){var ae;for(Z=Z||[];ae=P();)ae!==!1&&Z.push(ae);return Z}function P(){var Z=N();if(!(h!=E.charAt(0)||g!=E.charAt(1))){for(var ae=2;x!=E.charAt(ae)&&(g!=E.charAt(ae)||h!=E.charAt(ae+1));)++ae;if(ae+=2,x===E.charAt(ae-1))return D("End of comment missing");var ce=E.slice(2,ae-2);return A+=2,T(ce),E=E.slice(ae),A+=2,Z({type:v,comment:ce})}}function q(){var Z=N(),ae=G(i);if(ae){if(P(),!G(s))return D("property missing ':'");var ce=G(o),B=Z({type:b,property:w(ae[0].replace(e,x)),value:ce?w(ce[0].replace(e,x)):x});return G(u),B}}function V(){var Z=[];W(Z);for(var ae;ae=q();)ae!==!1&&(Z.push(ae),W(Z));return Z}return F(),V()};function w(E){return E?E.replace(d,x):x}return pd}var Tg;function f2(){if(Tg)return Wa;Tg=1;var e=Wa&&Wa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=r;var n=e(d2());function r(i,s){var o=null;if(!i||typeof i!="string")return o;var u=(0,n.default)(i),d=typeof s=="function";return u.forEach(function(m){if(m.type==="declaration"){var h=m.property,g=m.value;d?s(h,g,m):g&&(o=o||{},o[h]=g)}}),o}return Wa}var Sl={},Ag;function h2(){if(Ag)return Sl;Ag=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(h){return!h||r.test(h)||e.test(h)},u=function(h,g){return g.toUpperCase()},d=function(h,g){return"".concat(g,"-")},m=function(h,g){return g===void 0&&(g={}),o(h)?h:(h=h.toLowerCase(),g.reactCompat?h=h.replace(s,d):h=h.replace(i,d),h.replace(n,u))};return Sl.camelCase=m,Sl}var _l,Ng;function m2(){if(Ng)return _l;Ng=1;var e=_l&&_l.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},n=e(f2()),r=h2();function i(s,o){var u={};return!s||typeof s!="string"||(0,n.default)(s,function(d,m){d&&m&&(u[(0,r.camelCase)(d,o)]=m)}),u}return i.default=i,_l=i,_l}var p2=m2();const g2=Vl(p2),Ty=Ay("end"),jf=Ay("start");function Ay(e){return n;function n(r){const i=r&&r.position&&r.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function x2(e){const n=jf(e),r=Ty(e);if(n&&r)return{start:n,end:r}}function Dl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Cg(e.position):"start"in e||"end"in e?Cg(e):"line"in e||"column"in e?Jd(e):""}function Jd(e){return Rg(e&&e.line)+":"+Rg(e&&e.column)}function Cg(e){return Jd(e&&e.start)+"-"+Jd(e&&e.end)}function Rg(e){return e&&typeof e=="number"?e:1}class Mt extends Error{constructor(n,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let s="",o={},u=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof n=="string"?s=n:!o.cause&&n&&(u=!0,s=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof i=="string"){const m=i.indexOf(":");m===-1?o.ruleId=i:(o.source=i.slice(0,m),o.ruleId=i.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=d?d.line:void 0,this.name=Dl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Mt.prototype.file="";Mt.prototype.name="";Mt.prototype.reason="";Mt.prototype.message="";Mt.prototype.stack="";Mt.prototype.column=void 0;Mt.prototype.line=void 0;Mt.prototype.ancestors=void 0;Mt.prototype.cause=void 0;Mt.prototype.fatal=void 0;Mt.prototype.place=void 0;Mt.prototype.ruleId=void 0;Mt.prototype.source=void 0;const Tf={}.hasOwnProperty,y2=new Map,v2=/[A-Z]/g,b2=new Set(["table","tbody","thead","tfoot","tr"]),w2=new Set(["td","th"]),Ny="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function k2(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let i;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=C2(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=N2(r,n.jsx,n.jsxs)}const s={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:i,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Ef:u2,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Cy(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Cy(e,n,r){if(n.type==="element")return S2(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return _2(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return j2(e,n,r);if(n.type==="mdxjsEsm")return E2(e,n);if(n.type==="root")return T2(e,n,r);if(n.type==="text")return A2(e,n)}function S2(e,n,r){const i=e.schema;let s=i;n.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Ef,e.schema=s),e.ancestors.push(n);const o=Oy(e,n.tagName,!1),u=R2(e,n);let d=Nf(e,n);return b2.has(n.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!ZS(m):!0})),Ry(e,u,o,n),Af(u,d),e.ancestors.pop(),e.schema=i,e.create(n,o,u,r)}function _2(e,n){if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Fl(e,n.position)}function E2(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);Fl(e,n.position)}function j2(e,n,r){const i=e.schema;let s=i;n.name==="svg"&&i.space==="html"&&(s=Ef,e.schema=s),e.ancestors.push(n);const o=n.name===null?e.Fragment:Oy(e,n.name,!0),u=O2(e,n),d=Nf(e,n);return Ry(e,u,o,n),Af(u,d),e.ancestors.pop(),e.schema=i,e.create(n,o,u,r)}function T2(e,n,r){const i={};return Af(i,Nf(e,n)),e.create(n,e.Fragment,i,r)}function A2(e,n){return n.value}function Ry(e,n,r,i){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=i)}function Af(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function N2(e,n,r){return i;function i(s,o,u,d){const h=Array.isArray(u.children)?r:n;return d?h(o,u,d):h(o,u)}}function C2(e,n){return r;function r(i,s,o,u){const d=Array.isArray(o.children),m=jf(i);return n(s,o,u,d,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function R2(e,n){const r={};let i,s;for(s in n.properties)if(s!=="children"&&Tf.call(n.properties,s)){const o=D2(e,s,n.properties[s]);if(o){const[u,d]=o;e.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&w2.has(n.tagName)?i=d:r[u]=d}}if(i){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function O2(e,n){const r={};for(const i of n.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const d=u.properties[0];d.type,Object.assign(r,e.evaluater.evaluateExpression(d.argument))}else Fl(e,n.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,o=e.evaluater.evaluateExpression(d.expression)}else Fl(e,n.position);else o=i.value===null?!0:i.value;r[s]=o}return r}function Nf(e,n){const r=[];let i=-1;const s=e.passKeys?new Map:y2;for(;++i<n.children.length;){const o=n.children[i];let u;if(e.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const h=s.get(m)||0;u=m+"-"+h,s.set(m,h+1)}}const d=Cy(e,o,u);d!==void 0&&r.push(d)}return r}function D2(e,n,r){const i=l2(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?KS(r):c2(r)),i.property==="style"){let s=typeof r=="object"?r:M2(e,String(r));return e.stylePropertyNameCase==="css"&&(s=L2(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?r2[i.property]||i.property:i.attribute,r]}}function M2(e,n){try{return g2(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const i=r,s=new Mt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Ny+"#cannot-parse-style-attribute",s}}function Oy(e,n,r){let i;if(!r)i={type:"Literal",value:n};else if(n.includes(".")){const s=n.split(".");let o=-1,u;for(;++o<s.length;){const d=kg(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}i=u}else i=kg(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(i.type==="Literal"){const s=i.value;return Tf.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);Fl(e)}function Fl(e,n){const r=new Mt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Ny+"#cannot-handle-mdx-estrees-without-createevaluater",r}function L2(e){const n={};let r;for(r in e)Tf.call(e,r)&&(n[P2(r)]=e[r]);return n}function P2(e){let n=e.replace(v2,z2);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function z2(e){return"-"+e.toLowerCase()}const gd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},U2={};function Cf(e,n){const r=U2,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Dy(e,i,s)}function Dy(e,n,r){if(B2(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Og(e.children,n,r)}return Array.isArray(e)?Og(e,n,r):""}function Og(e,n,r){const i=[];let s=-1;for(;++s<e.length;)i[s]=Dy(e[s],n,r);return i.join("")}function B2(e){return!!(e&&typeof e=="object")}const Dg=document.createElement("i");function Rf(e){const n="&"+e+";";Dg.innerHTML=n;const r=Dg.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function rn(e,n,r,i){const s=e.length;let o=0,u;if(n<0?n=-n>s?0:s+n:n=n>s?s:n,r=r>0?r:0,i.length<1e4)u=Array.from(i),u.unshift(n,r),e.splice(...u);else for(r&&e.splice(n,r);o<i.length;)u=i.slice(o,o+1e4),u.unshift(n,0),e.splice(...u),o+=1e4,n+=1e4}function pn(e,n){return e.length>0?(rn(e,e.length,0,n),e):n}const Mg={}.hasOwnProperty;function My(e){const n={};let r=-1;for(;++r<e.length;)I2(n,e[r]);return n}function I2(e,n){let r;for(r in n){const s=(Mg.call(e,r)?e[r]:void 0)||(e[r]={}),o=n[r];let u;if(o)for(u in o){Mg.call(s,u)||(s[u]=[]);const d=o[u];H2(s[u],Array.isArray(d)?d:d?[d]:[])}}}function H2(e,n){let r=-1;const i=[];for(;++r<n.length;)(n[r].add==="after"?e:i).push(n[r]);rn(e,0,0,i)}function Ly(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Sn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pt=Pr(/[A-Za-z]/),Dt=Pr(/[\dA-Za-z]/),q2=Pr(/[#-'*+\--9=?A-Z^-~]/);function Oo(e){return e!==null&&(e<32||e===127)}const Wd=Pr(/\d/),$2=Pr(/[\dA-Fa-f]/),F2=Pr(/[!-/:-@[-`{-~]/);function ke(e){return e!==null&&e<-2}function Qe(e){return e!==null&&(e<0||e===32)}function Le(e){return e===-2||e===-1||e===32}const Ho=Pr(new RegExp("\\p{P}|\\p{S}","u")),ua=Pr(/\s/);function Pr(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function ki(e){const n=[];let r=-1,i=0,s=0;for(;++r<e.length;){const o=e.charCodeAt(r);let u="";if(o===37&&Dt(e.charCodeAt(r+1))&&Dt(e.charCodeAt(r+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const d=e.charCodeAt(r+1);o<56320&&d>56319&&d<57344?(u=String.fromCharCode(o,d),s=1):u=""}else u=String.fromCharCode(o);u&&(n.push(e.slice(i,r),encodeURIComponent(u)),i=r+s+1,u=""),s&&(r+=s,s=0)}return n.join("")+e.slice(i)}function ze(e,n,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return Le(m)?(e.enter(r),d(m)):n(m)}function d(m){return Le(m)&&o++<s?(e.consume(m),d):(e.exit(r),n(m))}}const G2={tokenize:Y2};function Y2(e){const n=e.attempt(this.parser.constructs.contentInitial,i,s);let r;return n;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),ze(e,n,"linePrefix")}function s(d){return e.enter("paragraph"),o(d)}function o(d){const m=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=m),r=m,u(d)}function u(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return ke(d)?(e.consume(d),e.exit("chunkText"),o):(e.consume(d),u)}}const V2={tokenize:K2},Lg={tokenize:X2};function K2(e){const n=this,r=[];let i=0,s,o,u;return d;function d(T){if(i<r.length){const N=r[i];return n.containerState=N[1],e.attempt(N[0].continuation,m,h)(T)}return h(T)}function m(T){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,s&&A();const N=n.events.length;let O=N,D;for(;O--;)if(n.events[O][0]==="exit"&&n.events[O][1].type==="chunkFlow"){D=n.events[O][1].end;break}k(i);let G=N;for(;G<n.events.length;)n.events[G][1].end={...D},G++;return rn(n.events,O+1,0,n.events.slice(N)),n.events.length=G,h(T)}return d(T)}function h(T){if(i===r.length){if(!s)return v(T);if(s.currentConstruct&&s.currentConstruct.concrete)return w(T);n.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Lg,g,x)(T)}function g(T){return s&&A(),k(i),v(T)}function x(T){return n.parser.lazy[n.now().line]=i!==r.length,u=n.now().offset,w(T)}function v(T){return n.containerState={},e.attempt(Lg,b,w)(T)}function b(T){return i++,r.push([n.currentConstruct,n.containerState]),v(T)}function w(T){if(T===null){s&&A(),k(0),e.consume(T);return}return s=s||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),E(T)}function E(T){if(T===null){j(e.exit("chunkFlow"),!0),k(0),e.consume(T);return}return ke(T)?(e.consume(T),j(e.exit("chunkFlow")),i=0,n.interrupt=void 0,d):(e.consume(T),E)}function j(T,N){const O=n.sliceStream(T);if(N&&O.push(null),T.previous=o,o&&(o.next=T),o=T,s.defineSkip(T.start),s.write(O),n.parser.lazy[T.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<u&&(!s.events[D][1].end||s.events[D][1].end.offset>u))return;const G=n.events.length;let F=G,W,P;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){if(W){P=n.events[F][1].end;break}W=!0}for(k(i),D=G;D<n.events.length;)n.events[D][1].end={...P},D++;rn(n.events,F+1,0,n.events.slice(G)),n.events.length=D}}function k(T){let N=r.length;for(;N-- >T;){const O=r[N];n.containerState=O[1],O[0].exit.call(n,e)}r.length=T}function A(){s.write([null]),o=void 0,s=void 0,n.containerState._closeFlow=void 0}}function X2(e,n,r){return ze(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gi(e){if(e===null||Qe(e)||ua(e))return 1;if(Ho(e))return 2}function qo(e,n,r){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(n=o(n,r),i.push(o))}return n}const Zd={name:"attention",resolveAll:Q2,tokenize:J2};function Q2(e,n){let r=-1,i,s,o,u,d,m,h,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&n.sliceSerialize(e[i][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;m=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const x={...e[i][1].end},v={...e[r][1].start};Pg(x,-m),Pg(v,m),u={type:m>1?"strongSequence":"emphasisSequence",start:x,end:{...e[i][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},o={type:m>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[r][1].start}},s={type:m>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},e[i][1].end={...u.start},e[r][1].start={...d.end},h=[],e[i][1].end.offset-e[i][1].start.offset&&(h=pn(h,[["enter",e[i][1],n],["exit",e[i][1],n]])),h=pn(h,[["enter",s,n],["enter",u,n],["exit",u,n],["enter",o,n]]),h=pn(h,qo(n.parser.constructs.insideSpan.null,e.slice(i+1,r),n)),h=pn(h,[["exit",o,n],["enter",d,n],["exit",d,n],["exit",s,n]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,h=pn(h,[["enter",e[r][1],n],["exit",e[r][1],n]])):g=0,rn(e,i-1,r-i+3,h),r=i+h.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function J2(e,n){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=gi(i);let o;return u;function u(m){return o=m,e.enter("attentionSequence"),d(m)}function d(m){if(m===o)return e.consume(m),d;const h=e.exit("attentionSequence"),g=gi(m),x=!g||g===2&&s||r.includes(m),v=!s||s===2&&g||r.includes(i);return h._open=!!(o===42?x:x&&(s||!v)),h._close=!!(o===42?v:v&&(g||!x)),n(m)}}function Pg(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const W2={name:"autolink",tokenize:Z2};function Z2(e,n,r){let i=0;return s;function s(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return Pt(b)?(e.consume(b),u):b===64?r(b):h(b)}function u(b){return b===43||b===45||b===46||Dt(b)?(i=1,d(b)):h(b)}function d(b){return b===58?(e.consume(b),i=0,m):(b===43||b===45||b===46||Dt(b))&&i++<32?(e.consume(b),d):(i=0,h(b))}function m(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):b===null||b===32||b===60||Oo(b)?r(b):(e.consume(b),m)}function h(b){return b===64?(e.consume(b),g):q2(b)?(e.consume(b),h):r(b)}function g(b){return Dt(b)?x(b):r(b)}function x(b){return b===46?(e.consume(b),i=0,g):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):v(b)}function v(b){if((b===45||Dt(b))&&i++<63){const w=b===45?v:x;return e.consume(b),w}return r(b)}}const Wl={partial:!0,tokenize:e_};function e_(e,n,r){return i;function i(o){return Le(o)?ze(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||ke(o)?n(o):r(o)}}const Py={continuation:{tokenize:n_},exit:r_,name:"blockQuote",tokenize:t_};function t_(e,n,r){const i=this;return s;function s(u){if(u===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return r(u)}function o(u){return Le(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(u))}}function n_(e,n,r){const i=this;return s;function s(u){return Le(u)?ze(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(Py,n,r)(u)}}function r_(e){e.exit("blockQuote")}const zy={name:"characterEscape",tokenize:a_};function a_(e,n,r){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return F2(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(o)}}const Uy={name:"characterReference",tokenize:i_};function i_(e,n,r){const i=this;let s=0,o,u;return d;function d(x){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),m}function m(x){return x===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(x),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),o=31,u=Dt,g(x))}function h(x){return x===88||x===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(x),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=$2,g):(e.enter("characterReferenceValue"),o=7,u=Wd,g(x))}function g(x){if(x===59&&s){const v=e.exit("characterReferenceValue");return u===Dt&&!Rf(i.sliceSerialize(v))?r(x):(e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return u(x)&&s++<o?(e.consume(x),g):r(x)}}const zg={partial:!0,tokenize:s_},Ug={concrete:!0,name:"codeFenced",tokenize:l_};function l_(e,n,r){const i=this,s={partial:!0,tokenize:O};let o=0,u=0,d;return m;function m(D){return h(D)}function h(D){const G=i.events[i.events.length-1];return o=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,d=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(D)}function g(D){return D===d?(u++,e.consume(D),g):u<3?r(D):(e.exit("codeFencedFenceSequence"),Le(D)?ze(e,x,"whitespace")(D):x(D))}function x(D){return D===null||ke(D)?(e.exit("codeFencedFence"),i.interrupt?n(D):e.check(zg,E,N)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||ke(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),x(D)):Le(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ze(e,b,"whitespace")(D)):D===96&&D===d?r(D):(e.consume(D),v)}function b(D){return D===null||ke(D)?x(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===null||ke(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),x(D)):D===96&&D===d?r(D):(e.consume(D),w)}function E(D){return e.attempt(s,N,j)(D)}function j(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),k}function k(D){return o>0&&Le(D)?ze(e,A,"linePrefix",o+1)(D):A(D)}function A(D){return D===null||ke(D)?e.check(zg,E,N)(D):(e.enter("codeFlowValue"),T(D))}function T(D){return D===null||ke(D)?(e.exit("codeFlowValue"),A(D)):(e.consume(D),T)}function N(D){return e.exit("codeFenced"),n(D)}function O(D,G,F){let W=0;return P;function P(ce){return D.enter("lineEnding"),D.consume(ce),D.exit("lineEnding"),q}function q(ce){return D.enter("codeFencedFence"),Le(ce)?ze(D,V,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):V(ce)}function V(ce){return ce===d?(D.enter("codeFencedFenceSequence"),Z(ce)):F(ce)}function Z(ce){return ce===d?(W++,D.consume(ce),Z):W>=u?(D.exit("codeFencedFenceSequence"),Le(ce)?ze(D,ae,"whitespace")(ce):ae(ce)):F(ce)}function ae(ce){return ce===null||ke(ce)?(D.exit("codeFencedFence"),G(ce)):F(ce)}}}function s_(e,n,r){const i=this;return s;function s(u){return u===null?r(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?r(u):n(u)}}const xd={name:"codeIndented",tokenize:u_},o_={partial:!0,tokenize:c_};function u_(e,n,r){const i=this;return s;function s(h){return e.enter("codeIndented"),ze(e,o,"linePrefix",5)(h)}function o(h){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(h):r(h)}function u(h){return h===null?m(h):ke(h)?e.attempt(o_,u,m)(h):(e.enter("codeFlowValue"),d(h))}function d(h){return h===null||ke(h)?(e.exit("codeFlowValue"),u(h)):(e.consume(h),d)}function m(h){return e.exit("codeIndented"),n(h)}}function c_(e,n,r){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?r(u):ke(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):ze(e,o,"linePrefix",5)(u)}function o(u){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(u):ke(u)?s(u):r(u)}}const d_={name:"codeText",previous:h_,resolve:f_,tokenize:m_};function f_(e){let n=e.length-4,r=3,i,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(i=r;++i<n;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(i=r-1,n++;++i<=n;)s===void 0?i!==n&&e[i][1].type!=="lineEnding"&&(s=i):(i===n||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),n-=i-s-2,i=s+2),s=void 0);return e}function h_(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function m_(e,n,r){let i=0,s,o;return u;function u(x){return e.enter("codeText"),e.enter("codeTextSequence"),d(x)}function d(x){return x===96?(e.consume(x),i++,d):(e.exit("codeTextSequence"),m(x))}function m(x){return x===null?r(x):x===32?(e.enter("space"),e.consume(x),e.exit("space"),m):x===96?(o=e.enter("codeTextSequence"),s=0,g(x)):ke(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),m):(e.enter("codeTextData"),h(x))}function h(x){return x===null||x===32||x===96||ke(x)?(e.exit("codeTextData"),m(x)):(e.consume(x),h)}function g(x){return x===96?(e.consume(x),s++,g):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(x)):(o.type="codeTextData",h(x))}}class p_{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(n,i):n>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(n,r,i){const s=r||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&El(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),El(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),El(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);El(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);El(this.left,r.reverse())}}}function El(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function By(e){const n={};let r=-1,i,s,o,u,d,m,h;const g=new p_(e);for(;++r<g.length;){for(;r in n;)r=n[r];if(i=g.get(r),r&&i[1].type==="chunkFlow"&&g.get(r-1)[1].type==="listItemPrefix"&&(m=i[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,g_(g,r)),r=n[r],h=!0);else if(i[1]._container){for(o=r,s=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...g.get(s)[1].start},d=g.slice(s,r),d.unshift(i),g.splice(s,r-s+1,d))}}return rn(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!h}function g_(e,n){const r=e.get(n)[1],i=e.get(n)[2];let s=n-1;const o=[];let u=r._tokenizer;u||(u=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,m=[],h={};let g,x,v=-1,b=r,w=0,E=0;const j=[E];for(;b;){for(;e.get(++s)[1]!==b;);o.push(s),b._tokenizer||(g=i.sliceStream(b),b.next||g.push(null),x&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=b,b=b.next}for(b=r;++v<d.length;)d[v][0]==="exit"&&d[v-1][0]==="enter"&&d[v][1].type===d[v-1][1].type&&d[v][1].start.line!==d[v][1].end.line&&(E=v+1,j.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):j.pop(),v=j.length;v--;){const k=d.slice(j[v],j[v+1]),A=o.pop();m.push([A,A+k.length-1]),e.splice(A,2,k)}for(m.reverse(),v=-1;++v<m.length;)h[w+m[v][0]]=w+m[v][1],w+=m[v][1]-m[v][0]-1;return h}const x_={resolve:v_,tokenize:b_},y_={partial:!0,tokenize:w_};function v_(e){return By(e),e}function b_(e,n){let r;return i;function i(d){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?o(d):ke(d)?e.check(y_,u,o)(d):(e.consume(d),s)}function o(d){return e.exit("chunkContent"),e.exit("content"),n(d)}function u(d){return e.consume(d),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function w_(e,n,r){const i=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),ze(e,o,"linePrefix")}function o(u){if(u===null||ke(u))return r(u);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(u):e.interrupt(i.parser.constructs.flow,r,n)(u)}}function Iy(e,n,r,i,s,o,u,d,m){const h=m||Number.POSITIVE_INFINITY;let g=0;return x;function x(k){return k===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(k),e.exit(o),v):k===null||k===32||k===41||Oo(k)?r(k):(e.enter(i),e.enter(u),e.enter(d),e.enter("chunkString",{contentType:"string"}),E(k))}function v(k){return k===62?(e.enter(o),e.consume(k),e.exit(o),e.exit(s),e.exit(i),n):(e.enter(d),e.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===62?(e.exit("chunkString"),e.exit(d),v(k)):k===null||k===60||ke(k)?r(k):(e.consume(k),k===92?w:b)}function w(k){return k===60||k===62||k===92?(e.consume(k),b):b(k)}function E(k){return!g&&(k===null||k===41||Qe(k))?(e.exit("chunkString"),e.exit(d),e.exit(u),e.exit(i),n(k)):g<h&&k===40?(e.consume(k),g++,E):k===41?(e.consume(k),g--,E):k===null||k===32||k===40||Oo(k)?r(k):(e.consume(k),k===92?j:E)}function j(k){return k===40||k===41||k===92?(e.consume(k),E):E(k)}}function Hy(e,n,r,i,s,o){const u=this;let d=0,m;return h;function h(b){return e.enter(i),e.enter(s),e.consume(b),e.exit(s),e.enter(o),g}function g(b){return d>999||b===null||b===91||b===93&&!m||b===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?r(b):b===93?(e.exit(o),e.enter(s),e.consume(b),e.exit(s),e.exit(i),n):ke(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),x(b))}function x(b){return b===null||b===91||b===93||ke(b)||d++>999?(e.exit("chunkString"),g(b)):(e.consume(b),m||(m=!Le(b)),b===92?v:x)}function v(b){return b===91||b===92||b===93?(e.consume(b),d++,x):x(b)}}function qy(e,n,r,i,s,o){let u;return d;function d(v){return v===34||v===39||v===40?(e.enter(i),e.enter(s),e.consume(v),e.exit(s),u=v===40?41:v,m):r(v)}function m(v){return v===u?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),n):(e.enter(o),h(v))}function h(v){return v===u?(e.exit(o),m(u)):v===null?r(v):ke(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),ze(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||ke(v)?(e.exit("chunkString"),h(v)):(e.consume(v),v===92?x:g)}function x(v){return v===u||v===92?(e.consume(v),g):g(v)}}function Ml(e,n){let r;return i;function i(s){return ke(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,i):Le(s)?ze(e,i,r?"linePrefix":"lineSuffix")(s):n(s)}}const k_={name:"definition",tokenize:__},S_={partial:!0,tokenize:E_};function __(e,n,r){const i=this;let s;return o;function o(b){return e.enter("definition"),u(b)}function u(b){return Hy.call(i,e,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function d(b){return s=Sn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),m):r(b)}function m(b){return Qe(b)?Ml(e,h)(b):h(b)}function h(b){return Iy(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return e.attempt(S_,x,x)(b)}function x(b){return Le(b)?ze(e,v,"whitespace")(b):v(b)}function v(b){return b===null||ke(b)?(e.exit("definition"),i.parser.defined.push(s),n(b)):r(b)}}function E_(e,n,r){return i;function i(d){return Qe(d)?Ml(e,s)(d):r(d)}function s(d){return qy(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return Le(d)?ze(e,u,"whitespace")(d):u(d)}function u(d){return d===null||ke(d)?n(d):r(d)}}const j_={name:"hardBreakEscape",tokenize:T_};function T_(e,n,r){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return ke(o)?(e.exit("hardBreakEscape"),n(o)):r(o)}}const A_={name:"headingAtx",resolve:N_,tokenize:C_};function N_(e,n){let r=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},o={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},rn(e,i,r-i+1,[["enter",s,n],["enter",o,n],["exit",o,n],["exit",s,n]])),e}function C_(e,n,r){let i=0;return s;function s(g){return e.enter("atxHeading"),o(g)}function o(g){return e.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(e.consume(g),u):g===null||Qe(g)?(e.exit("atxHeadingSequence"),d(g)):r(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),m(g)):g===null||ke(g)?(e.exit("atxHeading"),n(g)):Le(g)?ze(e,d,"whitespace")(g):(e.enter("atxHeadingText"),h(g))}function m(g){return g===35?(e.consume(g),m):(e.exit("atxHeadingSequence"),d(g))}function h(g){return g===null||g===35||Qe(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),h)}}const R_=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bg=["pre","script","style","textarea"],O_={concrete:!0,name:"htmlFlow",resolveTo:L_,tokenize:P_},D_={partial:!0,tokenize:U_},M_={partial:!0,tokenize:z_};function L_(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function P_(e,n,r){const i=this;let s,o,u,d,m;return h;function h(R){return g(R)}function g(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),x}function x(R){return R===33?(e.consume(R),v):R===47?(e.consume(R),o=!0,E):R===63?(e.consume(R),s=3,i.interrupt?n:S):Pt(R)?(e.consume(R),u=String.fromCharCode(R),j):r(R)}function v(R){return R===45?(e.consume(R),s=2,b):R===91?(e.consume(R),s=5,d=0,w):Pt(R)?(e.consume(R),s=4,i.interrupt?n:S):r(R)}function b(R){return R===45?(e.consume(R),i.interrupt?n:S):r(R)}function w(R){const se="CDATA[";return R===se.charCodeAt(d++)?(e.consume(R),d===se.length?i.interrupt?n:V:w):r(R)}function E(R){return Pt(R)?(e.consume(R),u=String.fromCharCode(R),j):r(R)}function j(R){if(R===null||R===47||R===62||Qe(R)){const se=R===47,he=u.toLowerCase();return!se&&!o&&Bg.includes(he)?(s=1,i.interrupt?n(R):V(R)):R_.includes(u.toLowerCase())?(s=6,se?(e.consume(R),k):i.interrupt?n(R):V(R)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(R):o?A(R):T(R))}return R===45||Dt(R)?(e.consume(R),u+=String.fromCharCode(R),j):r(R)}function k(R){return R===62?(e.consume(R),i.interrupt?n:V):r(R)}function A(R){return Le(R)?(e.consume(R),A):P(R)}function T(R){return R===47?(e.consume(R),P):R===58||R===95||Pt(R)?(e.consume(R),N):Le(R)?(e.consume(R),T):P(R)}function N(R){return R===45||R===46||R===58||R===95||Dt(R)?(e.consume(R),N):O(R)}function O(R){return R===61?(e.consume(R),D):Le(R)?(e.consume(R),O):T(R)}function D(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),m=R,G):Le(R)?(e.consume(R),D):F(R)}function G(R){return R===m?(e.consume(R),m=null,W):R===null||ke(R)?r(R):(e.consume(R),G)}function F(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||Qe(R)?O(R):(e.consume(R),F)}function W(R){return R===47||R===62||Le(R)?T(R):r(R)}function P(R){return R===62?(e.consume(R),q):r(R)}function q(R){return R===null||ke(R)?V(R):Le(R)?(e.consume(R),q):r(R)}function V(R){return R===45&&s===2?(e.consume(R),B):R===60&&s===1?(e.consume(R),X):R===62&&s===4?(e.consume(R),H):R===63&&s===3?(e.consume(R),S):R===93&&s===5?(e.consume(R),te):ke(R)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(D_,I,Z)(R)):R===null||ke(R)?(e.exit("htmlFlowData"),Z(R)):(e.consume(R),V)}function Z(R){return e.check(M_,ae,I)(R)}function ae(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),ce}function ce(R){return R===null||ke(R)?Z(R):(e.enter("htmlFlowData"),V(R))}function B(R){return R===45?(e.consume(R),S):V(R)}function X(R){return R===47?(e.consume(R),u="",oe):V(R)}function oe(R){if(R===62){const se=u.toLowerCase();return Bg.includes(se)?(e.consume(R),H):V(R)}return Pt(R)&&u.length<8?(e.consume(R),u+=String.fromCharCode(R),oe):V(R)}function te(R){return R===93?(e.consume(R),S):V(R)}function S(R){return R===62?(e.consume(R),H):R===45&&s===2?(e.consume(R),S):V(R)}function H(R){return R===null||ke(R)?(e.exit("htmlFlowData"),I(R)):(e.consume(R),H)}function I(R){return e.exit("htmlFlow"),n(R)}}function z_(e,n,r){const i=this;return s;function s(u){return ke(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):r(u)}function o(u){return i.parser.lazy[i.now().line]?r(u):n(u)}}function U_(e,n,r){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Wl,n,r)}}const B_={name:"htmlText",tokenize:I_};function I_(e,n,r){const i=this;let s,o,u;return d;function d(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),m}function m(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),O):S===63?(e.consume(S),T):Pt(S)?(e.consume(S),F):r(S)}function h(S){return S===45?(e.consume(S),g):S===91?(e.consume(S),o=0,w):Pt(S)?(e.consume(S),A):r(S)}function g(S){return S===45?(e.consume(S),b):r(S)}function x(S){return S===null?r(S):S===45?(e.consume(S),v):ke(S)?(u=x,X(S)):(e.consume(S),x)}function v(S){return S===45?(e.consume(S),b):x(S)}function b(S){return S===62?B(S):S===45?v(S):x(S)}function w(S){const H="CDATA[";return S===H.charCodeAt(o++)?(e.consume(S),o===H.length?E:w):r(S)}function E(S){return S===null?r(S):S===93?(e.consume(S),j):ke(S)?(u=E,X(S)):(e.consume(S),E)}function j(S){return S===93?(e.consume(S),k):E(S)}function k(S){return S===62?B(S):S===93?(e.consume(S),k):E(S)}function A(S){return S===null||S===62?B(S):ke(S)?(u=A,X(S)):(e.consume(S),A)}function T(S){return S===null?r(S):S===63?(e.consume(S),N):ke(S)?(u=T,X(S)):(e.consume(S),T)}function N(S){return S===62?B(S):T(S)}function O(S){return Pt(S)?(e.consume(S),D):r(S)}function D(S){return S===45||Dt(S)?(e.consume(S),D):G(S)}function G(S){return ke(S)?(u=G,X(S)):Le(S)?(e.consume(S),G):B(S)}function F(S){return S===45||Dt(S)?(e.consume(S),F):S===47||S===62||Qe(S)?W(S):r(S)}function W(S){return S===47?(e.consume(S),B):S===58||S===95||Pt(S)?(e.consume(S),P):ke(S)?(u=W,X(S)):Le(S)?(e.consume(S),W):B(S)}function P(S){return S===45||S===46||S===58||S===95||Dt(S)?(e.consume(S),P):q(S)}function q(S){return S===61?(e.consume(S),V):ke(S)?(u=q,X(S)):Le(S)?(e.consume(S),q):W(S)}function V(S){return S===null||S===60||S===61||S===62||S===96?r(S):S===34||S===39?(e.consume(S),s=S,Z):ke(S)?(u=V,X(S)):Le(S)?(e.consume(S),V):(e.consume(S),ae)}function Z(S){return S===s?(e.consume(S),s=void 0,ce):S===null?r(S):ke(S)?(u=Z,X(S)):(e.consume(S),Z)}function ae(S){return S===null||S===34||S===39||S===60||S===61||S===96?r(S):S===47||S===62||Qe(S)?W(S):(e.consume(S),ae)}function ce(S){return S===47||S===62||Qe(S)?W(S):r(S)}function B(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),n):r(S)}function X(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),oe}function oe(S){return Le(S)?ze(e,te,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):te(S)}function te(S){return e.enter("htmlTextData"),u(S)}}const Of={name:"labelEnd",resolveAll:F_,resolveTo:G_,tokenize:Y_},H_={tokenize:V_},q_={tokenize:K_},$_={tokenize:X_};function F_(e){let n=-1;const r=[];for(;++n<e.length;){const i=e[n][1];if(r.push(e[n]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",n+=s}}return e.length!==r.length&&rn(e,0,e.length,r),e}function G_(e,n){let r=e.length,i=0,s,o,u,d;for(;r--;)if(s=e[r][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=r);const m={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},g={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return d=[["enter",m,n],["enter",h,n]],d=pn(d,e.slice(o+1,o+i+3)),d=pn(d,[["enter",g,n]]),d=pn(d,qo(n.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),n)),d=pn(d,[["exit",g,n],e[u-2],e[u-1],["exit",h,n]]),d=pn(d,e.slice(u+1)),d=pn(d,[["exit",m,n]]),rn(e,o,e.length,d),e}function Y_(e,n,r){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return d;function d(v){return o?o._inactive?x(v):(u=i.parser.defined.includes(Sn(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),m):r(v)}function m(v){return v===40?e.attempt(H_,g,u?g:x)(v):v===91?e.attempt(q_,g,u?h:x)(v):u?g(v):x(v)}function h(v){return e.attempt($_,g,x)(v)}function g(v){return n(v)}function x(v){return o._balanced=!0,r(v)}}function V_(e,n,r){return i;function i(x){return e.enter("resource"),e.enter("resourceMarker"),e.consume(x),e.exit("resourceMarker"),s}function s(x){return Qe(x)?Ml(e,o)(x):o(x)}function o(x){return x===41?g(x):Iy(e,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function u(x){return Qe(x)?Ml(e,m)(x):g(x)}function d(x){return r(x)}function m(x){return x===34||x===39||x===40?qy(e,h,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):g(x)}function h(x){return Qe(x)?Ml(e,g)(x):g(x)}function g(x){return x===41?(e.enter("resourceMarker"),e.consume(x),e.exit("resourceMarker"),e.exit("resource"),n):r(x)}}function K_(e,n,r){const i=this;return s;function s(d){return Hy.call(i,e,o,u,"reference","referenceMarker","referenceString")(d)}function o(d){return i.parser.defined.includes(Sn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(d):r(d)}function u(d){return r(d)}}function X_(e,n,r){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):r(o)}}const Q_={name:"labelStartImage",resolveAll:Of.resolveAll,tokenize:J_};function J_(e,n,r){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),o}function o(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),u):r(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(d):n(d)}}const W_={name:"labelStartLink",resolveAll:Of.resolveAll,tokenize:Z_};function Z_(e,n,r){const i=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(u):n(u)}}const yd={name:"lineEnding",tokenize:eE};function eE(e,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),ze(e,n,"linePrefix")}}const No={name:"thematicBreak",tokenize:tE};function tE(e,n,r){let i=0,s;return o;function o(h){return e.enter("thematicBreak"),u(h)}function u(h){return s=h,d(h)}function d(h){return h===s?(e.enter("thematicBreakSequence"),m(h)):i>=3&&(h===null||ke(h))?(e.exit("thematicBreak"),n(h)):r(h)}function m(h){return h===s?(e.consume(h),i++,m):(e.exit("thematicBreakSequence"),Le(h)?ze(e,d,"whitespace")(h):d(h))}}const Gt={continuation:{tokenize:iE},exit:sE,name:"list",tokenize:aE},nE={partial:!0,tokenize:oE},rE={partial:!0,tokenize:lE};function aE(e,n,r){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(b){const w=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Wd(b)){if(i.containerState.type||(i.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(No,r,h)(b):h(b);if(!i.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(b)}return r(b)}function m(b){return Wd(b)&&++u<10?(e.consume(b),m):(!i.interrupt||u<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),h(b)):r(b)}function h(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,e.check(Wl,i.interrupt?r:g,e.attempt(nE,v,x))}function g(b){return i.containerState.initialBlankLine=!0,o++,v(b)}function x(b){return Le(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):r(b)}function v(b){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(b)}}function iE(e,n,r){const i=this;return i.containerState._closeFlow=void 0,e.check(Wl,s,o);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ze(e,n,"listItemIndent",i.containerState.size+1)(d)}function o(d){return i.containerState.furtherBlankLines||!Le(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(rE,n,u)(d))}function u(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,ze(e,e.attempt(Gt,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function lE(e,n,r){const i=this;return ze(e,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?n(o):r(o)}}function sE(e){e.exit(this.containerState.type)}function oE(e,n,r){const i=this;return ze(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!Le(o)&&u&&u[1].type==="listItemPrefixWhitespace"?n(o):r(o)}}const Ig={name:"setextUnderline",resolveTo:uE,tokenize:cE};function uE(e,n){let r=e.length,i,s,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",u,n]),e.splice(o+1,0,["exit",e[i][1],n]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,n]),e}function cE(e,n,r){const i=this;let s;return o;function o(h){let g=i.events.length,x;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){x=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||x)?(e.enter("setextHeadingLine"),s=h,u(h)):r(h)}function u(h){return e.enter("setextHeadingLineSequence"),d(h)}function d(h){return h===s?(e.consume(h),d):(e.exit("setextHeadingLineSequence"),Le(h)?ze(e,m,"lineSuffix")(h):m(h))}function m(h){return h===null||ke(h)?(e.exit("setextHeadingLine"),n(h)):r(h)}}const dE={tokenize:fE};function fE(e){const n=this,r=e.attempt(Wl,i,e.attempt(this.parser.constructs.flowInitial,s,ze(e,e.attempt(this.parser.constructs.flow,s,e.attempt(x_,s)),"linePrefix")));return r;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const hE={resolveAll:Fy()},mE=$y("string"),pE=$y("text");function $y(e){return{resolveAll:Fy(e==="text"?gE:void 0),tokenize:n};function n(r){const i=this,s=this.parser.constructs[e],o=r.attempt(s,u,d);return u;function u(g){return h(g)?o(g):d(g)}function d(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),m}function m(g){return h(g)?(r.exit("data"),o(g)):(r.consume(g),m)}function h(g){if(g===null)return!0;const x=s[g];let v=-1;if(x)for(;++v<x.length;){const b=x[v];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function Fy(e){return n;function n(r,i){let s=-1,o;for(;++s<=r.length;)o===void 0?r[s]&&r[s][1].type==="data"&&(o=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==o+2&&(r[o][1].end=r[s-1][1].end,r.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(r,i):r}}function gE(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],s=n.sliceStream(i);let o=s.length,u=-1,d=0,m;for(;o--;){const h=s[o];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(h===-2)m=!0,d++;else if(h!==-1){o++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(d=0),d){const h={type:r===e.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(e.splice(r,0,["enter",h,n],["exit",h,n]),r+=2)}r++}return e}const xE={42:Gt,43:Gt,45:Gt,48:Gt,49:Gt,50:Gt,51:Gt,52:Gt,53:Gt,54:Gt,55:Gt,56:Gt,57:Gt,62:Py},yE={91:k_},vE={[-2]:xd,[-1]:xd,32:xd},bE={35:A_,42:No,45:[Ig,No],60:O_,61:Ig,95:No,96:Ug,126:Ug},wE={38:Uy,92:zy},kE={[-5]:yd,[-4]:yd,[-3]:yd,33:Q_,38:Uy,42:Zd,60:[W2,B_],91:W_,92:[j_,zy],93:Of,95:Zd,96:d_},SE={null:[Zd,hE]},_E={null:[42,95]},EE={null:[]},jE=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_E,contentInitial:yE,disable:EE,document:xE,flow:bE,flowInitial:vE,insideSpan:SE,string:wE,text:kE},Symbol.toStringTag,{value:"Module"}));function TE(e,n,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},o=[];let u=[],d=[];const m={attempt:G(O),check:G(D),consume:A,enter:T,exit:N,interrupt:G(D,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:x};let g=n.tokenize.call(h,m);return n.resolveAll&&o.push(n),h;function x(q){return u=pn(u,q),j(),u[u.length-1]!==null?[]:(F(n,0),h.events=qo(o,h.events,h),h.events)}function v(q,V){return NE(b(q),V)}function b(q){return AE(u,q)}function w(){const{_bufferIndex:q,_index:V,line:Z,column:ae,offset:ce}=i;return{_bufferIndex:q,_index:V,line:Z,column:ae,offset:ce}}function E(q){s[q.line]=q.column,P()}function j(){let q;for(;i._index<u.length;){const V=u[i._index];if(typeof V=="string")for(q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===q&&i._bufferIndex<V.length;)k(V.charCodeAt(i._bufferIndex));else k(V)}}function k(q){g=g(q)}function A(q){ke(q)?(i.line++,i.column=1,i.offset+=q===-3?2:1,P()):q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=q}function T(q,V){const Z=V||{};return Z.type=q,Z.start=w(),h.events.push(["enter",Z,h]),d.push(Z),Z}function N(q){const V=d.pop();return V.end=w(),h.events.push(["exit",V,h]),V}function O(q,V){F(q,V.from)}function D(q,V){V.restore()}function G(q,V){return Z;function Z(ae,ce,B){let X,oe,te,S;return Array.isArray(ae)?I(ae):"tokenize"in ae?I([ae]):H(ae);function H(z){return ee;function ee(ue){const me=ue!==null&&z[ue],pe=ue!==null&&z.null,ge=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(pe)?pe:pe?[pe]:[]];return I(ge)(ue)}}function I(z){return X=z,oe=0,z.length===0?B:R(z[oe])}function R(z){return ee;function ee(ue){return S=W(),te=z,z.partial||(h.currentConstruct=z),z.name&&h.parser.constructs.disable.null.includes(z.name)?he():z.tokenize.call(V?Object.assign(Object.create(h),V):h,m,se,he)(ue)}}function se(z){return q(te,S),ce}function he(z){return S.restore(),++oe<X.length?R(X[oe]):B}}}function F(q,V){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&rn(h.events,V,h.events.length-V,q.resolve(h.events.slice(V),h)),q.resolveTo&&(h.events=q.resolveTo(h.events,h))}function W(){const q=w(),V=h.previous,Z=h.currentConstruct,ae=h.events.length,ce=Array.from(d);return{from:ae,restore:B};function B(){i=q,h.previous=V,h.currentConstruct=Z,h.events.length=ae,d=ce,P()}}function P(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function AE(e,n){const r=n.start._index,i=n.start._bufferIndex,s=n.end._index,o=n.end._bufferIndex;let u;if(r===s)u=[e[r].slice(i,o)];else{if(u=e.slice(r,s),i>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(i):u.shift()}o>0&&u.push(e[s].slice(0,o))}return u}function NE(e,n){let r=-1;const i=[];let s;for(;++r<e.length;){const o=e[r];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=n?" ":"	";break}case-1:{if(!n&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function CE(e){const i={constructs:My([jE,...(e||{}).extensions||[]]),content:s(G2),defined:[],document:s(V2),flow:s(dE),lazy:{},string:s(mE),text:s(pE)};return i;function s(o){return u;function u(d){return TE(i,o,d)}}}function RE(e){for(;!By(e););return e}const Hg=/[\0\t\n\r]/g;function OE(){let e=1,n="",r=!0,i;return s;function s(o,u,d){const m=[];let h,g,x,v,b;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),x=0,n="",r&&(o.charCodeAt(0)===65279&&x++,r=void 0);x<o.length;){if(Hg.lastIndex=x,h=Hg.exec(o),v=h&&h.index!==void 0?h.index:o.length,b=o.charCodeAt(v),!h){n=o.slice(x);break}if(b===10&&x===v&&i)m.push(-3),i=void 0;else switch(i&&(m.push(-5),i=void 0),x<v&&(m.push(o.slice(x,v)),e+=v-x),b){case 0:{m.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,m.push(-2);e++<g;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:i=!0,e=1}x=v+1}return d&&(i&&m.push(-5),n&&m.push(n),m.push(null)),m}}const DE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ME(e){return e.replace(DE,LE)}function LE(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),o=s===120||s===88;return Ly(r.slice(o?2:1),o?16:10)}return Rf(r)||e}const Gy={}.hasOwnProperty;function PE(e,n,r){return typeof n!="string"&&(r=n,n=void 0),zE(r)(RE(CE(r).document().write(OE()(e,n,!0))))}function zE(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ge),autolinkProtocol:W,autolinkEmail:W,atxHeading:o(jt),blockQuote:o(pe),characterEscape:W,characterReference:W,codeFenced:o(ge),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(ge,u),codeText:o(ye,u),codeTextData:W,data:W,codeFlowValue:W,definition:o(He),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(st),hardBreakEscape:o(Ln),hardBreakTrailing:o(Ln),htmlFlow:o(ve,u),htmlFlowData:W,htmlText:o(ve,u),htmlTextData:W,image:o(et),label:u,link:o(Ge),listItem:o(zt),listItemValue:v,listOrdered:o(pt,x),listUnordered:o(pt),paragraph:o(ar),reference:R,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(jt),strong:o(gn),thematicBreak:o(Tt)},exit:{atxHeading:m(),atxHeadingSequence:O,autolink:m(),autolinkEmail:me,autolinkProtocol:ue,blockQuote:m(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:he,characterReferenceMarkerNumeric:he,characterReferenceValue:z,characterReference:ee,codeFenced:m(j),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:P,codeIndented:m(k),codeText:m(ce),codeTextData:P,data:P,definition:m(),definitionDestinationString:N,definitionLabelString:A,definitionTitleString:T,emphasis:m(),hardBreakEscape:m(V),hardBreakTrailing:m(V),htmlFlow:m(Z),htmlFlowData:P,htmlText:m(ae),htmlTextData:P,image:m(X),label:te,labelText:oe,lineEnding:q,link:m(B),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:se,resourceDestinationString:S,resourceTitleString:H,resource:I,setextHeading:m(F),setextHeadingLineSequence:G,setextHeadingText:D,strong:m(),thematicBreak:m()}};Yy(n,(e||{}).mdastExtensions||[]);const r={};return i;function i(ne){let de={type:"root",children:[]};const we={stack:[de],tokenStack:[],config:n,enter:d,exit:h,buffer:u,resume:g,data:r},Ee=[];let qe=-1;for(;++qe<ne.length;)if(ne[qe][1].type==="listOrdered"||ne[qe][1].type==="listUnordered")if(ne[qe][0]==="enter")Ee.push(qe);else{const Vt=Ee.pop();qe=s(ne,Vt,qe)}for(qe=-1;++qe<ne.length;){const Vt=n[ne[qe][0]];Gy.call(Vt,ne[qe][1].type)&&Vt[ne[qe][1].type].call(Object.assign({sliceSerialize:ne[qe][2].sliceSerialize},we),ne[qe][1])}if(we.tokenStack.length>0){const Vt=we.tokenStack[we.tokenStack.length-1];(Vt[1]||qg).call(we,void 0,Vt[0])}for(de.position={start:Ar(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Ar(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<n.transforms.length;)de=n.transforms[qe](de)||de;return de}function s(ne,de,we){let Ee=de-1,qe=-1,Vt=!1,Pn,Ut,jn,Kt;for(;++Ee<=we;){const gt=ne[Ee];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?qe++:qe--,Kt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(Pn&&!Kt&&!qe&&!jn&&(jn=Ee),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!qe&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||qe===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(Pn){let an=Ee;for(Ut=void 0;an--;){const xn=ne[an];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Ut&&(ne[Ut][1].type="lineEndingBlank",Vt=!0),xn[1].type="lineEnding",Ut=an}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}jn&&(!Ut||jn<Ut)&&(Pn._spread=!0),Pn.end=Object.assign({},Ut?ne[Ut][1].start:gt[1].end),ne.splice(Ut||Ee,0,["exit",Pn,gt[2]]),Ee++,we++}if(gt[1].type==="listItemPrefix"){const an={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};Pn=an,ne.splice(Ee,0,["enter",an,gt[2]]),Ee++,we++,jn=void 0,Kt=!0}}}return ne[de][1]._spread=Vt,we}function o(ne,de){return we;function we(Ee){d.call(this,ne(Ee),Ee),de&&de.call(this,Ee)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(ne,de,we){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([de,we||void 0]),ne.position={start:Ar(de.start),end:void 0}}function m(ne){return de;function de(we){ne&&ne.call(this,we),h.call(this,we)}}function h(ne,de){const we=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==ne.type&&(de?de.call(this,ne,Ee[0]):(Ee[1]||qg).call(this,ne,Ee[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Dl({start:ne.start,end:ne.end})+"): its not open");we.position.end=Ar(ne.end)}function g(){return Cf(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function v(ne){if(this.data.expectingFirstListItemValue){const de=this.stack[this.stack.length-2];de.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.lang=ne}function w(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.meta=ne}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne.replace(/(\r?\n|\r)$/g,"")}function A(ne){const de=this.resume(),we=this.stack[this.stack.length-1];we.label=de,we.identifier=Sn(this.sliceSerialize(ne)).toLowerCase()}function T(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function N(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function O(ne){const de=this.stack[this.stack.length-1];if(!de.depth){const we=this.sliceSerialize(ne).length;de.depth=we}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function G(ne){const de=this.stack[this.stack.length-1];de.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function W(ne){const we=this.stack[this.stack.length-1].children;let Ee=we[we.length-1];(!Ee||Ee.type!=="text")&&(Ee=Ur(),Ee.position={start:Ar(ne.start),end:void 0},we.push(Ee)),this.stack.push(Ee)}function P(ne){const de=this.stack.pop();de.value+=this.sliceSerialize(ne),de.position.end=Ar(ne.end)}function q(ne){const de=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=de.children[de.children.length-1];we.position.end=Ar(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(de.type)&&(W.call(this,ne),P.call(this,ne))}function V(){this.data.atHardBreak=!0}function Z(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function ae(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function ce(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.value=ne}function B(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function X(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const de=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=de,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function oe(ne){const de=this.sliceSerialize(ne),we=this.stack[this.stack.length-2];we.label=ME(de),we.identifier=Sn(de).toLowerCase()}function te(){const ne=this.stack[this.stack.length-1],de=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Ee=ne.children;we.children=Ee}else we.alt=de}function S(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.url=ne}function H(){const ne=this.resume(),de=this.stack[this.stack.length-1];de.title=ne}function I(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function se(ne){const de=this.resume(),we=this.stack[this.stack.length-1];we.label=de,we.identifier=Sn(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function he(ne){this.data.characterReferenceType=ne.type}function z(ne){const de=this.sliceSerialize(ne),we=this.data.characterReferenceType;let Ee;we?(Ee=Ly(de,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Rf(de);const qe=this.stack[this.stack.length-1];qe.value+=Ee}function ee(ne){const de=this.stack.pop();de.position.end=Ar(ne.end)}function ue(ne){P.call(this,ne);const de=this.stack[this.stack.length-1];de.url=this.sliceSerialize(ne)}function me(ne){P.call(this,ne);const de=this.stack[this.stack.length-1];de.url="mailto:"+this.sliceSerialize(ne)}function pe(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function ye(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function st(){return{type:"emphasis",children:[]}}function jt(){return{type:"heading",depth:0,children:[]}}function Ln(){return{type:"break"}}function ve(){return{type:"html",value:""}}function et(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function pt(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function zt(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function ar(){return{type:"paragraph",children:[]}}function gn(){return{type:"strong",children:[]}}function Ur(){return{type:"text",value:""}}function Tt(){return{type:"thematicBreak"}}}function Ar(e){return{line:e.line,column:e.column,offset:e.offset}}function Yy(e,n){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?Yy(e,i):UE(e,i)}}function UE(e,n){let r;for(r in n)if(Gy.call(n,r))switch(r){case"canContainEols":{const i=n[r];i&&e[r].push(...i);break}case"transforms":{const i=n[r];i&&e[r].push(...i);break}case"enter":case"exit":{const i=n[r];i&&Object.assign(e[r],i);break}}}function qg(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Dl({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Dl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Dl({start:n.start,end:n.end})+") is still open")}function BE(e){const n=this;n.parser=r;function r(i){return PE(i,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function IE(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function HE(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function qE(e,n){const r=n.value?n.value+`
`:"",i={};n.lang&&(i.className=["language-"+n.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function $E(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function FE(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function GE(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(n.identifier).toUpperCase(),s=ki(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,d+=1,e.footnoteCounts.set(i,d);const m={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(n,m);const h={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(n,h),e.applyData(n,h)}function YE(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function VE(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function Vy(e,n){const r=n.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+i}];const s=e.all(n),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function KE(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Vy(e,n);const s={src:ki(i.url||""),alt:n.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(n,o),e.applyData(n,o)}function XE(e,n){const r={src:ki(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function QE(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,i),e.applyData(n,i)}function JE(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Vy(e,n);const s={href:ki(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function WE(e,n){const r={href:ki(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function ZE(e,n,r){const i=e.all(n),s=r?ej(r):Ky(n),o={},u=[];if(typeof n.checked=="boolean"){const g=i[0];let x;g&&g.type==="element"&&g.tagName==="p"?x=g:(x={type:"element",tagName:"p",properties:{},children:[]},i.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const g=i[d];(s||d!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const m=i[i.length-1];m&&(s||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:u};return e.patch(n,h),e.applyData(n,h)}function ej(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let i=-1;for(;!n&&++i<r.length;)n=Ky(r[i])}return n}function Ky(e){const n=e.spread;return n??e.children.length>1}function tj(e,n){const r={},i=e.all(n);let s=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function nj(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function rj(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function aj(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function ij(e,n){const r=e.all(n),i=r.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(n.children[0],u),s.push(u)}if(r.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},d=jf(n.children[1]),m=Ty(n.children[n.children.length-1]);d&&m&&(u.position={start:d,end:m}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(n,o),e.applyData(n,o)}function lj(e,n,r){const i=r?r.children:void 0,o=(i?i.indexOf(n):1)===0?"th":"td",u=r&&r.type==="table"?r.align:void 0,d=u?u.length:n.children.length;let m=-1;const h=[];for(;++m<d;){const x=n.children[m],v={},b=u?u[m]:void 0;b&&(v.align=b);let w={type:"element",tagName:o,properties:v,children:[]};x&&(w.children=e.all(x),e.patch(x,w),w=e.applyData(x,w)),h.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(h,!0)};return e.patch(n,g),e.applyData(n,g)}function sj(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const $g=9,Fg=32;function oj(e){const n=String(e),r=/\r?\n|\r/g;let i=r.exec(n),s=0;const o=[];for(;i;)o.push(Gg(n.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(n);return o.push(Gg(n.slice(s),s>0,!1)),o.join("")}function Gg(e,n,r){let i=0,s=e.length;if(n){let o=e.codePointAt(i);for(;o===$g||o===Fg;)i++,o=e.codePointAt(i)}if(r){let o=e.codePointAt(s-1);for(;o===$g||o===Fg;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function uj(e,n){const r={type:"text",value:oj(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function cj(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const dj={blockquote:IE,break:HE,code:qE,delete:$E,emphasis:FE,footnoteReference:GE,heading:YE,html:VE,imageReference:KE,image:XE,inlineCode:QE,linkReference:JE,link:WE,listItem:ZE,list:tj,paragraph:nj,root:rj,strong:aj,table:ij,tableCell:sj,tableRow:lj,text:uj,thematicBreak:cj,toml:mo,yaml:mo,definition:mo,footnoteDefinition:mo};function mo(){}const Xy=-1,$o=0,Ll=1,Do=2,Df=3,Mf=4,Lf=5,Pf=6,Qy=7,Jy=8,Yg=typeof self=="object"?self:globalThis,fj=(e,n)=>{const r=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,u]=n[s];switch(o){case $o:case Xy:return r(u,s);case Ll:{const d=r([],s);for(const m of u)d.push(i(m));return d}case Do:{const d=r({},s);for(const[m,h]of u)d[i(m)]=i(h);return d}case Df:return r(new Date(u),s);case Mf:{const{source:d,flags:m}=u;return r(new RegExp(d,m),s)}case Lf:{const d=r(new Map,s);for(const[m,h]of u)d.set(i(m),i(h));return d}case Pf:{const d=r(new Set,s);for(const m of u)d.add(i(m));return d}case Qy:{const{name:d,message:m}=u;return r(new Yg[d](m),s)}case Jy:return r(BigInt(u),s);case"BigInt":return r(Object(BigInt(u)),s);case"ArrayBuffer":return r(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return r(new DataView(d),u)}}return r(new Yg[o](u),s)};return i},Vg=e=>fj(new Map,e)(0),Za="",{toString:hj}={},{keys:mj}=Object,jl=e=>{const n=typeof e;if(n!=="object"||!e)return[$o,n];const r=hj.call(e).slice(8,-1);switch(r){case"Array":return[Ll,Za];case"Object":return[Do,Za];case"Date":return[Df,Za];case"RegExp":return[Mf,Za];case"Map":return[Lf,Za];case"Set":return[Pf,Za];case"DataView":return[Ll,r]}return r.includes("Array")?[Ll,r]:r.includes("Error")?[Qy,r]:[Do,r]},po=([e,n])=>e===$o&&(n==="function"||n==="symbol"),pj=(e,n,r,i)=>{const s=(u,d)=>{const m=i.push(u)-1;return r.set(d,m),m},o=u=>{if(r.has(u))return r.get(u);let[d,m]=jl(u);switch(d){case $o:{let g=u;switch(m){case"bigint":d=Jy,g=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return s([Xy],u)}return s([d,g],u)}case Ll:{if(m){let v=u;return m==="DataView"?v=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(u)),s([m,[...v]],u)}const g=[],x=s([d,g],u);for(const v of u)g.push(o(v));return x}case Do:{if(m)switch(m){case"BigInt":return s([m,u.toString()],u);case"Boolean":case"Number":case"String":return s([m,u.valueOf()],u)}if(n&&"toJSON"in u)return o(u.toJSON());const g=[],x=s([d,g],u);for(const v of mj(u))(e||!po(jl(u[v])))&&g.push([o(v),o(u[v])]);return x}case Df:return s([d,u.toISOString()],u);case Mf:{const{source:g,flags:x}=u;return s([d,{source:g,flags:x}],u)}case Lf:{const g=[],x=s([d,g],u);for(const[v,b]of u)(e||!(po(jl(v))||po(jl(b))))&&g.push([o(v),o(b)]);return x}case Pf:{const g=[],x=s([d,g],u);for(const v of u)(e||!po(jl(v)))&&g.push(o(v));return x}}const{message:h}=u;return s([d,{name:m,message:h}],u)};return o},Kg=(e,{json:n,lossy:r}={})=>{const i=[];return pj(!(n||r),!!n,new Map,i)(e),i},Mo=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Vg(Kg(e,n)):structuredClone(e):(e,n)=>Vg(Kg(e,n));function gj(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function xj(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function yj(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||gj,i=e.options.footnoteBackLabel||xj,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<e.footnoteOrder.length;){const h=e.footnoteById.get(e.footnoteOrder[m]);if(!h)continue;const g=e.all(h),x=String(h.identifier).toUpperCase(),v=ki(x.toLowerCase());let b=0;const w=[],E=e.footnoteCounts.get(x);for(;E!==void 0&&++b<=E;){w.length>0&&w.push({type:"text",value:" "});let A=typeof r=="string"?r:r(m,b);typeof A=="string"&&(A={type:"text",value:A}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(m,b),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const j=g[g.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const A=j.children[j.children.length-1];A&&A.type==="text"?A.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...w)}else g.push(...w);const k={type:"element",tagName:"li",properties:{id:n+"fn-"+v},children:e.wrap(g,!0)};e.patch(h,k),d.push(k)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Mo(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const Fo=function(e){if(e==null)return kj;if(typeof e=="function")return Go(e);if(typeof e=="object")return Array.isArray(e)?vj(e):bj(e);if(typeof e=="string")return wj(e);throw new Error("Expected function, string, or object as test")};function vj(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Fo(e[r]);return Go(i);function i(...s){let o=-1;for(;++o<n.length;)if(n[o].apply(this,s))return!0;return!1}}function bj(e){const n=e;return Go(r);function r(i){const s=i;let o;for(o in e)if(s[o]!==n[o])return!1;return!0}}function wj(e){return Go(n);function n(r){return r&&r.type===e}}function Go(e){return n;function n(r,i,s){return!!(Sj(r)&&e.call(this,r,typeof i=="number"?i:void 0,s||void 0))}}function kj(){return!0}function Sj(e){return e!==null&&typeof e=="object"&&"type"in e}const Wy=[],_j=!0,ef=!1,Ej="skip";function Zy(e,n,r,i){let s;typeof n=="function"&&typeof r!="function"?(i=r,r=n):s=n;const o=Fo(s),u=i?-1:1;d(e,void 0,[])();function d(m,h,g){const x=m&&typeof m=="object"?m:{};if(typeof x.type=="string"){const b=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=Wy,w,E,j;if((!n||o(m,h,g[g.length-1]||void 0))&&(b=jj(r(m,g)),b[0]===ef))return b;if("children"in m&&m.children){const k=m;if(k.children&&b[0]!==Ej)for(E=(i?k.children.length:-1)+u,j=g.concat(k);E>-1&&E<k.children.length;){const A=k.children[E];if(w=d(A,E,j)(),w[0]===ef)return w;E=typeof w[1]=="number"?w[1]:E+u}}return b}}}function jj(e){return Array.isArray(e)?e:typeof e=="number"?[_j,e]:e==null?Wy:[e]}function zf(e,n,r,i){let s,o,u;typeof n=="function"&&typeof r!="function"?(o=void 0,u=n,s=r):(o=n,u=r,s=i),Zy(e,o,d,s);function d(m,h){const g=h[h.length-1],x=g?g.children.indexOf(m):void 0;return u(m,x,g)}}const tf={}.hasOwnProperty,Tj={};function Aj(e,n){const r=n||Tj,i=new Map,s=new Map,o=new Map,u={...dj,...r.handlers},d={all:h,applyData:Cj,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:r,patch:Nj,wrap:Oj};return zf(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const x=g.type==="definition"?i:s,v=String(g.identifier).toUpperCase();x.has(v)||x.set(v,g)}}),d;function m(g,x){const v=g.type,b=d.handlers[v];if(tf.call(d.handlers,v)&&b)return b(d,g,x);if(d.options.passThrough&&d.options.passThrough.includes(v)){if("children"in g){const{children:E,...j}=g,k=Mo(j);return k.children=d.all(g),k}return Mo(g)}return(d.options.unknownHandler||Rj)(d,g,x)}function h(g){const x=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const w=d.one(v[b],g);if(w){if(b&&v[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Xg(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=Xg(E.value))}Array.isArray(w)?x.push(...w):x.push(w)}}}return x}}function Nj(e,n){e.position&&(n.position=x2(e))}function Cj(e,n){let r=n;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const u="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:u}}r.type==="element"&&o&&Object.assign(r.properties,Mo(o)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function Rj(e,n){const r=n.data||{},i="value"in n&&!(tf.call(r,"hProperties")||tf.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Oj(e,n){const r=[];let i=-1;for(n&&r.push({type:"text",value:`
`});++i<e.length;)i&&r.push({type:"text",value:`
`}),r.push(e[i]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function Xg(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function Qg(e,n){const r=Aj(e,n),i=r.one(e,void 0),s=yj(r),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function Dj(e,n){return e&&"run"in e?async function(r,i){const s=Qg(r,{file:i,...n});await e.run(s,i)}:function(r,i){return Qg(r,{file:i,...e||n})}}function Jg(e){if(e)throw e}var vd,Wg;function Mj(){if(Wg)return vd;Wg=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):n.call(h)==="[object Array]"},o=function(h){if(!h||n.call(h)!=="[object Object]")return!1;var g=e.call(h,"constructor"),x=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!g&&!x)return!1;var v;for(v in h);return typeof v>"u"||e.call(h,v)},u=function(h,g){r&&g.name==="__proto__"?r(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},d=function(h,g){if(g==="__proto__")if(e.call(h,g)){if(i)return i(h,g).value}else return;return h[g]};return vd=function m(){var h,g,x,v,b,w,E=arguments[0],j=1,k=arguments.length,A=!1;for(typeof E=="boolean"&&(A=E,E=arguments[1]||{},j=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});j<k;++j)if(h=arguments[j],h!=null)for(g in h)x=d(E,g),v=d(h,g),E!==v&&(A&&v&&(o(v)||(b=s(v)))?(b?(b=!1,w=x&&s(x)?x:[]):w=x&&o(x)?x:{},u(E,{name:g,newValue:m(A,w,v)})):typeof v<"u"&&u(E,{name:g,newValue:v}));return E},vd}var Lj=Mj();const bd=Vl(Lj);function nf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Pj(){const e=[],n={run:r,use:i};return n;function r(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(m,...h){const g=e[++o];let x=-1;if(m){u(m);return}for(;++x<s.length;)(h[x]===null||h[x]===void 0)&&(h[x]=s[x]);s=h,g?zj(g,d)(...h):u(null,...h)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),n}}function zj(e,n){let r;return i;function i(...u){const d=e.length>u.length;let m;d&&u.push(s);try{m=e.apply(this,u)}catch(h){const g=h;if(d&&r)throw g;return s(g)}d||(m&&m.then&&typeof m.then=="function"?m.then(o,s):m instanceof Error?s(m):o(m))}function s(u,...d){r||(r=!0,n(u,...d))}function o(u){s(null,u)}}const On={basename:Uj,dirname:Bj,extname:Ij,join:Hj,sep:"/"};function Uj(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Zl(e);let r=0,i=-1,s=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(r,i)}if(n===e)return"";let u=-1,d=n.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else u<0&&(o=!0,u=s+1),d>-1&&(e.codePointAt(s)===n.codePointAt(d--)?d<0&&(i=s):(d=-1,i=u));return r===i?i=u:i<0&&(i=e.length),e.slice(r,i)}function Bj(e){if(Zl(e),e.length===0)return".";let n=-1,r=e.length,i;for(;--r;)if(e.codePointAt(r)===47){if(i){n=r;break}}else i||(i=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Ij(e){Zl(e);let n=e.length,r=-1,i=0,s=-1,o=0,u;for(;n--;){const d=e.codePointAt(n);if(d===47){if(u){i=n+1;break}continue}r<0&&(u=!0,r=n+1),d===46?s<0?s=n:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||r<0||o===0||o===1&&s===r-1&&s===i+1?"":e.slice(s,r)}function Hj(...e){let n=-1,r;for(;++n<e.length;)Zl(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":qj(r)}function qj(e){Zl(e);const n=e.codePointAt(0)===47;let r=$j(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function $j(e,n){let r="",i=0,s=-1,o=0,u=-1,d,m;for(;++u<=e.length;){if(u<e.length)d=e.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(m=r.lastIndexOf("/"),m!==r.length-1){m<0?(r="",i=0):(r=r.slice(0,m),i=r.length-1-r.lastIndexOf("/")),s=u,o=0;continue}}else if(r.length>0){r="",i=0,s=u,o=0;continue}}n&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(s+1,u):r=e.slice(s+1,u),i=u-s-1;s=u,o=0}else d===46&&o>-1?o++:o=-1}return r}function Zl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Fj={cwd:Gj};function Gj(){return"/"}function rf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Yj(e){if(typeof e=="string")e=new URL(e);else if(!rf(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Vj(e)}function Vj(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(n)}const wd=["history","path","basename","stem","extname","dirname"];class ev{constructor(n){let r;n?rf(n)?r={path:n}:typeof n=="string"||Kj(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":Fj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<wd.length;){const o=wd[i];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let s;for(s in r)wd.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?On.basename(this.path):void 0}set basename(n){Sd(n,"basename"),kd(n,"basename"),this.path=On.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?On.dirname(this.path):void 0}set dirname(n){Zg(this.basename,"dirname"),this.path=On.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?On.extname(this.path):void 0}set extname(n){if(kd(n,"extname"),Zg(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=On.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){rf(n)&&(n=Yj(n)),Sd(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?On.basename(this.path,this.extname):void 0}set stem(n){Sd(n,"stem"),kd(n,"stem"),this.path=On.join(this.dirname||"",n+(this.extname||""))}fail(n,r,i){const s=this.message(n,r,i);throw s.fatal=!0,s}info(n,r,i){const s=this.message(n,r,i);return s.fatal=void 0,s}message(n,r,i){const s=new Mt(n,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function kd(e,n){if(e&&e.includes(On.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+On.sep+"`")}function Sd(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Zg(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Kj(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Xj=function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},Qj={}.hasOwnProperty;class Uf extends Xj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Pj()}copy(){const n=new Uf;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];n.use(...i)}return n.data(bd(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(jd("data",this.frozen),this.namespace[n]=r,this):Qj.call(this.namespace,n)&&this.namespace[n]||void 0:n?(jd("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=r.call(n,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=go(n),i=this.parser||this.Parser;return _d("parse",i),i(String(r),r)}process(n,r){const i=this;return this.freeze(),_d("process",this.parser||this.Parser),Ed("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(o,u){const d=go(n),m=i.parse(d);i.run(m,d,function(g,x,v){if(g||!x||!v)return h(g);const b=x,w=i.stringify(b,v);Zj(w)?v.value=w:v.result=w,h(g,v)});function h(g,x){g||!x?u(g):o?o(x):r(void 0,x)}}}processSync(n){let r=!1,i;return this.freeze(),_d("processSync",this.parser||this.Parser),Ed("processSync",this.compiler||this.Compiler),this.process(n,s),tx("processSync","process",r),i;function s(o,u){r=!0,Jg(o),i=u}}run(n,r,i){ex(n),this.freeze();const s=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?o(void 0,i):new Promise(o);function o(u,d){const m=go(r);s.run(n,m,h);function h(g,x,v){const b=x||n;g?d(g):u?u(b):i(void 0,b,v)}}}runSync(n,r){let i=!1,s;return this.run(n,r,o),tx("runSync","run",i),s;function o(u,d){Jg(u),s=d,i=!0}}stringify(n,r){this.freeze();const i=go(r),s=this.compiler||this.Compiler;return Ed("stringify",s),ex(n),s(n,i)}use(n,...r){const i=this.attachers,s=this.namespace;if(jd("use",this.frozen),n!=null)if(typeof n=="function")m(n,r);else if(typeof n=="object")Array.isArray(n)?d(n):u(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(h){if(typeof h=="function")m(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[g,...x]=h;m(g,x)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(h.plugins),h.settings&&(s.settings=bd(!0,s.settings,h.settings))}function d(h){let g=-1;if(h!=null)if(Array.isArray(h))for(;++g<h.length;){const x=h[g];o(x)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function m(h,g){let x=-1,v=-1;for(;++x<i.length;)if(i[x][0]===h){v=x;break}if(v===-1)i.push([h,...g]);else if(g.length>0){let[b,...w]=g;const E=i[v][1];nf(E)&&nf(b)&&(b=bd(!0,E,b)),i[v]=[h,b,...w]}}}}const Jj=new Uf().freeze();function _d(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ed(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function jd(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ex(e){if(!nf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function tx(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function go(e){return Wj(e)?e:new ev(e)}function Wj(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Zj(e){return typeof e=="string"||eT(e)}function eT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",nx=[],rx={allowDangerousHtml:!0},nT=/^(https?|ircs?|mailto|xmpp)$/i,rT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Bf(e){const n=aT(e),r=iT(e);return lT(n.runSync(n.parse(r),r),e)}function aT(e){const n=e.rehypePlugins||nx,r=e.remarkPlugins||nx,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rx}:rx;return Jj().use(BE).use(r).use(Dj,i).use(n)}function iT(e){const n=e.children||"",r=new ev;return typeof n=="string"&&(r.value=n),r}function lT(e,n){const r=n.allowedElements,i=n.allowElement,s=n.components,o=n.disallowedElements,u=n.skipHtml,d=n.unwrapDisallowed,m=n.urlTransform||sT;for(const g of rT)Object.hasOwn(n,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+tT+g.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),zf(e,h),k2(e,{Fragment:f.Fragment,components:s,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function h(g,x,v){if(g.type==="raw"&&v&&typeof x=="number")return u?v.children.splice(x,1):v.children[x]={type:"text",value:g.value},x;if(g.type==="element"){let b;for(b in gd)if(Object.hasOwn(gd,b)&&Object.hasOwn(g.properties,b)){const w=g.properties[b],E=gd[b];(E===null||E.includes(g.tagName))&&(g.properties[b]=m(String(w||""),b,g))}}if(g.type==="element"){let b=r?!r.includes(g.tagName):o?o.includes(g.tagName):!1;if(!b&&i&&typeof x=="number"&&(b=!i(g,x,v)),b&&v&&typeof x=="number")return d&&g.children?v.children.splice(x,1,...g.children):v.children.splice(x,1),x}}}function sT(e){const n=e.indexOf(":"),r=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return n===-1||s!==-1&&n>s||r!==-1&&n>r||i!==-1&&n>i||nT.test(e.slice(0,n))?e:""}function ax(e,n){const r=String(e);if(typeof n!="string")throw new TypeError("Expected character");let i=0,s=r.indexOf(n);for(;s!==-1;)i++,s=r.indexOf(n,s+n.length);return i}function oT(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uT(e,n,r){const s=Fo((r||{}).ignore||[]),o=cT(n);let u=-1;for(;++u<o.length;)Zy(e,"text",d);function d(h,g){let x=-1,v;for(;++x<g.length;){const b=g[x],w=v?v.children:void 0;if(s(b,w?w.indexOf(b):void 0,v))return;v=b}if(v)return m(h,g)}function m(h,g){const x=g[g.length-1],v=o[u][0],b=o[u][1];let w=0;const j=x.children.indexOf(h);let k=!1,A=[];v.lastIndex=0;let T=v.exec(h.value);for(;T;){const N=T.index,O={index:T.index,input:T.input,stack:[...g,h]};let D=b(...T,O);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?v.lastIndex=N+1:(w!==N&&A.push({type:"text",value:h.value.slice(w,N)}),Array.isArray(D)?A.push(...D):D&&A.push(D),w=N+T[0].length,k=!0),!v.global)break;T=v.exec(h.value)}return k?(w<h.value.length&&A.push({type:"text",value:h.value.slice(w)}),x.children.splice(j,1,...A)):A=[h],j+A.length}}function cT(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<r.length;){const s=r[i];n.push([dT(s[0]),fT(s[1])])}return n}function dT(e){return typeof e=="string"?new RegExp(oT(e),"g"):e}function fT(e){return typeof e=="function"?e:function(){return e}}const Td="phrasing",Ad=["autolink","link","image","label"];function hT(){return{transforms:[bT],enter:{literalAutolink:pT,literalAutolinkEmail:Nd,literalAutolinkHttp:Nd,literalAutolinkWww:Nd},exit:{literalAutolink:vT,literalAutolinkEmail:yT,literalAutolinkHttp:gT,literalAutolinkWww:xT}}}function mT(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Td,notInConstruct:Ad},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Td,notInConstruct:Ad},{character:":",before:"[ps]",after:"\\/",inConstruct:Td,notInConstruct:Ad}]}}function pT(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Nd(e){this.config.enter.autolinkProtocol.call(this,e)}function gT(e){this.config.exit.autolinkProtocol.call(this,e)}function xT(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function yT(e){this.config.exit.autolinkEmail.call(this,e)}function vT(e){this.exit(e)}function bT(e){uT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wT],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),kT]],{ignore:["link","linkReference"]})}function wT(e,n,r,i,s){let o="";if(!tv(s)||(/^w/i.test(n)&&(r=n+r,n="",o="http://"),!ST(r)))return!1;const u=_T(r+i);if(!u[0])return!1;const d={type:"link",title:null,url:o+n+u[0],children:[{type:"text",value:n+u[0]}]};return u[1]?[d,{type:"text",value:u[1]}]:d}function kT(e,n,r,i){return!tv(i,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function ST(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function _T(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let r=n[0],i=r.indexOf(")");const s=ax(e,"(");let o=ax(e,")");for(;i!==-1&&s>o;)e+=r.slice(0,i+1),r=r.slice(i+1),i=r.indexOf(")"),o++;return[e,r]}function tv(e,n){const r=e.input.charCodeAt(e.index-1);return(e.index===0||ua(r)||Ho(r))&&(!n||r!==47)}nv.peek=DT;function ET(){this.buffer()}function jT(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function TT(){this.buffer()}function AT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function NT(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Sn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function CT(e){this.exit(e)}function RT(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Sn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function OT(e){this.exit(e)}function DT(){return"["}function nv(e,n,r,i){const s=r.createTracker(i);let o=s.move("[^");const u=r.enter("footnoteReference"),d=r.enter("reference");return o+=s.move(r.safe(r.associationId(e),{after:"]",before:o})),d(),u(),o+=s.move("]"),o}function MT(){return{enter:{gfmFootnoteCallString:ET,gfmFootnoteCall:jT,gfmFootnoteDefinitionLabelString:TT,gfmFootnoteDefinition:AT},exit:{gfmFootnoteCallString:NT,gfmFootnoteCall:CT,gfmFootnoteDefinitionLabelString:RT,gfmFootnoteDefinition:OT}}}function LT(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:nv},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(i,s,o,u){const d=o.createTracker(u);let m=d.move("[^");const h=o.enter("footnoteDefinition"),g=o.enter("label");return m+=d.move(o.safe(o.associationId(i),{before:m,after:"]"})),g(),m+=d.move("]:"),i.children&&i.children.length>0&&(d.shift(4),m+=d.move((n?`
`:" ")+o.indentLines(o.containerFlow(i,d.current()),n?rv:PT))),h(),m}}function PT(e,n,r){return n===0?e:rv(e,n,r)}function rv(e,n,r){return(r?"":"    ")+e}const zT=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];av.peek=qT;function UT(){return{canContainEols:["delete"],enter:{strikethrough:IT},exit:{strikethrough:HT}}}function BT(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zT}],handlers:{delete:av}}}function IT(e){this.enter({type:"delete",children:[]},e)}function HT(e){this.exit(e)}function av(e,n,r,i){const s=r.createTracker(i),o=r.enter("strikethrough");let u=s.move("~~");return u+=r.containerPhrasing(e,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function qT(){return"~"}function $T(e){return e.length}function FT(e,n){const r=n||{},i=(r.align||[]).concat(),s=r.stringLength||$T,o=[],u=[],d=[],m=[];let h=0,g=-1;for(;++g<e.length;){const E=[],j=[];let k=-1;for(e[g].length>h&&(h=e[g].length);++k<e[g].length;){const A=GT(e[g][k]);if(r.alignDelimiters!==!1){const T=s(A);j[k]=T,(m[k]===void 0||T>m[k])&&(m[k]=T)}E.push(A)}u[g]=E,d[g]=j}let x=-1;if(typeof i=="object"&&"length"in i)for(;++x<h;)o[x]=ix(i[x]);else{const E=ix(i);for(;++x<h;)o[x]=E}x=-1;const v=[],b=[];for(;++x<h;){const E=o[x];let j="",k="";E===99?(j=":",k=":"):E===108?j=":":E===114&&(k=":");let A=r.alignDelimiters===!1?1:Math.max(1,m[x]-j.length-k.length);const T=j+"-".repeat(A)+k;r.alignDelimiters!==!1&&(A=j.length+A+k.length,A>m[x]&&(m[x]=A),b[x]=A),v[x]=T}u.splice(1,0,v),d.splice(1,0,b),g=-1;const w=[];for(;++g<u.length;){const E=u[g],j=d[g];x=-1;const k=[];for(;++x<h;){const A=E[x]||"";let T="",N="";if(r.alignDelimiters!==!1){const O=m[x]-(j[x]||0),D=o[x];D===114?T=" ".repeat(O):D===99?O%2?(T=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(T=" ".repeat(O/2),N=T):N=" ".repeat(O)}r.delimiterStart!==!1&&!x&&k.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&A==="")&&(r.delimiterStart!==!1||x)&&k.push(" "),r.alignDelimiters!==!1&&k.push(T),k.push(A),r.alignDelimiters!==!1&&k.push(N),r.padding!==!1&&k.push(" "),(r.delimiterEnd!==!1||x!==h-1)&&k.push("|")}w.push(r.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return w.join(`
`)}function GT(e){return e==null?"":String(e)}function ix(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function YT(e,n,r,i){const s=r.enter("blockquote"),o=r.createTracker(i);o.move("> "),o.shift(2);const u=r.indentLines(r.containerFlow(e,o.current()),VT);return s(),u}function VT(e,n,r){return">"+(r?"":" ")+e}function KT(e,n){return lx(e,n.inConstruct,!0)&&!lx(e,n.notInConstruct,!1)}function lx(e,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let i=-1;for(;++i<n.length;)if(e.includes(n[i]))return!0;return!1}function sx(e,n,r,i){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&KT(r.stack,r.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function XT(e,n){const r=String(e);let i=r.indexOf(n),s=i,o=0,u=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>u&&(u=o):o=1,s=i+n.length,i=r.indexOf(n,s);return u}function QT(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function JT(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function WT(e,n,r,i){const s=JT(r),o=e.value||"",u=s==="`"?"GraveAccent":"Tilde";if(QT(e,r)){const x=r.enter("codeIndented"),v=r.indentLines(o,ZT);return x(),v}const d=r.createTracker(i),m=s.repeat(Math.max(XT(o,s)+1,3)),h=r.enter("codeFenced");let g=d.move(m);if(e.lang){const x=r.enter(`codeFencedLang${u}`);g+=d.move(r.safe(e.lang,{before:g,after:" ",encode:["`"],...d.current()})),x()}if(e.lang&&e.meta){const x=r.enter(`codeFencedMeta${u}`);g+=d.move(" "),g+=d.move(r.safe(e.meta,{before:g,after:`
`,encode:["`"],...d.current()})),x()}return g+=d.move(`
`),o&&(g+=d.move(o+`
`)),g+=d.move(m),h(),g}function ZT(e,n,r){return(r?"":"    ")+e}function If(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function eA(e,n,r,i){const s=If(r),o=s==='"'?"Quote":"Apostrophe",u=r.enter("definition");let d=r.enter("label");const m=r.createTracker(i);let h=m.move("[");return h+=m.move(r.safe(r.associationId(e),{before:h,after:"]",...m.current()})),h+=m.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),h+=m.move("<"),h+=m.move(r.safe(e.url,{before:h,after:">",...m.current()})),h+=m.move(">")):(d=r.enter("destinationRaw"),h+=m.move(r.safe(e.url,{before:h,after:e.title?" ":`
`,...m.current()}))),d(),e.title&&(d=r.enter(`title${o}`),h+=m.move(" "+s),h+=m.move(r.safe(e.title,{before:h,after:s,...m.current()})),h+=m.move(s),d()),u(),h}function tA(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Gl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Lo(e,n,r){const i=gi(e),s=gi(n);return i===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}iv.peek=nA;function iv(e,n,r,i){const s=tA(r),o=r.enter("emphasis"),u=r.createTracker(i),d=u.move(s);let m=u.move(r.containerPhrasing(e,{after:s,before:d,...u.current()}));const h=m.charCodeAt(0),g=Lo(i.before.charCodeAt(i.before.length-1),h,s);g.inside&&(m=Gl(h)+m.slice(1));const x=m.charCodeAt(m.length-1),v=Lo(i.after.charCodeAt(0),x,s);v.inside&&(m=m.slice(0,-1)+Gl(x));const b=u.move(s);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+m+b}function nA(e,n,r){return r.options.emphasis||"*"}function rA(e,n){let r=!1;return zf(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return r=!0,ef}),!!((!e.depth||e.depth<3)&&Cf(e)&&(n.options.setext||r))}function aA(e,n,r,i){const s=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(i);if(rA(e,r)){const g=r.enter("headingSetext"),x=r.enter("phrasing"),v=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return x(),g(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const u="#".repeat(s),d=r.enter("headingAtx"),m=r.enter("phrasing");o.move(u+" ");let h=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(h)&&(h=Gl(h.charCodeAt(0))+h.slice(1)),h=h?u+" "+h:u,r.options.closeAtx&&(h+=" "+u),m(),d(),h}lv.peek=iA;function lv(e){return e.value||""}function iA(){return"<"}sv.peek=lA;function sv(e,n,r,i){const s=If(r),o=s==='"'?"Quote":"Apostrophe",u=r.enter("image");let d=r.enter("label");const m=r.createTracker(i);let h=m.move("![");return h+=m.move(r.safe(e.alt,{before:h,after:"]",...m.current()})),h+=m.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),h+=m.move("<"),h+=m.move(r.safe(e.url,{before:h,after:">",...m.current()})),h+=m.move(">")):(d=r.enter("destinationRaw"),h+=m.move(r.safe(e.url,{before:h,after:e.title?" ":")",...m.current()}))),d(),e.title&&(d=r.enter(`title${o}`),h+=m.move(" "+s),h+=m.move(r.safe(e.title,{before:h,after:s,...m.current()})),h+=m.move(s),d()),h+=m.move(")"),u(),h}function lA(){return"!"}ov.peek=sA;function ov(e,n,r,i){const s=e.referenceType,o=r.enter("imageReference");let u=r.enter("label");const d=r.createTracker(i);let m=d.move("![");const h=r.safe(e.alt,{before:m,after:"]",...d.current()});m+=d.move(h+"]["),u();const g=r.stack;r.stack=[],u=r.enter("reference");const x=r.safe(r.associationId(e),{before:m,after:"]",...d.current()});return u(),r.stack=g,o(),s==="full"||!h||h!==x?m+=d.move(x+"]"):s==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function sA(){return"!"}uv.peek=oA;function uv(e,n,r){let i=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<r.unsafe.length;){const u=r.unsafe[o],d=r.compilePattern(u);let m;if(u.atBreak)for(;m=d.exec(i);){let h=m.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(m.index+1)}}return s+i+s}function oA(){return"`"}function cv(e,n){const r=Cf(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}dv.peek=uA;function dv(e,n,r,i){const s=If(r),o=s==='"'?"Quote":"Apostrophe",u=r.createTracker(i);let d,m;if(cv(e,r)){const g=r.stack;r.stack=[],d=r.enter("autolink");let x=u.move("<");return x+=u.move(r.containerPhrasing(e,{before:x,after:">",...u.current()})),x+=u.move(">"),d(),r.stack=g,x}d=r.enter("link"),m=r.enter("label");let h=u.move("[");return h+=u.move(r.containerPhrasing(e,{before:h,after:"](",...u.current()})),h+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=r.enter("destinationLiteral"),h+=u.move("<"),h+=u.move(r.safe(e.url,{before:h,after:">",...u.current()})),h+=u.move(">")):(m=r.enter("destinationRaw"),h+=u.move(r.safe(e.url,{before:h,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=r.enter(`title${o}`),h+=u.move(" "+s),h+=u.move(r.safe(e.title,{before:h,after:s,...u.current()})),h+=u.move(s),m()),h+=u.move(")"),d(),h}function uA(e,n,r){return cv(e,r)?"<":"["}fv.peek=cA;function fv(e,n,r,i){const s=e.referenceType,o=r.enter("linkReference");let u=r.enter("label");const d=r.createTracker(i);let m=d.move("[");const h=r.containerPhrasing(e,{before:m,after:"]",...d.current()});m+=d.move(h+"]["),u();const g=r.stack;r.stack=[],u=r.enter("reference");const x=r.safe(r.associationId(e),{before:m,after:"]",...d.current()});return u(),r.stack=g,o(),s==="full"||!h||h!==x?m+=d.move(x+"]"):s==="shortcut"?m=m.slice(0,-1):m+=d.move("]"),m}function cA(){return"["}function Hf(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function dA(e){const n=Hf(e),r=e.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function fA(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function hv(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function hA(e,n,r,i){const s=r.enter("list"),o=r.bulletCurrent;let u=e.ordered?fA(r):Hf(r);const d=e.ordered?u==="."?")":".":dA(r);let m=n&&r.bulletLastUsed?u===r.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(m=!0),hv(r)===u&&g){let x=-1;for(;++x<e.children.length;){const v=e.children[x];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=d),r.bulletCurrent=u;const h=r.containerFlow(e,i);return r.bulletLastUsed=u,r.bulletCurrent=o,s(),h}function mA(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function pA(e,n,r,i){const s=mA(r);let o=r.bulletCurrent||Hf(r);n&&n.type==="list"&&n.ordered&&(o=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(e))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(u=Math.ceil(u/4)*4);const d=r.createTracker(i);d.move(o+" ".repeat(u-o.length)),d.shift(u);const m=r.enter("listItem"),h=r.indentLines(r.containerFlow(e,d.current()),g);return m(),h;function g(x,v,b){return v?(b?"":" ".repeat(u))+x:(b?o:o+" ".repeat(u-o.length))+x}}function gA(e,n,r,i){const s=r.enter("paragraph"),o=r.enter("phrasing"),u=r.containerPhrasing(e,i);return o(),s(),u}const xA=Fo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function yA(e,n,r,i){return(e.children.some(function(u){return xA(u)})?r.containerPhrasing:r.containerFlow).call(r,e,i)}function vA(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}mv.peek=bA;function mv(e,n,r,i){const s=vA(r),o=r.enter("strong"),u=r.createTracker(i),d=u.move(s+s);let m=u.move(r.containerPhrasing(e,{after:s,before:d,...u.current()}));const h=m.charCodeAt(0),g=Lo(i.before.charCodeAt(i.before.length-1),h,s);g.inside&&(m=Gl(h)+m.slice(1));const x=m.charCodeAt(m.length-1),v=Lo(i.after.charCodeAt(0),x,s);v.inside&&(m=m.slice(0,-1)+Gl(x));const b=u.move(s+s);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+m+b}function bA(e,n,r){return r.options.strong||"*"}function wA(e,n,r,i){return r.safe(e.value,i)}function kA(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function SA(e,n,r){const i=(hv(r)+(r.options.ruleSpaces?" ":"")).repeat(kA(r));return r.options.ruleSpaces?i.slice(0,-1):i}const pv={blockquote:YT,break:sx,code:WT,definition:eA,emphasis:iv,hardBreak:sx,heading:aA,html:lv,image:sv,imageReference:ov,inlineCode:uv,link:dv,linkReference:fv,list:hA,listItem:pA,paragraph:gA,root:yA,strong:mv,text:wA,thematicBreak:SA};function _A(){return{enter:{table:EA,tableData:ox,tableHeader:ox,tableRow:TA},exit:{codeText:AA,table:jA,tableData:Cd,tableHeader:Cd,tableRow:Cd}}}function EA(e){const n=e._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function jA(e){this.exit(e),this.data.inTable=void 0}function TA(e){this.enter({type:"tableRow",children:[]},e)}function Cd(e){this.exit(e)}function ox(e){this.enter({type:"tableCell",children:[]},e)}function AA(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,NA));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(e)}function NA(e,n){return n==="|"?n:e}function CA(e){const n=e||{},r=n.tableCellPadding,i=n.tablePipeAlign,s=n.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:u,tableCell:m,tableRow:d}};function u(b,w,E,j){return h(g(b,E,j),b.align)}function d(b,w,E,j){const k=x(b,E,j),A=h([k]);return A.slice(0,A.indexOf(`
`))}function m(b,w,E,j){const k=E.enter("tableCell"),A=E.enter("phrasing"),T=E.containerPhrasing(b,{...j,before:o,after:o});return A(),k(),T}function h(b,w){return FT(b,{align:w,alignDelimiters:i,padding:r,stringLength:s})}function g(b,w,E){const j=b.children;let k=-1;const A=[],T=w.enter("table");for(;++k<j.length;)A[k]=x(j[k],w,E);return T(),A}function x(b,w,E){const j=b.children;let k=-1;const A=[],T=w.enter("tableRow");for(;++k<j.length;)A[k]=m(j[k],b,w,E);return T(),A}function v(b,w,E){let j=pv.inlineCode(b,w,E);return E.stack.includes("tableCell")&&(j=j.replace(/\|/g,"\\$&")),j}}function RA(){return{exit:{taskListCheckValueChecked:ux,taskListCheckValueUnchecked:ux,paragraph:DA}}}function OA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:MA}}}function ux(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function DA(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const i=r.children[0];if(i&&i.type==="text"){const s=n.children;let o=-1,u;for(;++o<s.length;){const d=s[o];if(d.type==="paragraph"){u=d;break}}u===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function MA(e,n,r,i){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",d=r.createTracker(i);o&&d.move(u);let m=pv.listItem(e,n,r,{...i,...d.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,h)),m;function h(g){return g+u}}function LA(){return[hT(),MT(),UT(),_A(),RA()]}function PA(e){return{extensions:[mT(),LT(e),BT(),CA(e),OA()]}}const zA={tokenize:$A,partial:!0},gv={tokenize:FA,partial:!0},xv={tokenize:GA,partial:!0},yv={tokenize:YA,partial:!0},UA={tokenize:VA,partial:!0},vv={name:"wwwAutolink",tokenize:HA,previous:wv},bv={name:"protocolAutolink",tokenize:qA,previous:kv},rr={name:"emailAutolink",tokenize:IA,previous:Sv},Mn={};function BA(){return{text:Mn}}let ra=48;for(;ra<123;)Mn[ra]=rr,ra++,ra===58?ra=65:ra===91&&(ra=97);Mn[43]=rr;Mn[45]=rr;Mn[46]=rr;Mn[95]=rr;Mn[72]=[rr,bv];Mn[104]=[rr,bv];Mn[87]=[rr,vv];Mn[119]=[rr,vv];function IA(e,n,r){const i=this;let s,o;return u;function u(x){return!af(x)||!Sv.call(i,i.previous)||qf(i.events)?r(x):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(x))}function d(x){return af(x)?(e.consume(x),d):x===64?(e.consume(x),m):r(x)}function m(x){return x===46?e.check(UA,g,h)(x):x===45||x===95||Dt(x)?(o=!0,e.consume(x),m):g(x)}function h(x){return e.consume(x),s=!0,m}function g(x){return o&&s&&Pt(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(x)):r(x)}}function HA(e,n,r){const i=this;return s;function s(u){return u!==87&&u!==119||!wv.call(i,i.previous)||qf(i.events)?r(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(zA,e.attempt(gv,e.attempt(xv,o),r),r)(u))}function o(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(u)}}function qA(e,n,r){const i=this;let s="",o=!1;return u;function u(x){return(x===72||x===104)&&kv.call(i,i.previous)&&!qf(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(x),e.consume(x),d):r(x)}function d(x){if(Pt(x)&&s.length<5)return s+=String.fromCodePoint(x),e.consume(x),d;if(x===58){const v=s.toLowerCase();if(v==="http"||v==="https")return e.consume(x),m}return r(x)}function m(x){return x===47?(e.consume(x),o?h:(o=!0,m)):r(x)}function h(x){return x===null||Oo(x)||Qe(x)||ua(x)||Ho(x)?r(x):e.attempt(gv,e.attempt(xv,g),r)(x)}function g(x){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(x)}}function $A(e,n,r){let i=0;return s;function s(u){return(u===87||u===119)&&i<3?(i++,e.consume(u),s):u===46&&i===3?(e.consume(u),o):r(u)}function o(u){return u===null?r(u):n(u)}}function FA(e,n,r){let i,s,o;return u;function u(h){return h===46||h===95?e.check(yv,m,d)(h):h===null||Qe(h)||ua(h)||h!==45&&Ho(h)?m(h):(o=!0,e.consume(h),u)}function d(h){return h===95?i=!0:(s=i,i=void 0),e.consume(h),u}function m(h){return s||i||!o?r(h):n(h)}}function GA(e,n){let r=0,i=0;return s;function s(u){return u===40?(r++,e.consume(u),s):u===41&&i<r?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(yv,n,o)(u):u===null||Qe(u)||ua(u)?n(u):(e.consume(u),s)}function o(u){return u===41&&i++,e.consume(u),s}}function YA(e,n,r){return i;function i(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),i):d===38?(e.consume(d),o):d===93?(e.consume(d),s):d===60||d===null||Qe(d)||ua(d)?n(d):r(d)}function s(d){return d===null||d===40||d===91||Qe(d)||ua(d)?n(d):i(d)}function o(d){return Pt(d)?u(d):r(d)}function u(d){return d===59?(e.consume(d),i):Pt(d)?(e.consume(d),u):r(d)}}function VA(e,n,r){return i;function i(o){return e.consume(o),s}function s(o){return Dt(o)?r(o):n(o)}}function wv(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qe(e)}function kv(e){return!Pt(e)}function Sv(e){return!(e===47||af(e))}function af(e){return e===43||e===45||e===46||e===95||Dt(e)}function qf(e){let n=e.length,r=!1;for(;n--;){const i=e[n][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){r=!0;break}if(i._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const KA={tokenize:nN,partial:!0};function XA(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ZA,continuation:{tokenize:eN},exit:tN}},text:{91:{name:"gfmFootnoteCall",tokenize:WA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:QA,resolveTo:JA}}}}function QA(e,n,r){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;s--;){const m=i.events[s][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return d;function d(m){if(!u||!u._balanced)return r(m);const h=Sn(i.sliceSerialize({start:u.end,end:i.now()}));return h.codePointAt(0)!==94||!o.includes(h.slice(1))?r(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),n(m))}}function JA(e,n){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[e[r+1],e[r+2],["enter",i,n],e[r+3],e[r+4],["enter",s,n],["exit",s,n],["enter",o,n],["enter",u,n],["exit",u,n],["exit",o,n],e[e.length-2],e[e.length-1],["exit",i,n]];return e.splice(r,e.length-r+1,...d),e}function WA(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return d;function d(x){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(x),e.exit("gfmFootnoteCallLabelMarker"),m}function m(x){return x!==94?r(x):(e.enter("gfmFootnoteCallMarker"),e.consume(x),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",h)}function h(x){if(o>999||x===93&&!u||x===null||x===91||Qe(x))return r(x);if(x===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return s.includes(Sn(i.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(x),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):r(x)}return Qe(x)||(u=!0),o++,e.consume(x),x===92?g:h}function g(x){return x===91||x===92||x===93?(e.consume(x),o++,h):h(x)}}function ZA(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,d;return m;function m(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),h}function h(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):r(w)}function g(w){if(u>999||w===93&&!d||w===null||w===91||Qe(w))return r(w);if(w===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return o=Sn(i.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Qe(w)||(d=!0),u++,e.consume(w),w===92?x:g}function x(w){return w===91||w===92||w===93?(e.consume(w),u++,g):g(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),s.includes(o)||s.push(o),ze(e,b,"gfmFootnoteDefinitionWhitespace")):r(w)}function b(w){return n(w)}}function eN(e,n,r){return e.check(Wl,n,e.attempt(KA,n,r))}function tN(e){e.exit("gfmFootnoteDefinition")}function nN(e,n,r){const i=this;return ze(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?n(o):r(o)}}function rN(e){let r=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return r==null&&(r=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(u,d){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let h=m;for(;h--;)if(u[h][0]==="exit"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[h][1].end.offset-u[h][1].start.offset){u[m][1].type="strikethroughSequence",u[h][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[h][1].start),end:Object.assign({},u[m][1].end)},x={type:"strikethroughText",start:Object.assign({},u[h][1].end),end:Object.assign({},u[m][1].start)},v=[["enter",g,d],["enter",u[h][1],d],["exit",u[h][1],d],["enter",x,d]],b=d.parser.constructs.insideSpan.null;b&&rn(v,v.length,0,qo(b,u.slice(h+1,m),d)),rn(v,v.length,0,[["exit",x,d],["enter",u[m][1],d],["exit",u[m][1],d],["exit",g,d]]),rn(u,h-1,m-h+3,v),m=h+v.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,d,m){const h=this.previous,g=this.events;let x=0;return v;function v(w){return h===126&&g[g.length-1][1].type!=="characterEscape"?m(w):(u.enter("strikethroughSequenceTemporary"),b(w))}function b(w){const E=gi(h);if(w===126)return x>1?m(w):(u.consume(w),x++,b);if(x<2&&!r)return m(w);const j=u.exit("strikethroughSequenceTemporary"),k=gi(w);return j._open=!k||k===2&&!!E,j._close=!E||E===2&&!!k,d(w)}}}class aN{constructor(){this.map=[]}add(n,r,i){iN(this,n,r,i)}consume(n){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let r=this.map.length;const i=[];for(;r>0;)r-=1,i.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];i.push(n.slice()),n.length=0;let s=i.pop();for(;s;){for(const o of s)n.push(o);s=i.pop()}this.map.length=0}}function iN(e,n,r,i){let s=0;if(!(r===0&&i.length===0)){for(;s<e.map.length;){if(e.map[s][0]===n){e.map[s][1]+=r,e.map[s][2].push(...i);return}s+=1}e.map.push([n,r,i])}}function lN(e,n){let r=!1;const i=[];for(;n<e.length;){const s=e[n];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return i}function sN(){return{flow:{null:{name:"table",tokenize:oN,resolveAll:uN}}}}function oN(e,n,r){const i=this;let s=0,o=0,u;return d;function d(P){let q=i.events.length-1;for(;q>-1;){const ae=i.events[q][1].type;if(ae==="lineEnding"||ae==="linePrefix")q--;else break}const V=q>-1?i.events[q][1].type:null,Z=V==="tableHead"||V==="tableRow"?D:m;return Z===D&&i.parser.lazy[i.now().line]?r(P):Z(P)}function m(P){return e.enter("tableHead"),e.enter("tableRow"),h(P)}function h(P){return P===124||(u=!0,o+=1),g(P)}function g(P){return P===null?r(P):ke(P)?o>1?(o=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),b):r(P):Le(P)?ze(e,g,"whitespace")(P):(o+=1,u&&(u=!1,s+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),u=!0,g):(e.enter("data"),x(P)))}function x(P){return P===null||P===124||Qe(P)?(e.exit("data"),g(P)):(e.consume(P),P===92?v:x)}function v(P){return P===92||P===124?(e.consume(P),x):x(P)}function b(P){return i.interrupt=!1,i.parser.lazy[i.now().line]?r(P):(e.enter("tableDelimiterRow"),u=!1,Le(P)?ze(e,w,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):w(P))}function w(P){return P===45||P===58?j(P):P===124?(u=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),E):O(P)}function E(P){return Le(P)?ze(e,j,"whitespace")(P):j(P)}function j(P){return P===58?(o+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),k):P===45?(o+=1,k(P)):P===null||ke(P)?N(P):O(P)}function k(P){return P===45?(e.enter("tableDelimiterFiller"),A(P)):O(P)}function A(P){return P===45?(e.consume(P),A):P===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),T):(e.exit("tableDelimiterFiller"),T(P))}function T(P){return Le(P)?ze(e,N,"whitespace")(P):N(P)}function N(P){return P===124?w(P):P===null||ke(P)?!u||s!==o?O(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(P)):O(P)}function O(P){return r(P)}function D(P){return e.enter("tableRow"),G(P)}function G(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),G):P===null||ke(P)?(e.exit("tableRow"),n(P)):Le(P)?ze(e,G,"whitespace")(P):(e.enter("data"),F(P))}function F(P){return P===null||P===124||Qe(P)?(e.exit("data"),G(P)):(e.consume(P),P===92?W:F)}function W(P){return P===92||P===124?(e.consume(P),F):F(P)}}function uN(e,n){let r=-1,i=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],d=!1,m=0,h,g,x;const v=new aN;for(;++r<e.length;){const b=e[r],w=b[1];b[0]==="enter"?w.type==="tableHead"?(d=!1,m!==0&&(cx(v,n,m,h,g),g=void 0,m=0),h={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",h,n]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(i=!0,x=void 0,o=[0,0,0,0],u=[0,r+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",g,n]])),s=w.type==="tableDelimiterRow"?2:g?3:1):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],x=xo(v,n,o,s,void 0,x),o=[0,0,0,0]),u[2]=r)):w.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],x=xo(v,n,o,s,void 0,x)),o=u,u=[o[1],r,0,0])):w.type==="tableHead"?(d=!0,m=r):w.type==="tableRow"||w.type==="tableDelimiterRow"?(m=r,o[1]!==0?(u[0]=u[1],x=xo(v,n,o,s,r,x)):u[1]!==0&&(x=xo(v,n,u,s,r,x)),s=0):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(u[3]=r)}for(m!==0&&cx(v,n,m,h,g),v.consume(n.events),r=-1;++r<n.events.length;){const b=n.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=lN(n.events,r))}return e}function xo(e,n,r,i,s,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",d="tableContent";r[0]!==0&&(o.end=Object.assign({},ui(n.events,r[0])),e.add(r[0],0,[["exit",o,n]]));const m=ui(n.events,r[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(r[1],0,[["enter",o,n]]),r[2]!==0){const h=ui(n.events,r[2]),g=ui(n.events,r[3]),x={type:d,start:Object.assign({},h),end:Object.assign({},g)};if(e.add(r[2],0,[["enter",x,n]]),i!==2){const v=n.events[r[2]],b=n.events[r[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const w=r[2]+1,E=r[3]-r[2]-1;e.add(w,E,[])}}e.add(r[3]+1,0,[["exit",x,n]])}return s!==void 0&&(o.end=Object.assign({},ui(n.events,s)),e.add(s,0,[["exit",o,n]]),o=void 0),o}function cx(e,n,r,i,s){const o=[],u=ui(n.events,r);s&&(s.end=Object.assign({},u),o.push(["exit",s,n])),i.end=Object.assign({},u),o.push(["exit",i,n]),e.add(r+1,0,o)}function ui(e,n){const r=e[n],i=r[0]==="enter"?"start":"end";return r[1][i]}const cN={name:"tasklistCheck",tokenize:fN};function dN(){return{text:{91:cN}}}function fN(e,n,r){const i=this;return s;function s(m){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?r(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),o)}function o(m){return Qe(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):r(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):r(m)}function d(m){return ke(m)?n(m):Le(m)?e.check({tokenize:hN},n,r)(m):r(m)}}function hN(e,n,r){return ze(e,i,"whitespace");function i(s){return s===null?r(s):n(s)}}function mN(e){return My([BA(),XA(),rN(e),sN(),dN()])}const pN={};function $f(e){const n=this,r=e||pN,i=n.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(mN(r)),o.push(LA()),u.push(PA(r))}const gN=({advancedMetrics:e,psychologyMetrics:n})=>{const r=s=>`${s.toFixed(1)}%`,i=s=>s.toFixed(2);return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Performance"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Win Rate:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:r(e.winRate)})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Profit Factor:"}),f.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400",children:i(e.profitFactor)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Psychology"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:uS(n.currentMood)}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Mood:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 capitalize",children:n.currentMood})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Stress:"}),f.jsxs("span",{className:`font-bold ${cS(n.stressLevel)}`,children:[n.stressLevel,"/10"]})]})]})]})},dx=["#FF5E3A","#FF9500","#FFDB4C","#4CD964","#5AC8FA","#007AFF","#5856D6","#FF2D55"];function xN(e,n,r){try{if(!e||!e.canvas||!n)return r==="win"?"#34d399":r==="loss"?"#f87171":"#60a5fa";let i;return r==="win"?(i=e.createLinearGradient(n.left,n.top,n.right,n.bottom),i.addColorStop(0,"#a7ffeb"),i.addColorStop(1,"#059669")):r==="loss"?(i=e.createLinearGradient(n.left,n.top,n.right,n.bottom),i.addColorStop(0,"#ffe0e3"),i.addColorStop(1,"#dc2626")):(i=e.createLinearGradient(n.left,n.top,n.right,n.bottom),i.addColorStop(0,"#dbeafe"),i.addColorStop(1,"#2563eb")),i}catch{return r==="win"?"#34d399":r==="loss"?"#f87171":"#60a5fa"}}const yN=({data:e,theme:n,winRate:r,totalCompleted:i})=>{const s=M.useRef(null),o=M.useRef(null),u=e.map(d=>d.name.toLowerCase().includes("win")?"#34d399":d.name.toLowerCase().includes("loss")?"#f87171":"#60a5fa");return M.useEffect(()=>{if(!s.current||!e.length)return;const d=s.current.getContext("2d");if(!d)return;o.current&&o.current.destroy();const m=e.map(b=>b.name),h=e.map(b=>b.value),g=e.map((b,w)=>{var k;let E="other";b.name.toLowerCase().includes("win")?E="win":b.name.toLowerCase().includes("loss")&&(E="loss");const j=((k=o.current)==null?void 0:k.chartArea)||(d==null?void 0:d.canvas)||null;return xN(d,j,E)}),x=g,v=n==="dark";return o.current=new window.Chart(d,{type:"doughnut",data:{labels:m,datasets:[{label:"Distribusi Hasil",data:h,backgroundColor:g,hoverBackgroundColor:x,borderColor:"rgba(0,0,0,0)",borderWidth:0,offset:h.map(()=>0)}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"72%",interaction:{mode:"index",intersect:!0},animations:{offset:{duration:500,easing:"easeOutCubic"}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:function(b){let w=document.getElementById("dashboard-pie-tooltip");w||(w=document.createElement("div"),w.id="dashboard-pie-tooltip",w.style.position="absolute",w.style.pointerEvents="none",w.style.transition="all 0.2s cubic-bezier(.25,.8,.25,1)",w.style.zIndex="1000",w.style.minWidth="120px",w.style.maxWidth="220px",w.style.padding="14px 18px",w.style.borderRadius="12px",w.style.boxShadow="0 4px 24px 0 rgba(30,41,59,0.10)",w.style.background=v?"rgba(30,41,59,0.97)":"rgba(255,255,255,0.98)",w.style.border=v?"1px solid rgba(71,85,105,0.7)":"1px solid rgba(226,232,240,1)",w.style.color=v?"#f1f5f9":"#1e293b",w.style.fontFamily="inherit",w.style.fontSize="15px",w.style.fontWeight="bold",w.style.pointerEvents="none",document.body.appendChild(w));const E=b.tooltip;if(E.opacity===0){w.style.opacity="0";return}if(E.body){const D=E.dataPoints[0].label,G=E.dataPoints[0].parsed,F=b.chart.data.datasets[0].data.reduce((V,Z)=>V+Z,0)||1,W=(G/F*100).toFixed(2),P=b.dataIndex??0,q=dx[P%dx.length];w.innerHTML=`<div style='margin-bottom:4px;'>${D}: <span style='color:${q}'>${G}</span></div><div style='font-size:13px;font-weight:400;'>(${W}%)</div>`}const k=b.chart.canvas.getBoundingClientRect(),A=b.chart.chartArea;let T=window.scrollX+k.right-(k.width-A.right)+24,N=window.scrollY+k.top+A.top-w.offsetHeight-16;N<window.scrollY+10&&(N=window.scrollY+k.top+A.bottom+16);const O=window.scrollX+document.documentElement.clientWidth-w.offsetWidth-12;T>O&&(T=O),w.style.left=T+"px",w.style.top=N+"px",w.style.opacity="1"}}},onHover:(b,w)=>{const E=o.current;if(!E)return;const j=E.data.datasets[0];if(!j)return;let k=h.map(()=>0);if(w&&w.length>0){const A=w[0].index;k[A]=24}(!j.offset||!k.every((A,T)=>A===j.offset[T]))&&(j.offset=k,E.update())}},plugins:[{id:"centerText",afterDraw:function(b){if(i===void 0)return;const{ctx:w,chartArea:E}=b;w.save();const j=(E.left+E.right)/2,k=(E.top+E.bottom)/2;w.font="bold 2.2rem Inter, sans-serif",w.fillStyle=v?"#fff":"#222",w.textAlign="center",w.textBaseline="middle",w.fillText(i,j,k-8),w.font="400 0.95rem Inter, sans-serif",w.fillStyle=v?"#cbd5e1":"#64748b",w.fillText("Total Trades",j,k+16),w.restore()}}]}),()=>{o.current&&o.current.destroy()}},[e,n,r,i]),f.jsxs("div",{className:"flex flex-col items-center justify-start w-full",style:{maxWidth:"180px",margin:"0 auto"},children:[f.jsx("div",{className:"relative flex items-center justify-center w-full",style:{maxWidth:"140px",aspectRatio:"1/1"},children:e.length>0?f.jsx("canvas",{ref:s,style:{width:"100%",height:"100%"}}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:"Tidak ada data trade untuk ditampilkan."})})}),f.jsx("div",{className:"flex flex-row items-center justify-center gap-6 mt-4",children:e.map((d,m)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"inline-block w-4 h-4 rounded-full",style:{background:u[m]}}),f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:d.name})]},d.name))})]})};var Co={exports:{}},vN=Co.exports,fx;function bN(){return fx||(fx=1,function(e,n){(function(i,s){e.exports=s(Uo())})(vN,function(r){return function(i){var s={};function o(u){if(s[u])return s[u].exports;var d=s[u]={i:u,l:!1,exports:{}};return i[u].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=i,o.c=s,o.d=function(u,d,m){o.o(u,d)||Object.defineProperty(u,d,{configurable:!1,enumerable:!0,get:m})},o.n=function(u){var d=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(d,"a",d),d},o.o=function(u,d){return Object.prototype.hasOwnProperty.call(u,d)},o.p="/",o(o.s=11)}([function(i,s,o){(function(u){if(u.env.NODE_ENV!=="production"){var d=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,m=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===d},h=!0;i.exports=o(14)(m,h)}else i.exports=o(16)()}).call(s,o(2))},function(i,s){i.exports=r},function(i,s){var o=i.exports={},u,d;function m(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=m}catch{u=m}try{typeof clearTimeout=="function"?d=clearTimeout:d=h}catch{d=h}})();function g(N){if(u===setTimeout)return setTimeout(N,0);if((u===m||!u)&&setTimeout)return u=setTimeout,setTimeout(N,0);try{return u(N,0)}catch{try{return u.call(null,N,0)}catch{return u.call(this,N,0)}}}function x(N){if(d===clearTimeout)return clearTimeout(N);if((d===h||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(N);try{return d(N)}catch{try{return d.call(null,N)}catch{return d.call(this,N)}}}var v=[],b=!1,w,E=-1;function j(){!b||!w||(b=!1,w.length?v=w.concat(v):E=-1,v.length&&k())}function k(){if(!b){var N=g(j);b=!0;for(var O=v.length;O;){for(w=v,v=[];++E<O;)w&&w[E].run();E=-1,O=v.length}w=null,b=!1,x(N)}}o.nextTick=function(N){var O=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)O[D-1]=arguments[D];v.push(new A(N,O)),v.length===1&&!b&&g(k)};function A(N,O){this.fun=N,this.array=O}A.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function T(){}o.on=T,o.addListener=T,o.once=T,o.off=T,o.removeListener=T,o.removeAllListeners=T,o.emit=T,o.prependListener=T,o.prependOnceListener=T,o.listeners=function(N){return[]},o.binding=function(N){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(N){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return u.reduce(function(d,m){return d+m})/u.length}},function(i,s,o){function u(m){return function(){return m}}var d=function(){};d.thatReturns=u,d.thatReturnsFalse=u(!1),d.thatReturnsTrue=u(!0),d.thatReturnsNull=u(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(m){return m},i.exports=d},function(i,s,o){(function(u){var d=function(g){};u.env.NODE_ENV!=="production"&&(d=function(g){if(g===void 0)throw new Error("invariant requires an error message argument")});function m(h,g,x,v,b,w,E,j){if(d(g),!h){var k;if(g===void 0)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var A=[x,v,b,w,E,j],T=0;k=new Error(g.replace(/%s/g,function(){return A[T++]})),k.name="Invariant Violation"}throw k.framesToPop=1,k}}i.exports=m}).call(s,o(2))},function(i,s,o){var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";i.exports=u},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return Math.min.apply(Math,u)}},function(i,s,o){(function(u){var d=o(4),m=d;if(u.env.NODE_ENV!=="production"){var h=function(x){for(var v=arguments.length,b=Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];var E=0,j="Warning: "+x.replace(/%s/g,function(){return b[E++]});typeof console<"u"&&console.error(j);try{throw new Error(j)}catch{}};m=function(x,v){if(v===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(v.indexOf("Failed Composite propType: ")!==0&&!x){for(var b=arguments.length,w=Array(b>2?b-2:0),E=2;E<b;E++)w[E-2]=arguments[E];h.apply(void 0,[v].concat(w))}}}i.exports=m}).call(s,o(2))},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return Math.max.apply(Math,u)}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(3),d=m(u);function m(h){return h&&h.__esModule?h:{default:h}}s.default=function(h){var g=(0,d.default)(h),x=h.map(function(b){return Math.pow(b-g,2)}),v=(0,d.default)(x);return Math.sqrt(v)}},function(i,s,o){i.exports=o(12)},function(i,s,o){i.exports=o(13)},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.SparklinesText=s.SparklinesNormalBand=s.SparklinesReferenceLine=s.SparklinesSpots=s.SparklinesBars=s.SparklinesCurve=s.SparklinesLine=s.Sparklines=void 0;var u=function(){function B(X,oe){for(var te=0;te<oe.length;te++){var S=oe[te];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(X,S.key,S)}}return function(X,oe,te){return oe&&B(X.prototype,oe),te&&B(X,te),X}}(),d=o(0),m=q(d),h=o(1),g=q(h),x=o(17),v=q(x),b=o(18),w=q(b),E=o(19),j=q(E),k=o(20),A=q(k),T=o(21),N=q(T),O=o(22),D=q(O),G=o(27),F=q(G),W=o(28),P=q(W);function q(B){return B&&B.__esModule?B:{default:B}}function V(B,X){if(!(B instanceof X))throw new TypeError("Cannot call a class as a function")}function Z(B,X){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:B}function ae(B,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);B.prototype=Object.create(X&&X.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(B,X):B.__proto__=X)}var ce=function(B){ae(X,B);function X(oe){return V(this,X),Z(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,oe))}return u(X,[{key:"render",value:function(){var te=this.props,S=te.data,H=te.limit,I=te.width,R=te.height,se=te.svgWidth,he=te.svgHeight,z=te.preserveAspectRatio,ee=te.margin,ue=te.style,me=te.max,pe=te.min;if(S.length===0)return null;var ge=(0,P.default)({data:S,limit:H,width:I,height:R,margin:ee,max:me,min:pe}),ye={style:ue,viewBox:"0 0 "+I+" "+R,preserveAspectRatio:z};return se>0&&(ye.width=se),he>0&&(ye.height=he),g.default.createElement("svg",ye,g.default.Children.map(this.props.children,function(He){return g.default.cloneElement(He,{data:S,points:ge,width:I,height:R,margin:ee})}))}}]),X}(h.PureComponent);ce.propTypes={data:m.default.array,limit:m.default.number,width:m.default.number,height:m.default.number,svgWidth:m.default.number,svgHeight:m.default.number,preserveAspectRatio:m.default.string,margin:m.default.number,style:m.default.object,min:m.default.number,max:m.default.number,onMouseMove:m.default.func},ce.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},s.Sparklines=ce,s.SparklinesLine=w.default,s.SparklinesCurve=j.default,s.SparklinesBars=A.default,s.SparklinesSpots=N.default,s.SparklinesReferenceLine=D.default,s.SparklinesNormalBand=F.default,s.SparklinesText=v.default},function(i,s,o){(function(u){var d=o(4),m=o(5),h=o(8),g=o(6),x=o(15);i.exports=function(v,b){var w=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function j(I){var R=I&&(w&&I[w]||I[E]);if(typeof R=="function")return R}var k="<<anonymous>>",A={array:D("array"),bool:D("boolean"),func:D("function"),number:D("number"),object:D("object"),string:D("string"),symbol:D("symbol"),any:G(),arrayOf:F,element:W(),instanceOf:P,node:ae(),objectOf:V,oneOf:q,oneOfType:Z,shape:ce};function T(I,R){return I===R?I!==0||1/I===1/R:I!==I&&R!==R}function N(I){this.message=I,this.stack=""}N.prototype=Error.prototype;function O(I){if(u.env.NODE_ENV!=="production")var R={},se=0;function he(ee,ue,me,pe,ge,ye,He){if(pe=pe||k,ye=ye||me,He!==g){if(b)m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(u.env.NODE_ENV!=="production"&&typeof console<"u"){var st=pe+":"+me;!R[st]&&se<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",ye,pe),R[st]=!0,se++)}}return ue[me]==null?ee?ue[me]===null?new N("The "+ge+" `"+ye+"` is marked as required "+("in `"+pe+"`, but its value is `null`.")):new N("The "+ge+" `"+ye+"` is marked as required in "+("`"+pe+"`, but its value is `undefined`.")):null:I(ue,me,pe,ge,ye)}var z=he.bind(null,!1);return z.isRequired=he.bind(null,!0),z}function D(I){function R(se,he,z,ee,ue,me){var pe=se[he],ge=oe(pe);if(ge!==I){var ye=te(pe);return new N("Invalid "+ee+" `"+ue+"` of type "+("`"+ye+"` supplied to `"+z+"`, expected ")+("`"+I+"`."))}return null}return O(R)}function G(){return O(d.thatReturnsNull)}function F(I){function R(se,he,z,ee,ue){if(typeof I!="function")return new N("Property `"+ue+"` of component `"+z+"` has invalid PropType notation inside arrayOf.");var me=se[he];if(!Array.isArray(me)){var pe=oe(me);return new N("Invalid "+ee+" `"+ue+"` of type "+("`"+pe+"` supplied to `"+z+"`, expected an array."))}for(var ge=0;ge<me.length;ge++){var ye=I(me,ge,z,ee,ue+"["+ge+"]",g);if(ye instanceof Error)return ye}return null}return O(R)}function W(){function I(R,se,he,z,ee){var ue=R[se];if(!v(ue)){var me=oe(ue);return new N("Invalid "+z+" `"+ee+"` of type "+("`"+me+"` supplied to `"+he+"`, expected a single ReactElement."))}return null}return O(I)}function P(I){function R(se,he,z,ee,ue){if(!(se[he]instanceof I)){var me=I.name||k,pe=H(se[he]);return new N("Invalid "+ee+" `"+ue+"` of type "+("`"+pe+"` supplied to `"+z+"`, expected ")+("instance of `"+me+"`."))}return null}return O(R)}function q(I){if(!Array.isArray(I))return u.env.NODE_ENV!=="production"&&h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),d.thatReturnsNull;function R(se,he,z,ee,ue){for(var me=se[he],pe=0;pe<I.length;pe++)if(T(me,I[pe]))return null;var ge=JSON.stringify(I);return new N("Invalid "+ee+" `"+ue+"` of value `"+me+"` "+("supplied to `"+z+"`, expected one of "+ge+"."))}return O(R)}function V(I){function R(se,he,z,ee,ue){if(typeof I!="function")return new N("Property `"+ue+"` of component `"+z+"` has invalid PropType notation inside objectOf.");var me=se[he],pe=oe(me);if(pe!=="object")return new N("Invalid "+ee+" `"+ue+"` of type "+("`"+pe+"` supplied to `"+z+"`, expected an object."));for(var ge in me)if(me.hasOwnProperty(ge)){var ye=I(me,ge,z,ee,ue+"."+ge,g);if(ye instanceof Error)return ye}return null}return O(R)}function Z(I){if(!Array.isArray(I))return u.env.NODE_ENV!=="production"&&h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),d.thatReturnsNull;for(var R=0;R<I.length;R++){var se=I[R];if(typeof se!="function")return h(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",S(se),R),d.thatReturnsNull}function he(z,ee,ue,me,pe){for(var ge=0;ge<I.length;ge++){var ye=I[ge];if(ye(z,ee,ue,me,pe,g)==null)return null}return new N("Invalid "+me+" `"+pe+"` supplied to "+("`"+ue+"`."))}return O(he)}function ae(){function I(R,se,he,z,ee){return B(R[se])?null:new N("Invalid "+z+" `"+ee+"` supplied to "+("`"+he+"`, expected a ReactNode."))}return O(I)}function ce(I){function R(se,he,z,ee,ue){var me=se[he],pe=oe(me);if(pe!=="object")return new N("Invalid "+ee+" `"+ue+"` of type `"+pe+"` "+("supplied to `"+z+"`, expected `object`."));for(var ge in I){var ye=I[ge];if(ye){var He=ye(me,ge,z,ee,ue+"."+ge,g);if(He)return He}}return null}return O(R)}function B(I){switch(typeof I){case"number":case"string":case"undefined":return!0;case"boolean":return!I;case"object":if(Array.isArray(I))return I.every(B);if(I===null||v(I))return!0;var R=j(I);if(R){var se=R.call(I),he;if(R!==I.entries){for(;!(he=se.next()).done;)if(!B(he.value))return!1}else for(;!(he=se.next()).done;){var z=he.value;if(z&&!B(z[1]))return!1}}else return!1;return!0;default:return!1}}function X(I,R){return I==="symbol"||R["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&R instanceof Symbol}function oe(I){var R=typeof I;return Array.isArray(I)?"array":I instanceof RegExp?"object":X(R,I)?"symbol":R}function te(I){if(typeof I>"u"||I===null)return""+I;var R=oe(I);if(R==="object"){if(I instanceof Date)return"date";if(I instanceof RegExp)return"regexp"}return R}function S(I){var R=te(I);switch(R){case"array":case"object":return"an "+R;case"boolean":case"date":case"regexp":return"a "+R;default:return R}}function H(I){return!I.constructor||!I.constructor.name?k:I.constructor.name}return A.checkPropTypes=x,A.PropTypes=A,A}}).call(s,o(2))},function(i,s,o){(function(u){if(u.env.NODE_ENV!=="production")var d=o(5),m=o(8),h=o(6),g={};function x(v,b,w,E,j){if(u.env.NODE_ENV!=="production"){for(var k in v)if(v.hasOwnProperty(k)){var A;try{d(typeof v[k]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",E||"React class",w,k),A=v[k](b,k,E,w,null,h)}catch(N){A=N}if(m(!A||A instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",E||"React class",w,k,typeof A),A instanceof Error&&!(A.message in g)){g[A.message]=!0;var T=j?j():"";m(!1,"Failed %s type: %s%s",w,A.message,T??"")}}}}i.exports=x}).call(s,o(2))},function(i,s,o){var u=o(4),d=o(5),m=o(6);i.exports=function(){function h(v,b,w,E,j,k){k!==m&&d(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}h.isRequired=h;function g(){return h}var x={array:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:g,element:h,instanceOf:g,node:h,objectOf:g,oneOf:g,oneOfType:g,shape:g};return x.checkPropTypes=u,x.PropTypes=x,x}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,A){for(var T=0;T<A.length;T++){var N=A[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,A,T){return A&&j(k.prototype,A),T&&j(k,T),k}}(),d=o(0),m=x(d),h=o(1),g=x(h);function x(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.point,O=T.text,D=T.fontSize,G=T.fontFamily,F=N.x,W=N.y;return g.default.createElement("g",null,g.default.createElement("text",{x:F,y:W,fontFamily:G||"Verdana",fontSize:D||10},O))}}]),k}(g.default.Component);E.propTypes={text:m.default.string,point:m.default.object,fontSize:m.default.number,fontFamily:m.default.string},E.defaultProps={text:"",point:{x:0,y:0}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,A){for(var T=0;T<A.length;T++){var N=A[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,A,T){return A&&j(k.prototype,A),T&&j(k,T),k}}(),d=o(0),m=x(d),h=o(1),g=x(h);function x(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.data,O=T.points;T.width;var D=T.height,G=T.margin,F=T.color,W=T.style,P=T.onMouseMove,q=O.map(function(X){return[X.x,X.y]}).reduce(function(X,oe){return X.concat(oe)}),V=[O[O.length-1].x,D-G,G,D-G,G,O[0].y],Z=q.concat(V),ae={stroke:F||W.stroke||"slategray",strokeWidth:W.strokeWidth||"1",strokeLinejoin:W.strokeLinejoin||"round",strokeLinecap:W.strokeLinecap||"round",fill:"none"},ce={stroke:W.stroke||"none",strokeWidth:"0",fillOpacity:W.fillOpacity||".1",fill:W.fill||F||"slategray",pointerEvents:"auto"},B=O.map(function(X,oe){return g.default.createElement("circle",{key:oe,cx:X.x,cy:X.y,r:2,style:ce,onMouseEnter:function(S){return P("enter",N[oe],X)},onClick:function(S){return P("click",N[oe],X)}})});return g.default.createElement("g",null,B,g.default.createElement("polyline",{points:Z.join(" "),style:ce}),g.default.createElement("polyline",{points:q.join(" "),style:ae}))}}]),k}(g.default.Component);E.propTypes={color:m.default.string,style:m.default.object},E.defaultProps={style:{},onMouseMove:function(){}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,A){for(var T=0;T<A.length;T++){var N=A[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,A,T){return A&&j(k.prototype,A),T&&j(k,T),k}}(),d=o(0),m=x(d),h=o(1),g=x(h);function x(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.points;T.width;var O=T.height,D=T.margin,G=T.color,F=T.style,W=T.divisor,P=W===void 0?.25:W,q=void 0,V=function(te){var S=void 0;if(!q)S=[te.x,te.y];else{var H=(te.x-q.x)*P;S=["C",q.x+H,q.y,te.x-H,te.y,te.x,te.y]}return q=te,S},Z=N.map(function(oe){return V(oe)}).reduce(function(oe,te){return oe.concat(te)}),ae=["L"+N[N.length-1].x,O-D,D,O-D,D,N[0].y],ce=Z.concat(ae),B={stroke:G||F.stroke||"slategray",strokeWidth:F.strokeWidth||"1",strokeLinejoin:F.strokeLinejoin||"round",strokeLinecap:F.strokeLinecap||"round",fill:"none"},X={stroke:F.stroke||"none",strokeWidth:"0",fillOpacity:F.fillOpacity||".1",fill:F.fill||G||"slategray"};return g.default.createElement("g",null,g.default.createElement("path",{d:"M"+ce.join(" "),style:X}),g.default.createElement("path",{d:"M"+Z.join(" "),style:B}))}}]),k}(g.default.Component);E.propTypes={color:m.default.string,style:m.default.object},E.defaultProps={style:{}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,A){for(var T=0;T<A.length;T++){var N=A[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,A,T){return A&&j(k.prototype,A),T&&j(k,T),k}}(),d=o(0),m=x(d),h=o(1),g=x(h);function x(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this,N=this.props,O=N.points,D=N.height,G=N.style,F=N.barWidth,W=N.margin,P=N.onMouseMove,q=1*(G&&G.strokeWidth||0),V=W?2*W:0,Z=F||(O&&O.length>=2?Math.max(0,O[1].x-O[0].x-q-V):0);return g.default.createElement("g",{transform:"scale(1,-1)"},O.map(function(ae,ce){return g.default.createElement("rect",{key:ce,x:ae.x-(Z+q)/2,y:-D,width:Z,height:Math.max(0,D-ae.y),style:G,onMouseMove:P&&P.bind(T,ae)})}))}}]),k}(g.default.Component);E.propTypes={points:m.default.arrayOf(m.default.object),height:m.default.number,style:m.default.object,barWidth:m.default.number,margin:m.default.number,onMouseMove:m.default.func},E.defaultProps={style:{fill:"slategray"}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,A){for(var T=0;T<A.length;T++){var N=A[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,A,T){return A&&j(k.prototype,A),T&&j(k,T),k}}(),d=o(0),m=x(d),h=o(1),g=x(h);function x(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"lastDirection",value:function(T){return Math.sign=Math.sign||function(N){return N>0?1:-1},T.length<2?0:Math.sign(T[T.length-2].y-T[T.length-1].y)}},{key:"render",value:function(){var T=this.props,N=T.points;T.width,T.height;var O=T.size,D=T.style,G=T.spotColors,F=g.default.createElement("circle",{cx:N[0].x,cy:N[0].y,r:O,style:D}),W=g.default.createElement("circle",{cx:N[N.length-1].x,cy:N[N.length-1].y,r:O,style:D||{fill:G[this.lastDirection(N)]}});return g.default.createElement("g",null,D&&F,W)}}]),k}(g.default.Component);E.propTypes={size:m.default.number,style:m.default.object,spotColors:m.default.object},E.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function T(N,O){for(var D=0;D<O.length;D++){var G=O[D];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(N,G.key,G)}}return function(N,O,D){return O&&T(N.prototype,O),D&&T(N,D),N}}(),d=o(0),m=w(d),h=o(1),g=w(h),x=o(23),v=b(x);function b(T){if(T&&T.__esModule)return T;var N={};if(T!=null)for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(N[O]=T[O]);return N.default=T,N}function w(T){return T&&T.__esModule?T:{default:T}}function E(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function j(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function k(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var A=function(T){k(N,T);function N(){return E(this,N),j(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return u(N,[{key:"render",value:function(){var D=this.props,G=D.points,F=D.margin,W=D.type,P=D.style,q=D.value,V=G.map(function(ae){return ae.y}),Z=W=="custom"?q:v[W](V);return g.default.createElement("line",{x1:G[0].x,y1:Z+F,x2:G[G.length-1].x,y2:Z+F,style:P})}}]),N}(g.default.Component);A.propTypes={type:m.default.oneOf(["max","min","mean","avg","median","custom"]),value:m.default.number,style:m.default.object},A.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},s.default=A},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.variance=s.stdev=s.median=s.midRange=s.avg=s.mean=s.max=s.min=void 0;var u=o(7),d=A(u),m=o(3),h=A(m),g=o(24),x=A(g),v=o(25),b=A(v),w=o(10),E=A(w),j=o(26),k=A(j);function A(T){return T&&T.__esModule?T:{default:T}}s.min=d.default,s.max=d.default,s.mean=h.default,s.avg=h.default,s.midRange=x.default,s.median=b.default,s.stdev=E.default,s.variance=k.default},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(7),d=g(u),m=o(9),h=g(m);function g(x){return x&&x.__esModule?x:{default:x}}s.default=function(x){return(0,h.default)(x)-(0,d.default)(x)/2}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return u.sort(function(d,m){return d-m})[Math.floor(u.length/2)]}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(3),d=m(u);function m(h){return h&&h.__esModule?h:{default:h}}s.default=function(h){var g=(0,d.default)(h),x=h.map(function(v){return Math.pow(v-g,2)});return(0,d.default)(x)}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function N(O,D){for(var G=0;G<D.length;G++){var F=D[G];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,D,G){return D&&N(O.prototype,D),G&&N(O,G),O}}(),d=o(0),m=E(d),h=o(1),g=E(h),x=o(3),v=E(x),b=o(10),w=E(b);function E(N){return N&&N.__esModule?N:{default:N}}function j(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function k(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function A(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var T=function(N){A(O,N);function O(){return j(this,O),k(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return u(O,[{key:"render",value:function(){var G=this.props,F=G.points,W=G.margin,P=G.style,q=F.map(function(ae){return ae.y}),V=(0,v.default)(q),Z=(0,w.default)(q);return g.default.createElement("rect",{x:F[0].x,y:V-Z+W,width:F[F.length-1].x-F[0].x,height:w.default*2,style:P})}}]),O}(g.default.Component);T.propTypes={style:m.default.object},T.defaultProps={style:{fill:"red",fillOpacity:.1}},s.default=T},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(7),d=g(u),m=o(9),h=g(m);function g(x){return x&&x.__esModule?x:{default:x}}s.default=function(x){var v=x.data,b=x.limit,w=x.width,E=w===void 0?1:w,j=x.height,k=j===void 0?1:j,A=x.margin,T=A===void 0?0:A,N=x.max,O=N===void 0?(0,h.default)(v):N,D=x.min,G=D===void 0?(0,d.default)(v):D,F=v.length;b&&b<F&&(v=v.slice(F-b));var W=(k-T*2)/(O-G||2),P=(E-T*2)/((b||F)-(F>1?1:0));return v.map(function(q,V){return{x:V*P+T,y:(O===G?1:O-q)*W+T}})}}])})}(Co)),Co.exports}var hx=bN();const wN=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),Tl=({buttonMode:e,activeMode:n,onClick:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${n===e?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i});function Rd(e,n,r=!1,i=""){const s=e-n;let o=s>0,u=s<0,d=s===0||isNaN(s),m=d?"text-slate-400":o?"text-green-600":"text-red-500",h=d?"":o?"":"",g=r?o?"+":u?"-":"":"",x=r?Math.abs(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):Math.abs(s);return f.jsxs("span",{className:`ml-2 text-xs font-semibold flex items-center gap-1 ${m}`,children:[h," ",g,x,i&&f.jsx("span",{className:"ml-0.5",children:i})]})}function yo(e,n){return f.jsx("div",{className:"w-20 h-6 mt-1",children:f.jsx(hx.Sparklines,{data:e,width:80,height:20,margin:4,children:f.jsx(hx.SparklinesLine,{color:n,style:{strokeWidth:2,fill:"none"}})})})}function Od(e,n){var s;if(!Array.isArray(e)||e.length===0)return[0,0];let r=((s=e[e.length-1])==null?void 0:s[n])??0,i=0;for(let o=e.length-2;o>=0;o--)if(e[o][n]!==r){i=e[o][n];break}return[r,i]}const kN=e=>{const{updateTokenUsage:n,apiKey:r,apiStatus:i,allTrades:s=[],mode:o="all",setDashboardSource:u=()=>{},initialCapital:d=0,user:m=null}=e;console.log("Dashboard props",{allTrades:s,initialCapital:d,mode:o,user:m});const[h,g]=M.useState(""),[x,v]=M.useState(!0),[b,w]=M.useState(!1),[E,j]=M.useState(0),[k,A]=M.useState(0),[T,N]=M.useState(!1),O=M.useMemo(()=>({scalp:s.filter(ee=>ee.mode==="scalp"),swing:s.filter(ee=>ee.mode==="swing"),day:s.filter(ee=>ee.mode==="day"),position:s.filter(ee=>ee.mode==="position")}),[s]),D=M.useMemo(()=>o==="all"?s||[]:O[o]||[],[o,s,O]),G=M.useMemo(()=>iS(s||[])||{},[s]),F=M.useMemo(()=>{const ee=D.filter(ye=>ye.status!=="pending"),ue=ee.filter(ye=>ye.status==="profit").length,me=ee.filter(ye=>ye.status==="stop-loss").length,pe=ue+me;return{winRate:pe>0?Math.round(ue/pe*100):0,wins:ue,losses:me,totalCompleted:pe}},[D]);M.useEffect(()=>{g(""),v(!0)},[r]);const W=["all","scalp","day","swing","position"],P={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},q=W.map(ee=>{const ue=ee==="all"?s||[]:(s||[]).filter(ve=>ve.mode===ee),me=ue.filter(ve=>ve.status!=="pending"),pe=me.filter(ve=>ve.status==="profit").length,ge=me.filter(ve=>ve.status==="stop-loss").length,ye=pe+ge,He=ye>0?Math.round(pe/ye*100):0,st=me.reduce((ve,et)=>et.status==="profit"?ve+(et.outcomeAmount||0):et.status==="stop-loss"?ve-(et.outcomeAmount||0):ve,0),jt=ee==="all"?d??0:0,Ln=ee==="all"?(d??0)+st:0;return{mode:P[ee],initialCapital:jt,netPL:st,currentEquity:Ln,totalTrades:ue.length,winRate:He,wins:pe,losses:ge,completed:ye}}),V=sS(s||[]),Z=oS(s||[]);M.useEffect(()=>{if(o!=="all")return;const ee=SN(q),ue=localStorage.getItem("fomo-ai-analysis"),me=localStorage.getItem("fomo-ai-hash");if(ue&&me===ee){g(ue),v(!1);return}(async()=>{if(i!=="valid"){g("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),v(!1);return}v(!0),A(0),N(!1);let ge=0,ye=!1,He="";for(;!ye;)try{ge++,ge>1&&(N(!0),A(ge-1));const{analysisText:st,usage:jt}=await YS(r||"","");g(st),localStorage.setItem("fomo-ai-analysis",st),localStorage.setItem("fomo-ai-hash",ee),n&&n(jt),ye=!0,N(!1)}catch(st){if(He=st instanceof Error?st.message:String(st),He.toLowerCase().includes("internal error")||He.toLowerCase().includes("500")||He.toLowerCase().includes("an internal error has occurred")){N(!0),A(ge),await new Promise(jt=>setTimeout(jt,2e3));continue}else{let jt="Terjadi kesalahan saat mengambil analisis AI.";He&&(jt+=`

Detail: `+He),g(jt),N(!1);break}}v(!1),N(!1)})()},[r,i,o,E,q]);const ae=()=>{localStorage.removeItem("fomo-ai-analysis"),localStorage.removeItem("fomo-ai-hash"),j(ee=>ee+1)};let ce=null;G&&typeof G.image=="function"&&(ce=sa.createElement(G.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"}));const X=D.filter(ee=>ee.status!=="pending").reduce((ee,ue)=>ue.status==="profit"?ee+(ue.outcomeAmount||0):ue.status==="stop-loss"?ee-(ue.outcomeAmount||0):ee,0),oe=(d??0)+X,te=dS(s,d,7),S=Array.isArray(te)&&te.length>0?te:[{equity:0,netPL:0,totalTrades:0}],[H,I]=Od(S,"equity"),[R,se]=Od(S,"netPL"),[he,z]=Od(S,"totalTrades");return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-4 sm:pb-8 w-full bg-gray-50 dark:bg-slate-900",children:[b&&f.jsx(mS,{profile:G,winRate:F.winRate,totalTrades:F.totalCompleted,onClose:()=>w(!1)}),f.jsxs("header",{className:"flex flex-col gap-4 mb-2 sm:mb-4",children:[f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mt-2 sm:mt-0",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>w(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:ce})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),f.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",f.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:o==="all"?"All":o})," trading history."]})]})]})}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[f.jsx(Tl,{buttonMode:"all",activeMode:o||"all",onClick:u,children:"All"}),f.jsx(Tl,{buttonMode:"scalp",activeMode:o||"all",onClick:u,children:"Scalp"}),f.jsx(Tl,{buttonMode:"day",activeMode:o||"all",onClick:u,children:"Day"}),f.jsx(Tl,{buttonMode:"swing",activeMode:o||"all",onClick:u,children:"Swing"}),f.jsx(Tl,{buttonMode:"position",activeMode:o||"all",onClick:u,children:"Position"})]})]}),f.jsxs("main",{className:"flex flex-col gap-5 md:gap-7",children:[f.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 md:p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row items-center md:items-start gap-6 w-full max-w-5xl mx-auto",children:f.jsxs("div",{className:"w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-[3fr_1fr] gap-3 items-start",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[f.jsxs("div",{className:"bg-violet-50 dark:bg-violet-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Initial Capital"}),f.jsxs("span",{className:"text-2xl font-bold text-violet-600 dark:text-violet-400",children:["$",(d??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1"}),yo(S.map(ee=>ee.equity),H>=I?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Net P/L"}),f.jsxs("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[X>=0?"+":"",X.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Rd(R,se,!0,"$")}),yo(S.map(ee=>ee.netPL),R>=se?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Current Equity"}),f.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",oe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Rd(X,0,!0,"$")}),yo(S.map(ee=>ee.equity),H>=I?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Total Trades Analyzed"}),f.jsx("span",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:s.length})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Rd(he,z,!1,"trades")}),yo(S.map(ee=>ee.totalTrades),he>=z?"#22c55e":"#ef4444")]})]})]}),f.jsx("div",{className:"flex justify-center md:justify-end w-full items-start",children:f.jsx("div",{className:"self-start m-0 p-0",children:f.jsx(yN,{data:[{name:"Win",value:F.wins},{name:"Loss",value:F.losses},{name:"Other",value:Math.max(0,F.totalCompleted-F.wins-F.losses)}],theme:document.documentElement.classList.contains("dark")?"dark":"light",winRate:F.winRate,totalCompleted:F.totalCompleted})})})]})}),o==="all"&&f.jsxs(f.Fragment,{children:[f.jsx(gN,{advancedMetrics:V,psychologyMetrics:Z}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mt-2",children:[f.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[f.jsx(Hl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),f.jsx("button",{onClick:ae,className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:x,title:"Refresh AI Analysis",children:"Refresh"})]}),x&&f.jsxs("div",{className:"my-6",children:[f.jsx(wN,{}),T&&f.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400 text-center",children:["Retrying... percobaan ke-",k]})]}),!x&&(h&&(h.toLowerCase().includes("error")||h.toLowerCase().includes("unavailable")||h.toLowerCase().includes("failed")||h.toLowerCase().includes("quota")||h.toLowerCase().includes("terjadi kesalahan"))?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:h}),f.jsxs("button",{onClick:ae,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:x,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):f.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:f.jsx(Bf,{children:String(h||""),remarkPlugins:[$f]})}))]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:f.jsx(Gk,{history:D})})]})]})};function SN(e){return btoa(unescape(encodeURIComponent(JSON.stringify(e))))}const _N=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],mx=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],EN=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:_N.map((e,n)=>{const r=60+Math.random()*90,i=mx[n%mx.length];return f.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${r}px`,height:`${r}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,r/6)}px`},children:e},e)})}),f.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),jN=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:f.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),f.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),f.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),f.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),f.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),f.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),f.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),f.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),f.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),Dd=({icon:e,title:n,description:r})=>f.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-5 md:p-7 rounded-xl shadow-md border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1 hover:shadow-lg hover:ring-2 hover:ring-violet-200 dark:hover:ring-violet-700",children:[f.jsx("div",{className:"flex items-center justify-center h-12 w-12 md:h-16 md:w-16 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:f.jsx("div",{className:"w-7 h-7 md:w-9 md:h-9",children:e})}),f.jsx("h3",{className:"mt-5 text-base md:text-lg font-semibold text-slate-800 dark:text-slate-100",children:n}),f.jsx("p",{className:"mt-2 text-sm md:text-base text-slate-500 dark:text-slate-400 leading-relaxed",children:r})]}),TN=({onNavigate:e,user:n,onLoginClick:r})=>(console.log("HomePage rendered, user:",n,"onLoginClick:",typeof r),f.jsxs("div",{className:"flex-1 w-full flex flex-col pt-8 md:pt-12 px-4 md:px-8 pb-8",children:[f.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[f.jsx(EN,{}),f.jsx(jN,{}),f.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",f.jsx("br",{}),f.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),f.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),!n&&f.jsx("button",{onClick:()=>{console.log("Get Started button clicked"),r&&r()},className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),f.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:f.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),f.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-7 md:gap-10 max-w-7xl mx-auto justify-items-stretch",children:[f.jsx(Dd,{icon:f.jsx(Hl,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),f.jsx(Dd,{icon:f.jsx(cy,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),f.jsx(Dd,{icon:f.jsx(Wk,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]})),AN="modulepreload",NN=function(e){return"/fomo/"+e},px={},es=function(n,r,i){let s=Promise.resolve();if(r&&r.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(r.map(h=>{if(h=NN(h),h in px)return;px[h]=!0;const g=h.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":AN,g||(v.as="script"),v.crossOrigin="",v.href=h,m&&v.setAttribute("nonce",m),document.head.appendChild(v),g)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return n().catch(o)})},CN=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>es(async()=>{const{default:i}=await Promise.resolve().then(()=>Si);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class Ff extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class RN extends Ff{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class gx extends Ff{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class xx extends Ff{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var lf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lf||(lf={}));var ON=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};class DN{constructor(n,{headers:r={},customFetch:i,region:s=lf.Any}={}){this.url=n,this.headers=r,this.region=s,this.fetch=CN(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return ON(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:u}=r;let d={},{region:m}=r;m||(m=this.region);const h=new URL(`${this.url}/${n}`);m&&m!=="any"&&(d["x-region"]=m,h.searchParams.set("forceFunctionRegion",m));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const x=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(E=>{throw new RN(E)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new gx(x);if(!x.ok)throw new xx(x);let b=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield x.json():b==="application/octet-stream"?w=yield x.blob():b==="text/event-stream"?w=x:b==="multipart/form-data"?w=yield x.formData():w=yield x.text(),{data:w,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof xx||s instanceof gx?s.context:void 0}}})}}var wt={},ei={},ti={},ni={},ri={},ai={},MN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xi=MN();const LN=xi.fetch,_v=xi.fetch.bind(xi),Ev=xi.Headers,PN=xi.Request,zN=xi.Response,Si=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ev,Request:PN,Response:zN,default:_v,fetch:LN},Symbol.toStringTag,{value:"Module"})),UN=sw(Si);var vo={},yx;function jv(){if(yx)return vo;yx=1,Object.defineProperty(vo,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vo.default=e,vo}var vx;function Tv(){if(vx)return ai;vx=1;var e=ai&&ai.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ai,"__esModule",{value:!0});const n=e(UN),r=e(jv());class i{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,x,v,b;let w=null,E=null,j=null,k=h.status,A=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const N=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),O=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&O&&O.length>1&&(j=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,j=null,k=406,A="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const N=await h.text();try{w=JSON.parse(N),Array.isArray(w)&&h.status===404&&(E=[],w=null,k=200,A="OK")}catch{h.status===404&&N===""?(k=204,A="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,k=200,A="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:E,count:j,status:k,statusText:A}});return this.shouldThrowOnError||(m=m.catch(h=>{var g,x,v;return{error:{message:`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(x=h==null?void 0:h.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),m.then(o,u)}returns(){return this}overrideTypes(){return this}}return ai.default=i,ai}var bx;function Av(){if(bx)return ri;bx=1;var e=ri&&ri.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ri,"__esModule",{value:!0});const n=e(Tv());class r extends n.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:m=d}={}){const h=m?`${m}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(h,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:m=!1,format:h="text"}={}){var g;const x=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${x};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ri.default=r,ri}var wx;function Gf(){if(wx)return ni;wx=1;var e=ni&&ni.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ni,"__esModule",{value:!0});const n=e(Av());class r extends n.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let m="";d==="plain"?m="pl":d==="phrase"?m="ph":d==="websearch"&&(m="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${m}fts${h}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return ni.default=r,ni}var kx;function Nv(){if(kx)return ti;kx=1;var e=ti&&ti.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ti,"__esModule",{value:!0});const n=e(Gf());class r{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(s,{head:o=!1,count:u}={}){const d=o?"HEAD":"GET";let m=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:u=!0}={}){var d;const m="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(h.length>0){const g=[...new Set(h)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:m=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var o;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ti.default=r,ti}var Sx;function BN(){if(Sx)return ei;Sx=1;var e=ei&&ei.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ei,"__esModule",{value:!0});const n=e(Nv()),r=e(Gf());class i{constructor(o,{headers:u={},schema:d,fetch:m}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=m}from(o){const u=new URL(`${this.url}/${o}`);return new n.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:m=!1,count:h}={}){var g;let x;const v=new URL(`${this.url}/rpc/${o}`);let b;d||m?(x=d?"HEAD":"GET",Object.entries(u).filter(([E,j])=>j!==void 0).map(([E,j])=>[E,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([E,j])=>{v.searchParams.append(E,j)})):(x="POST",b=u);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new r.default({method:x,url:v,headers:w,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return ei.default=i,ei}var _x;function IN(){if(_x)return wt;_x=1;var e=wt&&wt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const n=e(BN());wt.PostgrestClient=n.default;const r=e(Nv());wt.PostgrestQueryBuilder=r.default;const i=e(Gf());wt.PostgrestFilterBuilder=i.default;const s=e(Av());wt.PostgrestTransformBuilder=s.default;const o=e(Tv());wt.PostgrestBuilder=o.default;const u=e(jv());return wt.PostgrestError=u.default,wt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},wt}var HN=IN();const qN=Vl(HN),{PostgrestClient:$N,PostgrestQueryBuilder:p5,PostgrestFilterBuilder:g5,PostgrestTransformBuilder:x5,PostgrestBuilder:y5,PostgrestError:v5}=qN;function FN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const GN=FN(),YN="2.11.15",VN=`realtime-js/${YN}`,KN="1.0.0",Cv=1e4,XN=1e3;var Pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pl||(Pl={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var kn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kn||(kn={}));var sf;(function(e){e.websocket="websocket"})(sf||(sf={}));var la;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(la||(la={}));class QN{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const s=r.getUint8(1),o=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(n.slice(u,u+s));u=u+s;const m=i.decode(n.slice(u,u+o));u=u+o;const h=JSON.parse(i.decode(n.slice(u,n.byteLength)));return{ref:null,topic:d,event:m,payload:h}}}class Rv{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const Ex=(e,n,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,u)=>(o[u]=JN(u,e,n,s),o),{})},JN=(e,n,r,i)=>{const s=n.find(d=>d.name===e),o=s==null?void 0:s.type,u=r[e];return o&&!i.includes(o)?Ov(o,u):of(u)},Ov=(e,n)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return tC(n,r)}switch(e){case We.bool:return WN(n);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return ZN(n);case We.json:case We.jsonb:return eC(n);case We.timestamp:return nC(n);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return of(n);default:return of(n)}},of=e=>e,WN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZN=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},eC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},tC=(e,n)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let o;const u=e.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>Ov(n,d))}return e},nC=e=>typeof e=="string"?e.replace(" ","T"):e,Dv=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Md{constructor(n,r,i={},s=Cv){this.channel=n,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var jx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jx||(jx={}));class zl{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,s,o,u),this.pendingDiffs.forEach(m=>{this.state=zl.syncDiff(this.state,m,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zl.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,s){const o=this.cloneDeep(n),u=this.transformState(r),d={},m={};return this.map(o,(h,g)=>{u[h]||(m[h]=g)}),this.map(u,(h,g)=>{const x=o[h];if(x){const v=g.map(j=>j.presence_ref),b=x.map(j=>j.presence_ref),w=g.filter(j=>b.indexOf(j.presence_ref)<0),E=x.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(d[h]=w),E.length>0&&(m[h]=E)}else d[h]=g}),this.syncDiff(o,{joins:d,leaves:m},i,s)}static syncDiff(n,r,i,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(d,m)=>{var h;const g=(h=n[d])!==null&&h!==void 0?h:[];if(n[d]=this.cloneDeep(m),g.length>0){const x=n[d].map(b=>b.presence_ref),v=g.filter(b=>x.indexOf(b.presence_ref)<0);n[d].unshift(...v)}i(d,g,m)}),this.map(u,(d,m)=>{let h=n[d];if(!h)return;const g=m.map(x=>x.presence_ref);h=h.filter(x=>g.indexOf(x.presence_ref)<0),n[d]=h,s(d,h,m),h.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const s=n[i];return"metas"in s?r[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=s,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tx||(Tx={}));var Ax;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ax||(Ax={}));var Zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Yf{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,kn.join,this.params,this.timeout),this.rejoinTimer=new Rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new zl(this),this.broadcastEndpointURL=Dv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params;this._onError(g=>n==null?void 0:n(Zn.CHANNEL_ERROR,g)),this._onClose(()=>n==null?void 0:n(Zn.CLOSED));const m={},h={broadcast:o,presence:u,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){n==null||n(Zn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,w=[];for(let E=0;E<b;E++){const j=v[E],{filter:{event:k,schema:A,table:T,filter:N}}=j,O=g&&g[E];if(O&&O.event===k&&O.schema===A&&O.table===T&&O.filter===N)w.push(Object.assign(Object.assign({},j),{id:O.id}));else{this.unsubscribe(),this.state=Rt.errored,n==null||n(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,n&&n(Zn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Rt.errored,n==null||n(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this._on(n,r,i)}async send(n,r={}){var i,s;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:u}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,m;const h=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Md(this,kn.leave,{},n),i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,r,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),u=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Md(this,n,r,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var s,o;const u=n.toLocaleLowerCase(),{close:d,error:m,leave:h,join:g}=kn;if(i&&[d,m,h,g].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,r,i);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var w,E,j;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(E=b.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(b=>b.callback(v,i)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var w,E,j,k,A,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const N=b.id,O=(w=b.filter)===null||w===void 0?void 0:w.event;return N&&((E=r.ids)===null||E===void 0?void 0:E.includes(N))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const N=(A=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return N==="*"||N===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:E,table:j,commit_timestamp:k,type:A,errors:T}=w;v=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:k,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(w))}b.callback(v,i)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const s=n.toLocaleLowerCase(),o={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Yf.isEqual(s.filter,r))}),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(kn.close,{},n)}_onError(n){this._on(kn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=Ex(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=Ex(n.columns,n.old_record)),r}}const Nx=()=>{},rC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aC{constructor(n,r){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nx,this.ref=0,this.logger=Nx,this.conn=null,this.sendBuffer=[],this.serializer=new QN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>es(async()=>{const{default:m}=await Promise.resolve().then(()=>Si);return{default:m}},void 0).then(({default:m})=>m(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${n}/${sf.websocket}`,this.httpEndpoint=Dv(n),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,u)=>u(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=GN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KN}))}disconnect(n,r){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return la.Connecting;case Pl.open:return la.Open;case Pl.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}channel(n,r={config:{}}){const i=`realtime:${n}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new Yf(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:i,payload:s,ref:o}=n,u=()=>{this.encode(n,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${r} ${i} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(n=null){let r=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:VN};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(kn.access_token,{access_token:r})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(XN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,r=>{let{topic:i,event:s,payload:o,ref:u}=r;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${s} ${u&&"("+u+")"||""}`,o),Array.from(this.channels).filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,u)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(kn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${n}${i}${s}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([rC],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class Vf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iC extends Vf{constructor(n,r){super(n),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uf extends Vf{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var lC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};const Mv=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>es(async()=>{const{default:i}=await Promise.resolve().then(()=>Si);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},sC=()=>lC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>Si),void 0)).Response:Response}),cf=e=>{if(Array.isArray(e))return e.map(r=>cf(r));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[s]=cf(i)}),n};var da=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};const Ld=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oC=(e,n,r)=>da(void 0,void 0,void 0,function*(){const i=yield sC();e instanceof i&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{n(new iC(Ld(s),e.status||500))}).catch(s=>{n(new uf(Ld(s),s))}):n(new uf(Ld(e),e))}),uC=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),r))};function ts(e,n,r,i,s,o){return da(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,uC(n,i,s,o)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>oC(m,d,i))})})}function Po(e,n,r,i){return da(this,void 0,void 0,function*(){return ts(e,"GET",n,r,i)})}function Or(e,n,r,i,s){return da(this,void 0,void 0,function*(){return ts(e,"POST",n,i,s,r)})}function cC(e,n,r,i,s){return da(this,void 0,void 0,function*(){return ts(e,"PUT",n,i,s,r)})}function dC(e,n,r,i){return da(this,void 0,void 0,function*(){return ts(e,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Lv(e,n,r,i,s){return da(this,void 0,void 0,function*(){return ts(e,"DELETE",n,i,s,r)})}var Ft=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};const fC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hC{constructor(n,r={},i,s){this.url=n,this.headers=r,this.bucketId=i,this.fetch=Mv(s)}uploadOrUpdate(n,r,i,s){return Ft(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},Cx),s);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl),m&&o.append("metadata",this.encodeMetadata(m))):(o=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),x=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:n,body:o,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),v=yield x.json();return x.ok?{data:{path:h,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}upload(n,r,i){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,s){return Ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let m;const h=Object.assign({upsert:Cx.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",h.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",h.cacheControl)):(m=i,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const x=yield this.fetch(d.toString(),{method:"PUT",body:m,headers:g}),v=yield x.json();return x.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(m){if(kt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,r){return Ft(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Or(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Vf("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:d},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}update(n,r,i){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return Ft(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(n,r,i){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(n,r,i){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n),o=yield Or(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrls(n,r,i){return Ft(this,void 0,void 0,function*(){try{const s=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}download(n,r){return Ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(n);return{data:yield(yield Po(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(kt(d))return{data:null,error:d};throw d}})}info(n){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Po(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cf(i),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}exists(n){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield dC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(kt(i)&&i instanceof uf){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});m!==""&&s.push(m);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${h}`)}}}remove(n){return Ft(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}list(n,r,i){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fC),r),{prefix:n||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const mC="2.7.1",pC={"X-Client-Info":`storage-js/${mC}`};var ii=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};class gC{constructor(n,r={},i){this.url=n,this.headers=Object.assign(Object.assign({},pC),r),this.fetch=Mv(i)}listBuckets(){return ii(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}getBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield Po(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return ii(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return ii(this,void 0,void 0,function*(){try{return{data:yield cC(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ii(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}}class xC extends gC{constructor(n,r={},i){super(n,r,i)}from(n){return new hC(this.url,this.headers,n,this.fetch)}}const yC="2.50.4";let Rl="";typeof Deno<"u"?Rl="deno":typeof document<"u"?Rl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rl="react-native":Rl="node";const vC={"X-Client-Info":`supabase-js-${Rl}/${yC}`},bC={headers:vC},wC={schema:"public"},kC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SC={};var _C=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};const EC=e=>{let n;return e?n=e:typeof fetch>"u"?n=_v:n=fetch,(...r)=>n(...r)},jC=()=>typeof Headers>"u"?Ev:Headers,TC=(e,n,r)=>{const i=EC(r),s=jC();return(o,u)=>_C(void 0,void 0,void 0,function*(){var d;const m=(d=yield n())!==null&&d!==void 0?d:e;let h=new s(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${m}`),i(o,Object.assign(Object.assign({},u),{headers:h}))})};var AC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};function NC(e){return e.endsWith("/")?e:e+"/"}function CC(e,n){var r,i;const{db:s,auth:o,realtime:u,global:d}=e,{db:m,auth:h,realtime:g,global:x}=n,v={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>AC(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const Pv="2.70.0",ci=30*1e3,df=3,Pd=df*ci,RC="http://localhost:9999",OC="supabase.auth.token",DC={"X-Client-Info":`gotrue-js/${Pv}`},ff="X-Supabase-Api-Version",zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LC=6e5;class Kf extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PC extends Kf{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function zC(e){return Te(e)&&e.name==="AuthApiError"}class Uv extends Kf{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class zr extends Kf{constructor(n,r,i,s){super(n,i,s),this.name=r,this.status=i}}class Cr extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UC(e){return Te(e)&&e.name==="AuthSessionMissingError"}class bo extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends zr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ko extends zr{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BC(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rx extends zr{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hf extends zr{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function zd(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class Ox extends zr{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Ul extends zr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dx=` 	
\r=`.split(""),IC=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Dx.length;n+=1)e[Dx[n].charCodeAt(0)]=-2;for(let n=0;n<zo.length;n+=1)e[zo[n].charCodeAt(0)]=n;return e})();function Mx(e,n,r){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(zo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(zo[i]),n.queuedBits-=6}}function Bv(e,n,r){const i=IC[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lx(e){const n=[],r=u=>{n.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{$C(u,i,r)};for(let u=0;u<e.length;u+=1)Bv(e.charCodeAt(u),s,o);return n.join("")}function HC(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qC(e,n){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HC(i,n)}}function $C(e,n,r){if(n.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function FC(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};for(let s=0;s<e.length;s+=1)Bv(e.charCodeAt(s),r,i);return new Uint8Array(n)}function GC(e){const n=[];return qC(e,r=>n.push(r)),new Uint8Array(n)}function YC(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};return e.forEach(s=>Mx(s,r,i)),Mx(null,r,i),n.join("")}function VC(e){return Math.round(Date.now()/1e3)+e}function KC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const wn=()=>typeof window<"u"&&typeof document<"u",aa={tested:!1,writable:!1},Bl=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aa.tested)return aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),aa.tested=!0,aa.writable=!0}catch{aa.tested=!0,aa.writable=!1}return aa.writable};function XC(e){const n={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{n[o]=s})}catch{}return r.searchParams.forEach((i,s)=>{n[s]=i}),n}const Iv=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>es(async()=>{const{default:i}=await Promise.resolve().then(()=>Si);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},QC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hv=async(e,n,r)=>{await e.setItem(n,JSON.stringify(r))},So=async(e,n)=>{const r=await e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_o=async(e,n)=>{await e.removeItem(n)};class Yo{constructor(){this.promise=new Yo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Yo.promiseConstructor=Promise;function Ud(e){const n=e.split(".");if(n.length!==3)throw new Ul("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!MC.test(n[i]))throw new Ul("JWT not in base64url format");return{header:JSON.parse(Lx(n[0])),payload:JSON.parse(Lx(n[1])),signature:FC(n[2]),raw:{header:n[0],payload:n[1]}}}async function JC(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function WC(e,n){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!n(o,null,u)){i(u);return}}catch(u){if(!n(o,u)){s(u);return}}})()})}function ZC(e){return("0"+e.toString(16)).substr(-2)}function e4(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(n),Array.from(n,ZC).join("")}async function t4(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function n4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(e,n,r=!1){const i=e4();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await Hv(e,`${n}-code-verifier`,s);const o=await n4(i);return[o,i===o?"plain":"s256"]}const r4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a4(e){const n=e.headers.get(ff);if(!n||!n.match(r4))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function i4(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function l4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const s4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(e){if(!s4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var o4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};const ia=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u4=[502,503,504];async function Px(e){var n;if(!QC(e))throw new hf(ia(e),0);if(u4.includes(e.status))throw new hf(ia(e),e.status);let r;try{r=await e.json()}catch(o){throw new Uv(ia(o),o)}let i;const s=a4(e);if(s&&s.getTime()>=zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Ox(ia(r),e.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Ox(ia(r),e.status,r.weak_password.reasons);throw new PC(ia(r),e.status||500,i)}const c4=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function Me(e,n,r,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[ff]||(o[ff]=zv["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await d4(e,n,r+d,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function d4(e,n,r,i,s,o){const u=c4(n,i,s,o);let d;try{d=await e(r,Object.assign({},u))}catch(m){throw console.error(m),new hf(ia(m),0)}if(d.ok||await Px(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(m){await Px(m)}}function Wn(e){var n;let r=null;p4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VC(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:r,user:i},error:null}}function zx(e){const n=Wn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Dr(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function f4(e){return{data:e,error:null}}function h4(e){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o}=e,u=o4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o},m=Object.assign({},u);return{data:{properties:d,user:m},error:null}}function m4(e){return e}function p4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bd=["global","local","others"];var g4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class x4{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Iv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Bd[0]){if(Bd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bd.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dr})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=g4(n,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:h4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Dr})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,s,o,u,d,m;try{const h={nextPage:null,lastPage:0,total:0},g=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=n==null?void 0:n.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:m4});if(g.error)throw g.error;const x=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(m=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);h[`${j}Page`]=E}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},x),h),error:null}}catch(h){if(Te(h))return{data:{users:[]},error:h};throw h}}async getUserById(n){si(n);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Dr})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){si(n);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Dr})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){si(n);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dr})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){si(n.userId);try{const{data:r,error:i}=await Me(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(n){si(n.userId),si(n.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const y4={getItem:e=>Bl()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Bl()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Bl()&&globalThis.localStorage.removeItem(e)}};function Ux(e={}){return{getItem:n=>e[n]||null,setItem:(n,r)=>{e[n]=r},removeItem:n=>{delete e[n]}}}function v4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oi={debug:!!(globalThis&&Bl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class b4 extends qv{}async function w4(e,n,r){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(n===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}v4();const k4={url:RC,storageKey:OC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bx(e,n,r){return await r()}class Yl{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yl.nextInstanceID,Yl.nextInstanceID+=1,this.instanceID>0&&wn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},k4),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new x4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Iv(s.fetch),this.lock=s.lock||Bx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:wn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w4:this.lock=Bx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Bl()?this.storage=y4:(this.memoryStorage={},this.storage=Ux(this.memoryStorage)):(this.memoryStorage={},this.storage=Ux(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pv}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=XC(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),wn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),BC(o)){const m=(n=o.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Uv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,s;try{const o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.captchaToken}},xform:Wn}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const m=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var r,i,s;try{let o;if("email"in n){const{email:g,password:x,options:v}=n;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await li(this.storage,this.storageKey)),o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:x,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:w},xform:Wn})}else if("phone"in n){const{phone:g,password:x,options:v}=n;o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Wn})}else throw new wo("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const m=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:u,options:d}=n;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:zx})}else if("phone"in n){const{phone:o,password:u,options:d}=n;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:zx})}else throw new wo("You must provide either an email or phone number and a password");const{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new bo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,s,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,s,o,u,d,m,h,g,x,v,b;let w,E;if("message"in n)w=n.message,E=n.signature;else{const{chain:j,wallet:k,statement:A,options:T}=n;let N;if(wn())if(typeof k=="object")N=k;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))N=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const O=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const D=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),A?{statement:A}:null));let G;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")G=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)G=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)w=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),E=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${O.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(i=T==null?void 0:T.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((x=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...T.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const D=await N.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:j,error:k}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:YC(E)},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Wn});if(k)throw k;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new bo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:k})}catch(j){if(Te(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(n){const r=await So(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{const{data:o,error:u}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Wn});if(await _o(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new bo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:r,provider:i,token:s,access_token:o,nonce:u}=n,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wn}),{data:m,error:h}=d;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new bo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:h})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,s,o,u;try{if("email"in n){const{email:d,options:m}=n;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await li(this.storage,this.storageKey));const{error:x}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:d,options:m}=n,{data:h,error:g}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new wo("You must provide either an email or phone number.")}catch(d){if(Te(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(n){var r,i;try{let s,o;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Wn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,h=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(n){var r,i,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await li(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=n==null?void 0:n.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:f4})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Cr;const{error:s}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:s,options:o}=n,{error:u}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in n){const{phone:i,type:s,options:o}=n,{data:u,error:d}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wo("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await So(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,h,g)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,h,g))})}return{data:{session:n},error:null}}const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Dr}):await this._useSession(async r=>{var i,s,o;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cr}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Dr})})}catch(r){if(Te(r))return UC(r)&&(await this._removeSession(),await _o(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Cr;const u=s.session;let d=null,m=null;this.flowType==="pkce"&&n.email!=null&&([d,m]=await li(this.storage,this.storageKey));const{data:h,error:g}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:m}),jwt:u.access_token,xform:Dr});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Cr;const r=Date.now()/1e3;let i=r,s=!0,o=null;const{payload:u}=Ud(n.access_token);if(u.exp&&(i=u.exp,s=i<=r),s){const{session:d,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:m}=await this._getUser(n.access_token);if(m)throw m;o={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:u,error:d}=r;if(d)throw d;n=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Cr;const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!wn())throw new ko("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ko(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ko("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Rx("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:m,token_type:h}=n;if(!o||!d||!u||!h)throw new ko("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let v=g+x;m&&(v=parseInt(m));const b=v-g;b*1e3<=ci&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const w=v-x;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,g);const{data:E,error:j}=await this._getUser(o);if(j)throw j;const k={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:v,refresh_token:u,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:n.type},error:null}}catch(i){if(Te(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await So(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{error:o};const u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,n);if(d&&!(zC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return n!=="others"&&(await this._removeSession(),await _o(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=KC(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await li(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:s}=await this._useSession(async o=>{var u,d,m,h,g;const{data:x,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(u=n.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=x.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return wn()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Te(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:u}=r;if(u)throw u;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await WC(async s=>(s>0&&await JC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wn})),(s,o)=>{const u=200*Math.pow(2,s);return o&&zd(o)&&Date.now()+u-i<ci})}catch(i){if(this._debug(r,"error",i),Te(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),wn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await So(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Pd;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Pd}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),zd(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yo;const{data:o,error:u}=await this._refreshAccessToken(n);if(u)throw u;if(!o.session)throw new Cr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Te(o)){const u={session:null,error:o};return zd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(n,r,i=!0){const s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(m){o.push(m)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Hv(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await _o(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&wn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ci);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-n)/ci);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ci}ms, refresh threshold is ${df} ticks`),s<=df&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof qv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await li(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${s.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Me(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:h}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(n.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:u,error:d}=await Me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(n==null?void 0:n.factors)||[],s=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ud(s.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(u=>u.kid===n);if(i||(i=this.jwks.keys.find(u=>u.kid===n),i&&this.jwks_cached_at+LC>Date.now()))return i;const{data:s,error:o}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ul("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(u=>u.kid===n),!i)throw new Ul("No matching signing key found in JWKS");return i}async getClaims(n,r={keys:[]}){try{let i=n;if(!i){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};i=b.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:m}}=Ud(i);if(i4(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:s,signature:u},error:null}}const h=l4(s.alg),g=await this.fetchJwk(s.kid,r),x=await crypto.subtle.importKey("jwk",g,h,!0,["verify"]);if(!await crypto.subtle.verify(h,x,u,GC(`${d}.${m}`)))throw new Ul("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}}Yl.nextInstanceID=0;const S4=Yl;class _4 extends S4{constructor(n){super(n)}}var E4=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{h(i.next(g))}catch(x){u(x)}}function m(g){try{h(i.throw(g))}catch(x){u(x)}}function h(g){g.done?o(g.value):s(g.value).then(d,m)}h((i=i.apply(e,n||[])).next())})};class j4{constructor(n,r,i){var s,o,u;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=NC(n),m=new URL(d);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const h=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:wC,realtime:SC,auth:Object.assign(Object.assign({},kC),{storageKey:h}),global:bC},x=CC(i??{},g);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=TC(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new $N(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new DN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xC(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return E4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,storageKey:o,flowType:u,lock:d,debug:m},h,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _4({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),h),storageKey:o,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,flowType:u,lock:d,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new aC(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T4=(e,n,r)=>new j4(e,n,r),A4="https://vqzivktsvicvbdsuouap.supabase.co",N4="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",lt=(e,n,r)=>{const i=`There was a problem trying to ${e} data for the '${n}' table.`,o=(d=>d?typeof d.message=="string"&&d.message?d.message:typeof d.message=="object"&&d.message!==null?JSON.stringify(d.message,null,2):typeof d=="object"&&d!==null?JSON.stringify(d,null,2):String(d):"Unknown error: The error object was falsy.")(r);if(o.toLowerCase().includes('column "user_id" does not exist')||o.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(o.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const u=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${n}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${u}

Technical Details:
${o}`},Ie=T4(A4,N4),C4=async(e,{email:n,password:r,nama:i})=>{try{const{data:s,error:o}=await e.auth.signUp({email:n,password:r,options:{data:{nama:i}}});if(o)throw o.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",o),new Error(`Failed to sign up: ${o.message}`));if(s.user&&!s.session)throw new Error("Please check your email to confirm your account before signing in.");return s}catch(s){throw console.error("Sign up error:",s),s}},R4=async(e,{email:n,password:r})=>{try{const{data:i,error:s}=await e.auth.signInWithPassword({email:n,password:r});if(s)throw console.error("Sign in error:",s),s.message.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):s.message.toLowerCase().includes("email not confirmed")?new Error("Please check your email and confirm your account before signing in."):s.message.toLowerCase().includes("too many requests")?new Error("Too many login attempts. Please wait a moment before trying again."):new Error(`Sign in failed: ${s.message}`);return i}catch(i){throw console.error("Sign in error:",i),i}},O4=async e=>{const{error:n}=await e.auth.signOut();if(n)throw n},D4=(e,n)=>{const{data:{subscription:r}}=e.auth.onAuthStateChange((i,s)=>{n(s)});return r},$v=async(e,n)=>{try{const{data:r,error:i}=await e.from("users").select("*").eq("id",n).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${n}. A new one may need to be created if this is unexpected.`),null;throw i}return r}catch(r){const i=lt(`fetch profile for user ${n}`,"users",r);return console.error(i),null}},M4=async(e,n)=>{const{data:r,error:i}=await e.from("trades").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(i){const s=lt("fetch","trades",i);throw console.error(s),new Error(s)}return(r||[]).map(s=>{var o,u,d,m,h;return{id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:{tradeType:((o=s.trade_setup)==null?void 0:o.tradeType)||"Long",entryPrice:Number((u=s.trade_setup)==null?void 0:u.entryPrice)||0,stopLoss:Number((d=s.trade_setup)==null?void 0:d.stopLoss)||0,takeProfit:Number((m=s.trade_setup)==null?void 0:m.takeProfit)||0,rrr:Number((h=s.trade_setup)==null?void 0:h.rrr)||0},rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}})},Ix=async(e,n,r)=>{const{error:i}=await e.from("users").update({initial_trade:r}).eq("id",n);if(i){const s=lt(`update initial capital for user ${n}`,"users",i);throw console.error(s),new Error(s)}},L4=async(e,n,r,i)=>{const{error:s}=await e.from("users").update({nama:r,describe:i}).eq("id",n);if(s){const o=lt(`update profile for user ${n}`,"users",s);throw console.error(o),new Error(o)}},Hx=async(e,n,r)=>{var d,m,h,g,x;const i={user_id:r,image:n.image,mode:n.mode,market_trend:n.marketTrend,key_pattern:n.keyPattern,indicator_analysis:n.indicatorAnalysis,trade_bias:n.tradeBias,trade_setup:n.tradeSetup,rationale:n.rationale,confidence_score:n.confidenceScore,status:n.status,outcome_amount:n.outcomeAmount??null},{data:s,error:o}=await e.from("trades").insert(i).select().single();if(o){const v=lt("add","trades",o);throw console.error(v),new Error(v)}if(!s)throw new Error("Failed to add trade: no data returned.");const u=s;return{id:u.id,timestamp:u.created_at,image:u.image,mode:u.mode,marketTrend:u.market_trend,keyPattern:u.key_pattern,indicatorAnalysis:u.indicator_analysis,tradeBias:u.trade_bias,tradeSetup:{tradeType:((d=u.trade_setup)==null?void 0:d.tradeType)||"Long",entryPrice:Number((m=u.trade_setup)==null?void 0:m.entryPrice)||0,stopLoss:Number((h=u.trade_setup)==null?void 0:h.stopLoss)||0,takeProfit:Number((g=u.trade_setup)==null?void 0:g.takeProfit)||0,rrr:Number((x=u.trade_setup)==null?void 0:x.rrr)||0},rationale:u.rationale,confidenceScore:u.confidence_score,status:u.status,outcomeAmount:u.outcome_amount??void 0,riskPerTrade:0}},P4=async(e,n,r,i,s)=>{const{error:o}=await e.from("trades").update({status:r,outcome_amount:i}).eq("id",n).eq("user_id",s);if(o){const u=lt(`update status for trade ${n}`,"trades",o);throw console.error(u),new Error(u)}},z4=async e=>{const{error:n}=await Ie.from("trades").delete().eq("id",e);if(n)throw n},U4=async(e,n)=>{const{data:r,error:i}=await e.from("portfolio_assets").select("*").eq("user_id",n).order("symbol",{ascending:!0});if(i){const s=lt("fetch portfolio assets","portfolio_assets",i);throw console.error(s),new Error(s)}return r||[]},B4=async(e,n,r)=>{const i={user_id:r,symbol:n.symbol,name:n.name,logo_url:n.logo_url||"",amount:n.amount,avg_buy_price:n.avg_buy_price,current_price:n.current_price},{data:s,error:o}=await e.from("portfolio_assets").insert(i).select().single();if(o){const u=lt("add portfolio asset","portfolio_assets",o);throw console.error(u),new Error(u)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},I4=async(e,n,r,i)=>{const{error:s}=await e.from("portfolio_assets").update(r).eq("id",n).eq("user_id",i);if(s){const o=lt(`update portfolio asset ${n}`,"portfolio_assets",s);throw console.error(o),new Error(o)}},H4=async(e,n,r)=>{const{error:i}=await e.from("portfolio_assets").delete().eq("id",n).eq("user_id",r);if(i){const s=lt(`delete portfolio asset ${n}`,"portfolio_assets",i);throw console.error(s),new Error(s)}},q4=async(e,n)=>{try{const r=await U4(e,n);let i=0,s=0,o=0;const u=r.map(h=>{const g=h.current_price/(1+(Math.random()-.5)*.04),x=h.amount*h.current_price,v=(h.current_price-h.avg_buy_price)*h.amount,b=h.amount*g,w=x-b;return i+=x,s+=v,o+=w,{id:h.id,symbol:h.symbol,name:h.name,logoUrl:h.logo_url,amount:h.amount,avgBuyPrice:h.avg_buy_price,currentPrice:h.current_price,value:x,totalPl:v}}),d=i-o,m=d>0?o/d*100:0;return{assets:u,totalValue:i,totalPl:s,pl24h:o,pl24hPercent:m}}catch(r){return console.error("Error fetching portfolio data:",r),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},$4=async e=>{try{const{data:n,error:r}=await e.from("settings").select("gemini_api_key").eq("id",1).single();if(r){if(r.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw r}return n}catch(n){const r=lt("fetch","settings",n);throw console.error(r),new Error(r)}},F4=async(e,n)=>{const{error:r}=await e.from("settings").update({gemini_api_key:n}).eq("id",1);if(r){const i=lt("update Gemini API key in","settings",r);throw console.error(i),new Error(i)}},qx=async(e,n=20,r=0)=>{console.log("Fetching community analyses with limit:",n,"offset:",r);const{data:i,error:s}=await e.from("community_analyses").select(`
            *,
            auth_users!inner(email),
            trades:analysis_id(*)
        `).order("created_at",{ascending:!1}).range(r,r+n-1);if(s){const u=lt("fetch community analyses","community_analyses",s);throw console.error("Error fetching community analyses:",u),new Error(u)}console.log("Raw community analyses data:",i);const o=(i==null?void 0:i.map(u=>{var d;return{...u,user_email:(d=u.auth_users)==null?void 0:d.email,trade_analysis:u.trades}}))||[];return console.log("Processed community analyses:",o),o},G4=async(e,n,r,i)=>{const{data:{user:s}}=await e.auth.getUser(),o=(s==null?void 0:s.email)||"Unknown User",u={user_id:i,analysis_id:n,content:r,user_email:o},{data:d,error:m}=await e.from("community_comments").insert(u).select().single();if(m){const h=lt("add comment","community_comments",m);throw console.error(h),new Error(h)}if(!d)throw new Error("Failed to add comment: no data returned.");return d},$x=async(e,n)=>{const{data:r,error:i}=await e.from("community_comments").select("*").eq("analysis_id",n).order("created_at",{ascending:!0});if(i){const s=lt("fetch comments","community_comments",i);throw console.error(s),new Error(s)}return r||[]},Y4=async(e,n,r,i)=>{const{data:s}=await e.from("community_likes").select("*").eq("user_id",i).eq("analysis_id",n).single();if(s)if(s.like_type===r){const{error:o}=await e.from("community_likes").delete().eq("id",s.id);if(o){const u=lt("remove like","community_likes",o);throw console.error(u),new Error(u)}}else{const{error:o}=await e.from("community_likes").update({like_type:r}).eq("id",s.id);if(o){const u=lt("update like","community_likes",o);throw console.error(u),new Error(u)}}else{const{error:o}=await e.from("community_likes").insert({user_id:i,analysis_id:n,like_type:r});if(o){const u=lt("add like","community_likes",o);throw console.error(u),new Error(u)}}},Fx=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_likes").select("like_type").eq("user_id",r).eq("analysis_id",n).single();if(s&&s.code!=="PGRST116"){const o=lt("fetch user like","community_likes",s);throw console.error(o),new Error(o)}return i==null?void 0:i.like_type},V4=async(e,n)=>{const{error:r}=await e.from("user_community_reads").upsert([{user_id:n,last_read_at:new Date().toISOString()}],{onConflict:"user_id"});if(r){const i=lt("update community read","user_community_reads",r);throw console.error(i),new Error(i)}},Gx=async(e,n)=>{var d;const[r,i,s,o]=await Promise.all([e.from("community_analyses").select("id",{count:"exact"}),e.from("community_comments").select("id",{count:"exact"}),e.from("community_likes").select("id",{count:"exact"}),e.from("user_community_reads").select("last_read_at").eq("user_id",n).single()]);let u=0;if((d=o.data)!=null&&d.last_read_at){const{count:m}=await e.from("community_analyses").select("id",{count:"exact"}).gt("created_at",o.data.last_read_at);u=m||0}return{total_analyses:r.count||0,total_comments:i.count||0,total_likes:s.count||0,unread_count:u}},Fv=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_analyses").select("id").eq("user_id",n).eq("analysis_id",r).single();if(s&&s.code!=="PGRST116")throw console.error("Error checking if analysis shared:",s),new Error("Failed to check if analysis already shared");return!!i},Gv=async(e,n,r,i,s)=>{var x,v;if(console.log("Sharing analysis to community:",{userId:n,analysisId:r.id,title:i,description:s,analysis:r}),await Fv(e,n,r.id)){console.log("Analysis already shared by user, updating existing share");const{data:b,error:w}=await e.from("community_analyses").update({title:i||`Shared Analysis - ${((x=r.tradeSetup)==null?void 0:x.tradeType)||""} ${r.timestamp}`,description:s||"",updated_at:new Date().toISOString()}).eq("user_id",n).eq("analysis_id",r.id).select().single();if(w){const E=lt("update existing community analysis","community_analyses",w);throw console.error("Error updating existing share:",E),new Error(E)}return console.log("Successfully updated existing share:",b),b}const u=r.tradeSetup||r.trade_setup,d=u?{...u,rrr:u.rrr??0}:void 0,m={id:r.id,user_id:n,created_at:r.timestamp,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:d,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount||null};await e.from("trades").upsert([m],{onConflict:"id"});const{data:h,error:g}=await e.from("community_analyses").insert({user_id:n,analysis_id:r.id,title:i||`Shared Analysis - ${((v=r.tradeSetup)==null?void 0:v.tradeType)||""} ${r.timestamp}`,description:s||""}).select().single();if(g){const b=lt("share analysis to community","community_analyses",g);throw console.error("Error sharing to community:",b),new Error(b)}return console.log("Successfully shared to community:",h),h},K4=({supabaseClient:e,open:n,onClose:r})=>{const[i,s]=M.useState("login"),[o,u]=M.useState(""),[d,m]=M.useState(""),[h,g]=M.useState(""),[x,v]=M.useState(!0),[b,w]=M.useState(!1),[E,j]=M.useState("");M.useEffect(()=>{const N=O=>{O.key==="Escape"&&r()};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[r]),M.useEffect(()=>{const N=localStorage.getItem("rememberedEmail");N?(u(N),v(!0)):v(!1)},[]);const k=N=>/^\S+@\S+\.\S+$/.test(N),A=async N=>{if(N.preventDefault(),w(!0),j(""),!k(o)){j("Please enter a valid email address."),w(!1);return}if(d.length<6){j("Password must be at least 6 characters."),w(!1);return}if(i==="register"&&h.trim().length<2){j("Name must be at least 2 characters."),w(!1);return}try{i==="login"?(await R4(e,{email:o,password:d}),x?localStorage.setItem("rememberedEmail",o):localStorage.removeItem("rememberedEmail"),r()):(await C4(e,{email:o,password:d,nama:h}),r())}catch(O){j(O.message||"An unexpected error occurred.")}finally{w(!1)}},T=()=>{s(i==="login"?"register":"login"),j(""),m(""),g("")};return n?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:N=>N.stopPropagation(),children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:f.jsx(Mr,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:i==="login"?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:i==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),f.jsxs("form",{onSubmit:A,className:"mt-8 space-y-6",children:[i==="register"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:h,onChange:N=>g(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:N=>u(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:i==="login"?"current-password":"new-password",required:!0,value:d,onChange:N=>m(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),i==="login"&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:N=>v(N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),E&&f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:E}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:b?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):i==="login"?"Sign in":"Register"})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i==="login"?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:T,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:i==="login"?"Register":"Sign in"})]})})]})}):null},X4=({onImageSelect:e,isLoading:n,isTradingMode:r=!0,preview:i})=>{const[s,o]=M.useState(!1),u=M.useRef(null),d=M.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const w=new FileReader;w.onloadend=()=>{try{const E=w.result;e(b)}catch(E){console.error("Error processing image file:",E),alert("Gagal memproses file gambar. Silakan coba file lain.")}},w.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},w.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[e]),m=M.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?o(!0):b.type==="dragleave"&&o(!1)},[]),h=M.useCallback(b=>{b.preventDefault(),b.stopPropagation(),o(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&d(b.dataTransfer.files[0])},[d]),g=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&d(b.target.files[0])},x=()=>{var b;(b=u.current)==null||b.click()},v=M.useCallback(b=>{var j,k;if(n||!u.current)return;const w=(j=b.clipboardData)==null?void 0:j.items;if(!w)return;const E=(k=Array.from(w).find(A=>A.kind==="file"&&A.type.startsWith("image/")))==null?void 0:k.getAsFile();E&&(b.preventDefault(),d(E))},[n,d]);return M.useEffect(()=>{if(r)return document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}},[v,r]),f.jsxs("div",{onDragEnter:m,onDragOver:m,onDragLeave:m,onDrop:h,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${s?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!i&&"bg-white dark:bg-slate-800"}`}`,children:[f.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:g,disabled:n}),i?f.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[f.jsx("img",{src:i,className:n?"w-full h-full object-contain blur-sm opacity-70 transition-all":"w-full h-full object-contain transition-all",alt:"Chart Preview",style:{maxHeight:320,maxWidth:"100%"}}),n&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/60 dark:bg-slate-900/60 z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-500 mb-2"}),f.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Analyzing Chart..."})]})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(eg,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),f.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),f.jsxs("button",{type:"button",onClick:x,disabled:n,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[f.jsx(eg,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},Id={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Hd={Entry:"Entry",SL:"SL",TP1:"TP1"};function Q4(e){const n=[...e].sort((i,s)=>i-s),r=e.map(()=>0);for(let i=0;i<e.length-1;i++)Math.abs(n[i]-n[i+1])<7&&(r[e.indexOf(n[i])]=-28,r[e.indexOf(n[i+1])]=28,e.length>2&&i+2<e.length&&Math.abs(n[i+1]-n[i+2])<7&&(r[e.indexOf(n[i+2])]=-56));return r}function J4(e,n=18){const r=e.map((h,g)=>({price:h,idx:g}));r.sort((h,g)=>h.price-g.price);const i=e.length,o=100-n*(i-1),u=i>1?o/(i-1):0;let d=[];for(let h=0;h<i;h++)d.push(h*(n+u));const m=[];return r.forEach((h,g)=>{m[h.idx]=d[g]}),m}function W4(e,n,r,i,s){if(!e||!n||!r||!i)return 0;const o=i*r;return s==="Long"?(n-e)*(o/e):(e-n)*(o/e)}const qd=({color:e,left:n,label:r,yOffset:i,value:s})=>{let o=n;return r==="SL"&&(n==="0%"||n==="0"||n==="calc(0% - 24px)"||n==="calc(0% - 0px)")&&(o="1.5rem"),r==="TP1"&&(n==="100%"||n==="calc(100% - 24px)"||n==="calc(100% - 0px)")&&(o="calc(100% - 1.5rem)"),f.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:o,top:0,zIndex:10},children:[f.jsx("div",{style:{transform:`translateY(${i}px)`},className:"transition-all duration-500",children:f.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${e} animate-fadein`,children:r})}),f.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${e} mt-1 animate-markerpop`}),f.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 whitespace-nowrap",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]})},Z4=({riskParams:e,analysis:n})=>{if(!n)return null;const{tradeSetup:r}=n,i=r.tradeType==="Long",s=parseFloat(r.entryPrice),o=parseFloat(r.stopLoss),u=parseFloat(r.takeProfit);if(isNaN(s)||isNaN(o)||isNaN(u))return null;const m=J4([o,s,u],24),h=A=>`calc(${m[A]}% - 24px)`,g=Q4(m),x=1,v=2,b=Math.min(m[x],m[v]),w=Math.abs(m[v]-m[x]),E=i?"right":"left";let j=1;if(typeof n.riskPerTrade=="number"&&!isNaN(n.riskPerTrade))j=n.riskPerTrade;else if(typeof n.riskPerTrade=="string"){const A=parseFloat(String(n.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(A)||(j=A)}const k=e.currentEquity!==void 0&&e.currentEquity!==null?Number(e.currentEquity):void 0;return k==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-3 sm:mb-4",children:[f.jsx(tS,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),f.jsx("div",{className:"relative w-full overflow-x-auto sm:overflow-visible px-1 scrollbar-thin scrollbar-thumb-violet-300 sm:scrollbar-none",children:f.jsxs("div",{className:"min-w-[350px] sm:min-w-0 h-20 flex items-end mb-4 sm:mb-6 pl-6 pr-2",children:[f.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),f.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${w}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:f.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:E==="right"?f.jsx("span",{className:"absolute right-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:""}):f.jsx("span",{className:"absolute left-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:""})})}),f.jsx(qd,{color:Id.SL,left:h(0),label:Hd.SL,yOffset:g[0],value:String(o)}),f.jsx(qd,{color:Id.Entry,left:h(1),label:Hd.Entry,yOffset:g[1],value:String(s)}),f.jsx(qd,{color:Id.TP1,left:h(2),label:Hd.TP1,yOffset:g[2],value:String(u)})]})}),f.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 sm:gap-4 mt-4 sm:mt-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:j+"%"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),(()=>{const A=Number(k??0),T=Number(j??0),O="$"+(A*T/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:O})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),f.jsxs("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:[e.riskRewardRatio,":1"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),(()=>{const T="$"+Number(k??0).toLocaleString("en-US",{maximumFractionDigits:0});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:T})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Potensi Profit (USD)"}),(()=>{var W,P,q;let A=Number(n==null?void 0:n.leverage);(!A||isNaN(A))&&(A=Number(e.leverage));const T=Number((W=n==null?void 0:n.tradeSetup)==null?void 0:W.entryPrice),N=Number((P=n==null?void 0:n.tradeSetup)==null?void 0:P.takeProfit),O=Number(k??0),D=(q=n==null?void 0:n.tradeSetup)==null?void 0:q.tradeType,G=T&&N&&A&&O&&D;let F=f.jsx("span",{className:"text-slate-400",children:"-"});if(G){const V=Number(W4(T,N,A,O,D));F="$"+String(V.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}return f.jsx("p",{className:"font-bold text-base sm:text-lg text-emerald-800 dark:text-emerald-200",children:F})})()]})]})]})},Eo=({label:e,value:n,className:r=""})=>f.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-xl p-4 md:p-5 text-center shadow-md border border-slate-200 dark:border-slate-700 transition-all duration-200 ${r}`,children:[f.jsx("p",{className:"text-sm md:text-base font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:"mt-1 text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:n})]}),e5=({analysis:e})=>{const{tradeType:n,entryPrice:r,stopLoss:i,takeProfit:s}=e.tradeSetup,o=n==="Long",u=v=>v!=null&&v!==""&&v!=="N/A"&&!isNaN(Number(v))&&Number(v)!==0,d=u(r),m=u(i),h=u(s);let g=!1;return o?g=Number(i)<Number(r)&&Number(r)<Number(s):g=Number(s)<Number(r)&&Number(r)<Number(i),d&&m&&h&&g?f.jsxs("div",{className:`p-5 md:p-6 rounded-xl border-l-4 ${o?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"} shadow-md border border-slate-200 dark:border-slate-700 transition-all duration-200`,children:[f.jsxs("h4",{className:`text-lg md:text-xl font-bold ${o?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"} text-center`,children:["Suggested Trade: ",n]}),Number(e.confidenceScore)<70&&f.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm text-center",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),f.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 text-base md:text-lg justify-items-center text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(r).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):f.jsx("div",{className:"p-4 md:p-5 rounded-xl bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center shadow-md border border-red-200 dark:border-red-700",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},Yv=({analysis:e,riskParams:n,onBackToUploader:r})=>{if(!e)return f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})});if(e.error){let s=e.error;return e.error.toLowerCase().includes("timeframe")&&(s=`Anda mengupload chart dengan timeframe yang tidak sesuai mode trading.
Silakan pilih mode yang sesuai dengan timeframe chart Anda.`),f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold whitespace-pre-line",children:s})}),r&&f.jsx("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 mt-4",children:"Kembali ke Upload"})]})})}return e.tradeSetup&&e.marketTrend&&e.tradeBias?f.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[f.jsx("div",{className:"w-full",children:e.image&&e.image.trim()!==""?f.jsx("img",{src:e.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{var u,d;console.error("Failed to load analysis image:",((u=e.image)==null?void 0:u.substring(0,50))+"..."),s.currentTarget.style.display="none";const o=document.createElement("div");o.className="w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",o.innerHTML='<p class="text-slate-500 dark:text-slate-400">Image failed to load</p>',(d=s.currentTarget.parentNode)==null||d.appendChild(o)},onLoad:()=>{console.log("Analysis image loaded successfully")}}):f.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"}),f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:["Image data: ",e.image?"Present but empty":"Missing"]})]})})}),f.jsxs("div",{className:"w-full space-y-4",children:[e.status!=="pending"&&f.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${e.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[e.status==="profit"?f.jsx(Cl,{className:"h-6 w-6"}):f.jsx(Mr,{className:"h-6 w-6"}),f.jsxs("span",{children:["TRADE COMPLETED: ",f.jsx("span",{className:"uppercase",children:e.status.replace("-"," ")})]})]}),f.jsx(e5,{analysis:e}),f.jsx(Z4,{riskParams:n,analysis:e}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-5 md:gap-7 justify-items-stretch text-center",children:[f.jsx(Eo,{label:"Market Trend",value:e.marketTrend||"N/A"}),f.jsx(Eo,{label:"Trade Bias",value:e.tradeBias||"N/A",className:e.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":e.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),f.jsx(Eo,{label:"Confidence",value:`${e.confidenceScore||0}%`}),e.status!=="pending"&&e.outcomeAmount!==void 0&&f.jsx(Eo,{label:e.status==="profit"?"Profit Amount":"Loss Amount",value:`$${e.outcomeAmount.toLocaleString()}`,className:e.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Zk,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),f.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:Array.isArray(e.rationale)?f.jsx("ul",{className:"list-disc pl-5",children:e.rationale.map((s,o)=>f.jsx("li",{children:s},o))}):(()=>{let s=e.rationale;try{typeof e.rationale=="string"&&e.rationale.trim().startsWith("[")&&(s=JSON.parse(e.rationale))}catch{}return Array.isArray(s)?f.jsx("ul",{className:"list-disc pl-5",children:s.map((o,u)=>f.jsx("li",{children:o},u))}):f.jsx(Bf,{remarkPlugins:[$f],children:e.rationale||"No reasoning available"})})()})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.keyPattern||"No pattern identified"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.indicatorAnalysis||"No indicator analysis available"})]})]})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("p",{children:"This might be due to:"}),f.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[f.jsx("li",{children:"AI response format error"}),f.jsx("li",{children:"Network connectivity issues"}),f.jsx("li",{children:"API quota exceeded"}),f.jsx("li",{children:"Image processing error"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[r&&f.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})})},Al="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",Nl="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",Yx="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Vx=({params:e,timeframeSettings:n})=>{const[r,i]=M.useState(e.accountBalance||""),[s,o]=M.useState(e.leverage||"10"),[u,d]=M.useState(e.entryPrice||""),[m,h]=M.useState(e.stopLoss||""),[g,x]=M.useState(""),[v,b]=M.useState("LONG"),w=j=>parseFloat(j.replace(",",".")),E=M.useMemo(()=>{const j=w(r),k=w(s),A=w(u),T=w(m),N=w(g);if([j,k,A,T,N].some(isNaN)||j<=0||k<=0||A<=0||T<=0||N<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const O=j*k;let D=0,G=0,F=0,W=0;v==="LONG"?(D=(T-A)*O/A,G=(N-A)*O/A,F=Math.abs(G/Math.abs(D)),W=A*(1-1/k)):(D=(A-T)*O/A,G=(A-N)*O/A,F=Math.abs(G/Math.abs(D)),W=A*(1+1/k));const P=j,q=j,V=`${(D/j*100).toFixed(2)}%`,Z=`${(G/j*100).toFixed(2)}%`;let ae="";return F<1?ae="RRR di bawah standar minimum!":D>=0?ae="Stop Loss tidak valid (tidak rugi)!":G<=0&&(ae="Take Profit tidak valid (tidak untung)!"),{contract:`$${O.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:T,slMargin:`$${P.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${D>=0?"+":""}$${D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:V,tp:N,tpMargin:`$${q.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${G>=0?"+":""}$${G.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:Z,rrr:F.toFixed(2),liq:W.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:ae}},[r,s,u,m,g,v]);return f.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx(Jk,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),f.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),f.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:n.text})]})}),f.jsx("div",{className:Nl,children:f.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),f.jsx("input",{type:"number",className:Al,value:r,onChange:j=>i(j.target.value),placeholder:"e.g. 6.64"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),f.jsx("input",{type:"number",className:Al,value:s,onChange:j=>o(j.target.value),min:1,max:125})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),f.jsx("input",{type:"number",className:Al,value:u,onChange:j=>d(j.target.value),placeholder:"e.g. 0.621"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),f.jsx("input",{type:"number",className:Al,value:m,onChange:j=>h(j.target.value),placeholder:"e.g. 0.62552"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),f.jsx("input",{type:"number",className:Al,value:g,onChange:j=>x(j.target.value),placeholder:"e.g. 0.6185"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),f.jsxs("div",{className:"flex gap-3 mt-1",children:[f.jsx("button",{onClick:()=>b("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${v==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),f.jsx("button",{onClick:()=>b("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${v==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:Nl,children:[f.jsx("h4",{className:Yx,children:"Nilai Kontrak"}),f.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[f.jsx("span",{children:"Total Kontrak"}),f.jsx("span",{children:E.contract})]})]}),f.jsxs("div",{className:Nl+" border-l-4 border-red-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi SL (USDT)"}),f.jsx("span",{children:E.sl})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:E.slMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:E.slProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:E.slProfitPct})]})]}),f.jsxs("div",{className:Nl+" border-l-4 border-emerald-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi TP (USDT)"}),f.jsx("span",{children:E.tp})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:E.tpMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:E.tpProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:E.tpProfitPct})]})]}),f.jsxs("div",{className:Nl,children:[f.jsx("h4",{className:Yx,children:"Ringkasan"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),f.jsx("span",{children:E.rrr})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Liquidation Price (estimasi)"}),f.jsx("span",{children:E.liq})]})]}),E.warning&&f.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:E.warning})]})]})},t5=({status:e})=>{if(e==="pending")return null;const n="text-xs font-bold px-2 py-0.5 rounded-full";if(e==="profit")return f.jsx("span",{className:`${n} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"});if(e==="stop-loss")return f.jsx("span",{className:`${n} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"})},Kx=({history:e,onSelect:n,onDeleteRequest:r,onShareRequest:i,currentAnalysisId:s,userId:o})=>{const[u,d]=sa.useState(new Set),[m,h]=sa.useState(!1),[g,x]=M.useState(!1),[v,b]=M.useState(null),[w,E]=M.useState(null),[j,k]=M.useState(""),[A,T]=M.useState(!1),[N,O]=M.useState(null);if(sa.useEffect(()=>{(async()=>{if(!(!e.length||!o)){h(!0);try{const W=e.map(V=>Fv(Ie,o,V.id)),P=await Promise.all(W),q=new Set;e.forEach((V,Z)=>{P[Z]&&q.add(V.id)}),d(q)}catch(W){console.error("Error loading shared status:",W)}finally{h(!1)}}})()},[e,o]),!e)return console.error("HistoryPanel: history prop is null or undefined"),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(hd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});if(!Array.isArray(e))return console.error("HistoryPanel: history prop is not an array:",e),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(hd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});console.log("HistoryPanel: Rendering with",e.length,"items");const D=(F,W)=>{b(F),E(W),k(""),O(null),x(!0)},G=async()=>{if(!v||!w||!o)return;const F=parseFloat(j);if(isNaN(F)){O("Please enter a valid number for outcome amount.");return}T(!0),O(null);try{await P4(Ie,v.id,w,F,o),x(!1),b(null),E(null),k(""),window.location.reload()}catch{O("Failed to update trade status.")}finally{T(!1)}};return f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(hd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),e.length===0?f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):f.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:e.map((F,W)=>{if(!F||!F.id||!F.tradeSetup)return console.error("HistoryPanel: Invalid item at index",W,F),null;const P=s===F.id,q=u.has(F.id);return f.jsx("li",{className:"group",children:f.jsxs("div",{className:`relative p-2 sm:p-4 rounded-lg border cursor-pointer transition-all duration-200 ${P?"border-violet-500 bg-violet-50 dark:bg-violet-900/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-violet-300 dark:hover:border-violet-600 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>n(F),children:[q&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:[f.jsx(Vd,{className:"w-3 h-3 mr-1"}),"Shared"]})}),f.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[f.jsx("span",{className:"text-xs sm:text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:F.mode}),f.jsx(t5,{status:F.status}),q&&f.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:" Shared"})]}),f.jsx("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mb-1 sm:mb-2",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-4",children:[f.jsxs("span",{children:["Entry: $",F.tradeSetup.entryPrice]}),f.jsxs("span",{children:["SL: $",F.tradeSetup.stopLoss]}),f.jsxs("span",{children:["TP: $",F.tradeSetup.takeProfit]})]})}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:new Date(F.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),F.status==="pending"&&f.jsxs("div",{className:"flex flex-row gap-1 sm:gap-2 mt-2",children:[f.jsx("button",{onClick:V=>{V.stopPropagation(),D(F,"profit")},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Set Profit"}),f.jsx("button",{onClick:V=>{V.stopPropagation(),D(F,"stop-loss")},className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Set Loss"})]})]}),f.jsxs("div",{className:"flex flex-row gap-1 ml-2 sm:ml-4",children:[i&&f.jsx("button",{onClick:V=>{V.stopPropagation(),q||i(F)},disabled:q||m,className:`p-2 text-xs rounded-lg transition-colors ${q?"text-green-600 dark:text-green-400 cursor-not-allowed":"text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30"}`,title:q?"Already shared to community":"Share to community",children:f.jsx(Vd,{className:"w-4 h-4"})}),f.jsx("button",{onClick:V=>{V.stopPropagation(),r(F)},className:"p-2 text-xs rounded-lg text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",title:"Delete analysis",children:f.jsx(nS,{className:"w-4 h-4"})})]})]})]})},F.id)})}),g&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:w==="profit"?"Set Profit Outcome":"Set Loss Outcome"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Outcome Amount"}),f.jsx("input",{type:"number",value:j,onChange:F=>k(F.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter outcome amount",min:"0",step:"any",disabled:A})]}),N&&f.jsx("div",{className:"text-red-500 text-sm mb-2",children:N}),f.jsxs("div",{className:"flex space-x-3 mt-4",children:[f.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",disabled:A,children:"Cancel"}),f.jsx("button",{onClick:G,disabled:A||!j,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Saving...":"Save"})]})]})})]})},Vv=({isOpen:e,onClose:n,onConfirm:r,title:i,message:s,confirmText:o="Confirm",cancelText:u="Cancel",isDestructive:d=!1,isLoading:m=!1})=>{if(M.useEffect(()=>{const v=b=>{b.key==="Escape"&&n()};return e&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[e,n]),!e)return null;const h=d?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",g=d?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",x=d?f.jsx(Qk,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):f.jsx(fy,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:n,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[f.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${g}`,children:x}),f.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),f.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[f.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${h}`,onClick:r,disabled:m,children:m?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):o}),f.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:n,disabled:m,children:u})]})]})})},n5=({user:e,apiKey:n,apiStatus:r,updateTokenUsage:i,onTradeAdded:s,tradeHistory:o,currentEquity:u,onTradeDeleted:d})=>{var Ln;const[m,h]=M.useState(null),[g,x]=M.useState(null),[v,b]=M.useState(null),[w,E]=M.useState(!1),[j,k]=M.useState(null),[A,T]=M.useState("day"),[N,O]=M.useState({accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3}),[D,G]=M.useState("calculator"),[F,W]=M.useState(null),[P,q]=M.useState(null),[V,Z]=M.useState(!1),[ae,ce]=M.useState(!1),[B,X]=M.useState(null),[oe,te]=M.useState(""),[S,H]=M.useState(0),[I,R]=M.useState(!1),se={scalp:{text:"Timeframe: 1m, 3m, 5m, 15m (minute) only",link:"https://www.tradingview.com/symbols/"},day:{text:"Timeframe: 30m (minute) only",link:"https://www.tradingview.com/symbols/"},swing:{text:"Timeframe: 1h, 2h, 4h, 12h (hour) only",link:"https://www.tradingview.com/symbols/"},position:{text:"Timeframe: 1d, 1w, 1M (day/week/month) only",link:"https://www.tradingview.com/symbols/"}},he=M.useCallback(ve=>{h(ve),k(null);const et=new FileReader;et.onloadend=()=>{const Ge=et.result;x(Ge),console.log("Image preview set:",!!Ge)},et.onerror=()=>{console.error("Error creating image preview"),k("Failed to create image preview. Please try again.")},et.readAsDataURL(ve)},[]),z=async()=>{if(!m||!n){k("Please select an image and ensure API key is configured.");return}if(!g){k("Image preview is not available. Please try uploading the image again.");return}E(!0),k(null);let ve=0,et=!1;for(H(0),R(!1);!et;)try{ve++,ve>1&&(R(!0),H(ve-1));const{analysis:Ge,usage:pt}=await GS(n,m,N,A,N.currentEquity||1e3);if(i(pt),Ge&&Ge.error){const Tt=Ge.error.toLowerCase();if(Tt.includes("internal error")||Tt.includes("500")||Tt.includes("an internal error has occurred")){R(!0),H(ve),await new Promise(ne=>setTimeout(ne,2e3));continue}else{b({error:Ge.error}),W(null),R(!1),E(!1);return}}O(Tt=>({...Tt,currentEquity:Tt.currentEquity||1e3,riskPerTrade:Ge.riskPerTrade!==void 0?String(Ge.riskPerTrade):Tt.riskPerTrade}));let zt=Ge.detectedTimeframe||"",ar=typeof zt=="string"?zt.toLowerCase():"",gn=A;zt==="1M"?gn="position":["1m","3m","5m","15m"].includes(ar)?gn="scalp":ar==="30m"?gn="day":["1h","2h","4h","12h"].includes(ar)?gn="swing":["1d","1w"].includes(ar)&&(gn="position");const Ur={id:Date.now().toString(),timestamp:new Date().toISOString(),image:g,mode:gn,marketTrend:Ge.marketTrend,keyPattern:Ge.keyPattern,indicatorAnalysis:Ge.indicatorAnalysis,tradeBias:Ge.tradeBias,tradeSetup:Ge.tradeSetup,rationale:Ge.rationale,confidenceScore:Ge.confidenceScore,status:"pending",riskPerTrade:Ge.riskPerTrade};if(console.log("TradeAnalysis created with image:",!!Ur.image),b(Ur),W(null),Ie)try{const Tt=await Hx(Ie,Ur,e.id);s(Tt)}catch(Tt){console.error("Auto-save error:",Tt),k("Failed to auto-save trade: "+Tt.message)}et=!0,R(!1)}catch(Ge){const pt=(Ge.message||"").toLowerCase();if(pt.includes("internal error")||pt.includes("500")||pt.includes("an internal error has occurred")){R(!0),H(ve),await new Promise(zt=>setTimeout(zt,2e3));continue}else{k(Ge.message||"Failed to analyze chart. Please try again."),R(!1),E(!1);return}}E(!1),R(!1)},ee=()=>{h(null),x(null),b(null),W(null),k(null)},ue=ve=>{b(ve),W(ve),h(null),x(ve.image||null)},me=ve=>{q(ve),Z(!0)},pe=()=>{P&&(d(P.id),q(null),Z(!1))},ge=()=>{q(null),Z(!1)},ye=ve=>{X(ve),te(""),ce(!0)},He=async()=>{if(B)try{let ve=B;o.find(zt=>zt.id===B.id)||Ie&&(ve=await Hx(Ie,B,e.id),s(ve));const Ge=await Gv(Ie,e.id,ve,void 0,oe),pt=document.createElement("div");pt.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",pt.textContent=" Analisis berhasil di-share ke komunitas!",document.body.appendChild(pt),setTimeout(()=>{pt.classList.remove("translate-x-full")},100),setTimeout(()=>{pt.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(pt)},300)},3e3),ce(!1),X(null)}catch(ve){console.error("Error sharing to community:",ve);const et=document.createElement("div");et.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",et.textContent=" Gagal share ke komunitas: "+(ve.message||ve),document.body.appendChild(et),setTimeout(()=>{et.classList.remove("translate-x-full")},100),setTimeout(()=>{et.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(et)},300)},5e3)}},st=()=>{ce(!1),X(null)},jt=o.filter(ve=>ve.mode===A);return M.useEffect(()=>{!F&&g&&n&&z()},[g,n,F]),M.useEffect(()=>{O(ve=>({...ve,currentEquity:u||0}))},[u]),f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:ee,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Back to upload new image",children:f.jsx(aS,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"AI Trading Analysis"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:F?"Viewing historical analysis":"Upload a chart screenshot for AI-powered technical analysis"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f.jsx("strong",{children:"Mapping Timeframe:"})," ",f.jsx("br",{}),f.jsxs("span",{children:["1m/3m/5m/15m = ",f.jsx("b",{children:"Scalp"}),", 30m = ",f.jsx("b",{children:"Day"}),", 1h/2h/4h/12h = ",f.jsx("b",{children:"Swing"}),", 1d/1w/1M = ",f.jsx("b",{children:"Position"})]})]})]})]}),j&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:j}),v?f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsx("div",{className:"flex-1",children:f.jsx(Yv,{analysis:v,riskParams:N,onBackToUploader:ee})}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>G("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>G("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[D==="calculator"&&f.jsx(Vx,{params:N,timeframeSettings:se[A]}),D==="history"&&f.jsx(Kx,{history:jt,onSelect:ue,onDeleteRequest:me,onShareRequest:ye,currentAnalysisId:F?F.id:v?v.id:void 0,userId:e.id})]})]})})]}):f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"Trading Mode"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["scalp","day","swing","position"].map(ve=>f.jsx("button",{onClick:()=>T(ve),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${A===ve?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ve.charAt(0).toUpperCase()+ve.slice(1)},ve))}),f.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:se[A].text})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx(X4,{onImageSelect:he,isLoading:w,isTradingMode:!0,preview:g}),w&&f.jsxs("div",{className:"mt-4 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"text-violet-600 dark:text-violet-400 font-semibold text-lg animate-pulse",children:"Loading AI Analysis..."}),I&&f.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:["Retrying... percobaan ke-",S]})]})]}),r!=="valid"&&f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg",children:f.jsx("p",{className:"text-sm",children:"Please configure your API key in Settings to use AI analysis."})})]}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>G("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>G("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[D==="calculator"&&f.jsx(Vx,{params:N,timeframeSettings:se[A]}),D==="history"&&f.jsx(Kx,{history:jt,onSelect:ue,onDeleteRequest:me,onShareRequest:ye,currentAnalysisId:F?F.id:v?v.id:void 0,userId:e.id})]})]})})]}),f.jsx(Vv,{isOpen:V,onClose:ge,onConfirm:pe,title:"Hapus Analisa?",message:P?`Yakin ingin menghapus analisa trade ${((Ln=P.tradeSetup)==null?void 0:Ln.tradeType)||""} pada ${new Date(P.timestamp).toLocaleString()}?`:"",confirmText:"Hapus",cancelText:"Batal",isDestructive:!0}),ae&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 w-full max-w-md relative",children:[f.jsx("button",{onClick:st,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200",children:""}),f.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-100",children:"Share Analisa ke Komunitas?"}),f.jsx("p",{className:"mb-2 text-slate-600 dark:text-slate-300 text-sm",children:"Analisa ini akan dibagikan ke menu Community dan bisa dilihat user lain."}),f.jsx("textarea",{className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 mb-4",rows:3,placeholder:"Tuliskan deskripsi ini analisa pair apa",value:oe,onChange:ve=>te(ve.target.value)}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:st,className:"px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600",children:"Batal"}),f.jsx("button",{onClick:He,className:"px-4 py-2 rounded-lg bg-violet-600 text-white hover:bg-violet-700",children:"Share"})]})]})})]})},r5=({user:e,apiKey:n,apiStatus:r,onApiKeyUpdate:i})=>{const[s,o]=M.useState(""),[u,d]=M.useState(""),[m,h]=M.useState(""),[g,x]=M.useState(!1),[v,b]=M.useState(!1),[w,E]=M.useState(""),[j,k]=M.useState(""),[A,T]=M.useState(!1),[N,O]=M.useState(!1),[D,G]=M.useState(""),[F,W]=M.useState(""),[P,q]=M.useState(!1),[V,Z]=M.useState(!1),[ae,ce]=M.useState(n),[B,X]=M.useState(!1),[oe,te]=M.useState(""),[S,H]=M.useState(!1);M.useEffect(()=>{ce(n)},[n]),M.useEffect(()=>{(async()=>{const ee=Ie;if(!ee||!e)return;const ue=await $v(ee,e.id);ue&&(o(ue.nama||""),d(ue.describe||""),E(ue.initial_trade!==null&&ue.initial_trade!==void 0?String(ue.initial_trade):""))})()},[e]);const I=async()=>{b(!0),h(""),x(!1);try{await L4(Ie,e.id,s,u),h("Profile updated successfully!")}catch{h("Failed to update profile."),x(!0)}finally{b(!1),setTimeout(()=>h(""),5e3)}},R=async()=>{O(!0),k(""),T(!1);try{await Ix(Ie,e.id,Number(w)),k("Base capital updated successfully!")}catch{k("Failed to update base capital."),T(!0)}finally{O(!1),setTimeout(()=>k(""),5e3)}},se=async()=>{Z(!0),W(""),q(!1);try{const z=Ie,ee=Number(w)-Number(D);if(ee<0)throw new Error("Insufficient funds.");await Ix(z,e.id,ee),E(String(ee)),W("Withdrawal successful!")}catch{W("Failed to withdraw funds."),q(!0)}finally{Z(!1),setTimeout(()=>W(""),5e3)}},he=async()=>{if(X(!0),te(""),H(!1),!ae.trim()){te("API Key cannot be empty."),H(!0),X(!1),setTimeout(()=>te(""),5e3);return}try{await i(ae),te("API Key updated and verified successfully!"),H(!1)}catch(z){const ee=z instanceof Error?z.message:"Failed to save or verify API key.";te(ee),H(!0)}finally{X(!1),setTimeout(()=>te(""),5e3)}};return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),f.jsxs("main",{className:"space-y-8",children:[f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your profile information. This may be used in the future for leaderboards or community features."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("input",{id:"name",type:"text",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:s,onChange:z=>o(z.target.value),disabled:v})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),f.jsx("textarea",{id:"description",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:u,onChange:z=>d(z.target.value),disabled:v,rows:2})]}),f.jsx("button",{onClick:I,disabled:v,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),f.jsx("div",{className:"h-5 mt-2",children:m&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${g?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[g?f.jsx(Mr,{className:"w-4 h-4"}):f.jsx(Cl,{className:"w-4 h-4"}),m]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"GPT-4o API Key"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Masukkan API Key GPT-4o dari Sumo Pod untuk mengaktifkan analisis chart AI dan insight performa."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"GPT-4o API Key"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:ae,onChange:z=>ce(z.target.value),placeholder:"Enter your GPT-4o API key",disabled:B})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("button",{onClick:he,disabled:B,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:B?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),f.jsx("div",{className:"h-5 mt-2",children:oe&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${S?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[S?f.jsx(Mr,{className:"w-4 h-4"}):f.jsx(Cl,{className:"w-4 h-4"}),oe]})})]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital. This value is the foundation for all performance calculations and withdrawals."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Base Capital ($)"}),f.jsx("input",{id:"initialCapital",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:w,onChange:z=>E(z.target.value),disabled:N,min:0})]}),f.jsx("button",{onClick:R,disabled:N,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:N?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),f.jsx("div",{className:"h-5 mt-2",children:j&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${A?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[A?f.jsx(Mr,{className:"w-4 h-4"}):f.jsx(Cl,{className:"w-4 h-4"}),j]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"withdrawAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Withdraw Amount ($)"}),f.jsx("input",{id:"withdrawAmount",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:D,onChange:z=>G(z.target.value),disabled:V,min:0})]}),f.jsx("button",{onClick:se,disabled:V,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:V?f.jsx(fi,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),f.jsx("div",{className:"h-5 mt-2",children:F&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${P?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[P?f.jsx(Mr,{className:"w-4 h-4"}):f.jsx(Cl,{className:"w-4 h-4"}),F]})})]})]})]})]})},a5=e=>e?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${e.toLowerCase()}.svg`:"",$d="https://via.placeholder.com/32x32?text=?",i5=({userId:e,assets:n,onAssetAdded:r,onAssetUpdated:i,onAssetDeleted:s})=>{const[o,u]=M.useState(!1),[d,m]=M.useState(null),[h,g]=M.useState(!1),[x,v]=M.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[b,w]=M.useState(null),[E,j]=M.useState(null),[k,A]=M.useState(!1),T=()=>{v({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),u(!1),m(null)},N=q=>{const{name:V,value:Z}=q.target;if(V==="symbol")v(ae=>({...ae,symbol:Z.toUpperCase()}));else if(V==="amount"){const ae=Z.replace(/[^0-9eE.-]/g,"");v(ce=>({...ce,amount:ae}))}else v(ae=>({...ae,[V]:V==="avgBuyPrice"||V==="currentPrice"?parseFloat(Z)||0:Z}))},O=async q=>{if(q.preventDefault(),w(null),!Ie){w("Database connection not available");return}const V=parseFloat(x.amount);if(isNaN(V)||V<0){w("Amount harus berupa angka valid dan lebih dari 0");return}g(!0);try{const Z=a5(x.symbol)||$d;console.log("[DEBUG] Mulai handleSubmit",{formData:x,parsedAmount:V,logoUrl:Z,userId:e}),d?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await I4(Ie,d.id,{amount:V,avg_buy_price:x.avgBuyPrice,current_price:x.currentPrice,logo_url:Z},e),console.log("[DEBUG] Setelah updatePortfolioAsset"),i()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:x.symbol.toUpperCase(),name:x.name,logo_url:Z,amount:V,avg_buy_price:x.avgBuyPrice,current_price:x.currentPrice},e),await B4(Ie,{symbol:x.symbol.toUpperCase(),name:x.name,logo_url:Z,amount:V,avg_buy_price:x.avgBuyPrice,current_price:x.currentPrice},e),console.log("[DEBUG] Setelah addPortfolioAsset"),r()),T()}catch(Z){console.error("[DEBUG] Error saving asset:",Z),w("Gagal menyimpan asset: "+((Z==null?void 0:Z.message)||Z))}finally{g(!1),console.log("[DEBUG] Selesai handleSubmit")}},D=q=>{m(q),v({symbol:q.symbol,name:q.name,amount:q.amount.toString(),avgBuyPrice:q.avgBuyPrice,currentPrice:q.currentPrice,category:q.category??""})},G=q=>{j(q),A(!0)},F=async()=>{if(!(!Ie||!(E!=null&&E.id))){g(!0);try{await H4(Ie,E.id,e),s(),A(!1),j(null)}catch(q){console.error("Error deleting asset:",q),alert("Error deleting asset. Please try again.")}finally{g(!1)}}},W=()=>{A(!1),j(null)},P=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(q);return f.jsxs("div",{className:"space-y-6",children:[b&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:b}),f.jsx("button",{onClick:()=>w(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),!o&&!d&&f.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(o||d)&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:d?"Edit Asset":"Add New Asset"}),f.jsxs("form",{onSubmit:O,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),f.jsx("input",{type:"text",name:"symbol",value:x.symbol,onChange:N,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),f.jsx("input",{type:"text",name:"name",value:x.name,onChange:N,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),f.jsx("input",{type:"text",name:"amount",value:x.amount,onChange:N,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),f.jsx("input",{type:"number",name:"avgBuyPrice",value:x.avgBuyPrice,onChange:N,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),f.jsx("input",{type:"number",name:"currentPrice",value:x.currentPrice,onChange:N,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),f.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:x.category,onChange:q=>v({...x,category:q.target.value}),required:!0,children:[f.jsx("option",{value:"Crypto",children:"Crypto"}),f.jsx("option",{value:"Saham",children:"Saham"}),f.jsx("option",{value:"Gold",children:"Gold"}),f.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:h?"Saving...":d?"Update Asset":"Add Asset"}),f.jsx("button",{type:"button",onClick:T,disabled:h,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),n.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",n.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(q=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:q.logoUrl||$d,alt:q.name,className:"h-8 w-8 rounded-full mr-3",onError:V=>{V.currentTarget.src=$d}}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:q.name}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:q.symbol})]})]})}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:q.amount.toLocaleString()}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:P(q.avgBuyPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:P(q.currentPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:P(q.value??0)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:f.jsxs("span",{className:(q.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(q.totalPl??0)>=0?"+":"",P(q.totalPl??0)]})}),f.jsx("td",{className:"px-6 py-4 text-center",children:f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx("button",{onClick:()=>D(q),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>G(q),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},q.id))})]})})]}),n.length===0&&!o&&!d&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),f.jsx("div",{className:"mt-6",children:f.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),f.jsx(Vv,{isOpen:k,onClose:W,onConfirm:F,title:"Delete Asset",message:`Are you sure you want to delete ${E==null?void 0:E.name} (${E==null?void 0:E.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:h})]})},Fd=({label:e,value:n,subvalue:r,valueColor:i})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:n}),r&&f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:r})]}),l5=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),s5=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(fy,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[f.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),f.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),o5=({apiKey:e,apiStatus:n,portfolioData:r,updateTokenUsage:i,userId:s})=>{const[o,u]=M.useState(""),[d,m]=M.useState(!1),[h,g]=M.useState(""),[x,v]=M.useState(!1),[b,w]=M.useState(!1),[E,j]=M.useState(r),[k,A]=M.useState(!1),[T,N]=M.useState(null),[O,D]=M.useState(0),[G,F]=M.useState(!1),W=(H,I=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:I,maximumFractionDigits:I}).format(H),P=M.useCallback(async()=>{if(!s){j(null),N("Anda harus login untuk melihat portfolio.");return}w(!0),N(null);try{const H=await q4(Ie,s);j(H)}catch(H){console.error("Error fetching portfolio data:",H),j(null),N("Gagal mengambil data portfolio: "+((H==null?void 0:H.message)||H))}finally{w(!1)}},[s]),q=M.useCallback(async H=>{if(n!=="valid"){u("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),m(!1);return}m(!0),D(0),F(!1);let I=0,R=!1,se="";for(;!R;)try{I++,I>1&&(F(!0),D(I-1));const{analysisText:he,usage:z}=await VS(e,E,H);u(he),i&&i(z),R=!0,F(!1)}catch(he){if(se=he instanceof Error?he.message:String(he),se.toLowerCase().includes("internal error")||se.toLowerCase().includes("500")||se.toLowerCase().includes("an internal error has occurred")){F(!0),D(I),await new Promise(z=>setTimeout(z,2e3));continue}else{u(se),F(!1);break}}m(!1),F(!1)},[n,e,E,i]);M.useEffect(()=>{if(!s){j(null),N("Anda harus login untuk melihat portfolio.");return}P()},[P,s]),M.useEffect(()=>{E&&!x&&(q("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[E,q,x]);const V=H=>{H.preventDefault(),h.trim()&&q(h)};if(!s)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(b)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!E)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),f.jsx("button",{onClick:P,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:Z,totalPl:ae,pl24h:ce,pl24hPercent:B,assets:X}=E,oe=ae>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",te=ce>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",S=ce>=0?"+":"";return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[T&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:T}),f.jsx("button",{onClick:()=>N(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),f.jsxs("header",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),f.jsxs("button",{onClick:()=>A(!k),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),k?"Hide Manager":"Manage Assets"]})]}),k&&s&&f.jsx(i5,{userId:s,assets:X,onAssetAdded:P,onAssetUpdated:P,onAssetDeleted:P}),f.jsx(s5,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(Fd,{label:"Total Portfolio Value",value:W(Z),subvalue:"Across all tracked assets"}),f.jsx(Fd,{label:"Total Profit / Loss",value:W(ae),valueColor:oe,subvalue:"Represents overall unrealized P/L"}),f.jsx(Fd,{label:"24-Hour Change",value:`${S}${W(ce)}`,valueColor:te,subvalue:`${S}${B.toFixed(2)}%`})]}),f.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 w-full",children:[f.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),f.jsx("tbody",{children:X.map(H=>f.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[f.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[f.jsx("img",{src:H.logoUrl,alt:H.name,className:"h-8 w-8"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:H.name}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:H.symbol})]})]}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:H.amount.toLocaleString()}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:W(H.currentPrice,2)})]}),f.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:W(H.avgBuyPrice,2)}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:W(H.value??0)}),f.jsxs("p",{className:`text-xs font-semibold ${(H.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[(H.totalPl??0)>=0?"+":"",W(H.totalPl??0)]})]})]},H.symbol))})]})})]}),f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Hl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:h,onChange:H=>g(H.target.value),onKeyPress:H=>{H.key==="Enter"&&V(H)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),f.jsx("button",{onClick:V,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:f.jsx(Hl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),d?f.jsxs("div",{className:"my-6",children:[f.jsx(l5,{}),G&&f.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400 text-center",children:["Retrying... percobaan ke-",O]})]}):f.jsx("div",{className:"prose dark:prose-invert",children:f.jsx(Bf,{remarkPlugins:[$f],children:o})})]})]})]})]})},u5=({user:e})=>{const[n,r]=M.useState([]),[i,s]=M.useState({total_analyses:0,total_comments:0,total_likes:0,unread_count:0}),[o,u]=M.useState(!0),[d,m]=M.useState(null),[h,g]=M.useState([]),[x,v]=M.useState(""),[b,w]=M.useState({}),[E,j]=M.useState(!1),[k,A]=M.useState(""),[T,N]=M.useState(""),[O,D]=M.useState(null),[G,F]=M.useState(null),[W,P]=M.useState({}),[q,V]=M.useState(null),[Z,ae]=M.useState(0),[ce,B]=M.useState(!1),X={accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3};M.useEffect(()=>{e&&(oe(),V4(Ie,e.id))},[e]),M.useEffect(()=>{if(!e||d||E)return;const z=setInterval(async()=>{try{const[ee,ue]=await Promise.all([qx(Ie,20,0),Gx(Ie,e.id)]);if(r(ee),s(ue),ee.length>Z&&Z>0){B(!0);const ye=document.createElement("div");ye.className="fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 text-sm transform transition-all duration-300 translate-x-full",ye.textContent=` ${ee.length-Z} new analysis(es) available`,document.body.appendChild(ye),setTimeout(()=>ye.classList.remove("translate-x-full"),100),setTimeout(()=>{ye.classList.add("translate-x-full"),setTimeout(()=>document.body.removeChild(ye),300)},3e3)}ae(ee.length);const me=ee.map(ye=>Fx(Ie,ye.id,e.id)),pe=await Promise.all(me),ge={};ee.forEach((ye,He)=>{ge[ye.id]=pe[He]}),w(ge)}catch(ee){console.warn("Background refresh failed:",ee)}},3e4);return()=>clearInterval(z)},[e,d,E]);const oe=async()=>{u(!0);try{const[z,ee]=await Promise.all([qx(Ie,20,0),Gx(Ie,e.id)]);r(z),s(ee),ae(z.length);const ue=z.map(ge=>Fx(Ie,ge.id,e.id)),me=await Promise.all(ue),pe={};z.forEach((ge,ye)=>{pe[ge.id]=me[ye]}),w(pe)}catch(z){console.error("Error loading community data:",z)}finally{u(!1)}},te=async z=>{m(z);try{const ee=await $x(Ie,z.id);g(ee)}catch(ee){console.error("Error loading comments:",ee)}},S=async(z,ee)=>{if(e)try{await Y4(Ie,z,ee,e.id);const ue=b[z],me=ue===ee?null:ee;w(pe=>({...pe,[z]:me})),r(pe=>pe.map(ge=>{if(ge.id===z){let ye=ge.likes_count,He=ge.dislikes_count;return ue==="like"&&ye--,ue==="dislike"&&He--,me==="like"&&ye++,me==="dislike"&&He++,{...ge,likes_count:ye,dislikes_count:He}}return ge}))}catch(ue){console.error("Error toggling like:",ue)}},H=async()=>{if(!(!e||!O||!k.trim()))try{await Gv(Ie,e.id,O,k,T),j(!1),A(""),N(""),D(null),await oe();const z=document.createElement("div");z.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",z.textContent=" Analisis berhasil di-share ke komunitas!",document.body.appendChild(z),setTimeout(()=>{z.classList.remove("translate-x-full")},100),setTimeout(()=>{z.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(z)},300)},3e3)}catch(z){console.error("Error sharing analysis:",z);const ee=document.createElement("div");ee.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",ee.textContent=" Gagal share ke komunitas: "+(z instanceof Error?z.message:"Unknown error"),document.body.appendChild(ee),setTimeout(()=>{ee.classList.remove("translate-x-full")},100),setTimeout(()=>{ee.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(ee)},300)},5e3)}},I=async()=>{u(!0);try{await oe()}finally{u(!1)}},R=async z=>{if(G===z){F(null);return}if(F(z),!W[z]){V(z);const ee=await $x(Ie,z);P(ue=>({...ue,[z]:ee})),V(null)}},se=()=>{B(!1),m(null)},he=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4 w-full",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Community"}),f.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Share insights and learn from fellow traders"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[ce&&f.jsx("button",{onClick:se,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors animate-pulse",children:" Show New"}),f.jsx("button",{onClick:I,disabled:o,className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Refreshing...":"Refresh"}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_analyses}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Analyses"})]}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_comments}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Comments"})]}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_likes}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Likes"})]})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 min-h-[500px] flex flex-col",children:e?d?d.trade_analysis?(()=>{const z=d.trade_analysis||{},ee=z.tradeSetup||z.trade_setup||{},ue={...z,tradeSetup:{tradeType:ee.tradeType||ee.trade_type||"",entryPrice:ee.entryPrice??ee.entry_price??0,stopLoss:ee.stopLoss??ee.stop_loss??0,takeProfit:ee.takeProfit??ee.take_profit??0,rrr:ee.rrr??0},marketTrend:z.marketTrend||z.market_trend||"",keyPattern:z.keyPattern||z.key_pattern||"",indicatorAnalysis:z.indicatorAnalysis||z.indicator_analysis||"",tradeBias:z.tradeBias||z.trade_bias||"",confidenceScore:z.confidenceScore??z.confidence_score??0,rationale:Array.isArray(z.rationale)?z.rationale.join(`
`):z.rationale||"",status:z.status||"pending",id:z.id||d.analysis_id||d.id||"",timestamp:z.timestamp||z.created_at||"",image:z.image||"",mode:z.mode||""};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xl font-bold text-violet-700 dark:text-violet-300 mb-4",children:d.title||"Tanpa Judul"}),f.jsx(Yv,{analysis:ue,riskParams:X})]})})():f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-400 dark:text-red-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Data analisis tidak ditemukan."})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Select an analysis to view details"})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Silakan login untuk melihat detail analisis komunitas."})]})})}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Analisis Terbaru"}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Klik untuk melihat detail"})]}),f.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.length===0?f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:f.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Belum ada analisis"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Jadilah yang pertama membagikan analisis trading ke komunitas!"})]}):n.map(z=>{var ee,ue;return f.jsxs("div",{onClick:()=>te(z),className:`bg-white dark:bg-gray-800 rounded-xl shadow p-4 flex flex-col gap-2 border transition-all duration-200 cursor-pointer hover:shadow-md ${(d==null?void 0:d.id)===z.id?"border-violet-500 dark:border-violet-400 bg-violet-50 dark:bg-violet-900/20 shadow-violet-200 dark:shadow-violet-900/30":"border-gray-200 dark:border-gray-700 hover:border-violet-300 dark:hover:border-violet-600"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-blue-400 flex items-center justify-center text-white font-bold text-lg shadow",children:((ee=z.user_email)==null?void 0:ee.charAt(0).toUpperCase())||"U"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:z.title||"Tanpa Judul"})}),f.jsx("p",{className:`text-xs ${z.description?"text-gray-600 dark:text-gray-300":"text-gray-400 italic"} mb-1`,children:z.description||"(Tidak ada deskripsi)"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[f.jsxs("span",{children:["by ",f.jsx("span",{className:"font-medium text-violet-600 dark:text-violet-400",children:z.user_email||"Anonymous"})]}),f.jsx("span",{children:he(z.created_at)}),f.jsxs("span",{children:[" ",z.comments_count??0]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("button",{onClick:me=>{me.stopPropagation(),S(z.id,"like")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${b[z.id]==="like"?"bg-blue-100 text-blue-600 dark:bg-blue-900/60":"text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,title:"Like",children:[" ",z.likes_count??0]}),f.jsxs("button",{onClick:me=>{me.stopPropagation(),S(z.id,"dislike")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${b[z.id]==="dislike"?"bg-red-100 text-red-600 dark:bg-red-900/60":"text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:"Dislike",children:[" ",z.dislikes_count??0]}),f.jsxs("button",{onClick:me=>{me.stopPropagation(),R(z.id)},className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold text-violet-600 hover:bg-violet-50 dark:hover:bg-violet-900/30",children:[" ",G===z.id?"Hide":"Show"," Comments"]})]}),G===z.id&&f.jsxs("div",{className:"mt-2 bg-gray-50 dark:bg-gray-800 rounded p-2 w-full border border-gray-200 dark:border-gray-700",children:[f.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2 mb-2",children:q===z.id?f.jsx("div",{className:"text-gray-400 italic",children:"Loading..."}):(ue=W[z.id])!=null&&ue.length?W[z.id].map(me=>f.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-1 text-xs",children:[f.jsx("div",{children:me.content}),f.jsx("div",{className:"text-gray-400",children:me.user_email||"Anonymous"})]},me.id)):f.jsx("div",{className:"text-gray-400 italic",children:"No comments yet."})}),e&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:x,onChange:me=>v(me.target.value),placeholder:"Add a comment...",className:"flex-1 px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs"}),f.jsx("button",{onClick:async()=>{if(!x.trim())return;const me=await G4(Ie,z.id,x,e.id);P(pe=>({...pe,[z.id]:[...pe[z.id]||[],me]})),r(pe=>pe.map(ge=>ge.id===z.id?{...ge,comments_count:(ge.comments_count??0)+1}:ge)),v("")},disabled:!x.trim(),className:"px-3 py-1 bg-violet-600 text-white rounded hover:bg-violet-700 text-xs",children:"Post"})]})]})]},z.id)})})]})})]})}),E&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Share Analysis"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),f.jsx("input",{type:"text",value:k,onChange:z=>A(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter a title for your analysis..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),f.jsx("textarea",{value:T,onChange:z=>N(z.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Add a description..."})]})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{onClick:H,disabled:!k.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Share"})]})]})})]})},c5=()=>{const[e,n]=M.useState([]),[r,i]=M.useState(!0);M.useEffect(()=>{setTimeout(()=>{n([{id:1,time:"2024-01-15T14:30:00Z",currency:"USD",flag:"",importance:3,event:"Federal Reserve Interest Rate Decision",actual:"5.50%",forecast:"5.50%",previous:"5.50%",betterThanForecast:!1},{id:2,time:"2024-01-15T13:00:00Z",currency:"EUR",flag:"",importance:2,event:"ECB President Lagarde Speech",actual:void 0,forecast:void 0,previous:void 0,betterThanForecast:void 0},{id:3,time:"2024-01-15T12:30:00Z",currency:"GBP",flag:"",importance:1,event:"UK CPI (YoY)",actual:"3.9%",forecast:"4.0%",previous:"4.2%",betterThanForecast:!0}]),i(!1)},1e3)},[]);const s=u=>{switch(u){case 3:return"bg-red-500";case 2:return"bg-yellow-500";case 1:return"bg-green-500";default:return"bg-gray-500"}},o=u=>new Date(u).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return r?f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})})]}):f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kk,{className:"w-5 h-5 text-violet-600"}),f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Today's Events"})]})}),f.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(u=>f.jsx("div",{className:"p-6 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:u.flag}),f.jsx("div",{className:`w-3 h-3 rounded-full ${s(u.importance)}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:u.event}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[u.currency,"  ",o(u.time)]})]})]}),u.actual&&f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Actual:"}),f.jsx("span",{className:`font-semibold ${u.betterThanForecast===!0?"text-green-600 dark:text-green-400":u.betterThanForecast===!1?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:u.actual})]}),u.forecast&&f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["Forecast: ",u.forecast]})]})]})},u.id))})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Legend"}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"High Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Medium Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Low Impact"})]})]})]})]})},d5=({user:e,sidebarOpen:n,setSidebarOpen:r})=>{var u,d;const i=nr(),s=[{name:"Dashboard",href:"/dashboard",icon:cy},{name:"Trading Analysis",href:"/trading",icon:Hl},{name:"Portfolio",href:"/portfolio",icon:Yk},{name:"Community",href:"/community",icon:Vd},{name:"Economic Calendar",href:"/economic-calendar",icon:Xk},{name:"Settings",href:"/settings",icon:dy}],o=m=>i.pathname===m;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 z-40 bg-black bg-opacity-40 transition-opacity duration-300 ${n?"block":"hidden"}`,onClick:()=>r(!1)}),f.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} lg:hidden flex flex-col h-full`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs(di,{to:"/",className:"flex items-center",onClick:()=>r(!1),children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]}),f.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 dark:text-slate-300 hover:text-violet-600 p-2 ml-2",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(m=>{const h=m.icon;return f.jsxs(di,{to:m.href,onClick:()=>r(!1),className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(m.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(h,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(m.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),m.name]},m.name)})}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4 mt-auto",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((u=e.email)==null?void 0:u.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]}),f.jsxs("div",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:z-50 lg:bg-white lg:border-r lg:border-slate-200 dark:lg:bg-slate-900 dark:lg:border-slate-700 h-full",children:[f.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto h-full",children:[f.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:f.jsxs(di,{to:"/",className:"flex items-center",children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]})}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(m=>{const h=m.icon;return f.jsxs(di,{to:m.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(m.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(h,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(m.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),m.name]},m.name)})})]}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4 mt-auto",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((d=e.email)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]})]})},Xx=({user:e,onNavigate:n,onLogoutClick:r})=>{const[i,s]=M.useState(!1),o=M.useRef(null);return M.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e?f.jsxs("div",{className:"relative",ref:o,children:[f.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[f.jsx(Vk,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:f.jsxs("div",{className:"py-1",role:"none",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:e.email})]}),f.jsxs("button",{onClick:()=>{n("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(dy,{className:"w-5 h-5"}),f.jsx("span",{children:"Profile & Settings"})]}),f.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(eS,{className:"w-5 h-5"}),f.jsx("span",{children:"Logout"})]})]})})]}):null},f5=({onNavigate:e,user:n,onLoginClick:r,onLogoutClick:i,onMobileMenuToggle:s,showUserIcon:o,activeMode:u})=>f.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&f.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:f.jsx(rS,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2",children:[f.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),f.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),f.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[u!=="dashboard"&&f.jsx("button",{onClick:()=>e("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),n?f.jsx(f.Fragment,{children:o&&f.jsx(Xx,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),f.jsx("div",{className:"lg:hidden flex items-center gap-2",children:n?f.jsx(f.Fragment,{children:o&&f.jsx(Xx,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})});function h5(){const[e,n]=M.useState(null),[r,i]=M.useState(null),[s,o]=M.useState(!1),[u,d]=M.useState(!0),[m,h]=M.useState([]),[g,x]=M.useState(0),[v,b]=M.useState(""),[w,E]=M.useState("idle"),[j,k]=M.useState({prompt:0,completion:0,total:0}),[A,T]=M.useState("all"),[N,O]=M.useState(!1),D=xf(),G=te=>{if(te==="home")D("/");else if(te==="dashboard"){if(!r){o(!0);return}D("/dashboard")}else te==="portfolio"?D("/portfolio"):te==="community"?D("/community"):te==="settings"?D("/settings"):te==="economic-calendar"?D("/economic-calendar"):te==="trading"&&D("/trading")};M.useEffect(()=>{const te=Ie;if(n(te),te){(async()=>{try{const{data:{session:I}}=await te.auth.getSession();i((I==null?void 0:I.user)??null)}catch(I){console.error("Error getting initial session:",I)}finally{d(!1)}})();const H=D4(te,async I=>{i((I==null?void 0:I.user)??null),I!=null&&I.user||o(!1)});return()=>H==null?void 0:H.unsubscribe()}},[]),M.useEffect(()=>{r&&e?(M4(e,r.id).then(te=>{const S=(te||[]).filter(H=>H&&H.id&&H.tradeSetup&&H.marketTrend&&H.keyPattern&&H.indicatorAnalysis&&H.tradeBias&&typeof H.confidenceScore=="number");h(S)}),$v(e,r.id).then(te=>{x((te==null?void 0:te.initial_trade)||0)}),$4(e).then(te=>{te!=null&&te.gemini_api_key&&(b(te.gemini_api_key),E("valid"))})):(h([]),x(0))},[r,e]);const F=()=>{o(!0)},W=()=>{o(!1)},P=te=>{k(te)},q=async te=>{if(e&&r)try{await F4(e,te),b(te),E("valid")}catch(S){console.error("Error updating API key:",S),E("invalid")}},V=async te=>{try{await z4(te),h(S=>S.filter(H=>H.id!==te))}catch(S){alert("Gagal menghapus trade: "+(S.message||S))}},ae=m.filter(te=>A==="all"?!0:te.mode===A).filter(te=>te.status!=="pending").reduce((te,S)=>S.status==="profit"?te+(S.outcomeAmount||0):S.status==="stop-loss"?te-(S.outcomeAmount||0):te,0),ce=(g??0)+ae,B=()=>{O4(e),i(null),b(""),E("idle"),k({prompt:0,completion:0,total:0}),T("all"),D("/")},X=!!r,oe=A;return u?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Loading..."})]})}):(console.log("App user",r,"allTrades",m,"initialCapital",g),f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[f.jsx(f5,{onNavigate:G,user:r,onLoginClick:F,onLogoutClick:B,onMobileMenuToggle:()=>O(!0),showUserIcon:X,activeMode:oe}),r&&f.jsx(d5,{user:r,sidebarOpen:N,setSidebarOpen:O}),f.jsx("div",{className:r?"lg:pl-64":"",children:f.jsxs(uk,{children:[f.jsx(Nr,{path:"/",element:r?f.jsx(na,{to:"/dashboard",replace:!0}):f.jsx(TN,{user:r,onLoginClick:F})}),f.jsx(Nr,{path:"/dashboard",element:r?f.jsx(kN,{user:r,allTrades:m,initialCapital:g,apiKey:v,apiStatus:w,updateTokenUsage:P,mode:A,setDashboardSource:T}):f.jsx(na,{to:"/",replace:!0})}),f.jsx(Nr,{path:"/trading",element:r?f.jsx(n5,{user:r,apiKey:v,apiStatus:w,updateTokenUsage:P,onTradeAdded:te=>h(S=>[te,...S]),onTradeDeleted:V,tradeHistory:m,currentEquity:ce}):f.jsx(na,{to:"/",replace:!0})}),f.jsx(Nr,{path:"/settings",element:r?f.jsx(r5,{user:r,apiKey:v,apiStatus:w,onApiKeyUpdate:q}):f.jsx(na,{to:"/",replace:!0})}),f.jsx(Nr,{path:"/portfolio",element:r?f.jsx(o5,{user:r,apiKey:v,apiStatus:w,updateTokenUsage:P,portfolioData:null,userId:r.id}):f.jsx(na,{to:"/",replace:!0})}),f.jsx(Nr,{path:"/community",element:r?f.jsx(u5,{user:r}):f.jsx(na,{to:"/",replace:!0})}),f.jsx(Nr,{path:"/economic-calendar",element:r?f.jsx(c5,{}):f.jsx(na,{to:"/",replace:!0})})]})}),e&&f.jsx(K4,{supabaseClient:e,open:s,onClose:W})]}))}const Kv=document.getElementById("root");if(!Kv)throw new Error("Could not find root element to mount to");const m5=yw.createRoot(Kv);m5.render(f.jsx(sa.StrictMode,{children:f.jsx(Dk,{basename:"/fomo",children:f.jsx(h5,{})})}));
//# sourceMappingURL=index-C-hI6Nny.js.map
