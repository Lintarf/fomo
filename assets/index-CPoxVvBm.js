(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Hl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ak(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var nd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function ik(){if(zp)return pl;zp=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:c,ref:s!==void 0?s:null,props:o}}return pl.Fragment=n,pl.jsx=r,pl.jsxs=r,pl}var Up;function lk(){return Up||(Up=1,nd.exports=ik()),nd.exports}var f=lk(),rd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function sk(){if(Pp)return _e;Pp=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(k,Y,ie){this.props=k,this.context=Y,this.refs=j,this.updater=ie||v}N.prototype.isReactComponent={},N.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},N.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function E(){}E.prototype=N.prototype;function C(k,Y,ie){this.props=k,this.context=Y,this.refs=j,this.updater=ie||v}var D=C.prototype=new E;D.constructor=C,S(D,N.prototype),D.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function W(k,Y,ie,A,de,me){return ie=me.ref,{$$typeof:e,type:k,key:Y,ref:ie!==void 0?ie:null,props:me}}function te(k,Y){return W(k.type,Y,void 0,void 0,void 0,k.props)}function se(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function U(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return Y[ie]})}var V=/\/+/g;function K(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):Y.toString(36)}function J(){}function le(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(J,J):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function re(k,Y,ie,A,de){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var z=!1;if(k===null)z=!0;else switch(me){case"bigint":case"string":case"number":z=!0;break;case"object":switch(k.$$typeof){case e:case n:z=!0;break;case x:return z=k._init,re(z(k._payload),Y,ie,A,de)}}if(z)return de=de(k),z=A===""?"."+K(k,0):A,P(de)?(ie="",z!=null&&(ie=z.replace(V,"$&/")+"/"),re(de,Y,ie,"",function(Ee){return Ee})):de!=null&&(se(de)&&(de=te(de,ie+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+z)),Y.push(de)),1;z=0;var fe=A===""?".":A+":";if(P(k))for(var pe=0;pe<k.length;pe++)A=k[pe],me=fe+K(A,pe),z+=re(A,Y,ie,me,de);else if(pe=b(k),typeof pe=="function")for(k=pe.call(k),pe=0;!(A=k.next()).done;)A=A.value,me=fe+K(A,pe++),z+=re(A,Y,ie,me,de);else if(me==="object"){if(typeof k.then=="function")return re(le(k),Y,ie,A,de);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return z}function I(k,Y,ie){if(k==null)return k;var A=[],de=0;return re(k,A,"","",function(me){return Y.call(ie,me,de++)}),A}function $(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ne(){}return _e.Children={map:I,forEach:function(k,Y,ie){I(k,function(){Y.apply(this,arguments)},ie)},count:function(k){var Y=0;return I(k,function(){Y++}),Y},toArray:function(k){return I(k,function(Y){return Y})||[]},only:function(k){if(!se(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_e.Component=N,_e.Fragment=r,_e.Profiler=s,_e.PureComponent=C,_e.StrictMode=i,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,_e.__COMPILER_RUNTIME={__proto__:null,c:function(k){return T.H.useMemoCache(k)}},_e.cache=function(k){return function(){return k.apply(null,arguments)}},_e.cloneElement=function(k,Y,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var A=S({},k.props),de=k.key,me=void 0;if(Y!=null)for(z in Y.ref!==void 0&&(me=void 0),Y.key!==void 0&&(de=""+Y.key),Y)!L.call(Y,z)||z==="key"||z==="__self"||z==="__source"||z==="ref"&&Y.ref===void 0||(A[z]=Y[z]);var z=arguments.length-2;if(z===1)A.children=ie;else if(1<z){for(var fe=Array(z),pe=0;pe<z;pe++)fe[pe]=arguments[pe+2];A.children=fe}return W(k.type,de,void 0,void 0,me,A)},_e.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},_e.createElement=function(k,Y,ie){var A,de={},me=null;if(Y!=null)for(A in Y.key!==void 0&&(me=""+Y.key),Y)L.call(Y,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(de[A]=Y[A]);var z=arguments.length-2;if(z===1)de.children=ie;else if(1<z){for(var fe=Array(z),pe=0;pe<z;pe++)fe[pe]=arguments[pe+2];de.children=fe}if(k&&k.defaultProps)for(A in z=k.defaultProps,z)de[A]===void 0&&(de[A]=z[A]);return W(k,me,void 0,void 0,null,de)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(k){return{$$typeof:d,render:k}},_e.isValidElement=se,_e.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:$}},_e.memo=function(k,Y){return{$$typeof:m,type:k,compare:Y===void 0?null:Y}},_e.startTransition=function(k){var Y=T.T,ie={};T.T=ie;try{var A=k(),de=T.S;de!==null&&de(ie,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(ne,ae)}catch(me){ae(me)}finally{T.T=Y}},_e.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},_e.use=function(k){return T.H.use(k)},_e.useActionState=function(k,Y,ie){return T.H.useActionState(k,Y,ie)},_e.useCallback=function(k,Y){return T.H.useCallback(k,Y)},_e.useContext=function(k){return T.H.useContext(k)},_e.useDebugValue=function(){},_e.useDeferredValue=function(k,Y){return T.H.useDeferredValue(k,Y)},_e.useEffect=function(k,Y,ie){var A=T.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(k,Y)},_e.useId=function(){return T.H.useId()},_e.useImperativeHandle=function(k,Y,ie){return T.H.useImperativeHandle(k,Y,ie)},_e.useInsertionEffect=function(k,Y){return T.H.useInsertionEffect(k,Y)},_e.useLayoutEffect=function(k,Y){return T.H.useLayoutEffect(k,Y)},_e.useMemo=function(k,Y){return T.H.useMemo(k,Y)},_e.useOptimistic=function(k,Y){return T.H.useOptimistic(k,Y)},_e.useReducer=function(k,Y,ie){return T.H.useReducer(k,Y,ie)},_e.useRef=function(k){return T.H.useRef(k)},_e.useState=function(k){return T.H.useState(k)},_e.useSyncExternalStore=function(k,Y,ie){return T.H.useSyncExternalStore(k,Y,ie)},_e.useTransition=function(){return T.H.useTransition()},_e.version="19.1.0",_e}var Bp;function df(){return Bp||(Bp=1,rd.exports=sk()),rd.exports}var R=df();const Zr=Hl(R);var ad={exports:{}},gl={},id={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function ok(){return Ip||(Ip=1,function(e){function n(I,$){var ae=I.length;I.push($);e:for(;0<ae;){var ne=ae-1>>>1,k=I[ne];if(0<s(k,$))I[ne]=$,I[ae]=k,ae=ne;else break e}}function r(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var $=I[0],ae=I.pop();if(ae!==$){I[0]=ae;e:for(var ne=0,k=I.length,Y=k>>>1;ne<Y;){var ie=2*(ne+1)-1,A=I[ie],de=ie+1,me=I[de];if(0>s(A,ae))de<k&&0>s(me,A)?(I[ne]=me,I[de]=ae,ne=de):(I[ne]=A,I[ie]=ae,ne=ie);else if(de<k&&0>s(me,ae))I[ne]=me,I[de]=ae,ne=de;else break e}}return $}function s(I,$){var ae=I.sortIndex-$.sortIndex;return ae!==0?ae:I.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],m=[],x=1,y=null,b=3,v=!1,S=!1,j=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function P(I){for(var $=r(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=I)i(m),$.sortIndex=$.expirationTime,n(p,$);else break;$=r(m)}}function T(I){if(j=!1,P(I),!S)if(r(p)!==null)S=!0,L||(L=!0,K());else{var $=r(m);$!==null&&re(T,$.startTime-I)}}var L=!1,W=-1,te=5,se=-1;function U(){return N?!0:!(e.unstable_now()-se<te)}function V(){if(N=!1,L){var I=e.unstable_now();se=I;var $=!0;try{e:{S=!1,j&&(j=!1,C(W),W=-1),v=!0;var ae=b;try{t:{for(P(I),y=r(p);y!==null&&!(y.expirationTime>I&&U());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var k=ne(y.expirationTime<=I);if(I=e.unstable_now(),typeof k=="function"){y.callback=k,P(I),$=!0;break t}y===r(p)&&i(p),P(I)}else i(p);y=r(p)}if(y!==null)$=!0;else{var Y=r(m);Y!==null&&re(T,Y.startTime-I),$=!1}}break e}finally{y=null,b=ae,v=!1}$=void 0}}finally{$?K():L=!1}}}var K;if(typeof D=="function")K=function(){D(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=V,K=function(){le.postMessage(null)}}else K=function(){E(V,0)};function re(I,$){W=E(function(){I(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(I){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var ae=b;b=$;try{return I()}finally{b=ae}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ae=b;b=I;try{return $()}finally{b=ae}},e.unstable_scheduleCallback=function(I,$,ae){var ne=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ne+ae:ne):ae=ne,I){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ae+k,I={id:x++,callback:$,priorityLevel:I,startTime:ae,expirationTime:k,sortIndex:-1},ae>ne?(I.sortIndex=ae,n(m,I),r(p)===null&&I===r(m)&&(j?(C(W),W=-1):j=!0,re(T,ae-ne))):(I.sortIndex=k,n(p,I),S||v||(S=!0,L||(L=!0,K()))),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var $=b;return function(){var ae=b;b=$;try{return I.apply(this,arguments)}finally{b=ae}}}}(ld)),ld}var qp;function uk(){return qp||(qp=1,id.exports=ok()),id.exports}var sd={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function ck(){if(Hp)return _t;Hp=1;var e=df();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(p,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:p,containerInfo:m,implementation:x}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_t.createPortal=function(p,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return o(p,m,null,x)},_t.flushSync=function(p){var m=c.T,x=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=x,i.d.f()}},_t.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},_t.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_t.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var x=m.as,y=d(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):x==="script"&&i.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_t.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},_t.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=d(x,m.crossOrigin);i.d.L(p,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_t.preloadModule=function(p,m){if(typeof p=="string")if(m){var x=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},_t.requestFormReset=function(p){i.d.r(p)},_t.unstable_batchedUpdates=function(p,m){return p(m)},_t.useFormState=function(p,m,x){return c.H.useFormState(p,m,x)},_t.useFormStatus=function(){return c.H.useHostTransitionStatus()},_t.version="19.1.0",_t}var $p;function dk(){if($p)return sd.exports;$p=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),sd.exports=ck(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function fk(){if(Fp)return gl;Fp=1;var e=uk(),n=df(),r=dk();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function c(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function d(t){if(o(t)!==t)throw Error(i(188))}function p(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(i(188));return a!==t?null:t}for(var l=t,u=a;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return d(h),t;if(g===u)return d(h),a;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=h,u=g;else{for(var w=!1,_=h.child;_;){if(_===l){w=!0,l=h,u=g;break}if(_===u){w=!0,u=h,l=g;break}_=_.sibling}if(!w){for(_=g.child;_;){if(_===l){w=!0,l=g,u=h;break}if(_===u){w=!0,u=g,l=h;break}_=_.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:a}function m(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=m(t),a!==null)return a;t=t.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var J=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===J?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case D:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case P:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return a=t.displayName||null,a!==null?a:le(t.type)||"Memo";case te:a=t._payload,t=t._init;try{return le(t(a))}catch{}}return null}var re=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ne=[],k=-1;function Y(t){return{current:t}}function ie(t){0>k||(t.current=ne[k],ne[k]=null,k--)}function A(t,a){k++,ne[k]=t.current,t.current=a}var de=Y(null),me=Y(null),z=Y(null),fe=Y(null);function pe(t,a){switch(A(z,a),A(me,t),A(de,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?cp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=cp(a),t=dp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(de),A(de,t)}function Ee(){ie(de),ie(me),ie(z)}function Ge(t){t.memoizedState!==null&&A(fe,t);var a=de.current,l=dp(a,t.type);a!==l&&(A(me,t),A(de,l))}function ce(t){me.current===t&&(ie(de),ie(me)),fe.current===t&&(ie(fe),cl._currentValue=ae)}var Ce=Object.prototype.hasOwnProperty,ut=e.unstable_scheduleCallback,rt=e.unstable_cancelCallback,ra=e.unstable_shouldYield,Jl=e.unstable_requestPaint,It=e.unstable_now,qo=e.unstable_getCurrentPriorityLevel,yi=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,aa=e.unstable_NormalPriority,Ho=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,$o=e.log,Fo=e.unstable_setDisableYieldValue,Q=null,oe=null;function xe(t){if(typeof $o=="function"&&Fo(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(Q,t)}catch{}}var ke=Math.clz32?Math.clz32:Nn,Be=Math.log,qt=Math.LN2;function Nn(t){return t>>>=0,t===0?32:31-(Be(t)/qt|0)|0}var Rt=256,bn=4194304;function Ht(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ft(t,a,l){var u=t.pendingLanes;if(u===0)return 0;var h=0,g=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var _=u&134217727;return _!==0?(u=_&~g,u!==0?h=Ht(u):(w&=_,w!==0?h=Ht(w):l||(l=_&~t,l!==0&&(h=Ht(l))))):(_=u&~g,_!==0?h=Ht(_):w!==0?h=Ht(w):l||(l=u&~t,l!==0&&(h=Ht(l)))),h===0?0:a!==0&&a!==h&&(a&g)===0&&(g=h&-h,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:h}function Zt(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function cn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var t=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),t}function Kf(){var t=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),t}function Go(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function vi(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yb(t,a,l,u,h,g){var w=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var _=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(l=w&~l;0<l;){var X=31-ke(l),ee=1<<X;_[X]=0,O[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}l&=~ee}u!==0&&Qf(t,u,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(w&~a))}function Qf(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-ke(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|l&4194090}function Xf(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var u=31-ke(l),h=1<<u;h&a|t[u]&a&&(t[u]|=a),l&=~h}}function Yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jf(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Tp(t.type))}function Vb(t,a){var l=$.p;try{return $.p=t,a()}finally{$.p=l}}var Jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Jn,Ot="__reactProps$"+Jn,ia="__reactContainer$"+Jn,Ko="__reactEvents$"+Jn,Kb="__reactListeners$"+Jn,Qb="__reactHandles$"+Jn,Zf="__reactResources$"+Jn,ki="__reactMarker$"+Jn;function Qo(t){delete t[wt],delete t[Ot],delete t[Ko],delete t[Kb],delete t[Qb]}function la(t){var a=t[wt];if(a)return a;for(var l=t.parentNode;l;){if(a=l[ia]||l[wt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=pp(t);t!==null;){if(l=t[wt])return l;t=pp(t)}return a}t=l,l=t.parentNode}return null}function sa(t){if(t=t[wt]||t[ia]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function wi(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function oa(t){var a=t[Zf];return a||(a=t[Zf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ht(t){t[ki]=!0}var Wf=new Set,eh={};function Tr(t,a){ua(t,a),ua(t+"Capture",a)}function ua(t,a){for(eh[t]=a,t=0;t<a.length;t++)Wf.add(a[t])}var Xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},nh={};function Jb(t){return Ce.call(nh,t)?!0:Ce.call(th,t)?!1:Xb.test(t)?nh[t]=!0:(th[t]=!0,!1)}function Wl(t,a,l){if(Jb(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function es(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function Cn(t,a,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+u)}}var Xo,rh;function ca(t){if(Xo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Xo=a&&a[1]||"",rh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+t+rh}var Jo=!1;function Zo(t,a){if(!t||Jo)return"";Jo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var F=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){F=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){F=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],_=g[1];if(w&&_){var O=w.split(`
`),H=_.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===H.length)for(u=O.length-1,h=H.length-1;1<=u&&0<=h&&O[u]!==H[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==H[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==H[h]){var X=`
`+O[u].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=u&&0<=h);break}}}finally{Jo=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?ca(l):""}function Zb(t){switch(t.tag){case 26:case 27:case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return Zo(t.type,!1);case 11:return Zo(t.type.render,!1);case 1:return Zo(t.type,!0);case 31:return ca("Activity");default:return""}}function ah(t){try{var a="";do a+=Zb(t),t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ih(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Wb(t){var a=ih(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),u=""+t[a];if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ts(t){t._valueTracker||(t._valueTracker=Wb(t))}function lh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return t&&(u=ih(t)?t.checked?"true":"false":t.value),t=u,t!==l?(a.setValue(t),!0):!1}function ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ev=/[\n"\\]/g;function en(t){return t.replace(ev,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wo(t,a,l,u,h,g,w,_){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),a!=null?w==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Wt(a)):t.value!==""+Wt(a)&&(t.value=""+Wt(a)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),a!=null?eu(t,w,Wt(a)):l!=null?eu(t,w,Wt(l)):u!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Wt(_):t.removeAttribute("name")}function sh(t,a,l,u,h,g,w,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+Wt(l):"",a=a!=null?""+Wt(a):l,_||a===t.value||(t.value=a),t.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=_?t.checked:!!u,t.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w)}function eu(t,a,l){a==="number"&&ns(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function da(t,a,l,u){if(t=t.options,a){a={};for(var h=0;h<l.length;h++)a["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=a.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&u&&(t[l].defaultSelected=!0)}else{for(l=""+Wt(l),a=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}a!==null||t[h].disabled||(a=t[h])}a!==null&&(a.selected=!0)}}function oh(t,a,l){if(a!=null&&(a=""+Wt(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+Wt(l):""}function uh(t,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(re(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Wt(a),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u)}function fa(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var tv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(t,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,l):typeof l!="number"||l===0||tv.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function dh(t,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&l[h]!==u&&ch(t,h,u)}else for(var g in a)a.hasOwnProperty(g)&&ch(t,g,a[g])}function tu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(t){return rv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var nu=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,ma=null;function fh(t){var a=sa(t);if(a&&(t=a.stateNode)){var l=t[Ot]||null;e:switch(t=a.stateNode,a.type){case"input":if(Wo(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==t&&u.form===t.form){var h=u[Ot]||null;if(!h)throw Error(i(90));Wo(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===t.form&&lh(u)}break e;case"textarea":oh(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&da(t,!!l.multiple,a,!1)}}}var au=!1;function hh(t,a,l){if(au)return t(a,l);au=!0;try{var u=t(a);return u}finally{if(au=!1,(ha!==null||ma!==null)&&(Hs(),ha&&(a=ha,t=ma,ma=ha=null,fh(a),t)))for(a=0;a<t.length;a++)fh(t[a])}}function Si(t,a){var l=t.stateNode;if(l===null)return null;var u=l[Ot]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(Tn)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){iu=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{iu=!1}var Zn=null,lu=null,as=null;function mh(){if(as)return as;var t,a=lu,l=a.length,u,h="value"in Zn?Zn.value:Zn.textContent,g=h.length;for(t=0;t<l&&a[t]===h[t];t++);var w=l-t;for(u=1;u<=w&&a[l-u]===h[g-u];u++);return as=h.slice(t,1<u?1-u:void 0)}function is(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function ph(){return!1}function Dt(t){function a(l,u,h,g,w){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(l=t[_],this[_]=l?l(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ls:ph,this.isPropagationStopped=ph,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Dt(Rr),ji=x({},Rr,{view:0,detail:0}),av=Dt(ji),su,ou,Ei,os=x({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(su=t.screenX-Ei.screenX,ou=t.screenY-Ei.screenY):ou=su=0,Ei=t),su)},movementY:function(t){return"movementY"in t?t.movementY:ou}}),gh=Dt(os),iv=x({},os,{dataTransfer:0}),lv=Dt(iv),sv=x({},ji,{relatedTarget:0}),uu=Dt(sv),ov=x({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),uv=Dt(ov),cv=x({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dv=Dt(cv),fv=x({},Rr,{data:0}),xh=Dt(fv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=pv[t])?!!a[t]:!1}function cu(){return gv}var xv=x({},ji,{key:function(t){if(t.key){var a=hv[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(t){return t.type==="keypress"?is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yv=Dt(xv),bv=x({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=Dt(bv),vv=x({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),kv=Dt(vv),wv=x({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=Dt(wv),_v=x({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jv=Dt(_v),Ev=x({},Rr,{newState:0,oldState:0}),Av=Dt(Ev),Nv=[9,13,27,32],du=Tn&&"CompositionEvent"in window,Ai=null;Tn&&"documentMode"in document&&(Ai=document.documentMode);var Cv=Tn&&"TextEvent"in window&&!Ai,bh=Tn&&(!du||Ai&&8<Ai&&11>=Ai),vh=" ",kh=!1;function wh(t,a){switch(t){case"keyup":return Nv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function Tv(t,a){switch(t){case"compositionend":return Sh(a);case"keypress":return a.which!==32?null:(kh=!0,vh);case"textInput":return t=a.data,t===vh&&kh?null:t;default:return null}}function Rv(t,a){if(pa)return t==="compositionend"||!du&&wh(t,a)?(t=mh(),as=lu=Zn=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return bh&&a.locale!=="ko"?null:a.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Ov[t.type]:a==="textarea"}function jh(t,a,l,u){ha?ma?ma.push(u):ma=[u]:ha=u,a=Ks(a,"onChange"),0<a.length&&(l=new ss("onChange","change",null,l,u),t.push({event:l,listeners:a}))}var Ni=null,Ci=null;function Dv(t){ip(t,0)}function us(t){var a=wi(t);if(lh(a))return t}function Eh(t,a){if(t==="change")return a}var Ah=!1;if(Tn){var fu;if(Tn){var hu="oninput"in document;if(!hu){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),hu=typeof Nh.oninput=="function"}fu=hu}else fu=!1;Ah=fu&&(!document.documentMode||9<document.documentMode)}function Ch(){Ni&&(Ni.detachEvent("onpropertychange",Th),Ci=Ni=null)}function Th(t){if(t.propertyName==="value"&&us(Ci)){var a=[];jh(a,Ci,t,ru(t)),hh(Dv,a)}}function Lv(t,a,l){t==="focusin"?(Ch(),Ni=a,Ci=l,Ni.attachEvent("onpropertychange",Th)):t==="focusout"&&Ch()}function Mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(Ci)}function zv(t,a){if(t==="click")return us(a)}function Uv(t,a){if(t==="input"||t==="change")return us(a)}function Pv(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var $t=typeof Object.is=="function"?Object.is:Pv;function Ti(t,a){if($t(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!Ce.call(a,h)||!$t(t[h],a[h]))return!1}return!0}function Rh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oh(t,a){var l=Rh(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=a&&u>=a)return{node:l,offset:a-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rh(l)}}function Dh(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Dh(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Lh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=ns(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=ns(t.document)}return a}function mu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Bv=Tn&&"documentMode"in document&&11>=document.documentMode,ga=null,pu=null,Ri=null,gu=!1;function Mh(t,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gu||ga==null||ga!==ns(u)||(u=ga,"selectionStart"in u&&mu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ri&&Ti(Ri,u)||(Ri=u,u=Ks(pu,"onSelect"),0<u.length&&(a=new ss("onSelect","select",null,a,l),t.push({event:a,listeners:u}),a.target=ga)))}function Or(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var xa={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},xu={},zh={};Tn&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Dr(t){if(xu[t])return xu[t];if(!xa[t])return t;var a=xa[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in zh)return xu[t]=a[l];return t}var Uh=Dr("animationend"),Ph=Dr("animationiteration"),Bh=Dr("animationstart"),Iv=Dr("transitionrun"),qv=Dr("transitionstart"),Hv=Dr("transitioncancel"),Ih=Dr("transitionend"),qh=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function dn(t,a){qh.set(t,a),Tr(a,[t])}var Hh=new WeakMap;function tn(t,a){if(typeof t=="object"&&t!==null){var l=Hh.get(t);return l!==void 0?l:(a={value:t,source:a,stack:ah(a)},Hh.set(t,a),a)}return{value:t,source:a,stack:ah(a)}}var nn=[],ya=0,bu=0;function cs(){for(var t=ya,a=bu=ya=0;a<t;){var l=nn[a];nn[a++]=null;var u=nn[a];nn[a++]=null;var h=nn[a];nn[a++]=null;var g=nn[a];if(nn[a++]=null,u!==null&&h!==null){var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}g!==0&&$h(l,h,g)}}function ds(t,a,l,u){nn[ya++]=t,nn[ya++]=a,nn[ya++]=l,nn[ya++]=u,bu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function vu(t,a,l,u){return ds(t,a,l,u),fs(t)}function ba(t,a){return ds(t,null,null,a),fs(t)}function $h(t,a,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var h=!1,g=t.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&a!==null&&(h=31-ke(l),t=g.hiddenUpdates,u=t[h],u===null?t[h]=[a]:u.push(a),a.lane=l|536870912),g):null}function fs(t){if(50<nl)throw nl=0,Ec=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var va={};function $v(t,a,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,a,l,u){return new $v(t,a,l,u)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rn(t,a){var l=t.alternate;return l===null?(l=Ft(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Fh(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function hs(t,a,l,u,h,g){var w=0;if(u=t,typeof t=="function")ku(t)&&(w=1);else if(typeof t=="string")w=G1(t,l,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=Ft(31,l,a,h),t.elementType=se,t.lanes=g,t;case S:return Lr(l.children,h,g,a);case j:w=8,h|=24;break;case N:return t=Ft(12,l,a,h|2),t.elementType=N,t.lanes=g,t;case T:return t=Ft(13,l,a,h),t.elementType=T,t.lanes=g,t;case L:return t=Ft(19,l,a,h),t.elementType=L,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case D:w=10;break e;case C:w=9;break e;case P:w=11;break e;case W:w=14;break e;case te:w=16,u=null;break e}w=29,l=Error(i(130,t===null?"null":typeof t,"")),u=null}return a=Ft(w,l,a,h),a.elementType=t,a.type=u,a.lanes=g,a}function Lr(t,a,l,u){return t=Ft(7,t,u,a),t.lanes=l,t}function wu(t,a,l){return t=Ft(6,t,null,a),t.lanes=l,t}function Su(t,a,l){return a=Ft(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var ka=[],wa=0,ms=null,ps=0,rn=[],an=0,Mr=null,On=1,Dn="";function zr(t,a){ka[wa++]=ps,ka[wa++]=ms,ms=t,ps=a}function Gh(t,a,l){rn[an++]=On,rn[an++]=Dn,rn[an++]=Mr,Mr=t;var u=On;t=Dn;var h=32-ke(u)-1;u&=~(1<<h),l+=1;var g=32-ke(a)+h;if(30<g){var w=h-h%5;g=(u&(1<<w)-1).toString(32),u>>=w,h-=w,On=1<<32-ke(a)+h|l<<h|u,Dn=g+t}else On=1<<g|l<<h|u,Dn=t}function _u(t){t.return!==null&&(zr(t,1),Gh(t,1,0))}function ju(t){for(;t===ms;)ms=ka[--wa],ka[wa]=null,ps=ka[--wa],ka[wa]=null;for(;t===Mr;)Mr=rn[--an],rn[an]=null,Dn=rn[--an],rn[an]=null,On=rn[--an],rn[an]=null}var Ct=null,et=null,Ue=!1,Ur=null,vn=!1,Eu=Error(i(519));function Pr(t){var a=Error(i(418,""));throw Li(tn(a,t)),Eu}function Yh(t){var a=t.stateNode,l=t.type,u=t.memoizedProps;switch(a[wt]=t,a[Ot]=u,l){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(l=0;l<al.length;l++)Re(al[l],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),sh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ts(a);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),uh(a,u.value,u.defaultValue,u.children),ts(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||up(a.textContent,l)?(u.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),u.onScroll!=null&&Re("scroll",a),u.onScrollEnd!=null&&Re("scrollend",a),u.onClick!=null&&(a.onclick=Qs),a=!0):a=!1,a||Pr(t)}function Vh(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Ct=Ct.return}}function Oi(t){if(t!==Ct)return!1;if(!Ue)return Vh(t),Ue=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Hc(t.type,t.memoizedProps)),l=!l),l&&et&&Pr(t),Vh(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(a===0){et=hn(t.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;t=t.nextSibling}et=null}}else a===27?(a=et,mr(t.type)?(t=Yc,Yc=null,et=t):et=a):et=Ct?hn(t.stateNode.nextSibling):null;return!0}function Di(){et=Ct=null,Ue=!1}function Kh(){var t=Ur;return t!==null&&(zt===null?zt=t:zt.push.apply(zt,t),Ur=null),t}function Li(t){Ur===null?Ur=[t]:Ur.push(t)}var Au=Y(null),Br=null,Ln=null;function Wn(t,a,l){A(Au,a._currentValue),a._currentValue=l}function Mn(t){t._currentValue=Au.current,ie(Au)}function Nu(t,a,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===l)break;t=t.return}}function Cu(t,a,l,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var w=h.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=h;for(var O=0;O<a.length;O++)if(_.context===a[O]){g.lanes|=l,_=g.alternate,_!==null&&(_.lanes|=l),Nu(g.return,l,t),u||(w=null);break e}g=_.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(i(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),Nu(w,l,t),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===t){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Mi(t,a,l,u){t=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var _=h.type;$t(h.pendingProps.value,w.value)||(t!==null?t.push(_):t=[_])}}else if(h===fe.current){if(w=h.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}h=h.return}t!==null&&Cu(a,t,l,u),a.flags|=262144}function gs(t){for(t=t.firstContext;t!==null;){if(!$t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Br=t,Ln=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function St(t){return Qh(Br,t)}function xs(t,a){return Br===null&&Ir(t),Qh(t,a)}function Qh(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ln===null){if(t===null)throw Error(i(308));Ln=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Ln=Ln.next=a;return l}var Fv=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},Gv=e.unstable_scheduleCallback,Yv=e.unstable_NormalPriority,ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new Fv,data:new Map,refCount:0}}function zi(t){t.refCount--,t.refCount===0&&Gv(Yv,function(){t.controller.abort()})}var Ui=null,Ru=0,Sa=0,_a=null;function Vv(t,a){if(Ui===null){var l=Ui=[];Ru=0,Sa=Dc(),_a={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ru++,a.then(Xh,Xh),a}function Xh(){if(--Ru===0&&Ui!==null){_a!==null&&(_a.status="fulfilled");var t=Ui;Ui=null,Sa=0,_a=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Kv(t,a){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<l.length;h++)(0,l[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var Jh=I.S;I.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Vv(t,a),Jh!==null&&Jh(t,a)};var qr=Y(null);function Ou(){var t=qr.current;return t!==null?t:Ke.pooledCache}function ys(t,a){a===null?A(qr,qr.current):A(qr,a.pool)}function Zh(){var t=Ou();return t===null?null:{parent:ct._currentValue,pool:t}}var Pi=Error(i(460)),Wh=Error(i(474)),bs=Error(i(542)),Du={then:function(){}};function em(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vs(){}function tm(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(vs,vs),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,rm(t),t;default:if(typeof a.status=="string")a.then(vs,vs);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,rm(t),t}throw Bi=a,Pi}}var Bi=null;function nm(){if(Bi===null)throw Error(i(459));var t=Bi;return Bi=null,t}function rm(t){if(t===Pi||t===bs)throw Error(i(483))}var er=!1;function Lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,a,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ie&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=fs(t),$h(t,null,l),a}return ds(t,u,a,l),fs(t)}function Ii(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,l|=u,a.lanes=l,Xf(t,l)}}function zu(t,a){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?h=g=a:g=g.next=a}else h=g=a;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Uu=!1;function qi(){if(Uu){var t=_a;if(t!==null)throw t}}function Hi(t,a,l,u){Uu=!1;var h=t.updateQueue;er=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var O=_,H=O.next;O.next=null,w===null?g=H:w.next=H,w=O;var X=t.alternate;X!==null&&(X=X.updateQueue,_=X.lastBaseUpdate,_!==w&&(_===null?X.firstBaseUpdate=H:_.next=H,X.lastBaseUpdate=O))}if(g!==null){var ee=h.baseState;w=0,X=H=O=null,_=g;do{var F=_.lane&-536870913,G=F!==_.lane;if(G?(Le&F)===F:(u&F)===F){F!==0&&F===Sa&&(Uu=!0),X!==null&&(X=X.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var we=t,be=_;F=a;var Fe=l;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){ee=we.call(Fe,ee,F);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,F=typeof we=="function"?we.call(Fe,ee,F):we,F==null)break e;ee=x({},ee,F);break e;case 2:er=!0}}F=_.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:_.tag,payload:_.payload,callback:_.callback,next:null},X===null?(H=X=G,O=ee):X=X.next=G,w|=F;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;G=_,_=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(O=ee),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=X,g===null&&(h.shared.lanes=0),cr|=w,t.lanes=w,t.memoizedState=ee}}function am(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function im(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)am(l[t],a)}var ja=Y(null),ks=Y(0);function lm(t,a){t=Hn,A(ks,t),A(ja,a),Hn=t|a.baseLanes}function Pu(){A(ks,Hn),A(ja,ja.current)}function Bu(){Hn=ks.current,ie(ja),ie(ks)}var rr=0,Ae=null,He=null,lt=null,ws=!1,Ea=!1,Hr=!1,Ss=0,$i=0,Aa=null,Qv=0;function at(){throw Error(i(321))}function Iu(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!$t(t[l],a[l]))return!1;return!0}function qu(t,a,l,u,h,g){return rr=g,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=t===null||t.memoizedState===null?$m:Fm,Hr=!1,g=l(u,h),Hr=!1,Ea&&(g=om(a,l,u,h)),sm(t),g}function sm(t){I.H=Cs;var a=He!==null&&He.next!==null;if(rr=0,lt=He=Ae=null,ws=!1,$i=0,Aa=null,a)throw Error(i(300));t===null||mt||(t=t.dependencies,t!==null&&gs(t)&&(mt=!0))}function om(t,a,l,u){Ae=t;var h=0;do{if(Ea&&(Aa=null),$i=0,Ea=!1,25<=h)throw Error(i(301));if(h+=1,lt=He=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=n1,g=a(l,u)}while(Ea);return g}function Xv(){var t=I.H,a=t.useState()[0];return a=typeof a.then=="function"?Fi(a):a,t=t.useState()[0],(He!==null?He.memoizedState:null)!==t&&(Ae.flags|=1024),a}function Hu(){var t=Ss!==0;return Ss=0,t}function $u(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Fu(t){if(ws){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ws=!1}rr=0,lt=He=Ae=null,Ea=!1,$i=Ss=0,Aa=null}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ae.memoizedState=lt=t:lt=lt.next=t,lt}function st(){if(He===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var a=lt===null?Ae.memoizedState:lt.next;if(a!==null)lt=a,He=t;else{if(t===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},lt===null?Ae.memoizedState=lt=t:lt=lt.next=t}return lt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(t){var a=$i;return $i+=1,Aa===null&&(Aa=[]),t=tm(Aa,t,a),a=Ae,(lt===null?a.memoizedState:lt.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?$m:Fm),t}function _s(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fi(t);if(t.$$typeof===D)return St(t)}throw Error(i(438,String(t)))}function Yu(t){var a=null,l=Ae.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Gu(),Ae.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),u=0;u<t;u++)l[u]=U;return a.index++,l}function zn(t,a){return typeof a=="function"?a(t):a}function js(t){var a=st();return Vu(a,He,t)}function Vu(t,a,l){var u=t.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var h=t.baseQueue,g=u.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}a.baseQueue=h=g,u.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{a=h.next;var _=w=null,O=null,H=a,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Le&ee)===ee:(rr&ee)===ee){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Sa&&(X=!0);else if((rr&F)===F){H=H.next,F===Sa&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(_=O=ee,w=g):O=O.next=ee,Ae.lanes|=F,cr|=F;ee=H.action,Hr&&l(g,ee),g=H.hasEagerState?H.eagerState:l(g,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(_=O=F,w=g):O=O.next=F,Ae.lanes|=ee,cr|=ee;H=H.next}while(H!==null&&H!==a);if(O===null?w=g:O.next=_,!$t(g,t.memoizedState)&&(mt=!0,X&&(l=_a,l!==null)))throw l;t.memoizedState=g,t.baseState=w,t.baseQueue=O,u.lastRenderedState=g}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ku(t){var a=st(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var u=l.dispatch,h=l.pending,g=a.memoizedState;if(h!==null){l.pending=null;var w=h=h.next;do g=t(g,w.action),w=w.next;while(w!==h);$t(g,a.memoizedState)||(mt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function um(t,a,l){var u=Ae,h=st(),g=Ue;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!$t((He||h).memoizedState,l);w&&(h.memoizedState=l,mt=!0),h=h.queue;var _=fm.bind(null,u,h,t);if(Gi(2048,8,_,[t]),h.getSnapshot!==a||w||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,Na(9,Es(),dm.bind(null,u,h,l,a),null),Ke===null)throw Error(i(349));g||(rr&124)!==0||cm(u,a,l)}return l}function cm(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Ae.updateQueue,a===null?(a=Gu(),Ae.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function dm(t,a,l,u){a.value=l,a.getSnapshot=u,hm(a)&&mm(t)}function fm(t,a,l){return l(function(){hm(a)&&mm(t)})}function hm(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!$t(t,l)}catch{return!0}}function mm(t){var a=ba(t,2);a!==null&&Qt(a,t,2)}function Qu(t){var a=Lt();if(typeof t=="function"){var l=t;if(t=l(),Hr){xe(!0);try{l()}finally{xe(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:t},a}function pm(t,a,l,u){return t.baseState=l,Vu(t,He,typeof u=="function"?u:zn)}function Jv(t,a,l,u,h){if(Ns(t))throw Error(i(485));if(t=a.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};I.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,gm(a,g)):(g.next=l.next,a.pending=l.next=g)}}function gm(t,a){var l=a.action,u=a.payload,h=t.state;if(a.isTransition){var g=I.T,w={};I.T=w;try{var _=l(h,u),O=I.S;O!==null&&O(w,_),xm(t,a,_)}catch(H){Xu(t,a,H)}finally{I.T=g}}else try{g=l(h,u),xm(t,a,g)}catch(H){Xu(t,a,H)}}function xm(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ym(t,a,u)},function(u){return Xu(t,a,u)}):ym(t,a,l)}function ym(t,a,l){a.status="fulfilled",a.value=l,bm(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,gm(t,l)))}function Xu(t,a,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,bm(a),a=a.next;while(a!==u)}t.action=null}function bm(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function vm(t,a){return a}function km(t,a){if(Ue){var l=Ke.formState;if(l!==null){e:{var u=Ae;if(Ue){if(et){t:{for(var h=et,g=vn;h.nodeType!==8;){if(!g){h=null;break t}if(h=hn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){et=hn(h.nextSibling),u=h.data==="F!";break e}}Pr(u)}u=!1}u&&(a=l[0])}}return l=Lt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vm,lastRenderedState:a},l.queue=u,l=Im.bind(null,Ae,u),u.dispatch=l,u=Qu(!1),g=tc.bind(null,Ae,!1,u.queue),u=Lt(),h={state:a,dispatch:null,action:t,pending:null},u.queue=h,l=Jv.bind(null,Ae,h,g,l),h.dispatch=l,u.memoizedState=t,[a,l,!1]}function wm(t){var a=st();return Sm(a,He,t)}function Sm(t,a,l){if(a=Vu(t,a,vm)[0],t=js(zn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Fi(a)}catch(w){throw w===Pi?bs:w}else u=a;a=st();var h=a.queue,g=h.dispatch;return l!==a.memoizedState&&(Ae.flags|=2048,Na(9,Es(),Zv.bind(null,h,l),null)),[u,g,t]}function Zv(t,a){t.action=a}function _m(t){var a=st(),l=He;if(l!==null)return Sm(a,l,t);st(),a=a.memoizedState,l=st();var u=l.queue.dispatch;return l.memoizedState=t,[a,u,!1]}function Na(t,a,l,u){return t={tag:t,create:l,deps:u,inst:a,next:null},a=Ae.updateQueue,a===null&&(a=Gu(),Ae.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,a.lastEffect=t),t}function Es(){return{destroy:void 0,resource:void 0}}function jm(){return st().memoizedState}function As(t,a,l,u){var h=Lt();u=u===void 0?null:u,Ae.flags|=t,h.memoizedState=Na(1|a,Es(),l,u)}function Gi(t,a,l,u){var h=st();u=u===void 0?null:u;var g=h.memoizedState.inst;He!==null&&u!==null&&Iu(u,He.memoizedState.deps)?h.memoizedState=Na(a,g,l,u):(Ae.flags|=t,h.memoizedState=Na(1|a,g,l,u))}function Em(t,a){As(8390656,8,t,a)}function Am(t,a){Gi(2048,8,t,a)}function Nm(t,a){return Gi(4,2,t,a)}function Cm(t,a){return Gi(4,4,t,a)}function Tm(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Rm(t,a,l){l=l!=null?l.concat([t]):null,Gi(4,4,Tm.bind(null,a,t),l)}function Ju(){}function Om(t,a){var l=st();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Iu(a,u[1])?u[0]:(l.memoizedState=[t,a],t)}function Dm(t,a){var l=st();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Iu(a,u[1]))return u[0];if(u=t(),Hr){xe(!0);try{t()}finally{xe(!1)}}return l.memoizedState=[u,a],u}function Zu(t,a,l){return l===void 0||(rr&1073741824)!==0?t.memoizedState=a:(t.memoizedState=l,t=z0(),Ae.lanes|=t,cr|=t,l)}function Lm(t,a,l,u){return $t(l,a)?l:ja.current!==null?(t=Zu(t,l,u),$t(t,a)||(mt=!0),t):(rr&42)===0?(mt=!0,t.memoizedState=l):(t=z0(),Ae.lanes|=t,cr|=t,a)}function Mm(t,a,l,u,h){var g=$.p;$.p=g!==0&&8>g?g:8;var w=I.T,_={};I.T=_,tc(t,!1,a,l);try{var O=h(),H=I.S;if(H!==null&&H(_,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=Kv(O,u);Yi(t,a,X,Kt(t))}else Yi(t,a,u,Kt(t))}catch(ee){Yi(t,a,{then:function(){},status:"rejected",reason:ee},Kt())}finally{$.p=g,I.T=w}}function Wv(){}function Wu(t,a,l,u){if(t.tag!==5)throw Error(i(476));var h=zm(t).queue;Mm(t,h,a,ae,l===null?Wv:function(){return Um(t),l(u)})}function zm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:ae},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Um(t){var a=zm(t).next.queue;Yi(t,a,{},Kt())}function ec(){return St(cl)}function Pm(){return st().memoizedState}function Bm(){return st().memoizedState}function e1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=Kt();t=tr(l);var u=nr(a,t,l);u!==null&&(Qt(u,a,l),Ii(u,a,l)),a={cache:Tu()},t.payload=a;return}a=a.return}}function t1(t,a,l){var u=Kt();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ns(t)?qm(a,l):(l=vu(t,a,l,u),l!==null&&(Qt(l,t,u),Hm(l,a,u)))}function Im(t,a,l){var u=Kt();Yi(t,a,l,u)}function Yi(t,a,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ns(t))qm(a,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,_=g(w,l);if(h.hasEagerState=!0,h.eagerState=_,$t(_,w))return ds(t,a,h,0),Ke===null&&cs(),!1}catch{}finally{}if(l=vu(t,a,h,u),l!==null)return Qt(l,t,u),Hm(l,a,u),!0}return!1}function tc(t,a,l,u){if(u={lane:2,revertLane:Dc(),action:u,hasEagerState:!1,eagerState:null,next:null},Ns(t)){if(a)throw Error(i(479))}else a=vu(t,l,u,2),a!==null&&Qt(a,t,2)}function Ns(t){var a=t.alternate;return t===Ae||a!==null&&a===Ae}function qm(t,a){Ea=ws=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Hm(t,a,l){if((l&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,l|=u,a.lanes=l,Xf(t,l)}}var Cs={readContext:St,use:_s,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},$m={readContext:St,use:_s,useCallback:function(t,a){return Lt().memoizedState=[t,a===void 0?null:a],t},useContext:St,useEffect:Em,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,As(4194308,4,Tm.bind(null,a,t),l)},useLayoutEffect:function(t,a){return As(4194308,4,t,a)},useInsertionEffect:function(t,a){As(4,2,t,a)},useMemo:function(t,a){var l=Lt();a=a===void 0?null:a;var u=t();if(Hr){xe(!0);try{t()}finally{xe(!1)}}return l.memoizedState=[u,a],u},useReducer:function(t,a,l){var u=Lt();if(l!==void 0){var h=l(a);if(Hr){xe(!0);try{l(a)}finally{xe(!1)}}}else h=a;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=t1.bind(null,Ae,t),[u.memoizedState,t]},useRef:function(t){var a=Lt();return t={current:t},a.memoizedState=t},useState:function(t){t=Qu(t);var a=t.queue,l=Im.bind(null,Ae,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:Ju,useDeferredValue:function(t,a){var l=Lt();return Zu(l,t,a)},useTransition:function(){var t=Qu(!1);return t=Mm.bind(null,Ae,t.queue,!0,!1),Lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var u=Ae,h=Lt();if(Ue){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Ke===null)throw Error(i(349));(Le&124)!==0||cm(u,a,l)}h.memoizedState=l;var g={value:l,getSnapshot:a};return h.queue=g,Em(fm.bind(null,u,g,t),[t]),u.flags|=2048,Na(9,Es(),dm.bind(null,u,g,l,a),null),l},useId:function(){var t=Lt(),a=Ke.identifierPrefix;if(Ue){var l=Dn,u=On;l=(u&~(1<<32-ke(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=Ss++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Qv++,a="«"+a+"r"+l.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:ec,useFormState:km,useActionState:km,useOptimistic:function(t){var a=Lt();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tc.bind(null,Ae,!0,l),l.dispatch=a,[t,a]},useMemoCache:Yu,useCacheRefresh:function(){return Lt().memoizedState=e1.bind(null,Ae)}},Fm={readContext:St,use:_s,useCallback:Om,useContext:St,useEffect:Am,useImperativeHandle:Rm,useInsertionEffect:Nm,useLayoutEffect:Cm,useMemo:Dm,useReducer:js,useRef:jm,useState:function(){return js(zn)},useDebugValue:Ju,useDeferredValue:function(t,a){var l=st();return Lm(l,He.memoizedState,t,a)},useTransition:function(){var t=js(zn)[0],a=st().memoizedState;return[typeof t=="boolean"?t:Fi(t),a]},useSyncExternalStore:um,useId:Pm,useHostTransitionStatus:ec,useFormState:wm,useActionState:wm,useOptimistic:function(t,a){var l=st();return pm(l,He,t,a)},useMemoCache:Yu,useCacheRefresh:Bm},n1={readContext:St,use:_s,useCallback:Om,useContext:St,useEffect:Am,useImperativeHandle:Rm,useInsertionEffect:Nm,useLayoutEffect:Cm,useMemo:Dm,useReducer:Ku,useRef:jm,useState:function(){return Ku(zn)},useDebugValue:Ju,useDeferredValue:function(t,a){var l=st();return He===null?Zu(l,t,a):Lm(l,He.memoizedState,t,a)},useTransition:function(){var t=Ku(zn)[0],a=st().memoizedState;return[typeof t=="boolean"?t:Fi(t),a]},useSyncExternalStore:um,useId:Pm,useHostTransitionStatus:ec,useFormState:_m,useActionState:_m,useOptimistic:function(t,a){var l=st();return He!==null?pm(l,He,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Yu,useCacheRefresh:Bm},Ca=null,Vi=0;function Ts(t){var a=Vi;return Vi+=1,Ca===null&&(Ca=[]),tm(Ca,t,a)}function Ki(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Rs(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Gm(t){var a=t._init;return a(t._payload)}function Ym(t){function a(B,M){if(t){var q=B.deletions;q===null?(B.deletions=[M],B.flags|=16):q.push(M)}}function l(B,M){if(!t)return null;for(;M!==null;)a(B,M),M=M.sibling;return null}function u(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function h(B,M){return B=Rn(B,M),B.index=0,B.sibling=null,B}function g(B,M,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<M?(B.flags|=67108866,M):q):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function w(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function _(B,M,q,Z){return M===null||M.tag!==6?(M=wu(q,B.mode,Z),M.return=B,M):(M=h(M,q),M.return=B,M)}function O(B,M,q,Z){var he=q.type;return he===S?X(B,M,q.props.children,Z,q.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&Gm(he)===M.type)?(M=h(M,q.props),Ki(M,q),M.return=B,M):(M=hs(q.type,q.key,q.props,null,B.mode,Z),Ki(M,q),M.return=B,M)}function H(B,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Su(q,B.mode,Z),M.return=B,M):(M=h(M,q.children||[]),M.return=B,M)}function X(B,M,q,Z,he){return M===null||M.tag!==7?(M=Lr(q,B.mode,Z,he),M.return=B,M):(M=h(M,q),M.return=B,M)}function ee(B,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=wu(""+M,B.mode,q),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return q=hs(M.type,M.key,M.props,null,B.mode,q),Ki(q,M),q.return=B,q;case v:return M=Su(M,B.mode,q),M.return=B,M;case te:var Z=M._init;return M=Z(M._payload),ee(B,M,q)}if(re(M)||K(M))return M=Lr(M,B.mode,q,null),M.return=B,M;if(typeof M.then=="function")return ee(B,Ts(M),q);if(M.$$typeof===D)return ee(B,xs(B,M),q);Rs(B,M)}return null}function F(B,M,q,Z){var he=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:_(B,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===he?O(B,M,q,Z):null;case v:return q.key===he?H(B,M,q,Z):null;case te:return he=q._init,q=he(q._payload),F(B,M,q,Z)}if(re(q)||K(q))return he!==null?null:X(B,M,q,Z,null);if(typeof q.then=="function")return F(B,M,Ts(q),Z);if(q.$$typeof===D)return F(B,M,xs(B,q),Z);Rs(B,q)}return null}function G(B,M,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(q)||null,_(M,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return B=B.get(Z.key===null?q:Z.key)||null,O(M,B,Z,he);case v:return B=B.get(Z.key===null?q:Z.key)||null,H(M,B,Z,he);case te:var Ne=Z._init;return Z=Ne(Z._payload),G(B,M,q,Z,he)}if(re(Z)||K(Z))return B=B.get(q)||null,X(M,B,Z,he,null);if(typeof Z.then=="function")return G(B,M,q,Ts(Z),he);if(Z.$$typeof===D)return G(B,M,q,xs(M,Z),he);Rs(M,Z)}return null}function we(B,M,q,Z){for(var he=null,Ne=null,ge=M,ve=M=0,gt=null;ge!==null&&ve<q.length;ve++){ge.index>ve?(gt=ge,ge=null):gt=ge.sibling;var ze=F(B,ge,q[ve],Z);if(ze===null){ge===null&&(ge=gt);break}t&&ge&&ze.alternate===null&&a(B,ge),M=g(ze,M,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze,ge=gt}if(ve===q.length)return l(B,ge),Ue&&zr(B,ve),he;if(ge===null){for(;ve<q.length;ve++)ge=ee(B,q[ve],Z),ge!==null&&(M=g(ge,M,ve),Ne===null?he=ge:Ne.sibling=ge,Ne=ge);return Ue&&zr(B,ve),he}for(ge=u(ge);ve<q.length;ve++)gt=G(ge,B,ve,q[ve],Z),gt!==null&&(t&&gt.alternate!==null&&ge.delete(gt.key===null?ve:gt.key),M=g(gt,M,ve),Ne===null?he=gt:Ne.sibling=gt,Ne=gt);return t&&ge.forEach(function(br){return a(B,br)}),Ue&&zr(B,ve),he}function be(B,M,q,Z){if(q==null)throw Error(i(151));for(var he=null,Ne=null,ge=M,ve=M=0,gt=null,ze=q.next();ge!==null&&!ze.done;ve++,ze=q.next()){ge.index>ve?(gt=ge,ge=null):gt=ge.sibling;var br=F(B,ge,ze.value,Z);if(br===null){ge===null&&(ge=gt);break}t&&ge&&br.alternate===null&&a(B,ge),M=g(br,M,ve),Ne===null?he=br:Ne.sibling=br,Ne=br,ge=gt}if(ze.done)return l(B,ge),Ue&&zr(B,ve),he;if(ge===null){for(;!ze.done;ve++,ze=q.next())ze=ee(B,ze.value,Z),ze!==null&&(M=g(ze,M,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return Ue&&zr(B,ve),he}for(ge=u(ge);!ze.done;ve++,ze=q.next())ze=G(ge,B,ve,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?ve:ze.key),M=g(ze,M,ve),Ne===null?he=ze:Ne.sibling=ze,Ne=ze);return t&&ge.forEach(function(rk){return a(B,rk)}),Ue&&zr(B,ve),he}function Fe(B,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===S&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var he=q.key;M!==null;){if(M.key===he){if(he=q.type,he===S){if(M.tag===7){l(B,M.sibling),Z=h(M,q.props.children),Z.return=B,B=Z;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&Gm(he)===M.type){l(B,M.sibling),Z=h(M,q.props),Ki(Z,q),Z.return=B,B=Z;break e}l(B,M);break}else a(B,M);M=M.sibling}q.type===S?(Z=Lr(q.props.children,B.mode,Z,q.key),Z.return=B,B=Z):(Z=hs(q.type,q.key,q.props,null,B.mode,Z),Ki(Z,q),Z.return=B,B=Z)}return w(B);case v:e:{for(he=q.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){l(B,M.sibling),Z=h(M,q.children||[]),Z.return=B,B=Z;break e}else{l(B,M);break}else a(B,M);M=M.sibling}Z=Su(q,B.mode,Z),Z.return=B,B=Z}return w(B);case te:return he=q._init,q=he(q._payload),Fe(B,M,q,Z)}if(re(q))return we(B,M,q,Z);if(K(q)){if(he=K(q),typeof he!="function")throw Error(i(150));return q=he.call(q),be(B,M,q,Z)}if(typeof q.then=="function")return Fe(B,M,Ts(q),Z);if(q.$$typeof===D)return Fe(B,M,xs(B,q),Z);Rs(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(l(B,M.sibling),Z=h(M,q),Z.return=B,B=Z):(l(B,M),Z=wu(q,B.mode,Z),Z.return=B,B=Z),w(B)):l(B,M)}return function(B,M,q,Z){try{Vi=0;var he=Fe(B,M,q,Z);return Ca=null,he}catch(ge){if(ge===Pi||ge===bs)throw ge;var Ne=Ft(29,ge,null,B.mode);return Ne.lanes=Z,Ne.return=B,Ne}finally{}}}var Ta=Ym(!0),Vm=Ym(!1),ln=Y(null),kn=null;function ar(t){var a=t.alternate;A(dt,dt.current&1),A(ln,t),kn===null&&(a===null||ja.current!==null||a.memoizedState!==null)&&(kn=t)}function Km(t){if(t.tag===22){if(A(dt,dt.current),A(ln,t),kn===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(kn=t)}}else ir()}function ir(){A(dt,dt.current),A(ln,ln.current)}function Un(t){ie(ln),kn===t&&(kn=null),ie(dt)}var dt=Y(0);function Os(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gc(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nc(t,a,l,u){a=t.memoizedState,l=l(u,a),l=l==null?a:x({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var rc={enqueueSetState:function(t,a,l){t=t._reactInternals;var u=Kt(),h=tr(u);h.payload=a,l!=null&&(h.callback=l),a=nr(t,h,u),a!==null&&(Qt(a,t,u),Ii(a,t,u))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var u=Kt(),h=tr(u);h.tag=1,h.payload=a,l!=null&&(h.callback=l),a=nr(t,h,u),a!==null&&(Qt(a,t,u),Ii(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=Kt(),u=tr(l);u.tag=2,a!=null&&(u.callback=a),a=nr(t,u,l),a!==null&&(Qt(a,t,l),Ii(a,t,l))}};function Qm(t,a,l,u,h,g,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,w):a.prototype&&a.prototype.isPureReactComponent?!Ti(l,u)||!Ti(h,g):!0}function Xm(t,a,l,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==t&&rc.enqueueReplaceState(a,a.state,null)}function $r(t,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(t=t.defaultProps){l===a&&(l=x({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}var Ds=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jm(t){Ds(t)}function Zm(t){console.error(t)}function Wm(t){Ds(t)}function Ls(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function e0(t,a,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ac(t,a,l){return l=tr(l),l.tag=3,l.payload={element:null},l.callback=function(){Ls(t,a)},l}function t0(t){return t=tr(t),t.tag=3,t}function n0(t,a,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;t.payload=function(){return h(g)},t.callback=function(){e0(a,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){e0(a,l,u),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function r1(t,a,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Mi(a,l,h,!0),l=ln.current,l!==null){switch(l.tag){case 13:return kn===null?Nc():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===Du?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Tc(t,u,h)),!1;case 22:return l.flags|=65536,u===Du?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Tc(t,u,h)),!1}throw Error(i(435,l.tag))}return Tc(t,u,h),Nc(),!1}if(Ue)return a=ln.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Eu&&(t=Error(i(422),{cause:u}),Li(tn(t,l)))):(u!==Eu&&(a=Error(i(423),{cause:u}),Li(tn(a,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=tn(u,l),h=ac(t.stateNode,u,h),zu(t,h),tt!==4&&(tt=2)),!1;var g=Error(i(520),{cause:u});if(g=tn(g,l),tl===null?tl=[g]:tl.push(g),tt!==4&&(tt=2),a===null)return!0;u=tn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=ac(l.stateNode,u,t),zu(l,t),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=t0(h),n0(h,t,l,u),zu(l,h),!1}l=l.return}while(l!==null);return!1}var r0=Error(i(461)),mt=!1;function bt(t,a,l,u){a.child=t===null?Vm(a,null,l,u):Ta(a,t.child,l,u)}function a0(t,a,l,u,h){l=l.render;var g=a.ref;if("ref"in u){var w={};for(var _ in u)_!=="ref"&&(w[_]=u[_])}else w=u;return Ir(a),u=qu(t,a,l,w,g,h),_=Hu(),t!==null&&!mt?($u(t,a,h),Pn(t,a,h)):(Ue&&_&&_u(a),a.flags|=1,bt(t,a,u,h),a.child)}function i0(t,a,l,u,h){if(t===null){var g=l.type;return typeof g=="function"&&!ku(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,l0(t,a,g,u,h)):(t=hs(l.type,null,u,a,a.mode,h),t.ref=a.ref,t.return=a,a.child=t)}if(g=t.child,!fc(t,h)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ti,l(w,u)&&t.ref===a.ref)return Pn(t,a,h)}return a.flags|=1,t=Rn(g,u),t.ref=a.ref,t.return=a,a.child=t}function l0(t,a,l,u,h){if(t!==null){var g=t.memoizedProps;if(Ti(g,u)&&t.ref===a.ref)if(mt=!1,a.pendingProps=u=g,fc(t,h))(t.flags&131072)!==0&&(mt=!0);else return a.lanes=t.lanes,Pn(t,a,h)}return ic(t,a,l,u,h)}function s0(t,a,l){var u=a.pendingProps,h=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,t!==null){for(h=a.child=t.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return o0(t,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&ys(a,g!==null?g.cachePool:null),g!==null?lm(a,g):Pu(),Km(a);else return a.lanes=a.childLanes=536870912,o0(t,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(ys(a,g.cachePool),lm(a,g),ir(),a.memoizedState=null):(t!==null&&ys(a,null),Pu(),ir());return bt(t,a,h,l),a.child}function o0(t,a,l,u){var h=Ou();return h=h===null?null:{parent:ct._currentValue,pool:h},a.memoizedState={baseLanes:l,cachePool:h},t!==null&&ys(a,null),Pu(),Km(a),t!==null&&Mi(t,a,u,!0),null}function Ms(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function ic(t,a,l,u,h){return Ir(a),l=qu(t,a,l,u,void 0,h),u=Hu(),t!==null&&!mt?($u(t,a,h),Pn(t,a,h)):(Ue&&u&&_u(a),a.flags|=1,bt(t,a,l,h),a.child)}function u0(t,a,l,u,h,g){return Ir(a),a.updateQueue=null,l=om(a,u,l,h),sm(t),u=Hu(),t!==null&&!mt?($u(t,a,g),Pn(t,a,g)):(Ue&&u&&_u(a),a.flags|=1,bt(t,a,l,g),a.child)}function c0(t,a,l,u,h){if(Ir(a),a.stateNode===null){var g=va,w=l.contextType;typeof w=="object"&&w!==null&&(g=St(w)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rc,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Lu(a),w=l.contextType,g.context=typeof w=="object"&&w!==null?St(w):va,g.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(nc(a,l,w,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&rc.enqueueReplaceState(g,g.state,null),Hi(a,u,g,h),qi(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){g=a.stateNode;var _=a.memoizedProps,O=$r(l,_);g.props=O;var H=g.context,X=l.contextType;w=va,typeof X=="object"&&X!==null&&(w=St(X));var ee=l.getDerivedStateFromProps;X=typeof ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||H!==w)&&Xm(a,g,u,w),er=!1;var F=a.memoizedState;g.state=F,Hi(a,u,g,h),qi(),H=a.memoizedState,_||F!==H||er?(typeof ee=="function"&&(nc(a,l,ee,u),H=a.memoizedState),(O=er||Qm(a,l,O,u,F,H,w))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=H),g.props=u,g.state=H,g.context=w,u=O):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Mu(t,a),w=a.memoizedProps,X=$r(l,w),g.props=X,ee=a.pendingProps,F=g.context,H=l.contextType,O=va,typeof H=="object"&&H!==null&&(O=St(H)),_=l.getDerivedStateFromProps,(H=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ee||F!==O)&&Xm(a,g,u,O),er=!1,F=a.memoizedState,g.state=F,Hi(a,u,g,h),qi();var G=a.memoizedState;w!==ee||F!==G||er||t!==null&&t.dependencies!==null&&gs(t.dependencies)?(typeof _=="function"&&(nc(a,l,_,u),G=a.memoizedState),(X=er||Qm(a,l,X,u,F,G,O)||t!==null&&t.dependencies!==null&&gs(t.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,O)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=G),g.props=u,g.state=G,g.context=O,u=X):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(a.flags|=1024),u=!1)}return g=u,Ms(t,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,t!==null&&u?(a.child=Ta(a,t.child,null,h),a.child=Ta(a,null,l,h)):bt(t,a,l,h),a.memoizedState=g.state,t=a.child):t=Pn(t,a,h),t}function d0(t,a,l,u){return Di(),a.flags|=256,bt(t,a,l,u),a.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(t){return{baseLanes:t,cachePool:Zh()}}function oc(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=sn),t}function f0(t,a,l){var u=a.pendingProps,h=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ue){if(h?ar(a):ir(),Ue){var _=et,O;if(O=_){e:{for(O=_,_=vn;O.nodeType!==8;){if(!_){_=null;break e}if(O=hn(O.nextSibling),O===null){_=null;break e}}_=O}_!==null?(a.memoizedState={dehydrated:_,treeContext:Mr!==null?{id:On,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},O=Ft(18,null,null,0),O.stateNode=_,O.return=a,a.child=O,Ct=a,et=null,O=!0):O=!1}O||Pr(a)}if(_=a.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Gc(_)?a.lanes=32:a.lanes=536870912,null;Un(a)}return _=u.children,u=u.fallback,h?(ir(),h=a.mode,_=zs({mode:"hidden",children:_},h),u=Lr(u,h,l,null),_.return=a,u.return=a,_.sibling=u,a.child=_,h=a.child,h.memoizedState=sc(l),h.childLanes=oc(t,w,l),a.memoizedState=lc,u):(ar(a),uc(a,_))}if(O=t.memoizedState,O!==null&&(_=O.dehydrated,_!==null)){if(g)a.flags&256?(ar(a),a.flags&=-257,a=cc(t,a,l)):a.memoizedState!==null?(ir(),a.child=t.child,a.flags|=128,a=null):(ir(),h=u.fallback,_=a.mode,u=zs({mode:"visible",children:u.children},_),h=Lr(h,_,l,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,Ta(a,t.child,null,l),u=a.child,u.memoizedState=sc(l),u.childLanes=oc(t,w,l),a.memoizedState=lc,a=h);else if(ar(a),Gc(_)){if(w=_.nextSibling&&_.nextSibling.dataset,w)var H=w.dgst;w=H,u=Error(i(419)),u.stack="",u.digest=w,Li({value:u,source:null,stack:null}),a=cc(t,a,l)}else if(mt||Mi(t,a,l,!1),w=(l&t.childLanes)!==0,mt||w){if(w=Ke,w!==null&&(u=l&-l,u=(u&42)!==0?1:Yo(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,ba(t,u),Qt(w,t,u),r0;_.data==="$?"||Nc(),a=cc(t,a,l)}else _.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=O.treeContext,et=hn(_.nextSibling),Ct=a,Ue=!0,Ur=null,vn=!1,t!==null&&(rn[an++]=On,rn[an++]=Dn,rn[an++]=Mr,On=t.id,Dn=t.overflow,Mr=a),a=uc(a,u.children),a.flags|=4096);return a}return h?(ir(),h=u.fallback,_=a.mode,O=t.child,H=O.sibling,u=Rn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,H!==null?h=Rn(H,h):(h=Lr(h,_,l,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,_=t.child.memoizedState,_===null?_=sc(l):(O=_.cachePool,O!==null?(H=ct._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=Zh(),_={baseLanes:_.baseLanes|l,cachePool:O}),h.memoizedState=_,h.childLanes=oc(t,w,l),a.memoizedState=lc,u):(ar(a),l=t.child,t=l.sibling,l=Rn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,t!==null&&(w=a.deletions,w===null?(a.deletions=[t],a.flags|=16):w.push(t)),a.child=l,a.memoizedState=null,l)}function uc(t,a){return a=zs({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function zs(t,a){return t=Ft(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function cc(t,a,l){return Ta(a,t.child,null,l),t=uc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function h0(t,a,l){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),Nu(t.return,a,l)}function dc(t,a,l,u,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=h)}function m0(t,a,l){var u=a.pendingProps,h=u.revealOrder,g=u.tail;if(bt(t,a,u.children,l),u=dt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,l,a);else if(t.tag===19)h0(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(A(dt,u),h){case"forwards":for(l=a.child,h=null;l!==null;)t=l.alternate,t!==null&&Os(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=a.child,a.child=null):(h=l.sibling,l.sibling=null),dc(a,!1,h,l,g);break;case"backwards":for(l=null,h=a.child,a.child=null;h!==null;){if(t=h.alternate,t!==null&&Os(t)===null){a.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}dc(a,!0,l,null,g);break;case"together":dc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pn(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),cr|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(Mi(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,l=Rn(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=Rn(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function fc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&gs(t)))}function a1(t,a,l){switch(a.tag){case 3:pe(a,a.stateNode.containerInfo),Wn(a,ct,t.memoizedState.cache),Di();break;case 27:case 5:Ge(a);break;case 4:pe(a,a.stateNode.containerInfo);break;case 10:Wn(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ar(a),a.flags|=128,null):(l&a.child.childLanes)!==0?f0(t,a,l):(ar(a),t=Pn(t,a,l),t!==null?t.sibling:null);ar(a);break;case 19:var h=(t.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Mi(t,a,l,!1),u=(l&a.childLanes)!==0),h){if(u)return m0(t,a,l);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),A(dt,dt.current),u)break;return null;case 22:case 23:return a.lanes=0,s0(t,a,l);case 24:Wn(a,ct,t.memoizedState.cache)}return Pn(t,a,l)}function p0(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)mt=!0;else{if(!fc(t,l)&&(a.flags&128)===0)return mt=!1,a1(t,a,l);mt=(t.flags&131072)!==0}else mt=!1,Ue&&(a.flags&1048576)!==0&&Gh(a,ps,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")ku(u)?(t=$r(u,t),a.tag=1,a=c0(null,a,u,t,l)):(a.tag=0,a=ic(null,a,u,t,l));else{if(u!=null){if(h=u.$$typeof,h===P){a.tag=11,a=a0(null,a,u,t,l);break e}else if(h===W){a.tag=14,a=i0(null,a,u,t,l);break e}}throw a=le(u)||u,Error(i(306,a,""))}}return a;case 0:return ic(t,a,a.type,a.pendingProps,l);case 1:return u=a.type,h=$r(u,a.pendingProps),c0(t,a,u,h,l);case 3:e:{if(pe(a,a.stateNode.containerInfo),t===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;h=g.element,Mu(t,a),Hi(a,u,null,l);var w=a.memoizedState;if(u=w.cache,Wn(a,ct,u),u!==g.cache&&Cu(a,[ct],l,!0),qi(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=d0(t,a,u,l);break e}else if(u!==h){h=tn(Error(i(424)),a),Li(h),a=d0(t,a,u,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=hn(t.firstChild),Ct=a,Ue=!0,Ur=null,vn=!0,l=Vm(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Di(),u===h){a=Pn(t,a,l);break e}bt(t,a,u,l)}a=a.child}return a;case 26:return Ms(t,a),t===null?(l=bp(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ue||(l=a.type,t=a.pendingProps,u=Xs(z.current).createElement(l),u[wt]=a,u[Ot]=t,kt(u,l,t),ht(u),a.stateNode=u):a.memoizedState=bp(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ge(a),t===null&&Ue&&(u=a.stateNode=gp(a.type,a.pendingProps,z.current),Ct=a,vn=!0,h=et,mr(a.type)?(Yc=h,et=hn(u.firstChild)):et=h),bt(t,a,a.pendingProps.children,l),Ms(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ue&&((h=u=et)&&(u=O1(u,a.type,a.pendingProps,vn),u!==null?(a.stateNode=u,Ct=a,et=hn(u.firstChild),vn=!1,h=!0):h=!1),h||Pr(a)),Ge(a),h=a.type,g=a.pendingProps,w=t!==null?t.memoizedProps:null,u=g.children,Hc(h,g)?u=null:w!==null&&Hc(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=qu(t,a,Xv,null,null,l),cl._currentValue=h),Ms(t,a),bt(t,a,u,l),a.child;case 6:return t===null&&Ue&&((t=l=et)&&(l=D1(l,a.pendingProps,vn),l!==null?(a.stateNode=l,Ct=a,et=null,t=!0):t=!1),t||Pr(a)),null;case 13:return f0(t,a,l);case 4:return pe(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=Ta(a,null,u,l):bt(t,a,u,l),a.child;case 11:return a0(t,a,a.type,a.pendingProps,l);case 7:return bt(t,a,a.pendingProps,l),a.child;case 8:return bt(t,a,a.pendingProps.children,l),a.child;case 12:return bt(t,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Wn(a,a.type,u.value),bt(t,a,u.children,l),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,Ir(a),h=St(h),u=u(h),a.flags|=1,bt(t,a,u,l),a.child;case 14:return i0(t,a,a.type,a.pendingProps,l);case 15:return l0(t,a,a.type,a.pendingProps,l);case 19:return m0(t,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},t===null?(l=zs(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Rn(t.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return s0(t,a,l);case 24:return Ir(a),u=St(ct),t===null?(h=Ou(),h===null&&(h=Ke,g=Tu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),a.memoizedState={parent:u,cache:h},Lu(a),Wn(a,ct,h)):((t.lanes&l)!==0&&(Mu(t,a),Hi(a,null,null,l),qi()),h=t.memoizedState,g=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),Wn(a,ct,u)):(u=g.cache,Wn(a,ct,u),u!==h.cache&&Cu(a,[ct],l,!0))),bt(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Bn(t){t.flags|=4}function g0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_p(a)){if(a=ln.current,a!==null&&((Le&4194048)===Le?kn!==null:(Le&62914560)!==Le&&(Le&536870912)===0||a!==kn))throw Bi=Du,Wh;t.flags|=8192}}function Us(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Kf():536870912,t.lanes|=a,La|=a)}function Qi(t,a){if(!Ue)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function We(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(a)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=l,a}function i1(t,a,l){var u=a.pendingProps;switch(ju(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return l=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Mn(ct),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Oi(a)?Bn(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kh())),We(a),null;case 26:return l=a.memoizedState,t===null?(Bn(a),l!==null?(We(a),g0(a,l)):(We(a),a.flags&=-16777217)):l?l!==t.memoizedState?(Bn(a),We(a),g0(a,l)):(We(a),a.flags&=-16777217):(t.memoizedProps!==u&&Bn(a),We(a),a.flags&=-16777217),null;case 27:ce(a),l=z.current;var h=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Bn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return We(a),null}t=de.current,Oi(a)?Yh(a):(t=gp(h,u,l),a.stateNode=t,Bn(a))}return We(a),null;case 5:if(ce(a),l=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Bn(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return We(a),null}if(t=de.current,Oi(a))Yh(a);else{switch(h=Xs(z.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}t[wt]=a,t[Ot]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=t;e:switch(kt(t,l,u),l){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bn(a)}}return We(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Bn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(t=z.current,Oi(a)){if(t=a.stateNode,l=a.memoizedProps,u=null,h=Ct,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[wt]=a,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||up(t.nodeValue,l)),t||Pr(a)}else t=Xs(t).createTextNode(u),t[wt]=a,a.stateNode=t}return We(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oi(a),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[wt]=a}else Di(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),h=!1}else h=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Un(a),a):(Un(a),null)}if(Un(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,t=t!==null&&t.memoizedState!==null,l){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return l!==t&&l&&(a.child.flags|=8192),Us(a,a.updateQueue),We(a),null;case 4:return Ee(),t===null&&Uc(a.stateNode.containerInfo),We(a),null;case 10:return Mn(a.type),We(a),null;case 19:if(ie(dt),h=a.memoizedState,h===null)return We(a),null;if(u=(a.flags&128)!==0,g=h.rendering,g===null)if(u)Qi(h,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(g=Os(t),g!==null){for(a.flags|=128,Qi(h,!1),t=g.updateQueue,a.updateQueue=t,Us(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Fh(l,t),l=l.sibling;return A(dt,dt.current&1|2),a.child}t=t.sibling}h.tail!==null&&It()>Is&&(a.flags|=128,u=!0,Qi(h,!1),a.lanes=4194304)}else{if(!u)if(t=Os(g),t!==null){if(a.flags|=128,u=!0,t=t.updateQueue,a.updateQueue=t,Us(a,t),Qi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ue)return We(a),null}else 2*It()-h.renderingStartTime>Is&&l!==536870912&&(a.flags|=128,u=!0,Qi(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(t=h.last,t!==null?t.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=It(),a.sibling=null,t=dt.current,A(dt,u?t&1|2:t&1),a):(We(a),null);case 22:case 23:return Un(a),Bu(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),l=a.updateQueue,l!==null&&Us(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),t!==null&&ie(qr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Mn(ct),We(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function l1(t,a){switch(ju(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Mn(ct),Ee(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return ce(a),null;case 13:if(Un(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Di()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ie(dt),null;case 4:return Ee(),null;case 10:return Mn(a.type),null;case 22:case 23:return Un(a),Bu(),t!==null&&ie(qr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Mn(ct),null;case 25:return null;default:return null}}function x0(t,a){switch(ju(a),a.tag){case 3:Mn(ct),Ee();break;case 26:case 27:case 5:ce(a);break;case 4:Ee();break;case 13:Un(a);break;case 19:ie(dt);break;case 10:Mn(a.type);break;case 22:case 23:Un(a),Bu(),t!==null&&ie(qr);break;case 24:Mn(ct)}}function Xi(t,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&t)===t){u=void 0;var g=l.create,w=l.inst;u=g(),w.destroy=u}l=l.next}while(l!==h)}}catch(_){Ye(a,a.return,_)}}function lr(t,a,l){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&t)===t){var w=u.inst,_=w.destroy;if(_!==void 0){w.destroy=void 0,h=a;var O=l,H=_;try{H()}catch(X){Ye(h,O,X)}}}u=u.next}while(u!==g)}}catch(X){Ye(a,a.return,X)}}function y0(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{im(a,l)}catch(u){Ye(t,t.return,u)}}}function b0(t,a,l){l.props=$r(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){Ye(t,a,u)}}function Ji(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(h){Ye(t,a,h)}}function wn(t,a){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){Ye(t,a,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){Ye(t,a,h)}else l.current=null}function v0(t){var a=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){Ye(t,t.return,h)}}function hc(t,a,l){try{var u=t.stateNode;A1(u,t.type,l,a),u[Ot]=a}catch(h){Ye(t,t.return,h)}}function k0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function mc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pc(t,a,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Qs));else if(u!==4&&(u===27&&mr(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(pc(t,a,l),t=t.sibling;t!==null;)pc(t,a,l),t=t.sibling}function Ps(t,a,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(u!==4&&(u===27&&mr(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ps(t,a,l),t=t.sibling;t!==null;)Ps(t,a,l),t=t.sibling}function w0(t){var a=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);kt(a,u,l),a[wt]=t,a[Ot]=l}catch(g){Ye(t,t.return,g)}}var In=!1,it=!1,gc=!1,S0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function s1(t,a){if(t=t.containerInfo,Ic=no,t=Lh(t),mu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,_=-1,O=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var G;ee!==l||h!==0&&ee.nodeType!==3||(_=w+h),ee!==g||u!==0&&ee.nodeType!==3||(O=w+u),ee.nodeType===3&&(w+=ee.nodeValue.length),(G=ee.firstChild)!==null;)F=ee,ee=G;for(;;){if(ee===t)break t;if(F===l&&++H===h&&(_=w),F===g&&++X===u&&(O=w),(G=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=G}l=_===-1||O===-1?null:{start:_,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(qc={focusedElem:t,selectionRange:l},no=!1,pt=a;pt!==null;)if(a=pt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,pt=t;else for(;pt!==null;){switch(a=pt,g=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,l=a,h=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var we=$r(l.type,h,l.elementType===l.type);t=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ye(l,l.return,be)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Fc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,pt=t;break}pt=a.return}}function _0(t,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:sr(t,l),u&4&&Xi(5,l);break;case 1:if(sr(t,l),u&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(w){Ye(l,l.return,w)}else{var h=$r(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(h,a,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ye(l,l.return,w)}}u&64&&y0(l),u&512&&Ji(l,l.return);break;case 3:if(sr(t,l),u&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{im(t,a)}catch(w){Ye(l,l.return,w)}}break;case 27:a===null&&u&4&&w0(l);case 26:case 5:sr(t,l),a===null&&u&4&&v0(l),u&512&&Ji(l,l.return);break;case 12:sr(t,l);break;case 13:sr(t,l),u&4&&A0(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=g1.bind(null,l),L1(t,l))));break;case 22:if(u=l.memoizedState!==null||In,!u){a=a!==null&&a.memoizedState!==null||it,h=In;var g=it;In=u,(it=a)&&!g?or(t,l,(l.subtreeFlags&8772)!==0):sr(t,l),In=h,it=g}break;case 30:break;default:sr(t,l)}}function j0(t){var a=t.alternate;a!==null&&(t.alternate=null,j0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Qo(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,Mt=!1;function qn(t,a,l){for(l=l.child;l!==null;)E0(t,a,l),l=l.sibling}function E0(t,a,l){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(Q,l)}catch{}switch(l.tag){case 26:it||wn(l,a),qn(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:it||wn(l,a);var u=Je,h=Mt;mr(l.type)&&(Je=l.stateNode,Mt=!1),qn(t,a,l),ll(l.stateNode),Je=u,Mt=h;break;case 5:it||wn(l,a);case 6:if(u=Je,h=Mt,Je=null,qn(t,a,l),Je=u,Mt=h,Je!==null)if(Mt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(g){Ye(l,a,g)}else try{Je.removeChild(l.stateNode)}catch(g){Ye(l,a,g)}break;case 18:Je!==null&&(Mt?(t=Je,mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),ml(t)):mp(Je,l.stateNode));break;case 4:u=Je,h=Mt,Je=l.stateNode.containerInfo,Mt=!0,qn(t,a,l),Je=u,Mt=h;break;case 0:case 11:case 14:case 15:it||lr(2,l,a),it||lr(4,l,a),qn(t,a,l);break;case 1:it||(wn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&b0(l,a,u)),qn(t,a,l);break;case 21:qn(t,a,l);break;case 22:it=(u=it)||l.memoizedState!==null,qn(t,a,l),it=u;break;default:qn(t,a,l)}}function A0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(l){Ye(a,a.return,l)}}function o1(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new S0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new S0),a;default:throw Error(i(435,t.tag))}}function xc(t,a){var l=o1(t);a.forEach(function(u){var h=x1.bind(null,t,u);l.has(u)||(l.add(u),u.then(h,h))})}function Gt(t,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],g=t,w=a,_=w;e:for(;_!==null;){switch(_.tag){case 27:if(mr(_.type)){Je=_.stateNode,Mt=!1;break e}break;case 5:Je=_.stateNode,Mt=!1;break e;case 3:case 4:Je=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if(Je===null)throw Error(i(160));E0(g,w,h),Je=null,Mt=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)N0(a,t),a=a.sibling}var fn=null;function N0(t,a){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(a,t),Yt(t),u&4&&(lr(3,t,t.return),Xi(3,t),lr(5,t,t.return));break;case 1:Gt(a,t),Yt(t),u&512&&(it||l===null||wn(l,l.return)),u&64&&In&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=fn;if(Gt(a,t),Yt(t),u&512&&(it||l===null||wn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ki]||g[wt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),kt(g,u,l),g[wt]=t,ht(g),u=g;break e;case"link":var w=wp("link","href",h).get(u+(l.href||""));if(w){for(var _=0;_<w.length;_++)if(g=w[_],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(_,1);break t}}g=h.createElement(u),kt(g,u,l),h.head.appendChild(g);break;case"meta":if(w=wp("meta","content",h).get(u+(l.content||""))){for(_=0;_<w.length;_++)if(g=w[_],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(_,1);break t}}g=h.createElement(u),kt(g,u,l),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[wt]=t,ht(g),u=g}t.stateNode=u}else Sp(h,t.type,t.stateNode);else t.stateNode=kp(h,u,t.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Sp(h,t.type,t.stateNode):kp(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&hc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Gt(a,t),Yt(t),u&512&&(it||l===null||wn(l,l.return)),l!==null&&u&4&&hc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Gt(a,t),Yt(t),u&512&&(it||l===null||wn(l,l.return)),t.flags&32){h=t.stateNode;try{fa(h,"")}catch(G){Ye(t,t.return,G)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,hc(t,h,l!==null?l.memoizedProps:h)),u&1024&&(gc=!0);break;case 6:if(Gt(a,t),Yt(t),u&4){if(t.stateNode===null)throw Error(i(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(G){Ye(t,t.return,G)}}break;case 3:if(Ws=null,h=fn,fn=Js(a.containerInfo),Gt(a,t),fn=h,Yt(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(a.containerInfo)}catch(G){Ye(t,t.return,G)}gc&&(gc=!1,C0(t));break;case 4:u=fn,fn=Js(t.stateNode.containerInfo),Gt(a,t),Yt(t),fn=u;break;case 12:Gt(a,t),Yt(t);break;case 13:Gt(a,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sc=It()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 22:h=t.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,H=In,X=it;if(In=H||h,it=X||O,Gt(a,t),it=X,In=H,Yt(t),u&8192)e:for(a=t.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(l===null||O||In||it||Fr(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(g=O.stateNode,h)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{_=O.stateNode;var ee=O.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;_.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Ye(O,O.return,G)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(G){Ye(O,O.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,xc(t,l))));break;case 19:Gt(a,t),Yt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,xc(t,u)));break;case 30:break;case 21:break;default:Gt(a,t),Yt(t)}}function Yt(t){var a=t.flags;if(a&2){try{for(var l,u=t.return;u!==null;){if(k0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var h=l.stateNode,g=mc(t);Ps(t,g,h);break;case 5:var w=l.stateNode;l.flags&32&&(fa(w,""),l.flags&=-33);var _=mc(t);Ps(t,_,w);break;case 3:case 4:var O=l.stateNode.containerInfo,H=mc(t);pc(t,H,O);break;default:throw Error(i(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function C0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;C0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function sr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_0(t,a.alternate,a),a=a.sibling}function Fr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:lr(4,a,a.return),Fr(a);break;case 1:wn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&b0(a,a.return,l),Fr(a);break;case 27:ll(a.stateNode);case 26:case 5:wn(a,a.return),Fr(a);break;case 22:a.memoizedState===null&&Fr(a);break;case 30:Fr(a);break;default:Fr(a)}t=t.sibling}}function or(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=t,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:or(h,g,l),Xi(4,g);break;case 1:if(or(h,g,l),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ye(u,u.return,H)}if(u=g,h=u.updateQueue,h!==null){var _=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)am(O[h],_)}catch(H){Ye(u,u.return,H)}}l&&w&64&&y0(g),Ji(g,g.return);break;case 27:w0(g);case 26:case 5:or(h,g,l),l&&u===null&&w&4&&v0(g),Ji(g,g.return);break;case 12:or(h,g,l);break;case 13:or(h,g,l),l&&w&4&&A0(h,g);break;case 22:g.memoizedState===null&&or(h,g,l),Ji(g,g.return);break;case 30:break;default:or(h,g,l)}a=a.sibling}}function yc(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&zi(l))}function bc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zi(t))}function Sn(t,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)T0(t,a,l,u),a=a.sibling}function T0(t,a,l,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Sn(t,a,l,u),h&2048&&Xi(9,a);break;case 1:Sn(t,a,l,u);break;case 3:Sn(t,a,l,u),h&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zi(t)));break;case 12:if(h&2048){Sn(t,a,l,u),t=a.stateNode;try{var g=a.memoizedProps,w=g.id,_=g.onPostCommit;typeof _=="function"&&_(w,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ye(a,a.return,O)}}else Sn(t,a,l,u);break;case 13:Sn(t,a,l,u);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?Sn(t,a,l,u):Zi(t,a):g._visibility&2?Sn(t,a,l,u):(g._visibility|=2,Ra(t,a,l,u,(a.subtreeFlags&10256)!==0)),h&2048&&yc(w,a);break;case 24:Sn(t,a,l,u),h&2048&&bc(a.alternate,a);break;default:Sn(t,a,l,u)}}function Ra(t,a,l,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=t,w=a,_=l,O=u,H=w.flags;switch(w.tag){case 0:case 11:case 15:Ra(g,w,_,O,h),Xi(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?Ra(g,w,_,O,h):Zi(g,w):(X._visibility|=2,Ra(g,w,_,O,h)),h&&H&2048&&yc(w.alternate,w);break;case 24:Ra(g,w,_,O,h),h&&H&2048&&bc(w.alternate,w);break;default:Ra(g,w,_,O,h)}a=a.sibling}}function Zi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,u=a,h=u.flags;switch(u.tag){case 22:Zi(l,u),h&2048&&yc(u.alternate,u);break;case 24:Zi(l,u),h&2048&&bc(u.alternate,u);break;default:Zi(l,u)}a=a.sibling}}var Wi=8192;function Oa(t){if(t.subtreeFlags&Wi)for(t=t.child;t!==null;)R0(t),t=t.sibling}function R0(t){switch(t.tag){case 26:Oa(t),t.flags&Wi&&t.memoizedState!==null&&V1(fn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var a=fn;fn=Js(t.stateNode.containerInfo),Oa(t),fn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Wi,Wi=16777216,Oa(t),Wi=a):Oa(t));break;default:Oa(t)}}function O0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function el(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];pt=u,L0(u,t)}O0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D0(t),t=t.sibling}function D0(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&lr(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Bs(t)):el(t);break;default:el(t)}}function Bs(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];pt=u,L0(u,t)}O0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:lr(8,a,a.return),Bs(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Bs(a));break;default:Bs(a)}t=t.sibling}}function L0(t,a){for(;pt!==null;){var l=pt;switch(l.tag){case 0:case 11:case 15:lr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zi(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,pt=u;else e:for(l=t;pt!==null;){u=pt;var h=u.sibling,g=u.return;if(j0(u),u===l){pt=null;break e}if(h!==null){h.return=g,pt=h;break e}pt=g}}}var u1={getCacheForType:function(t){var a=St(ct),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l}},c1=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ke=null,Te=null,Le=0,qe=0,Vt=null,ur=!1,Da=!1,vc=!1,Hn=0,tt=0,cr=0,Gr=0,kc=0,sn=0,La=0,tl=null,zt=null,wc=!1,Sc=0,Is=1/0,qs=null,dr=null,vt=0,fr=null,Ma=null,za=0,_c=0,jc=null,M0=null,nl=0,Ec=null;function Kt(){if((Ie&2)!==0&&Le!==0)return Le&-Le;if(I.T!==null){var t=Sa;return t!==0?t:Dc()}return Jf()}function z0(){sn===0&&(sn=(Le&536870912)===0||Ue?Vf():536870912);var t=ln.current;return t!==null&&(t.flags|=32),sn}function Qt(t,a,l){(t===Ke&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),hr(t,Le,sn,!1)),vi(t,l),((Ie&2)===0||t!==Ke)&&(t===Ke&&((Ie&2)===0&&(Gr|=l),tt===4&&hr(t,Le,sn,!1)),_n(t))}function U0(t,a,l){if((Ie&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&t.expiredLanes)===0||Zt(t,a),h=u?h1(t,a):Cc(t,a,!0),g=u;do{if(h===0){Da&&!u&&hr(t,a,0,!1);break}else{if(l=t.current.alternate,g&&!d1(l)){h=Cc(t,a,!1),g=!1;continue}if(h===2){if(g=a,t.errorRecoveryDisabledLanes&g)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var _=t;h=tl;var O=_.current.memoizedState.isDehydrated;if(O&&(Ua(_,w).flags|=256),w=Cc(_,w,!1),w!==2){if(vc&&!O){_.errorRecoveryDisabledLanes|=g,Gr|=g,h=4;break e}g=zt,zt=h,g!==null&&(zt===null?zt=g:zt.push.apply(zt,g))}h=w}if(g=!1,h!==2)continue}}if(h===1){Ua(t,0),hr(t,a,0,!0);break}e:{switch(u=t,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:hr(u,a,sn,!ur);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Sc+300-It(),10<h)){if(hr(u,a,sn,!ur),ft(u,0,!0)!==0)break e;u.timeoutHandle=fp(P0.bind(null,u,l,zt,qs,wc,a,sn,Gr,La,ur,g,2,-0,0),h);break e}P0(u,l,zt,qs,wc,a,sn,Gr,La,ur,g,0,-0,0)}}break}while(!0);_n(t)}function P0(t,a,l,u,h,g,w,_,O,H,X,ee,F,G){if(t.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:Y1},R0(a),ee=K1(),ee!==null)){t.cancelPendingCommit=ee(G0.bind(null,t,a,g,l,u,h,w,_,O,X,1,F,G)),hr(t,g,w,!H);return}G0(t,a,g,l,u,h,w,_,O)}function d1(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],g=h.getSnapshot;h=h.value;try{if(!$t(g(),h))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hr(t,a,l,u){a&=~kc,a&=~Gr,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var h=a;0<h;){var g=31-ke(h),w=1<<g;u[g]=-1,h&=~w}l!==0&&Qf(t,l,a)}function Hs(){return(Ie&6)===0?(rl(0),!1):!0}function Ac(){if(Te!==null){if(qe===0)var t=Te.return;else t=Te,Ln=Br=null,Fu(t),Ca=null,Vi=0,t=Te;for(;t!==null;)x0(t.alternate,t),t=t.return;Te=null}}function Ua(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,C1(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ac(),Ke=t,Te=l=Rn(t.current,null),Le=a,qe=0,Vt=null,ur=!1,Da=Zt(t,a),vc=!1,La=sn=kc=Gr=cr=tt=0,zt=tl=null,wc=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var h=31-ke(u),g=1<<h;a|=t[h],u&=~g}return Hn=a,cs(),l}function B0(t,a){Ae=null,I.H=Cs,a===Pi||a===bs?(a=nm(),qe=3):a===Wh?(a=nm(),qe=4):qe=a===r0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vt=a,Te===null&&(tt=1,Ls(t,tn(a,t.current)))}function I0(){var t=I.H;return I.H=Cs,t===null?Cs:t}function q0(){var t=I.A;return I.A=u1,t}function Nc(){tt=4,ur||(Le&4194048)!==Le&&ln.current!==null||(Da=!0),(cr&134217727)===0&&(Gr&134217727)===0||Ke===null||hr(Ke,Le,sn,!1)}function Cc(t,a,l){var u=Ie;Ie|=2;var h=I0(),g=q0();(Ke!==t||Le!==a)&&(qs=null,Ua(t,a)),a=!1;var w=tt;e:do try{if(qe!==0&&Te!==null){var _=Te,O=Vt;switch(qe){case 8:Ac(),w=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(a=!0);var H=qe;if(qe=0,Vt=null,Pa(t,_,O,H),l&&Da){w=0;break e}break;default:H=qe,qe=0,Vt=null,Pa(t,_,O,H)}}f1(),w=tt;break}catch(X){B0(t,X)}while(!0);return a&&t.shellSuspendCounter++,Ln=Br=null,Ie=u,I.H=h,I.A=g,Te===null&&(Ke=null,Le=0,cs()),w}function f1(){for(;Te!==null;)H0(Te)}function h1(t,a){var l=Ie;Ie|=2;var u=I0(),h=q0();Ke!==t||Le!==a?(qs=null,Is=It()+500,Ua(t,a)):Da=Zt(t,a);e:do try{if(qe!==0&&Te!==null){a=Te;var g=Vt;t:switch(qe){case 1:qe=0,Vt=null,Pa(t,a,g,1);break;case 2:case 9:if(em(g)){qe=0,Vt=null,$0(a);break}a=function(){qe!==2&&qe!==9||Ke!==t||(qe=7),_n(t)},g.then(a,a);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:em(g)?(qe=0,Vt=null,$0(a)):(qe=0,Vt=null,Pa(t,a,g,7));break;case 5:var w=null;switch(Te.tag){case 26:w=Te.memoizedState;case 5:case 27:var _=Te;if(!w||_p(w)){qe=0,Vt=null;var O=_.sibling;if(O!==null)Te=O;else{var H=_.return;H!==null?(Te=H,$s(H)):Te=null}break t}}qe=0,Vt=null,Pa(t,a,g,5);break;case 6:qe=0,Vt=null,Pa(t,a,g,6);break;case 8:Ac(),tt=6;break e;default:throw Error(i(462))}}m1();break}catch(X){B0(t,X)}while(!0);return Ln=Br=null,I.H=u,I.A=h,Ie=l,Te!==null?0:(Ke=null,Le=0,cs(),tt)}function m1(){for(;Te!==null&&!ra();)H0(Te)}function H0(t){var a=p0(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,a===null?$s(t):Te=a}function $0(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=u0(l,a,a.pendingProps,a.type,void 0,Le);break;case 11:a=u0(l,a,a.pendingProps,a.type.render,a.ref,Le);break;case 5:Fu(a);default:x0(l,a),a=Te=Fh(a,Hn),a=p0(l,a,Hn)}t.memoizedProps=t.pendingProps,a===null?$s(t):Te=a}function Pa(t,a,l,u){Ln=Br=null,Fu(a),Ca=null,Vi=0;var h=a.return;try{if(r1(t,h,a,l,Le)){tt=1,Ls(t,tn(l,t.current)),Te=null;return}}catch(g){if(h!==null)throw Te=h,g;tt=1,Ls(t,tn(l,t.current)),Te=null;return}a.flags&32768?(Ue||u===1?t=!0:Da||(Le&536870912)!==0?t=!1:(ur=t=!0,(u===2||u===9||u===3||u===6)&&(u=ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),F0(a,t)):$s(a)}function $s(t){var a=t;do{if((a.flags&32768)!==0){F0(a,ur);return}t=a.return;var l=i1(a.alternate,a,Hn);if(l!==null){Te=l;return}if(a=a.sibling,a!==null){Te=a;return}Te=a=t}while(a!==null);tt===0&&(tt=5)}function F0(t,a){do{var l=l1(t.alternate,t);if(l!==null){l.flags&=32767,Te=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){Te=t;return}Te=t=l}while(t!==null);tt=6,Te=null}function G0(t,a,l,u,h,g,w,_,O){t.cancelPendingCommit=null;do Fs();while(vt!==0);if((Ie&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=bu,Yb(t,l,g,w,_,O),t===Ke&&(Te=Ke=null,Le=0),Ma=a,fr=t,za=l,_c=g,jc=h,M0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,y1(aa,function(){return X0(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,h=$.p,$.p=2,w=Ie,Ie|=4;try{s1(t,a,l)}finally{Ie=w,$.p=h,I.T=u}}vt=1,Y0(),V0(),K0()}}function Y0(){if(vt===1){vt=0;var t=fr,a=Ma,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var u=$.p;$.p=2;var h=Ie;Ie|=4;try{N0(a,t);var g=qc,w=Lh(t.containerInfo),_=g.focusedElem,O=g.selectionRange;if(w!==_&&_&&_.ownerDocument&&Dh(_.ownerDocument.documentElement,_)){if(O!==null&&mu(_)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(X,_.value.length);else{var ee=_.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var G=F.getSelection(),we=_.textContent.length,be=Math.min(O.start,we),Fe=O.end===void 0?be:Math.min(O.end,we);!G.extend&&be>Fe&&(w=Fe,Fe=be,be=w);var B=Oh(_,be),M=Oh(_,Fe);if(B&&M&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(B.node,B.offset),G.removeAllRanges(),be>Fe?(G.addRange(q),G.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),G.addRange(q))}}}}for(ee=[],G=_;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ee.length;_++){var Z=ee[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}no=!!Ic,qc=Ic=null}finally{Ie=h,$.p=u,I.T=l}}t.current=a,vt=2}}function V0(){if(vt===2){vt=0;var t=fr,a=Ma,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var u=$.p;$.p=2;var h=Ie;Ie|=4;try{_0(t,a.alternate,a)}finally{Ie=h,$.p=u,I.T=l}}vt=3}}function K0(){if(vt===4||vt===3){vt=0,Jl();var t=fr,a=Ma,l=za,u=M0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vt=5:(vt=0,Ma=fr=null,Q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(dr=null),Vo(l),a=a.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(Q,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=I.T,h=$.p,$.p=2,I.T=null;try{for(var g=t.onRecoverableError,w=0;w<u.length;w++){var _=u[w];g(_.value,{componentStack:_.stack})}}finally{I.T=a,$.p=h}}(za&3)!==0&&Fs(),_n(t),h=t.pendingLanes,(l&4194090)!==0&&(h&42)!==0?t===Ec?nl++:(nl=0,Ec=t):nl=0,rl(0)}}function Q0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,zi(a)))}function Fs(t){return Y0(),V0(),K0(),X0()}function X0(){if(vt!==5)return!1;var t=fr,a=_c;_c=0;var l=Vo(za),u=I.T,h=$.p;try{$.p=32>l?32:l,I.T=null,l=jc,jc=null;var g=fr,w=za;if(vt=0,Ma=fr=null,za=0,(Ie&6)!==0)throw Error(i(331));var _=Ie;if(Ie|=4,D0(g.current),T0(g,g.current,w,l),Ie=_,rl(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(Q,g)}catch{}return!0}finally{$.p=h,I.T=u,Q0(t,a)}}function J0(t,a,l){a=tn(l,a),a=ac(t.stateNode,a,2),t=nr(t,a,2),t!==null&&(vi(t,2),_n(t))}function Ye(t,a,l){if(t.tag===3)J0(t,t,l);else for(;a!==null;){if(a.tag===3){J0(a,t,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(dr===null||!dr.has(u))){t=tn(l,t),l=t0(2),u=nr(a,l,2),u!==null&&(n0(l,u,a,t),vi(u,2),_n(u));break}}a=a.return}}function Tc(t,a,l){var u=t.pingCache;if(u===null){u=t.pingCache=new c1;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(l)||(vc=!0,h.add(l),t=p1.bind(null,t,a,l),a.then(t,t))}function p1(t,a,l){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ke===t&&(Le&l)===l&&(tt===4||tt===3&&(Le&62914560)===Le&&300>It()-Sc?(Ie&2)===0&&Ua(t,0):kc|=l,La===Le&&(La=0)),_n(t)}function Z0(t,a){a===0&&(a=Kf()),t=ba(t,a),t!==null&&(vi(t,a),_n(t))}function g1(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),Z0(t,l)}function x1(t,a){var l=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Z0(t,l)}function y1(t,a){return ut(t,a)}var Gs=null,Ba=null,Rc=!1,Ys=!1,Oc=!1,Yr=0;function _n(t){t!==Ba&&t.next===null&&(Ba===null?Gs=Ba=t:Ba=Ba.next=t),Ys=!0,Rc||(Rc=!0,v1())}function rl(t,a){if(!Oc&&Ys){Oc=!0;do for(var l=!1,u=Gs;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var w=u.suspendedLanes,_=u.pingedLanes;g=(1<<31-ke(42|t)+1)-1,g&=h&~(w&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,np(u,g))}else g=Le,g=ft(u,u===Ke?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Zt(u,g)||(l=!0,np(u,g));u=u.next}while(l);Oc=!1}}function b1(){W0()}function W0(){Ys=Rc=!1;var t=0;Yr!==0&&(N1()&&(t=Yr),Yr=0);for(var a=It(),l=null,u=Gs;u!==null;){var h=u.next,g=ep(u,a);g===0?(u.next=null,l===null?Gs=h:l.next=h,h===null&&(Ba=l)):(l=u,(t!==0||(g&3)!==0)&&(Ys=!0)),u=h}rl(t)}function ep(t,a){for(var l=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var w=31-ke(g),_=1<<w,O=h[w];O===-1?((_&l)===0||(_&u)!==0)&&(h[w]=cn(_,a)):O<=a&&(t.expiredLanes|=_),g&=~_}if(a=Ke,l=Le,l=ft(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===a&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Zt(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(u!==null&&rt(u),Vo(l)){case 2:case 8:l=bi;break;case 32:l=aa;break;case 268435456:l=Zl;break;default:l=aa}return u=tp.bind(null,t),l=ut(l,u),t.callbackPriority=a,t.callbackNode=l,a}return u!==null&&u!==null&&rt(u),t.callbackPriority=2,t.callbackNode=null,2}function tp(t,a){if(vt!==0&&vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Fs()&&t.callbackNode!==l)return null;var u=Le;return u=ft(t,t===Ke?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(U0(t,u,a),ep(t,It()),t.callbackNode!=null&&t.callbackNode===l?tp.bind(null,t):null)}function np(t,a){if(Fs())return null;U0(t,a,!0)}function v1(){T1(function(){(Ie&6)!==0?ut(yi,b1):W0()})}function Dc(){return Yr===0&&(Yr=Vf()),Yr}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rs(""+t)}function ap(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function k1(t,a,l,u,h){if(a==="submit"&&l&&l.stateNode===h){var g=rp((h[Ot]||null).action),w=u.submitter;w&&(a=(a=w[Ot]||null)?rp(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var _=new ss("action","action",null,u,h);t.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Yr!==0){var O=w?ap(h,w):new FormData(h);Wu(l,{pending:!0,data:O,method:h.method,action:g},null,O)}}else typeof g=="function"&&(_.preventDefault(),O=w?ap(h,w):new FormData(h),Wu(l,{pending:!0,data:O,method:h.method,action:g},g,O))},currentTarget:h}]})}}for(var Lc=0;Lc<yu.length;Lc++){var Mc=yu[Lc],w1=Mc.toLowerCase(),S1=Mc[0].toUpperCase()+Mc.slice(1);dn(w1,"on"+S1)}dn(Uh,"onAnimationEnd"),dn(Ph,"onAnimationIteration"),dn(Bh,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Iv,"onTransitionRun"),dn(qv,"onTransitionStart"),dn(Hv,"onTransitionCancel"),dn(Ih,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function ip(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],h=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var w=u.length-1;0<=w;w--){var _=u[w],O=_.instance,H=_.currentTarget;if(_=_.listener,O!==g&&h.isPropagationStopped())break e;g=_,h.currentTarget=H;try{g(h)}catch(X){Ds(X)}h.currentTarget=null,g=O}else for(w=0;w<u.length;w++){if(_=u[w],O=_.instance,H=_.currentTarget,_=_.listener,O!==g&&h.isPropagationStopped())break e;g=_,h.currentTarget=H;try{g(h)}catch(X){Ds(X)}h.currentTarget=null,g=O}}}}function Re(t,a){var l=a[Ko];l===void 0&&(l=a[Ko]=new Set);var u=t+"__bubble";l.has(u)||(lp(a,t,2,!1),l.add(u))}function zc(t,a,l){var u=0;a&&(u|=4),lp(l,t,u,a)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function Uc(t){if(!t[Vs]){t[Vs]=!0,Wf.forEach(function(l){l!=="selectionchange"&&(_1.has(l)||zc(l,!1,t),zc(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Vs]||(a[Vs]=!0,zc("selectionchange",!1,a))}}function lp(t,a,l,u){switch(Tp(a)){case 2:var h=J1;break;case 8:h=Z1;break;default:h=Jc}l=h.bind(null,a,l,t),h=void 0,!iu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(a,l,{capture:!0,passive:h}):t.addEventListener(a,l,!0):h!==void 0?t.addEventListener(a,l,{passive:h}):t.addEventListener(a,l,!1)}function Pc(t,a,l,u,h){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var _=u.stateNode.containerInfo;if(_===h)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;_!==null;){if(w=la(_),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=g=w;continue e}_=_.parentNode}}u=u.return}hh(function(){var H=g,X=ru(l),ee=[];e:{var F=qh.get(t);if(F!==void 0){var G=ss,we=t;switch(t){case"keypress":if(is(l)===0)break e;case"keydown":case"keyup":G=yv;break;case"focusin":we="focus",G=uu;break;case"focusout":we="blur",G=uu;break;case"beforeblur":case"afterblur":G=uu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=kv;break;case Uh:case Ph:case Bh:G=uv;break;case Ih:G=Sv;break;case"scroll":case"scrollend":G=av;break;case"wheel":G=jv;break;case"copy":case"cut":case"paste":G=dv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=yh;break;case"toggle":case"beforetoggle":G=Av}var be=(a&4)!==0,Fe=!be&&(t==="scroll"||t==="scrollend"),B=be?F!==null?F+"Capture":null:F;be=[];for(var M=H,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||B===null||(Z=Si(M,B),Z!=null&&be.push(il(M,Z,q))),Fe)break;M=M.return}0<be.length&&(F=new G(F,we,null,l,X),ee.push({event:F,listeners:be}))}}if((a&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&l!==nu&&(we=l.relatedTarget||l.fromElement)&&(la(we)||we[ia]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(we=l.relatedTarget||l.toElement,G=H,we=we?la(we):null,we!==null&&(Fe=o(we),be=we.tag,we!==Fe||be!==5&&be!==27&&be!==6)&&(we=null)):(G=null,we=H),G!==we)){if(be=gh,Z="onMouseLeave",B="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=yh,Z="onPointerLeave",B="onPointerEnter",M="pointer"),Fe=G==null?F:wi(G),q=we==null?F:wi(we),F=new be(Z,M+"leave",G,l,X),F.target=Fe,F.relatedTarget=q,Z=null,la(X)===H&&(be=new be(B,M+"enter",we,l,X),be.target=q,be.relatedTarget=Fe,Z=be),Fe=Z,G&&we)t:{for(be=G,B=we,M=0,q=be;q;q=Ia(q))M++;for(q=0,Z=B;Z;Z=Ia(Z))q++;for(;0<M-q;)be=Ia(be),M--;for(;0<q-M;)B=Ia(B),q--;for(;M--;){if(be===B||B!==null&&be===B.alternate)break t;be=Ia(be),B=Ia(B)}be=null}else be=null;G!==null&&sp(ee,F,G,be,!1),we!==null&&Fe!==null&&sp(ee,Fe,we,be,!0)}}e:{if(F=H?wi(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var he=Eh;else if(_h(F))if(Ah)he=Uv;else{he=Mv;var Ne=Lv}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&tu(H.elementType)&&(he=Eh):he=zv;if(he&&(he=he(t,H))){jh(ee,he,l,X);break e}Ne&&Ne(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&eu(F,"number",F.value)}switch(Ne=H?wi(H):window,t){case"focusin":(_h(Ne)||Ne.contentEditable==="true")&&(ga=Ne,pu=H,Ri=null);break;case"focusout":Ri=pu=ga=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Mh(ee,l,X);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":Mh(ee,l,X)}var ge;if(du)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else pa?wh(t,l)&&(ve="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(bh&&l.locale!=="ko"&&(pa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&pa&&(ge=mh()):(Zn=X,lu="value"in Zn?Zn.value:Zn.textContent,pa=!0)),Ne=Ks(H,ve),0<Ne.length&&(ve=new xh(ve,t,null,l,X),ee.push({event:ve,listeners:Ne}),ge?ve.data=ge:(ge=Sh(l),ge!==null&&(ve.data=ge)))),(ge=Cv?Tv(t,l):Rv(t,l))&&(ve=Ks(H,"onBeforeInput"),0<ve.length&&(Ne=new xh("onBeforeInput","beforeinput",null,l,X),ee.push({event:Ne,listeners:ve}),Ne.data=ge)),k1(ee,t,H,l,X)}ip(ee,a)})}function il(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Ks(t,a){for(var l=a+"Capture",u=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Si(t,l),h!=null&&u.unshift(il(t,h,g)),h=Si(t,a),h!=null&&u.push(il(t,h,g))),t.tag===3)return u;t=t.return}return[]}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sp(t,a,l,u,h){for(var g=a._reactName,w=[];l!==null&&l!==u;){var _=l,O=_.alternate,H=_.stateNode;if(_=_.tag,O!==null&&O===u)break;_!==5&&_!==26&&_!==27||H===null||(O=H,h?(H=Si(l,g),H!=null&&w.unshift(il(l,H,O))):h||(H=Si(l,g),H!=null&&w.push(il(l,H,O)))),l=l.return}w.length!==0&&t.push({event:a,listeners:w})}var j1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function op(t){return(typeof t=="string"?t:""+t).replace(j1,`
`).replace(E1,"")}function up(t,a){return a=op(a),op(t)===a}function Qs(){}function $e(t,a,l,u,h,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||fa(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&fa(t,""+u);break;case"className":es(t,"class",u);break;case"tabIndex":es(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":es(t,l,u);break;case"style":dh(t,u,g);break;case"data":if(a!=="object"){es(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=rs(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&$e(t,a,"name",h.name,h,null),$e(t,a,"formEncType",h.formEncType,h,null),$e(t,a,"formMethod",h.formMethod,h,null),$e(t,a,"formTarget",h.formTarget,h,null)):($e(t,a,"encType",h.encType,h,null),$e(t,a,"method",h.method,h,null),$e(t,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=rs(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=Qs);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=rs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Wl(t,"popover",u);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=nv.get(l)||l,Wl(t,l,u))}}function Bc(t,a,l,u,h,g){switch(l){case"style":dh(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof u=="string"?fa(t,u):(typeof u=="number"||typeof u=="bigint")&&fa(t,""+u);break;case"onScroll":u!=null&&Re("scroll",t);break;case"onScrollEnd":u!=null&&Re("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Qs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),a=l.slice(2,h?l.length-7:void 0),g=t[Ot]||null,g=g!=null?g[l]:null,typeof g=="function"&&t.removeEventListener(a,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,u,h);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):Wl(t,l,u)}}}function kt(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var u=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:$e(t,a,g,w,l,null)}}h&&$e(t,a,"srcSet",l.srcSet,l,null),u&&$e(t,a,"src",l.src,l,null);return;case"input":Re("invalid",t);var _=g=w=h=null,O=null,H=null;for(u in l)if(l.hasOwnProperty(u)){var X=l[u];if(X!=null)switch(u){case"name":h=X;break;case"type":w=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":g=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:$e(t,a,u,X,l,null)}}sh(t,g,_,O,H,w,h,!1),ts(t);return;case"select":Re("invalid",t),u=w=g=null;for(h in l)if(l.hasOwnProperty(h)&&(_=l[h],_!=null))switch(h){case"value":g=_;break;case"defaultValue":w=_;break;case"multiple":u=_;default:$e(t,a,h,_,l,null)}a=g,l=w,t.multiple=!!u,a!=null?da(t,!!u,a,!1):l!=null&&da(t,!!u,l,!0);return;case"textarea":Re("invalid",t),g=h=u=null;for(w in l)if(l.hasOwnProperty(w)&&(_=l[w],_!=null))switch(w){case"value":u=_;break;case"defaultValue":h=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:$e(t,a,w,_,l,null)}uh(t,u,h,g),ts(t);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(u=l[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$e(t,a,O,u,l,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(u=0;u<al.length;u++)Re(al[u],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:$e(t,a,H,u,l,null)}return;default:if(tu(a)){for(X in l)l.hasOwnProperty(X)&&(u=l[X],u!==void 0&&Bc(t,a,X,u,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(u=l[_],u!=null&&$e(t,a,_,u,l,null))}function A1(t,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,w=null,_=null,O=null,H=null,X=null;for(G in l){var ee=l[G];if(l.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=ee;default:u.hasOwnProperty(G)||$e(t,a,G,null,u,ee)}}for(var F in u){var G=u[F];if(ee=l[F],u.hasOwnProperty(F)&&(G!=null||ee!=null))switch(F){case"type":g=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":w=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:G!==ee&&$e(t,a,F,G,u,ee)}}Wo(t,w,_,O,H,X,g,h);return;case"select":G=w=_=F=null;for(g in l)if(O=l[g],l.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":G=O;default:u.hasOwnProperty(g)||$e(t,a,g,null,u,O)}for(h in u)if(g=u[h],O=l[h],u.hasOwnProperty(h)&&(g!=null||O!=null))switch(h){case"value":F=g;break;case"defaultValue":_=g;break;case"multiple":w=g;default:g!==O&&$e(t,a,h,g,u,O)}a=_,l=w,u=G,F!=null?da(t,!!l,F,!1):!!u!=!!l&&(a!=null?da(t,!!l,a,!0):da(t,!!l,l?[]:"",!1));return;case"textarea":G=F=null;for(_ in l)if(h=l[_],l.hasOwnProperty(_)&&h!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:$e(t,a,_,null,u,h)}for(w in u)if(h=u[w],g=l[w],u.hasOwnProperty(w)&&(h!=null||g!=null))switch(w){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&$e(t,a,w,h,u,g)}oh(t,F,G);return;case"option":for(var we in l)if(F=l[we],l.hasOwnProperty(we)&&F!=null&&!u.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:$e(t,a,we,null,u,F)}for(O in u)if(F=u[O],G=l[O],u.hasOwnProperty(O)&&F!==G&&(F!=null||G!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$e(t,a,O,F,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)F=l[be],l.hasOwnProperty(be)&&F!=null&&!u.hasOwnProperty(be)&&$e(t,a,be,null,u,F);for(H in u)if(F=u[H],G=l[H],u.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,a));break;default:$e(t,a,H,F,u,G)}return;default:if(tu(a)){for(var Fe in l)F=l[Fe],l.hasOwnProperty(Fe)&&F!==void 0&&!u.hasOwnProperty(Fe)&&Bc(t,a,Fe,void 0,u,F);for(X in u)F=u[X],G=l[X],!u.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Bc(t,a,X,F,u,G);return}}for(var B in l)F=l[B],l.hasOwnProperty(B)&&F!=null&&!u.hasOwnProperty(B)&&$e(t,a,B,null,u,F);for(ee in u)F=u[ee],G=l[ee],!u.hasOwnProperty(ee)||F===G||F==null&&G==null||$e(t,a,ee,F,u,G)}var Ic=null,qc=null;function Xs(t){return t.nodeType===9?t:t.ownerDocument}function cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Hc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $c=null;function N1(){var t=window.event;return t&&t.type==="popstate"?t===$c?!1:($c=t,!0):($c=null,!1)}var fp=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(t){return hp.resolve(null).then(t).catch(R1)}:fp;function R1(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function mp(t,a){var l=a,u=0,h=0;do{var g=l.nextSibling;if(t.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var w=t.ownerDocument;if(l&1&&ll(w.documentElement),l&2&&ll(w.body),l&4)for(l=w.head,ll(l),w=l.firstChild;w;){var _=w.nextSibling,O=w.nodeName;w[ki]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=_}}if(h===0){t.removeChild(g),ml(a);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);ml(a)}function Fc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fc(l),Qo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function O1(t,a,l,u){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ki])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=hn(t.nextSibling),t===null)break}return null}function D1(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=hn(t.nextSibling),t===null))return null;return t}function Gc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function L1(t,a){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function hn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Yc=null;function pp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return t;a--}else l==="/$"&&a++}t=t.previousSibling}return null}function gp(t,a,l){switch(a=Xs(l),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function ll(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Qo(t)}var on=new Map,xp=new Set;function Js(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $n=$.d;$.d={f:M1,r:z1,D:U1,C:P1,L:B1,m:I1,X:H1,S:q1,M:$1};function M1(){var t=$n.f(),a=Hs();return t||a}function z1(t){var a=sa(t);a!==null&&a.tag===5&&a.type==="form"?Um(a):$n.r(t)}var qa=typeof document>"u"?null:document;function yp(t,a,l){var u=qa;if(u&&typeof a=="string"&&a){var h=en(a);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),xp.has(h)||(xp.add(h),t={rel:t,crossOrigin:l,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),kt(a,"link",t),ht(a),u.head.appendChild(a)))}}function U1(t){$n.D(t),yp("dns-prefetch",t,null)}function P1(t,a){$n.C(t,a),yp("preconnect",t,a)}function B1(t,a,l){$n.L(t,a,l);var u=qa;if(u&&t&&a){var h='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+en(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+en(l.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var g=h;switch(a){case"style":g=Ha(t);break;case"script":g=$a(t)}on.has(g)||(t=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),on.set(g,t),u.querySelector(h)!==null||a==="style"&&u.querySelector(sl(g))||a==="script"&&u.querySelector(ol(g))||(a=u.createElement("link"),kt(a,"link",t),ht(a),u.head.appendChild(a)))}}function I1(t,a){$n.m(t,a);var l=qa;if(l&&t){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+en(u)+'"][href="'+en(t)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=$a(t)}if(!on.has(g)&&(t=x({rel:"modulepreload",href:t},a),on.set(g,t),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ol(g)))return}u=l.createElement("link"),kt(u,"link",t),ht(u),l.head.appendChild(u)}}}function q1(t,a,l){$n.S(t,a,l);var u=qa;if(u&&t){var h=oa(u).hoistableStyles,g=Ha(t);a=a||"default";var w=h.get(g);if(!w){var _={loading:0,preload:null};if(w=u.querySelector(sl(g)))_.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":a},l),(l=on.get(g))&&Vc(t,l);var O=w=u.createElement("link");ht(O),kt(O,"link",t),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){_.loading|=1}),O.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Zs(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:_},h.set(g,w)}}}function H1(t,a){$n.X(t,a);var l=qa;if(l&&t){var u=oa(l).hoistableScripts,h=$a(t),g=u.get(h);g||(g=l.querySelector(ol(h)),g||(t=x({src:t,async:!0},a),(a=on.get(h))&&Kc(t,a),g=l.createElement("script"),ht(g),kt(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function $1(t,a){$n.M(t,a);var l=qa;if(l&&t){var u=oa(l).hoistableScripts,h=$a(t),g=u.get(h);g||(g=l.querySelector(ol(h)),g||(t=x({src:t,async:!0,type:"module"},a),(a=on.get(h))&&Kc(t,a),g=l.createElement("script"),ht(g),kt(g,"link",t),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function bp(t,a,l,u){var h=(h=z.current)?Js(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ha(l.href),l=oa(h).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ha(l.href);var g=oa(h).hoistableStyles,w=g.get(t);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,w),(g=h.querySelector(sl(t)))&&!g._p&&(w.instance=g,w.state.loading=5),on.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},on.set(t,l),g||F1(h,t,l,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$a(l),l=oa(h).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ha(t){return'href="'+en(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function vp(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,a,l,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),kt(a,"link",l),ht(a),t.head.appendChild(a))}function $a(t){return'[src="'+en(t)+'"]'}function ol(t){return"script[async]"+t}function kp(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+en(l.href)+'"]');if(u)return a.instance=u,ht(u),u;var h=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ht(u),kt(u,"style",h),Zs(u,l.precedence,t),a.instance=u;case"stylesheet":h=Ha(l.href);var g=t.querySelector(sl(h));if(g)return a.state.loading|=4,a.instance=g,ht(g),g;u=vp(l),(h=on.get(h))&&Vc(u,h),g=(t.ownerDocument||t).createElement("link"),ht(g);var w=g;return w._p=new Promise(function(_,O){w.onload=_,w.onerror=O}),kt(g,"link",u),a.state.loading|=4,Zs(g,l.precedence,t),a.instance=g;case"script":return g=$a(l.src),(h=t.querySelector(ol(g)))?(a.instance=h,ht(h),h):(u=l,(h=on.get(g))&&(u=x({},l),Kc(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),kt(h,"link",u),t.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Zs(u,l.precedence,t));return a.instance}function Zs(t,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,w=0;w<u.length;w++){var _=u[w];if(_.dataset.precedence===a)g=_;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function Vc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Kc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Ws=null;function wp(t,a,l){if(Ws===null){var u=new Map,h=Ws=new Map;h.set(l,u)}else h=Ws,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var g=l[h];if(!(g[ki]||g[wt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=t+w;var _=u.get(w);_?_.push(g):u.set(w,[g])}}return u}function Sp(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function G1(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ul=null;function Y1(){}function V1(t,a,l){if(ul===null)throw Error(i(475));var u=ul;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(l.href),g=t.querySelector(sl(h));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=eo.bind(u),t.then(u,u)),a.state.loading|=4,a.instance=g,ht(g);return}g=t.ownerDocument||t,l=vp(l),(h=on.get(h))&&Vc(l,h),g=g.createElement("link"),ht(g);var w=g;w._p=new Promise(function(_,O){w.onload=_,w.onerror=O}),kt(g,"link",l),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=eo.bind(u),t.addEventListener("load",a),t.addEventListener("error",a))}}function K1(){if(ul===null)throw Error(i(475));var t=ul;return t.stylesheets&&t.count===0&&Qc(t,t.stylesheets),0<t.count?function(a){var l=setTimeout(function(){if(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l)}}:null}function eo(){if(this.count--,this.count===0){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var to=null;function Qc(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,to=new Map,a.forEach(Q1,t),to=null,eo.call(t))}function Q1(t,a){if(!(a.state.loading&4)){var l=to.get(t);if(l)var u=l.get(null);else{l=new Map,to.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var w=h[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}h=a.instance,w=h.getAttribute("data-precedence"),g=l.get(w)||u,g===u&&l.set(null,h),l.set(w,h),this.count++,u=eo.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),a.state.loading|=4}}var cl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function X1(t,a,l,u,h,g,w,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.hiddenUpdates=Go(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function jp(t,a,l,u,h,g,w,_,O,H,X,ee){return t=new X1(t,a,l,w,_,O,H,ee),a=1,g===!0&&(a|=24),g=Ft(3,null,null,a),t.current=g,g.stateNode=t,a=Tu(),a.refCount++,t.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},Lu(g),t}function Ep(t){return t?(t=va,t):va}function Ap(t,a,l,u,h,g){h=Ep(h),u.context===null?u.context=h:u.pendingContext=h,u=tr(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=nr(t,u,a),l!==null&&(Qt(l,t,a),Ii(l,t,a))}function Np(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Xc(t,a){Np(t,a),(t=t.alternate)&&Np(t,a)}function Cp(t){if(t.tag===13){var a=ba(t,67108864);a!==null&&Qt(a,t,67108864),Xc(t,67108864)}}var no=!0;function J1(t,a,l,u){var h=I.T;I.T=null;var g=$.p;try{$.p=2,Jc(t,a,l,u)}finally{$.p=g,I.T=h}}function Z1(t,a,l,u){var h=I.T;I.T=null;var g=$.p;try{$.p=8,Jc(t,a,l,u)}finally{$.p=g,I.T=h}}function Jc(t,a,l,u){if(no){var h=Zc(u);if(h===null)Pc(t,a,u,ro,l),Rp(t,u);else if(ek(h,t,a,l,u))u.stopPropagation();else if(Rp(t,u),a&4&&-1<W1.indexOf(t)){for(;h!==null;){var g=sa(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ht(g.pendingLanes);if(w!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var O=1<<31-ke(w);_.entanglements[1]|=O,w&=~O}_n(g),(Ie&6)===0&&(Is=It()+500,rl(0))}}break;case 13:_=ba(g,2),_!==null&&Qt(_,g,2),Hs(),Xc(g,2)}if(g=Zc(u),g===null&&Pc(t,a,u,ro,l),g===h)break;h=g}h!==null&&u.stopPropagation()}else Pc(t,a,u,null,l)}}function Zc(t){return t=ru(t),Wc(t)}var ro=null;function Wc(t){if(ro=null,t=la(t),t!==null){var a=o(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=c(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return ro=t,null}function Tp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qo()){case yi:return 2;case bi:return 8;case aa:case Ho:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var ed=!1,pr=null,gr=null,xr=null,dl=new Map,fl=new Map,yr=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(t,a){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":dl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(a.pointerId)}}function hl(t,a,l,u,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},a!==null&&(a=sa(a),a!==null&&Cp(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),t)}function ek(t,a,l,u,h){switch(a){case"focusin":return pr=hl(pr,t,a,l,u,h),!0;case"dragenter":return gr=hl(gr,t,a,l,u,h),!0;case"mouseover":return xr=hl(xr,t,a,l,u,h),!0;case"pointerover":var g=h.pointerId;return dl.set(g,hl(dl.get(g)||null,t,a,l,u,h)),!0;case"gotpointercapture":return g=h.pointerId,fl.set(g,hl(fl.get(g)||null,t,a,l,u,h)),!0}return!1}function Op(t){var a=la(t.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){t.blockedOn=a,Vb(t.priority,function(){if(l.tag===13){var u=Kt();u=Yo(u);var h=ba(l,u);h!==null&&Qt(h,l,u),Xc(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=Zc(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);nu=u,l.target.dispatchEvent(u),nu=null}else return a=sa(l),a!==null&&Cp(a),t.blockedOn=l,!1;a.shift()}return!0}function Dp(t,a,l){ao(t)&&l.delete(a)}function tk(){ed=!1,pr!==null&&ao(pr)&&(pr=null),gr!==null&&ao(gr)&&(gr=null),xr!==null&&ao(xr)&&(xr=null),dl.forEach(Dp),fl.forEach(Dp)}function io(t,a){t.blockedOn===a&&(t.blockedOn=null,ed||(ed=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tk)))}var lo=null;function Lp(t){lo!==t&&(lo=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lo===t&&(lo=null);for(var a=0;a<t.length;a+=3){var l=t[a],u=t[a+1],h=t[a+2];if(typeof u!="function"){if(Wc(u||l)===null)continue;break}var g=sa(l);g!==null&&(t.splice(a,3),a-=3,Wu(g,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function ml(t){function a(O){return io(O,t)}pr!==null&&io(pr,t),gr!==null&&io(gr,t),xr!==null&&io(xr,t),dl.forEach(a),fl.forEach(a);for(var l=0;l<yr.length;l++){var u=yr[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<yr.length&&(l=yr[0],l.blockedOn===null);)Op(l),l.blockedOn===null&&yr.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],w=h[Ot]||null;if(typeof g=="function")w||Lp(l);else if(w){var _=null;if(g&&g.hasAttribute("formAction")){if(h=g,w=g[Ot]||null)_=w.formAction;else if(Wc(h)!==null)continue}else _=w.action;typeof _=="function"?l[u+1]=_:(l.splice(u,3),u-=3),Lp(l)}}}function td(t){this._internalRoot=t}so.prototype.render=td.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Kt();Ap(l,u,t,a,null,null)},so.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Ap(t.current,2,null,t,null,null),Hs(),a[ia]=null}};function so(t){this._internalRoot=t}so.prototype.unstable_scheduleHydration=function(t){if(t){var a=Jf();t={blockedOn:null,target:t,priority:a};for(var l=0;l<yr.length&&a!==0&&a<yr[l].priority;l++);yr.splice(l,0,t),l===0&&Op(t)}};var Mp=n.version;if(Mp!=="19.1.0")throw Error(i(527,Mp,"19.1.0"));$.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(a),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var nk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Q=oo.inject(nk),oe=oo}catch{}}return gl.createRoot=function(t,a){if(!s(t))throw Error(i(299));var l=!1,u="",h=Jm,g=Zm,w=Wm,_=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks)),a=jp(t,1,!1,null,null,l,u,h,g,w,_,null),t[ia]=a.current,Uc(t),new td(a)},gl.hydrateRoot=function(t,a,l){if(!s(t))throw Error(i(299));var u=!1,h="",g=Jm,w=Zm,_=Wm,O=null,H=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(H=l.formState)),a=jp(t,1,!0,a,l??null,u,h,g,w,_,O,H),a.context=Ep(null),l=a.current,u=Kt(),u=Yo(u),h=tr(u),h.callback=null,nr(l,h,u),l=u,a.current.lanes=l,vi(a,l),_n(a),t[ia]=a.current,Uc(t),new so(a)},gl.version="19.1.0",gl}var Gp;function hk(){if(Gp)return ad.exports;Gp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ad.exports=fk(),ad.exports}var mk=hk();const pk=Hl(mk);var xl={},Yp;function gk(){if(Yp)return xl;Yp=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=c,xl.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,v){const S=new o,j=b.length;if(j<2)return S;const N=(v==null?void 0:v.decode)||x;let E=0;do{const C=b.indexOf("=",E);if(C===-1)break;const D=b.indexOf(";",E),P=D===-1?j:D;if(C>P){E=b.lastIndexOf(";",C-1)+1;continue}const T=d(b,E,C),L=p(b,C,T),W=b.slice(T,L);if(S[W]===void 0){let te=d(b,C+1,P),se=p(b,P,te);const U=N(b.slice(te,se));S[W]=U}E=P+1}while(E<j);return S}function d(b,v,S){do{const j=b.charCodeAt(v);if(j!==32&&j!==9)return v}while(++v<S);return S}function p(b,v,S){for(;v>S;){const j=b.charCodeAt(--v);if(j!==32&&j!==9)return v+1}return S}function m(b,v,S){const j=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=j(v);if(!n.test(N))throw new TypeError(`argument val is invalid: ${v}`);let E=b+"="+N;if(!S)return E;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);E+="; Max-Age="+S.maxAge}if(S.domain){if(!r.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);E+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);E+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);E+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(E+="; HttpOnly"),S.secure&&(E+="; Secure"),S.partitioned&&(E+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return E}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return xl}gk();var Vp="popstate";function xk(e={}){function n(i,s){let{pathname:o,search:c,hash:d}=i.location;return qd("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:Ml(s)}return bk(n,r,null,e)}function Ze(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function xn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function yk(){return Math.random().toString(36).substring(2,10)}function Kp(e,n){return{usr:e.state,key:e.key,idx:n}}function qd(e,n,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?fi(n):n,state:r,key:n&&n.key||i||yk()}}function Ml({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fi(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function bk(e,n,r,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,d="POP",p=null,m=x();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function x(){return(c.state||{idx:null}).idx}function y(){d="POP";let N=x(),E=N==null?null:N-m;m=N,p&&p({action:d,location:j.location,delta:E})}function b(N,E){d="PUSH";let C=qd(j.location,N,E);m=x()+1;let D=Kp(C,m),P=j.createHref(C);try{c.pushState(D,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(P)}o&&p&&p({action:d,location:j.location,delta:1})}function v(N,E){d="REPLACE";let C=qd(j.location,N,E);m=x();let D=Kp(C,m),P=j.createHref(C);c.replaceState(D,"",P),o&&p&&p({action:d,location:j.location,delta:0})}function S(N){return vk(N)}let j={get action(){return d},get location(){return e(s,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Vp,y),p=N,()=>{s.removeEventListener(Vp,y),p=null}},createHref(N){return n(s,N)},createURL:S,encodeLocation(N){let E=S(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:v,go(N){return c.go(N)}};return j}function vk(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ml(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Yx(e,n,r="/"){return kk(e,n,r,!1)}function kk(e,n,r,i){let s=typeof n=="string"?fi(n):n,o=Kn(s.pathname||"/",r);if(o==null)return null;let c=Vx(e);wk(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=Dk(o);d=Rk(c[p],m,i)}return d}function Vx(e,n=[],r=[],i=""){let s=(o,c,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(Ze(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Vn([i,p.relativePath]),x=r.concat(p);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Vx(o.children,n,x,m)),!(o.path==null&&!o.index)&&n.push({path:m,score:Ck(m,o.index),routesMeta:x})};return e.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let p of Kx(o.path))s(o,c,p)}),n}function Kx(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=Kx(i.join("/")),d=[];return d.push(...c.map(p=>p===""?o:[o,p].join("/"))),s&&d.push(...c),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function wk(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:Tk(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Sk=/^:[\w-]+$/,_k=3,jk=2,Ek=1,Ak=10,Nk=-2,Qp=e=>e==="*";function Ck(e,n){let r=e.split("/"),i=r.length;return r.some(Qp)&&(i+=Nk),n&&(i+=jk),r.filter(s=>!Qp(s)).reduce((s,o)=>s+(Sk.test(o)?_k:o===""?Ek:Ak),i)}function Tk(e,n){return e.length===n.length&&e.slice(0,-1).every((i,s)=>i===n[s])?e[e.length-1]-n[n.length-1]:0}function Rk(e,n,r=!1){let{routesMeta:i}=e,s={},o="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,x=o==="/"?n:n.slice(o.length)||"/",y=Eo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),b=p.route;if(!y&&m&&r&&!i[i.length-1].route.index&&(y=Eo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:Vn([o,y.pathname]),pathnameBase:Uk(Vn([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Vn([o,y.pathnameBase]))}return c}function Eo(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Ok(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:y},b)=>{if(x==="*"){let S=d[b]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const v=d[b];return y&&!v?m[x]=void 0:m[x]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function Ok(e,n=!1,r=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),i]}function Dk(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Kn(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Lk(e,n="/"){let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?fi(e):e;return{pathname:r?r.startsWith("/")?r:Mk(r,n):n,search:Pk(i),hash:Bk(s)}}function Mk(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function od(e,n,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zk(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function ff(e){let n=zk(e);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function hf(e,n,r,i=!1){let s;typeof e=="string"?s=fi(e):(s={...e},Ze(!s.pathname||!s.pathname.includes("?"),od("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),od("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),od("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=r;else{let y=n.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}d=y>=0?n[y]:"/"}let p=Lk(s,d),m=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}var Vn=e=>e.join("/").replace(/\/\/+/g,"/"),Uk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ik(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Qx=["POST","PUT","PATCH","DELETE"];new Set(Qx);var qk=["GET",...Qx];new Set(qk);var hi=R.createContext(null);hi.displayName="DataRouter";var Do=R.createContext(null);Do.displayName="DataRouterState";var Xx=R.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var Hk=R.createContext(new Map);Hk.displayName="Fetchers";var $k=R.createContext(null);$k.displayName="Await";var yn=R.createContext(null);yn.displayName="Navigation";var $l=R.createContext(null);$l.displayName="Location";var En=R.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var mf=R.createContext(null);mf.displayName="RouteError";function Fk(e,{relative:n}={}){Ze(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=R.useContext(yn),{hash:s,pathname:o,search:c}=Fl(e,{relative:n}),d=o;return r!=="/"&&(d=o==="/"?r:Vn([r,o])),i.createHref({pathname:d,search:c,hash:s})}function mi(){return R.useContext($l)!=null}function Qn(){return Ze(mi(),"useLocation() may be used only in the context of a <Router> component."),R.useContext($l).location}var Jx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zx(e){R.useContext(yn).static||R.useLayoutEffect(e)}function pf(){let{isDataRoute:e}=R.useContext(En);return e?rw():Gk()}function Gk(){Ze(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(hi),{basename:n,navigator:r}=R.useContext(yn),{matches:i}=R.useContext(En),{pathname:s}=Qn(),o=JSON.stringify(ff(i)),c=R.useRef(!1);return Zx(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(xn(c.current,Jx),!c.current)return;if(typeof p=="number"){r.go(p);return}let x=hf(p,JSON.parse(o),s,m.relative==="path");e==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:Vn([n,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[n,r,o,s,e])}R.createContext(null);function Fl(e,{relative:n}={}){let{matches:r}=R.useContext(En),{pathname:i}=Qn(),s=JSON.stringify(ff(r));return R.useMemo(()=>hf(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Yk(e,n){return Wx(e,n)}function Wx(e,n,r,i){var E;Ze(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(yn),{matches:o}=R.useContext(En),c=o[o.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",x=c&&c.route;{let C=x&&x.path||"";ey(p,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=Qn(),b;if(n){let C=typeof n=="string"?fi(n):n;Ze(m==="/"||((E=C.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=y;let v=b.pathname||"/",S=v;if(m!=="/"){let C=m.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=Yx(e,{pathname:S});xn(x||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),xn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Jk(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Vn([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Vn([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return n&&N?R.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function Vk(){let e=nw(),n=Ik(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},n),r?R.createElement("pre",{style:s},r):null,c)}var Kk=R.createElement(Vk,null),Qk=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(En.Provider,{value:this.props.routeContext},R.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xk({routeContext:e,match:n,children:r}){let i=R.useContext(hi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(En.Provider,{value:e},r)}function Jk(e,n=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ze(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(r)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:x,errors:y}=r,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,m,x)=>{let y,b=!1,v=null,S=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,v=m.route.errorElement||Kk,c&&(d<0&&x===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===x&&(b=!0,S=m.route.hydrateFallbackElement||null)));let j=n.concat(s.slice(0,x+1)),N=()=>{let E;return y?E=v:b?E=S:m.route.Component?E=R.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,R.createElement(Xk,{match:m,routeContext:{outlet:p,matches:j,isDataRoute:r!=null},children:E})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?R.createElement(Qk,{location:r.location,revalidation:r.revalidation,component:v,error:y,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function gf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zk(e){let n=R.useContext(hi);return Ze(n,gf(e)),n}function Wk(e){let n=R.useContext(Do);return Ze(n,gf(e)),n}function ew(e){let n=R.useContext(En);return Ze(n,gf(e)),n}function xf(e){let n=ew(e),r=n.matches[n.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function tw(){return xf("useRouteId")}function nw(){var i;let e=R.useContext(mf),n=Wk("useRouteError"),r=xf("useRouteError");return e!==void 0?e:(i=n.errors)==null?void 0:i[r]}function rw(){let{router:e}=Zk("useNavigate"),n=xf("useNavigate"),r=R.useRef(!1);return Zx(()=>{r.current=!0}),R.useCallback(async(s,o={})=>{xn(r.current,Jx),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:n,...o}))},[e,n])}var Xp={};function ey(e,n,r){!n&&!Xp[e]&&(Xp[e]=!0,xn(!1,r))}R.memo(aw);function aw({routes:e,future:n,state:r}){return Wx(e,void 0,r,n)}function Vr({to:e,replace:n,state:r,relative:i}){Ze(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=R.useContext(yn);xn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(En),{pathname:c}=Qn(),d=pf(),p=hf(e,ff(o),c,i==="path"),m=JSON.stringify(p);return R.useEffect(()=>{d(JSON.parse(m),{replace:n,state:r,relative:i})},[d,m,i,n,r]),null}function wr(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:o=!1}){Ze(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof r=="string"&&(r=fi(r));let{pathname:p="/",search:m="",hash:x="",state:y=null,key:b="default"}=r,v=R.useMemo(()=>{let S=Kn(p,c);return S==null?null:{location:{pathname:S,search:m,hash:x,state:y,key:b},navigationType:i}},[c,p,m,x,y,b,i]);return xn(v!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(yn.Provider,{value:d},R.createElement($l.Provider,{children:n,value:v}))}function lw({children:e,location:n}){return Yk(Hd(e),n)}function Hd(e,n=[]){let r=[];return R.Children.forEach(e,(i,s)=>{if(!R.isValidElement(i))return;let o=[...n,s];if(i.type===R.Fragment){r.push.apply(r,Hd(i.props.children,o));return}Ze(i.type===wr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hd(i.props.children,o)),r.push(c)}),r}var wo="get",So="application/x-www-form-urlencoded";function Lo(e){return e!=null&&typeof e.tagName=="string"}function sw(e){return Lo(e)&&e.tagName.toLowerCase()==="button"}function ow(e){return Lo(e)&&e.tagName.toLowerCase()==="form"}function uw(e){return Lo(e)&&e.tagName.toLowerCase()==="input"}function cw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dw(e,n){return e.button===0&&(!n||n==="_self")&&!cw(e)}var uo=null;function fw(){if(uo===null)try{new FormData(document.createElement("form"),0),uo=!1}catch{uo=!0}return uo}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(e){return e!=null&&!hw.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${So}"`),null):e}function mw(e,n){let r,i,s,o,c;if(ow(e)){let d=e.getAttribute("action");i=d?Kn(d,n):null,r=e.getAttribute("method")||wo,s=ud(e.getAttribute("enctype"))||So,o=new FormData(e)}else if(sw(e)||uw(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||d.getAttribute("action");if(i=p?Kn(p,n):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||wo,s=ud(e.getAttribute("formenctype"))||ud(d.getAttribute("enctype"))||So,o=new FormData(d,e),!fw()){let{name:m,type:x,value:y}=e;if(x==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,y)}}else{if(Lo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wo,i=null,s=So,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:r.toLowerCase(),encType:s,formData:o,body:c}}function yf(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}async function pw(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xw(e,n,r){let i=await Promise.all(e.map(async s=>{let o=n.routes[s.route.id];if(o){let c=await pw(o,r);return c.links?c.links():[]}return[]}));return kw(i.flat(1).filter(gw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jp(e,n,r,i,s,o){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,d=(p,m)=>{var x;return r[m].pathname!==p.pathname||((x=r[m].route.path)==null?void 0:x.endsWith("*"))&&r[m].params["*"]!==p.params["*"]};return o==="assets"?n.filter((p,m)=>c(p,m)||d(p,m)):o==="data"?n.filter((p,m)=>{var y;let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yw(e,n,{includeHydrateFallback:r}={}){return bw(e.map(i=>{let s=n.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function bw(e){return[...new Set(e)]}function vw(e){let n={},r=Object.keys(e).sort();for(let i of r)n[i]=e[i];return n}function kw(e,n){let r=new Set;return new Set(n),e.reduce((i,s)=>{let o=JSON.stringify(vw(s));return r.has(o)||(r.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ww=new Set([100,101,204,205]);function Sw(e,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":n&&Kn(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function ty(){let e=R.useContext(hi);return yf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _w(){let e=R.useContext(Do);return yf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bf=R.createContext(void 0);bf.displayName="FrameworkContext";function ny(){let e=R.useContext(bf);return yf(e,"You must render this element inside a <HydratedRouter> element"),e}function jw(e,n){let r=R.useContext(bf),[i,s]=R.useState(!1),[o,c]=R.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:x,onTouchStart:y}=n,b=R.useRef(null);R.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=E=>{E.forEach(C=>{c(C.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),R.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),c(!1)};return r?e!=="intent"?[o,b,{}]:[o,b,{onFocus:yl(d,v),onBlur:yl(p,S),onMouseEnter:yl(m,v),onMouseLeave:yl(x,S),onTouchStart:yl(y,v)}]:[!1,b,{}]}function yl(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function Ew({page:e,...n}){let{router:r}=ty(),i=R.useMemo(()=>Yx(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?R.createElement(Nw,{page:e,matches:i,...n}):null}function Aw(e){let{manifest:n,routeModules:r}=ny(),[i,s]=R.useState([]);return R.useEffect(()=>{let o=!1;return xw(e,n,r).then(c=>{o||s(c)}),()=>{o=!0}},[e,n,r]),i}function Nw({page:e,matches:n,...r}){let i=Qn(),{manifest:s,routeModules:o}=ny(),{basename:c}=ty(),{loaderData:d,matches:p}=_w(),m=R.useMemo(()=>Jp(e,n,p,s,i,"data"),[e,n,p,s,i]),x=R.useMemo(()=>Jp(e,n,p,s,i,"assets"),[e,n,p,s,i]),y=R.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,j=!1;if(n.forEach(E=>{var D;let C=s.routes[E.route.id];!C||!C.hasLoader||(!m.some(P=>P.route.id===E.route.id)&&E.route.id in d&&((D=o[E.route.id])!=null&&D.shouldRevalidate)||C.hasClientLoader?j=!0:S.add(E.route.id))}),S.size===0)return[];let N=Sw(e,c);return j&&S.size>0&&N.searchParams.set("_routes",n.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[c,d,i,s,m,n,e,o]),b=R.useMemo(()=>yw(x,s),[x,s]),v=Aw(x);return R.createElement(R.Fragment,null,y.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:j})=>R.createElement("link",{key:S,...j})))}function Cw(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ry&&(window.__reactRouterVersion="7.6.3")}catch{}function Tw({basename:e,children:n,window:r}){let i=R.useRef();i.current==null&&(i.current=xk({window:r,v5Compat:!0}));let s=i.current,[o,c]=R.useState({action:s.action,location:s.location}),d=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>s.listen(d),[s,d]),R.createElement(iw,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=R.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:d,target:p,to:m,preventScrollReset:x,viewTransition:y,...b},v){let{basename:S}=R.useContext(yn),j=typeof m=="string"&&ay.test(m),N,E=!1;if(typeof m=="string"&&j&&(N=m,ry))try{let se=new URL(window.location.href),U=m.startsWith("//")?new URL(se.protocol+m):new URL(m),V=Kn(U.pathname,S);U.origin===se.origin&&V!=null?m=V+U.search+U.hash:E=!0}catch{xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Fk(m,{relative:s}),[D,P,T]=jw(i,b),L=Lw(m,{replace:c,state:d,target:p,preventScrollReset:x,relative:s,viewTransition:y});function W(se){n&&n(se),se.defaultPrevented||L(se)}let te=R.createElement("a",{...b,...T,href:N||C,onClick:E||o?n:W,ref:Cw(v,P),target:p,"data-discover":!j&&r==="render"?"true":void 0});return D&&!j?R.createElement(R.Fragment,null,te,R.createElement(Ew,{page:C})):te});ai.displayName="Link";var Rw=R.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:d,children:p,...m},x){let y=Fl(c,{relative:m.relative}),b=Qn(),v=R.useContext(Do),{navigator:S,basename:j}=R.useContext(yn),N=v!=null&&Bw(y)&&d===!0,E=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,C=b.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(C=C.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&j&&(D=Kn(D,j)||D);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let T=C===E||!s&&C.startsWith(E)&&C.charAt(P)==="/",L=D!=null&&(D===E||!s&&D.startsWith(E)&&D.charAt(E.length)==="/"),W={isActive:T,isPending:L,isTransitioning:N},te=T?n:void 0,se;typeof i=="function"?se=i(W):se=[i,T?"active":null,L?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(W):o;return R.createElement(ai,{...m,"aria-current":te,className:se,ref:x,style:U,to:c,viewTransition:d},typeof p=="function"?p(W):p)});Rw.displayName="NavLink";var Ow=R.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:c=wo,action:d,onSubmit:p,relative:m,preventScrollReset:x,viewTransition:y,...b},v)=>{let S=Uw(),j=Pw(d,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&ay.test(d),C=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let P=D.nativeEvent.submitter,T=(P==null?void 0:P.getAttribute("formmethod"))||c;S(P||D.currentTarget,{fetcherKey:n,method:T,navigate:r,replace:s,state:o,relative:m,preventScrollReset:x,viewTransition:y})};return R.createElement("form",{ref:v,method:N,action:j,onSubmit:i?p:C,...b,"data-discover":!E&&e==="render"?"true":void 0})});Ow.displayName="Form";function Dw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(e){let n=R.useContext(hi);return Ze(n,Dw(e)),n}function Lw(e,{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=pf(),p=Qn(),m=Fl(e,{relative:o});return R.useCallback(x=>{if(dw(x,n)){x.preventDefault();let y=r!==void 0?r:Ml(p)===Ml(m);d(e,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[p,d,m,r,i,n,e,s,o,c])}var Mw=0,zw=()=>`__${String(++Mw)}__`;function Uw(){let{router:e}=iy("useSubmit"),{basename:n}=R.useContext(yn),r=tw();return R.useCallback(async(i,s={})=>{let{action:o,method:c,encType:d,formData:p,body:m}=mw(i,n);if(s.navigate===!1){let x=s.fetcherKey||zw();await e.fetch(x,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}function Pw(e,{relative:n}={}){let{basename:r}=R.useContext(yn),i=R.useContext(En);Ze(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Fl(e||".",{relative:n})},c=Qn();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),p=d.getAll("index");if(p.some(x=>x==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let x=d.toString();o.search=x?`?${x}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Vn([r,o.pathname])),Ml(o)}function Bw(e,n={}){let r=R.useContext(Xx);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iy("useViewTransitionState"),s=Fl(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=Kn(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=Kn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Eo(s.pathname,c)!=null||Eo(s.pathname,o)!=null}[...ww];const Iw={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},qw={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},vr=({label:e,value:n,icon:r,color:i})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:e}),f.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${Iw[i]} flex-shrink-0`,children:f.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:r})})]}),f.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${qw[i]} leading-tight`,children:n})]}),Hw=e=>{const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-i.getTime())/864e5+1)/7)},$w=(e,n)=>{if(e.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const r=[...e].sort((y,b)=>new Date(y.timestamp).getTime()-new Date(b.timestamp).getTime()),i={};r.forEach(y=>{const b=new Date(y.timestamp);let v="";if(n==="daily")v=b.toLocaleDateString("en-CA");else if(n==="weekly"){const S=b.getFullYear(),j=Hw(b);v=`${S}-W${j.toString().padStart(2,"0")}`}else v=`${b.getFullYear()}-${(b.getMonth()+1).toString().padStart(2,"0")}`;switch(i[v]||(i[v]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":i[v].profit+=1,i[v].pl+=y.outcomeAmount||0;break;case"stop-loss":i[v].loss+=1,i[v].pl-=y.outcomeAmount||0;break;case"pending":i[v].pending+=1;break}});const s=Object.keys(i).sort(),o=s,c=s.map(y=>i[y].profit),d=s.map(y=>i[y].loss),p=s.map(y=>i[y].pending),m=[];let x=0;return s.forEach(y=>{x+=i[y].pl,m.push(x)}),{labels:o,profitData:c,lossData:d,pendingData:p,cumulativePlData:m}},cd=({buttonTimeframe:e,activeTimeframe:n,setTimeframe:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===e?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),Fw=({history:e})=>{const n=R.useRef(null),r=R.useRef(null),[i,s]=R.useState("daily");return R.useEffect(()=>{if(!n.current)return;const o=n.current.getContext("2d");if(!o)return;r.current&&r.current.destroy();const{labels:c,profitData:d,lossData:p,pendingData:m,cumulativePlData:x}=$w(e,i),y="rgba(203, 213, 225, 0.5)",b="rgba(100, 116, 139, 1)",v=o.createLinearGradient(0,0,0,300);v.addColorStop(0,"rgba(34, 197, 94, 0.8)"),v.addColorStop(1,"rgba(34, 197, 94, 0.4)");const S=o.createLinearGradient(0,0,0,300);S.addColorStop(0,"rgba(239, 68, 68, 0.8)"),S.addColorStop(1,"rgba(239, 68, 68, 0.4)");const j=o.createLinearGradient(0,0,0,300);j.addColorStop(0,"rgba(100, 116, 139, 0.7)"),j.addColorStop(1,"rgba(100, 116, 139, 0.3)");const N=o.createLinearGradient(0,50,0,300);return N.addColorStop(0,"rgba(124, 58, 237, 0.5)"),N.addColorStop(1,"rgba(124, 58, 237, 0.05)"),r.current=new window.Chart(o,{type:"bar",data:{labels:c,datasets:[{label:"Profit",data:d,backgroundColor:v,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:p,backgroundColor:S,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:m,backgroundColor:j,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:x,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:N,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:b,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:y,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:b,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:b,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:b,font:{family:"inherit"},callback:function(E){return typeof E!="number"?E:Math.abs(E)>=1e3?"$"+(E/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+E}},title:{display:!0,text:"Cumulative P/L ($)",color:b,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:b,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(E){let C=E.dataset.label||"";return C&&(C+=": "),E.parsed.y!==null&&(E.dataset.yAxisID==="y1"?C+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E.parsed.y):C+=E.parsed.y),C}}}}}}),()=>{r.current&&r.current.destroy()}},[e,i]),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(cd,{buttonTimeframe:"daily",activeTimeframe:i,setTimeframe:s,children:"Daily"}),f.jsx(cd,{buttonTimeframe:"weekly",activeTimeframe:i,setTimeframe:s,children:"Weekly"}),f.jsx(cd,{buttonTimeframe:"monthly",activeTimeframe:i,setTimeframe:s,children:"Monthly"})]})]}),f.jsx("div",{className:"relative h-96",children:e.length>0?f.jsx("canvas",{ref:n}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",f.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Gw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Yw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Vw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Kw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Qw=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),ly=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),sy=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),zl=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Xw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),oy=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zp=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Jw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),dd=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),ii=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:f.jsxs("g",{children:[f.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),f.jsx("g",{})]})}),li=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Yn=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zw=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),uy=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ww=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),Wp=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),eg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),tg=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),ng=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),rg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),eS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),ag=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),cy=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),tS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),nS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),rS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),$d=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),dy={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:Wp,image:Wp},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:eg,image:eg},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:tg,image:tg},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:ng,image:ng},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:rg,image:rg}},aS=e=>{const n=e.filter(j=>j.status!=="pending"),r=n.length,i=n.filter(j=>j.status==="profit").length,s=r>0?i/r*100:0,o=n.filter(j=>j.status==="profit").reduce((j,N)=>j+(N.outcomeAmount||0),0),c=n.reduce((j,N)=>j+(parseFloat(N.tradeSetup.entryPrice)||0),0);let d=0,p=0,m=0,x=0,y=null,b=0;n.forEach(j=>{if(j.status==="stop-loss"?(p++,d=Math.max(d,p),x=0):j.status==="profit"&&(x++,m=Math.max(m,x),p=0),j.timestamp){const N=new Date(j.timestamp);if(y){const E=Math.floor((N.getTime()-y.getTime())/864e5);b=Math.max(b,E)}y=new Date(j.timestamp)}});let v="Novice Navigator";r>=30&&s>=80?v="Elite Executor":r>=20&&s>=60?v="Strategy Sentinel":r>=10&&s>=40?v="Pattern Pursuer":r>=10&&(v="Market Apprentice");const S=[];return r>=30&&d<=3&&s>=70&&S.push("Risk Master"),r>=40&&b<=7&&s>=60&&S.push("Consistency Champion"),d>=5&&m>=3&&S.push("Comeback King/Queen"),c>=1e5&&S.push("Volume Virtuoso"),o>=1e4&&S.push("Profit Hunter"),r>=20&&n.every(j=>j.status!=="stop-loss"||(j.outcomeAmount||0)>=-.02)&&S.push("Iron Hands"),m>=7&&S.push("Streak Specialist"),{tier:v,...dy[v],badges:S}};function iS(e,n,r){switch(e){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-n,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-n,0),win:r<40?40-r:0,desc:"30 trade & win rate ≥ 40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-n,0),win:r<50?50-r:0,desc:"60 trade & win rate ≥ 50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-n,0),win:r<60?60-r:0,desc:"100 trade & win rate ≥ 60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const lS=e=>{const n=e.filter(C=>C.status!=="pending"),r=n.filter(C=>C.status==="profit"),i=n.filter(C=>C.status==="stop-loss"),s=r.length,o=i.length,c=n.length,d=c>0?s/c*100:0,p=r.reduce((C,D)=>C+(D.outcomeAmount||0),0),m=i.reduce((C,D)=>C+(D.outcomeAmount||0),0),x=s>0?p/s:0,y=o>0?m/o:0,b=m>0?p/m:0;let v=0,S=0,j=0;n.forEach(C=>{C.status==="profit"?S+=C.outcomeAmount||0:S-=C.outcomeAmount||0,S>j&&(j=S);const D=j-S;D>v&&(v=D)});const N=r.length>0?Math.max(...r.map(C=>C.outcomeAmount||0)):0,E=i.length>0?Math.max(...i.map(C=>C.outcomeAmount||0)):0;return{averageWin:x,averageLoss:y,profitFactor:b,maxDrawdown:v,bestTrade:N,worstTrade:E,totalTrades:c,winRate:d,totalWins:s,totalLosses:o}},sS=e=>{const r=e.filter(p=>p.status!=="pending").slice(-5),i=r.length>0?r.filter(p=>p.status==="profit").length/r.length:.5;let s="neutral",o=5,c="Neutral pattern";i>=.8?(s="confident",o=2,c="Confident → High Performance"):i>=.6?(s="calm",o=3,c="Calm → Consistent Results"):i>=.4?(s="nervous",o=6,c="Nervous → Mixed Results"):(s="frustrated",o=8,c="Frustrated → Poor Performance");const d=r.map((p,m)=>({tradeId:p.id,preTradeMood:["confident","calm","nervous","excited"][m%4],postTradeEmotion:p.status==="profit"?"happy":"frustrated",stressLevel:Math.floor(Math.random()*5)+3,timestamp:p.timestamp}));return{currentMood:s,stressLevel:o,emotionalPattern:c,recentEmotions:d}},oS=e=>({confident:"😊",nervous:"😰",excited:"🤩",calm:"😌",frustrated:"😤",neutral:"😐"})[e],uS=e=>e<=3?"text-green-600 dark:text-green-400":e<=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",cS=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:"≥ 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:"≥ 10 trade & win rate ≥ 40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:"≥ 20 trade & win rate ≥ 60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:"≥ 30 trade & win rate ≥ 80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:"≥ 30 trade, max loss streak ≤ 3, win rate ≥ 70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:"≥ 40 trade, win rate ≥ 60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak ≥ 5, win streak ≥ 3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading ≥ $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit ≥ $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:"≥ 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak ≥ 7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:"≥ 50 scalp trade, win rate ≥ 60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:"≥ 30 swing trade, win rate ≥ 65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:"≥ 30 day trade, win rate ≥ 65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:"≥ 20 position trade, win rate ≥ 70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak ≥ 10, win streak ≥ 10.",requirement:"Loss streak ≥ 10, win streak ≥ 10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading ≥ $1,000,000.",requirement:"Total nominal trading ≥ $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate ≥ 60% di semua mode.",requirement:"Win rate ≥ 60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:"≥ 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:"≥ 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:"≥ 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:"≥ 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:"≥ 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:"≥ 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:"≥ 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:"≥ 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:"≥ 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:"≥ 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],dS=({currentTier:e,onClose:n})=>f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:n,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:r=>r.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Yn,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(r=>f.jsxs("div",{children:[f.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${r==="common"?"text-green-600":r==="rare"?"text-violet-600":r==="epic"?"text-orange-600":"text-red-600"}`,children:r==="common"?"Common Tiers":r==="rare"?"Rare Tiers":r==="epic"?"Epic Tiers":"Legendary Tiers"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:cS.filter(i=>i.rarity===r).map(i=>f.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${i.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":i.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":i.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${i.name===e?"ring-2 ring-violet-500":""}`,children:[f.jsx("span",{className:`text-lg font-bold ${i.colorClass}`,children:i.name}),f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:i.desc}),f.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",i.requirement]})]},i.name))})]},r))]})]})}),fS=({profile:e,winRate:n,totalTrades:r,onClose:i})=>{var p;const[s,o]=R.useState(!1);R.useEffect(()=>{const m=x=>{x.key==="Escape"&&(s?o(!1):i())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,s]);const c=iS(e.tier,r,n),d=c.next?(p=dy[c.next])==null?void 0:p.image:null;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Yn,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:Zr.createElement(e.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:e.tier}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:e.description}),f.jsx("div",{className:"mt-8",children:c.next?f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[d&&Zr.createElement(d,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),f.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",c.next]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[c.desc," (",c.need>0?`${c.need} trade lagi`:"",c.win?`, win rate ${c.win}% lagi`:"",")"]})]}):f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),f.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>o(!0),children:"Show all tiers & achievements"}),f.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),f.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[n,"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r})]})]})]})]})}),s&&f.jsx(dS,{currentTier:e.tier,onClose:()=>o(!1)})]})};var ig;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(ig||(ig={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lg;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(lg||(lg={}));var sg;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(sg||(sg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=["user","model","function","system"];var si;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(si||(si={}));var oi;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(oi||(oi={}));var ug;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ug||(ug={}));var cg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(cg||(cg={}));var Al;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Al||(Al={}));var dg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(dg||(dg={}));var fg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(fg||(fg={}));var hg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(hg||(hg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Fa extends Et{constructor(n,r){super(n),this.response=r}}class fy extends Et{constructor(n,r,i,s){super(n),this.status=r,this.statusText=i,this.errorDetails=s}}class Ar extends Et{}class hy extends Et{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="https://generativelanguage.googleapis.com",mS="v1beta",pS="0.24.1",gS="genai-js";var Wr;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Wr||(Wr={}));class xS{constructor(n,r,i,s,o){this.model=n,this.task=r,this.apiKey=i,this.stream=s,this.requestOptions=o}toString(){var n,r;const i=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||mS;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||hS}/${i}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function yS(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${gS}/${pS}`),n.join(" ")}async function bS(e){var n;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",yS(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let i=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(s){throw new Ar(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${s.message}`)}for(const[s,o]of i.entries()){if(s==="x-goog-api-key")throw new Ar(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Ar(`Header name ${s} can only be set using the apiClient field`);r.append(s,o)}}return r}async function vS(e,n,r,i,s,o){const c=new xS(e,n,r,i,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},_S(o)),{method:"POST",headers:await bS(c),body:s})}}async function Gl(e,n,r,i,s,o={},c=fetch){const{url:d,fetchOptions:p}=await vS(e,n,r,i,s,o);return kS(d,p,c)}async function kS(e,n,r=fetch){let i;try{i=await r(e,n)}catch(s){wS(s,e)}return i.ok||await SS(i,e),i}function wS(e,n){let r=e;throw r.name==="AbortError"?(r=new hy(`Request aborted when fetching ${n.toString()}: ${e.message}`),r.stack=e.stack):e instanceof fy||e instanceof Ar||(r=new Et(`Error fetching from ${n.toString()}: ${e.message}`),r.stack=e.stack),r}async function SS(e,n){let r="",i;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,i=s.error.details)}catch{}throw new fy(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,i)}function _S(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),n.signal=r.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),_o(e.candidates[0]))throw new Fa(`${_r(e)}`,e);return jS(e)}else if(e.promptFeedback)throw new Fa(`Text not available. ${_r(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_o(e.candidates[0]))throw new Fa(`${_r(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),mg(e)[0]}else if(e.promptFeedback)throw new Fa(`Function call not available. ${_r(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_o(e.candidates[0]))throw new Fa(`${_r(e)}`,e);return mg(e)}else if(e.promptFeedback)throw new Fa(`Function call not available. ${_r(e)}`,e)},e}function jS(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const c of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function mg(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const c of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const ES=[Al.RECITATION,Al.SAFETY,Al.LANGUAGE];function _o(e){return!!e.finishReason&&ES.includes(e.finishReason)}function _r(e){var n,r,i;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((i=e.candidates)===null||i===void 0)&&i[0]){const o=e.candidates[0];_o(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Ul(e){return this instanceof Ul?(this.v=e,this):new Ul(e)}function AS(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,n||[]),s,o=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(b){i[b]&&(s[b]=function(v){return new Promise(function(S,j){o.push([b,v,S,j])>1||d(b,v)})})}function d(b,v){try{p(i[b](v))}catch(S){y(o[0][3],S)}}function p(b){b.value instanceof Ul?Promise.resolve(b.value.v).then(m,x):y(o[0][2],b)}function m(b){d("next",b)}function x(b){d("throw",b)}function y(b,v){b(v),o.shift(),o.length&&d(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function NS(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=RS(n),[i,s]=r.tee();return{stream:TS(i),response:CS(s)}}async function CS(e){const n=[],r=e.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)return vf(OS(n));n.push(s)}}function TS(e){return AS(this,arguments,function*(){const r=e.getReader();for(;;){const{value:i,done:s}=yield Ul(r.read());if(s)break;yield yield Ul(vf(i))}})}function RS(e){const n=e.getReader();return new ReadableStream({start(i){let s="";return o();function o(){return n.read().then(({value:c,done:d})=>{if(d){if(s.trim()){i.error(new Et("Failed to parse stream"));return}i.close();return}s+=c;let p=s.match(pg),m;for(;p;){try{m=JSON.parse(p[1])}catch{i.error(new Et(`Error parsing JSON response: "${p[1]}"`));return}i.enqueue(m),s=s.substring(p[0].length),p=s.match(pg)}return o()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new hy("Request aborted when reading from the stream"):d=new Et("Error reading from the stream"),d})}}})}function OS(e){const n=e[e.length-1],r={promptFeedback:n==null?void 0:n.promptFeedback};for(const i of e){if(i.candidates){let s=0;for(const o of i.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=o.citationMetadata,r.candidates[s].groundingMetadata=o.groundingMetadata,r.candidates[s].finishReason=o.finishReason,r.candidates[s].finishMessage=o.finishMessage,r.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[s].content||(r.candidates[s].content={role:o.content.role||"user",parts:[]});const c={};for(const d of o.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),r.candidates[s].content.parts.push(c)}s++}i.usageMetadata&&(r.usageMetadata=i.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function my(e,n,r,i){const s=await Gl(n,Wr.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),i);return NS(s)}async function py(e,n,r,i){const o=await(await Gl(n,Wr.GENERATE_CONTENT,e,!1,JSON.stringify(r),i)).json();return{response:vf(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Pl(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return DS(n)}function DS(e){const n={role:"user",parts:[]},r={role:"function",parts:[]};let i=!1,s=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),s=!0):(n.parts.push(o),i=!0);if(i&&s)throw new Et("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!s)throw new Et("No content is provided for sending chat message.");return i?n:r}function LS(e,n){var r;let i={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(r=n==null?void 0:n.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new Ar("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=e.contents}else if(s)i=Object.assign(Object.assign({},i),e.generateContentRequest);else{const o=Pl(e);i.contents=[o]}return{generateContentRequest:i}}function gg(e){let n;return e.contents?n=e:n={contents:[Pl(e)]},e.systemInstruction&&(n.systemInstruction=gy(e.systemInstruction)),n}function MS(e){return typeof e=="string"||Array.isArray(e)?{content:Pl(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],zS={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function US(e){let n=!1;for(const r of e){const{role:i,parts:s}=r;if(!n&&i!=="user")throw new Et(`First content should be with role 'user', got ${i}`);if(!og.includes(i))throw new Et(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(og)}`);if(!Array.isArray(s))throw new Et("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Et("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of s)for(const p of xg)p in d&&(o[p]+=1);const c=zS[i];for(const d of xg)if(!c.includes(d)&&o[d]>0)throw new Et(`Content with role '${i}' can't contain '${d}' part`);n=!0}}function yg(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const i of r.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="SILENT_ERROR";class PS{constructor(n,r,i,s={}){this.model=r,this.params=i,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,i!=null&&i.history&&(US(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,r={}){var i,s,o,c,d,p;await this._sendPromise;const m=Pl(n),x={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,m]},y=Object.assign(Object.assign({},this._requestOptions),r);let b;return this._sendPromise=this._sendPromise.then(()=>py(this._apiKey,this.model,x,y)).then(v=>{var S;if(yg(v.response)){this._history.push(m);const j=Object.assign({parts:[],role:"model"},(S=v.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(j)}else{const j=_r(v.response);j&&console.warn(`sendMessage() was unsuccessful. ${j}. Inspect response object for details.`)}b=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,b}async sendMessageStream(n,r={}){var i,s,o,c,d,p;await this._sendPromise;const m=Pl(n),x={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,m]},y=Object.assign(Object.assign({},this._requestOptions),r),b=my(this._apiKey,this.model,x,y);return this._sendPromise=this._sendPromise.then(()=>b).catch(v=>{throw new Error(bg)}).then(v=>v.response).then(v=>{if(yg(v)){this._history.push(m);const S=Object.assign({},v.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=_r(v);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(v=>{v.message!==bg&&console.error(v)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(e,n,r,i){return(await Gl(n,Wr.COUNT_TOKENS,e,!1,JSON.stringify(r),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(e,n,r,i){return(await Gl(n,Wr.EMBED_CONTENT,e,!1,JSON.stringify(r),i)).json()}async function qS(e,n,r,i){const s=r.requests.map(c=>Object.assign(Object.assign({},c),{model:n}));return(await Gl(n,Wr.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(n,r,i={}){this.apiKey=n,this._requestOptions=i,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=gy(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(n,r={}){var i;const s=gg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return py(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}async generateContentStream(n,r={}){var i;const s=gg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return my(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}startChat(n){var r;return new PS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},n),this._requestOptions)}async countTokens(n,r={}){const i=LS(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return BS(this.apiKey,this.model,i,s)}async embedContent(n,r={}){const i=MS(n),s=Object.assign(Object.assign({},this._requestOptions),r);return IS(this.apiKey,this.model,i,s)}async batchEmbedContents(n,r={}){const i=Object.assign(Object.assign({},this._requestOptions),r);return qS(this.apiKey,this.model,n,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(n){this.apiKey=n}getGenerativeModel(n,r){if(!n.model)throw new Et("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new vg(this.apiKey,n,r)}getGenerativeModelFromCachedContent(n,r,i){if(!n.name)throw new Ar("Cached content must contain a `name` field.");if(!n.model)throw new Ar("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const c of s)if(r!=null&&r[c]&&n[c]&&(r==null?void 0:r[c])!==n[c]){if(c==="model"){const d=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,p=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(d===p)continue}throw new Ar(`Different value for "${c}" specified in modelParams (${r[c]}) and cachedContent (${n[c]})`)}const o=Object.assign(Object.assign({},r),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new vg(this.apiKey,o,i)}}const xy={scalp:"SCALP trade - 1-minute chart.",day:"DAY trade - 5-minute atau 15-minute chart.",swing:"SWING trade - 30-minute atau 1-hour chart.",position:"POSITION trade - daily atau weekly chart."},HS=(e,n)=>`Anda adalah AI analis trading profesional. User memilih mode: ${xy[n]}.
Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x–3x
  - Moderat (Day trading): 5x–10x
  - Agresif (Scalping/spekulatif): 10x–20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, dsb, atau No clear pattern jika tidak ada)
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, dsb, atau No indicator analysis jika tidak ada)
- rationale: reasoning trading profesional, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik, seperti contoh di bawah). Sertakan:
    1. Sinyal utama (buy/sell) dan alasan utamanya.
    2. Trend pasar dan pengaruhnya.
    3. Harga penting (current price, support, resistance, entry/SL/TP).
    4. Pola chart yang teridentifikasi.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI overbought, MFI menunjukkan penurunan momentum",
  "rationale": [
    "SELL signal berdasarkan kondisi pasar saat ini.",
    "Trend pasar secara keseluruhan adalah Bearish, mendukung bias sell.",
    "Harga saat ini di 21579.25 menunjukkan tekanan turun.",
    "Pola descending triangle teridentifikasi, biasanya mengindikasikan potensi penurunan.",
    "Support utama di 21571.45, resistance di 21585.25.",
    "Strategi: targetkan profit cepat dengan stop loss ketat, waktu hold singkat.",
    "Perhatikan volume jual dan pantulan dari resistance untuk timing entry optimal."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.`,$S=async(e,n,r,i,s)=>{if(!e)throw new Error("API key is not set.");const o=await new Promise((y,b)=>{const v=new FileReader;v.onloadend=()=>{try{const S=v.result;y(S.split(",")[1])}catch{b(new Error("Failed to process image file"))}},v.onerror=()=>b(new Error("Failed to read image file")),v.readAsDataURL(n)});let c=null;const p=new kf(e).getGenerativeModel({model:"gemini-1.5-pro-latest",safetySettings:[{category:si.HARM_CATEGORY_HARASSMENT,threshold:oi.BLOCK_NONE},{category:si.HARM_CATEGORY_HATE_SPEECH,threshold:oi.BLOCK_NONE},{category:si.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:oi.BLOCK_NONE},{category:si.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:oi.BLOCK_NONE}]}),m={inlineData:{data:o,mimeType:n.type}};for(let y=1;y<=3;y++)try{let b=function(K){if(!K)return"unknown";const J=String(K).trim();if(J==="1M")return"position";const le=J.toLowerCase();return["1m","3m","5m","15m"].includes(le)?"scalp":["30m"].includes(le)?"day":["1h","2h","4h","12h"].includes(le)?"swing":["1d","1w"].includes(le)?"position":"unknown"},v;y===1?v=HS({...r,currentEquity:s},i):v=`Anda adalah AI analis trading profesional. User memilih mode: ${xy[i]}.
Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x–3x
  - Moderat (Day trading): 5x–10x
  - Agresif (Scalping/spekulatif): 10x–20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, dsb, atau No clear pattern jika tidak ada)
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, dsb, atau No indicator analysis jika tidak ada)
- rationale: reasoning trading profesional, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik, seperti contoh di bawah). Sertakan:
    1. Sinyal utama (buy/sell) dan alasan utamanya.
    2. Trend pasar dan pengaruhnya.
    3. Harga penting (current price, support, resistance, entry/SL/TP).
    4. Pola chart yang teridentifikasi.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI overbought, MFI menunjukkan penurunan momentum",
  "rationale": [
    "SELL signal berdasarkan kondisi pasar saat ini.",
    "Trend pasar secara keseluruhan adalah Bearish, mendukung bias sell.",
    "Harga saat ini di 21579.25 menunjukkan tekanan turun.",
    "Pola descending triangle teridentifikasi, biasanya mengindikasikan potensi penurunan.",
    "Support utama di 21571.45, resistance di 21585.25.",
    "Strategi: targetkan profit cepat dengan stop loss ketat, waktu hold singkat.",
    "Perhatikan volume jual dan pantulan dari resistance untuk timing entry optimal."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.`,console.log(`Attempt ${y}: Sending chart analysis request to Gemini 1.5 Pro...`);const j=`You are a professional trading analyst AI. You MUST respond with ONLY valid JSON format. Do not include any additional text, markdown formatting, or explanations outside the JSON structure. The response must be parseable JSON.

${v}`;let C=(await p.generateContent([j,m])).response.text();console.log(`Attempt ${y}: Gemini 1.5 Pro response received:`,C);const D={prompt:0,completion:0,total:0};C=C.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"").trim();let P=C.match(/\{[\s\S]*\}/);if(!P)throw console.error("No JSON object found in response"),console.error("Full response:",C),new Error("AI response does not contain valid JSON format");C=P[0],console.log(`Attempt ${y}: Extracted JSON string:`,C);let T;try{T=JSON.parse(C)}catch(K){throw console.error("JSON parsing failed:",K),console.error("Failed JSON string:",C),new Error("AI response format is invalid. Please try again.")}!T.tradeSetup&&T.tradeType&&T.entryPrice&&T.stopLoss&&T.takeProfit&&(T.tradeSetup={tradeType:T.tradeType,entryPrice:T.entryPrice,stopLoss:T.stopLoss,takeProfit:T.takeProfit,rrr:T.rrr||0}),console.log(`Attempt ${y}: Parsed analysis data:`,T),!T.tradeSetup&&T.tradeType&&T.entryPrice!==void 0&&T.stopLoss!==void 0&&T.takeProfit!==void 0&&(T.tradeSetup={tradeType:T.tradeType,entryPrice:T.entryPrice,stopLoss:T.stopLoss,takeProfit:T.takeProfit,rrr:T.rrr||0},T.leverage!==void 0&&(T.leverage=T.leverage),T.profitAmount!==void 0&&(T.profitAmount=T.profitAmount),T.rationale!==void 0&&(T.rationale=T.rationale),T.error!==void 0&&(T.error=T.error));const W=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(K=>T[K]===void 0||T[K]===null);if(console.log(`Attempt ${y}: Full AI response:`,T),T&&T.error&&T.error.trim()!=="")return{analysis:{error:T.error},usage:D};if(W.length>0){console.error(`Attempt ${y}: Missing required fields in analysis data:`,W),console.error("Available fields:",Object.keys(T)),console.error("Analysis data:",T);const K={marketTrend:T.marketTrend||"Unknown",keyPattern:T.keyPattern||"No clear pattern",indicatorAnalysis:T.indicatorAnalysis||"No indicator analysis",tradeBias:T.tradeBias||"Neutral",confidenceScore:T.confidenceScore||50,rationale:T.rationale||"Analysis incomplete due to missing data",tradeSetup:T.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};K.tradeSetup&&!K.tradeSetup.tradeType&&(K.tradeSetup.tradeType="Long");const J=T.confidenceScore||0,le=T.tradeSetup||{},re=parseFloat(le.rrr)||0;J>=70&&re>0?console.log(`Attempt ${y}: High-confidence signal detected (${J}%, RRR: ${re})`):console.warn(`Attempt ${y}: Low-confidence signal (${J}%, RRR: ${re}) - Consider retrying`);const $=["tradeSetup"].filter(ae=>!T[ae]);if($.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${$.join(", ")}`);console.log(`Attempt ${y}: Using fallback data for missing fields:`,K),T={...T,...K}}(typeof T.riskPerTrade!="number"||isNaN(T.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),T.riskPerTrade=1);const te=["Long","Short"],U=["tradeType","entryPrice","stopLoss","takeProfit"].filter(K=>{const J=T.tradeSetup[K];return K==="tradeType"?!J||J!=="Long"&&J!=="Short":J==null||J===""||Number(J)===0||isNaN(Number(J))});if(U.length>0)throw console.error("Missing required tradeSetup fields:",U),console.error("Available tradeSetup fields:",Object.keys(T.tradeSetup)),console.error("TradeSetup data:",T.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${U.join(", ")}`);if(!T.tradeSetup||typeof T.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",T.tradeSetup),new Error("Trade setup data is missing or invalid");if(T.confidenceScore=Number(T.confidenceScore)||50,(T.confidenceScore<0||T.confidenceScore>100)&&(T.confidenceScore=50),T.tradeSetup&&T.tradeSetup.tradeType==="Neutral"&&(T.confidenceScore=Math.min(T.confidenceScore||50,50)),(!T.tradeBias||!["Bullish","Bearish","Neutral"].includes(T.tradeBias))&&(T.tradeBias="Neutral"),T.tradeSetup.tradeType){const K=String(T.tradeSetup.tradeType).trim().toLowerCase();K==="long"||K==="short"?T.tradeSetup.tradeType=K.charAt(0).toUpperCase()+K.slice(1):(console.warn("Invalid tradeType, fallback to Long"),T.tradeSetup.tradeType="Long")}else console.warn("Missing tradeType, fallback to Long"),T.tradeSetup.tradeType="Long";T.tradeSetup&&(T.tradeSetup.entryPrice=Number(T.tradeSetup.entryPrice)||0,T.tradeSetup.stopLoss=Number(T.tradeSetup.stopLoss)||0,T.tradeSetup.takeProfit=Number(T.tradeSetup.takeProfit)||0,T.tradeSetup.rrr=Number(T.tradeSetup.rrr)||1),console.log(`Attempt ${y}: Analysis successful!`);const V=b(T.detectedTimeframe);return{analysis:{...T,mode:V},usage:D}}catch(b){console.error(`Attempt ${y} failed:`,b),c=b instanceof Error?b:new Error(String(b)),y<3&&(console.log(`Retrying with enhanced prompt... (attempt ${y+1}/3)`),await new Promise(v=>setTimeout(v,1e3)))}console.error("All analysis attempts failed");const x=`AI analysis failed after all attempts. Last error: ${(c==null?void 0:c.message)||c}`;throw new Error(x)},FS=async(e,n)=>{if(!e)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to Gemini 1.5 Pro...");const i=new kf(e).getGenerativeModel({model:"gemini-1.5-pro-latest"}),o=`You are a professional trading performance coach.

${n}`,p=(await i.generateContent(o)).response.text();return console.log("Gemini 1.5 Pro performance response received:",p),{analysisText:p,usage:{prompt:0,completion:0,total:0}}}catch(r){throw console.error("Error in analyzePerformance:",r),r}},GS=async(e,n,r)=>{if(!e)throw new Error("API key is not set.");if(!n)throw new Error("Portfolio data is not available.");const i=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(n,null,2)}

        Pengguna memiliki pertanyaan berikut: "${r}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to Gemini 1.5 Pro...");const c=new kf(e).getGenerativeModel({model:"gemini-1.5-pro-latest"}),d=`${i}

${s}`,x=(await c.generateContent(d)).response.text();return console.log("Gemini 1.5 Pro financial advice response received:",x),{analysisText:x,usage:{prompt:0,completion:0,total:0}}}catch(o){throw console.error("Error in generateFinancialAdvice:",o),o}};function YS(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const VS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QS={};function kg(e,n){return(QS.jsx?KS:VS).test(e)}const XS=/[ \t\n\f\r]/g;function JS(e){return typeof e=="object"?e.type==="text"?wg(e.value):!1:wg(e)}function wg(e){return e.replace(XS,"")===""}class Yl{constructor(n,r,i){this.normal=r,this.property=n,i&&(this.space=i)}}Yl.prototype.normal={};Yl.prototype.property={};Yl.prototype.space=void 0;function yy(e,n){const r={},i={};for(const s of e)Object.assign(r,s.property),Object.assign(i,s.normal);return new Yl(r,i,n)}function Fd(e){return e.toLowerCase()}class Bt{constructor(n,r){this.attribute=r,this.property=n}}Bt.prototype.attribute="";Bt.prototype.booleanish=!1;Bt.prototype.boolean=!1;Bt.prototype.commaOrSpaceSeparated=!1;Bt.prototype.commaSeparated=!1;Bt.prototype.defined=!1;Bt.prototype.mustUseProperty=!1;Bt.prototype.number=!1;Bt.prototype.overloadedBoolean=!1;Bt.prototype.property="";Bt.prototype.spaceSeparated=!1;Bt.prototype.space=void 0;let ZS=0;const je=ta(),ot=ta(),Gd=ta(),ue=ta(),Xe=ta(),ui=ta(),Xt=ta();function ta(){return 2**++ZS}const Yd=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:ot,commaOrSpaceSeparated:Xt,commaSeparated:ui,number:ue,overloadedBoolean:Gd,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),fd=Object.keys(Yd);class wf extends Bt{constructor(n,r,i,s){let o=-1;if(super(n,r),Sg(this,"space",s),typeof i=="number")for(;++o<fd.length;){const c=fd[o];Sg(this,fd[o],(i&Yd[c])===Yd[c])}}}wf.prototype.defined=!0;function Sg(e,n,r){r&&(e[n]=r)}function pi(e){const n={},r={};for(const[i,s]of Object.entries(e.properties)){const o=new wf(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),n[i]=o,r[Fd(i)]=i,r[Fd(o.attribute)]=i}return new Yl(n,r,e.space)}const by=pi({properties:{ariaActiveDescendant:null,ariaAtomic:ot,ariaAutoComplete:null,ariaBusy:ot,ariaChecked:ot,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:ot,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:ot,ariaFlowTo:Xe,ariaGrabbed:ot,ariaHasPopup:null,ariaHidden:ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:ue,ariaLive:null,ariaModal:ot,ariaMultiLine:ot,ariaMultiSelectable:ot,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:ot,ariaReadOnly:ot,ariaRelevant:null,ariaRequired:ot,ariaRoleDescription:Xe,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:ot,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function vy(e,n){return n in e?e[n]:n}function ky(e,n){return vy(e,n.toLowerCase())}const WS=pi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ui,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:Xe,autoFocus:je,autoPlay:je,blocking:Xe,capture:null,charSet:null,checked:je,cite:null,className:Xe,cols:ue,colSpan:null,content:null,contentEditable:ot,controls:je,controlsList:Xe,coords:ue|ui,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:Gd,draggable:ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:Xe,height:ue,hidden:Gd,high:ue,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:je,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:ue,pattern:null,ping:Xe,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:Xe,required:je,reversed:je,rows:ue,rowSpan:ue,sandbox:Xe,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:ot,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:ot,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:ky}),e2=pi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Xt,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ui,g2:ui,glyphName:ui,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Xt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Xt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Xt,rev:Xt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Xt,requiredFeatures:Xt,requiredFonts:Xt,requiredFormats:Xt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Xt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Xt,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Xt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vy}),wy=pi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Sy=pi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ky}),_y=pi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),t2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},n2=/[A-Z]/g,_g=/-[a-z]/g,r2=/^data[-\w.:]+$/i;function a2(e,n){const r=Fd(n);let i=n,s=Bt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&r2.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(_g,l2);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!_g.test(o)){let c=o.replace(n2,i2);c.charAt(0)!=="-"&&(c="-"+c),n="data"+c}}s=wf}return new s(i,n)}function i2(e){return"-"+e.toLowerCase()}function l2(e){return e.charAt(1).toUpperCase()}const s2=yy([by,WS,wy,Sy,_y],"html"),Sf=yy([by,e2,wy,Sy,_y],"svg");function o2(e){return e.join(" ").trim()}var Ga={},hd,jg;function u2(){if(jg)return hd;jg=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,m="/",x="*",y="",b="comment",v="declaration";hd=function(j,N){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];N=N||{};var E=1,C=1;function D(J){var le=J.match(n);le&&(E+=le.length);var re=J.lastIndexOf(p);C=~re?J.length-re:C+J.length}function P(){var J={line:E,column:C};return function(le){return le.position=new T(J),te(),le}}function T(J){this.start=J,this.end={line:E,column:C},this.source=N.source}T.prototype.content=j;function L(J){var le=new Error(N.source+":"+E+":"+C+": "+J);if(le.reason=J,le.filename=N.source,le.line=E,le.column=C,le.source=j,!N.silent)throw le}function W(J){var le=J.exec(j);if(le){var re=le[0];return D(re),j=j.slice(re.length),le}}function te(){W(r)}function se(J){var le;for(J=J||[];le=U();)le!==!1&&J.push(le);return J}function U(){var J=P();if(!(m!=j.charAt(0)||x!=j.charAt(1))){for(var le=2;y!=j.charAt(le)&&(x!=j.charAt(le)||m!=j.charAt(le+1));)++le;if(le+=2,y===j.charAt(le-1))return L("End of comment missing");var re=j.slice(2,le-2);return C+=2,D(re),j=j.slice(le),C+=2,J({type:b,comment:re})}}function V(){var J=P(),le=W(i);if(le){if(U(),!W(s))return L("property missing ':'");var re=W(o),I=J({type:v,property:S(le[0].replace(e,y)),value:re?S(re[0].replace(e,y)):y});return W(c),I}}function K(){var J=[];se(J);for(var le;le=V();)le!==!1&&(J.push(le),se(J));return J}return te(),K()};function S(j){return j?j.replace(d,y):y}return hd}var Eg;function c2(){if(Eg)return Ga;Eg=1;var e=Ga&&Ga.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.default=r;var n=e(u2());function r(i,s){var o=null;if(!i||typeof i!="string")return o;var c=(0,n.default)(i),d=typeof s=="function";return c.forEach(function(p){if(p.type==="declaration"){var m=p.property,x=p.value;d?s(m,x,p):x&&(o=o||{},o[m]=x)}}),o}return Ga}var bl={},Ag;function d2(){if(Ag)return bl;Ag=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(m){return!m||r.test(m)||e.test(m)},c=function(m,x){return x.toUpperCase()},d=function(m,x){return"".concat(x,"-")},p=function(m,x){return x===void 0&&(x={}),o(m)?m:(m=m.toLowerCase(),x.reactCompat?m=m.replace(s,d):m=m.replace(i,d),m.replace(n,c))};return bl.camelCase=p,bl}var vl,Ng;function f2(){if(Ng)return vl;Ng=1;var e=vl&&vl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},n=e(c2()),r=d2();function i(s,o){var c={};return!s||typeof s!="string"||(0,n.default)(s,function(d,p){d&&p&&(c[(0,r.camelCase)(d,o)]=p)}),c}return i.default=i,vl=i,vl}var h2=f2();const m2=Hl(h2),jy=Ey("end"),_f=Ey("start");function Ey(e){return n;function n(r){const i=r&&r.position&&r.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function p2(e){const n=_f(e),r=jy(e);if(n&&r)return{start:n,end:r}}function Nl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Cg(e.position):"start"in e||"end"in e?Cg(e):"line"in e||"column"in e?Vd(e):""}function Vd(e){return Tg(e&&e.line)+":"+Tg(e&&e.column)}function Cg(e){return Vd(e&&e.start)+"-"+Vd(e&&e.end)}function Tg(e){return e&&typeof e=="number"?e:1}class Nt extends Error{constructor(n,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let s="",o={},c=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof n=="string"?s=n:!o.cause&&n&&(c=!0,s=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?o.ruleId=i:(o.source=i.slice(0,p),o.ruleId=i.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=d?d.line:void 0,this.name=Nl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Nt.prototype.file="";Nt.prototype.name="";Nt.prototype.reason="";Nt.prototype.message="";Nt.prototype.stack="";Nt.prototype.column=void 0;Nt.prototype.line=void 0;Nt.prototype.ancestors=void 0;Nt.prototype.cause=void 0;Nt.prototype.fatal=void 0;Nt.prototype.place=void 0;Nt.prototype.ruleId=void 0;Nt.prototype.source=void 0;const jf={}.hasOwnProperty,g2=new Map,x2=/[A-Z]/g,y2=new Set(["table","tbody","thead","tfoot","tr"]),b2=new Set(["td","th"]),Ay="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function v2(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let i;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=N2(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=A2(r,n.jsx,n.jsxs)}const s={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:i,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Sf:s2,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Ny(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Ny(e,n,r){if(n.type==="element")return k2(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return w2(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return _2(e,n,r);if(n.type==="mdxjsEsm")return S2(e,n);if(n.type==="root")return j2(e,n,r);if(n.type==="text")return E2(e,n)}function k2(e,n,r){const i=e.schema;let s=i;n.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Sf,e.schema=s),e.ancestors.push(n);const o=Ty(e,n.tagName,!1),c=C2(e,n);let d=Af(e,n);return y2.has(n.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!JS(p):!0})),Cy(e,c,o,n),Ef(c,d),e.ancestors.pop(),e.schema=i,e.create(n,o,c,r)}function w2(e,n){if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Bl(e,n.position)}function S2(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);Bl(e,n.position)}function _2(e,n,r){const i=e.schema;let s=i;n.name==="svg"&&i.space==="html"&&(s=Sf,e.schema=s),e.ancestors.push(n);const o=n.name===null?e.Fragment:Ty(e,n.name,!0),c=T2(e,n),d=Af(e,n);return Cy(e,c,o,n),Ef(c,d),e.ancestors.pop(),e.schema=i,e.create(n,o,c,r)}function j2(e,n,r){const i={};return Ef(i,Af(e,n)),e.create(n,e.Fragment,i,r)}function E2(e,n){return n.value}function Cy(e,n,r,i){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=i)}function Ef(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function A2(e,n,r){return i;function i(s,o,c,d){const m=Array.isArray(c.children)?r:n;return d?m(o,c,d):m(o,c)}}function N2(e,n){return r;function r(i,s,o,c){const d=Array.isArray(o.children),p=_f(i);return n(s,o,c,d,{columnNumber:p?p.column-1:void 0,fileName:e,lineNumber:p?p.line:void 0},void 0)}}function C2(e,n){const r={};let i,s;for(s in n.properties)if(s!=="children"&&jf.call(n.properties,s)){const o=R2(e,s,n.properties[s]);if(o){const[c,d]=o;e.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&b2.has(n.tagName)?i=d:r[c]=d}}if(i){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function T2(e,n){const r={};for(const i of n.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const c=o.expression;c.type;const d=c.properties[0];d.type,Object.assign(r,e.evaluater.evaluateExpression(d.argument))}else Bl(e,n.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,o=e.evaluater.evaluateExpression(d.expression)}else Bl(e,n.position);else o=i.value===null?!0:i.value;r[s]=o}return r}function Af(e,n){const r=[];let i=-1;const s=e.passKeys?new Map:g2;for(;++i<n.children.length;){const o=n.children[i];let c;if(e.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const m=s.get(p)||0;c=p+"-"+m,s.set(p,m+1)}}const d=Ny(e,o,c);d!==void 0&&r.push(d)}return r}function R2(e,n,r){const i=a2(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?YS(r):o2(r)),i.property==="style"){let s=typeof r=="object"?r:O2(e,String(r));return e.stylePropertyNameCase==="css"&&(s=D2(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?t2[i.property]||i.property:i.attribute,r]}}function O2(e,n){try{return m2(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const i=r,s=new Nt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Ay+"#cannot-parse-style-attribute",s}}function Ty(e,n,r){let i;if(!r)i={type:"Literal",value:n};else if(n.includes(".")){const s=n.split(".");let o=-1,c;for(;++o<s.length;){const d=kg(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}i=c}else i=kg(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(i.type==="Literal"){const s=i.value;return jf.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);Bl(e)}function Bl(e,n){const r=new Nt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Ay+"#cannot-handle-mdx-estrees-without-createevaluater",r}function D2(e){const n={};let r;for(r in e)jf.call(e,r)&&(n[L2(r)]=e[r]);return n}function L2(e){let n=e.replace(x2,M2);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function M2(e){return"-"+e.toLowerCase()}const md={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},z2={};function Nf(e,n){const r=z2,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Ry(e,i,s)}function Ry(e,n,r){if(U2(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Rg(e.children,n,r)}return Array.isArray(e)?Rg(e,n,r):""}function Rg(e,n,r){const i=[];let s=-1;for(;++s<e.length;)i[s]=Ry(e[s],n,r);return i.join("")}function U2(e){return!!(e&&typeof e=="object")}const Og=document.createElement("i");function Cf(e){const n="&"+e+";";Og.innerHTML=n;const r=Og.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function Jt(e,n,r,i){const s=e.length;let o=0,c;if(n<0?n=-n>s?0:s+n:n=n>s?s:n,r=r>0?r:0,i.length<1e4)c=Array.from(i),c.unshift(n,r),e.splice(...c);else for(r&&e.splice(n,r);o<i.length;)c=i.slice(o,o+1e4),c.unshift(n,0),e.splice(...c),o+=1e4,n+=1e4}function un(e,n){return e.length>0?(Jt(e,e.length,0,n),e):n}const Dg={}.hasOwnProperty;function Oy(e){const n={};let r=-1;for(;++r<e.length;)P2(n,e[r]);return n}function P2(e,n){let r;for(r in n){const s=(Dg.call(e,r)?e[r]:void 0)||(e[r]={}),o=n[r];let c;if(o)for(c in o){Dg.call(s,c)||(s[c]=[]);const d=o[c];B2(s[c],Array.isArray(d)?d:d?[d]:[])}}}function B2(e,n){let r=-1;const i=[];for(;++r<n.length;)(n[r].add==="after"?e:i).push(n[r]);Jt(e,0,0,i)}function Dy(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Tt=Nr(/[A-Za-z]/),At=Nr(/[\dA-Za-z]/),I2=Nr(/[#-'*+\--9=?A-Z^-~]/);function Ao(e){return e!==null&&(e<32||e===127)}const Kd=Nr(/\d/),q2=Nr(/[\dA-Fa-f]/),H2=Nr(/[!-/:-@[-`{-~]/);function ye(e){return e!==null&&e<-2}function Ve(e){return e!==null&&(e<0||e===32)}function De(e){return e===-2||e===-1||e===32}const Mo=Nr(new RegExp("\\p{P}|\\p{S}","u")),ea=Nr(/\s/);function Nr(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function gi(e){const n=[];let r=-1,i=0,s=0;for(;++r<e.length;){const o=e.charCodeAt(r);let c="";if(o===37&&At(e.charCodeAt(r+1))&&At(e.charCodeAt(r+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const d=e.charCodeAt(r+1);o<56320&&d>56319&&d<57344?(c=String.fromCharCode(o,d),s=1):c="�"}else c=String.fromCharCode(o);c&&(n.push(e.slice(i,r),encodeURIComponent(c)),i=r+s+1,c=""),s&&(r+=s,s=0)}return n.join("")+e.slice(i)}function Me(e,n,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return De(p)?(e.enter(r),d(p)):n(p)}function d(p){return De(p)&&o++<s?(e.consume(p),d):(e.exit(r),n(p))}}const $2={tokenize:F2};function F2(e){const n=e.attempt(this.parser.constructs.contentInitial,i,s);let r;return n;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Me(e,n,"linePrefix")}function s(d){return e.enter("paragraph"),o(d)}function o(d){const p=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=p),r=p,c(d)}function c(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return ye(d)?(e.consume(d),e.exit("chunkText"),o):(e.consume(d),c)}}const G2={tokenize:Y2},Lg={tokenize:V2};function Y2(e){const n=this,r=[];let i=0,s,o,c;return d;function d(D){if(i<r.length){const P=r[i];return n.containerState=P[1],e.attempt(P[0].continuation,p,m)(D)}return m(D)}function p(D){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,s&&C();const P=n.events.length;let T=P,L;for(;T--;)if(n.events[T][0]==="exit"&&n.events[T][1].type==="chunkFlow"){L=n.events[T][1].end;break}E(i);let W=P;for(;W<n.events.length;)n.events[W][1].end={...L},W++;return Jt(n.events,T+1,0,n.events.slice(P)),n.events.length=W,m(D)}return d(D)}function m(D){if(i===r.length){if(!s)return b(D);if(s.currentConstruct&&s.currentConstruct.concrete)return S(D);n.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Lg,x,y)(D)}function x(D){return s&&C(),E(i),b(D)}function y(D){return n.parser.lazy[n.now().line]=i!==r.length,c=n.now().offset,S(D)}function b(D){return n.containerState={},e.attempt(Lg,v,S)(D)}function v(D){return i++,r.push([n.currentConstruct,n.containerState]),b(D)}function S(D){if(D===null){s&&C(),E(0),e.consume(D);return}return s=s||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),j(D)}function j(D){if(D===null){N(e.exit("chunkFlow"),!0),E(0),e.consume(D);return}return ye(D)?(e.consume(D),N(e.exit("chunkFlow")),i=0,n.interrupt=void 0,d):(e.consume(D),j)}function N(D,P){const T=n.sliceStream(D);if(P&&T.push(null),D.previous=o,o&&(o.next=D),o=D,s.defineSkip(D.start),s.write(T),n.parser.lazy[D.start.line]){let L=s.events.length;for(;L--;)if(s.events[L][1].start.offset<c&&(!s.events[L][1].end||s.events[L][1].end.offset>c))return;const W=n.events.length;let te=W,se,U;for(;te--;)if(n.events[te][0]==="exit"&&n.events[te][1].type==="chunkFlow"){if(se){U=n.events[te][1].end;break}se=!0}for(E(i),L=W;L<n.events.length;)n.events[L][1].end={...U},L++;Jt(n.events,te+1,0,n.events.slice(W)),n.events.length=L}}function E(D){let P=r.length;for(;P-- >D;){const T=r[P];n.containerState=T[1],T[0].exit.call(n,e)}r.length=D}function C(){s.write([null]),o=void 0,s=void 0,n.containerState._closeFlow=void 0}}function V2(e,n,r){return Me(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ci(e){if(e===null||Ve(e)||ea(e))return 1;if(Mo(e))return 2}function zo(e,n,r){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(n=o(n,r),i.push(o))}return n}const Qd={name:"attention",resolveAll:K2,tokenize:Q2};function K2(e,n){let r=-1,i,s,o,c,d,p,m,x;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&n.sliceSerialize(e[i][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;p=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const y={...e[i][1].end},b={...e[r][1].start};Mg(y,-p),Mg(b,p),c={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...e[i][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:b},o={type:p>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[r][1].start}},s={type:p>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},e[i][1].end={...c.start},e[r][1].start={...d.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=un(m,[["enter",e[i][1],n],["exit",e[i][1],n]])),m=un(m,[["enter",s,n],["enter",c,n],["exit",c,n],["enter",o,n]]),m=un(m,zo(n.parser.constructs.insideSpan.null,e.slice(i+1,r),n)),m=un(m,[["exit",o,n],["enter",d,n],["exit",d,n],["exit",s,n]]),e[r][1].end.offset-e[r][1].start.offset?(x=2,m=un(m,[["enter",e[r][1],n],["exit",e[r][1],n]])):x=0,Jt(e,i-1,r-i+3,m),r=i+m.length-x-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function Q2(e,n){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=ci(i);let o;return c;function c(p){return o=p,e.enter("attentionSequence"),d(p)}function d(p){if(p===o)return e.consume(p),d;const m=e.exit("attentionSequence"),x=ci(p),y=!x||x===2&&s||r.includes(p),b=!s||s===2&&x||r.includes(i);return m._open=!!(o===42?y:y&&(s||!b)),m._close=!!(o===42?b:b&&(x||!y)),n(p)}}function Mg(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const X2={name:"autolink",tokenize:J2};function J2(e,n,r){let i=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return Tt(v)?(e.consume(v),c):v===64?r(v):m(v)}function c(v){return v===43||v===45||v===46||At(v)?(i=1,d(v)):m(v)}function d(v){return v===58?(e.consume(v),i=0,p):(v===43||v===45||v===46||At(v))&&i++<32?(e.consume(v),d):(i=0,m(v))}function p(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),n):v===null||v===32||v===60||Ao(v)?r(v):(e.consume(v),p)}function m(v){return v===64?(e.consume(v),x):I2(v)?(e.consume(v),m):r(v)}function x(v){return At(v)?y(v):r(v)}function y(v){return v===46?(e.consume(v),i=0,x):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),n):b(v)}function b(v){if((v===45||At(v))&&i++<63){const S=v===45?b:y;return e.consume(v),S}return r(v)}}const Vl={partial:!0,tokenize:Z2};function Z2(e,n,r){return i;function i(o){return De(o)?Me(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||ye(o)?n(o):r(o)}}const Ly={continuation:{tokenize:e_},exit:t_,name:"blockQuote",tokenize:W2};function W2(e,n,r){const i=this;return s;function s(c){if(c===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),o}return r(c)}function o(c){return De(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(c))}}function e_(e,n,r){const i=this;return s;function s(c){return De(c)?Me(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return e.attempt(Ly,n,r)(c)}}function t_(e){e.exit("blockQuote")}const My={name:"characterEscape",tokenize:n_};function n_(e,n,r){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return H2(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(o)}}const zy={name:"characterReference",tokenize:r_};function r_(e,n,r){const i=this;let s=0,o,c;return d;function d(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),p}function p(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),o=31,c=At,x(y))}function m(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,c=q2,x):(e.enter("characterReferenceValue"),o=7,c=Kd,x(y))}function x(y){if(y===59&&s){const b=e.exit("characterReferenceValue");return c===At&&!Cf(i.sliceSerialize(b))?r(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return c(y)&&s++<o?(e.consume(y),x):r(y)}}const zg={partial:!0,tokenize:i_},Ug={concrete:!0,name:"codeFenced",tokenize:a_};function a_(e,n,r){const i=this,s={partial:!0,tokenize:T};let o=0,c=0,d;return p;function p(L){return m(L)}function m(L){const W=i.events[i.events.length-1];return o=W&&W[1].type==="linePrefix"?W[2].sliceSerialize(W[1],!0).length:0,d=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),x(L)}function x(L){return L===d?(c++,e.consume(L),x):c<3?r(L):(e.exit("codeFencedFenceSequence"),De(L)?Me(e,y,"whitespace")(L):y(L))}function y(L){return L===null||ye(L)?(e.exit("codeFencedFence"),i.interrupt?n(L):e.check(zg,j,P)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(L))}function b(L){return L===null||ye(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(L)):De(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Me(e,v,"whitespace")(L)):L===96&&L===d?r(L):(e.consume(L),b)}function v(L){return L===null||ye(L)?y(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(L))}function S(L){return L===null||ye(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(L)):L===96&&L===d?r(L):(e.consume(L),S)}function j(L){return e.attempt(s,P,N)(L)}function N(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),E}function E(L){return o>0&&De(L)?Me(e,C,"linePrefix",o+1)(L):C(L)}function C(L){return L===null||ye(L)?e.check(zg,j,P)(L):(e.enter("codeFlowValue"),D(L))}function D(L){return L===null||ye(L)?(e.exit("codeFlowValue"),C(L)):(e.consume(L),D)}function P(L){return e.exit("codeFenced"),n(L)}function T(L,W,te){let se=0;return U;function U(re){return L.enter("lineEnding"),L.consume(re),L.exit("lineEnding"),V}function V(re){return L.enter("codeFencedFence"),De(re)?Me(L,K,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):K(re)}function K(re){return re===d?(L.enter("codeFencedFenceSequence"),J(re)):te(re)}function J(re){return re===d?(se++,L.consume(re),J):se>=c?(L.exit("codeFencedFenceSequence"),De(re)?Me(L,le,"whitespace")(re):le(re)):te(re)}function le(re){return re===null||ye(re)?(L.exit("codeFencedFence"),W(re)):te(re)}}}function i_(e,n,r){const i=this;return s;function s(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o)}function o(c){return i.parser.lazy[i.now().line]?r(c):n(c)}}const pd={name:"codeIndented",tokenize:s_},l_={partial:!0,tokenize:o_};function s_(e,n,r){const i=this;return s;function s(m){return e.enter("codeIndented"),Me(e,o,"linePrefix",5)(m)}function o(m){const x=i.events[i.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(m):r(m)}function c(m){return m===null?p(m):ye(m)?e.attempt(l_,c,p)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||ye(m)?(e.exit("codeFlowValue"),c(m)):(e.consume(m),d)}function p(m){return e.exit("codeIndented"),n(m)}}function o_(e,n,r){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?r(c):ye(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),s):Me(e,o,"linePrefix",5)(c)}function o(c){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):ye(c)?s(c):r(c)}}const u_={name:"codeText",previous:d_,resolve:c_,tokenize:f_};function c_(e){let n=e.length-4,r=3,i,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(i=r;++i<n;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(i=r-1,n++;++i<=n;)s===void 0?i!==n&&e[i][1].type!=="lineEnding"&&(s=i):(i===n||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),n-=i-s-2,i=s+2),s=void 0);return e}function d_(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f_(e,n,r){let i=0,s,o;return c;function c(y){return e.enter("codeText"),e.enter("codeTextSequence"),d(y)}function d(y){return y===96?(e.consume(y),i++,d):(e.exit("codeTextSequence"),p(y))}function p(y){return y===null?r(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),p):y===96?(o=e.enter("codeTextSequence"),s=0,x(y)):ye(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||ye(y)?(e.exit("codeTextData"),p(y)):(e.consume(y),m)}function x(y){return y===96?(e.consume(y),s++,x):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(y)):(o.type="codeTextData",m(y))}}class h_{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(n,i):n>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(n,r,i){const s=r||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&kl(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),kl(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);kl(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);kl(this.left,r.reverse())}}}function kl(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function Uy(e){const n={};let r=-1,i,s,o,c,d,p,m;const x=new h_(e);for(;++r<x.length;){for(;r in n;)r=n[r];if(i=x.get(r),r&&i[1].type==="chunkFlow"&&x.get(r-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,m_(x,r)),r=n[r],m=!0);else if(i[1]._container){for(o=r,s=void 0;o--;)if(c=x.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(x.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...x.get(s)[1].start},d=x.slice(s,r),d.unshift(i),x.splice(s,r-s+1,d))}}return Jt(e,0,Number.POSITIVE_INFINITY,x.slice(0)),!m}function m_(e,n){const r=e.get(n)[1],i=e.get(n)[2];let s=n-1;const o=[];let c=r._tokenizer;c||(c=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,p=[],m={};let x,y,b=-1,v=r,S=0,j=0;const N=[j];for(;v;){for(;e.get(++s)[1]!==v;);o.push(s),v._tokenizer||(x=i.sliceStream(v),v.next||x.push(null),y&&c.defineSkip(v.start),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),v._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=v,v=v.next}for(v=r;++b<d.length;)d[b][0]==="exit"&&d[b-1][0]==="enter"&&d[b][1].type===d[b-1][1].type&&d[b][1].start.line!==d[b][1].end.line&&(j=b+1,N.push(j),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(c.events=[],v?(v._tokenizer=void 0,v.previous=void 0):N.pop(),b=N.length;b--;){const E=d.slice(N[b],N[b+1]),C=o.pop();p.push([C,C+E.length-1]),e.splice(C,2,E)}for(p.reverse(),b=-1;++b<p.length;)m[S+p[b][0]]=S+p[b][1],S+=p[b][1]-p[b][0]-1;return m}const p_={resolve:x_,tokenize:y_},g_={partial:!0,tokenize:b_};function x_(e){return Uy(e),e}function y_(e,n){let r;return i;function i(d){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?o(d):ye(d)?e.check(g_,c,o)(d):(e.consume(d),s)}function o(d){return e.exit("chunkContent"),e.exit("content"),n(d)}function c(d){return e.consume(d),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function b_(e,n,r){const i=this;return s;function s(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Me(e,o,"linePrefix")}function o(c){if(c===null||ye(c))return r(c);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(c):e.interrupt(i.parser.constructs.flow,r,n)(c)}}function Py(e,n,r,i,s,o,c,d,p){const m=p||Number.POSITIVE_INFINITY;let x=0;return y;function y(E){return E===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(E),e.exit(o),b):E===null||E===32||E===41||Ao(E)?r(E):(e.enter(i),e.enter(c),e.enter(d),e.enter("chunkString",{contentType:"string"}),j(E))}function b(E){return E===62?(e.enter(o),e.consume(E),e.exit(o),e.exit(s),e.exit(i),n):(e.enter(d),e.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===62?(e.exit("chunkString"),e.exit(d),b(E)):E===null||E===60||ye(E)?r(E):(e.consume(E),E===92?S:v)}function S(E){return E===60||E===62||E===92?(e.consume(E),v):v(E)}function j(E){return!x&&(E===null||E===41||Ve(E))?(e.exit("chunkString"),e.exit(d),e.exit(c),e.exit(i),n(E)):x<m&&E===40?(e.consume(E),x++,j):E===41?(e.consume(E),x--,j):E===null||E===32||E===40||Ao(E)?r(E):(e.consume(E),E===92?N:j)}function N(E){return E===40||E===41||E===92?(e.consume(E),j):j(E)}}function By(e,n,r,i,s,o){const c=this;let d=0,p;return m;function m(v){return e.enter(i),e.enter(s),e.consume(v),e.exit(s),e.enter(o),x}function x(v){return d>999||v===null||v===91||v===93&&!p||v===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?r(v):v===93?(e.exit(o),e.enter(s),e.consume(v),e.exit(s),e.exit(i),n):ye(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),x):(e.enter("chunkString",{contentType:"string"}),y(v))}function y(v){return v===null||v===91||v===93||ye(v)||d++>999?(e.exit("chunkString"),x(v)):(e.consume(v),p||(p=!De(v)),v===92?b:y)}function b(v){return v===91||v===92||v===93?(e.consume(v),d++,y):y(v)}}function Iy(e,n,r,i,s,o){let c;return d;function d(b){return b===34||b===39||b===40?(e.enter(i),e.enter(s),e.consume(b),e.exit(s),c=b===40?41:b,p):r(b)}function p(b){return b===c?(e.enter(s),e.consume(b),e.exit(s),e.exit(i),n):(e.enter(o),m(b))}function m(b){return b===c?(e.exit(o),p(c)):b===null?r(b):ye(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),Me(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),x(b))}function x(b){return b===c||b===null||ye(b)?(e.exit("chunkString"),m(b)):(e.consume(b),b===92?y:x)}function y(b){return b===c||b===92?(e.consume(b),x):x(b)}}function Cl(e,n){let r;return i;function i(s){return ye(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,i):De(s)?Me(e,i,r?"linePrefix":"lineSuffix")(s):n(s)}}const v_={name:"definition",tokenize:w_},k_={partial:!0,tokenize:S_};function w_(e,n,r){const i=this;let s;return o;function o(v){return e.enter("definition"),c(v)}function c(v){return By.call(i,e,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return s=gn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),p):r(v)}function p(v){return Ve(v)?Cl(e,m)(v):m(v)}function m(v){return Py(e,x,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function x(v){return e.attempt(k_,y,y)(v)}function y(v){return De(v)?Me(e,b,"whitespace")(v):b(v)}function b(v){return v===null||ye(v)?(e.exit("definition"),i.parser.defined.push(s),n(v)):r(v)}}function S_(e,n,r){return i;function i(d){return Ve(d)?Cl(e,s)(d):r(d)}function s(d){return Iy(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return De(d)?Me(e,c,"whitespace")(d):c(d)}function c(d){return d===null||ye(d)?n(d):r(d)}}const __={name:"hardBreakEscape",tokenize:j_};function j_(e,n,r){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return ye(o)?(e.exit("hardBreakEscape"),n(o)):r(o)}}const E_={name:"headingAtx",resolve:A_,tokenize:N_};function A_(e,n){let r=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},o={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},Jt(e,i,r-i+1,[["enter",s,n],["enter",o,n],["exit",o,n],["exit",s,n]])),e}function N_(e,n,r){let i=0;return s;function s(x){return e.enter("atxHeading"),o(x)}function o(x){return e.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&i++<6?(e.consume(x),c):x===null||Ve(x)?(e.exit("atxHeadingSequence"),d(x)):r(x)}function d(x){return x===35?(e.enter("atxHeadingSequence"),p(x)):x===null||ye(x)?(e.exit("atxHeading"),n(x)):De(x)?Me(e,d,"whitespace")(x):(e.enter("atxHeadingText"),m(x))}function p(x){return x===35?(e.consume(x),p):(e.exit("atxHeadingSequence"),d(x))}function m(x){return x===null||x===35||Ve(x)?(e.exit("atxHeadingText"),d(x)):(e.consume(x),m)}}const C_=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pg=["pre","script","style","textarea"],T_={concrete:!0,name:"htmlFlow",resolveTo:D_,tokenize:L_},R_={partial:!0,tokenize:z_},O_={partial:!0,tokenize:M_};function D_(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function L_(e,n,r){const i=this;let s,o,c,d,p;return m;function m(A){return x(A)}function x(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),y}function y(A){return A===33?(e.consume(A),b):A===47?(e.consume(A),o=!0,j):A===63?(e.consume(A),s=3,i.interrupt?n:k):Tt(A)?(e.consume(A),c=String.fromCharCode(A),N):r(A)}function b(A){return A===45?(e.consume(A),s=2,v):A===91?(e.consume(A),s=5,d=0,S):Tt(A)?(e.consume(A),s=4,i.interrupt?n:k):r(A)}function v(A){return A===45?(e.consume(A),i.interrupt?n:k):r(A)}function S(A){const de="CDATA[";return A===de.charCodeAt(d++)?(e.consume(A),d===de.length?i.interrupt?n:K:S):r(A)}function j(A){return Tt(A)?(e.consume(A),c=String.fromCharCode(A),N):r(A)}function N(A){if(A===null||A===47||A===62||Ve(A)){const de=A===47,me=c.toLowerCase();return!de&&!o&&Pg.includes(me)?(s=1,i.interrupt?n(A):K(A)):C_.includes(c.toLowerCase())?(s=6,de?(e.consume(A),E):i.interrupt?n(A):K(A)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(A):o?C(A):D(A))}return A===45||At(A)?(e.consume(A),c+=String.fromCharCode(A),N):r(A)}function E(A){return A===62?(e.consume(A),i.interrupt?n:K):r(A)}function C(A){return De(A)?(e.consume(A),C):U(A)}function D(A){return A===47?(e.consume(A),U):A===58||A===95||Tt(A)?(e.consume(A),P):De(A)?(e.consume(A),D):U(A)}function P(A){return A===45||A===46||A===58||A===95||At(A)?(e.consume(A),P):T(A)}function T(A){return A===61?(e.consume(A),L):De(A)?(e.consume(A),T):D(A)}function L(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),p=A,W):De(A)?(e.consume(A),L):te(A)}function W(A){return A===p?(e.consume(A),p=null,se):A===null||ye(A)?r(A):(e.consume(A),W)}function te(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Ve(A)?T(A):(e.consume(A),te)}function se(A){return A===47||A===62||De(A)?D(A):r(A)}function U(A){return A===62?(e.consume(A),V):r(A)}function V(A){return A===null||ye(A)?K(A):De(A)?(e.consume(A),V):r(A)}function K(A){return A===45&&s===2?(e.consume(A),I):A===60&&s===1?(e.consume(A),$):A===62&&s===4?(e.consume(A),Y):A===63&&s===3?(e.consume(A),k):A===93&&s===5?(e.consume(A),ne):ye(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(R_,ie,J)(A)):A===null||ye(A)?(e.exit("htmlFlowData"),J(A)):(e.consume(A),K)}function J(A){return e.check(O_,le,ie)(A)}function le(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),re}function re(A){return A===null||ye(A)?J(A):(e.enter("htmlFlowData"),K(A))}function I(A){return A===45?(e.consume(A),k):K(A)}function $(A){return A===47?(e.consume(A),c="",ae):K(A)}function ae(A){if(A===62){const de=c.toLowerCase();return Pg.includes(de)?(e.consume(A),Y):K(A)}return Tt(A)&&c.length<8?(e.consume(A),c+=String.fromCharCode(A),ae):K(A)}function ne(A){return A===93?(e.consume(A),k):K(A)}function k(A){return A===62?(e.consume(A),Y):A===45&&s===2?(e.consume(A),k):K(A)}function Y(A){return A===null||ye(A)?(e.exit("htmlFlowData"),ie(A)):(e.consume(A),Y)}function ie(A){return e.exit("htmlFlow"),n(A)}}function M_(e,n,r){const i=this;return s;function s(c){return ye(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):r(c)}function o(c){return i.parser.lazy[i.now().line]?r(c):n(c)}}function z_(e,n,r){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Vl,n,r)}}const U_={name:"htmlText",tokenize:P_};function P_(e,n,r){const i=this;let s,o,c;return d;function d(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),p}function p(k){return k===33?(e.consume(k),m):k===47?(e.consume(k),T):k===63?(e.consume(k),D):Tt(k)?(e.consume(k),te):r(k)}function m(k){return k===45?(e.consume(k),x):k===91?(e.consume(k),o=0,S):Tt(k)?(e.consume(k),C):r(k)}function x(k){return k===45?(e.consume(k),v):r(k)}function y(k){return k===null?r(k):k===45?(e.consume(k),b):ye(k)?(c=y,$(k)):(e.consume(k),y)}function b(k){return k===45?(e.consume(k),v):y(k)}function v(k){return k===62?I(k):k===45?b(k):y(k)}function S(k){const Y="CDATA[";return k===Y.charCodeAt(o++)?(e.consume(k),o===Y.length?j:S):r(k)}function j(k){return k===null?r(k):k===93?(e.consume(k),N):ye(k)?(c=j,$(k)):(e.consume(k),j)}function N(k){return k===93?(e.consume(k),E):j(k)}function E(k){return k===62?I(k):k===93?(e.consume(k),E):j(k)}function C(k){return k===null||k===62?I(k):ye(k)?(c=C,$(k)):(e.consume(k),C)}function D(k){return k===null?r(k):k===63?(e.consume(k),P):ye(k)?(c=D,$(k)):(e.consume(k),D)}function P(k){return k===62?I(k):D(k)}function T(k){return Tt(k)?(e.consume(k),L):r(k)}function L(k){return k===45||At(k)?(e.consume(k),L):W(k)}function W(k){return ye(k)?(c=W,$(k)):De(k)?(e.consume(k),W):I(k)}function te(k){return k===45||At(k)?(e.consume(k),te):k===47||k===62||Ve(k)?se(k):r(k)}function se(k){return k===47?(e.consume(k),I):k===58||k===95||Tt(k)?(e.consume(k),U):ye(k)?(c=se,$(k)):De(k)?(e.consume(k),se):I(k)}function U(k){return k===45||k===46||k===58||k===95||At(k)?(e.consume(k),U):V(k)}function V(k){return k===61?(e.consume(k),K):ye(k)?(c=V,$(k)):De(k)?(e.consume(k),V):se(k)}function K(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(e.consume(k),s=k,J):ye(k)?(c=K,$(k)):De(k)?(e.consume(k),K):(e.consume(k),le)}function J(k){return k===s?(e.consume(k),s=void 0,re):k===null?r(k):ye(k)?(c=J,$(k)):(e.consume(k),J)}function le(k){return k===null||k===34||k===39||k===60||k===61||k===96?r(k):k===47||k===62||Ve(k)?se(k):(e.consume(k),le)}function re(k){return k===47||k===62||Ve(k)?se(k):r(k)}function I(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),n):r(k)}function $(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ae}function ae(k){return De(k)?Me(e,ne,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):ne(k)}function ne(k){return e.enter("htmlTextData"),c(k)}}const Tf={name:"labelEnd",resolveAll:H_,resolveTo:$_,tokenize:F_},B_={tokenize:G_},I_={tokenize:Y_},q_={tokenize:V_};function H_(e){let n=-1;const r=[];for(;++n<e.length;){const i=e[n][1];if(r.push(e[n]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",n+=s}}return e.length!==r.length&&Jt(e,0,e.length,r),e}function $_(e,n){let r=e.length,i=0,s,o,c,d;for(;r--;)if(s=e[r][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=r);const p={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[o][1].start},end:{...e[c][1].end}},x={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[c-2][1].start}};return d=[["enter",p,n],["enter",m,n]],d=un(d,e.slice(o+1,o+i+3)),d=un(d,[["enter",x,n]]),d=un(d,zo(n.parser.constructs.insideSpan.null,e.slice(o+i+4,c-3),n)),d=un(d,[["exit",x,n],e[c-2],e[c-1],["exit",m,n]]),d=un(d,e.slice(c+1)),d=un(d,[["exit",p,n]]),Jt(e,o,e.length,d),e}function F_(e,n,r){const i=this;let s=i.events.length,o,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return d;function d(b){return o?o._inactive?y(b):(c=i.parser.defined.includes(gn(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),p):r(b)}function p(b){return b===40?e.attempt(B_,x,c?x:y)(b):b===91?e.attempt(I_,x,c?m:y)(b):c?x(b):y(b)}function m(b){return e.attempt(q_,x,y)(b)}function x(b){return n(b)}function y(b){return o._balanced=!0,r(b)}}function G_(e,n,r){return i;function i(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),s}function s(y){return Ve(y)?Cl(e,o)(y):o(y)}function o(y){return y===41?x(y):Py(e,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return Ve(y)?Cl(e,p)(y):x(y)}function d(y){return r(y)}function p(y){return y===34||y===39||y===40?Iy(e,m,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):x(y)}function m(y){return Ve(y)?Cl(e,x)(y):x(y)}function x(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),n):r(y)}}function Y_(e,n,r){const i=this;return s;function s(d){return By.call(i,e,o,c,"reference","referenceMarker","referenceString")(d)}function o(d){return i.parser.defined.includes(gn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(d):r(d)}function c(d){return r(d)}}function V_(e,n,r){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):r(o)}}const K_={name:"labelStartImage",resolveAll:Tf.resolveAll,tokenize:Q_};function Q_(e,n,r){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),o}function o(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),c):r(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(d):n(d)}}const X_={name:"labelStartLink",resolveAll:Tf.resolveAll,tokenize:J_};function J_(e,n,r){const i=this;return s;function s(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(c):n(c)}}const gd={name:"lineEnding",tokenize:Z_};function Z_(e,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Me(e,n,"linePrefix")}}const jo={name:"thematicBreak",tokenize:W_};function W_(e,n,r){let i=0,s;return o;function o(m){return e.enter("thematicBreak"),c(m)}function c(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||ye(m))?(e.exit("thematicBreak"),n(m)):r(m)}function p(m){return m===s?(e.consume(m),i++,p):(e.exit("thematicBreakSequence"),De(m)?Me(e,d,"whitespace")(m):d(m))}}const Pt={continuation:{tokenize:rj},exit:ij,name:"list",tokenize:nj},ej={partial:!0,tokenize:lj},tj={partial:!0,tokenize:aj};function nj(e,n,r){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return d;function d(v){const S=i.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||v===i.containerState.marker:Kd(v)){if(i.containerState.type||(i.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(jo,r,m)(v):m(v);if(!i.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(v)}return r(v)}function p(v){return Kd(v)&&++c<10?(e.consume(v),p):(!i.interrupt||c<2)&&(i.containerState.marker?v===i.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),m(v)):r(v)}function m(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||v,e.check(Vl,i.interrupt?r:x,e.attempt(ej,b,y))}function x(v){return i.containerState.initialBlankLine=!0,o++,b(v)}function y(v){return De(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),b):r(v)}function b(v){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(v)}}function rj(e,n,r){const i=this;return i.containerState._closeFlow=void 0,e.check(Vl,s,o);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Me(e,n,"listItemIndent",i.containerState.size+1)(d)}function o(d){return i.containerState.furtherBlankLines||!De(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(tj,n,c)(d))}function c(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,Me(e,e.attempt(Pt,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function aj(e,n,r){const i=this;return Me(e,s,"listItemIndent",i.containerState.size+1);function s(o){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?n(o):r(o)}}function ij(e){e.exit(this.containerState.type)}function lj(e,n,r){const i=this;return Me(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const c=i.events[i.events.length-1];return!De(o)&&c&&c[1].type==="listItemPrefixWhitespace"?n(o):r(o)}}const Bg={name:"setextUnderline",resolveTo:sj,tokenize:oj};function sj(e,n){let r=e.length,i,s,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const c={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",c,n]),e.splice(o+1,0,["exit",e[i][1],n]),e[i][1].end={...e[o][1].end}):e[i][1]=c,e.push(["exit",c,n]),e}function oj(e,n,r){const i=this;let s;return o;function o(m){let x=i.events.length,y;for(;x--;)if(i.events[x][1].type!=="lineEnding"&&i.events[x][1].type!=="linePrefix"&&i.events[x][1].type!=="content"){y=i.events[x][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(e.enter("setextHeadingLine"),s=m,c(m)):r(m)}function c(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),De(m)?Me(e,p,"lineSuffix")(m):p(m))}function p(m){return m===null||ye(m)?(e.exit("setextHeadingLine"),n(m)):r(m)}}const uj={tokenize:cj};function cj(e){const n=this,r=e.attempt(Vl,i,e.attempt(this.parser.constructs.flowInitial,s,Me(e,e.attempt(this.parser.constructs.flow,s,e.attempt(p_,s)),"linePrefix")));return r;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const dj={resolveAll:Hy()},fj=qy("string"),hj=qy("text");function qy(e){return{resolveAll:Hy(e==="text"?mj:void 0),tokenize:n};function n(r){const i=this,s=this.parser.constructs[e],o=r.attempt(s,c,d);return c;function c(x){return m(x)?o(x):d(x)}function d(x){if(x===null){r.consume(x);return}return r.enter("data"),r.consume(x),p}function p(x){return m(x)?(r.exit("data"),o(x)):(r.consume(x),p)}function m(x){if(x===null)return!0;const y=s[x];let b=-1;if(y)for(;++b<y.length;){const v=y[b];if(!v.previous||v.previous.call(i,i.previous))return!0}return!1}}}function Hy(e){return n;function n(r,i){let s=-1,o;for(;++s<=r.length;)o===void 0?r[s]&&r[s][1].type==="data"&&(o=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==o+2&&(r[o][1].end=r[s-1][1].end,r.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(r,i):r}}function mj(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],s=n.sliceStream(i);let o=s.length,c=-1,d=0,p;for(;o--;){const m=s[o];if(typeof m=="string"){for(c=m.length;m.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(m===-2)p=!0,d++;else if(m!==-1){o++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(d=0),d){const m={type:r===e.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:i.start._bufferIndex+c,_index:i.start._index+o,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(r,0,["enter",m,n],["exit",m,n]),r+=2)}r++}return e}const pj={42:Pt,43:Pt,45:Pt,48:Pt,49:Pt,50:Pt,51:Pt,52:Pt,53:Pt,54:Pt,55:Pt,56:Pt,57:Pt,62:Ly},gj={91:v_},xj={[-2]:pd,[-1]:pd,32:pd},yj={35:E_,42:jo,45:[Bg,jo],60:T_,61:Bg,95:jo,96:Ug,126:Ug},bj={38:zy,92:My},vj={[-5]:gd,[-4]:gd,[-3]:gd,33:K_,38:zy,42:Qd,60:[X2,U_],91:X_,92:[__,My],93:Tf,95:Qd,96:u_},kj={null:[Qd,dj]},wj={null:[42,95]},Sj={null:[]},_j=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wj,contentInitial:gj,disable:Sj,document:pj,flow:yj,flowInitial:xj,insideSpan:kj,string:bj,text:vj},Symbol.toStringTag,{value:"Module"}));function jj(e,n,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},o=[];let c=[],d=[];const p={attempt:W(T),check:W(L),consume:C,enter:D,exit:P,interrupt:W(L,{interrupt:!0})},m={code:null,containerState:{},defineSkip:j,events:[],now:S,parser:e,previous:null,sliceSerialize:b,sliceStream:v,write:y};let x=n.tokenize.call(m,p);return n.resolveAll&&o.push(n),m;function y(V){return c=un(c,V),N(),c[c.length-1]!==null?[]:(te(n,0),m.events=zo(o,m.events,m),m.events)}function b(V,K){return Aj(v(V),K)}function v(V){return Ej(c,V)}function S(){const{_bufferIndex:V,_index:K,line:J,column:le,offset:re}=i;return{_bufferIndex:V,_index:K,line:J,column:le,offset:re}}function j(V){s[V.line]=V.column,U()}function N(){let V;for(;i._index<c.length;){const K=c[i._index];if(typeof K=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<K.length;)E(K.charCodeAt(i._bufferIndex));else E(K)}}function E(V){x=x(V)}function C(V){ye(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,U()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=V}function D(V,K){const J=K||{};return J.type=V,J.start=S(),m.events.push(["enter",J,m]),d.push(J),J}function P(V){const K=d.pop();return K.end=S(),m.events.push(["exit",K,m]),K}function T(V,K){te(V,K.from)}function L(V,K){K.restore()}function W(V,K){return J;function J(le,re,I){let $,ae,ne,k;return Array.isArray(le)?ie(le):"tokenize"in le?ie([le]):Y(le);function Y(z){return fe;function fe(pe){const Ee=pe!==null&&z[pe],Ge=pe!==null&&z.null,ce=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(Ge)?Ge:Ge?[Ge]:[]];return ie(ce)(pe)}}function ie(z){return $=z,ae=0,z.length===0?I:A(z[ae])}function A(z){return fe;function fe(pe){return k=se(),ne=z,z.partial||(m.currentConstruct=z),z.name&&m.parser.constructs.disable.null.includes(z.name)?me():z.tokenize.call(K?Object.assign(Object.create(m),K):m,p,de,me)(pe)}}function de(z){return V(ne,k),re}function me(z){return k.restore(),++ae<$.length?A($[ae]):I}}}function te(V,K){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&Jt(m.events,K,m.events.length-K,V.resolve(m.events.slice(K),m)),V.resolveTo&&(m.events=V.resolveTo(m.events,m))}function se(){const V=S(),K=m.previous,J=m.currentConstruct,le=m.events.length,re=Array.from(d);return{from:le,restore:I};function I(){i=V,m.previous=K,m.currentConstruct=J,m.events.length=le,d=re,U()}}function U(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Ej(e,n){const r=n.start._index,i=n.start._bufferIndex,s=n.end._index,o=n.end._bufferIndex;let c;if(r===s)c=[e[r].slice(i,o)];else{if(c=e.slice(r,s),i>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(i):c.shift()}o>0&&c.push(e[s].slice(0,o))}return c}function Aj(e,n){let r=-1;const i=[];let s;for(;++r<e.length;){const o=e[r];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=n?" ":"	";break}case-1:{if(!n&&s)continue;c=" ";break}default:c=String.fromCharCode(o)}s=o===-2,i.push(c)}return i.join("")}function Nj(e){const i={constructs:Oy([_j,...(e||{}).extensions||[]]),content:s($2),defined:[],document:s(G2),flow:s(uj),lazy:{},string:s(fj),text:s(hj)};return i;function s(o){return c;function c(d){return jj(i,o,d)}}}function Cj(e){for(;!Uy(e););return e}const Ig=/[\0\t\n\r]/g;function Tj(){let e=1,n="",r=!0,i;return s;function s(o,c,d){const p=[];let m,x,y,b,v;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),y=0,n="",r&&(o.charCodeAt(0)===65279&&y++,r=void 0);y<o.length;){if(Ig.lastIndex=y,m=Ig.exec(o),b=m&&m.index!==void 0?m.index:o.length,v=o.charCodeAt(b),!m){n=o.slice(y);break}if(v===10&&y===b&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),y<b&&(p.push(o.slice(y,b)),e+=b-y),v){case 0:{p.push(65533),e++;break}case 9:{for(x=Math.ceil(e/4)*4,p.push(-2);e++<x;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:i=!0,e=1}y=b+1}return d&&(i&&p.push(-5),n&&p.push(n),p.push(null)),p}}const Rj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Oj(e){return e.replace(Rj,Dj)}function Dj(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),o=s===120||s===88;return Dy(r.slice(o?2:1),o?16:10)}return Cf(r)||e}const $y={}.hasOwnProperty;function Lj(e,n,r){return typeof n!="string"&&(r=n,n=void 0),Mj(r)(Cj(Nj(r).document().write(Tj()(e,n,!0))))}function Mj(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(yi),autolinkProtocol:se,autolinkEmail:se,atxHeading:o(ra),blockQuote:o(Ge),characterEscape:se,characterReference:se,codeFenced:o(ce),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(ce,c),codeText:o(Ce,c),codeTextData:se,data:se,codeFlowValue:se,definition:o(ut),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(rt),hardBreakEscape:o(Jl),hardBreakTrailing:o(Jl),htmlFlow:o(It,c),htmlFlowData:se,htmlText:o(It,c),htmlTextData:se,image:o(qo),label:c,link:o(yi),listItem:o(aa),listItemValue:b,listOrdered:o(bi,y),listUnordered:o(bi),paragraph:o(Ho),reference:A,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(ra),strong:o(Zl),thematicBreak:o(Fo)},exit:{atxHeading:p(),atxHeadingSequence:T,autolink:p(),autolinkEmail:Ee,autolinkProtocol:pe,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:z,characterReference:fe,codeFenced:p(N),codeFencedFence:j,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:U,codeIndented:p(E),codeText:p(re),codeTextData:U,data:U,definition:p(),definitionDestinationString:P,definitionLabelString:C,definitionTitleString:D,emphasis:p(),hardBreakEscape:p(K),hardBreakTrailing:p(K),htmlFlow:p(J),htmlFlowData:U,htmlText:p(le),htmlTextData:U,image:p($),label:ne,labelText:ae,lineEnding:V,link:p(I),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:de,resourceDestinationString:k,resourceTitleString:Y,resource:ie,setextHeading:p(te),setextHeadingLineSequence:W,setextHeadingText:L,strong:p(),thematicBreak:p()}};Fy(n,(e||{}).mdastExtensions||[]);const r={};return i;function i(Q){let oe={type:"root",children:[]};const xe={stack:[oe],tokenStack:[],config:n,enter:d,exit:m,buffer:c,resume:x,data:r},ke=[];let Be=-1;for(;++Be<Q.length;)if(Q[Be][1].type==="listOrdered"||Q[Be][1].type==="listUnordered")if(Q[Be][0]==="enter")ke.push(Be);else{const qt=ke.pop();Be=s(Q,qt,Be)}for(Be=-1;++Be<Q.length;){const qt=n[Q[Be][0]];$y.call(qt,Q[Be][1].type)&&qt[Q[Be][1].type].call(Object.assign({sliceSerialize:Q[Be][2].sliceSerialize},xe),Q[Be][1])}if(xe.tokenStack.length>0){const qt=xe.tokenStack[xe.tokenStack.length-1];(qt[1]||qg).call(xe,void 0,qt[0])}for(oe.position={start:kr(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:kr(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Be=-1;++Be<n.transforms.length;)oe=n.transforms[Be](oe)||oe;return oe}function s(Q,oe,xe){let ke=oe-1,Be=-1,qt=!1,Nn,Rt,bn,Ht;for(;++ke<=xe;){const ft=Q[ke];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?Be++:Be--,Ht=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Nn&&!Ht&&!Be&&!bn&&(bn=ke),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!Be&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||Be===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Nn){let Zt=ke;for(Rt=void 0;Zt--;){const cn=Q[Zt];if(cn[1].type==="lineEnding"||cn[1].type==="lineEndingBlank"){if(cn[0]==="exit")continue;Rt&&(Q[Rt][1].type="lineEndingBlank",qt=!0),cn[1].type="lineEnding",Rt=Zt}else if(!(cn[1].type==="linePrefix"||cn[1].type==="blockQuotePrefix"||cn[1].type==="blockQuotePrefixWhitespace"||cn[1].type==="blockQuoteMarker"||cn[1].type==="listItemIndent"))break}bn&&(!Rt||bn<Rt)&&(Nn._spread=!0),Nn.end=Object.assign({},Rt?Q[Rt][1].start:ft[1].end),Q.splice(Rt||ke,0,["exit",Nn,ft[2]]),ke++,xe++}if(ft[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Nn=Zt,Q.splice(ke,0,["enter",Zt,ft[2]]),ke++,xe++,bn=void 0,Ht=!0}}}return Q[oe][1]._spread=qt,xe}function o(Q,oe){return xe;function xe(ke){d.call(this,Q(ke),ke),oe&&oe.call(this,ke)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(Q,oe,xe){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([oe,xe||void 0]),Q.position={start:kr(oe.start),end:void 0}}function p(Q){return oe;function oe(xe){Q&&Q.call(this,xe),m.call(this,xe)}}function m(Q,oe){const xe=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==Q.type&&(oe?oe.call(this,Q,ke[0]):(ke[1]||qg).call(this,Q,ke[0]));else throw new Error("Cannot close `"+Q.type+"` ("+Nl({start:Q.start,end:Q.end})+"): it’s not open");xe.position.end=kr(Q.end)}function x(){return Nf(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(Q){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Q}function S(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Q}function j(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/(\r?\n|\r)$/g,"")}function C(Q){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=gn(this.sliceSerialize(Q)).toLowerCase()}function D(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function P(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function T(Q){const oe=this.stack[this.stack.length-1];if(!oe.depth){const xe=this.sliceSerialize(Q).length;oe.depth=xe}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function W(Q){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function se(Q){const xe=this.stack[this.stack.length-1].children;let ke=xe[xe.length-1];(!ke||ke.type!=="text")&&(ke=$o(),ke.position={start:kr(Q.start),end:void 0},xe.push(ke)),this.stack.push(ke)}function U(Q){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Q),oe.position.end=kr(Q.end)}function V(Q){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=oe.children[oe.children.length-1];xe.position.end=kr(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(oe.type)&&(se.call(this,Q),U.call(this,Q))}function K(){this.data.atHardBreak=!0}function J(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function le(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function re(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function I(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function $(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function ae(Q){const oe=this.sliceSerialize(Q),xe=this.stack[this.stack.length-2];xe.label=Oj(oe),xe.identifier=gn(oe).toLowerCase()}function ne(){const Q=this.stack[this.stack.length-1],oe=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const ke=Q.children;xe.children=ke}else xe.alt=oe}function k(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function Y(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function ie(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function de(Q){const oe=this.resume(),xe=this.stack[this.stack.length-1];xe.label=oe,xe.identifier=gn(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function me(Q){this.data.characterReferenceType=Q.type}function z(Q){const oe=this.sliceSerialize(Q),xe=this.data.characterReferenceType;let ke;xe?(ke=Dy(oe,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Cf(oe);const Be=this.stack[this.stack.length-1];Be.value+=ke}function fe(Q){const oe=this.stack.pop();oe.position.end=kr(Q.end)}function pe(Q){U.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Q)}function Ee(Q){U.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Q)}function Ge(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function ut(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rt(){return{type:"emphasis",children:[]}}function ra(){return{type:"heading",depth:0,children:[]}}function Jl(){return{type:"break"}}function It(){return{type:"html",value:""}}function qo(){return{type:"image",title:null,url:"",alt:null}}function yi(){return{type:"link",title:null,url:"",children:[]}}function bi(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function aa(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function Ho(){return{type:"paragraph",children:[]}}function Zl(){return{type:"strong",children:[]}}function $o(){return{type:"text",value:""}}function Fo(){return{type:"thematicBreak"}}}function kr(e){return{line:e.line,column:e.column,offset:e.offset}}function Fy(e,n){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?Fy(e,i):zj(e,i)}}function zj(e,n){let r;for(r in n)if($y.call(n,r))switch(r){case"canContainEols":{const i=n[r];i&&e[r].push(...i);break}case"transforms":{const i=n[r];i&&e[r].push(...i);break}case"enter":case"exit":{const i=n[r];i&&Object.assign(e[r],i);break}}}function qg(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Nl({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Nl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Nl({start:n.start,end:n.end})+") is still open")}function Uj(e){const n=this;n.parser=r;function r(i){return Lj(i,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Pj(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function Bj(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function Ij(e,n){const r=n.value?n.value+`
`:"",i={};n.lang&&(i.className=["language-"+n.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function qj(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Hj(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function $j(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(n.identifier).toUpperCase(),s=gi(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let c,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),c=e.footnoteOrder.length):c=o+1,d+=1,e.footnoteCounts.set(i,d);const p={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(n,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return e.patch(n,m),e.applyData(n,m)}function Fj(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Gj(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function Gy(e,n){const r=n.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+i}];const s=e.all(n),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function Yj(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Gy(e,n);const s={src:gi(i.url||""),alt:n.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(n,o),e.applyData(n,o)}function Vj(e,n){const r={src:gi(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function Kj(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,i),e.applyData(n,i)}function Qj(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Gy(e,n);const s={href:gi(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function Xj(e,n){const r={href:gi(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Jj(e,n,r){const i=e.all(n),s=r?Zj(r):Yy(n),o={},c=[];if(typeof n.checked=="boolean"){const x=i[0];let y;x&&x.type==="element"&&x.tagName==="p"?y=x:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const x=i[d];(s||d!==0||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!s?c.push(...x.children):c.push(x)}const p=i[i.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:c};return e.patch(n,m),e.applyData(n,m)}function Zj(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let i=-1;for(;!n&&++i<r.length;)n=Yy(r[i])}return n}function Yy(e){const n=e.spread;return n??e.children.length>1}function Wj(e,n){const r={},i=e.all(n);let s=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function eE(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function tE(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function nE(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function rE(e,n){const r=e.all(n),i=r.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(n.children[0],c),s.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},d=_f(n.children[1]),p=jy(n.children[n.children.length-1]);d&&p&&(c.position={start:d,end:p}),s.push(c)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(n,o),e.applyData(n,o)}function aE(e,n,r){const i=r?r.children:void 0,o=(i?i.indexOf(n):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,d=c?c.length:n.children.length;let p=-1;const m=[];for(;++p<d;){const y=n.children[p],b={},v=c?c[p]:void 0;v&&(b.align=v);let S={type:"element",tagName:o,properties:b,children:[]};y&&(S.children=e.all(y),e.patch(y,S),S=e.applyData(y,S)),m.push(S)}const x={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(n,x),e.applyData(n,x)}function iE(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const Hg=9,$g=32;function lE(e){const n=String(e),r=/\r?\n|\r/g;let i=r.exec(n),s=0;const o=[];for(;i;)o.push(Fg(n.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(n);return o.push(Fg(n.slice(s),s>0,!1)),o.join("")}function Fg(e,n,r){let i=0,s=e.length;if(n){let o=e.codePointAt(i);for(;o===Hg||o===$g;)i++,o=e.codePointAt(i)}if(r){let o=e.codePointAt(s-1);for(;o===Hg||o===$g;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function sE(e,n){const r={type:"text",value:lE(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function oE(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const uE={blockquote:Pj,break:Bj,code:Ij,delete:qj,emphasis:Hj,footnoteReference:$j,heading:Fj,html:Gj,imageReference:Yj,image:Vj,inlineCode:Kj,linkReference:Qj,link:Xj,listItem:Jj,list:Wj,paragraph:eE,root:tE,strong:nE,table:rE,tableCell:iE,tableRow:aE,text:sE,thematicBreak:oE,toml:co,yaml:co,definition:co,footnoteDefinition:co};function co(){}const Vy=-1,Uo=0,Tl=1,No=2,Rf=3,Of=4,Df=5,Lf=6,Ky=7,Qy=8,Gg=typeof self=="object"?self:globalThis,cE=(e,n)=>{const r=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,c]=n[s];switch(o){case Uo:case Vy:return r(c,s);case Tl:{const d=r([],s);for(const p of c)d.push(i(p));return d}case No:{const d=r({},s);for(const[p,m]of c)d[i(p)]=i(m);return d}case Rf:return r(new Date(c),s);case Of:{const{source:d,flags:p}=c;return r(new RegExp(d,p),s)}case Df:{const d=r(new Map,s);for(const[p,m]of c)d.set(i(p),i(m));return d}case Lf:{const d=r(new Set,s);for(const p of c)d.add(i(p));return d}case Ky:{const{name:d,message:p}=c;return r(new Gg[d](p),s)}case Qy:return r(BigInt(c),s);case"BigInt":return r(Object(BigInt(c)),s);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return r(new DataView(d),c)}}return r(new Gg[o](c),s)};return i},Yg=e=>cE(new Map,e)(0),Ya="",{toString:dE}={},{keys:fE}=Object,wl=e=>{const n=typeof e;if(n!=="object"||!e)return[Uo,n];const r=dE.call(e).slice(8,-1);switch(r){case"Array":return[Tl,Ya];case"Object":return[No,Ya];case"Date":return[Rf,Ya];case"RegExp":return[Of,Ya];case"Map":return[Df,Ya];case"Set":return[Lf,Ya];case"DataView":return[Tl,r]}return r.includes("Array")?[Tl,r]:r.includes("Error")?[Ky,r]:[No,r]},fo=([e,n])=>e===Uo&&(n==="function"||n==="symbol"),hE=(e,n,r,i)=>{const s=(c,d)=>{const p=i.push(c)-1;return r.set(d,p),p},o=c=>{if(r.has(c))return r.get(c);let[d,p]=wl(c);switch(d){case Uo:{let x=c;switch(p){case"bigint":d=Qy,x=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+p);x=null;break;case"undefined":return s([Vy],c)}return s([d,x],c)}case Tl:{if(p){let b=c;return p==="DataView"?b=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(b=new Uint8Array(c)),s([p,[...b]],c)}const x=[],y=s([d,x],c);for(const b of c)x.push(o(b));return y}case No:{if(p)switch(p){case"BigInt":return s([p,c.toString()],c);case"Boolean":case"Number":case"String":return s([p,c.valueOf()],c)}if(n&&"toJSON"in c)return o(c.toJSON());const x=[],y=s([d,x],c);for(const b of fE(c))(e||!fo(wl(c[b])))&&x.push([o(b),o(c[b])]);return y}case Rf:return s([d,c.toISOString()],c);case Of:{const{source:x,flags:y}=c;return s([d,{source:x,flags:y}],c)}case Df:{const x=[],y=s([d,x],c);for(const[b,v]of c)(e||!(fo(wl(b))||fo(wl(v))))&&x.push([o(b),o(v)]);return y}case Lf:{const x=[],y=s([d,x],c);for(const b of c)(e||!fo(wl(b)))&&x.push(o(b));return y}}const{message:m}=c;return s([d,{name:p,message:m}],c)};return o},Vg=(e,{json:n,lossy:r}={})=>{const i=[];return hE(!(n||r),!!n,new Map,i)(e),i},Co=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Yg(Vg(e,n)):structuredClone(e):(e,n)=>Yg(Vg(e,n));function mE(e,n){const r=[{type:"text",value:"↩"}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function pE(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function gE(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||mE,i=e.options.footnoteBackLabel||pE,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[p]);if(!m)continue;const x=e.all(m),y=String(m.identifier).toUpperCase(),b=gi(y.toLowerCase());let v=0;const S=[],j=e.footnoteCounts.get(y);for(;j!==void 0&&++v<=j;){S.length>0&&S.push({type:"text",value:" "});let C=typeof r=="string"?r:r(p,v);typeof C=="string"&&(C={type:"text",value:C}),S.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+b+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,v),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const N=x[x.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const C=N.children[N.children.length-1];C&&C.type==="text"?C.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...S)}else x.push(...S);const E={type:"element",tagName:"li",properties:{id:n+"fn-"+b},children:e.wrap(x,!0)};e.patch(m,E),d.push(E)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Co(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const Po=function(e){if(e==null)return vE;if(typeof e=="function")return Bo(e);if(typeof e=="object")return Array.isArray(e)?xE(e):yE(e);if(typeof e=="string")return bE(e);throw new Error("Expected function, string, or object as test")};function xE(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Po(e[r]);return Bo(i);function i(...s){let o=-1;for(;++o<n.length;)if(n[o].apply(this,s))return!0;return!1}}function yE(e){const n=e;return Bo(r);function r(i){const s=i;let o;for(o in e)if(s[o]!==n[o])return!1;return!0}}function bE(e){return Bo(n);function n(r){return r&&r.type===e}}function Bo(e){return n;function n(r,i,s){return!!(kE(r)&&e.call(this,r,typeof i=="number"?i:void 0,s||void 0))}}function vE(){return!0}function kE(e){return e!==null&&typeof e=="object"&&"type"in e}const Xy=[],wE=!0,Xd=!1,SE="skip";function Jy(e,n,r,i){let s;typeof n=="function"&&typeof r!="function"?(i=r,r=n):s=n;const o=Po(s),c=i?-1:1;d(e,void 0,[])();function d(p,m,x){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const v=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(p.type+(v?"<"+v+">":""))+")"})}return b;function b(){let v=Xy,S,j,N;if((!n||o(p,m,x[x.length-1]||void 0))&&(v=_E(r(p,x)),v[0]===Xd))return v;if("children"in p&&p.children){const E=p;if(E.children&&v[0]!==SE)for(j=(i?E.children.length:-1)+c,N=x.concat(E);j>-1&&j<E.children.length;){const C=E.children[j];if(S=d(C,j,N)(),S[0]===Xd)return S;j=typeof S[1]=="number"?S[1]:j+c}}return v}}}function _E(e){return Array.isArray(e)?e:typeof e=="number"?[wE,e]:e==null?Xy:[e]}function Mf(e,n,r,i){let s,o,c;typeof n=="function"&&typeof r!="function"?(o=void 0,c=n,s=r):(o=n,c=r,s=i),Jy(e,o,d,s);function d(p,m){const x=m[m.length-1],y=x?x.children.indexOf(p):void 0;return c(p,y,x)}}const Jd={}.hasOwnProperty,jE={};function EE(e,n){const r=n||jE,i=new Map,s=new Map,o=new Map,c={...uE,...r.handlers},d={all:m,applyData:NE,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:r,patch:AE,wrap:TE};return Mf(e,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const y=x.type==="definition"?i:s,b=String(x.identifier).toUpperCase();y.has(b)||y.set(b,x)}}),d;function p(x,y){const b=x.type,v=d.handlers[b];if(Jd.call(d.handlers,b)&&v)return v(d,x,y);if(d.options.passThrough&&d.options.passThrough.includes(b)){if("children"in x){const{children:j,...N}=x,E=Co(N);return E.children=d.all(x),E}return Co(x)}return(d.options.unknownHandler||CE)(d,x,y)}function m(x){const y=[];if("children"in x){const b=x.children;let v=-1;for(;++v<b.length;){const S=d.one(b[v],x);if(S){if(v&&b[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Kg(S.value)),!Array.isArray(S)&&S.type==="element")){const j=S.children[0];j&&j.type==="text"&&(j.value=Kg(j.value))}Array.isArray(S)?y.push(...S):y.push(S)}}}return y}}function AE(e,n){e.position&&(n.position=p2(e))}function NE(e,n){let r=n;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const c="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:c}}r.type==="element"&&o&&Object.assign(r.properties,Co(o)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function CE(e,n){const r=n.data||{},i="value"in n&&!(Jd.call(r,"hProperties")||Jd.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function TE(e,n){const r=[];let i=-1;for(n&&r.push({type:"text",value:`
`});++i<e.length;)i&&r.push({type:"text",value:`
`}),r.push(e[i]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function Kg(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function Qg(e,n){const r=EE(e,n),i=r.one(e,void 0),s=gE(r),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function RE(e,n){return e&&"run"in e?async function(r,i){const s=Qg(r,{file:i,...n});await e.run(s,i)}:function(r,i){return Qg(r,{file:i,...e||n})}}function Xg(e){if(e)throw e}var xd,Jg;function OE(){if(Jg)return xd;Jg=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):n.call(m)==="[object Array]"},o=function(m){if(!m||n.call(m)!=="[object Object]")return!1;var x=e.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!x&&!y)return!1;var b;for(b in m);return typeof b>"u"||e.call(m,b)},c=function(m,x){r&&x.name==="__proto__"?r(m,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):m[x.name]=x.newValue},d=function(m,x){if(x==="__proto__")if(e.call(m,x)){if(i)return i(m,x).value}else return;return m[x]};return xd=function p(){var m,x,y,b,v,S,j=arguments[0],N=1,E=arguments.length,C=!1;for(typeof j=="boolean"&&(C=j,j=arguments[1]||{},N=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});N<E;++N)if(m=arguments[N],m!=null)for(x in m)y=d(j,x),b=d(m,x),j!==b&&(C&&b&&(o(b)||(v=s(b)))?(v?(v=!1,S=y&&s(y)?y:[]):S=y&&o(y)?y:{},c(j,{name:x,newValue:p(C,S,b)})):typeof b<"u"&&c(j,{name:x,newValue:b}));return j},xd}var DE=OE();const yd=Hl(DE);function Zd(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function LE(){const e=[],n={run:r,use:i};return n;function r(...s){let o=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...s);function d(p,...m){const x=e[++o];let y=-1;if(p){c(p);return}for(;++y<s.length;)(m[y]===null||m[y]===void 0)&&(m[y]=s[y]);s=m,x?ME(x,d)(...m):c(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),n}}function ME(e,n){let r;return i;function i(...c){const d=e.length>c.length;let p;d&&c.push(s);try{p=e.apply(this,c)}catch(m){const x=m;if(d&&r)throw x;return s(x)}d||(p&&p.then&&typeof p.then=="function"?p.then(o,s):p instanceof Error?s(p):o(p))}function s(c,...d){r||(r=!0,n(c,...d))}function o(c){s(null,c)}}const jn={basename:zE,dirname:UE,extname:PE,join:BE,sep:"/"};function zE(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Kl(e);let r=0,i=-1,s=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(r,i)}if(n===e)return"";let c=-1,d=n.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else c<0&&(o=!0,c=s+1),d>-1&&(e.codePointAt(s)===n.codePointAt(d--)?d<0&&(i=s):(d=-1,i=c));return r===i?i=c:i<0&&(i=e.length),e.slice(r,i)}function UE(e){if(Kl(e),e.length===0)return".";let n=-1,r=e.length,i;for(;--r;)if(e.codePointAt(r)===47){if(i){n=r;break}}else i||(i=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function PE(e){Kl(e);let n=e.length,r=-1,i=0,s=-1,o=0,c;for(;n--;){const d=e.codePointAt(n);if(d===47){if(c){i=n+1;break}continue}r<0&&(c=!0,r=n+1),d===46?s<0?s=n:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||r<0||o===0||o===1&&s===r-1&&s===i+1?"":e.slice(s,r)}function BE(...e){let n=-1,r;for(;++n<e.length;)Kl(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":IE(r)}function IE(e){Kl(e);const n=e.codePointAt(0)===47;let r=qE(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function qE(e,n){let r="",i=0,s=-1,o=0,c=-1,d,p;for(;++c<=e.length;){if(c<e.length)d=e.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(s===c-1||o===1))if(s!==c-1&&o===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(p=r.lastIndexOf("/"),p!==r.length-1){p<0?(r="",i=0):(r=r.slice(0,p),i=r.length-1-r.lastIndexOf("/")),s=c,o=0;continue}}else if(r.length>0){r="",i=0,s=c,o=0;continue}}n&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(s+1,c):r=e.slice(s+1,c),i=c-s-1;s=c,o=0}else d===46&&o>-1?o++:o=-1}return r}function Kl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HE={cwd:$E};function $E(){return"/"}function Wd(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function FE(e){if(typeof e=="string")e=new URL(e);else if(!Wd(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return GE(e)}function GE(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(n)}const bd=["history","path","basename","stem","extname","dirname"];class Zy{constructor(n){let r;n?Wd(n)?r={path:n}:typeof n=="string"||YE(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":HE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<bd.length;){const o=bd[i];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let s;for(s in r)bd.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?jn.basename(this.path):void 0}set basename(n){kd(n,"basename"),vd(n,"basename"),this.path=jn.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?jn.dirname(this.path):void 0}set dirname(n){Zg(this.basename,"dirname"),this.path=jn.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?jn.extname(this.path):void 0}set extname(n){if(vd(n,"extname"),Zg(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jn.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Wd(n)&&(n=FE(n)),kd(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?jn.basename(this.path,this.extname):void 0}set stem(n){kd(n,"stem"),vd(n,"stem"),this.path=jn.join(this.dirname||"",n+(this.extname||""))}fail(n,r,i){const s=this.message(n,r,i);throw s.fatal=!0,s}info(n,r,i){const s=this.message(n,r,i);return s.fatal=void 0,s}message(n,r,i){const s=new Nt(n,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function vd(e,n){if(e&&e.includes(jn.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+jn.sep+"`")}function kd(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Zg(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function YE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const VE=function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},KE={}.hasOwnProperty;class zf extends VE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LE()}copy(){const n=new zf;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];n.use(...i)}return n.data(yd(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(_d("data",this.frozen),this.namespace[n]=r,this):KE.call(this.namespace,n)&&this.namespace[n]||void 0:n?(_d("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=r.call(n,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=ho(n),i=this.parser||this.Parser;return wd("parse",i),i(String(r),r)}process(n,r){const i=this;return this.freeze(),wd("process",this.parser||this.Parser),Sd("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(o,c){const d=ho(n),p=i.parse(d);i.run(p,d,function(x,y,b){if(x||!y||!b)return m(x);const v=y,S=i.stringify(v,b);JE(S)?b.value=S:b.result=S,m(x,b)});function m(x,y){x||!y?c(x):o?o(y):r(void 0,y)}}}processSync(n){let r=!1,i;return this.freeze(),wd("processSync",this.parser||this.Parser),Sd("processSync",this.compiler||this.Compiler),this.process(n,s),ex("processSync","process",r),i;function s(o,c){r=!0,Xg(o),i=c}}run(n,r,i){Wg(n),this.freeze();const s=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?o(void 0,i):new Promise(o);function o(c,d){const p=ho(r);s.run(n,p,m);function m(x,y,b){const v=y||n;x?d(x):c?c(v):i(void 0,v,b)}}}runSync(n,r){let i=!1,s;return this.run(n,r,o),ex("runSync","run",i),s;function o(c,d){Xg(c),s=d,i=!0}}stringify(n,r){this.freeze();const i=ho(r),s=this.compiler||this.Compiler;return Sd("stringify",s),Wg(n),s(n,i)}use(n,...r){const i=this.attachers,s=this.namespace;if(_d("use",this.frozen),n!=null)if(typeof n=="function")p(n,r);else if(typeof n=="object")Array.isArray(n)?d(n):c(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[x,...y]=m;p(x,y)}else c(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function c(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=yd(!0,s.settings,m.settings))}function d(m){let x=-1;if(m!=null)if(Array.isArray(m))for(;++x<m.length;){const y=m[x];o(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,x){let y=-1,b=-1;for(;++y<i.length;)if(i[y][0]===m){b=y;break}if(b===-1)i.push([m,...x]);else if(x.length>0){let[v,...S]=x;const j=i[b][1];Zd(j)&&Zd(v)&&(v=yd(!0,j,v)),i[b]=[m,v,...S]}}}}const QE=new zf().freeze();function wd(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sd(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _d(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Wg(e){if(!Zd(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ex(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function ho(e){return XE(e)?e:new Zy(e)}function XE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function JE(e){return typeof e=="string"||ZE(e)}function ZE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tx=[],nx={allowDangerousHtml:!0},eA=/^(https?|ircs?|mailto|xmpp)$/i,tA=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uf(e){const n=nA(e),r=rA(e);return aA(n.runSync(n.parse(r),r),e)}function nA(e){const n=e.rehypePlugins||tx,r=e.remarkPlugins||tx,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...nx}:nx;return QE().use(Uj).use(r).use(RE,i).use(n)}function rA(e){const n=e.children||"",r=new Zy;return typeof n=="string"&&(r.value=n),r}function aA(e,n){const r=n.allowedElements,i=n.allowElement,s=n.components,o=n.disallowedElements,c=n.skipHtml,d=n.unwrapDisallowed,p=n.urlTransform||iA;for(const x of tA)Object.hasOwn(n,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+WE+x.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),Mf(e,m),v2(e,{Fragment:f.Fragment,components:s,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function m(x,y,b){if(x.type==="raw"&&b&&typeof y=="number")return c?b.children.splice(y,1):b.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let v;for(v in md)if(Object.hasOwn(md,v)&&Object.hasOwn(x.properties,v)){const S=x.properties[v],j=md[v];(j===null||j.includes(x.tagName))&&(x.properties[v]=p(String(S||""),v,x))}}if(x.type==="element"){let v=r?!r.includes(x.tagName):o?o.includes(x.tagName):!1;if(!v&&i&&typeof y=="number"&&(v=!i(x,y,b)),v&&b&&typeof y=="number")return d&&x.children?b.children.splice(y,1,...x.children):b.children.splice(y,1),y}}}function iA(e){const n=e.indexOf(":"),r=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return n===-1||s!==-1&&n>s||r!==-1&&n>r||i!==-1&&n>i||eA.test(e.slice(0,n))?e:""}function rx(e,n){const r=String(e);if(typeof n!="string")throw new TypeError("Expected character");let i=0,s=r.indexOf(n);for(;s!==-1;)i++,s=r.indexOf(n,s+n.length);return i}function lA(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function sA(e,n,r){const s=Po((r||{}).ignore||[]),o=oA(n);let c=-1;for(;++c<o.length;)Jy(e,"text",d);function d(m,x){let y=-1,b;for(;++y<x.length;){const v=x[y],S=b?b.children:void 0;if(s(v,S?S.indexOf(v):void 0,b))return;b=v}if(b)return p(m,x)}function p(m,x){const y=x[x.length-1],b=o[c][0],v=o[c][1];let S=0;const N=y.children.indexOf(m);let E=!1,C=[];b.lastIndex=0;let D=b.exec(m.value);for(;D;){const P=D.index,T={index:D.index,input:D.input,stack:[...x,m]};let L=v(...D,T);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?b.lastIndex=P+1:(S!==P&&C.push({type:"text",value:m.value.slice(S,P)}),Array.isArray(L)?C.push(...L):L&&C.push(L),S=P+D[0].length,E=!0),!b.global)break;D=b.exec(m.value)}return E?(S<m.value.length&&C.push({type:"text",value:m.value.slice(S)}),y.children.splice(N,1,...C)):C=[m],N+C.length}}function oA(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<r.length;){const s=r[i];n.push([uA(s[0]),cA(s[1])])}return n}function uA(e){return typeof e=="string"?new RegExp(lA(e),"g"):e}function cA(e){return typeof e=="function"?e:function(){return e}}const jd="phrasing",Ed=["autolink","link","image","label"];function dA(){return{transforms:[yA],enter:{literalAutolink:hA,literalAutolinkEmail:Ad,literalAutolinkHttp:Ad,literalAutolinkWww:Ad},exit:{literalAutolink:xA,literalAutolinkEmail:gA,literalAutolinkHttp:mA,literalAutolinkWww:pA}}}function fA(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jd,notInConstruct:Ed},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jd,notInConstruct:Ed},{character:":",before:"[ps]",after:"\\/",inConstruct:jd,notInConstruct:Ed}]}}function hA(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ad(e){this.config.enter.autolinkProtocol.call(this,e)}function mA(e){this.config.exit.autolinkProtocol.call(this,e)}function pA(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function gA(e){this.config.exit.autolinkEmail.call(this,e)}function xA(e){this.exit(e)}function yA(e){sA(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,bA],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),vA]],{ignore:["link","linkReference"]})}function bA(e,n,r,i,s){let o="";if(!Wy(s)||(/^w/i.test(n)&&(r=n+r,n="",o="http://"),!kA(r)))return!1;const c=wA(r+i);if(!c[0])return!1;const d={type:"link",title:null,url:o+n+c[0],children:[{type:"text",value:n+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function vA(e,n,r,i){return!Wy(i,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function kA(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function wA(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let r=n[0],i=r.indexOf(")");const s=rx(e,"(");let o=rx(e,")");for(;i!==-1&&s>o;)e+=r.slice(0,i+1),r=r.slice(i+1),i=r.indexOf(")"),o++;return[e,r]}function Wy(e,n){const r=e.input.charCodeAt(e.index-1);return(e.index===0||ea(r)||Mo(r))&&(!n||r!==47)}eb.peek=RA;function SA(){this.buffer()}function _A(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function jA(){this.buffer()}function EA(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function AA(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=gn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function NA(e){this.exit(e)}function CA(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=gn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function TA(e){this.exit(e)}function RA(){return"["}function eb(e,n,r,i){const s=r.createTracker(i);let o=s.move("[^");const c=r.enter("footnoteReference"),d=r.enter("reference");return o+=s.move(r.safe(r.associationId(e),{after:"]",before:o})),d(),c(),o+=s.move("]"),o}function OA(){return{enter:{gfmFootnoteCallString:SA,gfmFootnoteCall:_A,gfmFootnoteDefinitionLabelString:jA,gfmFootnoteDefinition:EA},exit:{gfmFootnoteCallString:AA,gfmFootnoteCall:NA,gfmFootnoteDefinitionLabelString:CA,gfmFootnoteDefinition:TA}}}function DA(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:eb},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(i,s,o,c){const d=o.createTracker(c);let p=d.move("[^");const m=o.enter("footnoteDefinition"),x=o.enter("label");return p+=d.move(o.safe(o.associationId(i),{before:p,after:"]"})),x(),p+=d.move("]:"),i.children&&i.children.length>0&&(d.shift(4),p+=d.move((n?`
`:" ")+o.indentLines(o.containerFlow(i,d.current()),n?tb:LA))),m(),p}}function LA(e,n,r){return n===0?e:tb(e,n,r)}function tb(e,n,r){return(r?"":"    ")+e}const MA=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];nb.peek=IA;function zA(){return{canContainEols:["delete"],enter:{strikethrough:PA},exit:{strikethrough:BA}}}function UA(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:MA}],handlers:{delete:nb}}}function PA(e){this.enter({type:"delete",children:[]},e)}function BA(e){this.exit(e)}function nb(e,n,r,i){const s=r.createTracker(i),o=r.enter("strikethrough");let c=s.move("~~");return c+=r.containerPhrasing(e,{...s.current(),before:c,after:"~"}),c+=s.move("~~"),o(),c}function IA(){return"~"}function qA(e){return e.length}function HA(e,n){const r=n||{},i=(r.align||[]).concat(),s=r.stringLength||qA,o=[],c=[],d=[],p=[];let m=0,x=-1;for(;++x<e.length;){const j=[],N=[];let E=-1;for(e[x].length>m&&(m=e[x].length);++E<e[x].length;){const C=$A(e[x][E]);if(r.alignDelimiters!==!1){const D=s(C);N[E]=D,(p[E]===void 0||D>p[E])&&(p[E]=D)}j.push(C)}c[x]=j,d[x]=N}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<m;)o[y]=ax(i[y]);else{const j=ax(i);for(;++y<m;)o[y]=j}y=-1;const b=[],v=[];for(;++y<m;){const j=o[y];let N="",E="";j===99?(N=":",E=":"):j===108?N=":":j===114&&(E=":");let C=r.alignDelimiters===!1?1:Math.max(1,p[y]-N.length-E.length);const D=N+"-".repeat(C)+E;r.alignDelimiters!==!1&&(C=N.length+C+E.length,C>p[y]&&(p[y]=C),v[y]=C),b[y]=D}c.splice(1,0,b),d.splice(1,0,v),x=-1;const S=[];for(;++x<c.length;){const j=c[x],N=d[x];y=-1;const E=[];for(;++y<m;){const C=j[y]||"";let D="",P="";if(r.alignDelimiters!==!1){const T=p[y]-(N[y]||0),L=o[y];L===114?D=" ".repeat(T):L===99?T%2?(D=" ".repeat(T/2+.5),P=" ".repeat(T/2-.5)):(D=" ".repeat(T/2),P=D):P=" ".repeat(T)}r.delimiterStart!==!1&&!y&&E.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&C==="")&&(r.delimiterStart!==!1||y)&&E.push(" "),r.alignDelimiters!==!1&&E.push(D),E.push(C),r.alignDelimiters!==!1&&E.push(P),r.padding!==!1&&E.push(" "),(r.delimiterEnd!==!1||y!==m-1)&&E.push("|")}S.push(r.delimiterEnd===!1?E.join("").replace(/ +$/,""):E.join(""))}return S.join(`
`)}function $A(e){return e==null?"":String(e)}function ax(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function FA(e,n,r,i){const s=r.enter("blockquote"),o=r.createTracker(i);o.move("> "),o.shift(2);const c=r.indentLines(r.containerFlow(e,o.current()),GA);return s(),c}function GA(e,n,r){return">"+(r?"":" ")+e}function YA(e,n){return ix(e,n.inConstruct,!0)&&!ix(e,n.notInConstruct,!1)}function ix(e,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let i=-1;for(;++i<n.length;)if(e.includes(n[i]))return!0;return!1}function lx(e,n,r,i){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&YA(r.stack,r.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function VA(e,n){const r=String(e);let i=r.indexOf(n),s=i,o=0,c=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>c&&(c=o):o=1,s=i+n.length,i=r.indexOf(n,s);return c}function KA(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function QA(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function XA(e,n,r,i){const s=QA(r),o=e.value||"",c=s==="`"?"GraveAccent":"Tilde";if(KA(e,r)){const y=r.enter("codeIndented"),b=r.indentLines(o,JA);return y(),b}const d=r.createTracker(i),p=s.repeat(Math.max(VA(o,s)+1,3)),m=r.enter("codeFenced");let x=d.move(p);if(e.lang){const y=r.enter(`codeFencedLang${c}`);x+=d.move(r.safe(e.lang,{before:x,after:" ",encode:["`"],...d.current()})),y()}if(e.lang&&e.meta){const y=r.enter(`codeFencedMeta${c}`);x+=d.move(" "),x+=d.move(r.safe(e.meta,{before:x,after:`
`,encode:["`"],...d.current()})),y()}return x+=d.move(`
`),o&&(x+=d.move(o+`
`)),x+=d.move(p),m(),x}function JA(e,n,r){return(r?"":"    ")+e}function Pf(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function ZA(e,n,r,i){const s=Pf(r),o=s==='"'?"Quote":"Apostrophe",c=r.enter("definition");let d=r.enter("label");const p=r.createTracker(i);let m=p.move("[");return m+=p.move(r.safe(r.associationId(e),{before:m,after:"]",...p.current()})),m+=p.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(r.safe(e.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(d=r.enter("destinationRaw"),m+=p.move(r.safe(e.url,{before:m,after:e.title?" ":`
`,...p.current()}))),d(),e.title&&(d=r.enter(`title${o}`),m+=p.move(" "+s),m+=p.move(r.safe(e.title,{before:m,after:s,...p.current()})),m+=p.move(s),d()),c(),m}function WA(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Il(e){return"&#x"+e.toString(16).toUpperCase()+";"}function To(e,n,r){const i=ci(e),s=ci(n);return i===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}rb.peek=eN;function rb(e,n,r,i){const s=WA(r),o=r.enter("emphasis"),c=r.createTracker(i),d=c.move(s);let p=c.move(r.containerPhrasing(e,{after:s,before:d,...c.current()}));const m=p.charCodeAt(0),x=To(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=Il(m)+p.slice(1));const y=p.charCodeAt(p.length-1),b=To(i.after.charCodeAt(0),y,s);b.inside&&(p=p.slice(0,-1)+Il(y));const v=c.move(s);return o(),r.attentionEncodeSurroundingInfo={after:b.outside,before:x.outside},d+p+v}function eN(e,n,r){return r.options.emphasis||"*"}function tN(e,n){let r=!1;return Mf(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return r=!0,Xd}),!!((!e.depth||e.depth<3)&&Nf(e)&&(n.options.setext||r))}function nN(e,n,r,i){const s=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(i);if(tN(e,r)){const x=r.enter("headingSetext"),y=r.enter("phrasing"),b=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return y(),x(),b+`
`+(s===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const c="#".repeat(s),d=r.enter("headingAtx"),p=r.enter("phrasing");o.move(c+" ");let m=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(m)&&(m=Il(m.charCodeAt(0))+m.slice(1)),m=m?c+" "+m:c,r.options.closeAtx&&(m+=" "+c),p(),d(),m}ab.peek=rN;function ab(e){return e.value||""}function rN(){return"<"}ib.peek=aN;function ib(e,n,r,i){const s=Pf(r),o=s==='"'?"Quote":"Apostrophe",c=r.enter("image");let d=r.enter("label");const p=r.createTracker(i);let m=p.move("![");return m+=p.move(r.safe(e.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(r.safe(e.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(d=r.enter("destinationRaw"),m+=p.move(r.safe(e.url,{before:m,after:e.title?" ":")",...p.current()}))),d(),e.title&&(d=r.enter(`title${o}`),m+=p.move(" "+s),m+=p.move(r.safe(e.title,{before:m,after:s,...p.current()})),m+=p.move(s),d()),m+=p.move(")"),c(),m}function aN(){return"!"}lb.peek=iN;function lb(e,n,r,i){const s=e.referenceType,o=r.enter("imageReference");let c=r.enter("label");const d=r.createTracker(i);let p=d.move("![");const m=r.safe(e.alt,{before:p,after:"]",...d.current()});p+=d.move(m+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const y=r.safe(r.associationId(e),{before:p,after:"]",...d.current()});return c(),r.stack=x,o(),s==="full"||!m||m!==y?p+=d.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function iN(){return"!"}sb.peek=lN;function sb(e,n,r){let i=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<r.unsafe.length;){const c=r.unsafe[o],d=r.compilePattern(c);let p;if(c.atBreak)for(;p=d.exec(i);){let m=p.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(p.index+1)}}return s+i+s}function lN(){return"`"}function ob(e,n){const r=Nf(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ub.peek=sN;function ub(e,n,r,i){const s=Pf(r),o=s==='"'?"Quote":"Apostrophe",c=r.createTracker(i);let d,p;if(ob(e,r)){const x=r.stack;r.stack=[],d=r.enter("autolink");let y=c.move("<");return y+=c.move(r.containerPhrasing(e,{before:y,after:">",...c.current()})),y+=c.move(">"),d(),r.stack=x,y}d=r.enter("link"),p=r.enter("label");let m=c.move("[");return m+=c.move(r.containerPhrasing(e,{before:m,after:"](",...c.current()})),m+=c.move("]("),p(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(p=r.enter("destinationLiteral"),m+=c.move("<"),m+=c.move(r.safe(e.url,{before:m,after:">",...c.current()})),m+=c.move(">")):(p=r.enter("destinationRaw"),m+=c.move(r.safe(e.url,{before:m,after:e.title?" ":")",...c.current()}))),p(),e.title&&(p=r.enter(`title${o}`),m+=c.move(" "+s),m+=c.move(r.safe(e.title,{before:m,after:s,...c.current()})),m+=c.move(s),p()),m+=c.move(")"),d(),m}function sN(e,n,r){return ob(e,r)?"<":"["}cb.peek=oN;function cb(e,n,r,i){const s=e.referenceType,o=r.enter("linkReference");let c=r.enter("label");const d=r.createTracker(i);let p=d.move("[");const m=r.containerPhrasing(e,{before:p,after:"]",...d.current()});p+=d.move(m+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const y=r.safe(r.associationId(e),{before:p,after:"]",...d.current()});return c(),r.stack=x,o(),s==="full"||!m||m!==y?p+=d.move(y+"]"):s==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function oN(){return"["}function Bf(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function uN(e){const n=Bf(e),r=e.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function cN(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function db(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function dN(e,n,r,i){const s=r.enter("list"),o=r.bulletCurrent;let c=e.ordered?cN(r):Bf(r);const d=e.ordered?c==="."?")":".":uN(r);let p=n&&r.bulletLastUsed?c===r.bulletLastUsed:!1;if(!e.ordered){const x=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(p=!0),db(r)===c&&x){let y=-1;for(;++y<e.children.length;){const b=e.children[y];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=d),r.bulletCurrent=c;const m=r.containerFlow(e,i);return r.bulletLastUsed=c,r.bulletCurrent=o,s(),m}function fN(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function hN(e,n,r,i){const s=fN(r);let o=r.bulletCurrent||Bf(r);n&&n.type==="list"&&n.ordered&&(o=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(e))+o);let c=o.length+1;(s==="tab"||s==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(c=Math.ceil(c/4)*4);const d=r.createTracker(i);d.move(o+" ".repeat(c-o.length)),d.shift(c);const p=r.enter("listItem"),m=r.indentLines(r.containerFlow(e,d.current()),x);return p(),m;function x(y,b,v){return b?(v?"":" ".repeat(c))+y:(v?o:o+" ".repeat(c-o.length))+y}}function mN(e,n,r,i){const s=r.enter("paragraph"),o=r.enter("phrasing"),c=r.containerPhrasing(e,i);return o(),s(),c}const pN=Po(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function gN(e,n,r,i){return(e.children.some(function(c){return pN(c)})?r.containerPhrasing:r.containerFlow).call(r,e,i)}function xN(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}fb.peek=yN;function fb(e,n,r,i){const s=xN(r),o=r.enter("strong"),c=r.createTracker(i),d=c.move(s+s);let p=c.move(r.containerPhrasing(e,{after:s,before:d,...c.current()}));const m=p.charCodeAt(0),x=To(i.before.charCodeAt(i.before.length-1),m,s);x.inside&&(p=Il(m)+p.slice(1));const y=p.charCodeAt(p.length-1),b=To(i.after.charCodeAt(0),y,s);b.inside&&(p=p.slice(0,-1)+Il(y));const v=c.move(s+s);return o(),r.attentionEncodeSurroundingInfo={after:b.outside,before:x.outside},d+p+v}function yN(e,n,r){return r.options.strong||"*"}function bN(e,n,r,i){return r.safe(e.value,i)}function vN(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function kN(e,n,r){const i=(db(r)+(r.options.ruleSpaces?" ":"")).repeat(vN(r));return r.options.ruleSpaces?i.slice(0,-1):i}const hb={blockquote:FA,break:lx,code:XA,definition:ZA,emphasis:rb,hardBreak:lx,heading:nN,html:ab,image:ib,imageReference:lb,inlineCode:sb,link:ub,linkReference:cb,list:dN,listItem:hN,paragraph:mN,root:gN,strong:fb,text:bN,thematicBreak:kN};function wN(){return{enter:{table:SN,tableData:sx,tableHeader:sx,tableRow:jN},exit:{codeText:EN,table:_N,tableData:Nd,tableHeader:Nd,tableRow:Nd}}}function SN(e){const n=e._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function _N(e){this.exit(e),this.data.inTable=void 0}function jN(e){this.enter({type:"tableRow",children:[]},e)}function Nd(e){this.exit(e)}function sx(e){this.enter({type:"tableCell",children:[]},e)}function EN(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,AN));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(e)}function AN(e,n){return n==="|"?n:e}function NN(e){const n=e||{},r=n.tableCellPadding,i=n.tablePipeAlign,s=n.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:c,tableCell:p,tableRow:d}};function c(v,S,j,N){return m(x(v,j,N),v.align)}function d(v,S,j,N){const E=y(v,j,N),C=m([E]);return C.slice(0,C.indexOf(`
`))}function p(v,S,j,N){const E=j.enter("tableCell"),C=j.enter("phrasing"),D=j.containerPhrasing(v,{...N,before:o,after:o});return C(),E(),D}function m(v,S){return HA(v,{align:S,alignDelimiters:i,padding:r,stringLength:s})}function x(v,S,j){const N=v.children;let E=-1;const C=[],D=S.enter("table");for(;++E<N.length;)C[E]=y(N[E],S,j);return D(),C}function y(v,S,j){const N=v.children;let E=-1;const C=[],D=S.enter("tableRow");for(;++E<N.length;)C[E]=p(N[E],v,S,j);return D(),C}function b(v,S,j){let N=hb.inlineCode(v,S,j);return j.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function CN(){return{exit:{taskListCheckValueChecked:ox,taskListCheckValueUnchecked:ox,paragraph:RN}}}function TN(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ON}}}function ox(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function RN(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const i=r.children[0];if(i&&i.type==="text"){const s=n.children;let o=-1,c;for(;++o<s.length;){const d=s[o];if(d.type==="paragraph"){c=d;break}}c===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function ON(e,n,r,i){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",c="["+(e.checked?"x":" ")+"] ",d=r.createTracker(i);o&&d.move(c);let p=hb.listItem(e,n,r,{...i,...d.current()});return o&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(x){return x+c}}function DN(){return[dA(),OA(),zA(),wN(),CN()]}function LN(e){return{extensions:[fA(),DA(e),UA(),NN(e),TN()]}}const MN={tokenize:qN,partial:!0},mb={tokenize:HN,partial:!0},pb={tokenize:$N,partial:!0},gb={tokenize:FN,partial:!0},zN={tokenize:GN,partial:!0},xb={name:"wwwAutolink",tokenize:BN,previous:bb},yb={name:"protocolAutolink",tokenize:IN,previous:vb},Xn={name:"emailAutolink",tokenize:PN,previous:kb},An={};function UN(){return{text:An}}let Kr=48;for(;Kr<123;)An[Kr]=Xn,Kr++,Kr===58?Kr=65:Kr===91&&(Kr=97);An[43]=Xn;An[45]=Xn;An[46]=Xn;An[95]=Xn;An[72]=[Xn,yb];An[104]=[Xn,yb];An[87]=[Xn,xb];An[119]=[Xn,xb];function PN(e,n,r){const i=this;let s,o;return c;function c(y){return!ef(y)||!kb.call(i,i.previous)||If(i.events)?r(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(y))}function d(y){return ef(y)?(e.consume(y),d):y===64?(e.consume(y),p):r(y)}function p(y){return y===46?e.check(zN,x,m)(y):y===45||y===95||At(y)?(o=!0,e.consume(y),p):x(y)}function m(y){return e.consume(y),s=!0,p}function x(y){return o&&s&&Tt(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(y)):r(y)}}function BN(e,n,r){const i=this;return s;function s(c){return c!==87&&c!==119||!bb.call(i,i.previous)||If(i.events)?r(c):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(MN,e.attempt(mb,e.attempt(pb,o),r),r)(c))}function o(c){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(c)}}function IN(e,n,r){const i=this;let s="",o=!1;return c;function c(y){return(y===72||y===104)&&vb.call(i,i.previous)&&!If(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),e.consume(y),d):r(y)}function d(y){if(Tt(y)&&s.length<5)return s+=String.fromCodePoint(y),e.consume(y),d;if(y===58){const b=s.toLowerCase();if(b==="http"||b==="https")return e.consume(y),p}return r(y)}function p(y){return y===47?(e.consume(y),o?m:(o=!0,p)):r(y)}function m(y){return y===null||Ao(y)||Ve(y)||ea(y)||Mo(y)?r(y):e.attempt(mb,e.attempt(pb,x),r)(y)}function x(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(y)}}function qN(e,n,r){let i=0;return s;function s(c){return(c===87||c===119)&&i<3?(i++,e.consume(c),s):c===46&&i===3?(e.consume(c),o):r(c)}function o(c){return c===null?r(c):n(c)}}function HN(e,n,r){let i,s,o;return c;function c(m){return m===46||m===95?e.check(gb,p,d)(m):m===null||Ve(m)||ea(m)||m!==45&&Mo(m)?p(m):(o=!0,e.consume(m),c)}function d(m){return m===95?i=!0:(s=i,i=void 0),e.consume(m),c}function p(m){return s||i||!o?r(m):n(m)}}function $N(e,n){let r=0,i=0;return s;function s(c){return c===40?(r++,e.consume(c),s):c===41&&i<r?o(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?e.check(gb,n,o)(c):c===null||Ve(c)||ea(c)?n(c):(e.consume(c),s)}function o(c){return c===41&&i++,e.consume(c),s}}function FN(e,n,r){return i;function i(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),i):d===38?(e.consume(d),o):d===93?(e.consume(d),s):d===60||d===null||Ve(d)||ea(d)?n(d):r(d)}function s(d){return d===null||d===40||d===91||Ve(d)||ea(d)?n(d):i(d)}function o(d){return Tt(d)?c(d):r(d)}function c(d){return d===59?(e.consume(d),i):Tt(d)?(e.consume(d),c):r(d)}}function GN(e,n,r){return i;function i(o){return e.consume(o),s}function s(o){return At(o)?r(o):n(o)}}function bb(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ve(e)}function vb(e){return!Tt(e)}function kb(e){return!(e===47||ef(e))}function ef(e){return e===43||e===45||e===46||e===95||At(e)}function If(e){let n=e.length,r=!1;for(;n--;){const i=e[n][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){r=!0;break}if(i._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const YN={tokenize:eC,partial:!0};function VN(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:JN,continuation:{tokenize:ZN},exit:WN}},text:{91:{name:"gfmFootnoteCall",tokenize:XN},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:KN,resolveTo:QN}}}}function KN(e,n,r){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let c;for(;s--;){const p=i.events[s][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!c||!c._balanced)return r(p);const m=gn(i.sliceSerialize({start:c.end,end:i.now()}));return m.codePointAt(0)!==94||!o.includes(m.slice(1))?r(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),n(p))}}function QN(e,n){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[e[r+1],e[r+2],["enter",i,n],e[r+3],e[r+4],["enter",s,n],["exit",s,n],["enter",o,n],["enter",c,n],["exit",c,n],["exit",o,n],e[e.length-2],e[e.length-1],["exit",i,n]];return e.splice(r,e.length-r+1,...d),e}function XN(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,c;return d;function d(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),p}function p(y){return y!==94?r(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(y){if(o>999||y===93&&!c||y===null||y===91||Ve(y))return r(y);if(y===93){e.exit("chunkString");const b=e.exit("gfmFootnoteCallString");return s.includes(gn(i.sliceSerialize(b)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):r(y)}return Ve(y)||(c=!0),o++,e.consume(y),y===92?x:m}function x(y){return y===91||y===92||y===93?(e.consume(y),o++,m):m(y)}}function JN(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,c=0,d;return p;function p(S){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(S){return S===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",x):r(S)}function x(S){if(c>999||S===93&&!d||S===null||S===91||Ve(S))return r(S);if(S===93){e.exit("chunkString");const j=e.exit("gfmFootnoteDefinitionLabelString");return o=gn(i.sliceSerialize(j)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(S),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),b}return Ve(S)||(d=!0),c++,e.consume(S),S===92?y:x}function y(S){return S===91||S===92||S===93?(e.consume(S),c++,x):x(S)}function b(S){return S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),s.includes(o)||s.push(o),Me(e,v,"gfmFootnoteDefinitionWhitespace")):r(S)}function v(S){return n(S)}}function ZN(e,n,r){return e.check(Vl,n,e.attempt(YN,n,r))}function WN(e){e.exit("gfmFootnoteDefinition")}function eC(e,n,r){const i=this;return Me(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const c=i.events[i.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?n(o):r(o)}}function tC(e){let r=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return r==null&&(r=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(c,d){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let m=p;for(;m--;)if(c[m][0]==="exit"&&c[m][1].type==="strikethroughSequenceTemporary"&&c[m][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[m][1].end.offset-c[m][1].start.offset){c[p][1].type="strikethroughSequence",c[m][1].type="strikethroughSequence";const x={type:"strikethrough",start:Object.assign({},c[m][1].start),end:Object.assign({},c[p][1].end)},y={type:"strikethroughText",start:Object.assign({},c[m][1].end),end:Object.assign({},c[p][1].start)},b=[["enter",x,d],["enter",c[m][1],d],["exit",c[m][1],d],["enter",y,d]],v=d.parser.constructs.insideSpan.null;v&&Jt(b,b.length,0,zo(v,c.slice(m+1,p),d)),Jt(b,b.length,0,[["exit",y,d],["enter",c[p][1],d],["exit",c[p][1],d],["exit",x,d]]),Jt(c,m-1,p-m+3,b),p=m+b.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function o(c,d,p){const m=this.previous,x=this.events;let y=0;return b;function b(S){return m===126&&x[x.length-1][1].type!=="characterEscape"?p(S):(c.enter("strikethroughSequenceTemporary"),v(S))}function v(S){const j=ci(m);if(S===126)return y>1?p(S):(c.consume(S),y++,v);if(y<2&&!r)return p(S);const N=c.exit("strikethroughSequenceTemporary"),E=ci(S);return N._open=!E||E===2&&!!j,N._close=!j||j===2&&!!E,d(S)}}}class nC{constructor(){this.map=[]}add(n,r,i){rC(this,n,r,i)}consume(n){if(this.map.sort(function(o,c){return o[0]-c[0]}),this.map.length===0)return;let r=this.map.length;const i=[];for(;r>0;)r-=1,i.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];i.push(n.slice()),n.length=0;let s=i.pop();for(;s;){for(const o of s)n.push(o);s=i.pop()}this.map.length=0}}function rC(e,n,r,i){let s=0;if(!(r===0&&i.length===0)){for(;s<e.map.length;){if(e.map[s][0]===n){e.map[s][1]+=r,e.map[s][2].push(...i);return}s+=1}e.map.push([n,r,i])}}function aC(e,n){let r=!1;const i=[];for(;n<e.length;){const s=e[n];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return i}function iC(){return{flow:{null:{name:"table",tokenize:lC,resolveAll:sC}}}}function lC(e,n,r){const i=this;let s=0,o=0,c;return d;function d(U){let V=i.events.length-1;for(;V>-1;){const le=i.events[V][1].type;if(le==="lineEnding"||le==="linePrefix")V--;else break}const K=V>-1?i.events[V][1].type:null,J=K==="tableHead"||K==="tableRow"?L:p;return J===L&&i.parser.lazy[i.now().line]?r(U):J(U)}function p(U){return e.enter("tableHead"),e.enter("tableRow"),m(U)}function m(U){return U===124||(c=!0,o+=1),x(U)}function x(U){return U===null?r(U):ye(U)?o>1?(o=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),v):r(U):De(U)?Me(e,x,"whitespace")(U):(o+=1,c&&(c=!1,s+=1),U===124?(e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),c=!0,x):(e.enter("data"),y(U)))}function y(U){return U===null||U===124||Ve(U)?(e.exit("data"),x(U)):(e.consume(U),U===92?b:y)}function b(U){return U===92||U===124?(e.consume(U),y):y(U)}function v(U){return i.interrupt=!1,i.parser.lazy[i.now().line]?r(U):(e.enter("tableDelimiterRow"),c=!1,De(U)?Me(e,S,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):S(U))}function S(U){return U===45||U===58?N(U):U===124?(c=!0,e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),j):T(U)}function j(U){return De(U)?Me(e,N,"whitespace")(U):N(U)}function N(U){return U===58?(o+=1,c=!0,e.enter("tableDelimiterMarker"),e.consume(U),e.exit("tableDelimiterMarker"),E):U===45?(o+=1,E(U)):U===null||ye(U)?P(U):T(U)}function E(U){return U===45?(e.enter("tableDelimiterFiller"),C(U)):T(U)}function C(U){return U===45?(e.consume(U),C):U===58?(c=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(U),e.exit("tableDelimiterMarker"),D):(e.exit("tableDelimiterFiller"),D(U))}function D(U){return De(U)?Me(e,P,"whitespace")(U):P(U)}function P(U){return U===124?S(U):U===null||ye(U)?!c||s!==o?T(U):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(U)):T(U)}function T(U){return r(U)}function L(U){return e.enter("tableRow"),W(U)}function W(U){return U===124?(e.enter("tableCellDivider"),e.consume(U),e.exit("tableCellDivider"),W):U===null||ye(U)?(e.exit("tableRow"),n(U)):De(U)?Me(e,W,"whitespace")(U):(e.enter("data"),te(U))}function te(U){return U===null||U===124||Ve(U)?(e.exit("data"),W(U)):(e.consume(U),U===92?se:te)}function se(U){return U===92||U===124?(e.consume(U),te):te(U)}}function sC(e,n){let r=-1,i=!0,s=0,o=[0,0,0,0],c=[0,0,0,0],d=!1,p=0,m,x,y;const b=new nC;for(;++r<e.length;){const v=e[r],S=v[1];v[0]==="enter"?S.type==="tableHead"?(d=!1,p!==0&&(ux(b,n,p,m,x),x=void 0,p=0),m={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(r,0,[["enter",m,n]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(i=!0,y=void 0,o=[0,0,0,0],c=[0,r+1,0,0],d&&(d=!1,x={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(r,0,[["enter",x,n]])),s=S.type==="tableDelimiterRow"?2:x?3:1):s&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(i=!1,c[2]===0&&(o[1]!==0&&(c[0]=c[1],y=mo(b,n,o,s,void 0,y),o=[0,0,0,0]),c[2]=r)):S.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(c[0]=c[1],y=mo(b,n,o,s,void 0,y)),o=c,c=[o[1],r,0,0])):S.type==="tableHead"?(d=!0,p=r):S.type==="tableRow"||S.type==="tableDelimiterRow"?(p=r,o[1]!==0?(c[0]=c[1],y=mo(b,n,o,s,r,y)):c[1]!==0&&(y=mo(b,n,c,s,r,y)),s=0):s&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(c[3]=r)}for(p!==0&&ux(b,n,p,m,x),b.consume(n.events),r=-1;++r<n.events.length;){const v=n.events[r];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=aC(n.events,r))}return e}function mo(e,n,r,i,s,o){const c=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",d="tableContent";r[0]!==0&&(o.end=Object.assign({},ni(n.events,r[0])),e.add(r[0],0,[["exit",o,n]]));const p=ni(n.events,r[1]);if(o={type:c,start:Object.assign({},p),end:Object.assign({},p)},e.add(r[1],0,[["enter",o,n]]),r[2]!==0){const m=ni(n.events,r[2]),x=ni(n.events,r[3]),y={type:d,start:Object.assign({},m),end:Object.assign({},x)};if(e.add(r[2],0,[["enter",y,n]]),i!==2){const b=n.events[r[2]],v=n.events[r[3]];if(b[1].end=Object.assign({},v[1].end),b[1].type="chunkText",b[1].contentType="text",r[3]>r[2]+1){const S=r[2]+1,j=r[3]-r[2]-1;e.add(S,j,[])}}e.add(r[3]+1,0,[["exit",y,n]])}return s!==void 0&&(o.end=Object.assign({},ni(n.events,s)),e.add(s,0,[["exit",o,n]]),o=void 0),o}function ux(e,n,r,i,s){const o=[],c=ni(n.events,r);s&&(s.end=Object.assign({},c),o.push(["exit",s,n])),i.end=Object.assign({},c),o.push(["exit",i,n]),e.add(r+1,0,o)}function ni(e,n){const r=e[n],i=r[0]==="enter"?"start":"end";return r[1][i]}const oC={name:"tasklistCheck",tokenize:cC};function uC(){return{text:{91:oC}}}function cC(e,n,r){const i=this;return s;function s(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?r(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),o)}function o(p){return Ve(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),c):r(p)}function c(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):r(p)}function d(p){return ye(p)?n(p):De(p)?e.check({tokenize:dC},n,r)(p):r(p)}}function dC(e,n,r){return Me(e,i,"whitespace");function i(s){return s===null?r(s):n(s)}}function fC(e){return Oy([UN(),VN(),tC(e),iC(),uC()])}const hC={};function qf(e){const n=this,r=e||hC,i=n.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),c=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(fC(r)),o.push(DN()),c.push(LN(r))}const mC=({advancedMetrics:e,psychologyMetrics:n})=>{const r=s=>`${s.toFixed(1)}%`,i=s=>s.toFixed(2);return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Performance"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:"🏆"}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Win Rate:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:r(e.winRate)})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"📈"}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Profit Factor:"}),f.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400",children:i(e.profitFactor)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Psychology"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:oS(n.currentMood)}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Mood:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 capitalize",children:n.currentMood})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:"💡"}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Stress:"}),f.jsxs("span",{className:`font-bold ${uS(n.stressLevel)}`,children:[n.stressLevel,"/10"]})]})]})]})},pC=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),Sl=({buttonMode:e,activeMode:n,onClick:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${n===e?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i}),gC=e=>{const{updateTokenUsage:n,apiKey:r,apiStatus:i,allTrades:s=[],mode:o="all",setDashboardSource:c=()=>{},initialCapital:d=0,user:p=null}=e;console.log("Dashboard props",{allTrades:s,initialCapital:d,mode:o,user:p});const[m,x]=R.useState(""),[y,b]=R.useState(!0),[v,S]=R.useState(!1),[j,N]=R.useState(0),E=R.useMemo(()=>({scalp:s.filter(re=>re.mode==="scalp"),swing:s.filter(re=>re.mode==="swing"),day:s.filter(re=>re.mode==="day"),position:s.filter(re=>re.mode==="position")}),[s]),C=R.useMemo(()=>o==="all"?s||[]:E[o]||[],[o,s,E]),D=R.useMemo(()=>aS(s||[])||{},[s]),P=R.useMemo(()=>{const re=C.filter(k=>k.status!=="pending"),I=re.filter(k=>k.status==="profit").length,$=re.filter(k=>k.status==="stop-loss").length,ae=I+$;return{winRate:ae>0?Math.round(I/ae*100):0,wins:I,losses:$,totalCompleted:ae}},[C]);R.useEffect(()=>{x(""),b(!0)},[r]);const T=["all","scalp","day","swing","position"],L={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},W=T.map(re=>{const I=re==="all"?s||[]:(s||[]).filter(me=>me.mode===re),$=I.filter(me=>me.status!=="pending"),ae=$.filter(me=>me.status==="profit").length,ne=$.filter(me=>me.status==="stop-loss").length,k=ae+ne,Y=k>0?Math.round(ae/k*100):0,ie=$.reduce((me,z)=>z.status==="profit"?me+(z.outcomeAmount||0):z.status==="stop-loss"?me-(z.outcomeAmount||0):me,0),A=re==="all"?d??0:0,de=re==="all"?(d??0)+ie:0;return{mode:L[re],initialCapital:A,netPL:ie,currentEquity:de,totalTrades:I.length,winRate:Y,wins:ae,losses:ne,completed:k}}),te=lS(s||[]),se=sS(s||[]);R.useEffect(()=>{if(o!=="all")return;(async()=>{if(i!=="valid"){x("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),b(!1);return}if(s.length===0){x("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),b(!1);return}b(!0);try{const $=`You are an expert trading performance coach and psychology analyst. Here are the user's trading statistics for each mode:

${W.map(z=>`${z.mode}:
- Initial Capital: $${z.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${z.netPL>=0?"+":""}${z.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${z.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${z.totalTrades}
- Win Rate: ${z.winRate}%
- Wins: ${z.wins}
- Losses: ${z.losses}
- Completed: ${z.completed}`).join(`

`)}

**ANALYSIS REQUIREMENTS:**

- Gabungkan seluruh insight (performance, playbook, diary, psychology) dalam SATU paragraf narasi singkat, tanpa judul atau icon.
- Setelah itu, di paragraf terpisah, tuliskan 2-3 saran actionable yang jelas dan langsung ke poin.

Jawab SINGKAT, maksimal 3 kalimat untuk narasi utama, dan 1 paragraf untuk saran. Jangan gunakan emoji/icon. Bahasa Indonesia yang jelas dan mudah dipahami.`,ae=xC(W),ne="fomo-ai-analysis",k="fomo-ai-hash",Y=localStorage.getItem(k),ie=localStorage.getItem(ne);if(Y===ae&&ie){x(ie),b(!1);return}const{analysisText:A,usage:de}=await FS(r||"",$);n(de);const me=A.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();x(me),localStorage.setItem(ne,me),localStorage.setItem(k,ae)}catch(I){console.error("Failed to get AI analysis:",I);const $=I instanceof Error?I.message:String(I);let ae="Terjadi kesalahan saat mengambil analisis AI.";$.toLowerCase().includes("quota")||$.toLowerCase().includes("rate limit")?ae="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":$.toLowerCase().includes("api key")||$.toLowerCase().includes("unauthorized")?ae="API key tidak valid. Silakan periksa pengaturan API key Anda.":$.toLowerCase().includes("network")||$.toLowerCase().includes("fetch")?ae="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":$.toLowerCase().includes("invalid response")||$.toLowerCase().includes("format")?ae="Format respons AI tidak valid. Silakan coba lagi.":$.toLowerCase().includes("timeout")?ae="Request timeout. Silakan coba lagi.":ae=`Error: ${$}`,x(ae)}finally{b(!1)}})()},[r,i,o,j,W]);const U=()=>{localStorage.removeItem("fomo-ai-analysis"),localStorage.removeItem("fomo-ai-hash"),N(re=>re+1)};let V=null;D&&typeof D.image=="function"&&(V=Zr.createElement(D.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"}));const J=C.filter(re=>re.status!=="pending").reduce((re,I)=>I.status==="profit"?re+(I.outcomeAmount||0):I.status==="stop-loss"?re-(I.outcomeAmount||0):re,0),le=(d??0)+J;return f.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto pt-6 sm:pt-10 px-2 sm:px-6 lg:px-12 bg-gray-50 dark:bg-slate-900 min-h-screen",children:[v&&f.jsx(fS,{profile:D,winRate:P.winRate,totalTrades:P.totalCompleted,onClose:()=>S(!1)}),f.jsxs("header",{className:"flex flex-col gap-4 mb-2 sm:mb-4",children:[f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mt-2 sm:mt-0",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>S(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:V})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),f.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",f.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:o==="all"?"All":o})," trading history."]})]})]})}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[f.jsx(Sl,{buttonMode:"all",activeMode:o||"all",onClick:c||(()=>{}),children:"All"}),f.jsx(Sl,{buttonMode:"scalp",activeMode:o||"all",onClick:c||(()=>{}),children:"Scalp"}),f.jsx(Sl,{buttonMode:"day",activeMode:o||"all",onClick:c||(()=>{}),children:"Day"}),f.jsx(Sl,{buttonMode:"swing",activeMode:o||"all",onClick:c||(()=>{}),children:"Swing"}),f.jsx(Sl,{buttonMode:"position",activeMode:o||"all",onClick:c||(()=>{}),children:"Position"})]})]}),f.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[f.jsx(vr,{label:"Initial Capital",value:`$${(d??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(ag,{className:"w-6 h-6"}),color:"violet"}),f.jsx(vr,{label:"Net P/L",value:`${J>=0?"+":""}${J.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(cy,{className:"w-6 h-6"}),color:J>=0?"green":"red"}),f.jsx(vr,{label:"Current Equity",value:`$${le.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(ag,{className:"w-6 h-6"}),color:"blue"}),f.jsx(vr,{label:"Total Trades Analyzed",value:s.length,icon:f.jsx(Zw,{className:"w-6 h-6"}),color:"orange"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[f.jsx(vr,{label:"Active Win Rate",value:`${P.winRate}%`,icon:f.jsx(uy,{className:"w-6 h-6"}),color:"emerald"}),f.jsx(vr,{label:"Active Wins",value:P.wins,icon:f.jsx(li,{className:"w-6 h-6"}),color:"green"}),f.jsx(vr,{label:"Active Losses",value:P.losses,icon:f.jsx(Yn,{className:"w-6 h-6"}),color:"red"}),f.jsx(vr,{label:"Active Completed",value:P.totalCompleted,icon:f.jsx(Vw,{className:"w-6 h-6"}),color:"violet"})]}),o==="all"&&f.jsxs(f.Fragment,{children:[f.jsx(mC,{advancedMetrics:te,psychologyMetrics:se}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mt-2",children:[f.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[f.jsx(zl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),f.jsx("button",{onClick:U,className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,title:"Refresh AI Analysis",children:"Refresh"})]}),y?f.jsx(pC,{}):m&&(m.toLowerCase().includes("error")||m.toLowerCase().includes("unavailable")||m.toLowerCase().includes("failed")||m.toLowerCase().includes("quota")||m.toLowerCase().includes("terjadi kesalahan"))?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:m}),f.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):f.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:f.jsx(Uf,{children:String(m||""),remarkPlugins:[qf]})})]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:f.jsx(Fw,{history:C})})]})]})};function xC(e){return btoa(unescape(encodeURIComponent(JSON.stringify(e))))}const yC=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],cx=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],bC=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:yC.map((e,n)=>{const r=60+Math.random()*90,i=cx[n%cx.length];return f.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${r}px`,height:`${r}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,r/6)}px`},children:e},e)})}),f.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),vC=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:f.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),f.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),f.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),f.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),f.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),f.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),f.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),f.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),f.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),Cd=({icon:e,title:n,description:r})=>f.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[f.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:f.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:e})}),f.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:n}),f.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:r})]}),kC=({onNavigate:e,user:n,onLoginClick:r})=>(console.log("HomePage rendered, user:",n,"onLoginClick:",typeof r),f.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[f.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[f.jsx(bC,{}),f.jsx(vC,{}),f.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",f.jsx("br",{}),f.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),f.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),!n&&f.jsx("button",{onClick:()=>{console.log("Get Started button clicked"),r&&r()},className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),f.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:f.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),f.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[f.jsx(Cd,{icon:f.jsx(zl,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),f.jsx(Cd,{icon:f.jsx(ly,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),f.jsx(Cd,{icon:f.jsx(uy,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]})),wC="modulepreload",SC=function(e){return"/"+e},dx={},Ql=function(n,r,i){let s=Promise.resolve();if(r&&r.length>0){let c=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=c(r.map(m=>{if(m=SC(m),m in dx)return;dx[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":wC,x||(b.as="script"),b.crossOrigin="",b.href=m,p&&b.setAttribute("nonce",p),document.head.appendChild(b),x)return new Promise((v,S)=>{b.addEventListener("load",v),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return n().catch(o)})},_C=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Ql(async()=>{const{default:i}=await Promise.resolve().then(()=>xi);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class Hf extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class jC extends Hf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class fx extends Hf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class hx extends Hf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var tf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tf||(tf={}));var EC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};class AC{constructor(n,{headers:r={},customFetch:i,region:s=tf.Any}={}){this.url=n,this.headers=r,this.region=s,this.fetch=_C(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return EC(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:c}=r;let d={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(d["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let x;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(d["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(d["Content-Type"]="application/json",x=JSON.stringify(c)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:x}).catch(j=>{throw new jC(j)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new fx(y);if(!y.ok)throw new hx(y);let v=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield y.json():v==="application/octet-stream"?S=yield y.blob():v==="text/event-stream"?S=y:v==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof hx||s instanceof fx?s.context:void 0}}})}}var xt={},Va={},Ka={},Qa={},Xa={},Ja={},NC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},di=NC();const CC=di.fetch,wb=di.fetch.bind(di),Sb=di.Headers,TC=di.Request,RC=di.Response,xi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sb,Request:TC,Response:RC,default:wb,fetch:CC},Symbol.toStringTag,{value:"Module"})),OC=ak(xi);var po={},mx;function _b(){if(mx)return po;mx=1,Object.defineProperty(po,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return po.default=e,po}var px;function jb(){if(px)return Ja;px=1;var e=Ja&&Ja.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ja,"__esModule",{value:!0});const n=e(OC),r=e(_b());class i{constructor(o){var c,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(c=o.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=new Headers(this.headers),this.headers.set(o,c),this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,y,b,v;let S=null,j=null,N=null,E=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const L=await m.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?j=L:j=JSON.parse(L))}const P=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),T=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");P&&T&&T.length>1&&(N=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,E=406,C="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const P=await m.text();try{S=JSON.parse(P),Array.isArray(S)&&m.status===404&&(j=[],S=null,E=200,C="OK")}catch{m.status===404&&P===""?(E=204,C="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((v=S==null?void 0:S.details)===null||v===void 0)&&v.includes("0 rows"))&&(S=null,E=200,C="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:j,count:N,status:E,statusText:C}});return this.shouldThrowOnError||(p=p.catch(m=>{var x,y,b;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=m==null?void 0:m.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(o,c)}returns(){return this}overrideTypes(){return this}}return Ja.default=i,Ja}var gx;function Eb(){if(gx)return Xa;gx=1;var e=Xa&&Xa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xa,"__esModule",{value:!0});const n=e(jb());class r extends n.default{select(s){let o=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:c,foreignTable:d,referencedTable:p=d}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${s}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:c,referencedTable:d=c}={}){const p=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:c=!1,buffers:d=!1,wal:p=!1,format:m="text"}={}){var x;const y=[s?"analyze":null,o?"verbose":null,c?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Xa.default=r,Xa}var xx;function $f(){if(xx)return Qa;xx=1;var e=Qa&&Qa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qa,"__esModule",{value:!0});const n=e(Eb());class r extends n.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:c,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${p}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(s,o,c){return this.url.searchParams.append(s,`not.${o}.${c}`),this}or(s,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,c){return this.url.searchParams.append(s,`${o}.${c}`),this}}return Qa.default=r,Qa}var yx;function Ab(){if(yx)return Ka;yx=1;var e=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0});const n=e($f());class r{constructor(s,{headers:o={},schema:c,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=c,this.fetch=d}select(s,{head:o=!1,count:c}={}){const d=o?"HEAD":"GET";let p=!1;const m=(s??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:c=!0}={}){var d;const p="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:c=!1,count:d,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((b,v)=>b.concat(Object.keys(v)),[]);if(y.length>0){const b=[...new Set(y)].map(v=>`"${v}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var c;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var o;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ka.default=r,Ka}var bx;function DC(){if(bx)return Va;bx=1;var e=Va&&Va.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Va,"__esModule",{value:!0});const n=e(Ab()),r=e($f());class i{constructor(o,{headers:c={},schema:d,fetch:p}={}){this.url=o,this.headers=new Headers(c),this.schemaName=d,this.fetch=p}from(o){const c=new URL(`${this.url}/${o}`);return new n.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:d=!1,get:p=!1,count:m}={}){var x;let y;const b=new URL(`${this.url}/rpc/${o}`);let v;d||p?(y=d?"HEAD":"GET",Object.entries(c).filter(([j,N])=>N!==void 0).map(([j,N])=>[j,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([j,N])=>{b.searchParams.append(j,N)})):(y="POST",v=c);const S=new Headers(this.headers);return m&&S.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:S,schema:this.schemaName,body:v,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Va.default=i,Va}var vx;function LC(){if(vx)return xt;vx=1;var e=xt&&xt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const n=e(DC());xt.PostgrestClient=n.default;const r=e(Ab());xt.PostgrestQueryBuilder=r.default;const i=e($f());xt.PostgrestFilterBuilder=i.default;const s=e(Eb());xt.PostgrestTransformBuilder=s.default;const o=e(jb());xt.PostgrestBuilder=o.default;const c=e(_b());return xt.PostgrestError=c.default,xt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:c.default},xt}var MC=LC();const zC=Hl(MC),{PostgrestClient:UC,PostgrestQueryBuilder:u3,PostgrestFilterBuilder:c3,PostgrestTransformBuilder:d3,PostgrestBuilder:f3,PostgrestError:h3}=zC;function PC(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const BC=PC(),IC="2.11.15",qC=`realtime-js/${IC}`,HC="1.0.0",Nb=1e4,$C=1e3;var Rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rl||(Rl={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var nf;(function(e){e.websocket="websocket"})(nf||(nf={}));var Jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jr||(Jr={}));class FC{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const s=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=i.decode(n.slice(c,c+s));c=c+s;const p=i.decode(n.slice(c,c+o));c=c+o;const m=JSON.parse(i.decode(n.slice(c,n.byteLength)));return{ref:null,topic:d,event:p,payload:m}}}class Cb{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qe||(Qe={}));const kx=(e,n,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,c)=>(o[c]=GC(c,e,n,s),o),{})},GC=(e,n,r,i)=>{const s=n.find(d=>d.name===e),o=s==null?void 0:s.type,c=r[e];return o&&!i.includes(o)?Tb(o,c):rf(c)},Tb=(e,n)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QC(n,r)}switch(e){case Qe.bool:return YC(n);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return VC(n);case Qe.json:case Qe.jsonb:return KC(n);case Qe.timestamp:return XC(n);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return rf(n);default:return rf(n)}},rf=e=>e,YC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VC=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},KC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},QC=(e,n)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(d=>Tb(n,d))}return e},XC=e=>typeof e=="string"?e.replace(" ","T"):e,Rb=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Td{constructor(n,r,i={},s=Nb){this.channel=n,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var wx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wx||(wx={}));class Ol{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,s,o,c),this.pendingDiffs.forEach(p=>{this.state=Ol.syncDiff(this.state,p,o,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ol.syncDiff(this.state,s,o,c),d())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,s){const o=this.cloneDeep(n),c=this.transformState(r),d={},p={};return this.map(o,(m,x)=>{c[m]||(p[m]=x)}),this.map(c,(m,x)=>{const y=o[m];if(y){const b=x.map(N=>N.presence_ref),v=y.map(N=>N.presence_ref),S=x.filter(N=>v.indexOf(N.presence_ref)<0),j=y.filter(N=>b.indexOf(N.presence_ref)<0);S.length>0&&(d[m]=S),j.length>0&&(p[m]=j)}else d[m]=x}),this.syncDiff(o,{joins:d,leaves:p},i,s)}static syncDiff(n,r,i,s){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(d,p)=>{var m;const x=(m=n[d])!==null&&m!==void 0?m:[];if(n[d]=this.cloneDeep(p),x.length>0){const y=n[d].map(v=>v.presence_ref),b=x.filter(v=>y.indexOf(v.presence_ref)<0);n[d].unshift(...b)}i(d,x,p)}),this.map(c,(d,p)=>{let m=n[d];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),n[d]=m,s(d,m,p),m.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const s=n[i];return"metas"in s?r[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=s,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sx||(Sx={}));var _x;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_x||(_x={}));var Gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class Ff{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Td(this,pn.join,this.params,this.timeout),this.rejoinTimer=new Cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ol(this),this.broadcastEndpointURL=Rb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params;this._onError(x=>n==null?void 0:n(Gn.CHANNEL_ERROR,x)),this._onClose(()=>n==null?void 0:n(Gn.CLOSED));const p={},m={broadcast:o,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){n==null||n(Gn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,S=[];for(let j=0;j<v;j++){const N=b[j],{filter:{event:E,schema:C,table:D,filter:P}}=N,T=x&&x[j];if(T&&T.event===E&&T.schema===C&&T.table===D&&T.filter===P)S.push(Object.assign(Object.assign({},N),{id:T.id}));else{this.unsubscribe(),this.state=jt.errored,n==null||n(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,n&&n(Gn.SUBSCRIBED);return}}).receive("error",x=>{this.state=jt.errored,n==null||n(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this._on(n,r,i)}async send(n,r={}){var i,s;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:c}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,d,p;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Td(this,pn.leave,{},n),i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,r,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),c}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Td(this,n,r,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var s,o;const c=n.toLocaleLowerCase(),{close:d,error:p,leave:m,join:x}=pn;if(i&&[d,p,m,x].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,r,i);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var S,j,N;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(j=v.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===c}).map(v=>v.callback(b,i)):(o=this.bindings[c])===null||o===void 0||o.filter(v=>{var S,j,N,E,C,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const P=v.id,T=(S=v.filter)===null||S===void 0?void 0:S.event;return P&&((j=r.ids)===null||j===void 0?void 0:j.includes(P))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const P=(C=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((D=r==null?void 0:r.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:j,table:N,commit_timestamp:E,type:C,errors:D}=S;b=Object.assign(Object.assign({},{schema:j,table:N,commit_timestamp:E,eventType:C,new:{},old:{},errors:D}),this._getPayloadRecords(S))}v.callback(b,i)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const s=n.toLocaleLowerCase(),o={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Ff.isEqual(s.filter,r))}),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(pn.close,{},n)}_onError(n){this._on(pn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=kx(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=kx(n.columns,n.old_record)),r}}const jx=()=>{},JC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZC{constructor(n,r){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jx,this.ref=0,this.logger=jx,this.conn=null,this.sendBuffer=[],this.serializer=new FC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...d)=>Ql(async()=>{const{default:p}=await Promise.resolve().then(()=>xi);return{default:p}},void 0).then(({default:p})=>p(...d)):c=fetch,(...d)=>c(...d)},this.endPoint=`${n}/${nf.websocket}`,this.httpEndpoint=Rb(n),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,c)=>c(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=BC),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HC}))}disconnect(n,r){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return Jr.Connecting;case Rl.open:return Jr.Open;case Rl.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(n,r={config:{}}){const i=`realtime:${n}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new Ff(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:i,payload:s,ref:o}=n,c=()=>{this.encode(n,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${r} ${i} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(n=null){let r=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:qC};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(pn.access_token,{access_token:r})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close($C,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,r=>{let{topic:i,event:s,payload:o,ref:c}=r;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,o),Array.from(this.channels).filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,c)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(pn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${n}${i}${s}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([JC],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class Gf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class WC extends Gf{constructor(n,r){super(n),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class af extends Gf{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var eT=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};const Ob=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Ql(async()=>{const{default:i}=await Promise.resolve().then(()=>xi);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},tT=()=>eT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ql(()=>Promise.resolve().then(()=>xi),void 0)).Response:Response}),lf=e=>{if(Array.isArray(e))return e.map(r=>lf(r));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[s]=lf(i)}),n};var na=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};const Rd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nT=(e,n,r)=>na(void 0,void 0,void 0,function*(){const i=yield tT();e instanceof i&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{n(new WC(Rd(s),e.status||500))}).catch(s=>{n(new af(Rd(s),s))}):n(new af(Rd(e),e))}),rT=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),r))};function Xl(e,n,r,i,s,o){return na(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,rT(n,i,s,o)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>nT(p,d,i))})})}function Ro(e,n,r,i){return na(this,void 0,void 0,function*(){return Xl(e,"GET",n,r,i)})}function jr(e,n,r,i,s){return na(this,void 0,void 0,function*(){return Xl(e,"POST",n,i,s,r)})}function aT(e,n,r,i,s){return na(this,void 0,void 0,function*(){return Xl(e,"PUT",n,i,s,r)})}function iT(e,n,r,i){return na(this,void 0,void 0,function*(){return Xl(e,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Db(e,n,r,i,s){return na(this,void 0,void 0,function*(){return Xl(e,"DELETE",n,i,s,r)})}var Ut=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};const lT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ex={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sT{constructor(n,r={},i,s){this.url=n,this.headers=r,this.bucketId=i,this.fetch=Ob(s)}uploadOrUpdate(n,r,i,s){return Ut(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Ex),s);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",c.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=i,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(r),x=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:n,body:o,headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield y.json();return y.ok?{data:{path:m,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(o){if(yt(o))return{data:null,error:o};throw o}})}upload(n,r,i){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,s){return Ut(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),c=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:Ex.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield this.fetch(d.toString(),{method:"PUT",body:p,headers:x}),b=yield y.json();return y.ok?{data:{path:o,fullPath:b.Key},error:null}:{data:null,error:b}}catch(p){if(yt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,r){return Ut(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield jr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+o.url),d=c.searchParams.get("token");if(!d)throw new Gf("No token returned by API");return{data:{signedUrl:c.toString(),path:n,token:d},error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}update(n,r,i){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return Ut(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}copy(n,r,i){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(n,r,i){return Ut(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n),o=yield jr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(n,r,i){return Ut(this,void 0,void 0,function*(){try{const s=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}download(n,r){return Ut(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"";try{const d=this._getFinalPath(n);return{data:yield(yield Ro(this.fetch,`${this.url}/${s}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(yt(d))return{data:null,error:d};throw d}})}info(n){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Ro(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lf(i),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}exists(n){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield iT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(yt(i)&&i instanceof af){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}remove(n){return Ut(this,void 0,void 0,function*(){try{return{data:yield Db(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}list(n,r,i){return Ut(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},lT),r),{prefix:n||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const oT="2.7.1",uT={"X-Client-Info":`storage-js/${oT}`};var Za=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};class cT{constructor(n,r={},i){this.url=n,this.headers=Object.assign(Object.assign({},uT),r),this.fetch=Ob(i)}listBuckets(){return Za(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}getBucket(n){return Za(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return Za(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return Za(this,void 0,void 0,function*(){try{return{data:yield aT(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return Za(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return Za(this,void 0,void 0,function*(){try{return{data:yield Db(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}}class dT extends cT{constructor(n,r={},i){super(n,r,i)}from(n){return new sT(this.url,this.headers,n,this.fetch)}}const fT="2.50.4";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const hT={"X-Client-Info":`supabase-js-${El}/${fT}`},mT={headers:hT},pT={schema:"public"},gT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xT={};var yT=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};const bT=e=>{let n;return e?n=e:typeof fetch>"u"?n=wb:n=fetch,(...r)=>n(...r)},vT=()=>typeof Headers>"u"?Sb:Headers,kT=(e,n,r)=>{const i=bT(r),s=vT();return(o,c)=>yT(void 0,void 0,void 0,function*(){var d;const p=(d=yield n())!==null&&d!==void 0?d:e;let m=new s(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(o,Object.assign(Object.assign({},c),{headers:m}))})};var wT=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};function ST(e){return e.endsWith("/")?e:e+"/"}function _T(e,n){var r,i;const{db:s,auth:o,realtime:c,global:d}=e,{db:p,auth:m,realtime:x,global:y}=n,b={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},x),c),global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>wT(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}const Lb="2.70.0",ri=30*1e3,sf=3,Od=sf*ri,jT="http://localhost:9999",ET="supabase.auth.token",AT={"X-Client-Info":`gotrue-js/${Lb}`},of="X-Supabase-Api-Version",Mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CT=6e5;class Yf extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TT extends Yf{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function RT(e){return Se(e)&&e.name==="AuthApiError"}class zb extends Yf{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Cr extends Yf{constructor(n,r,i,s){super(n,i,s),this.name=r,this.status=i}}class Sr extends Cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OT(e){return Se(e)&&e.name==="AuthSessionMissingError"}class go extends Cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends Cr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class yo extends Cr{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DT(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ax extends Cr{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uf extends Cr{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Dd(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class Nx extends Cr{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Dl extends Cr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cx=` 	
\r=`.split(""),LT=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Cx.length;n+=1)e[Cx[n].charCodeAt(0)]=-2;for(let n=0;n<Oo.length;n+=1)e[Oo[n].charCodeAt(0)]=n;return e})();function Tx(e,n,r){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Oo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Oo[i]),n.queuedBits-=6}}function Ub(e,n,r){const i=LT[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rx(e){const n=[],r=c=>{n.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{UT(c,i,r)};for(let c=0;c<e.length;c+=1)Ub(e.charCodeAt(c),s,o);return n.join("")}function MT(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zT(e,n){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}MT(i,n)}}function UT(e,n,r){if(n.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function PT(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};for(let s=0;s<e.length;s+=1)Ub(e.charCodeAt(s),r,i);return new Uint8Array(n)}function BT(e){const n=[];return zT(e,r=>n.push(r)),new Uint8Array(n)}function IT(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};return e.forEach(s=>Tx(s,r,i)),Tx(null,r,i),n.join("")}function qT(e){return Math.round(Date.now()/1e3)+e}function HT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Ll=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function $T(e){const n={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{n[o]=s})}catch{}return r.searchParams.forEach((i,s)=>{n[s]=i}),n}const Pb=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Ql(async()=>{const{default:i}=await Promise.resolve().then(()=>xi);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},FT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bb=async(e,n,r)=>{await e.setItem(n,JSON.stringify(r))},bo=async(e,n)=>{const r=await e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vo=async(e,n)=>{await e.removeItem(n)};class Io{constructor(){this.promise=new Io.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Io.promiseConstructor=Promise;function Ld(e){const n=e.split(".");if(n.length!==3)throw new Dl("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!NT.test(n[i]))throw new Dl("JWT not in base64url format");return{header:JSON.parse(Rx(n[0])),payload:JSON.parse(Rx(n[1])),signature:PT(n[2]),raw:{header:n[0],payload:n[1]}}}async function GT(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function YT(e,n){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!n(o,null,c)){i(c);return}}catch(c){if(!n(o,c)){s(c);return}}})()})}function VT(e){return("0"+e.toString(16)).substr(-2)}function KT(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(n),Array.from(n,VT).join("")}async function QT(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function XT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await QT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wa(e,n,r=!1){const i=KT();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await Bb(e,`${n}-code-verifier`,s);const o=await XT(i);return[o,i===o?"plain":"s256"]}const JT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZT(e){const n=e.headers.get(of);if(!n||!n.match(JT))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function WT(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function e4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ei(e){if(!t4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var n4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};const Xr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r4=[502,503,504];async function Ox(e){var n;if(!FT(e))throw new uf(Xr(e),0);if(r4.includes(e.status))throw new uf(Xr(e),e.status);let r;try{r=await e.json()}catch(o){throw new zb(Xr(o),o)}let i;const s=ZT(e);if(s&&s.getTime()>=Mb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Nx(Xr(r),e.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Sr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Nx(Xr(r),e.status,r.weak_password.reasons);throw new TT(Xr(r),e.status||500,i)}const a4=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function Oe(e,n,r,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[of]||(o[of]=Mb["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await i4(e,n,r+d,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function i4(e,n,r,i,s,o){const c=a4(n,i,s,o);let d;try{d=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new uf(Xr(p),0)}if(d.ok||await Ox(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(p){await Ox(p)}}function Fn(e){var n;let r=null;u4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qT(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:r,user:i},error:null}}function Dx(e){const n=Fn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Er(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function l4(e){return{data:e,error:null}}function s4(e){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o}=e,c=n4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o},p=Object.assign({},c);return{data:{properties:d,user:p},error:null}}function o4(e){return e}function u4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Md=["global","local","others"];var c4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class d4{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Pb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Md[0]){if(Md.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Md.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Er})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=c4(n,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Er})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,s,o,c,d,p;try{const m={nextPage:null,lastPage:0,total:0},x=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=n==null?void 0:n.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:o4});if(x.error)throw x.error;const y=await x.json(),b=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(p=(d=x.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return v.length>0&&(v.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);m[`${N}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Se(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){ei(n);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Er})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){ei(n);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Er})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){ei(n);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Er})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){ei(n.userId);try{const{data:r,error:i}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteFactor(n){ei(n.userId),ei(n.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}}const f4={getItem:e=>Ll()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Ll()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Ll()&&globalThis.localStorage.removeItem(e)}};function Lx(e={}){return{getItem:n=>e[n]||null,setItem:(n,r)=>{e[n]=r},removeItem:n=>{delete e[n]}}}function h4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ti={debug:!!(globalThis&&Ll()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class m4 extends Ib{}async function p4(e,n,r){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ti.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(n===0)throw ti.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ti.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}h4();const g4={url:jT,storageKey:ET,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mx(e,n,r){return await r()}class ql{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ql.nextInstanceID,ql.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},g4),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new d4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pb(s.fetch),this.lock=s.lock||Mx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=p4:this.lock=Mx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ll()?this.storage=f4:(this.memoryStorage={},this.storage=Lx(this.memoryStorage)):(this.memoryStorage={},this.storage=Lx(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lb}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=$T(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),mn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),DT(o)){const p=(n=o.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Se(r)?{error:r}:{error:new zb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,s;try{const o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.captchaToken}},xform:Fn}),{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var r,i,s;try{let o;if("email"in n){const{email:x,password:y,options:b}=n;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Wa(this.storage,this.storageKey)),o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:v,code_challenge_method:S},xform:Fn})}else if("phone"in n){const{phone:x,password:y,options:b}=n;o=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Fn})}else throw new xo("You must provide either an email or phone number and a password");const{data:c,error:d}=o;if(d||!c)return{data:{user:null,session:null},error:d};const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:c,options:d}=n;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dx})}else if("phone"in n){const{phone:o,password:c,options:d}=n;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Dx})}else throw new xo("You must provide either an email or phone number and a password");const{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new go}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,s,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,s,o,c,d,p,m,x,y,b,v;let S,j;if("message"in n)S=n.message,j=n.signature;else{const{chain:N,wallet:E,statement:C,options:D}=n;let P;if(mn())if(typeof E=="object")P=E;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))P=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const T=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const L=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),C?{statement:C}:null));let W;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")W=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)W=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)S=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),j=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(i=D==null?void 0:D.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=D==null?void 0:D.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((y=(x=D==null?void 0:D.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...D.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const L=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=L}}try{const{data:N,error:E}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:IT(j)},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=n.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fn});if(E)throw E;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new go}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:E})}catch(N){if(Se(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(n){const r=await bo(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{const{data:o,error:c}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Fn});if(await vo(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new go}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(Se(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:r,provider:i,token:s,access_token:o,nonce:c}=n,d=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fn}),{data:p,error:m}=d;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new go}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,s,o,c;try{if("email"in n){const{email:d,options:p}=n;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Wa(this.storage,this.storageKey));const{error:y}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:d,options:p}=n,{data:m,error:x}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new xo("You must provide either an email or phone number.")}catch(d){if(Se(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(n){var r,i;try{let s,o;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Fn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(n){var r,i,s;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Wa(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=n==null?void 0:n.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:l4})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Sr;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:s,options:o}=n,{error:c}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in n){const{phone:i,type:s,options:o}=n,{data:c,error:d}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new xo("You must provide either an email or phone number and a type")}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Od:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let c=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,m,x)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,x))})}return{data:{session:n},error:null}}const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Er}):await this._useSession(async r=>{var i,s,o;const{data:c,error:d}=r;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Er})})}catch(r){if(Se(r))return OT(r)&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Sr;const c=s.session;let d=null,p=null;this.flowType==="pkce"&&n.email!=null&&([d,p]=await Wa(this.storage,this.storageKey));const{data:m,error:x}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:p}),jwt:c.access_token,xform:Er});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Sr;const r=Date.now()/1e3;let i=r,s=!0,o=null;const{payload:c}=Ld(n.access_token);if(c.exp&&(i=c.exp,s=i<=r),s){const{session:d,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:p}=await this._getUser(n.access_token);if(p)throw p;o={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:c,error:d}=r;if(d)throw d;n=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Sr;const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!mn())throw new yo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new yo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ax("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ax("No code detected.");const{data:C,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:d,expires_at:p,token_type:m}=n;if(!o||!d||!c||!m)throw new yo("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(d);let b=x+y;p&&(b=parseInt(p));const v=b-x;v*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const S=b-y;x-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,x):x-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,x);const{data:j,error:N}=await this._getUser(o);if(N)throw N;const E={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:n.type},error:null}}catch(i){if(Se(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await bo(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{error:o};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,n);if(d&&!(RT(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return n!=="others"&&(await this._removeSession(),await vo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=HT(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,s;try{const{data:{session:o},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Wa(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Se(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:s}=await this._useSession(async o=>{var c,d,p,m,x;const{data:y,error:b}=o;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(c=n.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",v,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return mn()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Se(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:c}=r;if(c)throw c;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await YT(async s=>(s>0&&await GT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Fn})),(s,o)=>{const c=200*Math.pow(2,s);return o&&Dd(o)&&Date.now()+c-i<ri})}catch(i){if(this._debug(r,"error",i),Se(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),mn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await bo(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Od;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Od}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Dd(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Io;const{data:o,error:c}=await this._refreshAccessToken(n);if(c)throw c;if(!o.session)throw new Sr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Se(o)){const c={session:null,error:o};return Dd(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(n,r,i=!0){const s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(p){o.push(p)}});if(await Promise.all(c),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Bb(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await vo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-n)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ri}ms, refresh threshold is ${sf} ticks`),s<=sf&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ib)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await Wa(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${s.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:m}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:d}=await Oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(Se(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(n==null?void 0:n.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ld(s.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const x=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i||(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+CT>Date.now()))return i;const{data:s,error:o}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Dl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===n),!i)throw new Dl("No matching signing key found in JWKS");return i}async getClaims(n,r={keys:[]}){try{let i=n;if(!i){const{data:v,error:S}=await this.getSession();if(S||!v.session)return{data:null,error:S};i=v.session.access_token}const{header:s,payload:o,signature:c,raw:{header:d,payload:p}}=Ld(i);if(WT(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:o,header:s,signature:c},error:null}}const m=e4(s.alg),x=await this.fetchJwk(s.kid,r),y=await crypto.subtle.importKey("jwk",x,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,c,BT(`${d}.${p}`)))throw new Dl("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}}ql.nextInstanceID=0;const x4=ql;class y4 extends x4{constructor(n){super(n)}}var b4=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function d(x){try{m(i.next(x))}catch(y){c(y)}}function p(x){try{m(i.throw(x))}catch(y){c(y)}}function m(x){x.done?o(x.value):s(x.value).then(d,p)}m((i=i.apply(e,n||[])).next())})};class v4{constructor(n,r,i){var s,o,c;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=ST(n),p=new URL(d);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:pT,realtime:xT,auth:Object.assign(Object.assign({},gT),{storageKey:m}),global:mT},y=_T(i??{},x);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=y.auth)!==null&&c!==void 0?c:{},this.headers,y.global.fetch),this.fetch=kT(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new UC(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new AC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dT(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return b4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,storageKey:o,flowType:c,lock:d,debug:p},m,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y4({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,flowType:c,lock:d,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new ZC(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k4=(e,n,r)=>new v4(e,n,r),w4="https://vqzivktsvicvbdsuouap.supabase.co",S4="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",nt=(e,n,r)=>{const i=`There was a problem trying to ${e} data for the '${n}' table.`,o=(d=>d?typeof d.message=="string"&&d.message?d.message:typeof d.message=="object"&&d.message!==null?JSON.stringify(d.message,null,2):typeof d=="object"&&d!==null?JSON.stringify(d,null,2):String(d):"Unknown error: The error object was falsy.")(r);if(o.toLowerCase().includes('column "user_id" does not exist')||o.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(o.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const c=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${n}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${c}

Technical Details:
${o}`},Pe=k4(w4,S4),_4=async(e,{email:n,password:r,nama:i})=>{try{const{data:s,error:o}=await e.auth.signUp({email:n,password:r,options:{data:{nama:i}}});if(o)throw o.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",o),new Error(`Failed to sign up: ${o.message}`));if(s.user&&!s.session)throw new Error("Please check your email to confirm your account before signing in.");return s}catch(s){throw console.error("Sign up error:",s),s}},j4=async(e,{email:n,password:r})=>{try{const{data:i,error:s}=await e.auth.signInWithPassword({email:n,password:r});if(s)throw console.error("Sign in error:",s),s.message.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):s.message.toLowerCase().includes("email not confirmed")?new Error("Please check your email and confirm your account before signing in."):s.message.toLowerCase().includes("too many requests")?new Error("Too many login attempts. Please wait a moment before trying again."):new Error(`Sign in failed: ${s.message}`);return i}catch(i){throw console.error("Sign in error:",i),i}},E4=async e=>{const{error:n}=await e.auth.signOut();if(n)throw n},A4=(e,n)=>{const{data:{subscription:r}}=e.auth.onAuthStateChange((i,s)=>{n(s)});return r},qb=async(e,n)=>{try{const{data:r,error:i}=await e.from("users").select("*").eq("id",n).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${n}. A new one may need to be created if this is unexpected.`),null;throw i}return r}catch(r){const i=nt(`fetch profile for user ${n}`,"users",r);return console.error(i),null}},N4=async(e,n)=>{const{data:r,error:i}=await e.from("trades").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(i){const s=nt("fetch","trades",i);throw console.error(s),new Error(s)}return(r||[]).map(s=>{var o,c,d,p,m;return{id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:{tradeType:((o=s.trade_setup)==null?void 0:o.tradeType)||"Long",entryPrice:Number((c=s.trade_setup)==null?void 0:c.entryPrice)||0,stopLoss:Number((d=s.trade_setup)==null?void 0:d.stopLoss)||0,takeProfit:Number((p=s.trade_setup)==null?void 0:p.takeProfit)||0,rrr:Number((m=s.trade_setup)==null?void 0:m.rrr)||0},rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}})},zx=async(e,n,r)=>{const{error:i}=await e.from("users").update({initial_trade:r}).eq("id",n);if(i){const s=nt(`update initial capital for user ${n}`,"users",i);throw console.error(s),new Error(s)}},C4=async(e,n,r,i)=>{const{error:s}=await e.from("users").update({nama:r,describe:i}).eq("id",n);if(s){const o=nt(`update profile for user ${n}`,"users",s);throw console.error(o),new Error(o)}},Ux=async(e,n,r)=>{var d,p,m,x,y;const i={user_id:r,image:n.image,mode:n.mode,market_trend:n.marketTrend,key_pattern:n.keyPattern,indicator_analysis:n.indicatorAnalysis,trade_bias:n.tradeBias,trade_setup:n.tradeSetup,rationale:n.rationale,confidence_score:n.confidenceScore,status:n.status,outcome_amount:n.outcomeAmount??null},{data:s,error:o}=await e.from("trades").insert(i).select().single();if(o){const b=nt("add","trades",o);throw console.error(b),new Error(b)}if(!s)throw new Error("Failed to add trade: no data returned.");const c=s;return{id:c.id,timestamp:c.created_at,image:c.image,mode:c.mode,marketTrend:c.market_trend,keyPattern:c.key_pattern,indicatorAnalysis:c.indicator_analysis,tradeBias:c.trade_bias,tradeSetup:{tradeType:((d=c.trade_setup)==null?void 0:d.tradeType)||"Long",entryPrice:Number((p=c.trade_setup)==null?void 0:p.entryPrice)||0,stopLoss:Number((m=c.trade_setup)==null?void 0:m.stopLoss)||0,takeProfit:Number((x=c.trade_setup)==null?void 0:x.takeProfit)||0,rrr:Number((y=c.trade_setup)==null?void 0:y.rrr)||0},rationale:c.rationale,confidenceScore:c.confidence_score,status:c.status,outcomeAmount:c.outcome_amount??void 0,riskPerTrade:0}},T4=async(e,n,r,i,s)=>{const{error:o}=await e.from("trades").update({status:r,outcome_amount:i}).eq("id",n).eq("user_id",s);if(o){const c=nt(`update status for trade ${n}`,"trades",o);throw console.error(c),new Error(c)}},R4=async e=>{const{error:n}=await Pe.from("trades").delete().eq("id",e);if(n)throw n},O4=async(e,n)=>{const{data:r,error:i}=await e.from("portfolio_assets").select("*").eq("user_id",n).order("symbol",{ascending:!0});if(i){const s=nt("fetch portfolio assets","portfolio_assets",i);throw console.error(s),new Error(s)}return r||[]},D4=async(e,n,r)=>{const i={user_id:r,symbol:n.symbol,name:n.name,logo_url:n.logo_url||"",amount:n.amount,avg_buy_price:n.avg_buy_price,current_price:n.current_price},{data:s,error:o}=await e.from("portfolio_assets").insert(i).select().single();if(o){const c=nt("add portfolio asset","portfolio_assets",o);throw console.error(c),new Error(c)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},L4=async(e,n,r,i)=>{const{error:s}=await e.from("portfolio_assets").update(r).eq("id",n).eq("user_id",i);if(s){const o=nt(`update portfolio asset ${n}`,"portfolio_assets",s);throw console.error(o),new Error(o)}},M4=async(e,n,r)=>{const{error:i}=await e.from("portfolio_assets").delete().eq("id",n).eq("user_id",r);if(i){const s=nt(`delete portfolio asset ${n}`,"portfolio_assets",i);throw console.error(s),new Error(s)}},z4=async(e,n)=>{try{const r=await O4(e,n);let i=0,s=0,o=0;const c=r.map(m=>{const x=m.current_price/(1+(Math.random()-.5)*.04),y=m.amount*m.current_price,b=(m.current_price-m.avg_buy_price)*m.amount,v=m.amount*x,S=y-v;return i+=y,s+=b,o+=S,{id:m.id,symbol:m.symbol,name:m.name,logoUrl:m.logo_url,amount:m.amount,avgBuyPrice:m.avg_buy_price,currentPrice:m.current_price,value:y,totalPl:b}}),d=i-o,p=d>0?o/d*100:0;return{assets:c,totalValue:i,totalPl:s,pl24h:o,pl24hPercent:p}}catch(r){return console.error("Error fetching portfolio data:",r),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},U4=async e=>{try{const{data:n,error:r}=await e.from("settings").select("gemini_api_key").eq("id",1).single();if(r){if(r.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw r}return n}catch(n){const r=nt("fetch","settings",n);throw console.error(r),new Error(r)}},P4=async(e,n)=>{const{error:r}=await e.from("settings").update({gemini_api_key:n}).eq("id",1);if(r){const i=nt("update Gemini API key in","settings",r);throw console.error(i),new Error(i)}},Px=async(e,n=20,r=0)=>{console.log("Fetching community analyses with limit:",n,"offset:",r);const{data:i,error:s}=await e.from("community_analyses").select(`
            *,
            auth_users!inner(email),
            trades:analysis_id(*)
        `).order("created_at",{ascending:!1}).range(r,r+n-1);if(s){const c=nt("fetch community analyses","community_analyses",s);throw console.error("Error fetching community analyses:",c),new Error(c)}console.log("Raw community analyses data:",i);const o=(i==null?void 0:i.map(c=>{var d;return{...c,user_email:(d=c.auth_users)==null?void 0:d.email,trade_analysis:c.trades}}))||[];return console.log("Processed community analyses:",o),o},B4=async(e,n,r,i)=>{const{data:{user:s}}=await e.auth.getUser(),o=(s==null?void 0:s.email)||"Unknown User",c={user_id:i,analysis_id:n,content:r,user_email:o},{data:d,error:p}=await e.from("community_comments").insert(c).select().single();if(p){const m=nt("add comment","community_comments",p);throw console.error(m),new Error(m)}if(!d)throw new Error("Failed to add comment: no data returned.");return d},Bx=async(e,n)=>{const{data:r,error:i}=await e.from("community_comments").select("*").eq("analysis_id",n).order("created_at",{ascending:!0});if(i){const s=nt("fetch comments","community_comments",i);throw console.error(s),new Error(s)}return r||[]},I4=async(e,n,r,i)=>{const{data:s}=await e.from("community_likes").select("*").eq("user_id",i).eq("analysis_id",n).single();if(s)if(s.like_type===r){const{error:o}=await e.from("community_likes").delete().eq("id",s.id);if(o){const c=nt("remove like","community_likes",o);throw console.error(c),new Error(c)}}else{const{error:o}=await e.from("community_likes").update({like_type:r}).eq("id",s.id);if(o){const c=nt("update like","community_likes",o);throw console.error(c),new Error(c)}}else{const{error:o}=await e.from("community_likes").insert({user_id:i,analysis_id:n,like_type:r});if(o){const c=nt("add like","community_likes",o);throw console.error(c),new Error(c)}}},Ix=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_likes").select("like_type").eq("user_id",r).eq("analysis_id",n).single();if(s&&s.code!=="PGRST116"){const o=nt("fetch user like","community_likes",s);throw console.error(o),new Error(o)}return i==null?void 0:i.like_type},q4=async(e,n)=>{const{error:r}=await e.from("user_community_reads").upsert([{user_id:n,last_read_at:new Date().toISOString()}],{onConflict:"user_id"});if(r){const i=nt("update community read","user_community_reads",r);throw console.error(i),new Error(i)}},qx=async(e,n)=>{var d;const[r,i,s,o]=await Promise.all([e.from("community_analyses").select("id",{count:"exact"}),e.from("community_comments").select("id",{count:"exact"}),e.from("community_likes").select("id",{count:"exact"}),e.from("user_community_reads").select("last_read_at").eq("user_id",n).single()]);let c=0;if((d=o.data)!=null&&d.last_read_at){const{count:p}=await e.from("community_analyses").select("id",{count:"exact"}).gt("created_at",o.data.last_read_at);c=p||0}return{total_analyses:r.count||0,total_comments:i.count||0,total_likes:s.count||0,unread_count:c}},Hb=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_analyses").select("id").eq("user_id",n).eq("analysis_id",r).single();if(s&&s.code!=="PGRST116")throw console.error("Error checking if analysis shared:",s),new Error("Failed to check if analysis already shared");return!!i},$b=async(e,n,r,i,s)=>{var y,b;if(console.log("Sharing analysis to community:",{userId:n,analysisId:r.id,title:i,description:s,analysis:r}),await Hb(e,n,r.id)){console.log("Analysis already shared by user, updating existing share");const{data:v,error:S}=await e.from("community_analyses").update({title:i||`Shared Analysis - ${((y=r.tradeSetup)==null?void 0:y.tradeType)||""} ${r.timestamp}`,description:s||"",updated_at:new Date().toISOString()}).eq("user_id",n).eq("analysis_id",r.id).select().single();if(S){const j=nt("update existing community analysis","community_analyses",S);throw console.error("Error updating existing share:",j),new Error(j)}return console.log("Successfully updated existing share:",v),v}const c=r.tradeSetup||r.trade_setup,d=c?{...c,rrr:c.rrr??0}:void 0,p={id:r.id,user_id:n,created_at:r.timestamp,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:d,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount||null};await e.from("trades").upsert([p],{onConflict:"id"});const{data:m,error:x}=await e.from("community_analyses").insert({user_id:n,analysis_id:r.id,title:i||`Shared Analysis - ${((b=r.tradeSetup)==null?void 0:b.tradeType)||""} ${r.timestamp}`,description:s||""}).select().single();if(x){const v=nt("share analysis to community","community_analyses",x);throw console.error("Error sharing to community:",v),new Error(v)}return console.log("Successfully shared to community:",m),m},H4=({supabaseClient:e,open:n,onClose:r})=>{const[i,s]=R.useState("login"),[o,c]=R.useState(""),[d,p]=R.useState(""),[m,x]=R.useState(""),[y,b]=R.useState(!0),[v,S]=R.useState(!1),[j,N]=R.useState("");R.useEffect(()=>{const P=T=>{T.key==="Escape"&&r()};return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[r]),R.useEffect(()=>{const P=localStorage.getItem("rememberedEmail");P?(c(P),b(!0)):b(!1)},[]);const E=P=>/^\S+@\S+\.\S+$/.test(P),C=async P=>{if(P.preventDefault(),S(!0),N(""),!E(o)){N("Please enter a valid email address."),S(!1);return}if(d.length<6){N("Password must be at least 6 characters."),S(!1);return}if(i==="register"&&m.trim().length<2){N("Name must be at least 2 characters."),S(!1);return}try{i==="login"?(await j4(e,{email:o,password:d}),y?localStorage.setItem("rememberedEmail",o):localStorage.removeItem("rememberedEmail"),r()):(await _4(e,{email:o,password:d,nama:m}),r())}catch(T){N(T.message||"An unexpected error occurred.")}finally{S(!1)}},D=()=>{s(i==="login"?"register":"login"),N(""),p(""),x("")};return n?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:P=>P.stopPropagation(),children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:f.jsx(Yn,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:i==="login"?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:i==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),f.jsxs("form",{onSubmit:C,className:"mt-8 space-y-6",children:[i==="register"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:m,onChange:P=>x(P.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:P=>c(P.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:i==="login"?"current-password":"new-password",required:!0,value:d,onChange:P=>p(P.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),i==="login"&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:y,onChange:P=>b(P.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),j&&f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:j}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:v,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:v?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):i==="login"?"Sign in":"Register"})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i==="login"?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:D,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:i==="login"?"Register":"Sign in"})]})})]})}):null},$4=({onImageSelect:e,isLoading:n,isTradingMode:r=!0,preview:i})=>{const[s,o]=R.useState(!1),c=R.useRef(null),d=R.useCallback(v=>{if(v&&v.type.startsWith("image/")){if(v.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const S=new FileReader;S.onloadend=()=>{try{const j=S.result;e(v)}catch(j){console.error("Error processing image file:",j),alert("Gagal memproses file gambar. Silakan coba file lain.")}},S.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},S.readAsDataURL(v)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[e]),p=R.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?o(!0):v.type==="dragleave"&&o(!1)},[]),m=R.useCallback(v=>{v.preventDefault(),v.stopPropagation(),o(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&d(v.dataTransfer.files[0])},[d]),x=v=>{v.preventDefault(),v.target.files&&v.target.files[0]&&d(v.target.files[0])},y=()=>{var v;(v=c.current)==null||v.click()},b=R.useCallback(v=>{var N,E;if(n||!c.current)return;const S=(N=v.clipboardData)==null?void 0:N.items;if(!S)return;const j=(E=Array.from(S).find(C=>C.kind==="file"&&C.type.startsWith("image/")))==null?void 0:E.getAsFile();j&&(v.preventDefault(),d(j))},[n,d]);return R.useEffect(()=>{if(r)return document.addEventListener("paste",b),()=>{document.removeEventListener("paste",b)}},[b,r]),f.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${s?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!i&&"bg-white dark:bg-slate-800"}`}`,children:[f.jsx("input",{ref:c,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:x,disabled:n}),i?f.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[f.jsx("img",{src:i,className:n?"w-full h-full object-contain blur-sm opacity-70 transition-all":"w-full h-full object-contain transition-all",alt:"Chart Preview",style:{maxHeight:320,maxWidth:"100%"}}),n&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/60 dark:bg-slate-900/60 z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-500 mb-2"}),f.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Analyzing Chart..."})]})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(Zp,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),f.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),f.jsxs("button",{type:"button",onClick:y,disabled:n,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[f.jsx(Zp,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},zd={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Ud={Entry:"Entry",SL:"SL",TP1:"TP1"};function F4(e){const n=[...e].sort((i,s)=>i-s),r=e.map(()=>0);for(let i=0;i<e.length-1;i++)Math.abs(n[i]-n[i+1])<7&&(r[e.indexOf(n[i])]=-28,r[e.indexOf(n[i+1])]=28,e.length>2&&i+2<e.length&&Math.abs(n[i+1]-n[i+2])<7&&(r[e.indexOf(n[i+2])]=-56));return r}function G4(e,n=18){const r=e.map((m,x)=>({price:m,idx:x}));r.sort((m,x)=>m.price-x.price);const i=e.length,o=100-n*(i-1),c=i>1?o/(i-1):0;let d=[];for(let m=0;m<i;m++)d.push(m*(n+c));const p=[];return r.forEach((m,x)=>{p[m.idx]=d[x]}),p}function Y4(e,n,r,i,s){if(!e||!n||!r||!i)return 0;const o=i*r;return s==="Long"?(n-e)*(o/e):(e-n)*(o/e)}const Pd=({color:e,left:n,label:r,yOffset:i,value:s})=>{let o=n;return r==="SL"&&(n==="0%"||n==="0"||n==="calc(0% - 24px)"||n==="calc(0% - 0px)")&&(o="1.5rem"),r==="TP1"&&(n==="100%"||n==="calc(100% - 24px)"||n==="calc(100% - 0px)")&&(o="calc(100% - 1.5rem)"),f.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:o,top:0,zIndex:10},children:[f.jsx("div",{style:{transform:`translateY(${i}px)`},className:"transition-all duration-500",children:f.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${e} animate-fadein`,children:r})}),f.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${e} mt-1 animate-markerpop`}),f.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 whitespace-nowrap",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]})},V4=({riskParams:e,analysis:n})=>{if(!n)return null;const{tradeSetup:r}=n,i=r.tradeType==="Long",s=parseFloat(r.entryPrice),o=parseFloat(r.stopLoss),c=parseFloat(r.takeProfit);if(isNaN(s)||isNaN(o)||isNaN(c))return null;const p=G4([o,s,c],24),m=C=>`calc(${p[C]}% - 24px)`,x=F4(p),y=1,b=2,v=Math.min(p[y],p[b]),S=Math.abs(p[b]-p[y]),j=i?"right":"left";let N=1;if(typeof n.riskPerTrade=="number"&&!isNaN(n.riskPerTrade))N=n.riskPerTrade;else if(typeof n.riskPerTrade=="string"){const C=parseFloat(String(n.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(C)||(N=C)}const E=e.currentEquity!==void 0&&e.currentEquity!==null?Number(e.currentEquity):void 0;return E==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-3 sm:mb-4",children:[f.jsx(cy,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),f.jsx("div",{className:"relative w-full overflow-x-auto sm:overflow-visible px-1 scrollbar-thin scrollbar-thumb-violet-300 sm:scrollbar-none",children:f.jsxs("div",{className:"min-w-[350px] sm:min-w-0 h-20 flex items-end mb-4 sm:mb-6 pl-6 pr-2",children:[f.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),f.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${v}% + 8px)`,width:`calc(${S}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:f.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:j==="right"?f.jsx("span",{className:"absolute right-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:"▶"}):f.jsx("span",{className:"absolute left-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:"◀"})})}),f.jsx(Pd,{color:zd.SL,left:m(0),label:Ud.SL,yOffset:x[0],value:String(o)}),f.jsx(Pd,{color:zd.Entry,left:m(1),label:Ud.Entry,yOffset:x[1],value:String(s)}),f.jsx(Pd,{color:zd.TP1,left:m(2),label:Ud.TP1,yOffset:x[2],value:String(c)})]})}),f.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 sm:gap-4 mt-4 sm:mt-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:N+"%"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),(()=>{const C=Number(E??0),D=Number(N??0),T="$"+(C*D/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:T})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),f.jsxs("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:[e.riskRewardRatio,":1"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),(()=>{const D="$"+Number(E??0).toLocaleString("en-US",{maximumFractionDigits:0});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:D})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Potensi Profit (USD)"}),(()=>{var se,U,V;let C=Number(n==null?void 0:n.leverage);(!C||isNaN(C))&&(C=Number(e.leverage));const D=Number((se=n==null?void 0:n.tradeSetup)==null?void 0:se.entryPrice),P=Number((U=n==null?void 0:n.tradeSetup)==null?void 0:U.takeProfit),T=Number(E??0),L=(V=n==null?void 0:n.tradeSetup)==null?void 0:V.tradeType,W=D&&P&&C&&T&&L;let te=f.jsx("span",{className:"text-slate-400",children:"-"});if(W){const K=Number(Y4(D,P,C,T,L));te="$"+String(K.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}return f.jsx("p",{className:"font-bold text-base sm:text-lg text-emerald-800 dark:text-emerald-200",children:te})})()]})]})]})},ko=({label:e,value:n,className:r=""})=>f.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 text-center ${r}`,children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${r}`,children:n})]}),K4=({analysis:e})=>{const{tradeType:n,entryPrice:r,stopLoss:i,takeProfit:s}=e.tradeSetup,o=n==="Long",c=b=>b!=null&&b!==""&&b!=="N/A"&&!isNaN(Number(b))&&Number(b)!==0,d=c(r),p=c(i),m=c(s);let x=!1;return o?x=Number(i)<Number(r)&&Number(r)<Number(s):x=Number(s)<Number(r)&&Number(r)<Number(i),d&&p&&m&&x?f.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${o?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[f.jsxs("h4",{className:`text-lg font-bold ${o?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"} text-center`,children:["Suggested Trade: ",n]}),Number(e.confidenceScore)<70&&f.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm text-center",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),f.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm justify-items-center text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(r).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):f.jsx("div",{className:"p-4 rounded-lg bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},Fb=({analysis:e,riskParams:n,onBackToUploader:r})=>{if(!e)return f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})});if(e.error){let s=e.error;return e.error.toLowerCase().includes("timeframe")&&(s=`Anda mengupload chart dengan timeframe yang tidak sesuai mode trading.
Silakan pilih mode yang sesuai dengan timeframe chart Anda.`),f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold whitespace-pre-line",children:s})}),r&&f.jsx("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 mt-4",children:"Kembali ke Upload"})]})})}return e.tradeSetup&&e.marketTrend&&e.tradeBias?f.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[f.jsx("div",{className:"w-full",children:e.image&&e.image.trim()!==""?f.jsx("img",{src:e.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{var c,d;console.error("Failed to load analysis image:",((c=e.image)==null?void 0:c.substring(0,50))+"..."),s.currentTarget.style.display="none";const o=document.createElement("div");o.className="w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",o.innerHTML='<p class="text-slate-500 dark:text-slate-400">Image failed to load</p>',(d=s.currentTarget.parentNode)==null||d.appendChild(o)},onLoad:()=>{console.log("Analysis image loaded successfully")}}):f.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"}),f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:["Image data: ",e.image?"Present but empty":"Missing"]})]})})}),f.jsxs("div",{className:"w-full space-y-4",children:[e.status!=="pending"&&f.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${e.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[e.status==="profit"?f.jsx(li,{className:"h-6 w-6"}):f.jsx(Yn,{className:"h-6 w-6"}),f.jsxs("span",{children:["TRADE COMPLETED: ",f.jsx("span",{className:"uppercase",children:e.status.replace("-"," ")})]})]}),f.jsx(K4,{analysis:e}),f.jsx(V4,{riskParams:n,analysis:e}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 justify-items-center text-center",children:[f.jsx(ko,{label:"Market Trend",value:e.marketTrend||"N/A"}),f.jsx(ko,{label:"Trade Bias",value:e.tradeBias||"N/A",className:e.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":e.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),f.jsx(ko,{label:"Confidence",value:`${e.confidenceScore||0}%`}),e.status!=="pending"&&e.outcomeAmount!==void 0&&f.jsx(ko,{label:e.status==="profit"?"Profit Amount":"Loss Amount",value:`$${e.outcomeAmount.toLocaleString()}`,className:e.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Ww,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),f.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:Array.isArray(e.rationale)?f.jsx("ul",{className:"list-disc pl-5",children:e.rationale.map((s,o)=>f.jsx("li",{children:s},o))}):(()=>{let s=e.rationale;try{typeof e.rationale=="string"&&e.rationale.trim().startsWith("[")&&(s=JSON.parse(e.rationale))}catch{}return Array.isArray(s)?f.jsx("ul",{className:"list-disc pl-5",children:s.map((o,c)=>f.jsx("li",{children:o},c))}):f.jsx(Uf,{remarkPlugins:[qf],children:e.rationale||"No reasoning available"})})()})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.keyPattern||"No pattern identified"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.indicatorAnalysis||"No indicator analysis available"})]})]})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("p",{children:"This might be due to:"}),f.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[f.jsx("li",{children:"AI response format error"}),f.jsx("li",{children:"Network connectivity issues"}),f.jsx("li",{children:"API quota exceeded"}),f.jsx("li",{children:"Image processing error"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[r&&f.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})})},_l="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",jl="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",Hx="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",$x=({params:e,timeframeSettings:n})=>{const[r,i]=R.useState(e.accountBalance||""),[s,o]=R.useState(e.leverage||"10"),[c,d]=R.useState(e.entryPrice||""),[p,m]=R.useState(e.stopLoss||""),[x,y]=R.useState(""),[b,v]=R.useState("LONG"),S=N=>parseFloat(N.replace(",",".")),j=R.useMemo(()=>{const N=S(r),E=S(s),C=S(c),D=S(p),P=S(x);if([N,E,C,D,P].some(isNaN)||N<=0||E<=0||C<=0||D<=0||P<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const T=N*E;let L=0,W=0,te=0,se=0;b==="LONG"?(L=(D-C)*T/C,W=(P-C)*T/C,te=Math.abs(W/Math.abs(L)),se=C*(1-1/E)):(L=(C-D)*T/C,W=(C-P)*T/C,te=Math.abs(W/Math.abs(L)),se=C*(1+1/E));const U=N,V=N,K=`${(L/N*100).toFixed(2)}%`,J=`${(W/N*100).toFixed(2)}%`;let le="";return te<1?le="RRR di bawah standar minimum!":L>=0?le="Stop Loss tidak valid (tidak rugi)!":W<=0&&(le="Take Profit tidak valid (tidak untung)!"),{contract:`$${T.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:D,slMargin:`$${U.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${L>=0?"+":""}$${L.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:K,tp:P,tpMargin:`$${V.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${W>=0?"+":""}$${W.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:J,rrr:te.toFixed(2),liq:se.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:le}},[r,s,c,p,x,b]);return f.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx(Jw,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),f.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),f.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:n.text})]})}),f.jsx("div",{className:jl,children:f.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),f.jsx("input",{type:"number",className:_l,value:r,onChange:N=>i(N.target.value),placeholder:"e.g. 6.64"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),f.jsx("input",{type:"number",className:_l,value:s,onChange:N=>o(N.target.value),min:1,max:125})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),f.jsx("input",{type:"number",className:_l,value:c,onChange:N=>d(N.target.value),placeholder:"e.g. 0.621"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),f.jsx("input",{type:"number",className:_l,value:p,onChange:N=>m(N.target.value),placeholder:"e.g. 0.62552"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),f.jsx("input",{type:"number",className:_l,value:x,onChange:N=>y(N.target.value),placeholder:"e.g. 0.6185"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),f.jsxs("div",{className:"flex gap-3 mt-1",children:[f.jsx("button",{onClick:()=>v("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${b==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),f.jsx("button",{onClick:()=>v("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${b==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:jl,children:[f.jsx("h4",{className:Hx,children:"Nilai Kontrak"}),f.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[f.jsx("span",{children:"Total Kontrak"}),f.jsx("span",{children:j.contract})]})]}),f.jsxs("div",{className:jl+" border-l-4 border-red-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi SL (USDT)"}),f.jsx("span",{children:j.sl})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:j.slMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:j.slProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:j.slProfitPct})]})]}),f.jsxs("div",{className:jl+" border-l-4 border-emerald-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi TP (USDT)"}),f.jsx("span",{children:j.tp})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:j.tpMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:j.tpProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:j.tpProfitPct})]})]}),f.jsxs("div",{className:jl,children:[f.jsx("h4",{className:Hx,children:"Ringkasan"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),f.jsx("span",{children:j.rrr})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Liquidation Price (estimasi)"}),f.jsx("span",{children:j.liq})]})]}),j.warning&&f.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:j.warning})]})]})},Q4=({status:e})=>{if(e==="pending")return null;const n="text-xs font-bold px-2 py-0.5 rounded-full";if(e==="profit")return f.jsx("span",{className:`${n} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"});if(e==="stop-loss")return f.jsx("span",{className:`${n} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"})},Fx=({history:e,onSelect:n,onDeleteRequest:r,onShareRequest:i,currentAnalysisId:s,userId:o})=>{const[c,d]=Zr.useState(new Set),[p,m]=Zr.useState(!1),[x,y]=R.useState(!1),[b,v]=R.useState(null),[S,j]=R.useState(null),[N,E]=R.useState(""),[C,D]=R.useState(!1),[P,T]=R.useState(null);if(Zr.useEffect(()=>{(async()=>{if(!(!e.length||!o)){m(!0);try{const se=e.map(K=>Hb(Pe,o,K.id)),U=await Promise.all(se),V=new Set;e.forEach((K,J)=>{U[J]&&V.add(K.id)}),d(V)}catch(se){console.error("Error loading shared status:",se)}finally{m(!1)}}})()},[e,o]),!e)return console.error("HistoryPanel: history prop is null or undefined"),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(dd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});if(!Array.isArray(e))return console.error("HistoryPanel: history prop is not an array:",e),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(dd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});console.log("HistoryPanel: Rendering with",e.length,"items");const L=(te,se)=>{v(te),j(se),E(""),T(null),y(!0)},W=async()=>{if(!b||!S||!o)return;const te=parseFloat(N);if(isNaN(te)){T("Please enter a valid number for outcome amount.");return}D(!0),T(null);try{await T4(Pe,b.id,S,te,o),y(!1),v(null),j(null),E(""),window.location.reload()}catch{T("Failed to update trade status.")}finally{D(!1)}};return f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(dd,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),e.length===0?f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):f.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:e.map((te,se)=>{if(!te||!te.id||!te.tradeSetup)return console.error("HistoryPanel: Invalid item at index",se,te),null;const U=s===te.id,V=c.has(te.id);return f.jsx("li",{className:"group",children:f.jsxs("div",{className:`relative p-2 sm:p-4 rounded-lg border cursor-pointer transition-all duration-200 ${U?"border-violet-500 bg-violet-50 dark:bg-violet-900/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-violet-300 dark:hover:border-violet-600 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>n(te),children:[V&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:[f.jsx($d,{className:"w-3 h-3 mr-1"}),"Shared"]})}),f.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[f.jsx("span",{className:"text-xs sm:text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:te.mode}),f.jsx(Q4,{status:te.status}),V&&f.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"✓ Shared"})]}),f.jsx("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mb-1 sm:mb-2",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-4",children:[f.jsxs("span",{children:["Entry: $",te.tradeSetup.entryPrice]}),f.jsxs("span",{children:["SL: $",te.tradeSetup.stopLoss]}),f.jsxs("span",{children:["TP: $",te.tradeSetup.takeProfit]})]})}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:new Date(te.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),te.status==="pending"&&f.jsxs("div",{className:"flex flex-row gap-1 sm:gap-2 mt-2",children:[f.jsx("button",{onClick:K=>{K.stopPropagation(),L(te,"profit")},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Set Profit"}),f.jsx("button",{onClick:K=>{K.stopPropagation(),L(te,"stop-loss")},className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Set Loss"})]})]}),f.jsxs("div",{className:"flex flex-row gap-1 ml-2 sm:ml-4",children:[i&&f.jsx("button",{onClick:K=>{K.stopPropagation(),V||i(te)},disabled:V||p,className:`p-2 text-xs rounded-lg transition-colors ${V?"text-green-600 dark:text-green-400 cursor-not-allowed":"text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30"}`,title:V?"Already shared to community":"Share to community",children:f.jsx($d,{className:"w-4 h-4"})}),f.jsx("button",{onClick:K=>{K.stopPropagation(),r(te)},className:"p-2 text-xs rounded-lg text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",title:"Delete analysis",children:f.jsx(tS,{className:"w-4 h-4"})})]})]})]})},te.id)})}),x&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:S==="profit"?"Set Profit Outcome":"Set Loss Outcome"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Outcome Amount"}),f.jsx("input",{type:"number",value:N,onChange:te=>E(te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter outcome amount",min:"0",step:"any",disabled:C})]}),P&&f.jsx("div",{className:"text-red-500 text-sm mb-2",children:P}),f.jsxs("div",{className:"flex space-x-3 mt-4",children:[f.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",disabled:C,children:"Cancel"}),f.jsx("button",{onClick:W,disabled:C||!N,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Save"})]})]})})]})},cf=({isOpen:e,onClose:n,onConfirm:r,title:i,message:s,confirmText:o="Confirm",cancelText:c="Cancel",isDestructive:d=!1,isLoading:p=!1})=>{if(R.useEffect(()=>{const b=v=>{v.key==="Escape"&&n()};return e&&document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[e,n]),!e)return null;const m=d?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",x=d?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=d?f.jsx(Xw,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):f.jsx(oy,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:n,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:b=>b.stopPropagation(),children:[f.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${x}`,children:y}),f.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),f.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[f.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:r,disabled:p,children:p?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):o}),f.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:n,disabled:p,children:c})]})]})})},X4=({user:e,apiKey:n,apiStatus:r,updateTokenUsage:i,onTradeAdded:s,tradeHistory:o,currentEquity:c,onTradeDeleted:d})=>{var Ge;const[p,m]=R.useState(null),[x,y]=R.useState(null),[b,v]=R.useState(null),[S,j]=R.useState(!1),[N,E]=R.useState(null),[C,D]=R.useState("day"),[P,T]=R.useState({accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3}),[L,W]=R.useState("calculator"),[te,se]=R.useState(null),[U,V]=R.useState(null),[K,J]=R.useState(!1),[le,re]=R.useState(!1),[I,$]=R.useState(null),ae={scalp:{text:"Timeframe: 1m, 3m, 5m, 15m (minute) only",link:"https://www.tradingview.com/symbols/"},day:{text:"Timeframe: 30m (minute) only",link:"https://www.tradingview.com/symbols/"},swing:{text:"Timeframe: 1h, 2h, 4h, 12h (hour) only",link:"https://www.tradingview.com/symbols/"},position:{text:"Timeframe: 1d, 1w, 1M (day/week/month) only",link:"https://www.tradingview.com/symbols/"}},ne=R.useCallback(ce=>{m(ce),E(null);const Ce=new FileReader;Ce.onloadend=()=>{const ut=Ce.result;y(ut),console.log("Image preview set:",!!ut)},Ce.onerror=()=>{console.error("Error creating image preview"),E("Failed to create image preview. Please try again.")},Ce.readAsDataURL(ce)},[]),k=async()=>{if(!p||!n){E("Please select an image and ensure API key is configured.");return}if(!x){E("Image preview is not available. Please try uploading the image again.");return}j(!0),E(null);try{const{analysis:ce,usage:Ce}=await $S(n,p,P,C,P.currentEquity||1e3);if(i(Ce),ce&&ce.error){v({error:ce.error}),se(null);return}T(rt=>({...rt,currentEquity:rt.currentEquity||1e3,riskPerTrade:ce.riskPerTrade!==void 0?String(ce.riskPerTrade):rt.riskPerTrade}));const ut={id:Date.now().toString(),timestamp:new Date().toISOString(),image:x,mode:ce.mode||C,marketTrend:ce.marketTrend,keyPattern:ce.keyPattern,indicatorAnalysis:ce.indicatorAnalysis,tradeBias:ce.tradeBias,tradeSetup:ce.tradeSetup,rationale:ce.rationale,confidenceScore:ce.confidenceScore,status:"pending",riskPerTrade:ce.riskPerTrade};if(console.log("TradeAnalysis created with image:",!!ut.image),v(ut),se(null),Pe)try{const rt=await Ux(Pe,ut,e.id);s(rt)}catch(rt){console.error("Auto-save error:",rt),E("Failed to auto-save trade: "+rt.message)}}catch(ce){console.error("Analysis error:",ce),E(ce.message||"Failed to analyze chart. Please try again.")}finally{j(!1)}},Y=()=>{m(null),y(null),v(null),se(null),E(null)},ie=ce=>{v(ce),se(ce),m(null),y(ce.image||null)},A=ce=>{V(ce),J(!0)},de=()=>{U&&(d(U.id),V(null),J(!1))},me=()=>{V(null),J(!1)},z=ce=>{$(ce),re(!0)},fe=async()=>{if(I)try{let ce=I;o.find(ra=>ra.id===I.id)||Pe&&(ce=await Ux(Pe,I,e.id),s(ce));const ut=await $b(Pe,e.id,ce),rt=document.createElement("div");rt.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",rt.textContent="✅ Analisis berhasil di-share ke komunitas!",document.body.appendChild(rt),setTimeout(()=>{rt.classList.remove("translate-x-full")},100),setTimeout(()=>{rt.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(rt)},300)},3e3),re(!1),$(null)}catch(ce){console.error("Error sharing to community:",ce);const Ce=document.createElement("div");Ce.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",Ce.textContent="❌ Gagal share ke komunitas: "+(ce.message||ce),document.body.appendChild(Ce),setTimeout(()=>{Ce.classList.remove("translate-x-full")},100),setTimeout(()=>{Ce.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(Ce)},300)},5e3)}},pe=()=>{re(!1),$(null)},Ee=o.filter(ce=>ce.mode===C);return R.useEffect(()=>{!te&&x&&n&&k()},[x,n,te]),R.useEffect(()=>{T(ce=>({...ce,currentEquity:c||0}))},[c]),f.jsxs("div",{className:"flex-1 flex flex-col gap-6 p-4 sm:p-6",children:[f.jsxs("header",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:Y,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Back to upload new image",children:f.jsx(rS,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"AI Trading Analysis"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:te?"Viewing historical analysis":"Upload a chart screenshot for AI-powered technical analysis"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f.jsx("strong",{children:"Mapping Timeframe:"})," ",f.jsx("br",{}),f.jsxs("span",{children:["1m/3m/5m/15m = ",f.jsx("b",{children:"Scalp"}),", 30m = ",f.jsx("b",{children:"Day"}),", 1h/2h/4h/12h = ",f.jsx("b",{children:"Swing"}),", 1d/1w/1M = ",f.jsx("b",{children:"Position"})]})]})]})]}),N&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:N}),b?f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsx("div",{className:"flex-1",children:f.jsx(Fb,{analysis:b,riskParams:P,onBackToUploader:Y})}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${L==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>W("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${L==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>W("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[L==="calculator"&&f.jsx($x,{params:P,timeframeSettings:ae[C]}),L==="history"&&f.jsx(Fx,{history:Ee,onSelect:ie,onDeleteRequest:A,onShareRequest:z,currentAnalysisId:te?te.id:b?b.id:void 0,userId:e.id})]})]})})]}):f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"Trading Mode"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["scalp","day","swing","position"].map(ce=>f.jsx("button",{onClick:()=>D(ce),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${C===ce?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)},ce))}),f.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:ae[C].text})})]}),f.jsx("div",{className:"flex-1",children:f.jsx($4,{onImageSelect:ne,isLoading:S,isTradingMode:!0,preview:x})}),r!=="valid"&&f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg",children:f.jsx("p",{className:"text-sm",children:"Please configure your API key in Settings to use AI analysis."})})]}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${L==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>W("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${L==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>W("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[L==="calculator"&&f.jsx($x,{params:P,timeframeSettings:ae[C]}),L==="history"&&f.jsx(Fx,{history:Ee,onSelect:ie,onDeleteRequest:A,onShareRequest:z,currentAnalysisId:te?te.id:b?b.id:void 0,userId:e.id})]})]})})]}),f.jsx(cf,{isOpen:K,onClose:me,onConfirm:de,title:"Hapus Analisa?",message:U?`Yakin ingin menghapus analisa trade ${((Ge=U.tradeSetup)==null?void 0:Ge.tradeType)||""} pada ${new Date(U.timestamp).toLocaleString()}?`:"",confirmText:"Hapus",cancelText:"Batal",isDestructive:!0}),f.jsx(cf,{isOpen:le,onClose:pe,onConfirm:fe,title:"Share Analisa ke Komunitas?",message:"Analisa ini akan dibagikan ke menu Community dan bisa dilihat user lain.",confirmText:"Share",cancelText:"Batal",isDestructive:!1})]})},J4=({user:e,apiKey:n,apiStatus:r,onApiKeyUpdate:i})=>{const[s,o]=R.useState(""),[c,d]=R.useState(""),[p,m]=R.useState(""),[x,y]=R.useState(!1),[b,v]=R.useState(!1),[S,j]=R.useState(""),[N,E]=R.useState(""),[C,D]=R.useState(!1),[P,T]=R.useState(!1),[L,W]=R.useState(""),[te,se]=R.useState(""),[U,V]=R.useState(!1),[K,J]=R.useState(!1),[le,re]=R.useState(n),[I,$]=R.useState(!1),[ae,ne]=R.useState(""),[k,Y]=R.useState(!1);R.useEffect(()=>{re(n)},[n]),R.useEffect(()=>{(async()=>{const fe=Pe;if(!fe||!e)return;const pe=await qb(fe,e.id);pe&&(o(pe.nama||""),d(pe.describe||""),j(pe.initial_trade!==null&&pe.initial_trade!==void 0?String(pe.initial_trade):""))})()},[e]);const ie=async()=>{v(!0),m(""),y(!1);try{await C4(Pe,e.id,s,c),m("Profile updated successfully!")}catch{m("Failed to update profile."),y(!0)}finally{v(!1),setTimeout(()=>m(""),5e3)}},A=async()=>{T(!0),E(""),D(!1);try{await zx(Pe,e.id,Number(S)),E("Base capital updated successfully!")}catch{E("Failed to update base capital."),D(!0)}finally{T(!1),setTimeout(()=>E(""),5e3)}},de=async()=>{J(!0),se(""),V(!1);try{const z=Pe,fe=Number(S)-Number(L);if(fe<0)throw new Error("Insufficient funds.");await zx(z,e.id,fe),j(String(fe)),se("Withdrawal successful!")}catch{se("Failed to withdraw funds."),V(!0)}finally{J(!1),setTimeout(()=>se(""),5e3)}},me=async()=>{if($(!0),ne(""),Y(!1),!le.trim()){ne("API Key cannot be empty."),Y(!0),$(!1),setTimeout(()=>ne(""),5e3);return}try{await i(le),ne("API Key updated and verified successfully!"),Y(!1)}catch(z){const fe=z instanceof Error?z.message:"Failed to save or verify API key.";ne(fe),Y(!0)}finally{$(!1),setTimeout(()=>ne(""),5e3)}};return f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),f.jsxs("main",{className:"space-y-8",children:[f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your profile information. This may be used in the future for leaderboards or community features."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("input",{id:"name",type:"text",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:s,onChange:z=>o(z.target.value),disabled:b})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),f.jsx("textarea",{id:"description",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:c,onChange:z=>d(z.target.value),disabled:b,rows:2})]}),f.jsx("button",{onClick:ie,disabled:b,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:b?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),f.jsx("div",{className:"h-5 mt-2",children:p&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${x?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[x?f.jsx(Yn,{className:"w-4 h-4"}):f.jsx(li,{className:"w-4 h-4"}),p]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"GPT-4o API Key"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Masukkan API Key GPT-4o dari Sumo Pod untuk mengaktifkan analisis chart AI dan insight performa."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"GPT-4o API Key"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:le,onChange:z=>re(z.target.value),placeholder:"Enter your GPT-4o API key",disabled:I})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("button",{onClick:me,disabled:I,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:I?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),f.jsx("div",{className:"h-5 mt-2",children:ae&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${k?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[k?f.jsx(Yn,{className:"w-4 h-4"}):f.jsx(li,{className:"w-4 h-4"}),ae]})})]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital. This value is the foundation for all performance calculations and withdrawals."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Base Capital ($)"}),f.jsx("input",{id:"initialCapital",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:S,onChange:z=>j(z.target.value),disabled:P,min:0})]}),f.jsx("button",{onClick:A,disabled:P,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:P?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),f.jsx("div",{className:"h-5 mt-2",children:N&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${C?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[C?f.jsx(Yn,{className:"w-4 h-4"}):f.jsx(li,{className:"w-4 h-4"}),N]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"withdrawAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Withdraw Amount ($)"}),f.jsx("input",{id:"withdrawAmount",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:L,onChange:z=>W(z.target.value),disabled:K,min:0})]}),f.jsx("button",{onClick:de,disabled:K,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:K?f.jsx(ii,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),f.jsx("div",{className:"h-5 mt-2",children:te&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${U?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[U?f.jsx(Yn,{className:"w-4 h-4"}):f.jsx(li,{className:"w-4 h-4"}),te]})})]})]})]})]})},Z4=e=>e?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${e.toLowerCase()}.svg`:"",Bd="https://via.placeholder.com/32x32?text=?",W4=({userId:e,assets:n,onAssetAdded:r,onAssetUpdated:i,onAssetDeleted:s})=>{const[o,c]=R.useState(!1),[d,p]=R.useState(null),[m,x]=R.useState(!1),[y,b]=R.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[v,S]=R.useState(null),[j,N]=R.useState(null),[E,C]=R.useState(!1),D=()=>{b({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),c(!1),p(null)},P=V=>{const{name:K,value:J}=V.target;if(K==="symbol")b(le=>({...le,symbol:J.toUpperCase()}));else if(K==="amount"){const le=J.replace(/[^0-9eE.-]/g,"");b(re=>({...re,amount:le}))}else b(le=>({...le,[K]:K==="avgBuyPrice"||K==="currentPrice"?parseFloat(J)||0:J}))},T=async V=>{if(V.preventDefault(),S(null),!Pe){S("Database connection not available");return}const K=parseFloat(y.amount);if(isNaN(K)||K<0){S("Amount harus berupa angka valid dan lebih dari 0");return}x(!0);try{const J=Z4(y.symbol)||Bd;console.log("[DEBUG] Mulai handleSubmit",{formData:y,parsedAmount:K,logoUrl:J,userId:e}),d?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await L4(Pe,d.id,{amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice,logo_url:J},e),console.log("[DEBUG] Setelah updatePortfolioAsset"),i()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:J,amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},e),await D4(Pe,{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:J,amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},e),console.log("[DEBUG] Setelah addPortfolioAsset"),r()),D()}catch(J){console.error("[DEBUG] Error saving asset:",J),S("Gagal menyimpan asset: "+((J==null?void 0:J.message)||J))}finally{x(!1),console.log("[DEBUG] Selesai handleSubmit")}},L=V=>{p(V),b({symbol:V.symbol,name:V.name,amount:V.amount.toString(),avgBuyPrice:V.avgBuyPrice,currentPrice:V.currentPrice,category:V.category??""})},W=V=>{N(V),C(!0)},te=async()=>{if(!(!Pe||!(j!=null&&j.id))){x(!0);try{await M4(Pe,j.id,e),s(),C(!1),N(null)}catch(V){console.error("Error deleting asset:",V),alert("Error deleting asset. Please try again.")}finally{x(!1)}}},se=()=>{C(!1),N(null)},U=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(V);return f.jsxs("div",{className:"space-y-6",children:[v&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:v}),f.jsx("button",{onClick:()=>S(null),className:"absolute top-1 right-2 text-xl font-bold",children:"×"})]}),!o&&!d&&f.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(o||d)&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:d?"Edit Asset":"Add New Asset"}),f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),f.jsx("input",{type:"text",name:"symbol",value:y.symbol,onChange:P,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),f.jsx("input",{type:"text",name:"name",value:y.name,onChange:P,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),f.jsx("input",{type:"text",name:"amount",value:y.amount,onChange:P,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),f.jsx("input",{type:"number",name:"avgBuyPrice",value:y.avgBuyPrice,onChange:P,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),f.jsx("input",{type:"number",name:"currentPrice",value:y.currentPrice,onChange:P,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),f.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:y.category,onChange:V=>b({...y,category:V.target.value}),required:!0,children:[f.jsx("option",{value:"Crypto",children:"Crypto"}),f.jsx("option",{value:"Saham",children:"Saham"}),f.jsx("option",{value:"Gold",children:"Gold"}),f.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":d?"Update Asset":"Add Asset"}),f.jsx("button",{type:"button",onClick:D,disabled:m,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),n.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",n.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(V=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:V.logoUrl||Bd,alt:V.name,className:"h-8 w-8 rounded-full mr-3",onError:K=>{K.currentTarget.src=Bd}}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:V.name}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:V.symbol})]})]})}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:V.amount.toLocaleString()}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(V.avgBuyPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:U(V.currentPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:U(V.value??0)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:f.jsxs("span",{className:(V.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(V.totalPl??0)>=0?"+":"",U(V.totalPl??0)]})}),f.jsx("td",{className:"px-6 py-4 text-center",children:f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx("button",{onClick:()=>L(V),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>W(V),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},V.id))})]})})]}),n.length===0&&!o&&!d&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),f.jsx("div",{className:"mt-6",children:f.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),f.jsx(cf,{isOpen:E,onClose:se,onConfirm:te,title:"Delete Asset",message:`Are you sure you want to delete ${j==null?void 0:j.name} (${j==null?void 0:j.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:m})]})},Id=({label:e,value:n,subvalue:r,valueColor:i})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:n}),r&&f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:r})]}),e3=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),t3=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(oy,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[f.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),f.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),n3=({apiKey:e,apiStatus:n,portfolioData:r,updateTokenUsage:i,userId:s})=>{const[o,c]=R.useState(""),[d,p]=R.useState(!1),[m,x]=R.useState(""),[y,b]=R.useState(!1),[v,S]=R.useState(!1),[j,N]=R.useState(r),[E,C]=R.useState(!1),[D,P]=R.useState(null),T=($,ae=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:ae,maximumFractionDigits:ae}).format($),L=R.useCallback(async()=>{if(!s){N(null),P("Anda harus login untuk melihat portfolio.");return}S(!0),P(null);try{const $=await z4(Pe,s);N($)}catch($){console.error("Error fetching portfolio data:",$),N(null),P("Gagal mengambil data portfolio: "+(($==null?void 0:$.message)||$))}finally{S(!1)}},[s]),W=R.useCallback(async $=>{if(n!=="valid"){c("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),p(!1);return}p(!0);try{const{analysisText:ae,usage:ne}=await GS(e,j,$);c(ae),i(ne)}catch(ae){console.error("Failed to get AI financial advice:",ae);const ne=ae instanceof Error?ae.message:String(ae);let k="Terjadi kesalahan saat mengambil saran keuangan AI.";ne.toLowerCase().includes("quota")||ne.toLowerCase().includes("rate limit")?k="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":ne.toLowerCase().includes("api key")||ne.toLowerCase().includes("unauthorized")?k="API key tidak valid. Silakan periksa pengaturan API key Anda.":ne.toLowerCase().includes("network")||ne.toLowerCase().includes("fetch")?k="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":ne.toLowerCase().includes("invalid response")||ne.toLowerCase().includes("format")?k="Format respons AI tidak valid. Silakan coba lagi.":ne.toLowerCase().includes("portfolio data")?k="Data portfolio tidak tersedia. Silakan muat ulang halaman.":ne.toLowerCase().includes("timeout")?k="Request timeout. Silakan coba lagi.":k=`Error: ${ne}`,c(k)}finally{p(!1)}},[e,n,j,i]);R.useEffect(()=>{if(!s){N(null),P("Anda harus login untuk melihat portfolio.");return}L()},[L,s]),R.useEffect(()=>{j&&!y&&(W("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),b(!0))},[j,W,y]);const te=$=>{$.preventDefault(),m.trim()&&W(m)};if(!s)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(v)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!j)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),f.jsx("button",{onClick:L,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:se,totalPl:U,pl24h:V,pl24hPercent:K,assets:J}=j,le=U>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",re=V>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",I=V>=0?"+":"";return f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[D&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:D}),f.jsx("button",{onClick:()=>P(null),className:"absolute top-1 right-2 text-xl font-bold",children:"×"})]}),f.jsxs("header",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),f.jsxs("button",{onClick:()=>C(!E),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),E?"Hide Manager":"Manage Assets"]})]}),E&&s&&f.jsx(W4,{userId:s,assets:J,onAssetAdded:L,onAssetUpdated:L,onAssetDeleted:L}),f.jsx(t3,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(Id,{label:"Total Portfolio Value",value:T(se),subvalue:"Across all tracked assets"}),f.jsx(Id,{label:"Total Profit / Loss",value:T(U),valueColor:le,subvalue:"Represents overall unrealized P/L"}),f.jsx(Id,{label:"24-Hour Change",value:`${I}${T(V)}`,valueColor:re,subvalue:`${I}${K.toFixed(2)}%`})]}),f.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[f.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),f.jsx("tbody",{children:J.map($=>f.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[f.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[f.jsx("img",{src:$.logoUrl,alt:$.name,className:"h-8 w-8"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:$.name}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:$.symbol})]})]}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:$.amount.toLocaleString()}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:T($.currentPrice,2)})]}),f.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:T($.avgBuyPrice,2)}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:T($.value??0)}),f.jsxs("p",{className:`text-xs font-semibold ${($.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[($.totalPl??0)>=0?"+":"",T($.totalPl??0)]})]})]},$.symbol))})]})})]}),f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(zl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:m,onChange:$=>x($.target.value),onKeyPress:$=>{$.key==="Enter"&&te($)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),f.jsx("button",{onClick:te,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:f.jsx(zl,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),d?f.jsx(e3,{}):f.jsx("div",{className:"prose dark:prose-invert",children:f.jsx(Uf,{remarkPlugins:[qf],children:o})})]})]})]})]})},r3=({user:e})=>{const[n,r]=R.useState([]),[i,s]=R.useState({total_analyses:0,total_comments:0,total_likes:0,unread_count:0}),[o,c]=R.useState(!0),[d,p]=R.useState(null),[m,x]=R.useState([]),[y,b]=R.useState(""),[v,S]=R.useState({}),[j,N]=R.useState(!1),[E,C]=R.useState(""),[D,P]=R.useState(""),[T,L]=R.useState(null),[W,te]=R.useState(null),[se,U]=R.useState({}),[V,K]=R.useState(null),[J,le]=R.useState(0),[re,I]=R.useState(!1),$={accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3};R.useEffect(()=>{e&&(ae(),q4(Pe,e.id))},[e]),R.useEffect(()=>{if(!e||d||j)return;const z=setInterval(async()=>{try{const[fe,pe]=await Promise.all([Px(Pe,20,0),qx(Pe,e.id)]);if(r(fe),s(pe),fe.length>J&&J>0){I(!0);const Ce=document.createElement("div");Ce.className="fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 text-sm transform transition-all duration-300 translate-x-full",Ce.textContent=`🆕 ${fe.length-J} new analysis(es) available`,document.body.appendChild(Ce),setTimeout(()=>Ce.classList.remove("translate-x-full"),100),setTimeout(()=>{Ce.classList.add("translate-x-full"),setTimeout(()=>document.body.removeChild(Ce),300)},3e3)}le(fe.length);const Ee=fe.map(Ce=>Ix(Pe,Ce.id,e.id)),Ge=await Promise.all(Ee),ce={};fe.forEach((Ce,ut)=>{ce[Ce.id]=Ge[ut]}),S(ce)}catch(fe){console.warn("Background refresh failed:",fe)}},3e4);return()=>clearInterval(z)},[e,d,j]);const ae=async()=>{c(!0);try{const[z,fe]=await Promise.all([Px(Pe,20,0),qx(Pe,e.id)]);r(z),s(fe),le(z.length);const pe=z.map(ce=>Ix(Pe,ce.id,e.id)),Ee=await Promise.all(pe),Ge={};z.forEach((ce,Ce)=>{Ge[ce.id]=Ee[Ce]}),S(Ge)}catch(z){console.error("Error loading community data:",z)}finally{c(!1)}},ne=async z=>{p(z);try{const fe=await Bx(Pe,z.id);x(fe)}catch(fe){console.error("Error loading comments:",fe)}},k=async(z,fe)=>{if(e)try{await I4(Pe,z,fe,e.id);const pe=v[z],Ee=pe===fe?null:fe;S(Ge=>({...Ge,[z]:Ee})),r(Ge=>Ge.map(ce=>{if(ce.id===z){let Ce=ce.likes_count,ut=ce.dislikes_count;return pe==="like"&&Ce--,pe==="dislike"&&ut--,Ee==="like"&&Ce++,Ee==="dislike"&&ut++,{...ce,likes_count:Ce,dislikes_count:ut}}return ce}))}catch(pe){console.error("Error toggling like:",pe)}},Y=async()=>{if(!(!e||!T||!E.trim()))try{await $b(Pe,e.id,T,E,D),N(!1),C(""),P(""),L(null),await ae();const z=document.createElement("div");z.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",z.textContent="✅ Analisis berhasil di-share ke komunitas!",document.body.appendChild(z),setTimeout(()=>{z.classList.remove("translate-x-full")},100),setTimeout(()=>{z.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(z)},300)},3e3)}catch(z){console.error("Error sharing analysis:",z);const fe=document.createElement("div");fe.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",fe.textContent="❌ Gagal share ke komunitas: "+(z instanceof Error?z.message:"Unknown error"),document.body.appendChild(fe),setTimeout(()=>{fe.classList.remove("translate-x-full")},100),setTimeout(()=>{fe.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(fe)},300)},5e3)}},ie=async()=>{c(!0);try{await ae()}finally{c(!1)}},A=async z=>{if(W===z){te(null);return}if(te(z),!se[z]){K(z);const fe=await Bx(Pe,z);U(pe=>({...pe,[z]:fe})),K(null)}},de=()=>{I(!1),p(null)},me=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Community"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Share insights and learn from fellow traders"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[re&&f.jsx("button",{onClick:de,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors animate-pulse",children:"🆕 Show New"}),f.jsx("button",{onClick:ie,disabled:o,className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Refreshing...":"Refresh"}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.total_analyses}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Analyses"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.total_comments}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Comments"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.total_likes}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Likes"})]})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 min-h-[500px] flex flex-col",children:e?d?d.trade_analysis?(()=>{const z=d.trade_analysis||{},fe=z.tradeSetup||z.trade_setup||{},pe={...z,tradeSetup:{tradeType:fe.tradeType||fe.trade_type||"",entryPrice:fe.entryPrice??fe.entry_price??0,stopLoss:fe.stopLoss??fe.stop_loss??0,takeProfit:fe.takeProfit??fe.take_profit??0,rrr:fe.rrr??0},marketTrend:z.marketTrend||z.market_trend||"",keyPattern:z.keyPattern||z.key_pattern||"",indicatorAnalysis:z.indicatorAnalysis||z.indicator_analysis||"",tradeBias:z.tradeBias||z.trade_bias||"",confidenceScore:z.confidenceScore??z.confidence_score??0,rationale:Array.isArray(z.rationale)?z.rationale.join(`
`):z.rationale||"",status:z.status||"pending",id:z.id||d.analysis_id||d.id||"",timestamp:z.timestamp||z.created_at||"",image:z.image||"",mode:z.mode||""};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xl font-bold text-violet-700 dark:text-violet-300 mb-4",children:d.title||"Tanpa Judul"}),f.jsx(Fb,{analysis:pe,riskParams:$})]})})():f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-400 dark:text-red-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:"⚠️"}),f.jsx("span",{children:"Data analisis tidak ditemukan."})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:"📝"}),f.jsx("span",{children:"Select an analysis to view details"})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:"🔒"}),f.jsx("span",{children:"Silakan login untuk melihat detail analisis komunitas."})]})})}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Recent Analyses"}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Click to preview"})]}),f.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.length===0?f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:f.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No analyses yet"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Be the first to share your trading analysis with the community!"})]}):n.map(z=>{var fe,pe;return f.jsxs("div",{onClick:()=>ne(z),className:`bg-white dark:bg-gray-800 rounded-xl shadow p-4 flex flex-col gap-2 border transition-all duration-200 cursor-pointer hover:shadow-md ${(d==null?void 0:d.id)===z.id?"border-violet-500 dark:border-violet-400 bg-violet-50 dark:bg-violet-900/20 shadow-violet-200 dark:shadow-violet-900/30":"border-gray-200 dark:border-gray-700 hover:border-violet-300 dark:hover:border-violet-600"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-blue-400 flex items-center justify-center text-white font-bold text-lg shadow",children:((fe=z.user_email)==null?void 0:fe.charAt(0).toUpperCase())||"U"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:z.title||"Tanpa Judul"})}),f.jsx("p",{className:`text-xs ${z.description?"text-gray-600 dark:text-gray-300":"text-gray-400 italic"} mb-1`,children:z.description||"(Tidak ada deskripsi)"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[f.jsxs("span",{children:["by ",f.jsx("span",{className:"font-medium text-violet-600 dark:text-violet-400",children:z.user_email||"Anonymous"})]}),f.jsx("span",{children:me(z.created_at)}),f.jsxs("span",{children:["💬 ",z.comments_count??0]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),k(z.id,"like")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${v[z.id]==="like"?"bg-blue-100 text-blue-600 dark:bg-blue-900/60":"text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,title:"Like",children:["👍 ",z.likes_count??0]}),f.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),k(z.id,"dislike")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${v[z.id]==="dislike"?"bg-red-100 text-red-600 dark:bg-red-900/60":"text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:"Dislike",children:["👎 ",z.dislikes_count??0]}),f.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),A(z.id)},className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold text-violet-600 hover:bg-violet-50 dark:hover:bg-violet-900/30",children:["💬 ",W===z.id?"Hide":"Show"," Comments"]})]}),W===z.id&&f.jsxs("div",{className:"mt-2 bg-gray-50 dark:bg-gray-800 rounded p-2 w-full border border-gray-200 dark:border-gray-700",children:[f.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2 mb-2",children:V===z.id?f.jsx("div",{className:"text-gray-400 italic",children:"Loading..."}):(pe=se[z.id])!=null&&pe.length?se[z.id].map(Ee=>f.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-1 text-xs",children:[f.jsx("div",{children:Ee.content}),f.jsx("div",{className:"text-gray-400",children:Ee.user_email||"Anonymous"})]},Ee.id)):f.jsx("div",{className:"text-gray-400 italic",children:"No comments yet."})}),e&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:y,onChange:Ee=>b(Ee.target.value),placeholder:"Add a comment...",className:"flex-1 px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs"}),f.jsx("button",{onClick:async()=>{if(!y.trim())return;const Ee=await B4(Pe,z.id,y,e.id);U(Ge=>({...Ge,[z.id]:[...Ge[z.id]||[],Ee]})),r(Ge=>Ge.map(ce=>ce.id===z.id?{...ce,comments_count:(ce.comments_count??0)+1}:ce)),b("")},disabled:!y.trim(),className:"px-3 py-1 bg-violet-600 text-white rounded hover:bg-violet-700 text-xs",children:"Post"})]})]})]},z.id)})})]})})]})}),j&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Share Analysis"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),f.jsx("input",{type:"text",value:E,onChange:z=>C(z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter a title for your analysis..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),f.jsx("textarea",{value:D,onChange:z=>P(z.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Add a description..."})]})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{onClick:Y,disabled:!E.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Share"})]})]})})]})},a3=()=>{const[e,n]=R.useState([]),[r,i]=R.useState(!0);R.useEffect(()=>{setTimeout(()=>{n([{id:1,time:"2024-01-15T14:30:00Z",currency:"USD",flag:"🇺🇸",importance:3,event:"Federal Reserve Interest Rate Decision",actual:"5.50%",forecast:"5.50%",previous:"5.50%",betterThanForecast:!1},{id:2,time:"2024-01-15T13:00:00Z",currency:"EUR",flag:"🇪🇺",importance:2,event:"ECB President Lagarde Speech",actual:void 0,forecast:void 0,previous:void 0,betterThanForecast:void 0},{id:3,time:"2024-01-15T12:30:00Z",currency:"GBP",flag:"🇬🇧",importance:1,event:"UK CPI (YoY)",actual:"3.9%",forecast:"4.0%",previous:"4.2%",betterThanForecast:!0}]),i(!1)},1e3)},[]);const s=c=>{switch(c){case 3:return"bg-red-500";case 2:return"bg-yellow-500";case 1:return"bg-green-500";default:return"bg-gray-500"}},o=c=>new Date(c).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return r?f.jsxs("div",{className:"flex-1 flex flex-col gap-6 p-4 sm:p-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})})]}):f.jsxs("div",{className:"flex-1 flex flex-col gap-6 p-4 sm:p-6",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kw,{className:"w-5 h-5 text-violet-600"}),f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Today's Events"})]})}),f.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(c=>f.jsx("div",{className:"p-6 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:c.flag}),f.jsx("div",{className:`w-3 h-3 rounded-full ${s(c.importance)}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:c.event}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[c.currency," • ",o(c.time)]})]})]}),c.actual&&f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Actual:"}),f.jsx("span",{className:`font-semibold ${c.betterThanForecast===!0?"text-green-600 dark:text-green-400":c.betterThanForecast===!1?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:c.actual})]}),c.forecast&&f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["Forecast: ",c.forecast]})]})]})},c.id))})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Legend"}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"High Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Medium Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Low Impact"})]})]})]})]})},i3=({user:e,sidebarOpen:n,setSidebarOpen:r})=>{var c,d;const i=Qn(),s=[{name:"Dashboard",href:"/dashboard",icon:ly},{name:"Trading Analysis",href:"/trading",icon:zl},{name:"Portfolio",href:"/portfolio",icon:Gw},{name:"Community",href:"/community",icon:$d},{name:"Economic Calendar",href:"/economic-calendar",icon:Qw},{name:"Settings",href:"/settings",icon:sy}],o=p=>i.pathname===p;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 z-40 bg-black bg-opacity-40 transition-opacity duration-300 ${n?"block":"hidden"}`,onClick:()=>r(!1)}),f.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} lg:hidden`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs(ai,{to:"/",className:"flex items-center",onClick:()=>r(!1),children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]}),f.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 dark:text-slate-300 hover:text-violet-600 p-2 ml-2",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(p=>{const m=p.icon;return f.jsxs(ai,{to:p.href,onClick:()=>r(!1),className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(p.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(m,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(p.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),p.name]},p.name)})}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((c=e.email)==null?void 0:c.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]}),f.jsxs("div",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:z-50 lg:bg-white lg:border-r lg:border-slate-200 dark:lg:bg-slate-900 dark:lg:border-slate-700",children:[f.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto",children:[f.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:f.jsxs(ai,{to:"/",className:"flex items-center",children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]})}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(p=>{const m=p.icon;return f.jsxs(ai,{to:p.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(p.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(m,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(p.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),p.name]},p.name)})})]}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((d=e.email)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]})]})},Gx=({user:e,onNavigate:n,onLogoutClick:r})=>{const[i,s]=R.useState(!1),o=R.useRef(null);return R.useEffect(()=>{const c=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),e?f.jsxs("div",{className:"relative",ref:o,children:[f.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[f.jsx(Yw,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:f.jsxs("div",{className:"py-1",role:"none",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:e.email})]}),f.jsxs("button",{onClick:()=>{n("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(sy,{className:"w-5 h-5"}),f.jsx("span",{children:"Profile & Settings"})]}),f.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(eS,{className:"w-5 h-5"}),f.jsx("span",{children:"Logout"})]})]})})]}):null},l3=({onNavigate:e,user:n,onLoginClick:r,onLogoutClick:i,onMobileMenuToggle:s,showUserIcon:o,activeMode:c})=>f.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&f.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:f.jsx(nS,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2",children:[f.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),f.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),f.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[c!=="dashboard"&&f.jsx("button",{onClick:()=>e("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),n?f.jsx(f.Fragment,{children:o&&f.jsx(Gx,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),f.jsx("div",{className:"lg:hidden flex items-center gap-2",children:n?f.jsx(f.Fragment,{children:o&&f.jsx(Gx,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})});function s3(){const[e,n]=R.useState(null),[r,i]=R.useState(null),[s,o]=R.useState(!1),[c,d]=R.useState(!0),[p,m]=R.useState([]),[x,y]=R.useState(0),[b,v]=R.useState(""),[S,j]=R.useState("idle"),[N,E]=R.useState({prompt:0,completion:0,total:0}),[C,D]=R.useState("all"),[P,T]=R.useState(!1),L=pf(),W=ne=>{ne==="home"?L("/"):ne==="dashboard"?L("/dashboard"):ne==="portfolio"?L("/portfolio"):ne==="community"?L("/community"):ne==="settings"?L("/settings"):ne==="economic-calendar"?L("/economic-calendar"):ne==="trading"&&L("/trading")};R.useEffect(()=>{const ne=Pe;if(n(ne),ne){(async()=>{try{const{data:{session:ie}}=await ne.auth.getSession();i((ie==null?void 0:ie.user)??null)}catch(ie){console.error("Error getting initial session:",ie)}finally{d(!1)}})();const Y=A4(ne,async ie=>{i((ie==null?void 0:ie.user)??null),ie!=null&&ie.user||o(!1)});return()=>Y==null?void 0:Y.unsubscribe()}},[]),R.useEffect(()=>{r&&e?(N4(e,r.id).then(ne=>{const k=(ne||[]).filter(Y=>Y&&Y.id&&Y.tradeSetup&&Y.marketTrend&&Y.keyPattern&&Y.indicatorAnalysis&&Y.tradeBias&&typeof Y.confidenceScore=="number");m(k)}),qb(e,r.id).then(ne=>{y((ne==null?void 0:ne.initial_trade)||0)}),U4(e).then(ne=>{ne!=null&&ne.gemini_api_key&&(v(ne.gemini_api_key),j("valid"))})):(m([]),y(0))},[r,e]);const te=()=>{o(!0)},se=()=>{o(!1)},U=ne=>{E(ne)},V=async ne=>{if(e&&r)try{await P4(e,ne),v(ne),j("valid")}catch(k){console.error("Error updating API key:",k),j("invalid")}},K=async ne=>{try{await R4(ne),m(k=>k.filter(Y=>Y.id!==ne))}catch(k){alert("Gagal menghapus trade: "+(k.message||k))}},le=p.filter(ne=>C==="all"?!0:ne.mode===C).filter(ne=>ne.status!=="pending").reduce((ne,k)=>k.status==="profit"?ne+(k.outcomeAmount||0):k.status==="stop-loss"?ne-(k.outcomeAmount||0):ne,0),re=(x??0)+le,I=()=>{E4(e),i(null),v(""),j("idle"),E({prompt:0,completion:0,total:0}),D("all"),L("/")},$=!!r,ae=C;return c?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Loading..."})]})}):(console.log("App user",r,"allTrades",p,"initialCapital",x),f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[f.jsx(l3,{onNavigate:W,user:r,onLoginClick:te,onLogoutClick:I,onMobileMenuToggle:()=>T(!0),showUserIcon:$,activeMode:ae}),r&&f.jsx(i3,{user:r,sidebarOpen:P,setSidebarOpen:T}),f.jsx("div",{className:r?"lg:pl-64":"",children:f.jsxs(lw,{children:[f.jsx(wr,{path:"/",element:r?f.jsx(Vr,{to:"/dashboard",replace:!0}):f.jsx(kC,{user:r,onLoginClick:te})}),f.jsx(wr,{path:"/dashboard",element:r?f.jsx(gC,{user:r,allTrades:p,initialCapital:x,apiKey:b,apiStatus:S,updateTokenUsage:U,mode:C,setDashboardSource:D}):f.jsx(Vr,{to:"/",replace:!0})}),f.jsx(wr,{path:"/trading",element:r?f.jsx(X4,{user:r,apiKey:b,apiStatus:S,updateTokenUsage:U,onTradeAdded:ne=>m(k=>[ne,...k]),onTradeDeleted:K,tradeHistory:p,currentEquity:re}):f.jsx(Vr,{to:"/",replace:!0})}),f.jsx(wr,{path:"/settings",element:r?f.jsx(J4,{user:r,apiKey:b,apiStatus:S,onApiKeyUpdate:V}):f.jsx(Vr,{to:"/",replace:!0})}),f.jsx(wr,{path:"/portfolio",element:r?f.jsx(n3,{user:r,apiKey:b,apiStatus:S,updateTokenUsage:U,portfolioData:null,userId:r.id}):f.jsx(Vr,{to:"/",replace:!0})}),f.jsx(wr,{path:"/community",element:r?f.jsx(r3,{user:r}):f.jsx(Vr,{to:"/",replace:!0})}),f.jsx(wr,{path:"/economic-calendar",element:r?f.jsx(a3,{}):f.jsx(Vr,{to:"/",replace:!0})})]})}),e&&f.jsx(H4,{supabaseClient:e,open:s,onClose:se})]}))}const Gb=document.getElementById("root");if(!Gb)throw new Error("Could not find root element to mount to");const o3=pk.createRoot(Gb);o3.render(f.jsx(Zr.StrictMode,{children:f.jsx(Tw,{children:f.jsx(s3,{})})}));
//# sourceMappingURL=index-CPoxVvBm.js.map
