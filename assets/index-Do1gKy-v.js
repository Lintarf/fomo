(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Fl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var r=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var id={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function ow(){if(Bp)return gl;Bp=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:o}}return gl.Fragment=n,gl.jsx=r,gl.jsxs=r,gl}var Ip;function uw(){return Ip||(Ip=1,id.exports=ow()),id.exports}var f=uw(),ld={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function cw(){if(qp)return Ae;qp=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function j(S,X,$){this.props=S,this.context=X,this.refs=E,this.updater=$||b}j.prototype.isReactComponent={},j.prototype.setState=function(S,X){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,X,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function k(){}k.prototype=j.prototype;function C(S,X,$){this.props=S,this.context=X,this.refs=E,this.updater=$||b}var T=C.prototype=new k;T.constructor=C,w(T,j.prototype),T.isPureReactComponent=!0;var N=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function F(S,X,$,A,ae,de){return $=de.ref,{$$typeof:e,type:S,key:X,ref:$!==void 0?$:null,props:de}}function V(S,X){return F(S.type,X,void 0,void 0,void 0,S.props)}function ee(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function z(S){var X={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return X[$]})}var q=/\/+/g;function K(S,X){return typeof S=="object"&&S!==null&&S.key!=null?z(""+S.key):X.toString(36)}function Z(){}function re(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Z,Z):(S.status="pending",S.then(function(X){S.status==="pending"&&(S.status="fulfilled",S.value=X)},function(X){S.status==="pending"&&(S.status="rejected",S.reason=X)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ce(S,X,$,A,ae){var de=typeof S;(de==="undefined"||de==="boolean")&&(S=null);var P=!1;if(S===null)P=!0;else switch(de){case"bigint":case"string":case"number":P=!0;break;case"object":switch(S.$$typeof){case e:case n:P=!0;break;case g:return P=S._init,ce(P(S._payload),X,$,A,ae)}}if(P)return ae=ae(S),P=A===""?"."+K(S,0):A,N(ae)?($="",P!=null&&($=P.replace(q,"$&/")+"/"),ce(ae,X,$,"",function(pe){return pe})):ae!=null&&(ee(ae)&&(ae=V(ae,$+(ae.key==null||S&&S.key===ae.key?"":(""+ae.key).replace(q,"$&/")+"/")+P)),X.push(ae)),1;P=0;var oe=A===""?".":A+":";if(N(S))for(var ue=0;ue<S.length;ue++)A=S[ue],de=oe+K(A,ue),P+=ce(A,X,$,de,ae);else if(ue=v(S),typeof ue=="function")for(S=ue.call(S),ue=0;!(A=S.next()).done;)A=A.value,de=oe+K(A,ue++),P+=ce(A,X,$,de,ae);else if(de==="object"){if(typeof S.then=="function")return ce(re(S),X,$,A,ae);throw X=String(S),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return P}function B(S,X,$){if(S==null)return S;var A=[],ae=0;return ce(S,A,"","",function(de){return X.call($,de,ae++)}),A}function I(S){if(S._status===-1){var X=S._result;X=X(),X.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=X)}if(S._status===1)return S._result.default;throw S._result}var le=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function W(){}return Ae.Children={map:B,forEach:function(S,X,$){B(S,function(){X.apply(this,arguments)},$)},count:function(S){var X=0;return B(S,function(){X++}),X},toArray:function(S){return B(S,function(X){return X})||[]},only:function(S){if(!ee(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ae.Component=j,Ae.Fragment=r,Ae.Profiler=s,Ae.PureComponent=C,Ae.StrictMode=i,Ae.Suspense=h,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return O.H.useMemoCache(S)}},Ae.cache=function(S){return function(){return S.apply(null,arguments)}},Ae.cloneElement=function(S,X,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var A=w({},S.props),ae=S.key,de=void 0;if(X!=null)for(P in X.ref!==void 0&&(de=void 0),X.key!==void 0&&(ae=""+X.key),X)!D.call(X,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&X.ref===void 0||(A[P]=X[P]);var P=arguments.length-2;if(P===1)A.children=$;else if(1<P){for(var oe=Array(P),ue=0;ue<P;ue++)oe[ue]=arguments[ue+2];A.children=oe}return F(S.type,ae,void 0,void 0,de,A)},Ae.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Ae.createElement=function(S,X,$){var A,ae={},de=null;if(X!=null)for(A in X.key!==void 0&&(de=""+X.key),X)D.call(X,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(ae[A]=X[A]);var P=arguments.length-2;if(P===1)ae.children=$;else if(1<P){for(var oe=Array(P),ue=0;ue<P;ue++)oe[ue]=arguments[ue+2];ae.children=oe}if(S&&S.defaultProps)for(A in P=S.defaultProps,P)ae[A]===void 0&&(ae[A]=P[A]);return F(S,de,void 0,void 0,null,ae)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(S){return{$$typeof:d,render:S}},Ae.isValidElement=ee,Ae.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:I}},Ae.memo=function(S,X){return{$$typeof:m,type:S,compare:X===void 0?null:X}},Ae.startTransition=function(S){var X=O.T,$={};O.T=$;try{var A=S(),ae=O.S;ae!==null&&ae($,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(W,le)}catch(de){le(de)}finally{O.T=X}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(S){return O.H.use(S)},Ae.useActionState=function(S,X,$){return O.H.useActionState(S,X,$)},Ae.useCallback=function(S,X){return O.H.useCallback(S,X)},Ae.useContext=function(S){return O.H.useContext(S)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(S,X){return O.H.useDeferredValue(S,X)},Ae.useEffect=function(S,X,$){var A=O.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(S,X)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(S,X,$){return O.H.useImperativeHandle(S,X,$)},Ae.useInsertionEffect=function(S,X){return O.H.useInsertionEffect(S,X)},Ae.useLayoutEffect=function(S,X){return O.H.useLayoutEffect(S,X)},Ae.useMemo=function(S,X){return O.H.useMemo(S,X)},Ae.useOptimistic=function(S,X){return O.H.useOptimistic(S,X)},Ae.useReducer=function(S,X,$){return O.H.useReducer(S,X,$)},Ae.useRef=function(S){return O.H.useRef(S)},Ae.useState=function(S){return O.H.useState(S)},Ae.useSyncExternalStore=function(S,X,$){return O.H.useSyncExternalStore(S,X,$)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.1.0",Ae}var Hp;function Po(){return Hp||(Hp=1,ld.exports=cw()),ld.exports}var M=Po();const na=Fl(M);var sd={exports:{}},yl={},od={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function dw(){return $p||($p=1,function(e){function n(B,I){var le=B.length;B.push(I);e:for(;0<le;){var W=le-1>>>1,S=B[W];if(0<s(S,I))B[W]=I,B[le]=S,le=W;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var I=B[0],le=B.pop();if(le!==I){B[0]=le;e:for(var W=0,S=B.length,X=S>>>1;W<X;){var $=2*(W+1)-1,A=B[$],ae=$+1,de=B[ae];if(0>s(A,le))ae<S&&0>s(de,A)?(B[W]=de,B[ae]=le,W=ae):(B[W]=A,B[$]=le,W=$);else if(ae<S&&0>s(de,le))B[W]=de,B[ae]=le,W=ae;else break e}}return I}function s(B,I){var le=B.sortIndex-I.sortIndex;return le!==0?le:B.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,v=3,b=!1,w=!1,E=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var I=r(m);I!==null;){if(I.callback===null)i(m);else if(I.startTime<=B)i(m),I.sortIndex=I.expirationTime,n(h,I);else break;I=r(m)}}function O(B){if(E=!1,N(B),!w)if(r(h)!==null)w=!0,D||(D=!0,K());else{var I=r(m);I!==null&&ce(O,I.startTime-B)}}var D=!1,F=-1,V=5,ee=-1;function z(){return j?!0:!(e.unstable_now()-ee<V)}function q(){if(j=!1,D){var B=e.unstable_now();ee=B;var I=!0;try{e:{w=!1,E&&(E=!1,C(F),F=-1),b=!0;var le=v;try{t:{for(N(B),y=r(h);y!==null&&!(y.expirationTime>B&&z());){var W=y.callback;if(typeof W=="function"){y.callback=null,v=y.priorityLevel;var S=W(y.expirationTime<=B);if(B=e.unstable_now(),typeof S=="function"){y.callback=S,N(B),I=!0;break t}y===r(h)&&i(h),N(B)}else i(h);y=r(h)}if(y!==null)I=!0;else{var X=r(m);X!==null&&ce(O,X.startTime-B),I=!1}}break e}finally{y=null,v=le,b=!1}I=void 0}}finally{I?K():D=!1}}}var K;if(typeof T=="function")K=function(){T(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,re=Z.port2;Z.port1.onmessage=q,K=function(){re.postMessage(null)}}else K=function(){k(q,0)};function ce(B,I){F=k(function(){B(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var le=v;v=I;try{return B()}finally{v=le}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=v;v=B;try{return I()}finally{v=le}},e.unstable_scheduleCallback=function(B,I,le){var W=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,B){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=le+S,B={id:g++,callback:I,priorityLevel:B,startTime:le,expirationTime:S,sortIndex:-1},le>W?(B.sortIndex=le,n(m,B),r(h)===null&&B===r(m)&&(E?(C(F),F=-1):E=!0,ce(O,le-W))):(B.sortIndex=S,n(h,B),w||b||(w=!0,D||(D=!0,K()))),B},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(B){var I=v;return function(){var le=v;v=I;try{return B.apply(this,arguments)}finally{v=le}}}}(ud)),ud}var Fp;function fw(){return Fp||(Fp=1,od.exports=dw()),od.exports}var cd={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function hw(){if(Gp)return Et;Gp=1;var e=Po();function n(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Et.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return o(h,m,null,g)},Et.flushSync=function(h){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=g,i.d.f()}},Et.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},Et.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Et.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},Et.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},Et.requestFormReset=function(h){i.d.r(h)},Et.unstable_batchedUpdates=function(h,m){return h(m)},Et.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},Et.useFormStatus=function(){return u.H.useHostTransitionStatus()},Et.version="19.1.0",Et}var Yp;function mw(){if(Yp)return cd.exports;Yp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),cd.exports=hw(),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function pw(){if(Vp)return yl;Vp=1;var e=fw(),n=Po(),r=mw();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function u(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function d(t){if(o(t)!==t)throw Error(i(188))}function h(t){var a=t.alternate;if(!a){if(a=o(t),a===null)throw Error(i(188));return a!==t?null:t}for(var l=t,c=a;;){var p=l.return;if(p===null)break;var x=p.alternate;if(x===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===l)return d(p),t;if(x===c)return d(p),a;x=x.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=x;else{for(var _=!1,R=p.child;R;){if(R===l){_=!0,l=p,c=x;break}if(R===c){_=!0,c=p,l=x;break}R=R.sibling}if(!_){for(R=x.child;R;){if(R===l){_=!0,l=x,c=p;break}if(R===c){_=!0,c=x,l=p;break}R=R.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:a}function m(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=m(t),a!==null)return a;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case T:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case N:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return a=t.displayName||null,a!==null?a:re(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return re(t(a))}catch{}}return null}var ce=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},W=[],S=-1;function X(t){return{current:t}}function $(t){0>S||(t.current=W[S],W[S]=null,S--)}function A(t,a){S++,W[S]=t.current,t.current=a}var ae=X(null),de=X(null),P=X(null),oe=X(null);function ue(t,a){switch(A(P,a),A(de,t),A(ae,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?hp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=hp(a),t=mp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),A(ae,t)}function pe(){$(ae),$(de),$(P)}function ye(t){t.memoizedState!==null&&A(oe,t);var a=ae.current,l=mp(a,t.type);a!==l&&(A(de,t),A(ae,l))}function xe(t){de.current===t&&($(ae),$(de)),oe.current===t&&($(oe),dl._currentValue=le)}var be=Object.prototype.hasOwnProperty,me=e.unstable_scheduleCallback,Ce=e.unstable_cancelCallback,en=e.unstable_shouldYield,St=e.unstable_requestPaint,nt=e.unstable_now,Dr=e.unstable_getCurrentPriorityLevel,Dt=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,sa=e.unstable_NormalPriority,Go=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,Yo=e.log,Vo=e.unstable_setDisableYieldValue,te=null,fe=null;function we(t){if(typeof Yo=="function"&&Vo(t),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(te,t)}catch{}}var je=Math.clz32?Math.clz32:Rn,He=Math.log,$t=Math.LN2;function Rn(t){return t>>>=0,t===0?32:31-(He(t)/$t|0)|0}var Mt=256,kn=4194304;function Ft(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ht(t,a,l){var c=t.pendingLanes;if(c===0)return 0;var p=0,x=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var R=c&134217727;return R!==0?(c=R&~x,c!==0?p=Ft(c):(_&=R,_!==0?p=Ft(_):l||(l=R&~t,l!==0&&(p=Ft(l))))):(R=c&~x,R!==0?p=Ft(R):_!==0?p=Ft(_):l||(l=c&~t,l!==0&&(p=Ft(l)))),p===0?0:a!==0&&a!==p&&(a&x)===0&&(x=p&-p,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:p}function tn(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function hn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xf(){var t=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),t}function Jf(){var t=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),t}function Ko(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function wi(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qv(t,a,l,c,p,x){var _=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var R=t.entanglements,L=t.expirationTimes,Y=t.hiddenUpdates;for(l=_&~l;0<l;){var ne=31-je(l),se=1<<ne;R[ne]=0,L[ne]=-1;var Q=Y[ne];if(Q!==null)for(Y[ne]=null,ne=0;ne<Q.length;ne++){var J=Q[ne];J!==null&&(J.lane&=-536870913)}l&=~se}c!==0&&Wf(t,c,0),x!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=x&~(_&~a))}function Wf(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var c=31-je(a);t.entangledLanes|=a,t.entanglements[c]=t.entanglements[c]|1073741824|l&4194090}function Zf(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var c=31-je(l),p=1<<c;p&a|t[c]&a&&(t[c]|=a),l&=~p}}function Qo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eh(){var t=I.p;return t!==0?t:(t=window.event,t===void 0?32:Dp(t.type))}function Xv(t,a){var l=I.p;try{return I.p=t,a()}finally{I.p=l}}var Zn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Zn,Lt="__reactProps$"+Zn,oa="__reactContainer$"+Zn,Jo="__reactEvents$"+Zn,Jv="__reactListeners$"+Zn,Wv="__reactHandles$"+Zn,th="__reactResources$"+Zn,ki="__reactMarker$"+Zn;function Wo(t){delete t[_t],delete t[Lt],delete t[Jo],delete t[Jv],delete t[Wv]}function ua(t){var a=t[_t];if(a)return a;for(var l=t.parentNode;l;){if(a=l[oa]||l[_t]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=xp(t);t!==null;){if(l=t[_t])return l;t=xp(t)}return a}t=l,l=t.parentNode}return null}function ca(t){if(t=t[_t]||t[oa]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Si(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function da(t){var a=t[th];return a||(a=t[th]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function mt(t){t[ki]=!0}var nh=new Set,rh={};function Mr(t,a){fa(t,a),fa(t+"Capture",a)}function fa(t,a){for(rh[t]=a,t=0;t<a.length;t++)nh.add(a[t])}var Zv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},ih={};function eb(t){return be.call(ih,t)?!0:be.call(ah,t)?!1:Zv.test(t)?ih[t]=!0:(ah[t]=!0,!1)}function es(t,a,l){if(eb(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function ts(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function On(t,a,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+c)}}var Zo,lh;function ha(t){if(Zo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Zo=a&&a[1]||"",lh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zo+t+lh}var eu=!1;function tu(t,a){if(!t||eu)return"";eu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Q=J}Reflect.construct(t,[],se)}else{try{se.call()}catch(J){Q=J}t.call(se.prototype)}}else{try{throw Error()}catch(J){Q=J}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),_=x[0],R=x[1];if(_&&R){var L=_.split(`
`),Y=R.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===Y.length)for(c=L.length-1,p=Y.length-1;1<=c&&0<=p&&L[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==Y[p]){var ne=`
`+L[c].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=c&&0<=p);break}}}finally{eu=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?ha(l):""}function tb(t){switch(t.tag){case 26:case 27:case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return tu(t.type,!1);case 11:return tu(t.type.render,!1);case 1:return tu(t.type,!0);case 31:return ha("Activity");default:return""}}function sh(t){try{var a="";do a+=tb(t),t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oh(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nb(t){var a=oh(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),c=""+t[a];if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,x=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return p.call(this)},set:function(_){c=""+_,x.call(this,_)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ns(t){t._valueTracker||(t._valueTracker=nb(t))}function uh(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return t&&(c=oh(t)?t.checked?"true":"false":t.value),t=c,t!==l?(a.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rb=/[\n"\\]/g;function rn(t){return t.replace(rb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function nu(t,a,l,c,p,x,_,R){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),a!=null?_==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+nn(a)):t.value!==""+nn(a)&&(t.value=""+nn(a)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),a!=null?ru(t,_,nn(a)):l!=null?ru(t,_,nn(l)):c!=null&&t.removeAttribute("value"),p==null&&x!=null&&(t.defaultChecked=!!x),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+nn(R):t.removeAttribute("name")}function ch(t,a,l,c,p,x,_,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+nn(l):"",a=a!=null?""+nn(a):l,R||a===t.value||(t.value=a),t.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=R?t.checked:!!c,t.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ru(t,a,l){a==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ma(t,a,l,c){if(t=t.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<t.length;l++)p=a.hasOwnProperty("$"+t[l].value),t[l].selected!==p&&(t[l].selected=p),p&&c&&(t[l].defaultSelected=!0)}else{for(l=""+nn(l),a=null,p=0;p<t.length;p++){if(t[p].value===l){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}a!==null||t[p].disabled||(a=t[p])}a!==null&&(a.selected=!0)}}function dh(t,a,l){if(a!=null&&(a=""+nn(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+nn(l):""}function fh(t,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=nn(a),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c)}function pa(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var ab=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(t,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":c?t.setProperty(a,l):typeof l!="number"||l===0||ab.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function mh(t,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&hh(t,p,c)}else for(var x in a)a.hasOwnProperty(x)&&hh(t,x,a[x])}function au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(t){return lb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var iu=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,ya=null;function ph(t){var a=ca(t);if(a&&(t=a.stateNode)){var l=t[Lt]||null;e:switch(t=a.stateNode,a.type){case"input":if(nu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==t&&c.form===t.form){var p=c[Lt]||null;if(!p)throw Error(i(90));nu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===t.form&&uh(c)}break e;case"textarea":dh(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ma(t,!!l.multiple,a,!1)}}}var su=!1;function gh(t,a,l){if(su)return t(a,l);su=!0;try{var c=t(a);return c}finally{if(su=!1,(ga!==null||ya!==null)&&($s(),ga&&(a=ga,t=ya,ya=ga=null,ph(a),t)))for(a=0;a<t.length;a++)ph(t[a])}}function _i(t,a){var l=t.stateNode;if(l===null)return null;var c=l[Lt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(Dn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){ou=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{ou=!1}var er=null,uu=null,is=null;function yh(){if(is)return is;var t,a=uu,l=a.length,c,p="value"in er?er.value:er.textContent,x=p.length;for(t=0;t<l&&a[t]===p[t];t++);var _=l-t;for(c=1;c<=_&&a[l-c]===p[x-c];c++);return is=p.slice(t,1<c?1-c:void 0)}function ls(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function xh(){return!1}function Pt(t){function a(l,c,p,x,_){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(l=t[R],this[R]=l?l(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ss:xh,this.isPropagationStopped=xh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),a}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Pt(Lr),Ei=g({},Lr,{view:0,detail:0}),sb=Pt(Ei),cu,du,Ti,us=g({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(cu=t.screenX-Ti.screenX,du=t.screenY-Ti.screenY):du=cu=0,Ti=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:du}}),vh=Pt(us),ob=g({},us,{dataTransfer:0}),ub=Pt(ob),cb=g({},Ei,{relatedTarget:0}),fu=Pt(cb),db=g({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=Pt(db),hb=g({},Lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mb=Pt(hb),pb=g({},Lr,{data:0}),bh=Pt(pb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=xb[t])?!!a[t]:!1}function hu(){return vb}var bb=g({},Ei,{key:function(t){if(t.key){var a=gb[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hu,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wb=Pt(bb),kb=g({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=Pt(kb),Sb=g({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hu}),_b=Pt(Sb),jb=g({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=Pt(jb),Tb=g({},us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Pt(Tb),Nb=g({},Lr,{newState:0,oldState:0}),Cb=Pt(Nb),Rb=[9,13,27,32],mu=Dn&&"CompositionEvent"in window,Ai=null;Dn&&"documentMode"in document&&(Ai=document.documentMode);var Ob=Dn&&"TextEvent"in window&&!Ai,kh=Dn&&(!mu||Ai&&8<Ai&&11>=Ai),Sh=" ",_h=!1;function jh(t,a){switch(t){case"keyup":return Rb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function Db(t,a){switch(t){case"compositionend":return Eh(a);case"keypress":return a.which!==32?null:(_h=!0,Sh);case"textInput":return t=a.data,t===Sh&&_h?null:t;default:return null}}function Mb(t,a){if(xa)return t==="compositionend"||!mu&&jh(t,a)?(t=yh(),is=uu=er=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return kh&&a.locale!=="ko"?null:a.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Lb[t.type]:a==="textarea"}function Ah(t,a,l,c){ga?ya?ya.push(c):ya=[c]:ga=c,a=Qs(a,"onChange"),0<a.length&&(l=new os("onChange","change",null,l,c),t.push({event:l,listeners:a}))}var Ni=null,Ci=null;function Pb(t){op(t,0)}function cs(t){var a=Si(t);if(uh(a))return t}function Nh(t,a){if(t==="change")return a}var Ch=!1;if(Dn){var pu;if(Dn){var gu="oninput"in document;if(!gu){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),gu=typeof Rh.oninput=="function"}pu=gu}else pu=!1;Ch=pu&&(!document.documentMode||9<document.documentMode)}function Oh(){Ni&&(Ni.detachEvent("onpropertychange",Dh),Ci=Ni=null)}function Dh(t){if(t.propertyName==="value"&&cs(Ci)){var a=[];Ah(a,Ci,t,lu(t)),gh(Pb,a)}}function zb(t,a,l){t==="focusin"?(Oh(),Ni=a,Ci=l,Ni.attachEvent("onpropertychange",Dh)):t==="focusout"&&Oh()}function Ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cs(Ci)}function Bb(t,a){if(t==="click")return cs(a)}function Ib(t,a){if(t==="input"||t==="change")return cs(a)}function qb(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Gt=typeof Object.is=="function"?Object.is:qb;function Ri(t,a){if(Gt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!be.call(a,p)||!Gt(t[p],a[p]))return!1}return!0}function Mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,a){var l=Mh(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=a&&c>=a)return{node:l,offset:a-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mh(l)}}function Ph(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Ph(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function zh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=rs(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=rs(t.document)}return a}function yu(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Hb=Dn&&"documentMode"in document&&11>=document.documentMode,va=null,xu=null,Oi=null,vu=!1;function Uh(t,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vu||va==null||va!==rs(c)||(c=va,"selectionStart"in c&&yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oi&&Ri(Oi,c)||(Oi=c,c=Qs(xu,"onSelect"),0<c.length&&(a=new os("onSelect","select",null,a,l),t.push({event:a,listeners:c}),a.target=va)))}function Pr(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var ba={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},bu={},Bh={};Dn&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function zr(t){if(bu[t])return bu[t];if(!ba[t])return t;var a=ba[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Bh)return bu[t]=a[l];return t}var Ih=zr("animationend"),qh=zr("animationiteration"),Hh=zr("animationstart"),$b=zr("transitionrun"),Fb=zr("transitionstart"),Gb=zr("transitioncancel"),$h=zr("transitionend"),Fh=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function mn(t,a){Fh.set(t,a),Mr(a,[t])}var Gh=new WeakMap;function an(t,a){if(typeof t=="object"&&t!==null){var l=Gh.get(t);return l!==void 0?l:(a={value:t,source:a,stack:sh(a)},Gh.set(t,a),a)}return{value:t,source:a,stack:sh(a)}}var ln=[],wa=0,ku=0;function ds(){for(var t=wa,a=ku=wa=0;a<t;){var l=ln[a];ln[a++]=null;var c=ln[a];ln[a++]=null;var p=ln[a];ln[a++]=null;var x=ln[a];if(ln[a++]=null,c!==null&&p!==null){var _=c.pending;_===null?p.next=p:(p.next=_.next,_.next=p),c.pending=p}x!==0&&Yh(l,p,x)}}function fs(t,a,l,c){ln[wa++]=t,ln[wa++]=a,ln[wa++]=l,ln[wa++]=c,ku|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Su(t,a,l,c){return fs(t,a,l,c),hs(t)}function ka(t,a){return fs(t,null,null,a),hs(t)}function Yh(t,a,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var p=!1,x=t.return;x!==null;)x.childLanes|=l,c=x.alternate,c!==null&&(c.childLanes|=l),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(p=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,p&&a!==null&&(p=31-je(l),t=x.hiddenUpdates,c=t[p],c===null?t[p]=[a]:c.push(a),a.lane=l|536870912),x):null}function hs(t){if(50<rl)throw rl=0,Nc=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Sa={};function Yb(t,a,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,a,l,c){return new Yb(t,a,l,c)}function _u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mn(t,a){var l=t.alternate;return l===null?(l=Yt(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Vh(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function ms(t,a,l,c,p,x){var _=0;if(c=t,typeof t=="function")_u(t)&&(_=1);else if(typeof t=="string")_=K1(t,l,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=Yt(31,l,a,p),t.elementType=ee,t.lanes=x,t;case w:return Ur(l.children,p,x,a);case E:_=8,p|=24;break;case j:return t=Yt(12,l,a,p|2),t.elementType=j,t.lanes=x,t;case O:return t=Yt(13,l,a,p),t.elementType=O,t.lanes=x,t;case D:return t=Yt(19,l,a,p),t.elementType=D,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case T:_=10;break e;case C:_=9;break e;case N:_=11;break e;case F:_=14;break e;case V:_=16,c=null;break e}_=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return a=Yt(_,l,a,p),a.elementType=t,a.type=c,a.lanes=x,a}function Ur(t,a,l,c){return t=Yt(7,t,c,a),t.lanes=l,t}function ju(t,a,l){return t=Yt(6,t,null,a),t.lanes=l,t}function Eu(t,a,l){return a=Yt(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var _a=[],ja=0,ps=null,gs=0,sn=[],on=0,Br=null,Ln=1,Pn="";function Ir(t,a){_a[ja++]=gs,_a[ja++]=ps,ps=t,gs=a}function Kh(t,a,l){sn[on++]=Ln,sn[on++]=Pn,sn[on++]=Br,Br=t;var c=Ln;t=Pn;var p=32-je(c)-1;c&=~(1<<p),l+=1;var x=32-je(a)+p;if(30<x){var _=p-p%5;x=(c&(1<<_)-1).toString(32),c>>=_,p-=_,Ln=1<<32-je(a)+p|l<<p|c,Pn=x+t}else Ln=1<<x|l<<p|c,Pn=t}function Tu(t){t.return!==null&&(Ir(t,1),Kh(t,1,0))}function Au(t){for(;t===ps;)ps=_a[--ja],_a[ja]=null,gs=_a[--ja],_a[ja]=null;for(;t===Br;)Br=sn[--on],sn[on]=null,Pn=sn[--on],sn[on]=null,Ln=sn[--on],sn[on]=null}var Rt=null,rt=null,Ie=!1,qr=null,Sn=!1,Nu=Error(i(519));function Hr(t){var a=Error(i(418,""));throw Li(an(a,t)),Nu}function Qh(t){var a=t.stateNode,l=t.type,c=t.memoizedProps;switch(a[_t]=t,a[Lt]=c,l){case"dialog":Me("cancel",a),Me("close",a);break;case"iframe":case"object":case"embed":Me("load",a);break;case"video":case"audio":for(l=0;l<il.length;l++)Me(il[l],a);break;case"source":Me("error",a);break;case"img":case"image":case"link":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"input":Me("invalid",a),ch(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ns(a);break;case"select":Me("invalid",a);break;case"textarea":Me("invalid",a),fh(a,c.value,c.defaultValue,c.children),ns(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||fp(a.textContent,l)?(c.popover!=null&&(Me("beforetoggle",a),Me("toggle",a)),c.onScroll!=null&&Me("scroll",a),c.onScrollEnd!=null&&Me("scrollend",a),c.onClick!=null&&(a.onclick=Xs),a=!0):a=!1,a||Hr(t)}function Xh(t){for(Rt=t.return;Rt;)switch(Rt.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Rt=Rt.return}}function Di(t){if(t!==Rt)return!1;if(!Ie)return Xh(t),Ie=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Gc(t.type,t.memoizedProps)),l=!l),l&&rt&&Hr(t),Xh(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(a===0){rt=gn(t.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;t=t.nextSibling}rt=null}}else a===27?(a=rt,gr(t.type)?(t=Qc,Qc=null,rt=t):rt=a):rt=Rt?gn(t.stateNode.nextSibling):null;return!0}function Mi(){rt=Rt=null,Ie=!1}function Jh(){var t=qr;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),qr=null),t}function Li(t){qr===null?qr=[t]:qr.push(t)}var Cu=X(null),$r=null,zn=null;function tr(t,a,l){A(Cu,a._currentValue),a._currentValue=l}function Un(t){t._currentValue=Cu.current,$(Cu)}function Ru(t,a,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),t===l)break;t=t.return}}function Ou(t,a,l,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var x=p.dependencies;if(x!==null){var _=p.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=p;for(var L=0;L<a.length;L++)if(R.context===a[L]){x.lanes|=l,R=x.alternate,R!==null&&(R.lanes|=l),Ru(x.return,l,t),c||(_=null);break e}x=R.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),Ru(_,l,t),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===t){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Pi(t,a,l,c){t=null;for(var p=a,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var R=p.type;Gt(p.pendingProps.value,_.value)||(t!==null?t.push(R):t=[R])}}else if(p===oe.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}p=p.return}t!==null&&Ou(a,t,l,c),a.flags|=262144}function ys(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){$r=t,zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return Wh($r,t)}function xs(t,a){return $r===null&&Fr(t),Wh(t,a)}function Wh(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},zn===null){if(t===null)throw Error(i(308));zn=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else zn=zn.next=a;return l}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},Kb=e.unstable_scheduleCallback,Qb=e.unstable_NormalPriority,dt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new Vb,data:new Map,refCount:0}}function zi(t){t.refCount--,t.refCount===0&&Kb(Qb,function(){t.controller.abort()})}var Ui=null,Mu=0,Ea=0,Ta=null;function Xb(t,a){if(Ui===null){var l=Ui=[];Mu=0,Ea=Pc(),Ta={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Mu++,a.then(Zh,Zh),a}function Zh(){if(--Mu===0&&Ui!==null){Ta!==null&&(Ta.status="fulfilled");var t=Ui;Ui=null,Ea=0,Ta=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Jb(t,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return t.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var em=B.S;B.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xb(t,a),em!==null&&em(t,a)};var Gr=X(null);function Lu(){var t=Gr.current;return t!==null?t:Xe.pooledCache}function vs(t,a){a===null?A(Gr,Gr.current):A(Gr,a.pool)}function tm(){var t=Lu();return t===null?null:{parent:dt._currentValue,pool:t}}var Bi=Error(i(460)),nm=Error(i(474)),bs=Error(i(542)),Pu={then:function(){}};function rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ws(){}function am(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(ws,ws),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,lm(t),t;default:if(typeof a.status=="string")a.then(ws,ws);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,lm(t),t}throw Ii=a,Bi}}var Ii=null;function im(){if(Ii===null)throw Error(i(459));var t=Ii;return Ii=null,t}function lm(t){if(t===Bi||t===bs)throw Error(i(483))}var nr=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,a,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,($e&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=hs(t),Yh(t,null,l),a}return fs(t,c,a,l),hs(t)}function qi(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,Zf(t,l)}}function Bu(t,a){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?p=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?p=x=a:x=x.next=a}else p=x=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Iu=!1;function Hi(){if(Iu){var t=Ta;if(t!==null)throw t}}function $i(t,a,l,c){Iu=!1;var p=t.updateQueue;nr=!1;var x=p.firstBaseUpdate,_=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var L=R,Y=L.next;L.next=null,_===null?x=Y:_.next=Y,_=L;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==_&&(R===null?ne.firstBaseUpdate=Y:R.next=Y,ne.lastBaseUpdate=L))}if(x!==null){var se=p.baseState;_=0,ne=Y=L=null,R=x;do{var Q=R.lane&-536870913,J=Q!==R.lane;if(J?(ze&Q)===Q:(c&Q)===Q){Q!==0&&Q===Ea&&(Iu=!0),ne!==null&&(ne=ne.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ee=t,Se=R;Q=a;var Ve=l;switch(Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){se=Ee.call(Ve,se,Q);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,Q=typeof Ee=="function"?Ee.call(Ve,se,Q):Ee,Q==null)break e;se=g({},se,Q);break e;case 2:nr=!0}}Q=R.callback,Q!==null&&(t.flags|=64,J&&(t.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(Y=ne=J,L=se):ne=ne.next=J,_|=Q;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;J=R,R=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);ne===null&&(L=se),p.baseState=L,p.firstBaseUpdate=Y,p.lastBaseUpdate=ne,x===null&&(p.shared.lanes=0),fr|=_,t.lanes=_,t.memoizedState=se}}function sm(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function om(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)sm(l[t],a)}var Aa=X(null),ks=X(0);function um(t,a){t=Gn,A(ks,t),A(Aa,a),Gn=t|a.baseLanes}function qu(){A(ks,Gn),A(Aa,Aa.current)}function Hu(){Gn=ks.current,$(Aa),$(ks)}var ir=0,Re=null,Ge=null,ot=null,Ss=!1,Na=!1,Yr=!1,_s=0,Fi=0,Ca=null,Wb=0;function lt(){throw Error(i(321))}function $u(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!Gt(t[l],a[l]))return!1;return!0}function Fu(t,a,l,c,p,x){return ir=x,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=t===null||t.memoizedState===null?Ym:Vm,Yr=!1,x=l(c,p),Yr=!1,Na&&(x=dm(a,l,c,p)),cm(t),x}function cm(t){B.H=Cs;var a=Ge!==null&&Ge.next!==null;if(ir=0,ot=Ge=Re=null,Ss=!1,Fi=0,Ca=null,a)throw Error(i(300));t===null||pt||(t=t.dependencies,t!==null&&ys(t)&&(pt=!0))}function dm(t,a,l,c){Re=t;var p=0;do{if(Na&&(Ca=null),Fi=0,Na=!1,25<=p)throw Error(i(301));if(p+=1,ot=Ge=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=i1,x=a(l,c)}while(Na);return x}function Zb(){var t=B.H,a=t.useState()[0];return a=typeof a.then=="function"?Gi(a):a,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Re.flags|=1024),a}function Gu(){var t=_s!==0;return _s=0,t}function Yu(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Vu(t){if(Ss){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Ss=!1}ir=0,ot=Ge=Re=null,Na=!1,Fi=_s=0,Ca=null}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Re.memoizedState=ot=t:ot=ot.next=t,ot}function ut(){if(Ge===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var a=ot===null?Re.memoizedState:ot.next;if(a!==null)ot=a,Ge=t;else{if(t===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},ot===null?Re.memoizedState=ot=t:ot=ot.next=t}return ot}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(t){var a=Fi;return Fi+=1,Ca===null&&(Ca=[]),t=am(Ca,t,a),a=Re,(ot===null?a.memoizedState:ot.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Ym:Vm),t}function js(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gi(t);if(t.$$typeof===T)return jt(t)}throw Error(i(438,String(t)))}function Qu(t){var a=null,l=Re.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ku(),Re.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),c=0;c<t;c++)l[c]=z;return a.index++,l}function Bn(t,a){return typeof a=="function"?a(t):a}function Es(t){var a=ut();return Xu(a,Ge,t)}function Xu(t,a,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=t.baseQueue,x=c.pending;if(x!==null){if(p!==null){var _=p.next;p.next=x.next,x.next=_}a.baseQueue=p=x,c.pending=null}if(x=t.baseState,p===null)t.memoizedState=x;else{a=p.next;var R=_=null,L=null,Y=a,ne=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(ze&se)===se:(ir&se)===se){var Q=Y.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Ea&&(ne=!0);else if((ir&Q)===Q){Y=Y.next,Q===Ea&&(ne=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(R=L=se,_=x):L=L.next=se,Re.lanes|=Q,fr|=Q;se=Y.action,Yr&&l(x,se),x=Y.hasEagerState?Y.eagerState:l(x,se)}else Q={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(R=L=Q,_=x):L=L.next=Q,Re.lanes|=se,fr|=se;Y=Y.next}while(Y!==null&&Y!==a);if(L===null?_=x:L.next=R,!Gt(x,t.memoizedState)&&(pt=!0,ne&&(l=Ta,l!==null)))throw l;t.memoizedState=x,t.baseState=_,t.baseQueue=L,c.lastRenderedState=x}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Ju(t){var a=ut(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,p=l.pending,x=a.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do x=t(x,_.action),_=_.next;while(_!==p);Gt(x,a.memoizedState)||(pt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,c]}function fm(t,a,l){var c=Re,p=ut(),x=Ie;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=a();var _=!Gt((Ge||p).memoizedState,l);_&&(p.memoizedState=l,pt=!0),p=p.queue;var R=pm.bind(null,c,p,t);if(Yi(2048,8,R,[t]),p.getSnapshot!==a||_||ot!==null&&ot.memoizedState.tag&1){if(c.flags|=2048,Ra(9,Ts(),mm.bind(null,c,p,l,a),null),Xe===null)throw Error(i(349));x||(ir&124)!==0||hm(c,a,l)}return l}function hm(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Re.updateQueue,a===null?(a=Ku(),Re.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function mm(t,a,l,c){a.value=l,a.getSnapshot=c,gm(a)&&ym(t)}function pm(t,a,l){return l(function(){gm(a)&&ym(t)})}function gm(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!Gt(t,l)}catch{return!0}}function ym(t){var a=ka(t,2);a!==null&&Jt(a,t,2)}function Wu(t){var a=zt();if(typeof t=="function"){var l=t;if(t=l(),Yr){we(!0);try{l()}finally{we(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:t},a}function xm(t,a,l,c){return t.baseState=l,Xu(t,Ge,typeof c=="function"?c:Bn)}function e1(t,a,l,c,p){if(Ns(t))throw Error(i(485));if(t=a.action,t!==null){var x={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};B.T!==null?l(!0):x.isTransition=!1,c(x),l=a.pending,l===null?(x.next=a.pending=x,vm(a,x)):(x.next=l.next,a.pending=l.next=x)}}function vm(t,a){var l=a.action,c=a.payload,p=t.state;if(a.isTransition){var x=B.T,_={};B.T=_;try{var R=l(p,c),L=B.S;L!==null&&L(_,R),bm(t,a,R)}catch(Y){Zu(t,a,Y)}finally{B.T=x}}else try{x=l(p,c),bm(t,a,x)}catch(Y){Zu(t,a,Y)}}function bm(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){wm(t,a,c)},function(c){return Zu(t,a,c)}):wm(t,a,l)}function wm(t,a,l){a.status="fulfilled",a.value=l,km(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,vm(t,l)))}function Zu(t,a,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,km(a),a=a.next;while(a!==c)}t.action=null}function km(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Sm(t,a){return a}function _m(t,a){if(Ie){var l=Xe.formState;if(l!==null){e:{var c=Re;if(Ie){if(rt){t:{for(var p=rt,x=Sn;p.nodeType!==8;){if(!x){p=null;break t}if(p=gn(p.nextSibling),p===null){p=null;break t}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){rt=gn(p.nextSibling),c=p.data==="F!";break e}}Hr(c)}c=!1}c&&(a=l[0])}}return l=zt(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:a},l.queue=c,l=$m.bind(null,Re,c),c.dispatch=l,c=Wu(!1),x=ac.bind(null,Re,!1,c.queue),c=zt(),p={state:a,dispatch:null,action:t,pending:null},c.queue=p,l=e1.bind(null,Re,p,x,l),p.dispatch=l,c.memoizedState=t,[a,l,!1]}function jm(t){var a=ut();return Em(a,Ge,t)}function Em(t,a,l){if(a=Xu(t,a,Sm)[0],t=Es(Bn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Gi(a)}catch(_){throw _===Bi?bs:_}else c=a;a=ut();var p=a.queue,x=p.dispatch;return l!==a.memoizedState&&(Re.flags|=2048,Ra(9,Ts(),t1.bind(null,p,l),null)),[c,x,t]}function t1(t,a){t.action=a}function Tm(t){var a=ut(),l=Ge;if(l!==null)return Em(a,l,t);ut(),a=a.memoizedState,l=ut();var c=l.queue.dispatch;return l.memoizedState=t,[a,c,!1]}function Ra(t,a,l,c){return t={tag:t,create:l,deps:c,inst:a,next:null},a=Re.updateQueue,a===null&&(a=Ku(),Re.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,a.lastEffect=t),t}function Ts(){return{destroy:void 0,resource:void 0}}function Am(){return ut().memoizedState}function As(t,a,l,c){var p=zt();c=c===void 0?null:c,Re.flags|=t,p.memoizedState=Ra(1|a,Ts(),l,c)}function Yi(t,a,l,c){var p=ut();c=c===void 0?null:c;var x=p.memoizedState.inst;Ge!==null&&c!==null&&$u(c,Ge.memoizedState.deps)?p.memoizedState=Ra(a,x,l,c):(Re.flags|=t,p.memoizedState=Ra(1|a,x,l,c))}function Nm(t,a){As(8390656,8,t,a)}function Cm(t,a){Yi(2048,8,t,a)}function Rm(t,a){return Yi(4,2,t,a)}function Om(t,a){return Yi(4,4,t,a)}function Dm(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Mm(t,a,l){l=l!=null?l.concat([t]):null,Yi(4,4,Dm.bind(null,a,t),l)}function ec(){}function Lm(t,a){var l=ut();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&$u(a,c[1])?c[0]:(l.memoizedState=[t,a],t)}function Pm(t,a){var l=ut();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&$u(a,c[1]))return c[0];if(c=t(),Yr){we(!0);try{t()}finally{we(!1)}}return l.memoizedState=[c,a],c}function tc(t,a,l){return l===void 0||(ir&1073741824)!==0?t.memoizedState=a:(t.memoizedState=l,t=B0(),Re.lanes|=t,fr|=t,l)}function zm(t,a,l,c){return Gt(l,a)?l:Aa.current!==null?(t=tc(t,l,c),Gt(t,a)||(pt=!0),t):(ir&42)===0?(pt=!0,t.memoizedState=l):(t=B0(),Re.lanes|=t,fr|=t,a)}function Um(t,a,l,c,p){var x=I.p;I.p=x!==0&&8>x?x:8;var _=B.T,R={};B.T=R,ac(t,!1,a,l);try{var L=p(),Y=B.S;if(Y!==null&&Y(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=Jb(L,c);Vi(t,a,ne,Xt(t))}else Vi(t,a,c,Xt(t))}catch(se){Vi(t,a,{then:function(){},status:"rejected",reason:se},Xt())}finally{I.p=x,B.T=_}}function n1(){}function nc(t,a,l,c){if(t.tag!==5)throw Error(i(476));var p=Bm(t).queue;Um(t,p,a,le,l===null?n1:function(){return Im(t),l(c)})}function Bm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Im(t){var a=Bm(t).next.queue;Vi(t,a,{},Xt())}function rc(){return jt(dl)}function qm(){return ut().memoizedState}function Hm(){return ut().memoizedState}function r1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=Xt();t=rr(l);var c=ar(a,t,l);c!==null&&(Jt(c,a,l),qi(c,a,l)),a={cache:Du()},t.payload=a;return}a=a.return}}function a1(t,a,l){var c=Xt();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ns(t)?Fm(a,l):(l=Su(t,a,l,c),l!==null&&(Jt(l,t,c),Gm(l,a,c)))}function $m(t,a,l){var c=Xt();Vi(t,a,l,c)}function Vi(t,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ns(t))Fm(a,p);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,R=x(_,l);if(p.hasEagerState=!0,p.eagerState=R,Gt(R,_))return fs(t,a,p,0),Xe===null&&ds(),!1}catch{}finally{}if(l=Su(t,a,p,c),l!==null)return Jt(l,t,c),Gm(l,a,c),!0}return!1}function ac(t,a,l,c){if(c={lane:2,revertLane:Pc(),action:c,hasEagerState:!1,eagerState:null,next:null},Ns(t)){if(a)throw Error(i(479))}else a=Su(t,l,c,2),a!==null&&Jt(a,t,2)}function Ns(t){var a=t.alternate;return t===Re||a!==null&&a===Re}function Fm(t,a){Na=Ss=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function Gm(t,a,l){if((l&4194048)!==0){var c=a.lanes;c&=t.pendingLanes,l|=c,a.lanes=l,Zf(t,l)}}var Cs={readContext:jt,use:js,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Ym={readContext:jt,use:js,useCallback:function(t,a){return zt().memoizedState=[t,a===void 0?null:a],t},useContext:jt,useEffect:Nm,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,As(4194308,4,Dm.bind(null,a,t),l)},useLayoutEffect:function(t,a){return As(4194308,4,t,a)},useInsertionEffect:function(t,a){As(4,2,t,a)},useMemo:function(t,a){var l=zt();a=a===void 0?null:a;var c=t();if(Yr){we(!0);try{t()}finally{we(!1)}}return l.memoizedState=[c,a],c},useReducer:function(t,a,l){var c=zt();if(l!==void 0){var p=l(a);if(Yr){we(!0);try{l(a)}finally{we(!1)}}}else p=a;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=a1.bind(null,Re,t),[c.memoizedState,t]},useRef:function(t){var a=zt();return t={current:t},a.memoizedState=t},useState:function(t){t=Wu(t);var a=t.queue,l=$m.bind(null,Re,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:ec,useDeferredValue:function(t,a){var l=zt();return tc(l,t,a)},useTransition:function(){var t=Wu(!1);return t=Um.bind(null,Re,t.queue,!0,!1),zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var c=Re,p=zt();if(Ie){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Xe===null)throw Error(i(349));(ze&124)!==0||hm(c,a,l)}p.memoizedState=l;var x={value:l,getSnapshot:a};return p.queue=x,Nm(pm.bind(null,c,x,t),[t]),c.flags|=2048,Ra(9,Ts(),mm.bind(null,c,x,l,a),null),l},useId:function(){var t=zt(),a=Xe.identifierPrefix;if(Ie){var l=Pn,c=Ln;l=(c&~(1<<32-je(c)-1)).toString(32)+l,a=""+a+"R"+l,l=_s++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=Wb++,a=""+a+"r"+l.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:rc,useFormState:_m,useActionState:_m,useOptimistic:function(t){var a=zt();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ac.bind(null,Re,!0,l),l.dispatch=a,[t,a]},useMemoCache:Qu,useCacheRefresh:function(){return zt().memoizedState=r1.bind(null,Re)}},Vm={readContext:jt,use:js,useCallback:Lm,useContext:jt,useEffect:Cm,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:Om,useMemo:Pm,useReducer:Es,useRef:Am,useState:function(){return Es(Bn)},useDebugValue:ec,useDeferredValue:function(t,a){var l=ut();return zm(l,Ge.memoizedState,t,a)},useTransition:function(){var t=Es(Bn)[0],a=ut().memoizedState;return[typeof t=="boolean"?t:Gi(t),a]},useSyncExternalStore:fm,useId:qm,useHostTransitionStatus:rc,useFormState:jm,useActionState:jm,useOptimistic:function(t,a){var l=ut();return xm(l,Ge,t,a)},useMemoCache:Qu,useCacheRefresh:Hm},i1={readContext:jt,use:js,useCallback:Lm,useContext:jt,useEffect:Cm,useImperativeHandle:Mm,useInsertionEffect:Rm,useLayoutEffect:Om,useMemo:Pm,useReducer:Ju,useRef:Am,useState:function(){return Ju(Bn)},useDebugValue:ec,useDeferredValue:function(t,a){var l=ut();return Ge===null?tc(l,t,a):zm(l,Ge.memoizedState,t,a)},useTransition:function(){var t=Ju(Bn)[0],a=ut().memoizedState;return[typeof t=="boolean"?t:Gi(t),a]},useSyncExternalStore:fm,useId:qm,useHostTransitionStatus:rc,useFormState:Tm,useActionState:Tm,useOptimistic:function(t,a){var l=ut();return Ge!==null?xm(l,Ge,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:Hm},Oa=null,Ki=0;function Rs(t){var a=Ki;return Ki+=1,Oa===null&&(Oa=[]),am(Oa,t,a)}function Qi(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Os(t,a){throw a.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Km(t){var a=t._init;return a(t._payload)}function Qm(t){function a(H,U){if(t){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function l(H,U){if(!t)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function p(H,U){return H=Mn(H,U),H.index=0,H.sibling=null,H}function x(H,U,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=67108866,U):G):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function R(H,U,G,ie){return U===null||U.tag!==6?(U=ju(G,H.mode,ie),U.return=H,U):(U=p(U,G),U.return=H,U)}function L(H,U,G,ie){var ge=G.type;return ge===w?ne(H,U,G.props.children,ie,G.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===V&&Km(ge)===U.type)?(U=p(U,G.props),Qi(U,G),U.return=H,U):(U=ms(G.type,G.key,G.props,null,H.mode,ie),Qi(U,G),U.return=H,U)}function Y(H,U,G,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Eu(G,H.mode,ie),U.return=H,U):(U=p(U,G.children||[]),U.return=H,U)}function ne(H,U,G,ie,ge){return U===null||U.tag!==7?(U=Ur(G,H.mode,ie,ge),U.return=H,U):(U=p(U,G),U.return=H,U)}function se(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ju(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return G=ms(U.type,U.key,U.props,null,H.mode,G),Qi(G,U),G.return=H,G;case b:return U=Eu(U,H.mode,G),U.return=H,U;case V:var ie=U._init;return U=ie(U._payload),se(H,U,G)}if(ce(U)||K(U))return U=Ur(U,H.mode,G,null),U.return=H,U;if(typeof U.then=="function")return se(H,Rs(U),G);if(U.$$typeof===T)return se(H,xs(H,U),G);Os(H,U)}return null}function Q(H,U,G,ie){var ge=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:R(H,U,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return G.key===ge?L(H,U,G,ie):null;case b:return G.key===ge?Y(H,U,G,ie):null;case V:return ge=G._init,G=ge(G._payload),Q(H,U,G,ie)}if(ce(G)||K(G))return ge!==null?null:ne(H,U,G,ie,null);if(typeof G.then=="function")return Q(H,U,Rs(G),ie);if(G.$$typeof===T)return Q(H,U,xs(H,G),ie);Os(H,G)}return null}function J(H,U,G,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(G)||null,R(U,H,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return H=H.get(ie.key===null?G:ie.key)||null,L(U,H,ie,ge);case b:return H=H.get(ie.key===null?G:ie.key)||null,Y(U,H,ie,ge);case V:var Oe=ie._init;return ie=Oe(ie._payload),J(H,U,G,ie,ge)}if(ce(ie)||K(ie))return H=H.get(G)||null,ne(U,H,ie,ge,null);if(typeof ie.then=="function")return J(H,U,G,Rs(ie),ge);if(ie.$$typeof===T)return J(H,U,G,xs(U,ie),ge);Os(U,ie)}return null}function Ee(H,U,G,ie){for(var ge=null,Oe=null,ve=U,_e=U=0,yt=null;ve!==null&&_e<G.length;_e++){ve.index>_e?(yt=ve,ve=null):yt=ve.sibling;var Be=Q(H,ve,G[_e],ie);if(Be===null){ve===null&&(ve=yt);break}t&&ve&&Be.alternate===null&&a(H,ve),U=x(Be,U,_e),Oe===null?ge=Be:Oe.sibling=Be,Oe=Be,ve=yt}if(_e===G.length)return l(H,ve),Ie&&Ir(H,_e),ge;if(ve===null){for(;_e<G.length;_e++)ve=se(H,G[_e],ie),ve!==null&&(U=x(ve,U,_e),Oe===null?ge=ve:Oe.sibling=ve,Oe=ve);return Ie&&Ir(H,_e),ge}for(ve=c(ve);_e<G.length;_e++)yt=J(ve,H,_e,G[_e],ie),yt!==null&&(t&&yt.alternate!==null&&ve.delete(yt.key===null?_e:yt.key),U=x(yt,U,_e),Oe===null?ge=yt:Oe.sibling=yt,Oe=yt);return t&&ve.forEach(function(wr){return a(H,wr)}),Ie&&Ir(H,_e),ge}function Se(H,U,G,ie){if(G==null)throw Error(i(151));for(var ge=null,Oe=null,ve=U,_e=U=0,yt=null,Be=G.next();ve!==null&&!Be.done;_e++,Be=G.next()){ve.index>_e?(yt=ve,ve=null):yt=ve.sibling;var wr=Q(H,ve,Be.value,ie);if(wr===null){ve===null&&(ve=yt);break}t&&ve&&wr.alternate===null&&a(H,ve),U=x(wr,U,_e),Oe===null?ge=wr:Oe.sibling=wr,Oe=wr,ve=yt}if(Be.done)return l(H,ve),Ie&&Ir(H,_e),ge;if(ve===null){for(;!Be.done;_e++,Be=G.next())Be=se(H,Be.value,ie),Be!==null&&(U=x(Be,U,_e),Oe===null?ge=Be:Oe.sibling=Be,Oe=Be);return Ie&&Ir(H,_e),ge}for(ve=c(ve);!Be.done;_e++,Be=G.next())Be=J(ve,H,_e,Be.value,ie),Be!==null&&(t&&Be.alternate!==null&&ve.delete(Be.key===null?_e:Be.key),U=x(Be,U,_e),Oe===null?ge=Be:Oe.sibling=Be,Oe=Be);return t&&ve.forEach(function(lw){return a(H,lw)}),Ie&&Ir(H,_e),ge}function Ve(H,U,G,ie){if(typeof G=="object"&&G!==null&&G.type===w&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case v:e:{for(var ge=G.key;U!==null;){if(U.key===ge){if(ge=G.type,ge===w){if(U.tag===7){l(H,U.sibling),ie=p(U,G.props.children),ie.return=H,H=ie;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===V&&Km(ge)===U.type){l(H,U.sibling),ie=p(U,G.props),Qi(ie,G),ie.return=H,H=ie;break e}l(H,U);break}else a(H,U);U=U.sibling}G.type===w?(ie=Ur(G.props.children,H.mode,ie,G.key),ie.return=H,H=ie):(ie=ms(G.type,G.key,G.props,null,H.mode,ie),Qi(ie,G),ie.return=H,H=ie)}return _(H);case b:e:{for(ge=G.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(H,U.sibling),ie=p(U,G.children||[]),ie.return=H,H=ie;break e}else{l(H,U);break}else a(H,U);U=U.sibling}ie=Eu(G,H.mode,ie),ie.return=H,H=ie}return _(H);case V:return ge=G._init,G=ge(G._payload),Ve(H,U,G,ie)}if(ce(G))return Ee(H,U,G,ie);if(K(G)){if(ge=K(G),typeof ge!="function")throw Error(i(150));return G=ge.call(G),Se(H,U,G,ie)}if(typeof G.then=="function")return Ve(H,U,Rs(G),ie);if(G.$$typeof===T)return Ve(H,U,xs(H,G),ie);Os(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(H,U.sibling),ie=p(U,G),ie.return=H,H=ie):(l(H,U),ie=ju(G,H.mode,ie),ie.return=H,H=ie),_(H)):l(H,U)}return function(H,U,G,ie){try{Ki=0;var ge=Ve(H,U,G,ie);return Oa=null,ge}catch(ve){if(ve===Bi||ve===bs)throw ve;var Oe=Yt(29,ve,null,H.mode);return Oe.lanes=ie,Oe.return=H,Oe}finally{}}}var Da=Qm(!0),Xm=Qm(!1),un=X(null),_n=null;function lr(t){var a=t.alternate;A(ft,ft.current&1),A(un,t),_n===null&&(a===null||Aa.current!==null||a.memoizedState!==null)&&(_n=t)}function Jm(t){if(t.tag===22){if(A(ft,ft.current),A(un,t),_n===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(_n=t)}}else sr()}function sr(){A(ft,ft.current),A(un,un.current)}function In(t){$(un),_n===t&&(_n=null),$(ft)}var ft=X(0);function Ds(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Kc(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ic(t,a,l,c){a=t.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var lc={enqueueSetState:function(t,a,l){t=t._reactInternals;var c=Xt(),p=rr(c);p.payload=a,l!=null&&(p.callback=l),a=ar(t,p,c),a!==null&&(Jt(a,t,c),qi(a,t,c))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var c=Xt(),p=rr(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=ar(t,p,c),a!==null&&(Jt(a,t,c),qi(a,t,c))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=Xt(),c=rr(l);c.tag=2,a!=null&&(c.callback=a),a=ar(t,c,l),a!==null&&(Jt(a,t,l),qi(a,t,l))}};function Wm(t,a,l,c,p,x,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,x,_):a.prototype&&a.prototype.isPureReactComponent?!Ri(l,c)||!Ri(p,x):!0}function Zm(t,a,l,c){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==t&&lc.enqueueReplaceState(a,a.state,null)}function Vr(t,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(t=t.defaultProps){l===a&&(l=g({},l));for(var p in t)l[p]===void 0&&(l[p]=t[p])}return l}var Ms=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function e0(t){Ms(t)}function t0(t){console.error(t)}function n0(t){Ms(t)}function Ls(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function r0(t,a,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sc(t,a,l){return l=rr(l),l.tag=3,l.payload={element:null},l.callback=function(){Ls(t,a)},l}function a0(t){return t=rr(t),t.tag=3,t}function i0(t,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var x=c.value;t.payload=function(){return p(x)},t.callback=function(){r0(a,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){r0(a,l,c),typeof p!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function l1(t,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Pi(a,l,p,!0),l=un.current,l!==null){switch(l.tag){case 13:return _n===null?Rc():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Pu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Dc(t,c,p)),!1;case 22:return l.flags|=65536,c===Pu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Dc(t,c,p)),!1}throw Error(i(435,l.tag))}return Dc(t,c,p),Rc(),!1}if(Ie)return a=un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Nu&&(t=Error(i(422),{cause:c}),Li(an(t,l)))):(c!==Nu&&(a=Error(i(423),{cause:c}),Li(an(a,l))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=an(c,l),p=sc(t.stateNode,c,p),Bu(t,p),at!==4&&(at=2)),!1;var x=Error(i(520),{cause:c});if(x=an(x,l),nl===null?nl=[x]:nl.push(x),at!==4&&(at=2),a===null)return!0;c=an(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=p&-p,l.lanes|=t,t=sc(l.stateNode,c,t),Bu(l,t),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hr===null||!hr.has(x))))return l.flags|=65536,p&=-p,l.lanes|=p,p=a0(p),i0(p,t,l,c),Bu(l,p),!1}l=l.return}while(l!==null);return!1}var l0=Error(i(461)),pt=!1;function bt(t,a,l,c){a.child=t===null?Xm(a,null,l,c):Da(a,t.child,l,c)}function s0(t,a,l,c,p){l=l.render;var x=a.ref;if("ref"in c){var _={};for(var R in c)R!=="ref"&&(_[R]=c[R])}else _=c;return Fr(a),c=Fu(t,a,l,_,x,p),R=Gu(),t!==null&&!pt?(Yu(t,a,p),qn(t,a,p)):(Ie&&R&&Tu(a),a.flags|=1,bt(t,a,c,p),a.child)}function o0(t,a,l,c,p){if(t===null){var x=l.type;return typeof x=="function"&&!_u(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,u0(t,a,x,c,p)):(t=ms(l.type,null,c,a,a.mode,p),t.ref=a.ref,t.return=a,a.child=t)}if(x=t.child,!pc(t,p)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ri,l(_,c)&&t.ref===a.ref)return qn(t,a,p)}return a.flags|=1,t=Mn(x,c),t.ref=a.ref,t.return=a,a.child=t}function u0(t,a,l,c,p){if(t!==null){var x=t.memoizedProps;if(Ri(x,c)&&t.ref===a.ref)if(pt=!1,a.pendingProps=c=x,pc(t,p))(t.flags&131072)!==0&&(pt=!0);else return a.lanes=t.lanes,qn(t,a,p)}return oc(t,a,l,c,p)}function c0(t,a,l){var c=a.pendingProps,p=c.children,x=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=x!==null?x.baseLanes|l:l,t!==null){for(p=a.child=t.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;a.childLanes=x&~c}else a.childLanes=0,a.child=null;return d0(t,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&vs(a,x!==null?x.cachePool:null),x!==null?um(a,x):qu(),Jm(a);else return a.lanes=a.childLanes=536870912,d0(t,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(vs(a,x.cachePool),um(a,x),sr(),a.memoizedState=null):(t!==null&&vs(a,null),qu(),sr());return bt(t,a,p,l),a.child}function d0(t,a,l,c){var p=Lu();return p=p===null?null:{parent:dt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},t!==null&&vs(a,null),qu(),Jm(a),t!==null&&Pi(t,a,c,!0),null}function Ps(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function oc(t,a,l,c,p){return Fr(a),l=Fu(t,a,l,c,void 0,p),c=Gu(),t!==null&&!pt?(Yu(t,a,p),qn(t,a,p)):(Ie&&c&&Tu(a),a.flags|=1,bt(t,a,l,p),a.child)}function f0(t,a,l,c,p,x){return Fr(a),a.updateQueue=null,l=dm(a,c,l,p),cm(t),c=Gu(),t!==null&&!pt?(Yu(t,a,x),qn(t,a,x)):(Ie&&c&&Tu(a),a.flags|=1,bt(t,a,l,x),a.child)}function h0(t,a,l,c,p){if(Fr(a),a.stateNode===null){var x=Sa,_=l.contextType;typeof _=="object"&&_!==null&&(x=jt(_)),x=new l(c,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=lc,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=c,x.state=a.memoizedState,x.refs={},zu(a),_=l.contextType,x.context=typeof _=="object"&&_!==null?jt(_):Sa,x.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(ic(a,l,_,c),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&lc.enqueueReplaceState(x,x.state,null),$i(a,c,x,p),Hi(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(t===null){x=a.stateNode;var R=a.memoizedProps,L=Vr(l,R);x.props=L;var Y=x.context,ne=l.contextType;_=Sa,typeof ne=="object"&&ne!==null&&(_=jt(ne));var se=l.getDerivedStateFromProps;ne=typeof se=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ne||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||Y!==_)&&Zm(a,x,c,_),nr=!1;var Q=a.memoizedState;x.state=Q,$i(a,c,x,p),Hi(),Y=a.memoizedState,R||Q!==Y||nr?(typeof se=="function"&&(ic(a,l,se,c),Y=a.memoizedState),(L=nr||Wm(a,l,L,c,Q,Y,_))?(ne||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),x.props=c,x.state=Y,x.context=_,c=L):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{x=a.stateNode,Uu(t,a),_=a.memoizedProps,ne=Vr(l,_),x.props=ne,se=a.pendingProps,Q=x.context,Y=l.contextType,L=Sa,typeof Y=="object"&&Y!==null&&(L=jt(Y)),R=l.getDerivedStateFromProps,(Y=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==se||Q!==L)&&Zm(a,x,c,L),nr=!1,Q=a.memoizedState,x.state=Q,$i(a,c,x,p),Hi();var J=a.memoizedState;_!==se||Q!==J||nr||t!==null&&t.dependencies!==null&&ys(t.dependencies)?(typeof R=="function"&&(ic(a,l,R,c),J=a.memoizedState),(ne=nr||Wm(a,l,ne,c,Q,J,L)||t!==null&&t.dependencies!==null&&ys(t.dependencies))?(Y||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,J,L),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,J,L)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),x.props=c,x.state=J,x.context=L,c=ne):(typeof x.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),c=!1)}return x=c,Ps(t,a),c=(a.flags&128)!==0,x||c?(x=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,t!==null&&c?(a.child=Da(a,t.child,null,p),a.child=Da(a,null,l,p)):bt(t,a,l,p),a.memoizedState=x.state,t=a.child):t=qn(t,a,p),t}function m0(t,a,l,c){return Mi(),a.flags|=256,bt(t,a,l,c),a.child}var uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cc(t){return{baseLanes:t,cachePool:tm()}}function dc(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=cn),t}function p0(t,a,l){var c=a.pendingProps,p=!1,x=(a.flags&128)!==0,_;if((_=x)||(_=t!==null&&t.memoizedState===null?!1:(ft.current&2)!==0),_&&(p=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ie){if(p?lr(a):sr(),Ie){var R=rt,L;if(L=R){e:{for(L=R,R=Sn;L.nodeType!==8;){if(!R){R=null;break e}if(L=gn(L.nextSibling),L===null){R=null;break e}}R=L}R!==null?(a.memoizedState={dehydrated:R,treeContext:Br!==null?{id:Ln,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},L=Yt(18,null,null,0),L.stateNode=R,L.return=a,a.child=L,Rt=a,rt=null,L=!0):L=!1}L||Hr(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Kc(R)?a.lanes=32:a.lanes=536870912,null;In(a)}return R=c.children,c=c.fallback,p?(sr(),p=a.mode,R=zs({mode:"hidden",children:R},p),c=Ur(c,p,l,null),R.return=a,c.return=a,R.sibling=c,a.child=R,p=a.child,p.memoizedState=cc(l),p.childLanes=dc(t,_,l),a.memoizedState=uc,c):(lr(a),fc(a,R))}if(L=t.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(x)a.flags&256?(lr(a),a.flags&=-257,a=hc(t,a,l)):a.memoizedState!==null?(sr(),a.child=t.child,a.flags|=128,a=null):(sr(),p=c.fallback,R=a.mode,c=zs({mode:"visible",children:c.children},R),p=Ur(p,R,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Da(a,t.child,null,l),c=a.child,c.memoizedState=cc(l),c.childLanes=dc(t,_,l),a.memoizedState=uc,a=p);else if(lr(a),Kc(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var Y=_.dgst;_=Y,c=Error(i(419)),c.stack="",c.digest=_,Li({value:c,source:null,stack:null}),a=hc(t,a,l)}else if(pt||Pi(t,a,l,!1),_=(l&t.childLanes)!==0,pt||_){if(_=Xe,_!==null&&(c=l&-l,c=(c&42)!==0?1:Qo(c),c=(c&(_.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,ka(t,c),Jt(_,t,c),l0;R.data==="$?"||Rc(),a=hc(t,a,l)}else R.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=L.treeContext,rt=gn(R.nextSibling),Rt=a,Ie=!0,qr=null,Sn=!1,t!==null&&(sn[on++]=Ln,sn[on++]=Pn,sn[on++]=Br,Ln=t.id,Pn=t.overflow,Br=a),a=fc(a,c.children),a.flags|=4096);return a}return p?(sr(),p=c.fallback,R=a.mode,L=t.child,Y=L.sibling,c=Mn(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,Y!==null?p=Mn(Y,p):(p=Ur(p,R,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,R=t.child.memoizedState,R===null?R=cc(l):(L=R.cachePool,L!==null?(Y=dt._currentValue,L=L.parent!==Y?{parent:Y,pool:Y}:L):L=tm(),R={baseLanes:R.baseLanes|l,cachePool:L}),p.memoizedState=R,p.childLanes=dc(t,_,l),a.memoizedState=uc,c):(lr(a),l=t.child,t=l.sibling,l=Mn(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,t!==null&&(_=a.deletions,_===null?(a.deletions=[t],a.flags|=16):_.push(t)),a.child=l,a.memoizedState=null,l)}function fc(t,a){return a=zs({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function zs(t,a){return t=Yt(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hc(t,a,l){return Da(a,t.child,null,l),t=fc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function g0(t,a,l){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a),Ru(t.return,a,l)}function mc(t,a,l,c,p){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=l,x.tailMode=p)}function y0(t,a,l){var c=a.pendingProps,p=c.revealOrder,x=c.tail;if(bt(t,a,c.children,l),c=ft.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,l,a);else if(t.tag===19)g0(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(A(ft,c),p){case"forwards":for(l=a.child,p=null;l!==null;)t=l.alternate,t!==null&&Ds(t)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),mc(a,!1,p,l,x);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(t=p.alternate,t!==null&&Ds(t)===null){a.child=p;break}t=p.sibling,p.sibling=l,l=p,p=t}mc(a,!0,l,null,x);break;case"together":mc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qn(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),fr|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(Pi(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,l=Mn(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=Mn(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function pc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&ys(t)))}function s1(t,a,l){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),tr(a,dt,t.memoizedState.cache),Mi();break;case 27:case 5:ye(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(lr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?p0(t,a,l):(lr(a),t=qn(t,a,l),t!==null?t.sibling:null);lr(a);break;case 19:var p=(t.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Pi(t,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return y0(t,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),A(ft,ft.current),c)break;return null;case 22:case 23:return a.lanes=0,c0(t,a,l);case 24:tr(a,dt,t.memoizedState.cache)}return qn(t,a,l)}function x0(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)pt=!0;else{if(!pc(t,l)&&(a.flags&128)===0)return pt=!1,s1(t,a,l);pt=(t.flags&131072)!==0}else pt=!1,Ie&&(a.flags&1048576)!==0&&Kh(a,gs,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")_u(c)?(t=Vr(c,t),a.tag=1,a=h0(null,a,c,t,l)):(a.tag=0,a=oc(null,a,c,t,l));else{if(c!=null){if(p=c.$$typeof,p===N){a.tag=11,a=s0(null,a,c,t,l);break e}else if(p===F){a.tag=14,a=o0(null,a,c,t,l);break e}}throw a=re(c)||c,Error(i(306,a,""))}}return a;case 0:return oc(t,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Vr(c,a.pendingProps),h0(t,a,c,p,l);case 3:e:{if(ue(a,a.stateNode.containerInfo),t===null)throw Error(i(387));c=a.pendingProps;var x=a.memoizedState;p=x.element,Uu(t,a),$i(a,c,null,l);var _=a.memoizedState;if(c=_.cache,tr(a,dt,c),c!==x.cache&&Ou(a,[dt],l,!0),Hi(),c=_.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=m0(t,a,c,l);break e}else if(c!==p){p=an(Error(i(424)),a),Li(p),a=m0(t,a,c,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=gn(t.firstChild),Rt=a,Ie=!0,qr=null,Sn=!0,l=Xm(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Mi(),c===p){a=qn(t,a,l);break e}bt(t,a,c,l)}a=a.child}return a;case 26:return Ps(t,a),t===null?(l=kp(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ie||(l=a.type,t=a.pendingProps,c=Js(P.current).createElement(l),c[_t]=a,c[Lt]=t,kt(c,l,t),mt(c),a.stateNode=c):a.memoizedState=kp(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return ye(a),t===null&&Ie&&(c=a.stateNode=vp(a.type,a.pendingProps,P.current),Rt=a,Sn=!0,p=rt,gr(a.type)?(Qc=p,rt=gn(c.firstChild)):rt=p),bt(t,a,a.pendingProps.children,l),Ps(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ie&&((p=c=rt)&&(c=L1(c,a.type,a.pendingProps,Sn),c!==null?(a.stateNode=c,Rt=a,rt=gn(c.firstChild),Sn=!1,p=!0):p=!1),p||Hr(a)),ye(a),p=a.type,x=a.pendingProps,_=t!==null?t.memoizedProps:null,c=x.children,Gc(p,x)?c=null:_!==null&&Gc(p,_)&&(a.flags|=32),a.memoizedState!==null&&(p=Fu(t,a,Zb,null,null,l),dl._currentValue=p),Ps(t,a),bt(t,a,c,l),a.child;case 6:return t===null&&Ie&&((t=l=rt)&&(l=P1(l,a.pendingProps,Sn),l!==null?(a.stateNode=l,Rt=a,rt=null,t=!0):t=!1),t||Hr(a)),null;case 13:return p0(t,a,l);case 4:return ue(a,a.stateNode.containerInfo),c=a.pendingProps,t===null?a.child=Da(a,null,c,l):bt(t,a,c,l),a.child;case 11:return s0(t,a,a.type,a.pendingProps,l);case 7:return bt(t,a,a.pendingProps,l),a.child;case 8:return bt(t,a,a.pendingProps.children,l),a.child;case 12:return bt(t,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,tr(a,a.type,c.value),bt(t,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Fr(a),p=jt(p),c=c(p),a.flags|=1,bt(t,a,c,l),a.child;case 14:return o0(t,a,a.type,a.pendingProps,l);case 15:return u0(t,a,a.type,a.pendingProps,l);case 19:return y0(t,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},t===null?(l=zs(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Mn(t.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return c0(t,a,l);case 24:return Fr(a),c=jt(dt),t===null?(p=Lu(),p===null&&(p=Xe,x=Du(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=l),p=x),a.memoizedState={parent:c,cache:p},zu(a),tr(a,dt,p)):((t.lanes&l)!==0&&(Uu(t,a),$i(a,null,null,l),Hi()),p=t.memoizedState,x=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),tr(a,dt,c)):(c=x.cache,tr(a,dt,c),c!==p.cache&&Ou(a,[dt],l,!0))),bt(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Hn(t){t.flags|=4}function v0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tp(a)){if(a=un.current,a!==null&&((ze&4194048)===ze?_n!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==_n))throw Ii=Pu,nm;t.flags|=8192}}function Us(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Jf():536870912,t.lanes|=a,za|=a)}function Xi(t,a){if(!Ie)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function tt(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(a)for(var p=t.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=l,a}function o1(t,a,l){var c=a.pendingProps;switch(Au(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(a),null;case 1:return tt(a),null;case 3:return l=a.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Un(dt),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Di(a)?Hn(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jh())),tt(a),null;case 26:return l=a.memoizedState,t===null?(Hn(a),l!==null?(tt(a),v0(a,l)):(tt(a),a.flags&=-16777217)):l?l!==t.memoizedState?(Hn(a),tt(a),v0(a,l)):(tt(a),a.flags&=-16777217):(t.memoizedProps!==c&&Hn(a),tt(a),a.flags&=-16777217),null;case 27:xe(a),l=P.current;var p=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Hn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return tt(a),null}t=ae.current,Di(a)?Qh(a):(t=vp(p,c,l),a.stateNode=t,Hn(a))}return tt(a),null;case 5:if(xe(a),l=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==c&&Hn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return tt(a),null}if(t=ae.current,Di(a))Qh(a);else{switch(p=Js(P.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}t[_t]=a,t[Lt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=t;e:switch(kt(t,l,c),l){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hn(a)}}return tt(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==c&&Hn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(t=P.current,Di(a)){if(t=a.stateNode,l=a.memoizedProps,c=null,p=Rt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[_t]=a,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||fp(t.nodeValue,l)),t||Hr(a)}else t=Js(t).createTextNode(c),t[_t]=a,a.stateNode=t}return tt(a),null;case 13:if(c=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Di(a),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[_t]=a}else Mi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tt(a),p=!1}else p=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(In(a),a):(In(a),null)}if(In(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,t=t!==null&&t.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var x=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==p&&(c.flags|=2048)}return l!==t&&l&&(a.child.flags|=8192),Us(a,a.updateQueue),tt(a),null;case 4:return pe(),t===null&&Ic(a.stateNode.containerInfo),tt(a),null;case 10:return Un(a.type),tt(a),null;case 19:if($(ft),p=a.memoizedState,p===null)return tt(a),null;if(c=(a.flags&128)!==0,x=p.rendering,x===null)if(c)Xi(p,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(x=Ds(t),x!==null){for(a.flags|=128,Xi(p,!1),t=x.updateQueue,a.updateQueue=t,Us(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)Vh(l,t),l=l.sibling;return A(ft,ft.current&1|2),a.child}t=t.sibling}p.tail!==null&&nt()>qs&&(a.flags|=128,c=!0,Xi(p,!1),a.lanes=4194304)}else{if(!c)if(t=Ds(x),t!==null){if(a.flags|=128,c=!0,t=t.updateQueue,a.updateQueue=t,Us(a,t),Xi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Ie)return tt(a),null}else 2*nt()-p.renderingStartTime>qs&&l!==536870912&&(a.flags|=128,c=!0,Xi(p,!1),a.lanes=4194304);p.isBackwards?(x.sibling=a.child,a.child=x):(t=p.last,t!==null?t.sibling=x:a.child=x,p.last=x)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=nt(),a.sibling=null,t=ft.current,A(ft,c?t&1|2:t&1),a):(tt(a),null);case 22:case 23:return In(a),Hu(),c=a.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(tt(a),a.subtreeFlags&6&&(a.flags|=8192)):tt(a),l=a.updateQueue,l!==null&&Us(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),t!==null&&$(Gr),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Un(dt),tt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function u1(t,a){switch(Au(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Un(dt),pe(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return xe(a),null;case 13:if(In(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Mi()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return $(ft),null;case 4:return pe(),null;case 10:return Un(a.type),null;case 22:case 23:return In(a),Hu(),t!==null&&$(Gr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Un(dt),null;case 25:return null;default:return null}}function b0(t,a){switch(Au(a),a.tag){case 3:Un(dt),pe();break;case 26:case 27:case 5:xe(a);break;case 4:pe();break;case 13:In(a);break;case 19:$(ft);break;case 10:Un(a.type);break;case 22:case 23:In(a),Hu(),t!==null&&$(Gr);break;case 24:Un(dt)}}function Ji(t,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&t)===t){c=void 0;var x=l.create,_=l.inst;c=x(),_.destroy=c}l=l.next}while(l!==p)}}catch(R){Ke(a,a.return,R)}}function or(t,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&t)===t){var _=c.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,p=a;var L=l,Y=R;try{Y()}catch(ne){Ke(p,L,ne)}}}c=c.next}while(c!==x)}}catch(ne){Ke(a,a.return,ne)}}function w0(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{om(a,l)}catch(c){Ke(t,t.return,c)}}}function k0(t,a,l){l.props=Vr(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){Ke(t,a,c)}}function Wi(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(p){Ke(t,a,p)}}function jn(t,a){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Ke(t,a,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ke(t,a,p)}else l.current=null}function S0(t){var a=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Ke(t,t.return,p)}}function gc(t,a,l){try{var c=t.stateNode;C1(c,t.type,l,a),c[Lt]=a}catch(p){Ke(t,t.return,p)}}function _0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function yc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Xs));else if(c!==4&&(c===27&&gr(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(xc(t,a,l),t=t.sibling;t!==null;)xc(t,a,l),t=t.sibling}function Bs(t,a,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(c!==4&&(c===27&&gr(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Bs(t,a,l),t=t.sibling;t!==null;)Bs(t,a,l),t=t.sibling}function j0(t){var a=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);kt(a,c,l),a[_t]=t,a[Lt]=l}catch(x){Ke(t,t.return,x)}}var $n=!1,st=!1,vc=!1,E0=typeof WeakSet=="function"?WeakSet:Set,gt=null;function c1(t,a){if(t=t.containerInfo,$c=ro,t=zh(t),yu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,R=-1,L=-1,Y=0,ne=0,se=t,Q=null;t:for(;;){for(var J;se!==l||p!==0&&se.nodeType!==3||(R=_+p),se!==x||c!==0&&se.nodeType!==3||(L=_+c),se.nodeType===3&&(_+=se.nodeValue.length),(J=se.firstChild)!==null;)Q=se,se=J;for(;;){if(se===t)break t;if(Q===l&&++Y===p&&(R=_),Q===x&&++ne===c&&(L=_),(J=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=J}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fc={focusedElem:t,selectionRange:l},ro=!1,gt=a;gt!==null;)if(a=gt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,gt=t;else for(;gt!==null;){switch(a=gt,x=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,l=a,p=x.memoizedProps,x=x.memoizedState,c=l.stateNode;try{var Ee=Vr(l.type,p,l.elementType===l.type);t=c.getSnapshotBeforeUpdate(Ee,x),c.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ke(l,l.return,Se)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Vc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,gt=t;break}gt=a.return}}function T0(t,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ur(t,l),c&4&&Ji(5,l);break;case 1:if(ur(t,l),c&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(_){Ke(l,l.return,_)}else{var p=Vr(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(p,a,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(l,l.return,_)}}c&64&&w0(l),c&512&&Wi(l,l.return);break;case 3:if(ur(t,l),c&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{om(t,a)}catch(_){Ke(l,l.return,_)}}break;case 27:a===null&&c&4&&j0(l);case 26:case 5:ur(t,l),a===null&&c&4&&S0(l),c&512&&Wi(l,l.return);break;case 12:ur(t,l);break;case 13:ur(t,l),c&4&&C0(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=v1.bind(null,l),z1(t,l))));break;case 22:if(c=l.memoizedState!==null||$n,!c){a=a!==null&&a.memoizedState!==null||st,p=$n;var x=st;$n=c,(st=a)&&!x?cr(t,l,(l.subtreeFlags&8772)!==0):ur(t,l),$n=p,st=x}break;case 30:break;default:ur(t,l)}}function A0(t){var a=t.alternate;a!==null&&(t.alternate=null,A0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Wo(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,Ut=!1;function Fn(t,a,l){for(l=l.child;l!==null;)N0(t,a,l),l=l.sibling}function N0(t,a,l){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:st||jn(l,a),Fn(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:st||jn(l,a);var c=Ze,p=Ut;gr(l.type)&&(Ze=l.stateNode,Ut=!1),Fn(t,a,l),sl(l.stateNode),Ze=c,Ut=p;break;case 5:st||jn(l,a);case 6:if(c=Ze,p=Ut,Ze=null,Fn(t,a,l),Ze=c,Ut=p,Ze!==null)if(Ut)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(l.stateNode)}catch(x){Ke(l,a,x)}else try{Ze.removeChild(l.stateNode)}catch(x){Ke(l,a,x)}break;case 18:Ze!==null&&(Ut?(t=Ze,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),pl(t)):yp(Ze,l.stateNode));break;case 4:c=Ze,p=Ut,Ze=l.stateNode.containerInfo,Ut=!0,Fn(t,a,l),Ze=c,Ut=p;break;case 0:case 11:case 14:case 15:st||or(2,l,a),st||or(4,l,a),Fn(t,a,l);break;case 1:st||(jn(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&k0(l,a,c)),Fn(t,a,l);break;case 21:Fn(t,a,l);break;case 22:st=(c=st)||l.memoizedState!==null,Fn(t,a,l),st=c;break;default:Fn(t,a,l)}}function C0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(l){Ke(a,a.return,l)}}function d1(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new E0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new E0),a;default:throw Error(i(435,t.tag))}}function bc(t,a){var l=d1(t);a.forEach(function(c){var p=b1.bind(null,t,c);l.has(c)||(l.add(c),c.then(p,p))})}function Vt(t,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],x=t,_=a,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(gr(R.type)){Ze=R.stateNode,Ut=!1;break e}break;case 5:Ze=R.stateNode,Ut=!1;break e;case 3:case 4:Ze=R.stateNode.containerInfo,Ut=!0;break e}R=R.return}if(Ze===null)throw Error(i(160));N0(x,_,p),Ze=null,Ut=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)R0(a,t),a=a.sibling}var pn=null;function R0(t,a){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(a,t),Kt(t),c&4&&(or(3,t,t.return),Ji(3,t),or(5,t,t.return));break;case 1:Vt(a,t),Kt(t),c&512&&(st||l===null||jn(l,l.return)),c&64&&$n&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=pn;if(Vt(a,t),Kt(t),c&512&&(st||l===null||jn(l,l.return)),c&4){var x=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":x=p.getElementsByTagName("title")[0],(!x||x[ki]||x[_t]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(c),p.head.insertBefore(x,p.querySelector("head > title"))),kt(x,c,l),x[_t]=t,mt(x),c=x;break e;case"link":var _=jp("link","href",p).get(c+(l.href||""));if(_){for(var R=0;R<_.length;R++)if(x=_[R],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(R,1);break t}}x=p.createElement(c),kt(x,c,l),p.head.appendChild(x);break;case"meta":if(_=jp("meta","content",p).get(c+(l.content||""))){for(R=0;R<_.length;R++)if(x=_[R],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(R,1);break t}}x=p.createElement(c),kt(x,c,l),p.head.appendChild(x);break;default:throw Error(i(468,c))}x[_t]=t,mt(x),c=x}t.stateNode=c}else Ep(p,t.type,t.stateNode);else t.stateNode=_p(p,c,t.memoizedProps);else x!==c?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,c===null?Ep(p,t.type,t.stateNode):_p(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&gc(t,t.memoizedProps,l.memoizedProps)}break;case 27:Vt(a,t),Kt(t),c&512&&(st||l===null||jn(l,l.return)),l!==null&&c&4&&gc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Vt(a,t),Kt(t),c&512&&(st||l===null||jn(l,l.return)),t.flags&32){p=t.stateNode;try{pa(p,"")}catch(J){Ke(t,t.return,J)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,gc(t,p,l!==null?l.memoizedProps:p)),c&1024&&(vc=!0);break;case 6:if(Vt(a,t),Kt(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(J){Ke(t,t.return,J)}}break;case 3:if(eo=null,p=pn,pn=Ws(a.containerInfo),Vt(a,t),pn=p,Kt(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{pl(a.containerInfo)}catch(J){Ke(t,t.return,J)}vc&&(vc=!1,O0(t));break;case 4:c=pn,pn=Ws(t.stateNode.containerInfo),Vt(a,t),Kt(t),pn=c;break;case 12:Vt(a,t),Kt(t);break;case 13:Vt(a,t),Kt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ec=nt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,bc(t,c)));break;case 22:p=t.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,Y=$n,ne=st;if($n=Y||p,st=ne||L,Vt(a,t),st=ne,$n=Y,Kt(t),c&8192)e:for(a=t.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||L||$n||st||Kr(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(x=L.stateNode,p)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=L.stateNode;var se=L.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){Ke(L,L.return,J)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(J){Ke(L,L.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,bc(t,l))));break;case 19:Vt(a,t),Kt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,bc(t,c)));break;case 30:break;case 21:break;default:Vt(a,t),Kt(t)}}function Kt(t){var a=t.flags;if(a&2){try{for(var l,c=t.return;c!==null;){if(_0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,x=yc(t);Bs(t,x,p);break;case 5:var _=l.stateNode;l.flags&32&&(pa(_,""),l.flags&=-33);var R=yc(t);Bs(t,R,_);break;case 3:case 4:var L=l.stateNode.containerInfo,Y=yc(t);xc(t,Y,L);break;default:throw Error(i(161))}}catch(ne){Ke(t,t.return,ne)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function O0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;O0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ur(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)T0(t,a.alternate,a),a=a.sibling}function Kr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:or(4,a,a.return),Kr(a);break;case 1:jn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&k0(a,a.return,l),Kr(a);break;case 27:sl(a.stateNode);case 26:case 5:jn(a,a.return),Kr(a);break;case 22:a.memoizedState===null&&Kr(a);break;case 30:Kr(a);break;default:Kr(a)}t=t.sibling}}function cr(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=t,x=a,_=x.flags;switch(x.tag){case 0:case 11:case 15:cr(p,x,l),Ji(4,x);break;case 1:if(cr(p,x,l),c=x,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){Ke(c,c.return,Y)}if(c=x,p=c.updateQueue,p!==null){var R=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)sm(L[p],R)}catch(Y){Ke(c,c.return,Y)}}l&&_&64&&w0(x),Wi(x,x.return);break;case 27:j0(x);case 26:case 5:cr(p,x,l),l&&c===null&&_&4&&S0(x),Wi(x,x.return);break;case 12:cr(p,x,l);break;case 13:cr(p,x,l),l&&_&4&&C0(p,x);break;case 22:x.memoizedState===null&&cr(p,x,l),Wi(x,x.return);break;case 30:break;default:cr(p,x,l)}a=a.sibling}}function wc(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&zi(l))}function kc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zi(t))}function En(t,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)D0(t,a,l,c),a=a.sibling}function D0(t,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:En(t,a,l,c),p&2048&&Ji(9,a);break;case 1:En(t,a,l,c);break;case 3:En(t,a,l,c),p&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&zi(t)));break;case 12:if(p&2048){En(t,a,l,c),t=a.stateNode;try{var x=a.memoizedProps,_=x.id,R=x.onPostCommit;typeof R=="function"&&R(_,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Ke(a,a.return,L)}}else En(t,a,l,c);break;case 13:En(t,a,l,c);break;case 23:break;case 22:x=a.stateNode,_=a.alternate,a.memoizedState!==null?x._visibility&2?En(t,a,l,c):Zi(t,a):x._visibility&2?En(t,a,l,c):(x._visibility|=2,Ma(t,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&wc(_,a);break;case 24:En(t,a,l,c),p&2048&&kc(a.alternate,a);break;default:En(t,a,l,c)}}function Ma(t,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=t,_=a,R=l,L=c,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(x,_,R,L,p),Ji(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Ma(x,_,R,L,p):Zi(x,_):(ne._visibility|=2,Ma(x,_,R,L,p)),p&&Y&2048&&wc(_.alternate,_);break;case 24:Ma(x,_,R,L,p),p&&Y&2048&&kc(_.alternate,_);break;default:Ma(x,_,R,L,p)}a=a.sibling}}function Zi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,c=a,p=c.flags;switch(c.tag){case 22:Zi(l,c),p&2048&&wc(c.alternate,c);break;case 24:Zi(l,c),p&2048&&kc(c.alternate,c);break;default:Zi(l,c)}a=a.sibling}}var el=8192;function La(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)M0(t),t=t.sibling}function M0(t){switch(t.tag){case 26:La(t),t.flags&el&&t.memoizedState!==null&&X1(pn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var a=pn;pn=Ws(t.stateNode.containerInfo),La(t),pn=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=el,el=16777216,La(t),el=a):La(t));break;default:La(t)}}function L0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function tl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];gt=c,z0(c,t)}L0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P0(t),t=t.sibling}function P0(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&or(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Is(t)):tl(t);break;default:tl(t)}}function Is(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];gt=c,z0(c,t)}L0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:or(8,a,a.return),Is(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Is(a));break;default:Is(a)}t=t.sibling}}function z0(t,a){for(;gt!==null;){var l=gt;switch(l.tag){case 0:case 11:case 15:or(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zi(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,gt=c;else e:for(l=t;gt!==null;){c=gt;var p=c.sibling,x=c.return;if(A0(c),c===l){gt=null;break e}if(p!==null){p.return=x,gt=p;break e}gt=x}}}var f1={getCacheForType:function(t){var a=jt(dt),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l}},h1=typeof WeakMap=="function"?WeakMap:Map,$e=0,Xe=null,De=null,ze=0,Fe=0,Qt=null,dr=!1,Pa=!1,Sc=!1,Gn=0,at=0,fr=0,Qr=0,_c=0,cn=0,za=0,nl=null,Bt=null,jc=!1,Ec=0,qs=1/0,Hs=null,hr=null,wt=0,mr=null,Ua=null,Ba=0,Tc=0,Ac=null,U0=null,rl=0,Nc=null;function Xt(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(B.T!==null){var t=Ea;return t!==0?t:Pc()}return eh()}function B0(){cn===0&&(cn=(ze&536870912)===0||Ie?Xf():536870912);var t=un.current;return t!==null&&(t.flags|=32),cn}function Jt(t,a,l){(t===Xe&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),pr(t,ze,cn,!1)),wi(t,l),(($e&2)===0||t!==Xe)&&(t===Xe&&(($e&2)===0&&(Qr|=l),at===4&&pr(t,ze,cn,!1)),Tn(t))}function I0(t,a,l){if(($e&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&t.expiredLanes)===0||tn(t,a),p=c?g1(t,a):Oc(t,a,!0),x=c;do{if(p===0){Pa&&!c&&pr(t,a,0,!1);break}else{if(l=t.current.alternate,x&&!m1(l)){p=Oc(t,a,!1),x=!1;continue}if(p===2){if(x=a,t.errorRecoveryDisabledLanes&x)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var R=t;p=nl;var L=R.current.memoizedState.isDehydrated;if(L&&(Ia(R,_).flags|=256),_=Oc(R,_,!1),_!==2){if(Sc&&!L){R.errorRecoveryDisabledLanes|=x,Qr|=x,p=4;break e}x=Bt,Bt=p,x!==null&&(Bt===null?Bt=x:Bt.push.apply(Bt,x))}p=_}if(x=!1,p!==2)continue}}if(p===1){Ia(t,0),pr(t,a,0,!0);break}e:{switch(c=t,x=p,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:pr(c,a,cn,!dr);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ec+300-nt(),10<p)){if(pr(c,a,cn,!dr),ht(c,0,!0)!==0)break e;c.timeoutHandle=pp(q0.bind(null,c,l,Bt,Hs,jc,a,cn,Qr,za,dr,x,2,-0,0),p);break e}q0(c,l,Bt,Hs,jc,a,cn,Qr,za,dr,x,0,-0,0)}}break}while(!0);Tn(t)}function q0(t,a,l,c,p,x,_,R,L,Y,ne,se,Q,J){if(t.timeoutHandle=-1,se=a.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:Q1},M0(a),se=J1(),se!==null)){t.cancelPendingCommit=se(K0.bind(null,t,a,x,l,c,p,_,R,L,ne,1,Q,J)),pr(t,x,_,!Y);return}K0(t,a,x,l,c,p,_,R,L)}function m1(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],x=p.getSnapshot;p=p.value;try{if(!Gt(x(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pr(t,a,l,c){a&=~_c,a&=~Qr,t.suspendedLanes|=a,t.pingedLanes&=~a,c&&(t.warmLanes|=a),c=t.expirationTimes;for(var p=a;0<p;){var x=31-je(p),_=1<<x;c[x]=-1,p&=~_}l!==0&&Wf(t,l,a)}function $s(){return($e&6)===0?(al(0),!1):!0}function Cc(){if(De!==null){if(Fe===0)var t=De.return;else t=De,zn=$r=null,Vu(t),Oa=null,Ki=0,t=De;for(;t!==null;)b0(t.alternate,t),t=t.return;De=null}}function Ia(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,O1(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Cc(),Xe=t,De=l=Mn(t.current,null),ze=a,Fe=0,Qt=null,dr=!1,Pa=tn(t,a),Sc=!1,za=cn=_c=Qr=fr=at=0,Bt=nl=null,jc=!1,(a&8)!==0&&(a|=a&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=a;0<c;){var p=31-je(c),x=1<<p;a|=t[p],c&=~x}return Gn=a,ds(),l}function H0(t,a){Re=null,B.H=Cs,a===Bi||a===bs?(a=im(),Fe=3):a===nm?(a=im(),Fe=4):Fe=a===l0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qt=a,De===null&&(at=1,Ls(t,an(a,t.current)))}function $0(){var t=B.H;return B.H=Cs,t===null?Cs:t}function F0(){var t=B.A;return B.A=f1,t}function Rc(){at=4,dr||(ze&4194048)!==ze&&un.current!==null||(Pa=!0),(fr&134217727)===0&&(Qr&134217727)===0||Xe===null||pr(Xe,ze,cn,!1)}function Oc(t,a,l){var c=$e;$e|=2;var p=$0(),x=F0();(Xe!==t||ze!==a)&&(Hs=null,Ia(t,a)),a=!1;var _=at;e:do try{if(Fe!==0&&De!==null){var R=De,L=Qt;switch(Fe){case 8:Cc(),_=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(a=!0);var Y=Fe;if(Fe=0,Qt=null,qa(t,R,L,Y),l&&Pa){_=0;break e}break;default:Y=Fe,Fe=0,Qt=null,qa(t,R,L,Y)}}p1(),_=at;break}catch(ne){H0(t,ne)}while(!0);return a&&t.shellSuspendCounter++,zn=$r=null,$e=c,B.H=p,B.A=x,De===null&&(Xe=null,ze=0,ds()),_}function p1(){for(;De!==null;)G0(De)}function g1(t,a){var l=$e;$e|=2;var c=$0(),p=F0();Xe!==t||ze!==a?(Hs=null,qs=nt()+500,Ia(t,a)):Pa=tn(t,a);e:do try{if(Fe!==0&&De!==null){a=De;var x=Qt;t:switch(Fe){case 1:Fe=0,Qt=null,qa(t,a,x,1);break;case 2:case 9:if(rm(x)){Fe=0,Qt=null,Y0(a);break}a=function(){Fe!==2&&Fe!==9||Xe!==t||(Fe=7),Tn(t)},x.then(a,a);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:rm(x)?(Fe=0,Qt=null,Y0(a)):(Fe=0,Qt=null,qa(t,a,x,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var R=De;if(!_||Tp(_)){Fe=0,Qt=null;var L=R.sibling;if(L!==null)De=L;else{var Y=R.return;Y!==null?(De=Y,Fs(Y)):De=null}break t}}Fe=0,Qt=null,qa(t,a,x,5);break;case 6:Fe=0,Qt=null,qa(t,a,x,6);break;case 8:Cc(),at=6;break e;default:throw Error(i(462))}}y1();break}catch(ne){H0(t,ne)}while(!0);return zn=$r=null,B.H=c,B.A=p,$e=l,De!==null?0:(Xe=null,ze=0,ds(),at)}function y1(){for(;De!==null&&!en();)G0(De)}function G0(t){var a=x0(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,a===null?Fs(t):De=a}function Y0(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=f0(l,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=f0(l,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:Vu(a);default:b0(l,a),a=De=Vh(a,Gn),a=x0(l,a,Gn)}t.memoizedProps=t.pendingProps,a===null?Fs(t):De=a}function qa(t,a,l,c){zn=$r=null,Vu(a),Oa=null,Ki=0;var p=a.return;try{if(l1(t,p,a,l,ze)){at=1,Ls(t,an(l,t.current)),De=null;return}}catch(x){if(p!==null)throw De=p,x;at=1,Ls(t,an(l,t.current)),De=null;return}a.flags&32768?(Ie||c===1?t=!0:Pa||(ze&536870912)!==0?t=!1:(dr=t=!0,(c===2||c===9||c===3||c===6)&&(c=un.current,c!==null&&c.tag===13&&(c.flags|=16384))),V0(a,t)):Fs(a)}function Fs(t){var a=t;do{if((a.flags&32768)!==0){V0(a,dr);return}t=a.return;var l=o1(a.alternate,a,Gn);if(l!==null){De=l;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);at===0&&(at=5)}function V0(t,a){do{var l=u1(t.alternate,t);if(l!==null){l.flags&=32767,De=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=l}while(t!==null);at=6,De=null}function K0(t,a,l,c,p,x,_,R,L){t.cancelPendingCommit=null;do Gs();while(wt!==0);if(($e&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=ku,Qv(t,l,x,_,R,L),t===Xe&&(De=Xe=null,ze=0),Ua=a,mr=t,Ba=l,Tc=x,Ac=p,U0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,w1(sa,function(){return Z0(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,p=I.p,I.p=2,_=$e,$e|=4;try{c1(t,a,l)}finally{$e=_,I.p=p,B.T=c}}wt=1,Q0(),X0(),J0()}}function Q0(){if(wt===1){wt=0;var t=mr,a=Ua,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var c=I.p;I.p=2;var p=$e;$e|=4;try{R0(a,t);var x=Fc,_=zh(t.containerInfo),R=x.focusedElem,L=x.selectionRange;if(_!==R&&R&&R.ownerDocument&&Ph(R.ownerDocument.documentElement,R)){if(L!==null&&yu(R)){var Y=L.start,ne=L.end;if(ne===void 0&&(ne=Y),"selectionStart"in R)R.selectionStart=Y,R.selectionEnd=Math.min(ne,R.value.length);else{var se=R.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Ee=R.textContent.length,Se=Math.min(L.start,Ee),Ve=L.end===void 0?Se:Math.min(L.end,Ee);!J.extend&&Se>Ve&&(_=Ve,Ve=Se,Se=_);var H=Lh(R,Se),U=Lh(R,Ve);if(H&&U&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var G=se.createRange();G.setStart(H.node,H.offset),J.removeAllRanges(),Se>Ve?(J.addRange(G),J.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),J.addRange(G))}}}}for(se=[],J=R;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<se.length;R++){var ie=se[R];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ro=!!$c,Fc=$c=null}finally{$e=p,I.p=c,B.T=l}}t.current=a,wt=2}}function X0(){if(wt===2){wt=0;var t=mr,a=Ua,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var c=I.p;I.p=2;var p=$e;$e|=4;try{T0(t,a.alternate,a)}finally{$e=p,I.p=c,B.T=l}}wt=3}}function J0(){if(wt===4||wt===3){wt=0,St();var t=mr,a=Ua,l=Ba,c=U0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wt=5:(wt=0,Ua=mr=null,W0(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(hr=null),Xo(l),a=a.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(te,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=B.T,p=I.p,I.p=2,B.T=null;try{for(var x=t.onRecoverableError,_=0;_<c.length;_++){var R=c[_];x(R.value,{componentStack:R.stack})}}finally{B.T=a,I.p=p}}(Ba&3)!==0&&Gs(),Tn(t),p=t.pendingLanes,(l&4194090)!==0&&(p&42)!==0?t===Nc?rl++:(rl=0,Nc=t):rl=0,al(0)}}function W0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,zi(a)))}function Gs(t){return Q0(),X0(),J0(),Z0()}function Z0(){if(wt!==5)return!1;var t=mr,a=Tc;Tc=0;var l=Xo(Ba),c=B.T,p=I.p;try{I.p=32>l?32:l,B.T=null,l=Ac,Ac=null;var x=mr,_=Ba;if(wt=0,Ua=mr=null,Ba=0,($e&6)!==0)throw Error(i(331));var R=$e;if($e|=4,P0(x.current),D0(x,x.current,_,l),$e=R,al(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(te,x)}catch{}return!0}finally{I.p=p,B.T=c,W0(t,a)}}function ep(t,a,l){a=an(l,a),a=sc(t.stateNode,a,2),t=ar(t,a,2),t!==null&&(wi(t,2),Tn(t))}function Ke(t,a,l){if(t.tag===3)ep(t,t,l);else for(;a!==null;){if(a.tag===3){ep(a,t,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hr===null||!hr.has(c))){t=an(l,t),l=a0(2),c=ar(a,l,2),c!==null&&(i0(l,c,a,t),wi(c,2),Tn(c));break}}a=a.return}}function Dc(t,a,l){var c=t.pingCache;if(c===null){c=t.pingCache=new h1;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Sc=!0,p.add(l),t=x1.bind(null,t,a,l),a.then(t,t))}function x1(t,a,l){var c=t.pingCache;c!==null&&c.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Xe===t&&(ze&l)===l&&(at===4||at===3&&(ze&62914560)===ze&&300>nt()-Ec?($e&2)===0&&Ia(t,0):_c|=l,za===ze&&(za=0)),Tn(t)}function tp(t,a){a===0&&(a=Jf()),t=ka(t,a),t!==null&&(wi(t,a),Tn(t))}function v1(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),tp(t,l)}function b1(t,a){var l=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),tp(t,l)}function w1(t,a){return me(t,a)}var Ys=null,Ha=null,Mc=!1,Vs=!1,Lc=!1,Xr=0;function Tn(t){t!==Ha&&t.next===null&&(Ha===null?Ys=Ha=t:Ha=Ha.next=t),Vs=!0,Mc||(Mc=!0,S1())}function al(t,a){if(!Lc&&Vs){Lc=!0;do for(var l=!1,c=Ys;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var x=0;else{var _=c.suspendedLanes,R=c.pingedLanes;x=(1<<31-je(42|t)+1)-1,x&=p&~(_&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,ip(c,x))}else x=ze,x=ht(c,c===Xe?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||tn(c,x)||(l=!0,ip(c,x));c=c.next}while(l);Lc=!1}}function k1(){np()}function np(){Vs=Mc=!1;var t=0;Xr!==0&&(R1()&&(t=Xr),Xr=0);for(var a=nt(),l=null,c=Ys;c!==null;){var p=c.next,x=rp(c,a);x===0?(c.next=null,l===null?Ys=p:l.next=p,p===null&&(Ha=l)):(l=c,(t!==0||(x&3)!==0)&&(Vs=!0)),c=p}al(t)}function rp(t,a){for(var l=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var _=31-je(x),R=1<<_,L=p[_];L===-1?((R&l)===0||(R&c)!==0)&&(p[_]=hn(R,a)):L<=a&&(t.expiredLanes|=R),x&=~R}if(a=Xe,l=ze,l=ht(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===a&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||tn(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(c!==null&&Ce(c),Xo(l)){case 2:case 8:l=bi;break;case 32:l=sa;break;case 268435456:l=Zl;break;default:l=sa}return c=ap.bind(null,t),l=me(l,c),t.callbackPriority=a,t.callbackNode=l,a}return c!==null&&c!==null&&Ce(c),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,a){if(wt!==0&&wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Gs()&&t.callbackNode!==l)return null;var c=ze;return c=ht(t,t===Xe?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(I0(t,c,a),rp(t,nt()),t.callbackNode!=null&&t.callbackNode===l?ap.bind(null,t):null)}function ip(t,a){if(Gs())return null;I0(t,a,!0)}function S1(){D1(function(){($e&6)!==0?me(Dt,k1):np()})}function Pc(){return Xr===0&&(Xr=Xf()),Xr}function lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:as(""+t)}function sp(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function _1(t,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var x=lp((p[Lt]||null).action),_=c.submitter;_&&(a=(a=_[Lt]||null)?lp(a.formAction):_.getAttribute("formAction"),a!==null&&(x=a,_=null));var R=new os("action","action",null,c,p);t.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xr!==0){var L=_?sp(p,_):new FormData(p);nc(l,{pending:!0,data:L,method:p.method,action:x},null,L)}}else typeof x=="function"&&(R.preventDefault(),L=_?sp(p,_):new FormData(p),nc(l,{pending:!0,data:L,method:p.method,action:x},x,L))},currentTarget:p}]})}}for(var zc=0;zc<wu.length;zc++){var Uc=wu[zc],j1=Uc.toLowerCase(),E1=Uc[0].toUpperCase()+Uc.slice(1);mn(j1,"on"+E1)}mn(Ih,"onAnimationEnd"),mn(qh,"onAnimationIteration"),mn(Hh,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn($b,"onTransitionRun"),mn(Fb,"onTransitionStart"),mn(Gb,"onTransitionCancel"),mn($h,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function op(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],p=c.event;c=c.listeners;e:{var x=void 0;if(a)for(var _=c.length-1;0<=_;_--){var R=c[_],L=R.instance,Y=R.currentTarget;if(R=R.listener,L!==x&&p.isPropagationStopped())break e;x=R,p.currentTarget=Y;try{x(p)}catch(ne){Ms(ne)}p.currentTarget=null,x=L}else for(_=0;_<c.length;_++){if(R=c[_],L=R.instance,Y=R.currentTarget,R=R.listener,L!==x&&p.isPropagationStopped())break e;x=R,p.currentTarget=Y;try{x(p)}catch(ne){Ms(ne)}p.currentTarget=null,x=L}}}}function Me(t,a){var l=a[Jo];l===void 0&&(l=a[Jo]=new Set);var c=t+"__bubble";l.has(c)||(up(a,t,2,!1),l.add(c))}function Bc(t,a,l){var c=0;a&&(c|=4),up(l,t,c,a)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[Ks]){t[Ks]=!0,nh.forEach(function(l){l!=="selectionchange"&&(T1.has(l)||Bc(l,!1,t),Bc(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Ks]||(a[Ks]=!0,Bc("selectionchange",!1,a))}}function up(t,a,l,c){switch(Dp(a)){case 2:var p=ew;break;case 8:p=tw;break;default:p=ed}l=p.bind(null,a,l,t),p=void 0,!ou||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(a,l,{capture:!0,passive:p}):t.addEventListener(a,l,!0):p!==void 0?t.addEventListener(a,l,{passive:p}):t.addEventListener(a,l,!1)}function qc(t,a,l,c,p){var x=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var R=c.stateNode.containerInfo;if(R===p)break;if(_===4)for(_=c.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;R!==null;){if(_=ua(R),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){c=x=_;continue e}R=R.parentNode}}c=c.return}gh(function(){var Y=x,ne=lu(l),se=[];e:{var Q=Fh.get(t);if(Q!==void 0){var J=os,Ee=t;switch(t){case"keypress":if(ls(l)===0)break e;case"keydown":case"keyup":J=wb;break;case"focusin":Ee="focus",J=fu;break;case"focusout":Ee="blur",J=fu;break;case"beforeblur":case"afterblur":J=fu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_b;break;case Ih:case qh:case Hh:J=fb;break;case $h:J=Eb;break;case"scroll":case"scrollend":J=sb;break;case"wheel":J=Ab;break;case"copy":case"cut":case"paste":J=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=wh;break;case"toggle":case"beforetoggle":J=Cb}var Se=(a&4)!==0,Ve=!Se&&(t==="scroll"||t==="scrollend"),H=Se?Q!==null?Q+"Capture":null:Q;Se=[];for(var U=Y,G;U!==null;){var ie=U;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||H===null||(ie=_i(U,H),ie!=null&&Se.push(ll(U,ie,G))),Ve)break;U=U.return}0<Se.length&&(Q=new J(Q,Ee,null,l,ne),se.push({event:Q,listeners:Se}))}}if((a&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Q&&l!==iu&&(Ee=l.relatedTarget||l.fromElement)&&(ua(Ee)||Ee[oa]))break e;if((J||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Ee=l.relatedTarget||l.toElement,J=Y,Ee=Ee?ua(Ee):null,Ee!==null&&(Ve=o(Ee),Se=Ee.tag,Ee!==Ve||Se!==5&&Se!==27&&Se!==6)&&(Ee=null)):(J=null,Ee=Y),J!==Ee)){if(Se=vh,ie="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Se=wh,ie="onPointerLeave",H="onPointerEnter",U="pointer"),Ve=J==null?Q:Si(J),G=Ee==null?Q:Si(Ee),Q=new Se(ie,U+"leave",J,l,ne),Q.target=Ve,Q.relatedTarget=G,ie=null,ua(ne)===Y&&(Se=new Se(H,U+"enter",Ee,l,ne),Se.target=G,Se.relatedTarget=Ve,ie=Se),Ve=ie,J&&Ee)t:{for(Se=J,H=Ee,U=0,G=Se;G;G=$a(G))U++;for(G=0,ie=H;ie;ie=$a(ie))G++;for(;0<U-G;)Se=$a(Se),U--;for(;0<G-U;)H=$a(H),G--;for(;U--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=$a(Se),H=$a(H)}Se=null}else Se=null;J!==null&&cp(se,Q,J,Se,!1),Ee!==null&&Ve!==null&&cp(se,Ve,Ee,Se,!0)}}e:{if(Q=Y?Si(Y):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ge=Nh;else if(Th(Q))if(Ch)ge=Ib;else{ge=Ub;var Oe=zb}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&au(Y.elementType)&&(ge=Nh):ge=Bb;if(ge&&(ge=ge(t,Y))){Ah(se,ge,l,ne);break e}Oe&&Oe(t,Q,Y),t==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&ru(Q,"number",Q.value)}switch(Oe=Y?Si(Y):window,t){case"focusin":(Th(Oe)||Oe.contentEditable==="true")&&(va=Oe,xu=Y,Oi=null);break;case"focusout":Oi=xu=va=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Uh(se,l,ne);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":Uh(se,l,ne)}var ve;if(mu)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else xa?jh(t,l)&&(_e="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(_e="onCompositionStart");_e&&(kh&&l.locale!=="ko"&&(xa||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&xa&&(ve=yh()):(er=ne,uu="value"in er?er.value:er.textContent,xa=!0)),Oe=Qs(Y,_e),0<Oe.length&&(_e=new bh(_e,t,null,l,ne),se.push({event:_e,listeners:Oe}),ve?_e.data=ve:(ve=Eh(l),ve!==null&&(_e.data=ve)))),(ve=Ob?Db(t,l):Mb(t,l))&&(_e=Qs(Y,"onBeforeInput"),0<_e.length&&(Oe=new bh("onBeforeInput","beforeinput",null,l,ne),se.push({event:Oe,listeners:_e}),Oe.data=ve)),_1(se,t,Y,l,ne)}op(se,a)})}function ll(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Qs(t,a){for(var l=a+"Capture",c=[];t!==null;){var p=t,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=_i(t,l),p!=null&&c.unshift(ll(t,p,x)),p=_i(t,a),p!=null&&c.push(ll(t,p,x))),t.tag===3)return c;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,a,l,c,p){for(var x=a._reactName,_=[];l!==null&&l!==c;){var R=l,L=R.alternate,Y=R.stateNode;if(R=R.tag,L!==null&&L===c)break;R!==5&&R!==26&&R!==27||Y===null||(L=Y,p?(Y=_i(l,x),Y!=null&&_.unshift(ll(l,Y,L))):p||(Y=_i(l,x),Y!=null&&_.push(ll(l,Y,L)))),l=l.return}_.length!==0&&t.push({event:a,listeners:_})}var A1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function dp(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(N1,"")}function fp(t,a){return a=dp(a),dp(t)===a}function Xs(){}function Ye(t,a,l,c,p,x){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||pa(t,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&pa(t,""+c);break;case"className":ts(t,"class",c);break;case"tabIndex":ts(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(t,l,c);break;case"style":mh(t,c,x);break;case"data":if(a!=="object"){ts(t,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=as(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&Ye(t,a,"name",p.name,p,null),Ye(t,a,"formEncType",p.formEncType,p,null),Ye(t,a,"formMethod",p.formMethod,p,null),Ye(t,a,"formTarget",p.formTarget,p,null)):(Ye(t,a,"encType",p.encType,p,null),Ye(t,a,"method",p.method,p,null),Ye(t,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=as(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=Xs);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=as(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":Me("beforetoggle",t),Me("toggle",t),es(t,"popover",c);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":es(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ib.get(l)||l,es(t,l,c))}}function Hc(t,a,l,c,p,x){switch(l){case"style":mh(t,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?pa(t,c):(typeof c=="number"||typeof c=="bigint")&&pa(t,""+c);break;case"onScroll":c!=null&&Me("scroll",t);break;case"onScrollEnd":c!=null&&Me("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rh.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),x=t[Lt]||null,x=x!=null?x[l]:null,typeof x=="function"&&t.removeEventListener(a,x,p),typeof c=="function")){typeof x!="function"&&x!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,c,p);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):es(t,l,c)}}}function kt(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var c=!1,p=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ye(t,a,x,_,l,null)}}p&&Ye(t,a,"srcSet",l.srcSet,l,null),c&&Ye(t,a,"src",l.src,l,null);return;case"input":Me("invalid",t);var R=x=_=p=null,L=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":p=ne;break;case"type":_=ne;break;case"checked":L=ne;break;case"defaultChecked":Y=ne;break;case"value":x=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:Ye(t,a,c,ne,l,null)}}ch(t,x,R,L,Y,_,p,!1),ns(t);return;case"select":Me("invalid",t),c=_=x=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":x=R;break;case"defaultValue":_=R;break;case"multiple":c=R;default:Ye(t,a,p,R,l,null)}a=x,l=_,t.multiple=!!c,a!=null?ma(t,!!c,a,!1):l!=null&&ma(t,!!c,l,!0);return;case"textarea":Me("invalid",t),x=p=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(R=l[_],R!=null))switch(_){case"value":c=R;break;case"defaultValue":p=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Ye(t,a,_,R,l,null)}fh(t,c,p,x),ns(t);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ye(t,a,L,c,l,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(c=0;c<il.length;c++)Me(il[c],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ye(t,a,Y,c,l,null)}return;default:if(au(a)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&Hc(t,a,ne,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&Ye(t,a,R,c,l,null))}function C1(t,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,_=null,R=null,L=null,Y=null,ne=null;for(J in l){var se=l[J];if(l.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=se;default:c.hasOwnProperty(J)||Ye(t,a,J,null,c,se)}}for(var Q in c){var J=c[Q];if(se=l[Q],c.hasOwnProperty(Q)&&(J!=null||se!=null))switch(Q){case"type":x=J;break;case"name":p=J;break;case"checked":Y=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==se&&Ye(t,a,Q,J,c,se)}}nu(t,_,R,L,Y,ne,x,p);return;case"select":J=_=R=Q=null;for(x in l)if(L=l[x],l.hasOwnProperty(x)&&L!=null)switch(x){case"value":break;case"multiple":J=L;default:c.hasOwnProperty(x)||Ye(t,a,x,null,c,L)}for(p in c)if(x=c[p],L=l[p],c.hasOwnProperty(p)&&(x!=null||L!=null))switch(p){case"value":Q=x;break;case"defaultValue":R=x;break;case"multiple":_=x;default:x!==L&&Ye(t,a,p,x,c,L)}a=R,l=_,c=J,Q!=null?ma(t,!!l,Q,!1):!!c!=!!l&&(a!=null?ma(t,!!l,a,!0):ma(t,!!l,l?[]:"",!1));return;case"textarea":J=Q=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ye(t,a,R,null,c,p)}for(_ in c)if(p=c[_],x=l[_],c.hasOwnProperty(_)&&(p!=null||x!=null))switch(_){case"value":Q=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==x&&Ye(t,a,_,p,c,x)}dh(t,Q,J);return;case"option":for(var Ee in l)if(Q=l[Ee],l.hasOwnProperty(Ee)&&Q!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ye(t,a,Ee,null,c,Q)}for(L in c)if(Q=c[L],J=l[L],c.hasOwnProperty(L)&&Q!==J&&(Q!=null||J!=null))switch(L){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ye(t,a,L,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)Q=l[Se],l.hasOwnProperty(Se)&&Q!=null&&!c.hasOwnProperty(Se)&&Ye(t,a,Se,null,c,Q);for(Y in c)if(Q=c[Y],J=l[Y],c.hasOwnProperty(Y)&&Q!==J&&(Q!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Ye(t,a,Y,Q,c,J)}return;default:if(au(a)){for(var Ve in l)Q=l[Ve],l.hasOwnProperty(Ve)&&Q!==void 0&&!c.hasOwnProperty(Ve)&&Hc(t,a,Ve,void 0,c,Q);for(ne in c)Q=c[ne],J=l[ne],!c.hasOwnProperty(ne)||Q===J||Q===void 0&&J===void 0||Hc(t,a,ne,Q,c,J);return}}for(var H in l)Q=l[H],l.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&Ye(t,a,H,null,c,Q);for(se in c)Q=c[se],J=l[se],!c.hasOwnProperty(se)||Q===J||Q==null&&J==null||Ye(t,a,se,Q,c,J)}var $c=null,Fc=null;function Js(t){return t.nodeType===9?t:t.ownerDocument}function hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Gc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yc=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===Yc?!1:(Yc=t,!0):(Yc=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(t){return gp.resolve(null).then(t).catch(M1)}:pp;function M1(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function yp(t,a){var l=a,c=0,p=0;do{var x=l.nextSibling;if(t.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<c&&8>c){l=c;var _=t.ownerDocument;if(l&1&&sl(_.documentElement),l&2&&sl(_.body),l&4)for(l=_.head,sl(l),_=l.firstChild;_;){var R=_.nextSibling,L=_.nodeName;_[ki]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=R}}if(p===0){t.removeChild(x),pl(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=x}while(l);pl(a)}function Vc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vc(l),Wo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function L1(t,a,l,c){for(;t.nodeType===1;){var p=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ki])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=gn(t.nextSibling),t===null)break}return null}function P1(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=gn(t.nextSibling),t===null))return null;return t}function Kc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function z1(t,a){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function gn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var Qc=null;function xp(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return t;a--}else l==="/$"&&a++}t=t.previousSibling}return null}function vp(t,a,l){switch(a=Js(l),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function sl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Wo(t)}var dn=new Map,bp=new Set;function Ws(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yn=I.d;I.d={f:U1,r:B1,D:I1,C:q1,L:H1,m:$1,X:G1,S:F1,M:Y1};function U1(){var t=Yn.f(),a=$s();return t||a}function B1(t){var a=ca(t);a!==null&&a.tag===5&&a.type==="form"?Im(a):Yn.r(t)}var Fa=typeof document>"u"?null:document;function wp(t,a,l){var c=Fa;if(c&&typeof a=="string"&&a){var p=rn(a);p='link[rel="'+t+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),bp.has(p)||(bp.add(p),t={rel:t,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),kt(a,"link",t),mt(a),c.head.appendChild(a)))}}function I1(t){Yn.D(t),wp("dns-prefetch",t,null)}function q1(t,a){Yn.C(t,a),wp("preconnect",t,a)}function H1(t,a,l){Yn.L(t,a,l);var c=Fa;if(c&&t&&a){var p='link[rel="preload"][as="'+rn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+rn(l.imageSizes)+'"]')):p+='[href="'+rn(t)+'"]';var x=p;switch(a){case"style":x=Ga(t);break;case"script":x=Ya(t)}dn.has(x)||(t=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),dn.set(x,t),c.querySelector(p)!==null||a==="style"&&c.querySelector(ol(x))||a==="script"&&c.querySelector(ul(x))||(a=c.createElement("link"),kt(a,"link",t),mt(a),c.head.appendChild(a)))}}function $1(t,a){Yn.m(t,a);var l=Fa;if(l&&t){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(t)+'"]',x=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ya(t)}if(!dn.has(x)&&(t=g({rel:"modulepreload",href:t},a),dn.set(x,t),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ul(x)))return}c=l.createElement("link"),kt(c,"link",t),mt(c),l.head.appendChild(c)}}}function F1(t,a,l){Yn.S(t,a,l);var c=Fa;if(c&&t){var p=da(c).hoistableStyles,x=Ga(t);a=a||"default";var _=p.get(x);if(!_){var R={loading:0,preload:null};if(_=c.querySelector(ol(x)))R.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":a},l),(l=dn.get(x))&&Xc(t,l);var L=_=c.createElement("link");mt(L),kt(L,"link",t),L._p=new Promise(function(Y,ne){L.onload=Y,L.onerror=ne}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Zs(_,a,c)}_={type:"stylesheet",instance:_,count:1,state:R},p.set(x,_)}}}function G1(t,a){Yn.X(t,a);var l=Fa;if(l&&t){var c=da(l).hoistableScripts,p=Ya(t),x=c.get(p);x||(x=l.querySelector(ul(p)),x||(t=g({src:t,async:!0},a),(a=dn.get(p))&&Jc(t,a),x=l.createElement("script"),mt(x),kt(x,"link",t),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(p,x))}}function Y1(t,a){Yn.M(t,a);var l=Fa;if(l&&t){var c=da(l).hoistableScripts,p=Ya(t),x=c.get(p);x||(x=l.querySelector(ul(p)),x||(t=g({src:t,async:!0,type:"module"},a),(a=dn.get(p))&&Jc(t,a),x=l.createElement("script"),mt(x),kt(x,"link",t),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(p,x))}}function kp(t,a,l,c){var p=(p=P.current)?Ws(p):null;if(!p)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ga(l.href),l=da(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ga(l.href);var x=da(p).hoistableStyles,_=x.get(t);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,_),(x=p.querySelector(ol(t)))&&!x._p&&(_.instance=x,_.state.loading=5),dn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dn.set(t,l),x||V1(p,t,l,_.state))),a&&c===null)throw Error(i(528,""));return _}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ya(l),l=da(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ga(t){return'href="'+rn(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function V1(t,a,l,c){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=t.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),kt(a,"link",l),mt(a),t.head.appendChild(a))}function Ya(t){return'[src="'+rn(t)+'"]'}function ul(t){return"script[async]"+t}function _p(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=t.querySelector('style[data-href~="'+rn(l.href)+'"]');if(c)return a.instance=c,mt(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),mt(c),kt(c,"style",p),Zs(c,l.precedence,t),a.instance=c;case"stylesheet":p=Ga(l.href);var x=t.querySelector(ol(p));if(x)return a.state.loading|=4,a.instance=x,mt(x),x;c=Sp(l),(p=dn.get(p))&&Xc(c,p),x=(t.ownerDocument||t).createElement("link"),mt(x);var _=x;return _._p=new Promise(function(R,L){_.onload=R,_.onerror=L}),kt(x,"link",c),a.state.loading|=4,Zs(x,l.precedence,t),a.instance=x;case"script":return x=Ya(l.src),(p=t.querySelector(ul(x)))?(a.instance=p,mt(p),p):(c=l,(p=dn.get(x))&&(c=g({},l),Jc(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),mt(p),kt(p,"link",c),t.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Zs(c,l.precedence,t));return a.instance}function Zs(t,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,x=p,_=0;_<c.length;_++){var R=c[_];if(R.dataset.precedence===a)x=R;else if(x!==p)break}x?x.parentNode.insertBefore(t,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function Xc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Jc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var eo=null;function jp(t,a,l){if(eo===null){var c=new Map,p=eo=new Map;p.set(l,c)}else p=eo,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),p=0;p<l.length;p++){var x=l[p];if(!(x[ki]||x[_t]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(a)||"";_=t+_;var R=c.get(_);R?R.push(x):c.set(_,[x])}}return c}function Ep(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function K1(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Tp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function Q1(){}function X1(t,a,l){if(cl===null)throw Error(i(475));var c=cl;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ga(l.href),x=t.querySelector(ol(p));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=to.bind(c),t.then(c,c)),a.state.loading|=4,a.instance=x,mt(x);return}x=t.ownerDocument||t,l=Sp(l),(p=dn.get(p))&&Xc(l,p),x=x.createElement("link"),mt(x);var _=x;_._p=new Promise(function(R,L){_.onload=R,_.onerror=L}),kt(x,"link",l),a.instance=x}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=to.bind(c),t.addEventListener("load",a),t.addEventListener("error",a))}}function J1(){if(cl===null)throw Error(i(475));var t=cl;return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l)}}:null}function to(){if(this.count--,this.count===0){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var no=null;function Wc(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,no=new Map,a.forEach(W1,t),no=null,to.call(t))}function W1(t,a){if(!(a.state.loading&4)){var l=no.get(t);if(l)var c=l.get(null);else{l=new Map,no.set(t,l);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var _=p[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}p=a.instance,_=p.getAttribute("data-precedence"),x=l.get(_)||c,x===c&&l.set(null,p),l.set(_,p),this.count++,c=to.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),x?x.parentNode.insertBefore(p,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),a.state.loading|=4}}var dl={$$typeof:T,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Z1(t,a,l,c,p,x,_,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.hiddenUpdates=Ko(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ap(t,a,l,c,p,x,_,R,L,Y,ne,se){return t=new Z1(t,a,l,_,R,L,Y,se),a=1,x===!0&&(a|=24),x=Yt(3,null,null,a),t.current=x,x.stateNode=t,a=Du(),a.refCount++,t.pooledCache=a,a.refCount++,x.memoizedState={element:c,isDehydrated:l,cache:a},zu(x),t}function Np(t){return t?(t=Sa,t):Sa}function Cp(t,a,l,c,p,x){p=Np(p),c.context===null?c.context=p:c.pendingContext=p,c=rr(a),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=ar(t,c,a),l!==null&&(Jt(l,t,a),qi(l,t,a))}function Rp(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Zc(t,a){Rp(t,a),(t=t.alternate)&&Rp(t,a)}function Op(t){if(t.tag===13){var a=ka(t,67108864);a!==null&&Jt(a,t,67108864),Zc(t,67108864)}}var ro=!0;function ew(t,a,l,c){var p=B.T;B.T=null;var x=I.p;try{I.p=2,ed(t,a,l,c)}finally{I.p=x,B.T=p}}function tw(t,a,l,c){var p=B.T;B.T=null;var x=I.p;try{I.p=8,ed(t,a,l,c)}finally{I.p=x,B.T=p}}function ed(t,a,l,c){if(ro){var p=td(c);if(p===null)qc(t,a,c,ao,l),Mp(t,c);else if(rw(p,t,a,l,c))c.stopPropagation();else if(Mp(t,c),a&4&&-1<nw.indexOf(t)){for(;p!==null;){var x=ca(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=Ft(x.pendingLanes);if(_!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var L=1<<31-je(_);R.entanglements[1]|=L,_&=~L}Tn(x),($e&6)===0&&(qs=nt()+500,al(0))}}break;case 13:R=ka(x,2),R!==null&&Jt(R,x,2),$s(),Zc(x,2)}if(x=td(c),x===null&&qc(t,a,c,ao,l),x===p)break;p=x}p!==null&&c.stopPropagation()}else qc(t,a,c,null,l)}}function td(t){return t=lu(t),nd(t)}var ao=null;function nd(t){if(ao=null,t=ua(t),t!==null){var a=o(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=u(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return ao=t,null}function Dp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case Dt:return 2;case bi:return 8;case sa:case Go:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var rd=!1,yr=null,xr=null,vr=null,fl=new Map,hl=new Map,br=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(t,a){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":fl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(a.pointerId)}}function ml(t,a,l,c,p,x){return t===null||t.nativeEvent!==x?(t={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:x,targetContainers:[p]},a!==null&&(a=ca(a),a!==null&&Op(a)),t):(t.eventSystemFlags|=c,a=t.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),t)}function rw(t,a,l,c,p){switch(a){case"focusin":return yr=ml(yr,t,a,l,c,p),!0;case"dragenter":return xr=ml(xr,t,a,l,c,p),!0;case"mouseover":return vr=ml(vr,t,a,l,c,p),!0;case"pointerover":var x=p.pointerId;return fl.set(x,ml(fl.get(x)||null,t,a,l,c,p)),!0;case"gotpointercapture":return x=p.pointerId,hl.set(x,ml(hl.get(x)||null,t,a,l,c,p)),!0}return!1}function Lp(t){var a=ua(t.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){t.blockedOn=a,Xv(t.priority,function(){if(l.tag===13){var c=Xt();c=Qo(c);var p=ka(l,c);p!==null&&Jt(p,l,c),Zc(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function io(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=td(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);iu=c,l.target.dispatchEvent(c),iu=null}else return a=ca(l),a!==null&&Op(a),t.blockedOn=l,!1;a.shift()}return!0}function Pp(t,a,l){io(t)&&l.delete(a)}function aw(){rd=!1,yr!==null&&io(yr)&&(yr=null),xr!==null&&io(xr)&&(xr=null),vr!==null&&io(vr)&&(vr=null),fl.forEach(Pp),hl.forEach(Pp)}function lo(t,a){t.blockedOn===a&&(t.blockedOn=null,rd||(rd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,aw)))}var so=null;function zp(t){so!==t&&(so=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){so===t&&(so=null);for(var a=0;a<t.length;a+=3){var l=t[a],c=t[a+1],p=t[a+2];if(typeof c!="function"){if(nd(c||l)===null)continue;break}var x=ca(l);x!==null&&(t.splice(a,3),a-=3,nc(x,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function pl(t){function a(L){return lo(L,t)}yr!==null&&lo(yr,t),xr!==null&&lo(xr,t),vr!==null&&lo(vr,t),fl.forEach(a),hl.forEach(a);for(var l=0;l<br.length;l++){var c=br[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<br.length&&(l=br[0],l.blockedOn===null);)Lp(l),l.blockedOn===null&&br.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],x=l[c+1],_=p[Lt]||null;if(typeof x=="function")_||zp(l);else if(_){var R=null;if(x&&x.hasAttribute("formAction")){if(p=x,_=x[Lt]||null)R=_.formAction;else if(nd(p)!==null)continue}else R=_.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),zp(l)}}}function ad(t){this._internalRoot=t}oo.prototype.render=ad.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Xt();Cp(l,c,t,a,null,null)},oo.prototype.unmount=ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Cp(t.current,2,null,t,null,null),$s(),a[oa]=null}};function oo(t){this._internalRoot=t}oo.prototype.unstable_scheduleHydration=function(t){if(t){var a=eh();t={blockedOn:null,target:t,priority:a};for(var l=0;l<br.length&&a!==0&&a<br[l].priority;l++);br.splice(l,0,t),l===0&&Lp(t)}};var Up=n.version;if(Up!=="19.1.0")throw Error(i(527,Up,"19.1.0"));I.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=h(a),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{te=uo.inject(iw),fe=uo}catch{}}return yl.createRoot=function(t,a){if(!s(t))throw Error(i(299));var l=!1,c="",p=e0,x=t0,_=n0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=Ap(t,1,!1,null,null,l,c,p,x,_,R,null),t[oa]=a.current,Ic(t),new ad(a)},yl.hydrateRoot=function(t,a,l){if(!s(t))throw Error(i(299));var c=!1,p="",x=e0,_=t0,R=n0,L=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=Ap(t,1,!0,a,l??null,c,p,x,_,R,L,Y),a.context=Np(null),l=a.current,c=Xt(),c=Qo(c),p=rr(c),p.callback=null,ar(l,p,c),l=c,a.current.lanes=l,wi(a,l),Tn(a),t[oa]=a.current,Ic(t),new oo(a)},yl.version="19.1.0",yl}var Kp;function gw(){if(Kp)return sd.exports;Kp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),sd.exports=pw(),sd.exports}var yw=gw();const xw=Fl(yw);var xl={},Qp;function vw(){if(Qp)return xl;Qp=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=u,xl.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,b){const w=new o,E=v.length;if(E<2)return w;const j=(b==null?void 0:b.decode)||g;let k=0;do{const C=v.indexOf("=",k);if(C===-1)break;const T=v.indexOf(";",k),N=T===-1?E:T;if(C>N){k=v.lastIndexOf(";",C-1)+1;continue}const O=d(v,k,C),D=h(v,C,O),F=v.slice(O,D);if(w[F]===void 0){let V=d(v,C+1,N),ee=h(v,N,V);const z=j(v.slice(V,ee));w[F]=z}k=N+1}while(k<E);return w}function d(v,b,w){do{const E=v.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<w);return w}function h(v,b,w){for(;b>w;){const E=v.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return w}function m(v,b,w){const E=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const j=E(b);if(!n.test(j))throw new TypeError(`argument val is invalid: ${b}`);let k=v+"="+j;if(!w)return k;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);k+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);k+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);k+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);k+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(k+="; HttpOnly"),w.secure&&(k+="; Secure"),w.partitioned&&(k+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return k}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return s.call(v)==="[object Date]"}return xl}vw();var Xp="popstate";function bw(e={}){function n(i,s){let{pathname:o,search:u,hash:d}=i.location;return Yd("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:zl(s)}return kw(n,r,null,e)}function et(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function bn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function Jp(e,n){return{usr:e.state,key:e.key,idx:n}}function Yd(e,n,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?mi(n):n,state:r,key:n&&n.key||i||ww()}}function zl({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mi(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(n.search=e.substring(i),e=e.substring(0,i)),e&&(n.pathname=e)}return n}function kw(e,n,r,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,d="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let j=g(),k=j==null?null:j-m;m=j,h&&h({action:d,location:E.location,delta:k})}function v(j,k){d="PUSH";let C=Yd(E.location,j,k);m=g()+1;let T=Jp(C,m),N=E.createHref(C);try{u.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&h&&h({action:d,location:E.location,delta:1})}function b(j,k){d="REPLACE";let C=Yd(E.location,j,k);m=g();let T=Jp(C,m),N=E.createHref(C);u.replaceState(T,"",N),o&&h&&h({action:d,location:E.location,delta:0})}function w(j){return Sw(j)}let E={get action(){return d},get location(){return e(s,u)},listen(j){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Xp,y),h=j,()=>{s.removeEventListener(Xp,y),h=null}},createHref(j){return n(s,j)},createURL:w,encodeLocation(j){let k=w(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:b,go(j){return u.go(j)}};return E}function Sw(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),et(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:zl(e);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Xy(e,n,r="/"){return _w(e,n,r,!1)}function _w(e,n,r,i){let s=typeof n=="string"?mi(n):n,o=Xn(s.pathname||"/",r);if(o==null)return null;let u=Jy(e);jw(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=Pw(o);d=Mw(u[h],m,i)}return d}function Jy(e,n=[],r=[],i=""){let s=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(et(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=Qn([i,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(et(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Jy(o.children,n,g,m)),!(o.path==null&&!o.index)&&n.push({path:m,score:Ow(m,o.index),routesMeta:g})};return e.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let h of Wy(o.path))s(o,u,h)}),n}function Wy(e){let n=e.split("/");if(n.length===0)return[];let[r,...i]=n,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=Wy(i.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function jw(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:Dw(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Ew=/^:[\w-]+$/,Tw=3,Aw=2,Nw=1,Cw=10,Rw=-2,Wp=e=>e==="*";function Ow(e,n){let r=e.split("/"),i=r.length;return r.some(Wp)&&(i+=Rw),n&&(i+=Aw),r.filter(s=>!Wp(s)).reduce((s,o)=>s+(Ew.test(o)?Tw:o===""?Nw:Cw),i)}function Dw(e,n){return e.length===n.length&&e.slice(0,-1).every((i,s)=>i===n[s])?e[e.length-1]-n[n.length-1]:0}function Mw(e,n,r=!1){let{routesMeta:i}=e,s={},o="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,g=o==="/"?n:n.slice(o.length)||"/",y=No({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!y&&m&&r&&!i[i.length-1].route.index&&(y=No({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:Qn([o,y.pathname]),pathnameBase:Iw(Qn([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Qn([o,y.pathnameBase]))}return u}function No(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Lw(e.path,e.caseSensitive,e.end),s=n.match(r);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=d[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[v];return y&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function Lw(e,n=!1,r=!0){bn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,n?void 0:"i"),i]}function Pw(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return bn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Xn(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function zw(e,n="/"){let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?mi(e):e;return{pathname:r?r.startsWith("/")?r:Uw(r,n):n,search:qw(i),hash:Hw(s)}}function Uw(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dd(e,n,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bw(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function pf(e){let n=Bw(e);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function gf(e,n,r,i=!1){let s;typeof e=="string"?s=mi(e):(s={...e},et(!s.pathname||!s.pathname.includes("?"),dd("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),dd("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),dd("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=r;else{let y=n.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}d=y>=0?n[y]:"/"}let h=zw(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var Qn=e=>e.join("/").replace(/\/\/+/g,"/"),Iw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $w(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Zy=["POST","PUT","PATCH","DELETE"];new Set(Zy);var Fw=["GET",...Zy];new Set(Fw);var pi=M.createContext(null);pi.displayName="DataRouter";var zo=M.createContext(null);zo.displayName="DataRouterState";var ex=M.createContext({isTransitioning:!1});ex.displayName="ViewTransition";var Gw=M.createContext(new Map);Gw.displayName="Fetchers";var Yw=M.createContext(null);Yw.displayName="Await";var wn=M.createContext(null);wn.displayName="Navigation";var Gl=M.createContext(null);Gl.displayName="Location";var Nn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var yf=M.createContext(null);yf.displayName="RouteError";function Vw(e,{relative:n}={}){et(gi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=M.useContext(wn),{hash:s,pathname:o,search:u}=Yl(e,{relative:n}),d=o;return r!=="/"&&(d=o==="/"?r:Qn([r,o])),i.createHref({pathname:d,search:u,hash:s})}function gi(){return M.useContext(Gl)!=null}function Jn(){return et(gi(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Gl).location}var tx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nx(e){M.useContext(wn).static||M.useLayoutEffect(e)}function xf(){let{isDataRoute:e}=M.useContext(Nn);return e?lk():Kw()}function Kw(){et(gi(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(pi),{basename:n,navigator:r}=M.useContext(wn),{matches:i}=M.useContext(Nn),{pathname:s}=Jn(),o=JSON.stringify(pf(i)),u=M.useRef(!1);return nx(()=>{u.current=!0}),M.useCallback((h,m={})=>{if(bn(u.current,tx),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=gf(h,JSON.parse(o),s,m.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Qn([n,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[n,r,o,s,e])}M.createContext(null);function Yl(e,{relative:n}={}){let{matches:r}=M.useContext(Nn),{pathname:i}=Jn(),s=JSON.stringify(pf(r));return M.useMemo(()=>gf(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function Qw(e,n){return rx(e,n)}function rx(e,n,r,i){var k;et(gi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(wn),{matches:o}=M.useContext(Nn),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";ax(h,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=Jn(),v;if(n){let C=typeof n=="string"?mi(n):n;et(m==="/"||((k=C.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=y;let b=v.pathname||"/",w=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=Xy(e,{pathname:w});bn(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),bn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=ek(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Qn([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Qn([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,i);return n&&j?M.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},j):j}function Xw(){let e=ik(),n=$w(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),r?M.createElement("pre",{style:s},r):null,u)}var Jw=M.createElement(Xw,null),Ww=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Nn.Provider,{value:this.props.routeContext},M.createElement(yf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:e,match:n,children:r}){let i=M.useContext(pi);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Nn.Provider,{value:e},r)}function ek(e,n=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let h=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);et(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:g,errors:y}=r,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,m,g)=>{let y,v=!1,b=null,w=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||Jw,u&&(d<0&&g===0?(ax("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=m.route.hydrateFallbackElement||null)));let E=n.concat(s.slice(0,g+1)),j=()=>{let k;return y?k=b:v?k=w:m.route.Component?k=M.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,M.createElement(Zw,{match:m,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:k})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(Ww,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):j()},null)}function vf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(e){let n=M.useContext(pi);return et(n,vf(e)),n}function nk(e){let n=M.useContext(zo);return et(n,vf(e)),n}function rk(e){let n=M.useContext(Nn);return et(n,vf(e)),n}function bf(e){let n=rk(e),r=n.matches[n.matches.length-1];return et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ak(){return bf("useRouteId")}function ik(){var i;let e=M.useContext(yf),n=nk("useRouteError"),r=bf("useRouteError");return e!==void 0?e:(i=n.errors)==null?void 0:i[r]}function lk(){let{router:e}=tk("useNavigate"),n=bf("useNavigate"),r=M.useRef(!1);return nx(()=>{r.current=!0}),M.useCallback(async(s,o={})=>{bn(r.current,tx),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:n,...o}))},[e,n])}var Zp={};function ax(e,n,r){!n&&!Zp[e]&&(Zp[e]=!0,bn(!1,r))}M.memo(sk);function sk({routes:e,future:n,state:r}){return rx(e,void 0,r,n)}function Jr({to:e,replace:n,state:r,relative:i}){et(gi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext(wn);bn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Nn),{pathname:u}=Jn(),d=xf(),h=gf(e,pf(o),u,i==="path"),m=JSON.stringify(h);return M.useEffect(()=>{d(JSON.parse(m),{replace:n,state:r,relative:i})},[d,m,i,n,r]),null}function _r(e){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ok({basename:e="/",children:n=null,location:r,navigationType:i="POP",navigator:s,static:o=!1}){et(!gi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof r=="string"&&(r=mi(r));let{pathname:h="/",search:m="",hash:g="",state:y=null,key:v="default"}=r,b=M.useMemo(()=>{let w=Xn(h,u);return w==null?null:{location:{pathname:w,search:m,hash:g,state:y,key:v},navigationType:i}},[u,h,m,g,y,v,i]);return bn(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(wn.Provider,{value:d},M.createElement(Gl.Provider,{children:n,value:b}))}function uk({children:e,location:n}){return Qw(Vd(e),n)}function Vd(e,n=[]){let r=[];return M.Children.forEach(e,(i,s)=>{if(!M.isValidElement(i))return;let o=[...n,s];if(i.type===M.Fragment){r.push.apply(r,Vd(i.props.children,o));return}et(i.type===_r,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Vd(i.props.children,o)),r.push(u)}),r}var _o="get",jo="application/x-www-form-urlencoded";function Uo(e){return e!=null&&typeof e.tagName=="string"}function ck(e){return Uo(e)&&e.tagName.toLowerCase()==="button"}function dk(e){return Uo(e)&&e.tagName.toLowerCase()==="form"}function fk(e){return Uo(e)&&e.tagName.toLowerCase()==="input"}function hk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mk(e,n){return e.button===0&&(!n||n==="_self")&&!hk(e)}var co=null;function pk(){if(co===null)try{new FormData(document.createElement("form"),0),co=!1}catch{co=!0}return co}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(e){return e!=null&&!gk.has(e)?(bn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jo}"`),null):e}function yk(e,n){let r,i,s,o,u;if(dk(e)){let d=e.getAttribute("action");i=d?Xn(d,n):null,r=e.getAttribute("method")||_o,s=fd(e.getAttribute("enctype"))||jo,o=new FormData(e)}else if(ck(e)||fk(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(i=h?Xn(h,n):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||_o,s=fd(e.getAttribute("formenctype"))||fd(d.getAttribute("enctype"))||jo,o=new FormData(d,e),!pk()){let{name:m,type:g,value:y}=e;if(g==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,y)}}else{if(Uo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_o,i=null,s=jo,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:r.toLowerCase(),encType:s,formData:o,body:u}}function wf(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}async function xk(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bk(e,n,r){let i=await Promise.all(e.map(async s=>{let o=n.routes[s.route.id];if(o){let u=await xk(o,r);return u.links?u.links():[]}return[]}));return _k(i.flat(1).filter(vk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function eg(e,n,r,i,s,o){let u=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>{var g;return r[m].pathname!==h.pathname||((g=r[m].route.path)==null?void 0:g.endsWith("*"))&&r[m].params["*"]!==h.params["*"]};return o==="assets"?n.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?n.filter((h,m)=>{var y;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function wk(e,n,{includeHydrateFallback:r}={}){return kk(e.map(i=>{let s=n.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function kk(e){return[...new Set(e)]}function Sk(e){let n={},r=Object.keys(e).sort();for(let i of r)n[i]=e[i];return n}function _k(e,n){let r=new Set;return new Set(n),e.reduce((i,s)=>{let o=JSON.stringify(Sk(s));return r.has(o)||(r.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jk=new Set([100,101,204,205]);function Ek(e,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":n&&Xn(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function ix(){let e=M.useContext(pi);return wf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Tk(){let e=M.useContext(zo);return wf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var kf=M.createContext(void 0);kf.displayName="FrameworkContext";function lx(){let e=M.useContext(kf);return wf(e,"You must render this element inside a <HydratedRouter> element"),e}function Ak(e,n){let r=M.useContext(kf),[i,s]=M.useState(!1),[o,u]=M.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=n,v=M.useRef(null);M.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=k=>{k.forEach(C=>{u(C.isIntersecting)})},j=new IntersectionObserver(E,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),M.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let b=()=>{s(!0)},w=()=>{s(!1),u(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:vl(d,b),onBlur:vl(h,w),onMouseEnter:vl(m,b),onMouseLeave:vl(g,w),onTouchStart:vl(y,b)}]:[!1,v,{}]}function vl(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function Nk({page:e,...n}){let{router:r}=ix(),i=M.useMemo(()=>Xy(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?M.createElement(Rk,{page:e,matches:i,...n}):null}function Ck(e){let{manifest:n,routeModules:r}=lx(),[i,s]=M.useState([]);return M.useEffect(()=>{let o=!1;return bk(e,n,r).then(u=>{o||s(u)}),()=>{o=!0}},[e,n,r]),i}function Rk({page:e,matches:n,...r}){let i=Jn(),{manifest:s,routeModules:o}=lx(),{basename:u}=ix(),{loaderData:d,matches:h}=Tk(),m=M.useMemo(()=>eg(e,n,h,s,i,"data"),[e,n,h,s,i]),g=M.useMemo(()=>eg(e,n,h,s,i,"assets"),[e,n,h,s,i]),y=M.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let w=new Set,E=!1;if(n.forEach(k=>{var T;let C=s.routes[k.route.id];!C||!C.hasLoader||(!m.some(N=>N.route.id===k.route.id)&&k.route.id in d&&((T=o[k.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let j=Ek(e,u);return E&&w.size>0&&j.searchParams.set("_routes",n.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[u,d,i,s,m,n,e,o]),v=M.useMemo(()=>wk(g,s),[g,s]),b=Ck(g);return M.createElement(M.Fragment,null,y.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),b.map(({key:w,link:E})=>M.createElement("link",{key:w,...E})))}function Ok(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.6.3")}catch{}function Dk({basename:e,children:n,window:r}){let i=M.useRef();i.current==null&&(i.current=bw({window:r,v5Compat:!0}));let s=i.current,[o,u]=M.useState({action:s.action,location:s.location}),d=M.useCallback(h=>{M.startTransition(()=>u(h))},[u]);return M.useLayoutEffect(()=>s.listen(d),[s,d]),M.createElement(ok,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=M.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:g,viewTransition:y,...v},b){let{basename:w}=M.useContext(wn),E=typeof m=="string"&&ox.test(m),j,k=!1;if(typeof m=="string"&&E&&(j=m,sx))try{let ee=new URL(window.location.href),z=m.startsWith("//")?new URL(ee.protocol+m):new URL(m),q=Xn(z.pathname,w);z.origin===ee.origin&&q!=null?m=q+z.search+z.hash:k=!0}catch{bn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Vw(m,{relative:s}),[T,N,O]=Ak(i,v),D=zk(m,{replace:u,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:y});function F(ee){n&&n(ee),ee.defaultPrevented||D(ee)}let V=M.createElement("a",{...v,...O,href:j||C,onClick:k||o?n:F,ref:Ok(b,N),target:h,"data-discover":!E&&r==="render"?"true":void 0});return T&&!E?M.createElement(M.Fragment,null,V,M.createElement(Nk,{page:C})):V});si.displayName="Link";var Mk=M.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:d,children:h,...m},g){let y=Yl(u,{relative:m.relative}),v=Jn(),b=M.useContext(zo),{navigator:w,basename:E}=M.useContext(wn),j=b!=null&&Hk(y)&&d===!0,k=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,C=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(C=C.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&E&&(T=Xn(T,E)||T);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=C===k||!s&&C.startsWith(k)&&C.charAt(N)==="/",D=T!=null&&(T===k||!s&&T.startsWith(k)&&T.charAt(k.length)==="/"),F={isActive:O,isPending:D,isTransitioning:j},V=O?n:void 0,ee;typeof i=="function"?ee=i(F):ee=[i,O?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(F):o;return M.createElement(si,{...m,"aria-current":V,className:ee,ref:g,style:z,to:u,viewTransition:d},typeof h=="function"?h(F):h)});Mk.displayName="NavLink";var Lk=M.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:u=_o,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:y,...v},b)=>{let w=Ik(),E=qk(d,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&ox.test(d),C=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let N=T.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||u;w(N||T.currentTarget,{fetcherKey:n,method:O,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:y})};return M.createElement("form",{ref:b,method:j,action:E,onSubmit:i?h:C,...v,"data-discover":!k&&e==="render"?"true":void 0})});Lk.displayName="Form";function Pk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(e){let n=M.useContext(pi);return et(n,Pk(e)),n}function zk(e,{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=xf(),h=Jn(),m=Yl(e,{relative:o});return M.useCallback(g=>{if(mk(g,n)){g.preventDefault();let y=r!==void 0?r:zl(h)===zl(m);d(e,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[h,d,m,r,i,n,e,s,o,u])}var Uk=0,Bk=()=>`__${String(++Uk)}__`;function Ik(){let{router:e}=ux("useSubmit"),{basename:n}=M.useContext(wn),r=ak();return M.useCallback(async(i,s={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=yk(i,n);if(s.navigate===!1){let g=s.fetcherKey||Bk();await e.fetch(g,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}function qk(e,{relative:n}={}){let{basename:r}=M.useContext(wn),i=M.useContext(Nn);et(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Yl(e||".",{relative:n})},u=Jn();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Qn([r,o.pathname])),zl(o)}function Hk(e,n={}){let r=M.useContext(ex);et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ux("useViewTransitionState"),s=Yl(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=Xn(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=Xn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return No(s.pathname,u)!=null||No(s.pathname,o)!=null}[...jk];const $k=e=>{const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-i.getTime())/864e5+1)/7)},Fk=(e,n)=>{if(e.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const r=[...e].sort((y,v)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime()),i={};r.forEach(y=>{const v=new Date(y.timestamp);let b="";if(n==="daily")b=v.toLocaleDateString("en-CA");else if(n==="weekly"){const w=v.getFullYear(),E=$k(v);b=`${w}-W${E.toString().padStart(2,"0")}`}else b=`${v.getFullYear()}-${(v.getMonth()+1).toString().padStart(2,"0")}`;switch(i[b]||(i[b]={profit:0,loss:0,pending:0,pl:0}),y.status){case"profit":i[b].profit+=1,i[b].pl+=y.outcomeAmount||0;break;case"stop-loss":i[b].loss+=1,i[b].pl-=y.outcomeAmount||0;break;case"pending":i[b].pending+=1;break}});const s=Object.keys(i).sort(),o=s,u=s.map(y=>i[y].profit),d=s.map(y=>i[y].loss),h=s.map(y=>i[y].pending),m=[];let g=0;return s.forEach(y=>{g+=i[y].pl,m.push(g)}),{labels:o,profitData:u,lossData:d,pendingData:h,cumulativePlData:m}},hd=({buttonTimeframe:e,activeTimeframe:n,setTimeframe:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${n===e?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),Gk=({history:e})=>{const n=M.useRef(null),r=M.useRef(null),[i,s]=M.useState("daily");return M.useEffect(()=>{if(!n.current)return;const o=n.current.getContext("2d");if(!o)return;r.current&&r.current.destroy();const{labels:u,profitData:d,lossData:h,pendingData:m,cumulativePlData:g}=Fk(e,i),y="rgba(203, 213, 225, 0.5)",v="rgba(100, 116, 139, 1)",b=o.createLinearGradient(0,0,0,300);b.addColorStop(0,"rgba(34, 197, 94, 0.8)"),b.addColorStop(1,"rgba(34, 197, 94, 0.4)");const w=o.createLinearGradient(0,0,0,300);w.addColorStop(0,"rgba(239, 68, 68, 0.8)"),w.addColorStop(1,"rgba(239, 68, 68, 0.4)");const E=o.createLinearGradient(0,0,0,300);E.addColorStop(0,"rgba(100, 116, 139, 0.7)"),E.addColorStop(1,"rgba(100, 116, 139, 0.3)");const j=o.createLinearGradient(0,50,0,300);return j.addColorStop(0,"rgba(124, 58, 237, 0.5)"),j.addColorStop(1,"rgba(124, 58, 237, 0.05)"),r.current=new window.Chart(o,{type:"bar",data:{labels:u,datasets:[{label:"Profit",data:d,backgroundColor:b,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:h,backgroundColor:w,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:m,backgroundColor:E,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:g,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:j,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:v,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:y,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:v,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:v,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:v,font:{family:"inherit"},callback:function(k){return typeof k!="number"?k:Math.abs(k)>=1e3?"$"+(k/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+k}},title:{display:!0,text:"Cumulative P/L ($)",color:v,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:v,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:"#1e293b",bodyColor:"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(k){let C=k.dataset.label||"";return C&&(C+=": "),k.parsed.y!==null&&(k.dataset.yAxisID==="y1"?C+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k.parsed.y):C+=k.parsed.y),C}}}}}}),()=>{r.current&&r.current.destroy()}},[e,i]),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(hd,{buttonTimeframe:"daily",activeTimeframe:i,setTimeframe:s,children:"Daily"}),f.jsx(hd,{buttonTimeframe:"weekly",activeTimeframe:i,setTimeframe:s,children:"Weekly"}),f.jsx(hd,{buttonTimeframe:"monthly",activeTimeframe:i,setTimeframe:s,children:"Monthly"})]})]}),f.jsx("div",{className:"relative h-96",children:e.length>0?f.jsx("canvas",{ref:n}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",f.jsx("br",{})," Complete some trades to see the chart."]})})})]})},Yk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Vk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Kk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Qk=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),cx=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),dx=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ul=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Xk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),fx=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),tg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Jk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),md=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),oi=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:f.jsxs("g",{children:[f.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:f.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),f.jsx("g",{})]})}),Tl=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Nr=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Wk=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Zk=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),ng=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),rg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),ag=({className:e})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),ig=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),lg=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),eS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),tS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),nS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),rS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),aS=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Kd=({className:e})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),hx={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:ng,image:ng},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:rg,image:rg},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:ag,image:ag},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:ig,image:ig},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:lg,image:lg}},iS=e=>{const n=e.filter(E=>E.status!=="pending"),r=n.length,i=n.filter(E=>E.status==="profit").length,s=r>0?i/r*100:0,o=n.filter(E=>E.status==="profit").reduce((E,j)=>E+(j.outcomeAmount||0),0),u=n.reduce((E,j)=>E+(parseFloat(j.tradeSetup.entryPrice)||0),0);let d=0,h=0,m=0,g=0,y=null,v=0;n.forEach(E=>{if(E.status==="stop-loss"?(h++,d=Math.max(d,h),g=0):E.status==="profit"&&(g++,m=Math.max(m,g),h=0),E.timestamp){const j=new Date(E.timestamp);if(y){const k=Math.floor((j.getTime()-y.getTime())/864e5);v=Math.max(v,k)}y=new Date(E.timestamp)}});let b="Novice Navigator";r>=30&&s>=80?b="Elite Executor":r>=20&&s>=60?b="Strategy Sentinel":r>=10&&s>=40?b="Pattern Pursuer":r>=10&&(b="Market Apprentice");const w=[];return r>=30&&d<=3&&s>=70&&w.push("Risk Master"),r>=40&&v<=7&&s>=60&&w.push("Consistency Champion"),d>=5&&m>=3&&w.push("Comeback King/Queen"),u>=1e5&&w.push("Volume Virtuoso"),o>=1e4&&w.push("Profit Hunter"),r>=20&&n.every(E=>E.status!=="stop-loss"||(E.outcomeAmount||0)>=-.02)&&w.push("Iron Hands"),m>=7&&w.push("Streak Specialist"),{tier:b,...hx[b],badges:w}};function lS(e,n,r){switch(e){case"Novice Navigator":return{next:"Market Apprentice",need:Math.max(10-n,0),desc:"Selesaikan 10 trade"};case"Market Apprentice":return{next:"Pattern Pursuer",need:Math.max(30-n,0),win:r<40?40-r:0,desc:"30 trade & win rate  40%"};case"Pattern Pursuer":return{next:"Strategy Sentinel",need:Math.max(60-n,0),win:r<50?50-r:0,desc:"60 trade & win rate  50%"};case"Strategy Sentinel":return{next:"Elite Executor",need:Math.max(100-n,0),win:r<60?60-r:0,desc:"100 trade & win rate  60%"};default:return{next:null,need:0,desc:"Tier tertinggi"}}}const sS=e=>{const n=e.filter(C=>C.status!=="pending"),r=n.filter(C=>C.status==="profit"),i=n.filter(C=>C.status==="stop-loss"),s=r.length,o=i.length,u=n.length,d=u>0?s/u*100:0,h=r.reduce((C,T)=>C+(T.outcomeAmount||0),0),m=i.reduce((C,T)=>C+(T.outcomeAmount||0),0),g=s>0?h/s:0,y=o>0?m/o:0,v=m>0?h/m:0;let b=0,w=0,E=0;n.forEach(C=>{C.status==="profit"?w+=C.outcomeAmount||0:w-=C.outcomeAmount||0,w>E&&(E=w);const T=E-w;T>b&&(b=T)});const j=r.length>0?Math.max(...r.map(C=>C.outcomeAmount||0)):0,k=i.length>0?Math.max(...i.map(C=>C.outcomeAmount||0)):0;return{averageWin:g,averageLoss:y,profitFactor:v,maxDrawdown:b,bestTrade:j,worstTrade:k,totalTrades:u,winRate:d,totalWins:s,totalLosses:o}},oS=e=>{const r=e.filter(h=>h.status!=="pending").slice(-5),i=r.length>0?r.filter(h=>h.status==="profit").length/r.length:.5;let s="neutral",o=5,u="Neutral pattern";i>=.8?(s="confident",o=2,u="Confident  High Performance"):i>=.6?(s="calm",o=3,u="Calm  Consistent Results"):i>=.4?(s="nervous",o=6,u="Nervous  Mixed Results"):(s="frustrated",o=8,u="Frustrated  Poor Performance");const d=r.map((h,m)=>({tradeId:h.id,preTradeMood:["confident","calm","nervous","excited"][m%4],postTradeEmotion:h.status==="profit"?"happy":"frustrated",stressLevel:Math.floor(Math.random()*5)+3,timestamp:h.timestamp}));return{currentMood:s,stressLevel:o,emotionalPattern:u,recentEmotions:d}},uS=e=>({confident:"",nervous:"",excited:"",calm:"",frustrated:"",neutral:""})[e],cS=e=>e<=3?"text-green-600 dark:text-green-400":e<=6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";function dS(e,n,r=7){const i={};e.forEach(w=>{if(!w.timestamp)return;const j=new Date(w.timestamp).toISOString().slice(0,10);i[j]||(i[j]=[]),i[j].push(w)});const s=new Date,o=[];for(let w=r-1;w>=0;w--){const E=new Date(s);E.setDate(s.getDate()-w),o.push(E.toISOString().slice(0,10))}let u=n,d=0,h=0,m=0,g=0,y=0,v=0;return o.map(w=>{const j=(i[w]||[]).filter(z=>z.status!=="pending"),k=j.filter(z=>z.status==="profit").length,C=j.filter(z=>z.status==="stop-loss").length,T=j.reduce((z,q)=>q.status==="profit"?z+(q.outcomeAmount||0):q.status==="stop-loss"?z-(q.outcomeAmount||0):z,0),N=u+T,O=h+j.length,D=m+k,F=g+C,V=D+F>0?D/(D+F)*100:v,ee=F>0?D/F:y;return u=N,d+=T,h=O,m=D,g=F,y=ee,v=V,{date:w,equity:N,netPL:d,totalTrades:O,winRate:V,profitFactor:ee}})}const fS=[{name:"Novice Navigator",desc:"You are just starting your trading journey.",requirement:"< 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Market Apprentice",desc:"Learning the ropes and gaining experience.",requirement:" 10 trade",rarity:"common",colorClass:"text-green-600"},{name:"Pattern Pursuer",desc:"Spotting opportunities and building consistency.",requirement:" 10 trade & win rate  40%",rarity:"common",colorClass:"text-green-600"},{name:"Strategy Sentinel",desc:"Strong discipline and robust strategy.",requirement:" 20 trade & win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Elite Executor",desc:"Mastery and exceptional performance.",requirement:" 30 trade & win rate  80%",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Master",desc:"Low drawdown, high win rate.",requirement:" 30 trade, max loss streak  3, win rate  70%",rarity:"rare",colorClass:"text-violet-600"},{name:"Consistency Champion",desc:"Never absent > 7 days, high win rate.",requirement:" 40 trade, win rate  60%",rarity:"rare",colorClass:"text-violet-600"},{name:"Comeback King/Queen",desc:"Bounce back from big loss streak.",requirement:"Loss streak  5, win streak  3",rarity:"rare",colorClass:"text-violet-600"},{name:"Volume Virtuoso",desc:"Huge trading volume.",requirement:"Total nominal trading  $100,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Profit Hunter",desc:"Big net profit.",requirement:"Total net profit  $10,000",rarity:"epic",colorClass:"text-orange-600"},{name:"Iron Hands",desc:"Never cut loss > 2% equity.",requirement:" 20 trade, no big cut loss",rarity:"rare",colorClass:"text-violet-600"},{name:"Streak Specialist",desc:"Long win streak.",requirement:"Win streak  7",rarity:"rare",colorClass:"text-violet-600"},{name:"Drawdown Dodger",desc:"Never loss streak > 2 in 50 trade.",requirement:"No loss streak > 2 in 50 trade",rarity:"rare",colorClass:"text-violet-600"},{name:"Scalping Samurai",desc:"Scalp master.",requirement:" 50 scalp trade, win rate  60%",rarity:"epic",colorClass:"text-orange-600"},{name:"Swing Strategist",desc:"Swing master.",requirement:" 30 swing trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Day Dominator",desc:"Day trade master.",requirement:" 30 day trade, win rate  65%",rarity:"epic",colorClass:"text-orange-600"},{name:"Position Prodigy",desc:"Position trade master.",requirement:" 20 position trade, win rate  70%",rarity:"epic",colorClass:"text-orange-600"},{name:"Marathon Trader",desc:"Active 100 days in a row.",requirement:"Trading aktif 100 hari berturut-turut",rarity:"legendary",colorClass:"text-red-600"},{name:"Untouchable",desc:"20 trade berturut-turut tanpa loss.",requirement:"20 win streak",rarity:"legendary",colorClass:"text-red-600"},{name:"Comeback Legend",desc:"Loss streak  10, win streak  10.",requirement:"Loss streak  10, win streak  10",rarity:"legendary",colorClass:"text-red-600"},{name:"Million Dollar Mindset",desc:"Total trading  $1,000,000.",requirement:"Total nominal trading  $1,000,000",rarity:"legendary",colorClass:"text-red-600"},{name:"All-Mode Master",desc:"Win rate  60% di semua mode.",requirement:"Win rate  60% di scalp, day, swing, position",rarity:"legendary",colorClass:"text-red-600"},{name:"Overnight Owl",desc:"Trading aktif jam 00:00-04:00 > 30x.",requirement:" 30 trade di jam 00:00-04:00",rarity:"rare",colorClass:"text-violet-600"},{name:"News Ninja",desc:"Profit konsisten saat news besar.",requirement:" 10 profit saat news besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Flash Crash Survivor",desc:"Profit di hari flash crash.",requirement:"Profit di hari flash crash",rarity:"legendary",colorClass:"text-red-600"},{name:"Reversal Reader",desc:"Profit dari reversal besar.",requirement:" 10 profit dari reversal besar",rarity:"epic",colorClass:"text-orange-600"},{name:"Breakout Boss",desc:"Profit dari breakout.",requirement:" 20 profit dari breakout",rarity:"epic",colorClass:"text-orange-600"},{name:"Gap Guru",desc:"Profit dari gap up/down.",requirement:" 10 profit dari gap",rarity:"epic",colorClass:"text-orange-600"},{name:"Risk Taker",desc:"Pernah risk > 5% equity dan profit.",requirement:" 5 trade risk > 5% equity dan profit",rarity:"rare",colorClass:"text-violet-600"},{name:"Steady Hand",desc:"Tidak pernah panic sell.",requirement:" 50 trade tanpa panic sell",rarity:"rare",colorClass:"text-violet-600"},{name:"Long Hauler",desc:"Hold posisi > 30 hari dan profit.",requirement:" 5 trade hold > 30 hari dan profit",rarity:"epic",colorClass:"text-orange-600"},{name:"Short Slayer",desc:"Profit konsisten dari short.",requirement:" 20 profit dari short",rarity:"epic",colorClass:"text-orange-600"},{name:"Quick Draw",desc:"Profit dari entry/exit < 1 menit.",requirement:" 10 profit entry/exit < 1 menit",rarity:"rare",colorClass:"text-violet-600"},{name:"Overachiever",desc:"Profit di semua mode dalam 1 minggu.",requirement:"Profit di scalp, day, swing, position dalam 1 minggu",rarity:"legendary",colorClass:"text-red-600"}],hS=({currentTier:e,onClose:n})=>f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:n,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-100 opacity-100 max-h-[90vh] overflow-y-auto",onClick:r=>r.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Nr,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-slate-800 dark:text-slate-100",children:"All Tiers & Achievements"}),["common","rare","epic","legendary"].map(r=>f.jsxs("div",{children:[f.jsx("h4",{className:`mb-2 mt-6 text-base font-bold uppercase tracking-wider ${r==="common"?"text-green-600":r==="rare"?"text-violet-600":r==="epic"?"text-orange-600":"text-red-600"}`,children:r==="common"?"Common Tiers":r==="rare"?"Rare Tiers":r==="epic"?"Epic Tiers":"Legendary Tiers"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:fS.filter(i=>i.rarity===r).map(i=>f.jsxs("div",{className:`flex flex-col gap-2 p-4 rounded-lg border ${i.rarity==="common"?"border-green-200 bg-green-50 dark:bg-green-900/10":i.rarity==="rare"?"border-violet-300 bg-violet-50 dark:bg-violet-900/10":i.rarity==="epic"?"border-orange-300 bg-orange-50 dark:bg-orange-900/10":"border-red-400 bg-red-50 dark:bg-red-900/10"} ${i.name===e?"ring-2 ring-violet-500":""}`,children:[f.jsx("span",{className:`text-lg font-bold ${i.colorClass}`,children:i.name}),f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:i.desc}),f.jsxs("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:["Cara: ",i.requirement]})]},i.name))})]},r))]})]})}),mS=({profile:e,winRate:n,totalTrades:r,onClose:i})=>{var h;const[s,o]=M.useState(!1);M.useEffect(()=>{const m=g=>{g.key==="Escape"&&(s?o(!1):i())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,s]);const u=lS(e.tier,r,n),d=u.next?(h=hx[u.next])==null?void 0:h.image:null;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:[f.jsx("div",{className:"absolute top-4 right-4",children:f.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:f.jsx(Nr,{className:"w-8 h-8"})})}),f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:na.createElement(e.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),f.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:e.tier}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:e.description}),f.jsx("div",{className:"mt-8",children:u.next?f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[d&&na.createElement(d,{className:"h-10 w-10 text-blue-400 dark:text-blue-300"}),f.jsxs("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-300",children:["Next tier: ",u.next]})]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[u.desc," (",u.need>0?`${u.need} trade lagi`:"",u.win?`, win rate ${u.win}% lagi`:"",")"]})]}):f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Sudah di tier tertinggi"})}),f.jsx("button",{className:"mt-6 px-4 py-2 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition",onClick:()=>o(!0),children:"Show all tiers & achievements"}),f.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),f.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[n,"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r})]})]})]})]})}),s&&f.jsx(hS,{currentTier:e.tier,onClose:()=>o(!1)})]})};var sg;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(sg||(sg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(og||(og={}));var ug;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ug||(ug={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=["user","model","function","system"];var ui;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ui||(ui={}));var ci;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ci||(ci={}));var dg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(dg||(dg={}));var fg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(fg||(fg={}));var Nl;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Nl||(Nl={}));var hg;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(hg||(hg={}));var mg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(mg||(mg={}));var pg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pg||(pg={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Va extends At{constructor(n,r){super(n),this.response=r}}class mx extends At{constructor(n,r,i,s){super(n),this.status=r,this.statusText=i,this.errorDetails=s}}class Cr extends At{}class px extends At{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="https://generativelanguage.googleapis.com",gS="v1beta",yS="0.24.1",xS="genai-js";var ra;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ra||(ra={}));class vS{constructor(n,r,i,s,o){this.model=n,this.task=r,this.apiKey=i,this.stream=s,this.requestOptions=o}toString(){var n,r;const i=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||gS;let o=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||pS}/${i}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function bS(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${xS}/${yS}`),n.join(" ")}async function wS(e){var n;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",bS(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let i=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(s){throw new Cr(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${s.message}`)}for(const[s,o]of i.entries()){if(s==="x-goog-api-key")throw new Cr(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Cr(`Header name ${s} can only be set using the apiClient field`);r.append(s,o)}}return r}async function kS(e,n,r,i,s,o){const u=new vS(e,n,r,i,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},ES(o)),{method:"POST",headers:await wS(u),body:s})}}async function Vl(e,n,r,i,s,o={},u=fetch){const{url:d,fetchOptions:h}=await kS(e,n,r,i,s,o);return SS(d,h,u)}async function SS(e,n,r=fetch){let i;try{i=await r(e,n)}catch(s){_S(s,e)}return i.ok||await jS(i,e),i}function _S(e,n){let r=e;throw r.name==="AbortError"?(r=new px(`Request aborted when fetching ${n.toString()}: ${e.message}`),r.stack=e.stack):e instanceof mx||e instanceof Cr||(r=new At(`Error fetching from ${n.toString()}: ${e.message}`),r.stack=e.stack),r}async function jS(e,n){let r="",i;try{const s=await e.json();r=s.error.message,s.error.details&&(r+=` ${JSON.stringify(s.error.details)}`,i=s.error.details)}catch{}throw new mx(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,i)}function ES(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),n.signal=r.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Eo(e.candidates[0]))throw new Va(`${Er(e)}`,e);return TS(e)}else if(e.promptFeedback)throw new Va(`Text not available. ${Er(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Eo(e.candidates[0]))throw new Va(`${Er(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),gg(e)[0]}else if(e.promptFeedback)throw new Va(`Function call not available. ${Er(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Eo(e.candidates[0]))throw new Va(`${Er(e)}`,e);return gg(e)}else if(e.promptFeedback)throw new Va(`Function call not available. ${Er(e)}`,e)},e}function TS(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const u of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function gg(e){var n,r,i,s;const o=[];if(!((r=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const u of(s=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||s===void 0?void 0:s.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const AS=[Nl.RECITATION,Nl.SAFETY,Nl.LANGUAGE];function Eo(e){return!!e.finishReason&&AS.includes(e.finishReason)}function Er(e){var n,r,i;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((i=e.candidates)===null||i===void 0)&&i[0]){const o=e.candidates[0];Eo(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Bl(e){return this instanceof Bl?(this.v=e,this):new Bl(e)}function NS(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,n||[]),s,o=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(v){i[v]&&(s[v]=function(b){return new Promise(function(w,E){o.push([v,b,w,E])>1||d(v,b)})})}function d(v,b){try{h(i[v](b))}catch(w){y(o[0][3],w)}}function h(v){v.value instanceof Bl?Promise.resolve(v.value.v).then(m,g):y(o[0][2],v)}function m(v){d("next",v)}function g(v){d("throw",v)}function y(v,b){v(b),o.shift(),o.length&&d(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function CS(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=DS(n),[i,s]=r.tee();return{stream:OS(i),response:RS(s)}}async function RS(e){const n=[],r=e.getReader();for(;;){const{done:i,value:s}=await r.read();if(i)return Sf(MS(n));n.push(s)}}function OS(e){return NS(this,arguments,function*(){const r=e.getReader();for(;;){const{value:i,done:s}=yield Bl(r.read());if(s)break;yield yield Bl(Sf(i))}})}function DS(e){const n=e.getReader();return new ReadableStream({start(i){let s="";return o();function o(){return n.read().then(({value:u,done:d})=>{if(d){if(s.trim()){i.error(new At("Failed to parse stream"));return}i.close();return}s+=u;let h=s.match(yg),m;for(;h;){try{m=JSON.parse(h[1])}catch{i.error(new At(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(m),s=s.substring(h[0].length),h=s.match(yg)}return o()}).catch(u=>{let d=u;throw d.stack=u.stack,d.name==="AbortError"?d=new px("Request aborted when reading from the stream"):d=new At("Error reading from the stream"),d})}}})}function MS(e){const n=e[e.length-1],r={promptFeedback:n==null?void 0:n.promptFeedback};for(const i of e){if(i.candidates){let s=0;for(const o of i.candidates)if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:s}),r.candidates[s].citationMetadata=o.citationMetadata,r.candidates[s].groundingMetadata=o.groundingMetadata,r.candidates[s].finishReason=o.finishReason,r.candidates[s].finishMessage=o.finishMessage,r.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){r.candidates[s].content||(r.candidates[s].content={role:o.content.role||"user",parts:[]});const u={};for(const d of o.content.parts)d.text&&(u.text=d.text),d.functionCall&&(u.functionCall=d.functionCall),d.executableCode&&(u.executableCode=d.executableCode),d.codeExecutionResult&&(u.codeExecutionResult=d.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),r.candidates[s].content.parts.push(u)}s++}i.usageMetadata&&(r.usageMetadata=i.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(e,n,r,i){const s=await Vl(n,ra.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),i);return CS(s)}async function yx(e,n,r,i){const o=await(await Vl(n,ra.GENERATE_CONTENT,e,!1,JSON.stringify(r),i)).json();return{response:Sf(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Il(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return LS(n)}function LS(e){const n={role:"user",parts:[]},r={role:"function",parts:[]};let i=!1,s=!1;for(const o of e)"functionResponse"in o?(r.parts.push(o),s=!0):(n.parts.push(o),i=!0);if(i&&s)throw new At("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!s)throw new At("No content is provided for sending chat message.");return i?n:r}function PS(e,n){var r;let i={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(r=n==null?void 0:n.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const s=e.generateContentRequest!=null;if(e.contents){if(s)throw new Cr("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=e.contents}else if(s)i=Object.assign(Object.assign({},i),e.generateContentRequest);else{const o=Il(e);i.contents=[o]}return{generateContentRequest:i}}function xg(e){let n;return e.contents?n=e:n={contents:[Il(e)]},e.systemInstruction&&(n.systemInstruction=xx(e.systemInstruction)),n}function zS(e){return typeof e=="string"||Array.isArray(e)?{content:Il(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],US={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function BS(e){let n=!1;for(const r of e){const{role:i,parts:s}=r;if(!n&&i!=="user")throw new At(`First content should be with role 'user', got ${i}`);if(!cg.includes(i))throw new At(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(cg)}`);if(!Array.isArray(s))throw new At("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new At("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of s)for(const h of vg)h in d&&(o[h]+=1);const u=US[i];for(const d of vg)if(!u.includes(d)&&o[d]>0)throw new At(`Content with role '${i}' can't contain '${d}' part`);n=!0}}function bg(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const i of r.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="SILENT_ERROR";class IS{constructor(n,r,i,s={}){this.model=r,this.params=i,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,i!=null&&i.history&&(BS(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,r={}){var i,s,o,u,d,h;await this._sendPromise;const m=Il(n),g={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},y=Object.assign(Object.assign({},this._requestOptions),r);let v;return this._sendPromise=this._sendPromise.then(()=>yx(this._apiKey,this.model,g,y)).then(b=>{var w;if(bg(b.response)){this._history.push(m);const E=Object.assign({parts:[],role:"model"},(w=b.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(E)}else{const E=Er(b.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}v=b}).catch(b=>{throw this._sendPromise=Promise.resolve(),b}),await this._sendPromise,v}async sendMessageStream(n,r={}){var i,s,o,u,d,h;await this._sendPromise;const m=Il(n),g={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,m]},y=Object.assign(Object.assign({},this._requestOptions),r),v=gx(this._apiKey,this.model,g,y);return this._sendPromise=this._sendPromise.then(()=>v).catch(b=>{throw new Error(wg)}).then(b=>b.response).then(b=>{if(bg(b)){this._history.push(m);const w=Object.assign({},b.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=Er(b);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(b=>{b.message!==wg&&console.error(b)}),v}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(e,n,r,i){return(await Vl(n,ra.COUNT_TOKENS,e,!1,JSON.stringify(r),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(e,n,r,i){return(await Vl(n,ra.EMBED_CONTENT,e,!1,JSON.stringify(r),i)).json()}async function $S(e,n,r,i){const s=r.requests.map(u=>Object.assign(Object.assign({},u),{model:n}));return(await Vl(n,ra.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:s}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(n,r,i={}){this.apiKey=n,this._requestOptions=i,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=xx(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(n,r={}){var i;const s=xg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return yx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}async generateContentStream(n,r={}){var i;const s=xg(n),o=Object.assign(Object.assign({},this._requestOptions),r);return gx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},s),o)}startChat(n){var r;return new IS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},n),this._requestOptions)}async countTokens(n,r={}){const i=PS(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),r);return qS(this.apiKey,this.model,i,s)}async embedContent(n,r={}){const i=zS(n),s=Object.assign(Object.assign({},this._requestOptions),r);return HS(this.apiKey,this.model,i,s)}async batchEmbedContents(n,r={}){const i=Object.assign(Object.assign({},this._requestOptions),r);return $S(this.apiKey,this.model,n,i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(n){this.apiKey=n}getGenerativeModel(n,r){if(!n.model)throw new At("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new kg(this.apiKey,n,r)}getGenerativeModelFromCachedContent(n,r,i){if(!n.name)throw new Cr("Cached content must contain a `name` field.");if(!n.model)throw new Cr("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const u of s)if(r!=null&&r[u]&&n[u]&&(r==null?void 0:r[u])!==n[u]){if(u==="model"){const d=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(d===h)continue}throw new Cr(`Different value for "${u}" specified in modelParams (${r[u]}) and cachedContent (${n[u]})`)}const o=Object.assign(Object.assign({},r),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new kg(this.apiKey,o,i)}}const vx={scalp:"SCALP trade - 1-minute chart.",day:"DAY trade - 5-minute atau 15-minute chart.",swing:"SWING trade - 30-minute atau 1-hour chart.",position:"POSITION trade - daily atau weekly chart."},FS=(e,n)=>`Anda adalah AI analis trading profesional. User memilih mode: ${vx[n]}.

**Tujuan utama Anda adalah membantu user mengubah current equity yang ada menjadi puluhan juta dollar dengan strategi dan analisa trading yang visioner, ambisius, namun tetap realistis dan profesional.**
Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x3x
  - Moderat (Day trading): 5x10x
  - Agresif (Scalping/spekulatif): 10x20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, triangle, flag, wedge, rectangle, pennant, cup and handle, ascending/descending triangle, dsb, atau No clear pattern jika tidak ada). Fokuskan pada pola yang benar-benar terlihat jelas dan sebutkan alasannya.
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, moving average, volume, dsb, atau No indicator analysis jika tidak ada). Sertakan sinyal penting dari indikator jika ada.
  
  **WAJIB sebutkan nilai indikator secara eksplisit, minimal RSI dan MFI, misal: 'RSI: 70 (overbought)', 'MFI: 80 (overbought)'. Jika indikator tidak terlihat jelas, tulis 'Unknown'.**
- supportResistance: WAJIB identifikasi level support dan resistance utama, sebutkan harga dan alasan kenapa level tersebut penting (misal: banyak sentuhan, volume tinggi, reaksi harga kuat, dsb). Jika tidak jelas, tulis 'Unknown'.
- rationale: reasoning trading profesional, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik, seperti contoh di bawah). Sertakan:
    1. Sinyal utama (buy/sell) dan alasan utamanya.
    2. Trend pasar dan pengaruhnya.
    3. Harga penting (current price, support, resistance, entry/SL/TP).
    4. Pola chart yang teridentifikasi dan alasan kenapa pola tersebut relevan.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

FOKUSKAN analisa pada:
- Identifikasi pola chart yang benar-benar terlihat jelas (jangan paksakan jika tidak ada)
- Penjelasan support dan resistance utama (harga, alasan, dan reaksi harga di level tersebut)
- Analisa teknikal yang actionable dan relevan untuk trader

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI: 72 (overbought), MFI: 80 (overbought), MACD: -0.12 (bearish crossover)",
  "supportResistance": [
    {"level": 21571.45, "type": "support", "reason": "Level ini sudah beberapa kali menjadi titik pantulan harga dan volume meningkat di area ini."},
    {"level": 21585.25, "type": "resistance", "reason": "Harga sering tertahan di area ini dan terjadi reaksi jual yang kuat."}
  ],
  "rationale": [
    "SELL signal berdasarkan kondisi pasar saat ini.",
    "Trend pasar secara keseluruhan adalah Bearish, mendukung bias sell.",
    "Harga saat ini di 21579.25 menunjukkan tekanan turun.",
    "Pola descending triangle teridentifikasi, biasanya mengindikasikan potensi penurunan.",
    "Support utama di 21571.45, resistance di 21585.25.",
    "Strategi: targetkan profit cepat dengan stop loss ketat, waktu hold singkat.",
    "Perhatikan volume jual dan pantulan dari resistance untuk timing entry optimal."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.`,GS=async(e,n,r,i,s)=>{if(!e)throw new Error("API key is not set.");const o=await new Promise((y,v)=>{const b=new FileReader;b.onloadend=()=>{try{const w=b.result;y(w.split(",")[1])}catch{v(new Error("Failed to process image file"))}},b.onerror=()=>v(new Error("Failed to read image file")),b.readAsDataURL(n)});let u=null;const h=new _f(e).getGenerativeModel({model:"gemini-2.5-pro",safetySettings:[{category:ui.HARM_CATEGORY_HARASSMENT,threshold:ci.BLOCK_NONE},{category:ui.HARM_CATEGORY_HATE_SPEECH,threshold:ci.BLOCK_NONE},{category:ui.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:ci.BLOCK_NONE},{category:ui.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:ci.BLOCK_NONE}]}),m={inlineData:{data:o,mimeType:n.type}};for(let y=1;y<=3;y++)try{let v=function(K){if(!K)return"unknown";const Z=String(K).trim();if(Z==="1M")return"position";const re=Z.toLowerCase();return["1m","3m","5m","15m"].includes(re)?"scalp":["30m"].includes(re)?"day":["1h","2h","4h","12h"].includes(re)?"swing":["1d","1w"].includes(re)?"position":"unknown"},b;y===1?b=FS({...r,currentEquity:s},i):b=`Anda adalah AI analis trading profesional. User memilih mode: ${vx[i]}.

**Tujuan utama Anda adalah membantu user mengubah current equity yang ada menjadi puluhan juta dollar dengan strategi dan analisa trading yang visioner, ambisius, namun tetap realistis dan profesional.**
Analisa chart yang diupload dan berikan saran trading dalam format JSON BERDASARKAN APA YANG TERLIHAT JELAS DI CHART.

- detectedTimeframe: WAJIB diisi, timeframe chart yang terdeteksi dari gambar (misal: '1m', '5m', '15m', '1H', '4H', '1D', dst). Jika tidak yakin, tulis 'Unknown'.
- Pilih leverage sesuai aturan berikut:
  - Konservatif (Swing/jangka menengah): 1x3x
  - Moderat (Day trading): 5x10x
  - Agresif (Scalping/spekulatif): 10x20x
  - Ekstrem (High risk, short-term): >20x (WAJIB beri peringatan risiko!)
- tradeType: 'Long' atau 'Short'
- entryPrice, stopLoss, takeProfit: angka valid
- leverage: pilih sesuai aturan di atas dan mode trading user
- profitAmount: WAJIB diisi, estimasi profit USD dari trade setup yang diberikan (boleh estimasi sederhana, tidak boleh kosong)
- tradeBias: WAJIB diisi, bias utama trade berdasarkan analisa chart (Bullish, Bearish, atau Neutral)
- confidenceScore: angka antara 70-100 (jika sinyal jelas dan setup valid), atau di bawah 70 hanya jika benar-benar ragu/tidak yakin.
- marketTrend: trend utama yang TERLIHAT JELAS (bullish, bearish, sideways, atau Unknown jika tidak jelas)
- keyPattern: pola utama (misal: double top, head and shoulders, dsb, atau No clear pattern jika tidak ada)
- indicatorAnalysis: analisa indikator utama (RSI, MACD, MFI, dsb, atau No indicator analysis jika tidak ada).
  
  **WAJIB sebutkan nilai indikator secara eksplisit, minimal RSI dan MFI, misal: 'RSI: 70 (overbought)', 'MFI: 80 (overbought)'. Jika indikator tidak terlihat jelas, tulis 'Unknown'.**
- rationale: reasoning trading profesional, WAJIB dalam bentuk array bullet point (minimal 5 poin, setiap poin actionable dan spesifik, seperti contoh di bawah). Sertakan:
    1. Sinyal utama (buy/sell) dan alasan utamanya.
    2. Trend pasar dan pengaruhnya.
    3. Harga penting (current price, support, resistance, entry/SL/TP).
    4. Pola chart yang teridentifikasi.
    5. Strategi eksekusi (target profit, stop loss, waktu hold, tips eksekusi).
    6. (Opsional) Tips tambahan jika ada.
    7. Jika leverage > 20x, WAJIB beri peringatan risiko di reasoning.
- error: string (jika ada masalah)

JANGAN MENEBak. Jika data tidak jelas di chart, tulis dengan jujur: Unknown atau No clear pattern. Hanya berikan analisa berdasarkan bukti visual di chart.

Contoh JSON:
{
  "detectedTimeframe": "1H",
  "tradeType": "Short",
  "entryPrice": 21585.25,
  "stopLoss": 21571.45,
  "takeProfit": 21500.00,
  "leverage": 10,
  "profitAmount": 200,
  "tradeBias": "Bearish",
  "confidenceScore": 90,
  "marketTrend": "Bearish",
  "keyPattern": "Descending Triangle",
  "indicatorAnalysis": "RSI: 72 (overbought), MFI: 80 (overbought), MACD: -0.12 (bearish crossover)",
  "supportResistance": [
    {"level": 21571.45, "type": "support", "reason": "Level ini sudah beberapa kali menjadi titik pantulan harga dan volume meningkat di area ini."},
    {"level": 21585.25, "type": "resistance", "reason": "Harga sering tertahan di area ini dan terjadi reaksi jual yang kuat."}
  ],
  "rationale": [
    "SELL signal berdasarkan kondisi pasar saat ini.",
    "Trend pasar secara keseluruhan adalah Bearish, mendukung bias sell.",
    "Harga saat ini di 21579.25 menunjukkan tekanan turun.",
    "Pola descending triangle teridentifikasi, biasanya mengindikasikan potensi penurunan.",
    "Support utama di 21571.45, resistance di 21585.25.",
    "Strategi: targetkan profit cepat dengan stop loss ketat, waktu hold singkat.",
    "Perhatikan volume jual dan pantulan dari resistance untuk timing entry optimal."
  ],
  "error": ""
}

Jawab HANYA dengan JSON valid. Bahasa Indonesia. Jangan gunakan confidenceScore 50 kecuali benar-benar tidak yakin sama sekali.`,console.log(`Attempt ${y}: Sending chart analysis request to Gemini 1.5 Pro...`);const E=`You are a professional trading analyst AI. You MUST respond with ONLY valid JSON format. Do not include any additional text, markdown formatting, or explanations outside the JSON structure. The response must be parseable JSON.

${b}`;let C=(await h.generateContent([E,m])).response.text();console.log(`Attempt ${y}: Gemini 1.5 Pro response received:`,C);const T={prompt:0,completion:0,total:0};C=C.replace(/```json\s*/gi,"").replace(/```\s*$/gi,"").trim();let N=C.match(/\{[\s\S]*\}/);if(!N)throw console.error("No JSON object found in response"),console.error("Full response:",C),new Error("AI response does not contain valid JSON format");C=N[0],console.log(`Attempt ${y}: Extracted JSON string:`,C);let O;try{O=JSON.parse(C)}catch(K){throw console.error("JSON parsing failed:",K),console.error("Failed JSON string:",C),new Error("AI response format is invalid. Please try again.")}!O.tradeSetup&&O.tradeType&&O.entryPrice&&O.stopLoss&&O.takeProfit&&(O.tradeSetup={tradeType:O.tradeType,entryPrice:O.entryPrice,stopLoss:O.stopLoss,takeProfit:O.takeProfit,rrr:O.rrr||0}),console.log(`Attempt ${y}: Parsed analysis data:`,O),!O.tradeSetup&&O.tradeType&&O.entryPrice!==void 0&&O.stopLoss!==void 0&&O.takeProfit!==void 0&&(O.tradeSetup={tradeType:O.tradeType,entryPrice:O.entryPrice,stopLoss:O.stopLoss,takeProfit:O.takeProfit,rrr:O.rrr||0},O.leverage!==void 0&&(O.leverage=O.leverage),O.profitAmount!==void 0&&(O.profitAmount=O.profitAmount),O.rationale!==void 0&&(O.rationale=O.rationale),O.error!==void 0&&(O.error=O.error));const F=["tradeSetup","marketTrend","tradeBias","confidenceScore","rationale","keyPattern","indicatorAnalysis"].filter(K=>O[K]===void 0||O[K]===null);if(console.log(`Attempt ${y}: Full AI response:`,O),O&&O.error&&O.error.trim()!=="")return{analysis:{error:O.error},usage:T};if(F.length>0){console.error(`Attempt ${y}: Missing required fields in analysis data:`,F),console.error("Available fields:",Object.keys(O)),console.error("Analysis data:",O);const K={marketTrend:O.marketTrend||"Unknown",keyPattern:O.keyPattern||"No clear pattern",indicatorAnalysis:O.indicatorAnalysis||"No indicator analysis",tradeBias:O.tradeBias||"Neutral",confidenceScore:O.confidenceScore||50,rationale:O.rationale||"Analysis incomplete due to missing data",tradeSetup:O.tradeSetup||{tradeType:"Long",entryPrice:"0",stopLoss:"0",takeProfit:"0",rrr:1}};K.tradeSetup&&!K.tradeSetup.tradeType&&(K.tradeSetup.tradeType="Long");const Z=O.confidenceScore||0,re=O.tradeSetup||{},ce=parseFloat(re.rrr)||0;Z>=70&&ce>0?console.log(`Attempt ${y}: High-confidence signal detected (${Z}%, RRR: ${ce})`):console.warn(`Attempt ${y}: Low-confidence signal (${Z}%, RRR: ${ce}) - Consider retrying`);const I=["tradeSetup"].filter(le=>!O[le]);if(I.length>0)throw new Error(`AI response is incomplete. Missing critical fields: ${I.join(", ")}`);console.log(`Attempt ${y}: Using fallback data for missing fields:`,K),O={...O,...K}}(typeof O.riskPerTrade!="number"||isNaN(O.riskPerTrade))&&(console.warn("AI response missing riskPerTrade, fallback to 1.0%"),O.riskPerTrade=1);const V=["Long","Short"],z=["tradeType","entryPrice","stopLoss","takeProfit"].filter(K=>{const Z=O.tradeSetup[K];return K==="tradeType"?!Z||Z!=="Long"&&Z!=="Short":Z==null||Z===""||Number(Z)===0||isNaN(Number(Z))});if(z.length>0)throw console.error("Missing required tradeSetup fields:",z),console.error("Available tradeSetup fields:",Object.keys(O.tradeSetup)),console.error("TradeSetup data:",O.tradeSetup),new Error(`Trade setup data is incomplete. Missing fields: ${z.join(", ")}`);if(!O.tradeSetup||typeof O.tradeSetup!="object")throw console.error("tradeSetup is missing or not an object:",O.tradeSetup),new Error("Trade setup data is missing or invalid");if(O.confidenceScore=Number(O.confidenceScore)||50,(O.confidenceScore<0||O.confidenceScore>100)&&(O.confidenceScore=50),O.tradeSetup&&O.tradeSetup.tradeType==="Neutral"&&(O.confidenceScore=Math.min(O.confidenceScore||50,50)),(!O.tradeBias||!["Bullish","Bearish","Neutral"].includes(O.tradeBias))&&(O.tradeBias="Neutral"),O.tradeSetup.tradeType){const K=String(O.tradeSetup.tradeType).trim().toLowerCase();K==="long"||K==="short"?O.tradeSetup.tradeType=K.charAt(0).toUpperCase()+K.slice(1):(console.warn("Invalid tradeType, fallback to Long"),O.tradeSetup.tradeType="Long")}else console.warn("Missing tradeType, fallback to Long"),O.tradeSetup.tradeType="Long";O.tradeSetup&&(O.tradeSetup.entryPrice=Number(O.tradeSetup.entryPrice)||0,O.tradeSetup.stopLoss=Number(O.tradeSetup.stopLoss)||0,O.tradeSetup.takeProfit=Number(O.tradeSetup.takeProfit)||0,O.tradeSetup.rrr=Number(O.tradeSetup.rrr)||1),console.log(`Attempt ${y}: Analysis successful!`);const q=v(O.detectedTimeframe);return{analysis:{...O,mode:q},usage:T}}catch(v){console.error(`Attempt ${y} failed:`,v),u=v instanceof Error?v:new Error(String(v)),y<3&&(console.log(`Retrying with enhanced prompt... (attempt ${y+1}/3)`),await new Promise(b=>setTimeout(b,1e3)))}console.error("All analysis attempts failed");const g=`AI analysis failed after all attempts. Last error: ${(u==null?void 0:u.message)||u}`;throw new Error(g)},YS=async(e,n)=>{if(!e)throw new Error("API key is not set.");try{console.log("Sending performance analysis request to Gemini 1.5 Pro...");const i=new _f(e).getGenerativeModel({model:"gemini-1.5-pro-latest"}),o=`You are a professional trading performance coach.

${n}`,h=(await i.generateContent(o)).response.text();return console.log("Gemini 1.5 Pro performance response received:",h),{analysisText:h,usage:{prompt:0,completion:0,total:0}}}catch(r){throw console.error("Error in analyzePerformance:",r),r}},VS=async(e,n,r)=>{if(!e)throw new Error("API key is not set.");if(!n)throw new Error("Portfolio data is not available.");const i=`
        You are an AI financial assistant. Your role is to provide educational and general analysis of a user's investment portfolio.
        - NEVER give direct financial advice or recommendations to buy or sell any asset.
        - ALWAYS be neutral, prudent, and focus on general financial principles, risk management, and diversification.
        - You can explain concepts, analyze the current state of the portfolio, and discuss general strategies, but do not make predictions or recommendations.
        - ALWAYS include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Berikut adalah data portofolio pengguna:
        ${JSON.stringify(n,null,2)}

        Pengguna memiliki pertanyaan berikut: "${r}"

        Berikan analisis dan penjelasan yang bersifat edukatif dan umum berdasarkan portofolio dan pertanyaan pengguna, sesuai instruksi sistem di atas. Jangan memberikan saran spesifik untuk membeli atau menjual aset apapun. Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `;try{console.log("Sending financial advice request to Gemini 1.5 Pro...");const u=new _f(e).getGenerativeModel({model:"gemini-1.5-pro-latest"}),d=`${i}

${s}`,g=(await u.generateContent(d)).response.text();return console.log("Gemini 1.5 Pro financial advice response received:",g),{analysisText:g,usage:{prompt:0,completion:0,total:0}}}catch(o){throw console.error("Error in generateFinancialAdvice:",o),o}};function KS(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const QS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,XS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JS={};function Sg(e,n){return(JS.jsx?XS:QS).test(e)}const WS=/[ \t\n\f\r]/g;function ZS(e){return typeof e=="object"?e.type==="text"?_g(e.value):!1:_g(e)}function _g(e){return e.replace(WS,"")===""}class Kl{constructor(n,r,i){this.normal=r,this.property=n,i&&(this.space=i)}}Kl.prototype.normal={};Kl.prototype.property={};Kl.prototype.space=void 0;function bx(e,n){const r={},i={};for(const s of e)Object.assign(r,s.property),Object.assign(i,s.normal);return new Kl(r,i,n)}function Qd(e){return e.toLowerCase()}class Ht{constructor(n,r){this.attribute=r,this.property=n}}Ht.prototype.attribute="";Ht.prototype.booleanish=!1;Ht.prototype.boolean=!1;Ht.prototype.commaOrSpaceSeparated=!1;Ht.prototype.commaSeparated=!1;Ht.prototype.defined=!1;Ht.prototype.mustUseProperty=!1;Ht.prototype.number=!1;Ht.prototype.overloadedBoolean=!1;Ht.prototype.property="";Ht.prototype.spaceSeparated=!1;Ht.prototype.space=void 0;let e2=0;const Ne=ia(),ct=ia(),Xd=ia(),he=ia(),We=ia(),di=ia(),Wt=ia();function ia(){return 2**++e2}const Jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:ct,commaOrSpaceSeparated:Wt,commaSeparated:di,number:he,overloadedBoolean:Xd,spaceSeparated:We},Symbol.toStringTag,{value:"Module"})),pd=Object.keys(Jd);class jf extends Ht{constructor(n,r,i,s){let o=-1;if(super(n,r),jg(this,"space",s),typeof i=="number")for(;++o<pd.length;){const u=pd[o];jg(this,pd[o],(i&Jd[u])===Jd[u])}}}jf.prototype.defined=!0;function jg(e,n,r){r&&(e[n]=r)}function yi(e){const n={},r={};for(const[i,s]of Object.entries(e.properties)){const o=new jf(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),n[i]=o,r[Qd(i)]=i,r[Qd(o.attribute)]=i}return new Kl(n,r,e.space)}const wx=yi({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:he,ariaColIndex:he,ariaColSpan:he,ariaControls:We,ariaCurrent:null,ariaDescribedBy:We,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:We,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:We,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:We,ariaLevel:he,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:We,ariaPlaceholder:null,ariaPosInSet:he,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:We,ariaRowCount:he,ariaRowIndex:he,ariaRowSpan:he,ariaSelected:ct,ariaSetSize:he,ariaSort:null,ariaValueMax:he,ariaValueMin:he,ariaValueNow:he,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function kx(e,n){return n in e?e[n]:n}function Sx(e,n){return kx(e,n.toLowerCase())}const t2=yi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:di,acceptCharset:We,accessKey:We,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:We,autoFocus:Ne,autoPlay:Ne,blocking:We,capture:null,charSet:null,checked:Ne,cite:null,className:We,cols:he,colSpan:null,content:null,contentEditable:ct,controls:Ne,controlsList:We,coords:he|di,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:Xd,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:We,height:he,hidden:Xd,high:he,href:null,hrefLang:null,htmlFor:We,httpEquiv:We,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:We,itemRef:We,itemScope:Ne,itemType:We,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:he,manifest:null,max:null,maxLength:he,media:null,method:null,min:null,minLength:he,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:he,pattern:null,ping:We,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:We,required:Ne,reversed:Ne,rows:he,rowSpan:he,sandbox:We,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:he,sizes:null,slot:null,span:he,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:he,step:null,style:null,tabIndex:he,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:ct,width:he,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:We,axis:null,background:null,bgColor:null,border:he,borderColor:null,bottomMargin:he,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:he,leftMargin:he,link:null,longDesc:null,lowSrc:null,marginHeight:he,marginWidth:he,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:he,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:he,valueType:null,version:null,vAlign:null,vLink:null,vSpace:he,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:he,security:null,unselectable:null},space:"html",transform:Sx}),n2=yi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wt,accentHeight:he,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:he,amplitude:he,arabicForm:null,ascent:he,attributeName:null,attributeType:null,azimuth:he,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:he,by:null,calcMode:null,capHeight:he,className:We,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:he,diffuseConstant:he,direction:null,display:null,dur:null,divisor:he,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:he,enableBackground:null,end:null,event:null,exponent:he,externalResourcesRequired:null,fill:null,fillOpacity:he,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:di,g2:di,glyphName:di,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:he,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:he,horizOriginX:he,horizOriginY:he,id:null,ideographic:he,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:he,k:he,k1:he,k2:he,k3:he,k4:he,kernelMatrix:Wt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:he,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:he,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:he,overlineThickness:he,paintOrder:null,panose1:null,path:null,pathLength:he,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:We,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:he,pointsAtY:he,pointsAtZ:he,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wt,rev:Wt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wt,requiredFeatures:Wt,requiredFonts:Wt,requiredFormats:Wt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:he,specularExponent:he,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:he,strikethroughThickness:he,string:null,stroke:null,strokeDashArray:Wt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:he,strokeOpacity:he,strokeWidth:null,style:null,surfaceScale:he,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wt,tabIndex:he,tableValues:null,target:null,targetX:he,targetY:he,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:he,underlineThickness:he,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:he,values:null,vAlphabetic:he,vMathematical:he,vectorEffect:null,vHanging:he,vIdeographic:he,version:null,vertAdvY:he,vertOriginX:he,vertOriginY:he,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:he,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kx}),_x=yi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),jx=yi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Sx}),Ex=yi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),r2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},a2=/[A-Z]/g,Eg=/-[a-z]/g,i2=/^data[-\w.:]+$/i;function l2(e,n){const r=Qd(n);let i=n,s=Ht;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&i2.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(Eg,o2);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!Eg.test(o)){let u=o.replace(a2,s2);u.charAt(0)!=="-"&&(u="-"+u),n="data"+u}}s=jf}return new s(i,n)}function s2(e){return"-"+e.toLowerCase()}function o2(e){return e.charAt(1).toUpperCase()}const u2=bx([wx,t2,_x,jx,Ex],"html"),Ef=bx([wx,n2,_x,jx,Ex],"svg");function c2(e){return e.join(" ").trim()}var Ka={},gd,Tg;function d2(){if(Tg)return gd;Tg=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,h=`
`,m="/",g="*",y="",v="comment",b="declaration";gd=function(E,j){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];j=j||{};var k=1,C=1;function T(Z){var re=Z.match(n);re&&(k+=re.length);var ce=Z.lastIndexOf(h);C=~ce?Z.length-ce:C+Z.length}function N(){var Z={line:k,column:C};return function(re){return re.position=new O(Z),V(),re}}function O(Z){this.start=Z,this.end={line:k,column:C},this.source=j.source}O.prototype.content=E;function D(Z){var re=new Error(j.source+":"+k+":"+C+": "+Z);if(re.reason=Z,re.filename=j.source,re.line=k,re.column=C,re.source=E,!j.silent)throw re}function F(Z){var re=Z.exec(E);if(re){var ce=re[0];return T(ce),E=E.slice(ce.length),re}}function V(){F(r)}function ee(Z){var re;for(Z=Z||[];re=z();)re!==!1&&Z.push(re);return Z}function z(){var Z=N();if(!(m!=E.charAt(0)||g!=E.charAt(1))){for(var re=2;y!=E.charAt(re)&&(g!=E.charAt(re)||m!=E.charAt(re+1));)++re;if(re+=2,y===E.charAt(re-1))return D("End of comment missing");var ce=E.slice(2,re-2);return C+=2,T(ce),E=E.slice(re),C+=2,Z({type:v,comment:ce})}}function q(){var Z=N(),re=F(i);if(re){if(z(),!F(s))return D("property missing ':'");var ce=F(o),B=Z({type:b,property:w(re[0].replace(e,y)),value:ce?w(ce[0].replace(e,y)):y});return F(u),B}}function K(){var Z=[];ee(Z);for(var re;re=q();)re!==!1&&(Z.push(re),ee(Z));return Z}return V(),K()};function w(E){return E?E.replace(d,y):y}return gd}var Ag;function f2(){if(Ag)return Ka;Ag=1;var e=Ka&&Ka.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.default=r;var n=e(d2());function r(i,s){var o=null;if(!i||typeof i!="string")return o;var u=(0,n.default)(i),d=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var m=h.property,g=h.value;d?s(m,g,h):g&&(o=o||{},o[m]=g)}}),o}return Ka}var bl={},Ng;function h2(){if(Ng)return bl;Ng=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(m){return!m||r.test(m)||e.test(m)},u=function(m,g){return g.toUpperCase()},d=function(m,g){return"".concat(g,"-")},h=function(m,g){return g===void 0&&(g={}),o(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(s,d):m=m.replace(i,d),m.replace(n,u))};return bl.camelCase=h,bl}var wl,Cg;function m2(){if(Cg)return wl;Cg=1;var e=wl&&wl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},n=e(f2()),r=h2();function i(s,o){var u={};return!s||typeof s!="string"||(0,n.default)(s,function(d,h){d&&h&&(u[(0,r.camelCase)(d,o)]=h)}),u}return i.default=i,wl=i,wl}var p2=m2();const g2=Fl(p2),Tx=Ax("end"),Tf=Ax("start");function Ax(e){return n;function n(r){const i=r&&r.position&&r.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function y2(e){const n=Tf(e),r=Tx(e);if(n&&r)return{start:n,end:r}}function Cl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Rg(e.position):"start"in e||"end"in e?Rg(e):"line"in e||"column"in e?Wd(e):""}function Wd(e){return Og(e&&e.line)+":"+Og(e&&e.column)}function Rg(e){return Wd(e&&e.start)+"-"+Wd(e&&e.end)}function Og(e){return e&&typeof e=="number"?e:1}class Ct extends Error{constructor(n,r,i){super(),typeof r=="string"&&(i=r,r=void 0);let s="",o={},u=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof n=="string"?s=n:!o.cause&&n&&(u=!0,s=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof i=="string"){const h=i.indexOf(":");h===-1?o.ruleId=i:(o.source=i.slice(0,h),o.ruleId=i.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=d?d.line:void 0,this.name=Cl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ct.prototype.file="";Ct.prototype.name="";Ct.prototype.reason="";Ct.prototype.message="";Ct.prototype.stack="";Ct.prototype.column=void 0;Ct.prototype.line=void 0;Ct.prototype.ancestors=void 0;Ct.prototype.cause=void 0;Ct.prototype.fatal=void 0;Ct.prototype.place=void 0;Ct.prototype.ruleId=void 0;Ct.prototype.source=void 0;const Af={}.hasOwnProperty,x2=new Map,v2=/[A-Z]/g,b2=new Set(["table","tbody","thead","tfoot","tr"]),w2=new Set(["td","th"]),Nx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function k2(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let i;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=C2(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=N2(r,n.jsx,n.jsxs)}const s={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:i,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?Ef:u2,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Cx(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Cx(e,n,r){if(n.type==="element")return S2(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return _2(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return E2(e,n,r);if(n.type==="mdxjsEsm")return j2(e,n);if(n.type==="root")return T2(e,n,r);if(n.type==="text")return A2(e,n)}function S2(e,n,r){const i=e.schema;let s=i;n.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Ef,e.schema=s),e.ancestors.push(n);const o=Ox(e,n.tagName,!1),u=R2(e,n);let d=Cf(e,n);return b2.has(n.tagName)&&(d=d.filter(function(h){return typeof h=="string"?!ZS(h):!0})),Rx(e,u,o,n),Nf(u,d),e.ancestors.pop(),e.schema=i,e.create(n,o,u,r)}function _2(e,n){if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}ql(e,n.position)}function j2(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);ql(e,n.position)}function E2(e,n,r){const i=e.schema;let s=i;n.name==="svg"&&i.space==="html"&&(s=Ef,e.schema=s),e.ancestors.push(n);const o=n.name===null?e.Fragment:Ox(e,n.name,!0),u=O2(e,n),d=Cf(e,n);return Rx(e,u,o,n),Nf(u,d),e.ancestors.pop(),e.schema=i,e.create(n,o,u,r)}function T2(e,n,r){const i={};return Nf(i,Cf(e,n)),e.create(n,e.Fragment,i,r)}function A2(e,n){return n.value}function Rx(e,n,r,i){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=i)}function Nf(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function N2(e,n,r){return i;function i(s,o,u,d){const m=Array.isArray(u.children)?r:n;return d?m(o,u,d):m(o,u)}}function C2(e,n){return r;function r(i,s,o,u){const d=Array.isArray(o.children),h=Tf(i);return n(s,o,u,d,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function R2(e,n){const r={};let i,s;for(s in n.properties)if(s!=="children"&&Af.call(n.properties,s)){const o=D2(e,s,n.properties[s]);if(o){const[u,d]=o;e.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&w2.has(n.tagName)?i=d:r[u]=d}}if(i){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return r}function O2(e,n){const r={};for(const i of n.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const d=u.properties[0];d.type,Object.assign(r,e.evaluater.evaluateExpression(d.argument))}else ql(e,n.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const d=i.value.data.estree.body[0];d.type,o=e.evaluater.evaluateExpression(d.expression)}else ql(e,n.position);else o=i.value===null?!0:i.value;r[s]=o}return r}function Cf(e,n){const r=[];let i=-1;const s=e.passKeys?new Map:x2;for(;++i<n.children.length;){const o=n.children[i];let u;if(e.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const m=s.get(h)||0;u=h+"-"+m,s.set(h,m+1)}}const d=Cx(e,o,u);d!==void 0&&r.push(d)}return r}function D2(e,n,r){const i=l2(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?KS(r):c2(r)),i.property==="style"){let s=typeof r=="object"?r:M2(e,String(r));return e.stylePropertyNameCase==="css"&&(s=L2(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?r2[i.property]||i.property:i.attribute,r]}}function M2(e,n){try{return g2(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const i=r,s=new Ct("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Nx+"#cannot-parse-style-attribute",s}}function Ox(e,n,r){let i;if(!r)i={type:"Literal",value:n};else if(n.includes(".")){const s=n.split(".");let o=-1,u;for(;++o<s.length;){const d=Sg(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}i=u}else i=Sg(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(i.type==="Literal"){const s=i.value;return Af.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);ql(e)}function ql(e,n){const r=new Ct("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Nx+"#cannot-handle-mdx-estrees-without-createevaluater",r}function L2(e){const n={};let r;for(r in e)Af.call(e,r)&&(n[P2(r)]=e[r]);return n}function P2(e){let n=e.replace(v2,z2);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function z2(e){return"-"+e.toLowerCase()}const yd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},U2={};function Rf(e,n){const r=U2,i=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,s=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Dx(e,i,s)}function Dx(e,n,r){if(B2(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Dg(e.children,n,r)}return Array.isArray(e)?Dg(e,n,r):""}function Dg(e,n,r){const i=[];let s=-1;for(;++s<e.length;)i[s]=Dx(e[s],n,r);return i.join("")}function B2(e){return!!(e&&typeof e=="object")}const Mg=document.createElement("i");function Of(e){const n="&"+e+";";Mg.innerHTML=n;const r=Mg.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function Zt(e,n,r,i){const s=e.length;let o=0,u;if(n<0?n=-n>s?0:s+n:n=n>s?s:n,r=r>0?r:0,i.length<1e4)u=Array.from(i),u.unshift(n,r),e.splice(...u);else for(r&&e.splice(n,r);o<i.length;)u=i.slice(o,o+1e4),u.unshift(n,0),e.splice(...u),o+=1e4,n+=1e4}function fn(e,n){return e.length>0?(Zt(e,e.length,0,n),e):n}const Lg={}.hasOwnProperty;function Mx(e){const n={};let r=-1;for(;++r<e.length;)I2(n,e[r]);return n}function I2(e,n){let r;for(r in n){const s=(Lg.call(e,r)?e[r]:void 0)||(e[r]={}),o=n[r];let u;if(o)for(u in o){Lg.call(s,u)||(s[u]=[]);const d=o[u];q2(s[u],Array.isArray(d)?d:d?[d]:[])}}}function q2(e,n){let r=-1;const i=[];for(;++r<n.length;)(n[r].add==="after"?e:i).push(n[r]);Zt(e,0,0,i)}function Lx(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function vn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ot=Rr(/[A-Za-z]/),Nt=Rr(/[\dA-Za-z]/),H2=Rr(/[#-'*+\--9=?A-Z^-~]/);function Co(e){return e!==null&&(e<32||e===127)}const Zd=Rr(/\d/),$2=Rr(/[\dA-Fa-f]/),F2=Rr(/[!-/:-@[-`{-~]/);function ke(e){return e!==null&&e<-2}function Qe(e){return e!==null&&(e<0||e===32)}function Pe(e){return e===-2||e===-1||e===32}const Bo=Rr(new RegExp("\\p{P}|\\p{S}","u")),aa=Rr(/\s/);function Rr(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function xi(e){const n=[];let r=-1,i=0,s=0;for(;++r<e.length;){const o=e.charCodeAt(r);let u="";if(o===37&&Nt(e.charCodeAt(r+1))&&Nt(e.charCodeAt(r+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const d=e.charCodeAt(r+1);o<56320&&d>56319&&d<57344?(u=String.fromCharCode(o,d),s=1):u=""}else u=String.fromCharCode(o);u&&(n.push(e.slice(i,r),encodeURIComponent(u)),i=r+s+1,u=""),s&&(r+=s,s=0)}return n.join("")+e.slice(i)}function Ue(e,n,r,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(h){return Pe(h)?(e.enter(r),d(h)):n(h)}function d(h){return Pe(h)&&o++<s?(e.consume(h),d):(e.exit(r),n(h))}}const G2={tokenize:Y2};function Y2(e){const n=e.attempt(this.parser.constructs.contentInitial,i,s);let r;return n;function i(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ue(e,n,"linePrefix")}function s(d){return e.enter("paragraph"),o(d)}function o(d){const h=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=h),r=h,u(d)}function u(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return ke(d)?(e.consume(d),e.exit("chunkText"),o):(e.consume(d),u)}}const V2={tokenize:K2},Pg={tokenize:Q2};function K2(e){const n=this,r=[];let i=0,s,o,u;return d;function d(T){if(i<r.length){const N=r[i];return n.containerState=N[1],e.attempt(N[0].continuation,h,m)(T)}return m(T)}function h(T){if(i++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,s&&C();const N=n.events.length;let O=N,D;for(;O--;)if(n.events[O][0]==="exit"&&n.events[O][1].type==="chunkFlow"){D=n.events[O][1].end;break}k(i);let F=N;for(;F<n.events.length;)n.events[F][1].end={...D},F++;return Zt(n.events,O+1,0,n.events.slice(N)),n.events.length=F,m(T)}return d(T)}function m(T){if(i===r.length){if(!s)return v(T);if(s.currentConstruct&&s.currentConstruct.concrete)return w(T);n.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Pg,g,y)(T)}function g(T){return s&&C(),k(i),v(T)}function y(T){return n.parser.lazy[n.now().line]=i!==r.length,u=n.now().offset,w(T)}function v(T){return n.containerState={},e.attempt(Pg,b,w)(T)}function b(T){return i++,r.push([n.currentConstruct,n.containerState]),v(T)}function w(T){if(T===null){s&&C(),k(0),e.consume(T);return}return s=s||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),E(T)}function E(T){if(T===null){j(e.exit("chunkFlow"),!0),k(0),e.consume(T);return}return ke(T)?(e.consume(T),j(e.exit("chunkFlow")),i=0,n.interrupt=void 0,d):(e.consume(T),E)}function j(T,N){const O=n.sliceStream(T);if(N&&O.push(null),T.previous=o,o&&(o.next=T),o=T,s.defineSkip(T.start),s.write(O),n.parser.lazy[T.start.line]){let D=s.events.length;for(;D--;)if(s.events[D][1].start.offset<u&&(!s.events[D][1].end||s.events[D][1].end.offset>u))return;const F=n.events.length;let V=F,ee,z;for(;V--;)if(n.events[V][0]==="exit"&&n.events[V][1].type==="chunkFlow"){if(ee){z=n.events[V][1].end;break}ee=!0}for(k(i),D=F;D<n.events.length;)n.events[D][1].end={...z},D++;Zt(n.events,V+1,0,n.events.slice(F)),n.events.length=D}}function k(T){let N=r.length;for(;N-- >T;){const O=r[N];n.containerState=O[1],O[0].exit.call(n,e)}r.length=T}function C(){s.write([null]),o=void 0,s=void 0,n.containerState._closeFlow=void 0}}function Q2(e,n,r){return Ue(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fi(e){if(e===null||Qe(e)||aa(e))return 1;if(Bo(e))return 2}function Io(e,n,r){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(n=o(n,r),i.push(o))}return n}const ef={name:"attention",resolveAll:X2,tokenize:J2};function X2(e,n){let r=-1,i,s,o,u,d,h,m,g;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(i=r;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&n.sliceSerialize(e[i][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[i][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;h=e[i][1].end.offset-e[i][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const y={...e[i][1].end},v={...e[r][1].start};zg(y,-h),zg(v,h),u={type:h>1?"strongSequence":"emphasisSequence",start:y,end:{...e[i][1].end}},d={type:h>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},o={type:h>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[r][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},e[i][1].end={...u.start},e[r][1].start={...d.end},m=[],e[i][1].end.offset-e[i][1].start.offset&&(m=fn(m,[["enter",e[i][1],n],["exit",e[i][1],n]])),m=fn(m,[["enter",s,n],["enter",u,n],["exit",u,n],["enter",o,n]]),m=fn(m,Io(n.parser.constructs.insideSpan.null,e.slice(i+1,r),n)),m=fn(m,[["exit",o,n],["enter",d,n],["exit",d,n],["exit",s,n]]),e[r][1].end.offset-e[r][1].start.offset?(g=2,m=fn(m,[["enter",e[r][1],n],["exit",e[r][1],n]])):g=0,Zt(e,i-1,r-i+3,m),r=i+m.length-g-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function J2(e,n){const r=this.parser.constructs.attentionMarkers.null,i=this.previous,s=fi(i);let o;return u;function u(h){return o=h,e.enter("attentionSequence"),d(h)}function d(h){if(h===o)return e.consume(h),d;const m=e.exit("attentionSequence"),g=fi(h),y=!g||g===2&&s||r.includes(h),v=!s||s===2&&g||r.includes(i);return m._open=!!(o===42?y:y&&(s||!v)),m._close=!!(o===42?v:v&&(g||!y)),n(h)}}function zg(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const W2={name:"autolink",tokenize:Z2};function Z2(e,n,r){let i=0;return s;function s(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return Ot(b)?(e.consume(b),u):b===64?r(b):m(b)}function u(b){return b===43||b===45||b===46||Nt(b)?(i=1,d(b)):m(b)}function d(b){return b===58?(e.consume(b),i=0,h):(b===43||b===45||b===46||Nt(b))&&i++<32?(e.consume(b),d):(i=0,m(b))}function h(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):b===null||b===32||b===60||Co(b)?r(b):(e.consume(b),h)}function m(b){return b===64?(e.consume(b),g):H2(b)?(e.consume(b),m):r(b)}function g(b){return Nt(b)?y(b):r(b)}function y(b){return b===46?(e.consume(b),i=0,g):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),n):v(b)}function v(b){if((b===45||Nt(b))&&i++<63){const w=b===45?v:y;return e.consume(b),w}return r(b)}}const Ql={partial:!0,tokenize:e_};function e_(e,n,r){return i;function i(o){return Pe(o)?Ue(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||ke(o)?n(o):r(o)}}const Px={continuation:{tokenize:n_},exit:r_,name:"blockQuote",tokenize:t_};function t_(e,n,r){const i=this;return s;function s(u){if(u===62){const d=i.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return r(u)}function o(u){return Pe(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(u))}}function n_(e,n,r){const i=this;return s;function s(u){return Pe(u)?Ue(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(Px,n,r)(u)}}function r_(e){e.exit("blockQuote")}const zx={name:"characterEscape",tokenize:a_};function a_(e,n,r){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return F2(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(o)}}const Ux={name:"characterReference",tokenize:i_};function i_(e,n,r){const i=this;let s=0,o,u;return d;function d(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),h}function h(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),o=31,u=Nt,g(y))}function m(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=$2,g):(e.enter("characterReferenceValue"),o=7,u=Zd,g(y))}function g(y){if(y===59&&s){const v=e.exit("characterReferenceValue");return u===Nt&&!Of(i.sliceSerialize(v))?r(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return u(y)&&s++<o?(e.consume(y),g):r(y)}}const Ug={partial:!0,tokenize:s_},Bg={concrete:!0,name:"codeFenced",tokenize:l_};function l_(e,n,r){const i=this,s={partial:!0,tokenize:O};let o=0,u=0,d;return h;function h(D){return m(D)}function m(D){const F=i.events[i.events.length-1];return o=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,d=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(D)}function g(D){return D===d?(u++,e.consume(D),g):u<3?r(D):(e.exit("codeFencedFenceSequence"),Pe(D)?Ue(e,y,"whitespace")(D):y(D))}function y(D){return D===null||ke(D)?(e.exit("codeFencedFence"),i.interrupt?n(D):e.check(Ug,E,N)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||ke(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(D)):Pe(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ue(e,b,"whitespace")(D)):D===96&&D===d?r(D):(e.consume(D),v)}function b(D){return D===null||ke(D)?y(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===null||ke(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(D)):D===96&&D===d?r(D):(e.consume(D),w)}function E(D){return e.attempt(s,N,j)(D)}function j(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),k}function k(D){return o>0&&Pe(D)?Ue(e,C,"linePrefix",o+1)(D):C(D)}function C(D){return D===null||ke(D)?e.check(Ug,E,N)(D):(e.enter("codeFlowValue"),T(D))}function T(D){return D===null||ke(D)?(e.exit("codeFlowValue"),C(D)):(e.consume(D),T)}function N(D){return e.exit("codeFenced"),n(D)}function O(D,F,V){let ee=0;return z;function z(ce){return D.enter("lineEnding"),D.consume(ce),D.exit("lineEnding"),q}function q(ce){return D.enter("codeFencedFence"),Pe(ce)?Ue(D,K,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):K(ce)}function K(ce){return ce===d?(D.enter("codeFencedFenceSequence"),Z(ce)):V(ce)}function Z(ce){return ce===d?(ee++,D.consume(ce),Z):ee>=u?(D.exit("codeFencedFenceSequence"),Pe(ce)?Ue(D,re,"whitespace")(ce):re(ce)):V(ce)}function re(ce){return ce===null||ke(ce)?(D.exit("codeFencedFence"),F(ce)):V(ce)}}}function s_(e,n,r){const i=this;return s;function s(u){return u===null?r(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?r(u):n(u)}}const xd={name:"codeIndented",tokenize:u_},o_={partial:!0,tokenize:c_};function u_(e,n,r){const i=this;return s;function s(m){return e.enter("codeIndented"),Ue(e,o,"linePrefix",5)(m)}function o(m){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):r(m)}function u(m){return m===null?h(m):ke(m)?e.attempt(o_,u,h)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||ke(m)?(e.exit("codeFlowValue"),u(m)):(e.consume(m),d)}function h(m){return e.exit("codeIndented"),n(m)}}function c_(e,n,r){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?r(u):ke(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):Ue(e,o,"linePrefix",5)(u)}function o(u){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(u):ke(u)?s(u):r(u)}}const d_={name:"codeText",previous:h_,resolve:f_,tokenize:m_};function f_(e){let n=e.length-4,r=3,i,s;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(i=r;++i<n;)if(e[i][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(i=r-1,n++;++i<=n;)s===void 0?i!==n&&e[i][1].type!=="lineEnding"&&(s=i):(i===n||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),n-=i-s-2,i=s+2),s=void 0);return e}function h_(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function m_(e,n,r){let i=0,s,o;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),d(y)}function d(y){return y===96?(e.consume(y),i++,d):(e.exit("codeTextSequence"),h(y))}function h(y){return y===null?r(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),h):y===96?(o=e.enter("codeTextSequence"),s=0,g(y)):ke(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("codeTextData"),m(y))}function m(y){return y===null||y===32||y===96||ke(y)?(e.exit("codeTextData"),h(y)):(e.consume(y),m)}function g(y){return y===96?(e.consume(y),s++,g):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),n(y)):(o.type="codeTextData",m(y))}}class p_{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const i=r??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(n,i):n>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(n,r,i){const s=r||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&kl(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),kl(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);kl(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);kl(this.left,r.reverse())}}}function kl(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function Bx(e){const n={};let r=-1,i,s,o,u,d,h,m;const g=new p_(e);for(;++r<g.length;){for(;r in n;)r=n[r];if(i=g.get(r),r&&i[1].type==="chunkFlow"&&g.get(r-1)[1].type==="listItemPrefix"&&(h=i[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(n,g_(g,r)),r=n[r],m=!0);else if(i[1]._container){for(o=r,s=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...g.get(s)[1].start},d=g.slice(s,r),d.unshift(i),g.splice(s,r-s+1,d))}}return Zt(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function g_(e,n){const r=e.get(n)[1],i=e.get(n)[2];let s=n-1;const o=[];let u=r._tokenizer;u||(u=i.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,h=[],m={};let g,y,v=-1,b=r,w=0,E=0;const j=[E];for(;b;){for(;e.get(++s)[1]!==b;);o.push(s),b._tokenizer||(g=i.sliceStream(b),b.next||g.push(null),y&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=r;++v<d.length;)d[v][0]==="exit"&&d[v-1][0]==="enter"&&d[v][1].type===d[v-1][1].type&&d[v][1].start.line!==d[v][1].end.line&&(E=v+1,j.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):j.pop(),v=j.length;v--;){const k=d.slice(j[v],j[v+1]),C=o.pop();h.push([C,C+k.length-1]),e.splice(C,2,k)}for(h.reverse(),v=-1;++v<h.length;)m[w+h[v][0]]=w+h[v][1],w+=h[v][1]-h[v][0]-1;return m}const y_={resolve:v_,tokenize:b_},x_={partial:!0,tokenize:w_};function v_(e){return Bx(e),e}function b_(e,n){let r;return i;function i(d){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?o(d):ke(d)?e.check(x_,u,o)(d):(e.consume(d),s)}function o(d){return e.exit("chunkContent"),e.exit("content"),n(d)}function u(d){return e.consume(d),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,s}}function w_(e,n,r){const i=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ue(e,o,"linePrefix")}function o(u){if(u===null||ke(u))return r(u);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?n(u):e.interrupt(i.parser.constructs.flow,r,n)(u)}}function Ix(e,n,r,i,s,o,u,d,h){const m=h||Number.POSITIVE_INFINITY;let g=0;return y;function y(k){return k===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(k),e.exit(o),v):k===null||k===32||k===41||Co(k)?r(k):(e.enter(i),e.enter(u),e.enter(d),e.enter("chunkString",{contentType:"string"}),E(k))}function v(k){return k===62?(e.enter(o),e.consume(k),e.exit(o),e.exit(s),e.exit(i),n):(e.enter(d),e.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===62?(e.exit("chunkString"),e.exit(d),v(k)):k===null||k===60||ke(k)?r(k):(e.consume(k),k===92?w:b)}function w(k){return k===60||k===62||k===92?(e.consume(k),b):b(k)}function E(k){return!g&&(k===null||k===41||Qe(k))?(e.exit("chunkString"),e.exit(d),e.exit(u),e.exit(i),n(k)):g<m&&k===40?(e.consume(k),g++,E):k===41?(e.consume(k),g--,E):k===null||k===32||k===40||Co(k)?r(k):(e.consume(k),k===92?j:E)}function j(k){return k===40||k===41||k===92?(e.consume(k),E):E(k)}}function qx(e,n,r,i,s,o){const u=this;let d=0,h;return m;function m(b){return e.enter(i),e.enter(s),e.consume(b),e.exit(s),e.enter(o),g}function g(b){return d>999||b===null||b===91||b===93&&!h||b===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?r(b):b===93?(e.exit(o),e.enter(s),e.consume(b),e.exit(s),e.exit(i),n):ke(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||ke(b)||d++>999?(e.exit("chunkString"),g(b)):(e.consume(b),h||(h=!Pe(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(e.consume(b),d++,y):y(b)}}function Hx(e,n,r,i,s,o){let u;return d;function d(v){return v===34||v===39||v===40?(e.enter(i),e.enter(s),e.consume(v),e.exit(s),u=v===40?41:v,h):r(v)}function h(v){return v===u?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),n):(e.enter(o),m(v))}function m(v){return v===u?(e.exit(o),h(u)):v===null?r(v):ke(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Ue(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||ke(v)?(e.exit("chunkString"),m(v)):(e.consume(v),v===92?y:g)}function y(v){return v===u||v===92?(e.consume(v),g):g(v)}}function Rl(e,n){let r;return i;function i(s){return ke(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),r=!0,i):Pe(s)?Ue(e,i,r?"linePrefix":"lineSuffix")(s):n(s)}}const k_={name:"definition",tokenize:__},S_={partial:!0,tokenize:j_};function __(e,n,r){const i=this;let s;return o;function o(b){return e.enter("definition"),u(b)}function u(b){return qx.call(i,e,d,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function d(b){return s=vn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),h):r(b)}function h(b){return Qe(b)?Rl(e,m)(b):m(b)}function m(b){return Ix(e,g,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return e.attempt(S_,y,y)(b)}function y(b){return Pe(b)?Ue(e,v,"whitespace")(b):v(b)}function v(b){return b===null||ke(b)?(e.exit("definition"),i.parser.defined.push(s),n(b)):r(b)}}function j_(e,n,r){return i;function i(d){return Qe(d)?Rl(e,s)(d):r(d)}function s(d){return Hx(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return Pe(d)?Ue(e,u,"whitespace")(d):u(d)}function u(d){return d===null||ke(d)?n(d):r(d)}}const E_={name:"hardBreakEscape",tokenize:T_};function T_(e,n,r){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return ke(o)?(e.exit("hardBreakEscape"),n(o)):r(o)}}const A_={name:"headingAtx",resolve:N_,tokenize:C_};function N_(e,n){let r=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),r-2>i&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(i===r-1||r-4>i&&e[r-2][1].type==="whitespace")&&(r-=i+1===r?2:4),r>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[r][1].end},o={type:"chunkText",start:e[i][1].start,end:e[r][1].end,contentType:"text"},Zt(e,i,r-i+1,[["enter",s,n],["enter",o,n],["exit",o,n],["exit",s,n]])),e}function C_(e,n,r){let i=0;return s;function s(g){return e.enter("atxHeading"),o(g)}function o(g){return e.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(e.consume(g),u):g===null||Qe(g)?(e.exit("atxHeadingSequence"),d(g)):r(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),h(g)):g===null||ke(g)?(e.exit("atxHeading"),n(g)):Pe(g)?Ue(e,d,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function h(g){return g===35?(e.consume(g),h):(e.exit("atxHeadingSequence"),d(g))}function m(g){return g===null||g===35||Qe(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),m)}}const R_=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ig=["pre","script","style","textarea"],O_={concrete:!0,name:"htmlFlow",resolveTo:L_,tokenize:P_},D_={partial:!0,tokenize:U_},M_={partial:!0,tokenize:z_};function L_(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function P_(e,n,r){const i=this;let s,o,u,d,h;return m;function m(A){return g(A)}function g(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),y}function y(A){return A===33?(e.consume(A),v):A===47?(e.consume(A),o=!0,E):A===63?(e.consume(A),s=3,i.interrupt?n:S):Ot(A)?(e.consume(A),u=String.fromCharCode(A),j):r(A)}function v(A){return A===45?(e.consume(A),s=2,b):A===91?(e.consume(A),s=5,d=0,w):Ot(A)?(e.consume(A),s=4,i.interrupt?n:S):r(A)}function b(A){return A===45?(e.consume(A),i.interrupt?n:S):r(A)}function w(A){const ae="CDATA[";return A===ae.charCodeAt(d++)?(e.consume(A),d===ae.length?i.interrupt?n:K:w):r(A)}function E(A){return Ot(A)?(e.consume(A),u=String.fromCharCode(A),j):r(A)}function j(A){if(A===null||A===47||A===62||Qe(A)){const ae=A===47,de=u.toLowerCase();return!ae&&!o&&Ig.includes(de)?(s=1,i.interrupt?n(A):K(A)):R_.includes(u.toLowerCase())?(s=6,ae?(e.consume(A),k):i.interrupt?n(A):K(A)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?r(A):o?C(A):T(A))}return A===45||Nt(A)?(e.consume(A),u+=String.fromCharCode(A),j):r(A)}function k(A){return A===62?(e.consume(A),i.interrupt?n:K):r(A)}function C(A){return Pe(A)?(e.consume(A),C):z(A)}function T(A){return A===47?(e.consume(A),z):A===58||A===95||Ot(A)?(e.consume(A),N):Pe(A)?(e.consume(A),T):z(A)}function N(A){return A===45||A===46||A===58||A===95||Nt(A)?(e.consume(A),N):O(A)}function O(A){return A===61?(e.consume(A),D):Pe(A)?(e.consume(A),O):T(A)}function D(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),h=A,F):Pe(A)?(e.consume(A),D):V(A)}function F(A){return A===h?(e.consume(A),h=null,ee):A===null||ke(A)?r(A):(e.consume(A),F)}function V(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Qe(A)?O(A):(e.consume(A),V)}function ee(A){return A===47||A===62||Pe(A)?T(A):r(A)}function z(A){return A===62?(e.consume(A),q):r(A)}function q(A){return A===null||ke(A)?K(A):Pe(A)?(e.consume(A),q):r(A)}function K(A){return A===45&&s===2?(e.consume(A),B):A===60&&s===1?(e.consume(A),I):A===62&&s===4?(e.consume(A),X):A===63&&s===3?(e.consume(A),S):A===93&&s===5?(e.consume(A),W):ke(A)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(D_,$,Z)(A)):A===null||ke(A)?(e.exit("htmlFlowData"),Z(A)):(e.consume(A),K)}function Z(A){return e.check(M_,re,$)(A)}function re(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),ce}function ce(A){return A===null||ke(A)?Z(A):(e.enter("htmlFlowData"),K(A))}function B(A){return A===45?(e.consume(A),S):K(A)}function I(A){return A===47?(e.consume(A),u="",le):K(A)}function le(A){if(A===62){const ae=u.toLowerCase();return Ig.includes(ae)?(e.consume(A),X):K(A)}return Ot(A)&&u.length<8?(e.consume(A),u+=String.fromCharCode(A),le):K(A)}function W(A){return A===93?(e.consume(A),S):K(A)}function S(A){return A===62?(e.consume(A),X):A===45&&s===2?(e.consume(A),S):K(A)}function X(A){return A===null||ke(A)?(e.exit("htmlFlowData"),$(A)):(e.consume(A),X)}function $(A){return e.exit("htmlFlow"),n(A)}}function z_(e,n,r){const i=this;return s;function s(u){return ke(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):r(u)}function o(u){return i.parser.lazy[i.now().line]?r(u):n(u)}}function U_(e,n,r){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Ql,n,r)}}const B_={name:"htmlText",tokenize:I_};function I_(e,n,r){const i=this;let s,o,u;return d;function d(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),h}function h(S){return S===33?(e.consume(S),m):S===47?(e.consume(S),O):S===63?(e.consume(S),T):Ot(S)?(e.consume(S),V):r(S)}function m(S){return S===45?(e.consume(S),g):S===91?(e.consume(S),o=0,w):Ot(S)?(e.consume(S),C):r(S)}function g(S){return S===45?(e.consume(S),b):r(S)}function y(S){return S===null?r(S):S===45?(e.consume(S),v):ke(S)?(u=y,I(S)):(e.consume(S),y)}function v(S){return S===45?(e.consume(S),b):y(S)}function b(S){return S===62?B(S):S===45?v(S):y(S)}function w(S){const X="CDATA[";return S===X.charCodeAt(o++)?(e.consume(S),o===X.length?E:w):r(S)}function E(S){return S===null?r(S):S===93?(e.consume(S),j):ke(S)?(u=E,I(S)):(e.consume(S),E)}function j(S){return S===93?(e.consume(S),k):E(S)}function k(S){return S===62?B(S):S===93?(e.consume(S),k):E(S)}function C(S){return S===null||S===62?B(S):ke(S)?(u=C,I(S)):(e.consume(S),C)}function T(S){return S===null?r(S):S===63?(e.consume(S),N):ke(S)?(u=T,I(S)):(e.consume(S),T)}function N(S){return S===62?B(S):T(S)}function O(S){return Ot(S)?(e.consume(S),D):r(S)}function D(S){return S===45||Nt(S)?(e.consume(S),D):F(S)}function F(S){return ke(S)?(u=F,I(S)):Pe(S)?(e.consume(S),F):B(S)}function V(S){return S===45||Nt(S)?(e.consume(S),V):S===47||S===62||Qe(S)?ee(S):r(S)}function ee(S){return S===47?(e.consume(S),B):S===58||S===95||Ot(S)?(e.consume(S),z):ke(S)?(u=ee,I(S)):Pe(S)?(e.consume(S),ee):B(S)}function z(S){return S===45||S===46||S===58||S===95||Nt(S)?(e.consume(S),z):q(S)}function q(S){return S===61?(e.consume(S),K):ke(S)?(u=q,I(S)):Pe(S)?(e.consume(S),q):ee(S)}function K(S){return S===null||S===60||S===61||S===62||S===96?r(S):S===34||S===39?(e.consume(S),s=S,Z):ke(S)?(u=K,I(S)):Pe(S)?(e.consume(S),K):(e.consume(S),re)}function Z(S){return S===s?(e.consume(S),s=void 0,ce):S===null?r(S):ke(S)?(u=Z,I(S)):(e.consume(S),Z)}function re(S){return S===null||S===34||S===39||S===60||S===61||S===96?r(S):S===47||S===62||Qe(S)?ee(S):(e.consume(S),re)}function ce(S){return S===47||S===62||Qe(S)?ee(S):r(S)}function B(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),n):r(S)}function I(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),le}function le(S){return Pe(S)?Ue(e,W,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):W(S)}function W(S){return e.enter("htmlTextData"),u(S)}}const Df={name:"labelEnd",resolveAll:F_,resolveTo:G_,tokenize:Y_},q_={tokenize:V_},H_={tokenize:K_},$_={tokenize:Q_};function F_(e){let n=-1;const r=[];for(;++n<e.length;){const i=e[n][1];if(r.push(e[n]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",n+=s}}return e.length!==r.length&&Zt(e,0,e.length,r),e}function G_(e,n){let r=e.length,i=0,s,o,u,d;for(;r--;)if(s=e[r][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=r,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=r);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},g={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return d=[["enter",h,n],["enter",m,n]],d=fn(d,e.slice(o+1,o+i+3)),d=fn(d,[["enter",g,n]]),d=fn(d,Io(n.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),n)),d=fn(d,[["exit",g,n],e[u-2],e[u-1],["exit",m,n]]),d=fn(d,e.slice(u+1)),d=fn(d,[["exit",h,n]]),Zt(e,o,e.length,d),e}function Y_(e,n,r){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return d;function d(v){return o?o._inactive?y(v):(u=i.parser.defined.includes(vn(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),h):r(v)}function h(v){return v===40?e.attempt(q_,g,u?g:y)(v):v===91?e.attempt(H_,g,u?m:y)(v):u?g(v):y(v)}function m(v){return e.attempt($_,g,y)(v)}function g(v){return n(v)}function y(v){return o._balanced=!0,r(v)}}function V_(e,n,r){return i;function i(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),s}function s(y){return Qe(y)?Rl(e,o)(y):o(y)}function o(y){return y===41?g(y):Ix(e,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return Qe(y)?Rl(e,h)(y):g(y)}function d(y){return r(y)}function h(y){return y===34||y===39||y===40?Hx(e,m,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function m(y){return Qe(y)?Rl(e,g)(y):g(y)}function g(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),n):r(y)}}function K_(e,n,r){const i=this;return s;function s(d){return qx.call(i,e,o,u,"reference","referenceMarker","referenceString")(d)}function o(d){return i.parser.defined.includes(vn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?n(d):r(d)}function u(d){return r(d)}}function Q_(e,n,r){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):r(o)}}const X_={name:"labelStartImage",resolveAll:Df.resolveAll,tokenize:J_};function J_(e,n,r){const i=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),o}function o(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),u):r(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(d):n(d)}}const W_={name:"labelStartLink",resolveAll:Df.resolveAll,tokenize:Z_};function Z_(e,n,r){const i=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?r(u):n(u)}}const vd={name:"lineEnding",tokenize:ej};function ej(e,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Ue(e,n,"linePrefix")}}const To={name:"thematicBreak",tokenize:tj};function tj(e,n,r){let i=0,s;return o;function o(m){return e.enter("thematicBreak"),u(m)}function u(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),h(m)):i>=3&&(m===null||ke(m))?(e.exit("thematicBreak"),n(m)):r(m)}function h(m){return m===s?(e.consume(m),i++,h):(e.exit("thematicBreakSequence"),Pe(m)?Ue(e,d,"whitespace")(m):d(m))}}const qt={continuation:{tokenize:ij},exit:sj,name:"list",tokenize:aj},nj={partial:!0,tokenize:oj},rj={partial:!0,tokenize:lj};function aj(e,n,r){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(b){const w=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:Zd(b)){if(i.containerState.type||(i.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(To,r,m)(b):m(b);if(!i.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(b)}return r(b)}function h(b){return Zd(b)&&++u<10?(e.consume(b),h):(!i.interrupt||u<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),m(b)):r(b)}function m(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,e.check(Ql,i.interrupt?r:g,e.attempt(nj,v,y))}function g(b){return i.containerState.initialBlankLine=!0,o++,v(b)}function y(b){return Pe(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):r(b)}function v(b){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(b)}}function ij(e,n,r){const i=this;return i.containerState._closeFlow=void 0,e.check(Ql,s,o);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ue(e,n,"listItemIndent",i.containerState.size+1)(d)}function o(d){return i.containerState.furtherBlankLines||!Pe(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(rj,n,u)(d))}function u(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ue(e,e.attempt(qt,n,r),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function lj(e,n,r){const i=this;return Ue(e,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?n(o):r(o)}}function sj(e){e.exit(this.containerState.type)}function oj(e,n,r){const i=this;return Ue(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!Pe(o)&&u&&u[1].type==="listItemPrefixWhitespace"?n(o):r(o)}}const qg={name:"setextUnderline",resolveTo:uj,tokenize:cj};function uj(e,n){let r=e.length,i,s,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){i=r;break}e[r][1].type==="paragraph"&&(s=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",u,n]),e.splice(o+1,0,["exit",e[i][1],n]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,n]),e}function cj(e,n,r){const i=this;let s;return o;function o(m){let g=i.events.length,y;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){y=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(e.enter("setextHeadingLine"),s=m,u(m)):r(m)}function u(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),Pe(m)?Ue(e,h,"lineSuffix")(m):h(m))}function h(m){return m===null||ke(m)?(e.exit("setextHeadingLine"),n(m)):r(m)}}const dj={tokenize:fj};function fj(e){const n=this,r=e.attempt(Ql,i,e.attempt(this.parser.constructs.flowInitial,s,Ue(e,e.attempt(this.parser.constructs.flow,s,e.attempt(y_,s)),"linePrefix")));return r;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const hj={resolveAll:Fx()},mj=$x("string"),pj=$x("text");function $x(e){return{resolveAll:Fx(e==="text"?gj:void 0),tokenize:n};function n(r){const i=this,s=this.parser.constructs[e],o=r.attempt(s,u,d);return u;function u(g){return m(g)?o(g):d(g)}function d(g){if(g===null){r.consume(g);return}return r.enter("data"),r.consume(g),h}function h(g){return m(g)?(r.exit("data"),o(g)):(r.consume(g),h)}function m(g){if(g===null)return!0;const y=s[g];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function Fx(e){return n;function n(r,i){let s=-1,o;for(;++s<=r.length;)o===void 0?r[s]&&r[s][1].type==="data"&&(o=s,s++):(!r[s]||r[s][1].type!=="data")&&(s!==o+2&&(r[o][1].end=r[s-1][1].end,r.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(r,i):r}}function gj(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const i=e[r-1][1],s=n.sliceStream(i);let o=s.length,u=-1,d=0,h;for(;o--;){const m=s[o];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(m===-2)h=!0,d++;else if(m!==-1){o++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(d=0),d){const m={type:r===e.length||h||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(e.splice(r,0,["enter",m,n],["exit",m,n]),r+=2)}r++}return e}const yj={42:qt,43:qt,45:qt,48:qt,49:qt,50:qt,51:qt,52:qt,53:qt,54:qt,55:qt,56:qt,57:qt,62:Px},xj={91:k_},vj={[-2]:xd,[-1]:xd,32:xd},bj={35:A_,42:To,45:[qg,To],60:O_,61:qg,95:To,96:Bg,126:Bg},wj={38:Ux,92:zx},kj={[-5]:vd,[-4]:vd,[-3]:vd,33:X_,38:Ux,42:ef,60:[W2,B_],91:W_,92:[E_,zx],93:Df,95:ef,96:d_},Sj={null:[ef,hj]},_j={null:[42,95]},jj={null:[]},Ej=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_j,contentInitial:xj,disable:jj,document:yj,flow:bj,flowInitial:vj,insideSpan:Sj,string:wj,text:kj},Symbol.toStringTag,{value:"Module"}));function Tj(e,n,r){let i={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const s={},o=[];let u=[],d=[];const h={attempt:F(O),check:F(D),consume:C,enter:T,exit:N,interrupt:F(D,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:w,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:y};let g=n.tokenize.call(m,h);return n.resolveAll&&o.push(n),m;function y(q){return u=fn(u,q),j(),u[u.length-1]!==null?[]:(V(n,0),m.events=Io(o,m.events,m),m.events)}function v(q,K){return Nj(b(q),K)}function b(q){return Aj(u,q)}function w(){const{_bufferIndex:q,_index:K,line:Z,column:re,offset:ce}=i;return{_bufferIndex:q,_index:K,line:Z,column:re,offset:ce}}function E(q){s[q.line]=q.column,z()}function j(){let q;for(;i._index<u.length;){const K=u[i._index];if(typeof K=="string")for(q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===q&&i._bufferIndex<K.length;)k(K.charCodeAt(i._bufferIndex));else k(K)}}function k(q){g=g(q)}function C(q){ke(q)?(i.line++,i.column=1,i.offset+=q===-3?2:1,z()):q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=q}function T(q,K){const Z=K||{};return Z.type=q,Z.start=w(),m.events.push(["enter",Z,m]),d.push(Z),Z}function N(q){const K=d.pop();return K.end=w(),m.events.push(["exit",K,m]),K}function O(q,K){V(q,K.from)}function D(q,K){K.restore()}function F(q,K){return Z;function Z(re,ce,B){let I,le,W,S;return Array.isArray(re)?$(re):"tokenize"in re?$([re]):X(re);function X(P){return oe;function oe(ue){const pe=ue!==null&&P[ue],ye=ue!==null&&P.null,xe=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return $(xe)(ue)}}function $(P){return I=P,le=0,P.length===0?B:A(P[le])}function A(P){return oe;function oe(ue){return S=ee(),W=P,P.partial||(m.currentConstruct=P),P.name&&m.parser.constructs.disable.null.includes(P.name)?de():P.tokenize.call(K?Object.assign(Object.create(m),K):m,h,ae,de)(ue)}}function ae(P){return q(W,S),ce}function de(P){return S.restore(),++le<I.length?A(I[le]):B}}}function V(q,K){q.resolveAll&&!o.includes(q)&&o.push(q),q.resolve&&Zt(m.events,K,m.events.length-K,q.resolve(m.events.slice(K),m)),q.resolveTo&&(m.events=q.resolveTo(m.events,m))}function ee(){const q=w(),K=m.previous,Z=m.currentConstruct,re=m.events.length,ce=Array.from(d);return{from:re,restore:B};function B(){i=q,m.previous=K,m.currentConstruct=Z,m.events.length=re,d=ce,z()}}function z(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function Aj(e,n){const r=n.start._index,i=n.start._bufferIndex,s=n.end._index,o=n.end._bufferIndex;let u;if(r===s)u=[e[r].slice(i,o)];else{if(u=e.slice(r,s),i>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(i):u.shift()}o>0&&u.push(e[s].slice(0,o))}return u}function Nj(e,n){let r=-1;const i=[];let s;for(;++r<e.length;){const o=e[r];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=n?" ":"	";break}case-1:{if(!n&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function Cj(e){const i={constructs:Mx([Ej,...(e||{}).extensions||[]]),content:s(G2),defined:[],document:s(V2),flow:s(dj),lazy:{},string:s(mj),text:s(pj)};return i;function s(o){return u;function u(d){return Tj(i,o,d)}}}function Rj(e){for(;!Bx(e););return e}const Hg=/[\0\t\n\r]/g;function Oj(){let e=1,n="",r=!0,i;return s;function s(o,u,d){const h=[];let m,g,y,v,b;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,n="",r&&(o.charCodeAt(0)===65279&&y++,r=void 0);y<o.length;){if(Hg.lastIndex=y,m=Hg.exec(o),v=m&&m.index!==void 0?m.index:o.length,b=o.charCodeAt(v),!m){n=o.slice(y);break}if(b===10&&y===v&&i)h.push(-3),i=void 0;else switch(i&&(h.push(-5),i=void 0),y<v&&(h.push(o.slice(y,v)),e+=v-y),b){case 0:{h.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,h.push(-2);e++<g;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:i=!0,e=1}y=v+1}return d&&(i&&h.push(-5),n&&h.push(n),h.push(null)),h}}const Dj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Mj(e){return e.replace(Dj,Lj)}function Lj(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const s=r.charCodeAt(1),o=s===120||s===88;return Lx(r.slice(o?2:1),o?16:10)}return Of(r)||e}const Gx={}.hasOwnProperty;function Pj(e,n,r){return typeof n!="string"&&(r=n,n=void 0),zj(r)(Rj(Cj(r).document().write(Oj()(e,n,!0))))}function zj(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Dt),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:o(en),blockQuote:o(ye),characterEscape:ee,characterReference:ee,codeFenced:o(xe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(xe,u),codeText:o(be,u),codeTextData:ee,data:ee,codeFlowValue:ee,definition:o(me),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Ce),hardBreakEscape:o(St),hardBreakTrailing:o(St),htmlFlow:o(nt,u),htmlFlowData:ee,htmlText:o(nt,u),htmlTextData:ee,image:o(Dr),label:u,link:o(Dt),listItem:o(sa),listItemValue:v,listOrdered:o(bi,y),listUnordered:o(bi),paragraph:o(Go),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(en),strong:o(Zl),thematicBreak:o(Vo)},exit:{atxHeading:h(),atxHeadingSequence:O,autolink:h(),autolinkEmail:pe,autolinkProtocol:ue,blockQuote:h(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:P,characterReference:oe,codeFenced:h(j),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:z,codeIndented:h(k),codeText:h(ce),codeTextData:z,data:z,definition:h(),definitionDestinationString:N,definitionLabelString:C,definitionTitleString:T,emphasis:h(),hardBreakEscape:h(K),hardBreakTrailing:h(K),htmlFlow:h(Z),htmlFlowData:z,htmlText:h(re),htmlTextData:z,image:h(I),label:W,labelText:le,lineEnding:q,link:h(B),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ae,resourceDestinationString:S,resourceTitleString:X,resource:$,setextHeading:h(V),setextHeadingLineSequence:F,setextHeadingText:D,strong:h(),thematicBreak:h()}};Yx(n,(e||{}).mdastExtensions||[]);const r={};return i;function i(te){let fe={type:"root",children:[]};const we={stack:[fe],tokenStack:[],config:n,enter:d,exit:m,buffer:u,resume:g,data:r},je=[];let He=-1;for(;++He<te.length;)if(te[He][1].type==="listOrdered"||te[He][1].type==="listUnordered")if(te[He][0]==="enter")je.push(He);else{const $t=je.pop();He=s(te,$t,He)}for(He=-1;++He<te.length;){const $t=n[te[He][0]];Gx.call($t,te[He][1].type)&&$t[te[He][1].type].call(Object.assign({sliceSerialize:te[He][2].sliceSerialize},we),te[He][1])}if(we.tokenStack.length>0){const $t=we.tokenStack[we.tokenStack.length-1];($t[1]||$g).call(we,void 0,$t[0])}for(fe.position={start:kr(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:kr(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<n.transforms.length;)fe=n.transforms[He](fe)||fe;return fe}function s(te,fe,we){let je=fe-1,He=-1,$t=!1,Rn,Mt,kn,Ft;for(;++je<=we;){const ht=te[je];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?He++:He--,Ft=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(Rn&&!Ft&&!He&&!kn&&(kn=je),Ft=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ft=void 0}if(!He&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||He===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(Rn){let tn=je;for(Mt=void 0;tn--;){const hn=te[tn];if(hn[1].type==="lineEnding"||hn[1].type==="lineEndingBlank"){if(hn[0]==="exit")continue;Mt&&(te[Mt][1].type="lineEndingBlank",$t=!0),hn[1].type="lineEnding",Mt=tn}else if(!(hn[1].type==="linePrefix"||hn[1].type==="blockQuotePrefix"||hn[1].type==="blockQuotePrefixWhitespace"||hn[1].type==="blockQuoteMarker"||hn[1].type==="listItemIndent"))break}kn&&(!Mt||kn<Mt)&&(Rn._spread=!0),Rn.end=Object.assign({},Mt?te[Mt][1].start:ht[1].end),te.splice(Mt||je,0,["exit",Rn,ht[2]]),je++,we++}if(ht[1].type==="listItemPrefix"){const tn={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};Rn=tn,te.splice(je,0,["enter",tn,ht[2]]),je++,we++,kn=void 0,Ft=!0}}}return te[fe][1]._spread=$t,we}function o(te,fe){return we;function we(je){d.call(this,te(je),je),fe&&fe.call(this,je)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(te,fe,we){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([fe,we||void 0]),te.position={start:kr(fe.start),end:void 0}}function h(te){return fe;function fe(we){te&&te.call(this,we),m.call(this,we)}}function m(te,fe){const we=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==te.type&&(fe?fe.call(this,te,je[0]):(je[1]||$g).call(this,te,je[0]));else throw new Error("Cannot close `"+te.type+"` ("+Cl({start:te.start,end:te.end})+"): its not open");we.position.end=kr(te.end)}function g(){return Rf(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(te){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function b(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=te}function w(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=te}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.value=te.replace(/(\r?\n|\r)$/g,"")}function C(te){const fe=this.resume(),we=this.stack[this.stack.length-1];we.label=fe,we.identifier=vn(this.sliceSerialize(te)).toLowerCase()}function T(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.title=te}function N(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.url=te}function O(te){const fe=this.stack[this.stack.length-1];if(!fe.depth){const we=this.sliceSerialize(te).length;fe.depth=we}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(te){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(te){const we=this.stack[this.stack.length-1].children;let je=we[we.length-1];(!je||je.type!=="text")&&(je=Yo(),je.position={start:kr(te.start),end:void 0},we.push(je)),this.stack.push(je)}function z(te){const fe=this.stack.pop();fe.value+=this.sliceSerialize(te),fe.position.end=kr(te.end)}function q(te){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=fe.children[fe.children.length-1];we.position.end=kr(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(fe.type)&&(ee.call(this,te),z.call(this,te))}function K(){this.data.atHardBreak=!0}function Z(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.value=te}function re(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.value=te}function ce(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.value=te}function B(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=fe,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function I(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=fe,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function le(te){const fe=this.sliceSerialize(te),we=this.stack[this.stack.length-2];we.label=Mj(fe),we.identifier=vn(fe).toLowerCase()}function W(){const te=this.stack[this.stack.length-1],fe=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const je=te.children;we.children=je}else we.alt=fe}function S(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.url=te}function X(){const te=this.resume(),fe=this.stack[this.stack.length-1];fe.title=te}function $(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ae(te){const fe=this.resume(),we=this.stack[this.stack.length-1];we.label=fe,we.identifier=vn(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function de(te){this.data.characterReferenceType=te.type}function P(te){const fe=this.sliceSerialize(te),we=this.data.characterReferenceType;let je;we?(je=Lx(fe,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=Of(fe);const He=this.stack[this.stack.length-1];He.value+=je}function oe(te){const fe=this.stack.pop();fe.position.end=kr(te.end)}function ue(te){z.call(this,te);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(te)}function pe(te){z.call(this,te);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(te)}function ye(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ce(){return{type:"emphasis",children:[]}}function en(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function nt(){return{type:"html",value:""}}function Dr(){return{type:"image",title:null,url:"",alt:null}}function Dt(){return{type:"link",title:null,url:"",children:[]}}function bi(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function sa(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Go(){return{type:"paragraph",children:[]}}function Zl(){return{type:"strong",children:[]}}function Yo(){return{type:"text",value:""}}function Vo(){return{type:"thematicBreak"}}}function kr(e){return{line:e.line,column:e.column,offset:e.offset}}function Yx(e,n){let r=-1;for(;++r<n.length;){const i=n[r];Array.isArray(i)?Yx(e,i):Uj(e,i)}}function Uj(e,n){let r;for(r in n)if(Gx.call(n,r))switch(r){case"canContainEols":{const i=n[r];i&&e[r].push(...i);break}case"transforms":{const i=n[r];i&&e[r].push(...i);break}case"enter":case"exit":{const i=n[r];i&&Object.assign(e[r],i);break}}}function $g(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Cl({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Cl({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Cl({start:n.start,end:n.end})+") is still open")}function Bj(e){const n=this;n.parser=r;function r(i){return Pj(i,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Ij(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function qj(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function Hj(e,n){const r=n.value?n.value+`
`:"",i={};n.lang&&(i.className=["language-"+n.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:r}]};return n.meta&&(s.data={meta:n.meta}),e.patch(n,s),s=e.applyData(n,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(n,s),s}function $j(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Fj(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Gj(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(n.identifier).toUpperCase(),s=xi(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,d=e.footnoteCounts.get(i);d===void 0?(d=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,d+=1,e.footnoteCounts.set(i,d);const h={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+s,id:r+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(n,h);const m={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(n,m),e.applyData(n,m)}function Yj(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Vj(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function Vx(e,n){const r=n.referenceType;let i="]";if(r==="collapsed"?i+="[]":r==="full"&&(i+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+i}];const s=e.all(n),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function Kj(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Vx(e,n);const s={src:xi(i.url||""),alt:n.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(n,o),e.applyData(n,o)}function Qj(e,n){const r={src:xi(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function Xj(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const i={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,i),e.applyData(n,i)}function Jj(e,n){const r=String(n.identifier).toUpperCase(),i=e.definitionById.get(r);if(!i)return Vx(e,n);const s={href:xi(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function Wj(e,n){const r={href:xi(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Zj(e,n,r){const i=e.all(n),s=r?eE(r):Kx(n),o={},u=[];if(typeof n.checked=="boolean"){const g=i[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const g=i[d];(s||d!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const h=i[i.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:u};return e.patch(n,m),e.applyData(n,m)}function eE(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let i=-1;for(;!n&&++i<r.length;)n=Kx(r[i])}return n}function Kx(e){const n=e.spread;return n??e.children.length>1}function tE(e,n){const r={},i=e.all(n);let s=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function nE(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function rE(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function aE(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function iE(e,n){const r=e.all(n),i=r.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(n.children[0],u),s.push(u)}if(r.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},d=Tf(n.children[1]),h=Tx(n.children[n.children.length-1]);d&&h&&(u.position={start:d,end:h}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(n,o),e.applyData(n,o)}function lE(e,n,r){const i=r?r.children:void 0,o=(i?i.indexOf(n):1)===0?"th":"td",u=r&&r.type==="table"?r.align:void 0,d=u?u.length:n.children.length;let h=-1;const m=[];for(;++h<d;){const y=n.children[h],v={},b=u?u[h]:void 0;b&&(v.align=b);let w={type:"element",tagName:o,properties:v,children:[]};y&&(w.children=e.all(y),e.patch(y,w),w=e.applyData(y,w)),m.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(n,g),e.applyData(n,g)}function sE(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const Fg=9,Gg=32;function oE(e){const n=String(e),r=/\r?\n|\r/g;let i=r.exec(n),s=0;const o=[];for(;i;)o.push(Yg(n.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=r.exec(n);return o.push(Yg(n.slice(s),s>0,!1)),o.join("")}function Yg(e,n,r){let i=0,s=e.length;if(n){let o=e.codePointAt(i);for(;o===Fg||o===Gg;)i++,o=e.codePointAt(i)}if(r){let o=e.codePointAt(s-1);for(;o===Fg||o===Gg;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function uE(e,n){const r={type:"text",value:oE(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function cE(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const dE={blockquote:Ij,break:qj,code:Hj,delete:$j,emphasis:Fj,footnoteReference:Gj,heading:Yj,html:Vj,imageReference:Kj,image:Qj,inlineCode:Xj,linkReference:Jj,link:Wj,listItem:Zj,list:tE,paragraph:nE,root:rE,strong:aE,table:iE,tableCell:sE,tableRow:lE,text:uE,thematicBreak:cE,toml:fo,yaml:fo,definition:fo,footnoteDefinition:fo};function fo(){}const Qx=-1,qo=0,Ol=1,Ro=2,Mf=3,Lf=4,Pf=5,zf=6,Xx=7,Jx=8,Vg=typeof self=="object"?self:globalThis,fE=(e,n)=>{const r=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,u]=n[s];switch(o){case qo:case Qx:return r(u,s);case Ol:{const d=r([],s);for(const h of u)d.push(i(h));return d}case Ro:{const d=r({},s);for(const[h,m]of u)d[i(h)]=i(m);return d}case Mf:return r(new Date(u),s);case Lf:{const{source:d,flags:h}=u;return r(new RegExp(d,h),s)}case Pf:{const d=r(new Map,s);for(const[h,m]of u)d.set(i(h),i(m));return d}case zf:{const d=r(new Set,s);for(const h of u)d.add(i(h));return d}case Xx:{const{name:d,message:h}=u;return r(new Vg[d](h),s)}case Jx:return r(BigInt(u),s);case"BigInt":return r(Object(BigInt(u)),s);case"ArrayBuffer":return r(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return r(new DataView(d),u)}}return r(new Vg[o](u),s)};return i},Kg=e=>fE(new Map,e)(0),Qa="",{toString:hE}={},{keys:mE}=Object,Sl=e=>{const n=typeof e;if(n!=="object"||!e)return[qo,n];const r=hE.call(e).slice(8,-1);switch(r){case"Array":return[Ol,Qa];case"Object":return[Ro,Qa];case"Date":return[Mf,Qa];case"RegExp":return[Lf,Qa];case"Map":return[Pf,Qa];case"Set":return[zf,Qa];case"DataView":return[Ol,r]}return r.includes("Array")?[Ol,r]:r.includes("Error")?[Xx,r]:[Ro,r]},ho=([e,n])=>e===qo&&(n==="function"||n==="symbol"),pE=(e,n,r,i)=>{const s=(u,d)=>{const h=i.push(u)-1;return r.set(d,h),h},o=u=>{if(r.has(u))return r.get(u);let[d,h]=Sl(u);switch(d){case qo:{let g=u;switch(h){case"bigint":d=Jx,g=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return s([Qx],u)}return s([d,g],u)}case Ol:{if(h){let v=u;return h==="DataView"?v=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(u)),s([h,[...v]],u)}const g=[],y=s([d,g],u);for(const v of u)g.push(o(v));return y}case Ro:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(n&&"toJSON"in u)return o(u.toJSON());const g=[],y=s([d,g],u);for(const v of mE(u))(e||!ho(Sl(u[v])))&&g.push([o(v),o(u[v])]);return y}case Mf:return s([d,u.toISOString()],u);case Lf:{const{source:g,flags:y}=u;return s([d,{source:g,flags:y}],u)}case Pf:{const g=[],y=s([d,g],u);for(const[v,b]of u)(e||!(ho(Sl(v))||ho(Sl(b))))&&g.push([o(v),o(b)]);return y}case zf:{const g=[],y=s([d,g],u);for(const v of u)(e||!ho(Sl(v)))&&g.push(o(v));return y}}const{message:m}=u;return s([d,{name:h,message:m}],u)};return o},Qg=(e,{json:n,lossy:r}={})=>{const i=[];return pE(!(n||r),!!n,new Map,i)(e),i},Oo=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Kg(Qg(e,n)):structuredClone(e):(e,n)=>Kg(Qg(e,n));function gE(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function yE(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function xE(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||gE,i=e.options.footnoteBackLabel||yE,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let h=-1;for(;++h<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[h]);if(!m)continue;const g=e.all(m),y=String(m.identifier).toUpperCase(),v=xi(y.toLowerCase());let b=0;const w=[],E=e.footnoteCounts.get(y);for(;E!==void 0&&++b<=E;){w.length>0&&w.push({type:"text",value:" "});let C=typeof r=="string"?r:r(h,b);typeof C=="string"&&(C={type:"text",value:C}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(h,b),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const j=g[g.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const C=j.children[j.children.length-1];C&&C.type==="text"?C.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...w)}else g.push(...w);const k={type:"element",tagName:"li",properties:{id:n+"fn-"+v},children:e.wrap(g,!0)};e.patch(m,k),d.push(k)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Oo(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const Ho=function(e){if(e==null)return kE;if(typeof e=="function")return $o(e);if(typeof e=="object")return Array.isArray(e)?vE(e):bE(e);if(typeof e=="string")return wE(e);throw new Error("Expected function, string, or object as test")};function vE(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Ho(e[r]);return $o(i);function i(...s){let o=-1;for(;++o<n.length;)if(n[o].apply(this,s))return!0;return!1}}function bE(e){const n=e;return $o(r);function r(i){const s=i;let o;for(o in e)if(s[o]!==n[o])return!1;return!0}}function wE(e){return $o(n);function n(r){return r&&r.type===e}}function $o(e){return n;function n(r,i,s){return!!(SE(r)&&e.call(this,r,typeof i=="number"?i:void 0,s||void 0))}}function kE(){return!0}function SE(e){return e!==null&&typeof e=="object"&&"type"in e}const Wx=[],_E=!0,tf=!1,jE="skip";function Zx(e,n,r,i){let s;typeof n=="function"&&typeof r!="function"?(i=r,r=n):s=n;const o=Ho(s),u=i?-1:1;d(e,void 0,[])();function d(h,m,g){const y=h&&typeof h=="object"?h:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=Wx,w,E,j;if((!n||o(h,m,g[g.length-1]||void 0))&&(b=EE(r(h,g)),b[0]===tf))return b;if("children"in h&&h.children){const k=h;if(k.children&&b[0]!==jE)for(E=(i?k.children.length:-1)+u,j=g.concat(k);E>-1&&E<k.children.length;){const C=k.children[E];if(w=d(C,E,j)(),w[0]===tf)return w;E=typeof w[1]=="number"?w[1]:E+u}}return b}}}function EE(e){return Array.isArray(e)?e:typeof e=="number"?[_E,e]:e==null?Wx:[e]}function Uf(e,n,r,i){let s,o,u;typeof n=="function"&&typeof r!="function"?(o=void 0,u=n,s=r):(o=n,u=r,s=i),Zx(e,o,d,s);function d(h,m){const g=m[m.length-1],y=g?g.children.indexOf(h):void 0;return u(h,y,g)}}const nf={}.hasOwnProperty,TE={};function AE(e,n){const r=n||TE,i=new Map,s=new Map,o=new Map,u={...dE,...r.handlers},d={all:m,applyData:CE,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:h,options:r,patch:NE,wrap:OE};return Uf(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?i:s,v=String(g.identifier).toUpperCase();y.has(v)||y.set(v,g)}}),d;function h(g,y){const v=g.type,b=d.handlers[v];if(nf.call(d.handlers,v)&&b)return b(d,g,y);if(d.options.passThrough&&d.options.passThrough.includes(v)){if("children"in g){const{children:E,...j}=g,k=Oo(j);return k.children=d.all(g),k}return Oo(g)}return(d.options.unknownHandler||RE)(d,g,y)}function m(g){const y=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const w=d.one(v[b],g);if(w){if(b&&v[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Xg(w.value)),!Array.isArray(w)&&w.type==="element")){const E=w.children[0];E&&E.type==="text"&&(E.value=Xg(E.value))}Array.isArray(w)?y.push(...w):y.push(w)}}}return y}}function NE(e,n){e.position&&(n.position=y2(e))}function CE(e,n){let r=n;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(r.type==="element")r.tagName=i;else{const u="children"in r?r.children:[r];r={type:"element",tagName:i,properties:{},children:u}}r.type==="element"&&o&&Object.assign(r.properties,Oo(o)),"children"in r&&r.children&&s!==null&&s!==void 0&&(r.children=s)}return r}function RE(e,n){const r=n.data||{},i="value"in n&&!(nf.call(r,"hProperties")||nf.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function OE(e,n){const r=[];let i=-1;for(n&&r.push({type:"text",value:`
`});++i<e.length;)i&&r.push({type:"text",value:`
`}),r.push(e[i]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function Xg(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function Jg(e,n){const r=AE(e,n),i=r.one(e,void 0),s=xE(r),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function DE(e,n){return e&&"run"in e?async function(r,i){const s=Jg(r,{file:i,...n});await e.run(s,i)}:function(r,i){return Jg(r,{file:i,...e||n})}}function Wg(e){if(e)throw e}var bd,Zg;function ME(){if(Zg)return bd;Zg=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):n.call(m)==="[object Array]"},o=function(m){if(!m||n.call(m)!=="[object Object]")return!1;var g=e.call(m,"constructor"),y=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!y)return!1;var v;for(v in m);return typeof v>"u"||e.call(m,v)},u=function(m,g){r&&g.name==="__proto__"?r(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},d=function(m,g){if(g==="__proto__")if(e.call(m,g)){if(i)return i(m,g).value}else return;return m[g]};return bd=function h(){var m,g,y,v,b,w,E=arguments[0],j=1,k=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},j=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});j<k;++j)if(m=arguments[j],m!=null)for(g in m)y=d(E,g),v=d(m,g),E!==v&&(C&&v&&(o(v)||(b=s(v)))?(b?(b=!1,w=y&&s(y)?y:[]):w=y&&o(y)?y:{},u(E,{name:g,newValue:h(C,w,v)})):typeof v<"u"&&u(E,{name:g,newValue:v}));return E},bd}var LE=ME();const wd=Fl(LE);function rf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function PE(){const e=[],n={run:r,use:i};return n;function r(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(h,...m){const g=e[++o];let y=-1;if(h){u(h);return}for(;++y<s.length;)(m[y]===null||m[y]===void 0)&&(m[y]=s[y]);s=m,g?zE(g,d)(...m):u(null,...m)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),n}}function zE(e,n){let r;return i;function i(...u){const d=e.length>u.length;let h;d&&u.push(s);try{h=e.apply(this,u)}catch(m){const g=m;if(d&&r)throw g;return s(g)}d||(h&&h.then&&typeof h.then=="function"?h.then(o,s):h instanceof Error?s(h):o(h))}function s(u,...d){r||(r=!0,n(u,...d))}function o(u){s(null,u)}}const An={basename:UE,dirname:BE,extname:IE,join:qE,sep:"/"};function UE(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Xl(e);let r=0,i=-1,s=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(r,i)}if(n===e)return"";let u=-1,d=n.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){r=s+1;break}}else u<0&&(o=!0,u=s+1),d>-1&&(e.codePointAt(s)===n.codePointAt(d--)?d<0&&(i=s):(d=-1,i=u));return r===i?i=u:i<0&&(i=e.length),e.slice(r,i)}function BE(e){if(Xl(e),e.length===0)return".";let n=-1,r=e.length,i;for(;--r;)if(e.codePointAt(r)===47){if(i){n=r;break}}else i||(i=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function IE(e){Xl(e);let n=e.length,r=-1,i=0,s=-1,o=0,u;for(;n--;){const d=e.codePointAt(n);if(d===47){if(u){i=n+1;break}continue}r<0&&(u=!0,r=n+1),d===46?s<0?s=n:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||r<0||o===0||o===1&&s===r-1&&s===i+1?"":e.slice(s,r)}function qE(...e){let n=-1,r;for(;++n<e.length;)Xl(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":HE(r)}function HE(e){Xl(e);const n=e.codePointAt(0)===47;let r=$E(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function $E(e,n){let r="",i=0,s=-1,o=0,u=-1,d,h;for(;++u<=e.length;){if(u<e.length)d=e.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(r.length<2||i!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(h=r.lastIndexOf("/"),h!==r.length-1){h<0?(r="",i=0):(r=r.slice(0,h),i=r.length-1-r.lastIndexOf("/")),s=u,o=0;continue}}else if(r.length>0){r="",i=0,s=u,o=0;continue}}n&&(r=r.length>0?r+"/..":"..",i=2)}else r.length>0?r+="/"+e.slice(s+1,u):r=e.slice(s+1,u),i=u-s-1;s=u,o=0}else d===46&&o>-1?o++:o=-1}return r}function Xl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FE={cwd:GE};function GE(){return"/"}function af(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function YE(e){if(typeof e=="string")e=new URL(e);else if(!af(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return VE(e)}function VE(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(n)}const kd=["history","path","basename","stem","extname","dirname"];class ev{constructor(n){let r;n?af(n)?r={path:n}:typeof n=="string"||KE(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":FE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<kd.length;){const o=kd[i];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let s;for(s in r)kd.includes(s)||(this[s]=r[s])}get basename(){return typeof this.path=="string"?An.basename(this.path):void 0}set basename(n){_d(n,"basename"),Sd(n,"basename"),this.path=An.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?An.dirname(this.path):void 0}set dirname(n){ey(this.basename,"dirname"),this.path=An.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?An.extname(this.path):void 0}set extname(n){if(Sd(n,"extname"),ey(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=An.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){af(n)&&(n=YE(n)),_d(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?An.basename(this.path,this.extname):void 0}set stem(n){_d(n,"stem"),Sd(n,"stem"),this.path=An.join(this.dirname||"",n+(this.extname||""))}fail(n,r,i){const s=this.message(n,r,i);throw s.fatal=!0,s}info(n,r,i){const s=this.message(n,r,i);return s.fatal=void 0,s}message(n,r,i){const s=new Ct(n,r,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function Sd(e,n){if(e&&e.includes(An.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+An.sep+"`")}function _d(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function ey(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function KE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const QE=function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},XE={}.hasOwnProperty;class Bf extends QE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=PE()}copy(){const n=new Bf;let r=-1;for(;++r<this.attachers.length;){const i=this.attachers[r];n.use(...i)}return n.data(wd(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(Td("data",this.frozen),this.namespace[n]=r,this):XE.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Td("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=r.call(n,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=mo(n),i=this.parser||this.Parser;return jd("parse",i),i(String(r),r)}process(n,r){const i=this;return this.freeze(),jd("process",this.parser||this.Parser),Ed("process",this.compiler||this.Compiler),r?s(void 0,r):new Promise(s);function s(o,u){const d=mo(n),h=i.parse(d);i.run(h,d,function(g,y,v){if(g||!y||!v)return m(g);const b=y,w=i.stringify(b,v);ZE(w)?v.value=w:v.result=w,m(g,v)});function m(g,y){g||!y?u(g):o?o(y):r(void 0,y)}}}processSync(n){let r=!1,i;return this.freeze(),jd("processSync",this.parser||this.Parser),Ed("processSync",this.compiler||this.Compiler),this.process(n,s),ny("processSync","process",r),i;function s(o,u){r=!0,Wg(o),i=u}}run(n,r,i){ty(n),this.freeze();const s=this.transformers;return!i&&typeof r=="function"&&(i=r,r=void 0),i?o(void 0,i):new Promise(o);function o(u,d){const h=mo(r);s.run(n,h,m);function m(g,y,v){const b=y||n;g?d(g):u?u(b):i(void 0,b,v)}}}runSync(n,r){let i=!1,s;return this.run(n,r,o),ny("runSync","run",i),s;function o(u,d){Wg(u),s=d,i=!0}}stringify(n,r){this.freeze();const i=mo(r),s=this.compiler||this.Compiler;return Ed("stringify",s),ty(n),s(n,i)}use(n,...r){const i=this.attachers,s=this.namespace;if(Td("use",this.frozen),n!=null)if(typeof n=="function")h(n,r);else if(typeof n=="object")Array.isArray(n)?d(n):u(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(m){if(typeof m=="function")h(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...y]=m;h(g,y)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=wd(!0,s.settings,m.settings))}function d(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const y=m[g];o(y)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function h(m,g){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===m){v=y;break}if(v===-1)i.push([m,...g]);else if(g.length>0){let[b,...w]=g;const E=i[v][1];rf(E)&&rf(b)&&(b=wd(!0,E,b)),i[v]=[m,b,...w]}}}}const JE=new Bf().freeze();function jd(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ed(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Td(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ty(e){if(!rf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ny(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function mo(e){return WE(e)?e:new ev(e)}function WE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ZE(e){return typeof e=="string"||eT(e)}function eT(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tT="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ry=[],ay={allowDangerousHtml:!0},nT=/^(https?|ircs?|mailto|xmpp)$/i,rT=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function If(e){const n=aT(e),r=iT(e);return lT(n.runSync(n.parse(r),r),e)}function aT(e){const n=e.rehypePlugins||ry,r=e.remarkPlugins||ry,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ay}:ay;return JE().use(Bj).use(r).use(DE,i).use(n)}function iT(e){const n=e.children||"",r=new ev;return typeof n=="string"&&(r.value=n),r}function lT(e,n){const r=n.allowedElements,i=n.allowElement,s=n.components,o=n.disallowedElements,u=n.skipHtml,d=n.unwrapDisallowed,h=n.urlTransform||sT;for(const g of rT)Object.hasOwn(n,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+tT+g.id,void 0);return n.className&&(e={type:"element",tagName:"div",properties:{className:n.className},children:e.type==="root"?e.children:[e]}),Uf(e,m),k2(e,{Fragment:f.Fragment,components:s,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function m(g,y,v){if(g.type==="raw"&&v&&typeof y=="number")return u?v.children.splice(y,1):v.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let b;for(b in yd)if(Object.hasOwn(yd,b)&&Object.hasOwn(g.properties,b)){const w=g.properties[b],E=yd[b];(E===null||E.includes(g.tagName))&&(g.properties[b]=h(String(w||""),b,g))}}if(g.type==="element"){let b=r?!r.includes(g.tagName):o?o.includes(g.tagName):!1;if(!b&&i&&typeof y=="number"&&(b=!i(g,y,v)),b&&v&&typeof y=="number")return d&&g.children?v.children.splice(y,1,...g.children):v.children.splice(y,1),y}}}function sT(e){const n=e.indexOf(":"),r=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return n===-1||s!==-1&&n>s||r!==-1&&n>r||i!==-1&&n>i||nT.test(e.slice(0,n))?e:""}function iy(e,n){const r=String(e);if(typeof n!="string")throw new TypeError("Expected character");let i=0,s=r.indexOf(n);for(;s!==-1;)i++,s=r.indexOf(n,s+n.length);return i}function oT(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uT(e,n,r){const s=Ho((r||{}).ignore||[]),o=cT(n);let u=-1;for(;++u<o.length;)Zx(e,"text",d);function d(m,g){let y=-1,v;for(;++y<g.length;){const b=g[y],w=v?v.children:void 0;if(s(b,w?w.indexOf(b):void 0,v))return;v=b}if(v)return h(m,g)}function h(m,g){const y=g[g.length-1],v=o[u][0],b=o[u][1];let w=0;const j=y.children.indexOf(m);let k=!1,C=[];v.lastIndex=0;let T=v.exec(m.value);for(;T;){const N=T.index,O={index:T.index,input:T.input,stack:[...g,m]};let D=b(...T,O);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D===!1?v.lastIndex=N+1:(w!==N&&C.push({type:"text",value:m.value.slice(w,N)}),Array.isArray(D)?C.push(...D):D&&C.push(D),w=N+T[0].length,k=!0),!v.global)break;T=v.exec(m.value)}return k?(w<m.value.length&&C.push({type:"text",value:m.value.slice(w)}),y.children.splice(j,1,...C)):C=[m],j+C.length}}function cT(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<r.length;){const s=r[i];n.push([dT(s[0]),fT(s[1])])}return n}function dT(e){return typeof e=="string"?new RegExp(oT(e),"g"):e}function fT(e){return typeof e=="function"?e:function(){return e}}const Ad="phrasing",Nd=["autolink","link","image","label"];function hT(){return{transforms:[bT],enter:{literalAutolink:pT,literalAutolinkEmail:Cd,literalAutolinkHttp:Cd,literalAutolinkWww:Cd},exit:{literalAutolink:vT,literalAutolinkEmail:xT,literalAutolinkHttp:gT,literalAutolinkWww:yT}}}function mT(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ad,notInConstruct:Nd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ad,notInConstruct:Nd},{character:":",before:"[ps]",after:"\\/",inConstruct:Ad,notInConstruct:Nd}]}}function pT(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Cd(e){this.config.enter.autolinkProtocol.call(this,e)}function gT(e){this.config.exit.autolinkProtocol.call(this,e)}function yT(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}function xT(e){this.config.exit.autolinkEmail.call(this,e)}function vT(e){this.exit(e)}function bT(e){uT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wT],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),kT]],{ignore:["link","linkReference"]})}function wT(e,n,r,i,s){let o="";if(!tv(s)||(/^w/i.test(n)&&(r=n+r,n="",o="http://"),!ST(r)))return!1;const u=_T(r+i);if(!u[0])return!1;const d={type:"link",title:null,url:o+n+u[0],children:[{type:"text",value:n+u[0]}]};return u[1]?[d,{type:"text",value:u[1]}]:d}function kT(e,n,r,i){return!tv(i,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+r,children:[{type:"text",value:n+"@"+r}]}}function ST(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function _T(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let r=n[0],i=r.indexOf(")");const s=iy(e,"(");let o=iy(e,")");for(;i!==-1&&s>o;)e+=r.slice(0,i+1),r=r.slice(i+1),i=r.indexOf(")"),o++;return[e,r]}function tv(e,n){const r=e.input.charCodeAt(e.index-1);return(e.index===0||aa(r)||Bo(r))&&(!n||r!==47)}nv.peek=DT;function jT(){this.buffer()}function ET(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function TT(){this.buffer()}function AT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function NT(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=vn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function CT(e){this.exit(e)}function RT(e){const n=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=vn(this.sliceSerialize(e)).toLowerCase(),r.label=n}function OT(e){this.exit(e)}function DT(){return"["}function nv(e,n,r,i){const s=r.createTracker(i);let o=s.move("[^");const u=r.enter("footnoteReference"),d=r.enter("reference");return o+=s.move(r.safe(r.associationId(e),{after:"]",before:o})),d(),u(),o+=s.move("]"),o}function MT(){return{enter:{gfmFootnoteCallString:jT,gfmFootnoteCall:ET,gfmFootnoteDefinitionLabelString:TT,gfmFootnoteDefinition:AT},exit:{gfmFootnoteCallString:NT,gfmFootnoteCall:CT,gfmFootnoteDefinitionLabelString:RT,gfmFootnoteDefinition:OT}}}function LT(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:r,footnoteReference:nv},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(i,s,o,u){const d=o.createTracker(u);let h=d.move("[^");const m=o.enter("footnoteDefinition"),g=o.enter("label");return h+=d.move(o.safe(o.associationId(i),{before:h,after:"]"})),g(),h+=d.move("]:"),i.children&&i.children.length>0&&(d.shift(4),h+=d.move((n?`
`:" ")+o.indentLines(o.containerFlow(i,d.current()),n?rv:PT))),m(),h}}function PT(e,n,r){return n===0?e:rv(e,n,r)}function rv(e,n,r){return(r?"":"    ")+e}const zT=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];av.peek=HT;function UT(){return{canContainEols:["delete"],enter:{strikethrough:IT},exit:{strikethrough:qT}}}function BT(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zT}],handlers:{delete:av}}}function IT(e){this.enter({type:"delete",children:[]},e)}function qT(e){this.exit(e)}function av(e,n,r,i){const s=r.createTracker(i),o=r.enter("strikethrough");let u=s.move("~~");return u+=r.containerPhrasing(e,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function HT(){return"~"}function $T(e){return e.length}function FT(e,n){const r=n||{},i=(r.align||[]).concat(),s=r.stringLength||$T,o=[],u=[],d=[],h=[];let m=0,g=-1;for(;++g<e.length;){const E=[],j=[];let k=-1;for(e[g].length>m&&(m=e[g].length);++k<e[g].length;){const C=GT(e[g][k]);if(r.alignDelimiters!==!1){const T=s(C);j[k]=T,(h[k]===void 0||T>h[k])&&(h[k]=T)}E.push(C)}u[g]=E,d[g]=j}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<m;)o[y]=ly(i[y]);else{const E=ly(i);for(;++y<m;)o[y]=E}y=-1;const v=[],b=[];for(;++y<m;){const E=o[y];let j="",k="";E===99?(j=":",k=":"):E===108?j=":":E===114&&(k=":");let C=r.alignDelimiters===!1?1:Math.max(1,h[y]-j.length-k.length);const T=j+"-".repeat(C)+k;r.alignDelimiters!==!1&&(C=j.length+C+k.length,C>h[y]&&(h[y]=C),b[y]=C),v[y]=T}u.splice(1,0,v),d.splice(1,0,b),g=-1;const w=[];for(;++g<u.length;){const E=u[g],j=d[g];y=-1;const k=[];for(;++y<m;){const C=E[y]||"";let T="",N="";if(r.alignDelimiters!==!1){const O=h[y]-(j[y]||0),D=o[y];D===114?T=" ".repeat(O):D===99?O%2?(T=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(T=" ".repeat(O/2),N=T):N=" ".repeat(O)}r.delimiterStart!==!1&&!y&&k.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&C==="")&&(r.delimiterStart!==!1||y)&&k.push(" "),r.alignDelimiters!==!1&&k.push(T),k.push(C),r.alignDelimiters!==!1&&k.push(N),r.padding!==!1&&k.push(" "),(r.delimiterEnd!==!1||y!==m-1)&&k.push("|")}w.push(r.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return w.join(`
`)}function GT(e){return e==null?"":String(e)}function ly(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function YT(e,n,r,i){const s=r.enter("blockquote"),o=r.createTracker(i);o.move("> "),o.shift(2);const u=r.indentLines(r.containerFlow(e,o.current()),VT);return s(),u}function VT(e,n,r){return">"+(r?"":" ")+e}function KT(e,n){return sy(e,n.inConstruct,!0)&&!sy(e,n.notInConstruct,!1)}function sy(e,n,r){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return r;let i=-1;for(;++i<n.length;)if(e.includes(n[i]))return!0;return!1}function oy(e,n,r,i){let s=-1;for(;++s<r.unsafe.length;)if(r.unsafe[s].character===`
`&&KT(r.stack,r.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function QT(e,n){const r=String(e);let i=r.indexOf(n),s=i,o=0,u=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>u&&(u=o):o=1,s=i+n.length,i=r.indexOf(n,s);return u}function XT(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function JT(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function WT(e,n,r,i){const s=JT(r),o=e.value||"",u=s==="`"?"GraveAccent":"Tilde";if(XT(e,r)){const y=r.enter("codeIndented"),v=r.indentLines(o,ZT);return y(),v}const d=r.createTracker(i),h=s.repeat(Math.max(QT(o,s)+1,3)),m=r.enter("codeFenced");let g=d.move(h);if(e.lang){const y=r.enter(`codeFencedLang${u}`);g+=d.move(r.safe(e.lang,{before:g,after:" ",encode:["`"],...d.current()})),y()}if(e.lang&&e.meta){const y=r.enter(`codeFencedMeta${u}`);g+=d.move(" "),g+=d.move(r.safe(e.meta,{before:g,after:`
`,encode:["`"],...d.current()})),y()}return g+=d.move(`
`),o&&(g+=d.move(o+`
`)),g+=d.move(h),m(),g}function ZT(e,n,r){return(r?"":"    ")+e}function qf(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function eA(e,n,r,i){const s=qf(r),o=s==='"'?"Quote":"Apostrophe",u=r.enter("definition");let d=r.enter("label");const h=r.createTracker(i);let m=h.move("[");return m+=h.move(r.safe(r.associationId(e),{before:m,after:"]",...h.current()})),m+=h.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(r.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=r.enter("destinationRaw"),m+=h.move(r.safe(e.url,{before:m,after:e.title?" ":`
`,...h.current()}))),d(),e.title&&(d=r.enter(`title${o}`),m+=h.move(" "+s),m+=h.move(r.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),u(),m}function tA(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Hl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Do(e,n,r){const i=fi(e),s=fi(n);return i===void 0?s===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}iv.peek=nA;function iv(e,n,r,i){const s=tA(r),o=r.enter("emphasis"),u=r.createTracker(i),d=u.move(s);let h=u.move(r.containerPhrasing(e,{after:s,before:d,...u.current()}));const m=h.charCodeAt(0),g=Do(i.before.charCodeAt(i.before.length-1),m,s);g.inside&&(h=Hl(m)+h.slice(1));const y=h.charCodeAt(h.length-1),v=Do(i.after.charCodeAt(0),y,s);v.inside&&(h=h.slice(0,-1)+Hl(y));const b=u.move(s);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+h+b}function nA(e,n,r){return r.options.emphasis||"*"}function rA(e,n){let r=!1;return Uf(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return r=!0,tf}),!!((!e.depth||e.depth<3)&&Rf(e)&&(n.options.setext||r))}function aA(e,n,r,i){const s=Math.max(Math.min(6,e.depth||1),1),o=r.createTracker(i);if(rA(e,r)){const g=r.enter("headingSetext"),y=r.enter("phrasing"),v=r.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return y(),g(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const u="#".repeat(s),d=r.enter("headingAtx"),h=r.enter("phrasing");o.move(u+" ");let m=r.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(m)&&(m=Hl(m.charCodeAt(0))+m.slice(1)),m=m?u+" "+m:u,r.options.closeAtx&&(m+=" "+u),h(),d(),m}lv.peek=iA;function lv(e){return e.value||""}function iA(){return"<"}sv.peek=lA;function sv(e,n,r,i){const s=qf(r),o=s==='"'?"Quote":"Apostrophe",u=r.enter("image");let d=r.enter("label");const h=r.createTracker(i);let m=h.move("![");return m+=h.move(r.safe(e.alt,{before:m,after:"]",...h.current()})),m+=h.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=r.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(r.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=r.enter("destinationRaw"),m+=h.move(r.safe(e.url,{before:m,after:e.title?" ":")",...h.current()}))),d(),e.title&&(d=r.enter(`title${o}`),m+=h.move(" "+s),m+=h.move(r.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),m+=h.move(")"),u(),m}function lA(){return"!"}ov.peek=sA;function ov(e,n,r,i){const s=e.referenceType,o=r.enter("imageReference");let u=r.enter("label");const d=r.createTracker(i);let h=d.move("![");const m=r.safe(e.alt,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),u();const g=r.stack;r.stack=[],u=r.enter("reference");const y=r.safe(r.associationId(e),{before:h,after:"]",...d.current()});return u(),r.stack=g,o(),s==="full"||!m||m!==y?h+=d.move(y+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function sA(){return"!"}uv.peek=oA;function uv(e,n,r){let i=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<r.unsafe.length;){const u=r.unsafe[o],d=r.compilePattern(u);let h;if(u.atBreak)for(;h=d.exec(i);){let m=h.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(h.index+1)}}return s+i+s}function oA(){return"`"}function cv(e,n){const r=Rf(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}dv.peek=uA;function dv(e,n,r,i){const s=qf(r),o=s==='"'?"Quote":"Apostrophe",u=r.createTracker(i);let d,h;if(cv(e,r)){const g=r.stack;r.stack=[],d=r.enter("autolink");let y=u.move("<");return y+=u.move(r.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),d(),r.stack=g,y}d=r.enter("link"),h=r.enter("label");let m=u.move("[");return m+=u.move(r.containerPhrasing(e,{before:m,after:"](",...u.current()})),m+=u.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),m+=u.move("<"),m+=u.move(r.safe(e.url,{before:m,after:">",...u.current()})),m+=u.move(">")):(h=r.enter("destinationRaw"),m+=u.move(r.safe(e.url,{before:m,after:e.title?" ":")",...u.current()}))),h(),e.title&&(h=r.enter(`title${o}`),m+=u.move(" "+s),m+=u.move(r.safe(e.title,{before:m,after:s,...u.current()})),m+=u.move(s),h()),m+=u.move(")"),d(),m}function uA(e,n,r){return cv(e,r)?"<":"["}fv.peek=cA;function fv(e,n,r,i){const s=e.referenceType,o=r.enter("linkReference");let u=r.enter("label");const d=r.createTracker(i);let h=d.move("[");const m=r.containerPhrasing(e,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),u();const g=r.stack;r.stack=[],u=r.enter("reference");const y=r.safe(r.associationId(e),{before:h,after:"]",...d.current()});return u(),r.stack=g,o(),s==="full"||!m||m!==y?h+=d.move(y+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function cA(){return"["}function Hf(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function dA(e){const n=Hf(e),r=e.options.bulletOther;if(!r)return n==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+r+"`) to be different");return r}function fA(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function hv(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function hA(e,n,r,i){const s=r.enter("list"),o=r.bulletCurrent;let u=e.ordered?fA(r):Hf(r);const d=e.ordered?u==="."?")":".":dA(r);let h=n&&r.bulletLastUsed?u===r.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(h=!0),hv(r)===u&&g){let y=-1;for(;++y<e.children.length;){const v=e.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=d),r.bulletCurrent=u;const m=r.containerFlow(e,i);return r.bulletLastUsed=u,r.bulletCurrent=o,s(),m}function mA(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function pA(e,n,r,i){const s=mA(r);let o=r.bulletCurrent||Hf(r);n&&n.type==="list"&&n.ordered&&(o=(typeof n.start=="number"&&n.start>-1?n.start:1)+(r.options.incrementListMarker===!1?0:n.children.indexOf(e))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(u=Math.ceil(u/4)*4);const d=r.createTracker(i);d.move(o+" ".repeat(u-o.length)),d.shift(u);const h=r.enter("listItem"),m=r.indentLines(r.containerFlow(e,d.current()),g);return h(),m;function g(y,v,b){return v?(b?"":" ".repeat(u))+y:(b?o:o+" ".repeat(u-o.length))+y}}function gA(e,n,r,i){const s=r.enter("paragraph"),o=r.enter("phrasing"),u=r.containerPhrasing(e,i);return o(),s(),u}const yA=Ho(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function xA(e,n,r,i){return(e.children.some(function(u){return yA(u)})?r.containerPhrasing:r.containerFlow).call(r,e,i)}function vA(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}mv.peek=bA;function mv(e,n,r,i){const s=vA(r),o=r.enter("strong"),u=r.createTracker(i),d=u.move(s+s);let h=u.move(r.containerPhrasing(e,{after:s,before:d,...u.current()}));const m=h.charCodeAt(0),g=Do(i.before.charCodeAt(i.before.length-1),m,s);g.inside&&(h=Hl(m)+h.slice(1));const y=h.charCodeAt(h.length-1),v=Do(i.after.charCodeAt(0),y,s);v.inside&&(h=h.slice(0,-1)+Hl(y));const b=u.move(s+s);return o(),r.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},d+h+b}function bA(e,n,r){return r.options.strong||"*"}function wA(e,n,r,i){return r.safe(e.value,i)}function kA(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function SA(e,n,r){const i=(hv(r)+(r.options.ruleSpaces?" ":"")).repeat(kA(r));return r.options.ruleSpaces?i.slice(0,-1):i}const pv={blockquote:YT,break:oy,code:WT,definition:eA,emphasis:iv,hardBreak:oy,heading:aA,html:lv,image:sv,imageReference:ov,inlineCode:uv,link:dv,linkReference:fv,list:hA,listItem:pA,paragraph:gA,root:xA,strong:mv,text:wA,thematicBreak:SA};function _A(){return{enter:{table:jA,tableData:uy,tableHeader:uy,tableRow:TA},exit:{codeText:AA,table:EA,tableData:Rd,tableHeader:Rd,tableRow:Rd}}}function jA(e){const n=e._align;this.enter({type:"table",align:n.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function EA(e){this.exit(e),this.data.inTable=void 0}function TA(e){this.enter({type:"tableRow",children:[]},e)}function Rd(e){this.exit(e)}function uy(e){this.enter({type:"tableCell",children:[]},e)}function AA(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,NA));const r=this.stack[this.stack.length-1];r.type,r.value=n,this.exit(e)}function NA(e,n){return n==="|"?n:e}function CA(e){const n=e||{},r=n.tableCellPadding,i=n.tablePipeAlign,s=n.stringLength,o=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:u,tableCell:h,tableRow:d}};function u(b,w,E,j){return m(g(b,E,j),b.align)}function d(b,w,E,j){const k=y(b,E,j),C=m([k]);return C.slice(0,C.indexOf(`
`))}function h(b,w,E,j){const k=E.enter("tableCell"),C=E.enter("phrasing"),T=E.containerPhrasing(b,{...j,before:o,after:o});return C(),k(),T}function m(b,w){return FT(b,{align:w,alignDelimiters:i,padding:r,stringLength:s})}function g(b,w,E){const j=b.children;let k=-1;const C=[],T=w.enter("table");for(;++k<j.length;)C[k]=y(j[k],w,E);return T(),C}function y(b,w,E){const j=b.children;let k=-1;const C=[],T=w.enter("tableRow");for(;++k<j.length;)C[k]=h(j[k],b,w,E);return T(),C}function v(b,w,E){let j=pv.inlineCode(b,w,E);return E.stack.includes("tableCell")&&(j=j.replace(/\|/g,"\\$&")),j}}function RA(){return{exit:{taskListCheckValueChecked:cy,taskListCheckValueUnchecked:cy,paragraph:DA}}}function OA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:MA}}}function cy(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}function DA(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const i=r.children[0];if(i&&i.type==="text"){const s=n.children;let o=-1,u;for(;++o<s.length;){const d=s[o];if(d.type==="paragraph"){u=d;break}}u===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():r.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function MA(e,n,r,i){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",d=r.createTracker(i);o&&d.move(u);let h=pv.listItem(e,n,r,{...i,...d.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),h;function m(g){return g+u}}function LA(){return[hT(),MT(),UT(),_A(),RA()]}function PA(e){return{extensions:[mT(),LT(e),BT(),CA(e),OA()]}}const zA={tokenize:$A,partial:!0},gv={tokenize:FA,partial:!0},yv={tokenize:GA,partial:!0},xv={tokenize:YA,partial:!0},UA={tokenize:VA,partial:!0},vv={name:"wwwAutolink",tokenize:qA,previous:wv},bv={name:"protocolAutolink",tokenize:HA,previous:kv},Wn={name:"emailAutolink",tokenize:IA,previous:Sv},Cn={};function BA(){return{text:Cn}}let Wr=48;for(;Wr<123;)Cn[Wr]=Wn,Wr++,Wr===58?Wr=65:Wr===91&&(Wr=97);Cn[43]=Wn;Cn[45]=Wn;Cn[46]=Wn;Cn[95]=Wn;Cn[72]=[Wn,bv];Cn[104]=[Wn,bv];Cn[87]=[Wn,vv];Cn[119]=[Wn,vv];function IA(e,n,r){const i=this;let s,o;return u;function u(y){return!lf(y)||!Sv.call(i,i.previous)||$f(i.events)?r(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(y))}function d(y){return lf(y)?(e.consume(y),d):y===64?(e.consume(y),h):r(y)}function h(y){return y===46?e.check(UA,g,m)(y):y===45||y===95||Nt(y)?(o=!0,e.consume(y),h):g(y)}function m(y){return e.consume(y),s=!0,h}function g(y){return o&&s&&Ot(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(y)):r(y)}}function qA(e,n,r){const i=this;return s;function s(u){return u!==87&&u!==119||!wv.call(i,i.previous)||$f(i.events)?r(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(zA,e.attempt(gv,e.attempt(yv,o),r),r)(u))}function o(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(u)}}function HA(e,n,r){const i=this;let s="",o=!1;return u;function u(y){return(y===72||y===104)&&kv.call(i,i.previous)&&!$f(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),e.consume(y),d):r(y)}function d(y){if(Ot(y)&&s.length<5)return s+=String.fromCodePoint(y),e.consume(y),d;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return e.consume(y),h}return r(y)}function h(y){return y===47?(e.consume(y),o?m:(o=!0,h)):r(y)}function m(y){return y===null||Co(y)||Qe(y)||aa(y)||Bo(y)?r(y):e.attempt(gv,e.attempt(yv,g),r)(y)}function g(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(y)}}function $A(e,n,r){let i=0;return s;function s(u){return(u===87||u===119)&&i<3?(i++,e.consume(u),s):u===46&&i===3?(e.consume(u),o):r(u)}function o(u){return u===null?r(u):n(u)}}function FA(e,n,r){let i,s,o;return u;function u(m){return m===46||m===95?e.check(xv,h,d)(m):m===null||Qe(m)||aa(m)||m!==45&&Bo(m)?h(m):(o=!0,e.consume(m),u)}function d(m){return m===95?i=!0:(s=i,i=void 0),e.consume(m),u}function h(m){return s||i||!o?r(m):n(m)}}function GA(e,n){let r=0,i=0;return s;function s(u){return u===40?(r++,e.consume(u),s):u===41&&i<r?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(xv,n,o)(u):u===null||Qe(u)||aa(u)?n(u):(e.consume(u),s)}function o(u){return u===41&&i++,e.consume(u),s}}function YA(e,n,r){return i;function i(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),i):d===38?(e.consume(d),o):d===93?(e.consume(d),s):d===60||d===null||Qe(d)||aa(d)?n(d):r(d)}function s(d){return d===null||d===40||d===91||Qe(d)||aa(d)?n(d):i(d)}function o(d){return Ot(d)?u(d):r(d)}function u(d){return d===59?(e.consume(d),i):Ot(d)?(e.consume(d),u):r(d)}}function VA(e,n,r){return i;function i(o){return e.consume(o),s}function s(o){return Nt(o)?r(o):n(o)}}function wv(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qe(e)}function kv(e){return!Ot(e)}function Sv(e){return!(e===47||lf(e))}function lf(e){return e===43||e===45||e===46||e===95||Nt(e)}function $f(e){let n=e.length,r=!1;for(;n--;){const i=e[n][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){r=!0;break}if(i._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const KA={tokenize:nN,partial:!0};function QA(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ZA,continuation:{tokenize:eN},exit:tN}},text:{91:{name:"gfmFootnoteCall",tokenize:WA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:XA,resolveTo:JA}}}}function XA(e,n,r){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;s--;){const h=i.events[s][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return d;function d(h){if(!u||!u._balanced)return r(h);const m=vn(i.sliceSerialize({start:u.end,end:i.now()}));return m.codePointAt(0)!==94||!o.includes(m.slice(1))?r(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),n(h))}}function JA(e,n){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[e[r+1],e[r+2],["enter",i,n],e[r+3],e[r+4],["enter",s,n],["exit",s,n],["enter",o,n],["enter",u,n],["exit",u,n],["exit",o,n],e[e.length-2],e[e.length-1],["exit",i,n]];return e.splice(r,e.length-r+1,...d),e}function WA(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return d;function d(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),h}function h(y){return y!==94?r(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(y){if(o>999||y===93&&!u||y===null||y===91||Qe(y))return r(y);if(y===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return s.includes(vn(i.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):r(y)}return Qe(y)||(u=!0),o++,e.consume(y),y===92?g:m}function g(y){return y===91||y===92||y===93?(e.consume(y),o++,m):m(y)}}function ZA(e,n,r){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,d;return h;function h(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):r(w)}function g(w){if(u>999||w===93&&!d||w===null||w===91||Qe(w))return r(w);if(w===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return o=vn(i.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Qe(w)||(d=!0),u++,e.consume(w),w===92?y:g}function y(w){return w===91||w===92||w===93?(e.consume(w),u++,g):g(w)}function v(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),s.includes(o)||s.push(o),Ue(e,b,"gfmFootnoteDefinitionWhitespace")):r(w)}function b(w){return n(w)}}function eN(e,n,r){return e.check(Ql,n,e.attempt(KA,n,r))}function tN(e){e.exit("gfmFootnoteDefinition")}function nN(e,n,r){const i=this;return Ue(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?n(o):r(o)}}function rN(e){let r=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return r==null&&(r=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(u,d){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let m=h;for(;m--;)if(u[m][0]==="exit"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[m][1].end.offset-u[m][1].start.offset){u[h][1].type="strikethroughSequence",u[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[m][1].start),end:Object.assign({},u[h][1].end)},y={type:"strikethroughText",start:Object.assign({},u[m][1].end),end:Object.assign({},u[h][1].start)},v=[["enter",g,d],["enter",u[m][1],d],["exit",u[m][1],d],["enter",y,d]],b=d.parser.constructs.insideSpan.null;b&&Zt(v,v.length,0,Io(b,u.slice(m+1,h),d)),Zt(v,v.length,0,[["exit",y,d],["enter",u[h][1],d],["exit",u[h][1],d],["exit",g,d]]),Zt(u,m-1,h-m+3,v),h=m+v.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function o(u,d,h){const m=this.previous,g=this.events;let y=0;return v;function v(w){return m===126&&g[g.length-1][1].type!=="characterEscape"?h(w):(u.enter("strikethroughSequenceTemporary"),b(w))}function b(w){const E=fi(m);if(w===126)return y>1?h(w):(u.consume(w),y++,b);if(y<2&&!r)return h(w);const j=u.exit("strikethroughSequenceTemporary"),k=fi(w);return j._open=!k||k===2&&!!E,j._close=!E||E===2&&!!k,d(w)}}}class aN{constructor(){this.map=[]}add(n,r,i){iN(this,n,r,i)}consume(n){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let r=this.map.length;const i=[];for(;r>0;)r-=1,i.push(n.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),n.length=this.map[r][0];i.push(n.slice()),n.length=0;let s=i.pop();for(;s;){for(const o of s)n.push(o);s=i.pop()}this.map.length=0}}function iN(e,n,r,i){let s=0;if(!(r===0&&i.length===0)){for(;s<e.map.length;){if(e.map[s][0]===n){e.map[s][1]+=r,e.map[s][2].push(...i);return}s+=1}e.map.push([n,r,i])}}function lN(e,n){let r=!1;const i=[];for(;n<e.length;){const s=e[n];if(r){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(r=!0);n+=1}return i}function sN(){return{flow:{null:{name:"table",tokenize:oN,resolveAll:uN}}}}function oN(e,n,r){const i=this;let s=0,o=0,u;return d;function d(z){let q=i.events.length-1;for(;q>-1;){const re=i.events[q][1].type;if(re==="lineEnding"||re==="linePrefix")q--;else break}const K=q>-1?i.events[q][1].type:null,Z=K==="tableHead"||K==="tableRow"?D:h;return Z===D&&i.parser.lazy[i.now().line]?r(z):Z(z)}function h(z){return e.enter("tableHead"),e.enter("tableRow"),m(z)}function m(z){return z===124||(u=!0,o+=1),g(z)}function g(z){return z===null?r(z):ke(z)?o>1?(o=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),b):r(z):Pe(z)?Ue(e,g,"whitespace")(z):(o+=1,u&&(u=!1,s+=1),z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),u=!0,g):(e.enter("data"),y(z)))}function y(z){return z===null||z===124||Qe(z)?(e.exit("data"),g(z)):(e.consume(z),z===92?v:y)}function v(z){return z===92||z===124?(e.consume(z),y):y(z)}function b(z){return i.interrupt=!1,i.parser.lazy[i.now().line]?r(z):(e.enter("tableDelimiterRow"),u=!1,Pe(z)?Ue(e,w,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):w(z))}function w(z){return z===45||z===58?j(z):z===124?(u=!0,e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),E):O(z)}function E(z){return Pe(z)?Ue(e,j,"whitespace")(z):j(z)}function j(z){return z===58?(o+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),k):z===45?(o+=1,k(z)):z===null||ke(z)?N(z):O(z)}function k(z){return z===45?(e.enter("tableDelimiterFiller"),C(z)):O(z)}function C(z){return z===45?(e.consume(z),C):z===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(z),e.exit("tableDelimiterMarker"),T):(e.exit("tableDelimiterFiller"),T(z))}function T(z){return Pe(z)?Ue(e,N,"whitespace")(z):N(z)}function N(z){return z===124?w(z):z===null||ke(z)?!u||s!==o?O(z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(z)):O(z)}function O(z){return r(z)}function D(z){return e.enter("tableRow"),F(z)}function F(z){return z===124?(e.enter("tableCellDivider"),e.consume(z),e.exit("tableCellDivider"),F):z===null||ke(z)?(e.exit("tableRow"),n(z)):Pe(z)?Ue(e,F,"whitespace")(z):(e.enter("data"),V(z))}function V(z){return z===null||z===124||Qe(z)?(e.exit("data"),F(z)):(e.consume(z),z===92?ee:V)}function ee(z){return z===92||z===124?(e.consume(z),V):V(z)}}function uN(e,n){let r=-1,i=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],d=!1,h=0,m,g,y;const v=new aN;for(;++r<e.length;){const b=e[r],w=b[1];b[0]==="enter"?w.type==="tableHead"?(d=!1,h!==0&&(dy(v,n,h,m,g),g=void 0,h=0),m={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",m,n]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(i=!0,y=void 0,o=[0,0,0,0],u=[0,r+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},v.add(r,0,[["enter",g,n]])),s=w.type==="tableDelimiterRow"?2:g?3:1):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],y=po(v,n,o,s,void 0,y),o=[0,0,0,0]),u[2]=r)):w.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],y=po(v,n,o,s,void 0,y)),o=u,u=[o[1],r,0,0])):w.type==="tableHead"?(d=!0,h=r):w.type==="tableRow"||w.type==="tableDelimiterRow"?(h=r,o[1]!==0?(u[0]=u[1],y=po(v,n,o,s,r,y)):u[1]!==0&&(y=po(v,n,u,s,r,y)),s=0):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(u[3]=r)}for(h!==0&&dy(v,n,h,m,g),v.consume(n.events),r=-1;++r<n.events.length;){const b=n.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=lN(n.events,r))}return e}function po(e,n,r,i,s,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",d="tableContent";r[0]!==0&&(o.end=Object.assign({},ii(n.events,r[0])),e.add(r[0],0,[["exit",o,n]]));const h=ii(n.events,r[1]);if(o={type:u,start:Object.assign({},h),end:Object.assign({},h)},e.add(r[1],0,[["enter",o,n]]),r[2]!==0){const m=ii(n.events,r[2]),g=ii(n.events,r[3]),y={type:d,start:Object.assign({},m),end:Object.assign({},g)};if(e.add(r[2],0,[["enter",y,n]]),i!==2){const v=n.events[r[2]],b=n.events[r[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",r[3]>r[2]+1){const w=r[2]+1,E=r[3]-r[2]-1;e.add(w,E,[])}}e.add(r[3]+1,0,[["exit",y,n]])}return s!==void 0&&(o.end=Object.assign({},ii(n.events,s)),e.add(s,0,[["exit",o,n]]),o=void 0),o}function dy(e,n,r,i,s){const o=[],u=ii(n.events,r);s&&(s.end=Object.assign({},u),o.push(["exit",s,n])),i.end=Object.assign({},u),o.push(["exit",i,n]),e.add(r+1,0,o)}function ii(e,n){const r=e[n],i=r[0]==="enter"?"start":"end";return r[1][i]}const cN={name:"tasklistCheck",tokenize:fN};function dN(){return{text:{91:cN}}}function fN(e,n,r){const i=this;return s;function s(h){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?r(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),o)}function o(h){return Qe(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),u):r(h)}function u(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):r(h)}function d(h){return ke(h)?n(h):Pe(h)?e.check({tokenize:hN},n,r)(h):r(h)}}function hN(e,n,r){return Ue(e,i,"whitespace");function i(s){return s===null?r(s):n(s)}}function mN(e){return Mx([BA(),QA(),rN(e),sN(),dN()])}const pN={};function Ff(e){const n=this,r=e||pN,i=n.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(mN(r)),o.push(LA()),u.push(PA(r))}const gN=({advancedMetrics:e,psychologyMetrics:n})=>{const r=s=>`${s.toFixed(1)}%`,i=s=>s.toFixed(2);return f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Performance"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Win Rate:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:r(e.winRate)})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Profit Factor:"}),f.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-400",children:i(e.profitFactor)})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200",children:"Psychology"}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-lg",children:uS(n.currentMood)}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Mood:"}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 capitalize",children:n.currentMood})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-sm text-slate-500 mr-1",children:"Stress:"}),f.jsxs("span",{className:`font-bold ${cS(n.stressLevel)}`,children:[n.stressLevel,"/10"]})]})]})]})},Sr=["#FF5E3A","#FF9500","#FFDB4C","#4CD964","#5AC8FA","#007AFF","#5856D6","#FF2D55"],yN=({data:e,theme:n,winRate:r,totalCompleted:i})=>{const s=M.useRef(null),o=M.useRef(null);return M.useEffect(()=>{if(!s.current||!e.length)return;const u=s.current.getContext("2d");if(!u)return;o.current&&o.current.destroy();const d=e.map(v=>v.name),h=e.map(v=>v.value),m=e.map((v,b)=>Sr[b%Sr.length]),g=e.map((v,b)=>Sr[b%Sr.length]+"CC"),y=n==="dark";return o.current=new window.Chart(u,{type:"doughnut",data:{labels:d,datasets:[{label:"Distribusi Hasil",data:h,backgroundColor:m,hoverBackgroundColor:g,borderColor:"rgba(0,0,0,0)",borderWidth:0,offset:h.map(()=>0)}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"72%",interaction:{mode:"index",intersect:!0},animations:{offset:{duration:500,easing:"easeOutCubic"}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:function(v){let b=document.getElementById("dashboard-pie-tooltip");b||(b=document.createElement("div"),b.id="dashboard-pie-tooltip",b.style.position="absolute",b.style.pointerEvents="none",b.style.transition="all 0.2s cubic-bezier(.25,.8,.25,1)",b.style.zIndex="1000",b.style.minWidth="120px",b.style.maxWidth="220px",b.style.padding="14px 18px",b.style.borderRadius="12px",b.style.boxShadow="0 4px 24px 0 rgba(30,41,59,0.10)",b.style.background=y?"rgba(30,41,59,0.97)":"rgba(255,255,255,0.98)",b.style.border=y?"1px solid rgba(71,85,105,0.7)":"1px solid rgba(226,232,240,1)",b.style.color=y?"#f1f5f9":"#1e293b",b.style.fontFamily="inherit",b.style.fontSize="15px",b.style.fontWeight="bold",b.style.pointerEvents="none",document.body.appendChild(b));const w=v.tooltip;if(w.opacity===0){b.style.opacity="0";return}if(w.body){const O=w.dataPoints[0].label,D=w.dataPoints[0].parsed,F=v.chart.data.datasets[0].data.reduce((q,K)=>q+K,0)||1,V=(D/F*100).toFixed(2),ee=v.dataIndex??0,z=Sr[ee%Sr.length];b.innerHTML=`<div style='margin-bottom:4px;'>${O}: <span style='color:${z}'>${D}</span></div><div style='font-size:13px;font-weight:400;'>(${V}%)</div>`}const j=v.chart.canvas.getBoundingClientRect(),k=v.chart.chartArea;let C=window.scrollX+j.right-(j.width-k.right)+24,T=window.scrollY+j.top+k.top-b.offsetHeight-16;T<window.scrollY+10&&(T=window.scrollY+j.top+k.bottom+16);const N=window.scrollX+document.documentElement.clientWidth-b.offsetWidth-12;C>N&&(C=N),b.style.left=C+"px",b.style.top=T+"px",b.style.opacity="1"}}},onHover:(v,b)=>{const w=o.current;if(!w)return;const E=w.data.datasets[0];if(!E)return;let j=h.map(()=>0);if(b&&b.length>0){const k=b[0].index;j[k]=24}(!E.offset||!j.every((k,C)=>k===E.offset[C]))&&(E.offset=j,w.update())}},plugins:[{id:"centerText",afterDraw:function(v){if(i===void 0)return;const{ctx:b,chartArea:w}=v;b.save();const E=(w.left+w.right)/2,j=(w.top+w.bottom)/2;b.font="bold 2.2rem Inter, sans-serif",b.fillStyle=y?"#fff":"#222",b.textAlign="center",b.textBaseline="middle",b.fillText(i,E,j-8),b.font="400 0.95rem Inter, sans-serif",b.fillStyle=y?"#cbd5e1":"#64748b",b.fillText("Total Trades",E,j+16),b.restore()}}]}),()=>{o.current&&o.current.destroy()}},[e,n,r,i]),f.jsxs("div",{className:"flex flex-col items-center justify-start w-full",style:{maxWidth:"180px",margin:"0 auto"},children:[f.jsx("div",{className:"relative flex items-center justify-center w-full",style:{maxWidth:"140px",aspectRatio:"1/1"},children:e.length>0?f.jsx("canvas",{ref:s,style:{width:"100%",height:"100%"}}):f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:"Tidak ada data trade untuk ditampilkan."})})}),f.jsx("div",{className:"flex flex-row items-center justify-center gap-6 mt-4",children:e.map((u,d)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"inline-block w-4 h-4 rounded-full",style:{background:Sr[d%Sr.length]}}),f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:u.name})]},u.name))})]})};var Ao={exports:{}},xN=Ao.exports,fy;function vN(){return fy||(fy=1,function(e,n){(function(i,s){e.exports=s(Po())})(xN,function(r){return function(i){var s={};function o(u){if(s[u])return s[u].exports;var d=s[u]={i:u,l:!1,exports:{}};return i[u].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=i,o.c=s,o.d=function(u,d,h){o.o(u,d)||Object.defineProperty(u,d,{configurable:!1,enumerable:!0,get:h})},o.n=function(u){var d=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(d,"a",d),d},o.o=function(u,d){return Object.prototype.hasOwnProperty.call(u,d)},o.p="/",o(o.s=11)}([function(i,s,o){(function(u){if(u.env.NODE_ENV!=="production"){var d=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,h=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===d},m=!0;i.exports=o(14)(h,m)}else i.exports=o(16)()}).call(s,o(2))},function(i,s){i.exports=r},function(i,s){var o=i.exports={},u,d;function h(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=h}catch{u=h}try{typeof clearTimeout=="function"?d=clearTimeout:d=m}catch{d=m}})();function g(N){if(u===setTimeout)return setTimeout(N,0);if((u===h||!u)&&setTimeout)return u=setTimeout,setTimeout(N,0);try{return u(N,0)}catch{try{return u.call(null,N,0)}catch{return u.call(this,N,0)}}}function y(N){if(d===clearTimeout)return clearTimeout(N);if((d===m||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(N);try{return d(N)}catch{try{return d.call(null,N)}catch{return d.call(this,N)}}}var v=[],b=!1,w,E=-1;function j(){!b||!w||(b=!1,w.length?v=w.concat(v):E=-1,v.length&&k())}function k(){if(!b){var N=g(j);b=!0;for(var O=v.length;O;){for(w=v,v=[];++E<O;)w&&w[E].run();E=-1,O=v.length}w=null,b=!1,y(N)}}o.nextTick=function(N){var O=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)O[D-1]=arguments[D];v.push(new C(N,O)),v.length===1&&!b&&g(k)};function C(N,O){this.fun=N,this.array=O}C.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function T(){}o.on=T,o.addListener=T,o.once=T,o.off=T,o.removeListener=T,o.removeAllListeners=T,o.emit=T,o.prependListener=T,o.prependOnceListener=T,o.listeners=function(N){return[]},o.binding=function(N){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(N){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return u.reduce(function(d,h){return d+h})/u.length}},function(i,s,o){function u(h){return function(){return h}}var d=function(){};d.thatReturns=u,d.thatReturnsFalse=u(!1),d.thatReturnsTrue=u(!0),d.thatReturnsNull=u(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(h){return h},i.exports=d},function(i,s,o){(function(u){var d=function(g){};u.env.NODE_ENV!=="production"&&(d=function(g){if(g===void 0)throw new Error("invariant requires an error message argument")});function h(m,g,y,v,b,w,E,j){if(d(g),!m){var k;if(g===void 0)k=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var C=[y,v,b,w,E,j],T=0;k=new Error(g.replace(/%s/g,function(){return C[T++]})),k.name="Invariant Violation"}throw k.framesToPop=1,k}}i.exports=h}).call(s,o(2))},function(i,s,o){var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";i.exports=u},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return Math.min.apply(Math,u)}},function(i,s,o){(function(u){var d=o(4),h=d;if(u.env.NODE_ENV!=="production"){var m=function(y){for(var v=arguments.length,b=Array(v>1?v-1:0),w=1;w<v;w++)b[w-1]=arguments[w];var E=0,j="Warning: "+y.replace(/%s/g,function(){return b[E++]});typeof console<"u"&&console.error(j);try{throw new Error(j)}catch{}};h=function(y,v){if(v===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(v.indexOf("Failed Composite propType: ")!==0&&!y){for(var b=arguments.length,w=Array(b>2?b-2:0),E=2;E<b;E++)w[E-2]=arguments[E];m.apply(void 0,[v].concat(w))}}}i.exports=h}).call(s,o(2))},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return Math.max.apply(Math,u)}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(3),d=h(u);function h(m){return m&&m.__esModule?m:{default:m}}s.default=function(m){var g=(0,d.default)(m),y=m.map(function(b){return Math.pow(b-g,2)}),v=(0,d.default)(y);return Math.sqrt(v)}},function(i,s,o){i.exports=o(12)},function(i,s,o){i.exports=o(13)},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.SparklinesText=s.SparklinesNormalBand=s.SparklinesReferenceLine=s.SparklinesSpots=s.SparklinesBars=s.SparklinesCurve=s.SparklinesLine=s.Sparklines=void 0;var u=function(){function B(I,le){for(var W=0;W<le.length;W++){var S=le[W];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,le,W){return le&&B(I.prototype,le),W&&B(I,W),I}}(),d=o(0),h=q(d),m=o(1),g=q(m),y=o(17),v=q(y),b=o(18),w=q(b),E=o(19),j=q(E),k=o(20),C=q(k),T=o(21),N=q(T),O=o(22),D=q(O),F=o(27),V=q(F),ee=o(28),z=q(ee);function q(B){return B&&B.__esModule?B:{default:B}}function K(B,I){if(!(B instanceof I))throw new TypeError("Cannot call a class as a function")}function Z(B,I){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:B}function re(B,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);B.prototype=Object.create(I&&I.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(B,I):B.__proto__=I)}var ce=function(B){re(I,B);function I(le){return K(this,I),Z(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,le))}return u(I,[{key:"render",value:function(){var W=this.props,S=W.data,X=W.limit,$=W.width,A=W.height,ae=W.svgWidth,de=W.svgHeight,P=W.preserveAspectRatio,oe=W.margin,ue=W.style,pe=W.max,ye=W.min;if(S.length===0)return null;var xe=(0,z.default)({data:S,limit:X,width:$,height:A,margin:oe,max:pe,min:ye}),be={style:ue,viewBox:"0 0 "+$+" "+A,preserveAspectRatio:P};return ae>0&&(be.width=ae),de>0&&(be.height=de),g.default.createElement("svg",be,g.default.Children.map(this.props.children,function(me){return g.default.cloneElement(me,{data:S,points:xe,width:$,height:A,margin:oe})}))}}]),I}(m.PureComponent);ce.propTypes={data:h.default.array,limit:h.default.number,width:h.default.number,height:h.default.number,svgWidth:h.default.number,svgHeight:h.default.number,preserveAspectRatio:h.default.string,margin:h.default.number,style:h.default.object,min:h.default.number,max:h.default.number,onMouseMove:h.default.func},ce.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},s.Sparklines=ce,s.SparklinesLine=w.default,s.SparklinesCurve=j.default,s.SparklinesBars=C.default,s.SparklinesSpots=N.default,s.SparklinesReferenceLine=D.default,s.SparklinesNormalBand=V.default,s.SparklinesText=v.default},function(i,s,o){(function(u){var d=o(4),h=o(5),m=o(8),g=o(6),y=o(15);i.exports=function(v,b){var w=typeof Symbol=="function"&&Symbol.iterator,E="@@iterator";function j($){var A=$&&(w&&$[w]||$[E]);if(typeof A=="function")return A}var k="<<anonymous>>",C={array:D("array"),bool:D("boolean"),func:D("function"),number:D("number"),object:D("object"),string:D("string"),symbol:D("symbol"),any:F(),arrayOf:V,element:ee(),instanceOf:z,node:re(),objectOf:K,oneOf:q,oneOfType:Z,shape:ce};function T($,A){return $===A?$!==0||1/$===1/A:$!==$&&A!==A}function N($){this.message=$,this.stack=""}N.prototype=Error.prototype;function O($){if(u.env.NODE_ENV!=="production")var A={},ae=0;function de(oe,ue,pe,ye,xe,be,me){if(ye=ye||k,be=be||pe,me!==g){if(b)h(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(u.env.NODE_ENV!=="production"&&typeof console<"u"){var Ce=ye+":"+pe;!A[Ce]&&ae<3&&(m(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",be,ye),A[Ce]=!0,ae++)}}return ue[pe]==null?oe?ue[pe]===null?new N("The "+xe+" `"+be+"` is marked as required "+("in `"+ye+"`, but its value is `null`.")):new N("The "+xe+" `"+be+"` is marked as required in "+("`"+ye+"`, but its value is `undefined`.")):null:$(ue,pe,ye,xe,be)}var P=de.bind(null,!1);return P.isRequired=de.bind(null,!0),P}function D($){function A(ae,de,P,oe,ue,pe){var ye=ae[de],xe=le(ye);if(xe!==$){var be=W(ye);return new N("Invalid "+oe+" `"+ue+"` of type "+("`"+be+"` supplied to `"+P+"`, expected ")+("`"+$+"`."))}return null}return O(A)}function F(){return O(d.thatReturnsNull)}function V($){function A(ae,de,P,oe,ue){if(typeof $!="function")return new N("Property `"+ue+"` of component `"+P+"` has invalid PropType notation inside arrayOf.");var pe=ae[de];if(!Array.isArray(pe)){var ye=le(pe);return new N("Invalid "+oe+" `"+ue+"` of type "+("`"+ye+"` supplied to `"+P+"`, expected an array."))}for(var xe=0;xe<pe.length;xe++){var be=$(pe,xe,P,oe,ue+"["+xe+"]",g);if(be instanceof Error)return be}return null}return O(A)}function ee(){function $(A,ae,de,P,oe){var ue=A[ae];if(!v(ue)){var pe=le(ue);return new N("Invalid "+P+" `"+oe+"` of type "+("`"+pe+"` supplied to `"+de+"`, expected a single ReactElement."))}return null}return O($)}function z($){function A(ae,de,P,oe,ue){if(!(ae[de]instanceof $)){var pe=$.name||k,ye=X(ae[de]);return new N("Invalid "+oe+" `"+ue+"` of type "+("`"+ye+"` supplied to `"+P+"`, expected ")+("instance of `"+pe+"`."))}return null}return O(A)}function q($){if(!Array.isArray($))return u.env.NODE_ENV!=="production"&&m(!1,"Invalid argument supplied to oneOf, expected an instance of array."),d.thatReturnsNull;function A(ae,de,P,oe,ue){for(var pe=ae[de],ye=0;ye<$.length;ye++)if(T(pe,$[ye]))return null;var xe=JSON.stringify($);return new N("Invalid "+oe+" `"+ue+"` of value `"+pe+"` "+("supplied to `"+P+"`, expected one of "+xe+"."))}return O(A)}function K($){function A(ae,de,P,oe,ue){if(typeof $!="function")return new N("Property `"+ue+"` of component `"+P+"` has invalid PropType notation inside objectOf.");var pe=ae[de],ye=le(pe);if(ye!=="object")return new N("Invalid "+oe+" `"+ue+"` of type "+("`"+ye+"` supplied to `"+P+"`, expected an object."));for(var xe in pe)if(pe.hasOwnProperty(xe)){var be=$(pe,xe,P,oe,ue+"."+xe,g);if(be instanceof Error)return be}return null}return O(A)}function Z($){if(!Array.isArray($))return u.env.NODE_ENV!=="production"&&m(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),d.thatReturnsNull;for(var A=0;A<$.length;A++){var ae=$[A];if(typeof ae!="function")return m(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",S(ae),A),d.thatReturnsNull}function de(P,oe,ue,pe,ye){for(var xe=0;xe<$.length;xe++){var be=$[xe];if(be(P,oe,ue,pe,ye,g)==null)return null}return new N("Invalid "+pe+" `"+ye+"` supplied to "+("`"+ue+"`."))}return O(de)}function re(){function $(A,ae,de,P,oe){return B(A[ae])?null:new N("Invalid "+P+" `"+oe+"` supplied to "+("`"+de+"`, expected a ReactNode."))}return O($)}function ce($){function A(ae,de,P,oe,ue){var pe=ae[de],ye=le(pe);if(ye!=="object")return new N("Invalid "+oe+" `"+ue+"` of type `"+ye+"` "+("supplied to `"+P+"`, expected `object`."));for(var xe in $){var be=$[xe];if(be){var me=be(pe,xe,P,oe,ue+"."+xe,g);if(me)return me}}return null}return O(A)}function B($){switch(typeof $){case"number":case"string":case"undefined":return!0;case"boolean":return!$;case"object":if(Array.isArray($))return $.every(B);if($===null||v($))return!0;var A=j($);if(A){var ae=A.call($),de;if(A!==$.entries){for(;!(de=ae.next()).done;)if(!B(de.value))return!1}else for(;!(de=ae.next()).done;){var P=de.value;if(P&&!B(P[1]))return!1}}else return!1;return!0;default:return!1}}function I($,A){return $==="symbol"||A["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&A instanceof Symbol}function le($){var A=typeof $;return Array.isArray($)?"array":$ instanceof RegExp?"object":I(A,$)?"symbol":A}function W($){if(typeof $>"u"||$===null)return""+$;var A=le($);if(A==="object"){if($ instanceof Date)return"date";if($ instanceof RegExp)return"regexp"}return A}function S($){var A=W($);switch(A){case"array":case"object":return"an "+A;case"boolean":case"date":case"regexp":return"a "+A;default:return A}}function X($){return!$.constructor||!$.constructor.name?k:$.constructor.name}return C.checkPropTypes=y,C.PropTypes=C,C}}).call(s,o(2))},function(i,s,o){(function(u){if(u.env.NODE_ENV!=="production")var d=o(5),h=o(8),m=o(6),g={};function y(v,b,w,E,j){if(u.env.NODE_ENV!=="production"){for(var k in v)if(v.hasOwnProperty(k)){var C;try{d(typeof v[k]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",E||"React class",w,k),C=v[k](b,k,E,w,null,m)}catch(N){C=N}if(h(!C||C instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",E||"React class",w,k,typeof C),C instanceof Error&&!(C.message in g)){g[C.message]=!0;var T=j?j():"";h(!1,"Failed %s type: %s%s",w,C.message,T??"")}}}}i.exports=y}).call(s,o(2))},function(i,s,o){var u=o(4),d=o(5),h=o(6);i.exports=function(){function m(v,b,w,E,j,k){k!==h&&d(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}m.isRequired=m;function g(){return m}var y={array:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:g,element:m,instanceOf:g,node:m,objectOf:g,oneOf:g,oneOfType:g,shape:g};return y.checkPropTypes=u,y.PropTypes=y,y}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,C){for(var T=0;T<C.length;T++){var N=C[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,T){return C&&j(k.prototype,C),T&&j(k,T),k}}(),d=o(0),h=y(d),m=o(1),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.point,O=T.text,D=T.fontSize,F=T.fontFamily,V=N.x,ee=N.y;return g.default.createElement("g",null,g.default.createElement("text",{x:V,y:ee,fontFamily:F||"Verdana",fontSize:D||10},O))}}]),k}(g.default.Component);E.propTypes={text:h.default.string,point:h.default.object,fontSize:h.default.number,fontFamily:h.default.string},E.defaultProps={text:"",point:{x:0,y:0}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,C){for(var T=0;T<C.length;T++){var N=C[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,T){return C&&j(k.prototype,C),T&&j(k,T),k}}(),d=o(0),h=y(d),m=o(1),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.data,O=T.points;T.width;var D=T.height,F=T.margin,V=T.color,ee=T.style,z=T.onMouseMove,q=O.map(function(I){return[I.x,I.y]}).reduce(function(I,le){return I.concat(le)}),K=[O[O.length-1].x,D-F,F,D-F,F,O[0].y],Z=q.concat(K),re={stroke:V||ee.stroke||"slategray",strokeWidth:ee.strokeWidth||"1",strokeLinejoin:ee.strokeLinejoin||"round",strokeLinecap:ee.strokeLinecap||"round",fill:"none"},ce={stroke:ee.stroke||"none",strokeWidth:"0",fillOpacity:ee.fillOpacity||".1",fill:ee.fill||V||"slategray",pointerEvents:"auto"},B=O.map(function(I,le){return g.default.createElement("circle",{key:le,cx:I.x,cy:I.y,r:2,style:ce,onMouseEnter:function(S){return z("enter",N[le],I)},onClick:function(S){return z("click",N[le],I)}})});return g.default.createElement("g",null,B,g.default.createElement("polyline",{points:Z.join(" "),style:ce}),g.default.createElement("polyline",{points:q.join(" "),style:re}))}}]),k}(g.default.Component);E.propTypes={color:h.default.string,style:h.default.object},E.defaultProps={style:{},onMouseMove:function(){}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,C){for(var T=0;T<C.length;T++){var N=C[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,T){return C&&j(k.prototype,C),T&&j(k,T),k}}(),d=o(0),h=y(d),m=o(1),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this.props,N=T.points;T.width;var O=T.height,D=T.margin,F=T.color,V=T.style,ee=T.divisor,z=ee===void 0?.25:ee,q=void 0,K=function(W){var S=void 0;if(!q)S=[W.x,W.y];else{var X=(W.x-q.x)*z;S=["C",q.x+X,q.y,W.x-X,W.y,W.x,W.y]}return q=W,S},Z=N.map(function(le){return K(le)}).reduce(function(le,W){return le.concat(W)}),re=["L"+N[N.length-1].x,O-D,D,O-D,D,N[0].y],ce=Z.concat(re),B={stroke:F||V.stroke||"slategray",strokeWidth:V.strokeWidth||"1",strokeLinejoin:V.strokeLinejoin||"round",strokeLinecap:V.strokeLinecap||"round",fill:"none"},I={stroke:V.stroke||"none",strokeWidth:"0",fillOpacity:V.fillOpacity||".1",fill:V.fill||F||"slategray"};return g.default.createElement("g",null,g.default.createElement("path",{d:"M"+ce.join(" "),style:I}),g.default.createElement("path",{d:"M"+Z.join(" "),style:B}))}}]),k}(g.default.Component);E.propTypes={color:h.default.string,style:h.default.object},E.defaultProps={style:{}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,C){for(var T=0;T<C.length;T++){var N=C[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,T){return C&&j(k.prototype,C),T&&j(k,T),k}}(),d=o(0),h=y(d),m=o(1),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"render",value:function(){var T=this,N=this.props,O=N.points,D=N.height,F=N.style,V=N.barWidth,ee=N.margin,z=N.onMouseMove,q=1*(F&&F.strokeWidth||0),K=ee?2*ee:0,Z=V||(O&&O.length>=2?Math.max(0,O[1].x-O[0].x-q-K):0);return g.default.createElement("g",{transform:"scale(1,-1)"},O.map(function(re,ce){return g.default.createElement("rect",{key:ce,x:re.x-(Z+q)/2,y:-D,width:Z,height:Math.max(0,D-re.y),style:F,onMouseMove:z&&z.bind(T,re)})}))}}]),k}(g.default.Component);E.propTypes={points:h.default.arrayOf(h.default.object),height:h.default.number,style:h.default.object,barWidth:h.default.number,margin:h.default.number,onMouseMove:h.default.func},E.defaultProps={style:{fill:"slategray"}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function j(k,C){for(var T=0;T<C.length;T++){var N=C[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,C,T){return C&&j(k.prototype,C),T&&j(k,T),k}}(),d=o(0),h=y(d),m=o(1),g=y(m);function y(j){return j&&j.__esModule?j:{default:j}}function v(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function b(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function w(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var E=function(j){w(k,j);function k(){return v(this,k),b(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return u(k,[{key:"lastDirection",value:function(T){return Math.sign=Math.sign||function(N){return N>0?1:-1},T.length<2?0:Math.sign(T[T.length-2].y-T[T.length-1].y)}},{key:"render",value:function(){var T=this.props,N=T.points;T.width,T.height;var O=T.size,D=T.style,F=T.spotColors,V=g.default.createElement("circle",{cx:N[0].x,cy:N[0].y,r:O,style:D}),ee=g.default.createElement("circle",{cx:N[N.length-1].x,cy:N[N.length-1].y,r:O,style:D||{fill:F[this.lastDirection(N)]}});return g.default.createElement("g",null,D&&V,ee)}}]),k}(g.default.Component);E.propTypes={size:h.default.number,style:h.default.object,spotColors:h.default.object},E.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},s.default=E},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function T(N,O){for(var D=0;D<O.length;D++){var F=O[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}return function(N,O,D){return O&&T(N.prototype,O),D&&T(N,D),N}}(),d=o(0),h=w(d),m=o(1),g=w(m),y=o(23),v=b(y);function b(T){if(T&&T.__esModule)return T;var N={};if(T!=null)for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(N[O]=T[O]);return N.default=T,N}function w(T){return T&&T.__esModule?T:{default:T}}function E(T,N){if(!(T instanceof N))throw new TypeError("Cannot call a class as a function")}function j(T,N){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:T}function k(T,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(T,N):T.__proto__=N)}var C=function(T){k(N,T);function N(){return E(this,N),j(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return u(N,[{key:"render",value:function(){var D=this.props,F=D.points,V=D.margin,ee=D.type,z=D.style,q=D.value,K=F.map(function(re){return re.y}),Z=ee=="custom"?q:v[ee](K);return g.default.createElement("line",{x1:F[0].x,y1:Z+V,x2:F[F.length-1].x,y2:Z+V,style:z})}}]),N}(g.default.Component);C.propTypes={type:h.default.oneOf(["max","min","mean","avg","median","custom"]),value:h.default.number,style:h.default.object},C.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},s.default=C},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.variance=s.stdev=s.median=s.midRange=s.avg=s.mean=s.max=s.min=void 0;var u=o(7),d=C(u),h=o(3),m=C(h),g=o(24),y=C(g),v=o(25),b=C(v),w=o(10),E=C(w),j=o(26),k=C(j);function C(T){return T&&T.__esModule?T:{default:T}}s.min=d.default,s.max=d.default,s.mean=m.default,s.avg=m.default,s.midRange=y.default,s.median=b.default,s.stdev=E.default,s.variance=k.default},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(7),d=g(u),h=o(9),m=g(h);function g(y){return y&&y.__esModule?y:{default:y}}s.default=function(y){return(0,m.default)(y)-(0,d.default)(y)/2}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u){return u.sort(function(d,h){return d-h})[Math.floor(u.length/2)]}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(3),d=h(u);function h(m){return m&&m.__esModule?m:{default:m}}s.default=function(m){var g=(0,d.default)(m),y=m.map(function(v){return Math.pow(v-g,2)});return(0,d.default)(y)}},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function N(O,D){for(var F=0;F<D.length;F++){var V=D[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(O,V.key,V)}}return function(O,D,F){return D&&N(O.prototype,D),F&&N(O,F),O}}(),d=o(0),h=E(d),m=o(1),g=E(m),y=o(3),v=E(y),b=o(10),w=E(b);function E(N){return N&&N.__esModule?N:{default:N}}function j(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}function k(N,O){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:N}function C(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}var T=function(N){C(O,N);function O(){return j(this,O),k(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return u(O,[{key:"render",value:function(){var F=this.props,V=F.points,ee=F.margin,z=F.style,q=V.map(function(re){return re.y}),K=(0,v.default)(q),Z=(0,w.default)(q);return g.default.createElement("rect",{x:V[0].x,y:K-Z+ee,width:V[V.length-1].x-V[0].x,height:w.default*2,style:z})}}]),O}(g.default.Component);T.propTypes={style:h.default.object},T.defaultProps={style:{fill:"red",fillOpacity:.1}},s.default=T},function(i,s,o){Object.defineProperty(s,"__esModule",{value:!0});var u=o(7),d=g(u),h=o(9),m=g(h);function g(y){return y&&y.__esModule?y:{default:y}}s.default=function(y){var v=y.data,b=y.limit,w=y.width,E=w===void 0?1:w,j=y.height,k=j===void 0?1:j,C=y.margin,T=C===void 0?0:C,N=y.max,O=N===void 0?(0,m.default)(v):N,D=y.min,F=D===void 0?(0,d.default)(v):D,V=v.length;b&&b<V&&(v=v.slice(V-b));var ee=(k-T*2)/(O-F||2),z=(E-T*2)/((b||V)-(V>1?1:0));return v.map(function(q,K){return{x:K*z+T,y:(O===F?1:O-q)*ee+T}})}}])})}(Ao)),Ao.exports}var hy=vN();const bN=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),_l=({buttonMode:e,activeMode:n,onClick:r,children:i})=>f.jsx("button",{onClick:()=>r(e),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${n===e?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i});function Od(e,n,r=!1,i=""){const s=e-n;let o=s>0,u=s<0,d=s===0||isNaN(s),h=d?"text-slate-400":o?"text-green-600":"text-red-500",m=d?"":o?"":"",g=r?o?"+":u?"-":"":"",y=r?Math.abs(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):Math.abs(s);return f.jsxs("span",{className:`ml-2 text-xs font-semibold flex items-center gap-1 ${h}`,children:[m," ",g,y,i&&f.jsx("span",{className:"ml-0.5",children:i})]})}function go(e,n){return f.jsx("div",{className:"w-20 h-6 mt-1",children:f.jsx(hy.Sparklines,{data:e,width:80,height:20,margin:4,children:f.jsx(hy.SparklinesLine,{color:n,style:{strokeWidth:2,fill:"none"}})})})}function Dd(e,n){var s;if(!Array.isArray(e)||e.length===0)return[0,0];let r=((s=e[e.length-1])==null?void 0:s[n])??0,i=0;for(let o=e.length-2;o>=0;o--)if(e[o][n]!==r){i=e[o][n];break}return[r,i]}const wN=e=>{const{updateTokenUsage:n,apiKey:r,apiStatus:i,allTrades:s=[],mode:o="all",setDashboardSource:u=()=>{},initialCapital:d=0,user:h=null}=e;console.log("Dashboard props",{allTrades:s,initialCapital:d,mode:o,user:h});const[m,g]=M.useState(""),[y,v]=M.useState(!0),[b,w]=M.useState(!1),[E,j]=M.useState(0),k=M.useMemo(()=>({scalp:s.filter(A=>A.mode==="scalp"),swing:s.filter(A=>A.mode==="swing"),day:s.filter(A=>A.mode==="day"),position:s.filter(A=>A.mode==="position")}),[s]),C=M.useMemo(()=>o==="all"?s||[]:k[o]||[],[o,s,k]),T=M.useMemo(()=>iS(s||[])||{},[s]),N=M.useMemo(()=>{const A=C.filter(ue=>ue.status!=="pending"),ae=A.filter(ue=>ue.status==="profit").length,de=A.filter(ue=>ue.status==="stop-loss").length,P=ae+de;return{winRate:P>0?Math.round(ae/P*100):0,wins:ae,losses:de,totalCompleted:P}},[C]);M.useEffect(()=>{g(""),v(!0)},[r]);const O=["all","scalp","day","swing","position"],D={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},F=O.map(A=>{const ae=A==="all"?s||[]:(s||[]).filter(me=>me.mode===A),de=ae.filter(me=>me.status!=="pending"),P=de.filter(me=>me.status==="profit").length,oe=de.filter(me=>me.status==="stop-loss").length,ue=P+oe,pe=ue>0?Math.round(P/ue*100):0,ye=de.reduce((me,Ce)=>Ce.status==="profit"?me+(Ce.outcomeAmount||0):Ce.status==="stop-loss"?me-(Ce.outcomeAmount||0):me,0),xe=A==="all"?d??0:0,be=A==="all"?(d??0)+ye:0;return{mode:D[A],initialCapital:xe,netPL:ye,currentEquity:be,totalTrades:ae.length,winRate:pe,wins:P,losses:oe,completed:ue}}),V=sS(s||[]),ee=oS(s||[]);M.useEffect(()=>{if(o!=="all")return;(async()=>{if(i!=="valid"){g("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),v(!1);return}if(s.length===0){g("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),v(!1);return}v(!0);try{const de=`You are an expert trading performance coach and psychology analyst. Here are the user's trading statistics for each mode:

${F.map(Ce=>`${Ce.mode}:
- Initial Capital: $${Ce.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${Ce.netPL>=0?"+":""}${Ce.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${Ce.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${Ce.totalTrades}
- Win Rate: ${Ce.winRate}%
- Wins: ${Ce.wins}
- Losses: ${Ce.losses}
- Completed: ${Ce.completed}`).join(`

`)}

**ANALYSIS REQUIREMENTS:**

- Gabungkan seluruh insight (performance, playbook, diary, psychology) dalam SATU paragraf narasi singkat, tanpa judul atau icon.
- Setelah itu, di paragraf terpisah, tuliskan 2-3 saran actionable yang jelas dan langsung ke poin.

Jawab SINGKAT, maksimal 3 kalimat untuk narasi utama, dan 1 paragraf untuk saran. Jangan gunakan emoji/icon. Bahasa Indonesia yang jelas dan mudah dipahami.`,P=kN(F),oe="fomo-ai-analysis",ue="fomo-ai-hash",pe=localStorage.getItem(ue),ye=localStorage.getItem(oe);if(pe===P&&ye){g(ye),v(!1);return}const{analysisText:xe,usage:be}=await YS(r||"",de);n(be);const me=xe.split(/\n(?=All:|Scalp:|Swing:|Day:|Position:)/)[0].trim();g(me),localStorage.setItem(oe,me),localStorage.setItem(ue,P)}catch(ae){console.error("Failed to get AI analysis:",ae);const de=ae instanceof Error?ae.message:String(ae);let P="Terjadi kesalahan saat mengambil analisis AI.";de.toLowerCase().includes("quota")||de.toLowerCase().includes("rate limit")?P="AI analysis tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti atau kurangi jumlah trade.":de.toLowerCase().includes("api key")||de.toLowerCase().includes("unauthorized")?P="API key tidak valid. Silakan periksa pengaturan API key Anda.":de.toLowerCase().includes("network")||de.toLowerCase().includes("fetch")?P="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":de.toLowerCase().includes("invalid response")||de.toLowerCase().includes("format")?P="Format respons AI tidak valid. Silakan coba lagi.":de.toLowerCase().includes("timeout")?P="Request timeout. Silakan coba lagi.":P=`Error: ${de}`,g(P)}finally{v(!1)}})()},[r,i,o,E,F]);const z=()=>{localStorage.removeItem("fomo-ai-analysis"),localStorage.removeItem("fomo-ai-hash"),j(A=>A+1)};let q=null;T&&typeof T.image=="function"&&(q=na.createElement(T.image,{className:"h-10 w-10 sm:h-12 sm:w-12 text-violet-500 dark:text-violet-400"}));const Z=C.filter(A=>A.status!=="pending").reduce((A,ae)=>ae.status==="profit"?A+(ae.outcomeAmount||0):ae.status==="stop-loss"?A-(ae.outcomeAmount||0):A,0),re=(d??0)+Z,ce=dS(s,d,7),B=Array.isArray(ce)&&ce.length>0?ce:[{equity:0,netPL:0,totalTrades:0}],[I,le]=Dd(B,"equity"),[W,S]=Dd(B,"netPL"),[X,$]=Dd(B,"totalTrades");return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full bg-gray-50 dark:bg-slate-900 min-h-screen",children:[b&&f.jsx(mS,{profile:T,winRate:N.winRate,totalTrades:N.totalCompleted,onClose:()=>w(!1)}),f.jsxs("header",{className:"flex flex-col gap-4 mb-2 sm:mb-4",children:[f.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mt-2 sm:mt-0",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx("button",{onClick:()=>w(!0),className:"emblem-glow emblem-float p-1 rounded-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg hover:scale-110 transition",title:"Lihat profil trader",children:q})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),f.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",f.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:o==="all"?"All":o})," trading history."]})]})]})}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 rounded-lg",children:[f.jsx(_l,{buttonMode:"all",activeMode:o||"all",onClick:u,children:"All"}),f.jsx(_l,{buttonMode:"scalp",activeMode:o||"all",onClick:u,children:"Scalp"}),f.jsx(_l,{buttonMode:"day",activeMode:o||"all",onClick:u,children:"Day"}),f.jsx(_l,{buttonMode:"swing",activeMode:o||"all",onClick:u,children:"Swing"}),f.jsx(_l,{buttonMode:"position",activeMode:o||"all",onClick:u,children:"Position"})]})]}),f.jsxs("main",{className:"flex flex-col gap-5 md:gap-7",children:[f.jsx("div",{className:"bg-white dark:bg-slate-800 p-5 md:p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col md:flex-row items-center md:items-start gap-6 w-full max-w-5xl mx-auto",children:f.jsxs("div",{className:"w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-[3fr_1fr] gap-3 items-start",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[f.jsxs("div",{className:"bg-violet-50 dark:bg-violet-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Initial Capital"}),f.jsxs("span",{className:"text-2xl font-bold text-violet-600 dark:text-violet-400",children:["$",(d??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1"}),go(B.map(A=>A.equity),I>=le?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Net P/L"}),f.jsxs("span",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[Z>=0?"+":"",Z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Od(W,S,!0,"$")}),go(B.map(A=>A.netPL),W>=S?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Current Equity"}),f.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Od(Z,0,!0,"$")}),go(B.map(A=>A.equity),I>=le?"#22c55e":"#ef4444")]})]}),f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/30 rounded-lg shadow-sm p-4 flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex flex-col items-start",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Total Trades Analyzed"}),f.jsx("span",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:s.length})]}),f.jsxs("div",{className:"flex flex-col items-end min-w-[60px]",children:[f.jsx("div",{className:"flex items-center mb-1",children:Od(X,$,!1,"trades")}),go(B.map(A=>A.totalTrades),X>=$?"#22c55e":"#ef4444")]})]})]}),f.jsx("div",{className:"flex justify-center md:justify-end w-full items-start",children:f.jsx("div",{className:"self-start m-0 p-0",children:f.jsx(yN,{data:[{name:"Win",value:N.wins},{name:"Loss",value:N.losses},{name:"Other",value:Math.max(0,N.totalCompleted-N.wins-N.losses)}],theme:document.documentElement.classList.contains("dark")?"dark":"light",winRate:N.winRate,totalCompleted:N.totalCompleted})})})]})}),o==="all"&&f.jsxs(f.Fragment,{children:[f.jsx(gN,{advancedMetrics:V,psychologyMetrics:ee}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 mt-2",children:[f.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[f.jsx(Ul,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),f.jsx("button",{onClick:z,className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,title:"Refresh AI Analysis",children:"Refresh"})]}),y?f.jsx(bN,{}):m&&(m.toLowerCase().includes("error")||m.toLowerCase().includes("unavailable")||m.toLowerCase().includes("failed")||m.toLowerCase().includes("quota")||m.toLowerCase().includes("terjadi kesalahan"))?f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:m}),f.jsxs("button",{onClick:z,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:y,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Coba Lagi"]})]}):f.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:f.jsx(If,{children:String(m||""),remarkPlugins:[Ff]})})]})]}),f.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:f.jsx(Gk,{history:C})})]})]})};function kN(e){return btoa(unescape(encodeURIComponent(JSON.stringify(e))))}const SN=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],my=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],_N=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:SN.map((e,n)=>{const r=60+Math.random()*90,i=my[n%my.length];return f.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${r}px`,height:`${r}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,r/6)}px`},children:e},e)})}),f.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),jN=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:f.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),f.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),f.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),f.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),f.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),f.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),f.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),f.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),f.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),f.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),Md=({icon:e,title:n,description:r})=>f.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-5 md:p-7 rounded-xl shadow-md border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1 hover:shadow-lg hover:ring-2 hover:ring-violet-200 dark:hover:ring-violet-700",children:[f.jsx("div",{className:"flex items-center justify-center h-12 w-12 md:h-16 md:w-16 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:f.jsx("div",{className:"w-7 h-7 md:w-9 md:h-9",children:e})}),f.jsx("h3",{className:"mt-5 text-base md:text-lg font-semibold text-slate-800 dark:text-slate-100",children:n}),f.jsx("p",{className:"mt-2 text-sm md:text-base text-slate-500 dark:text-slate-400 leading-relaxed",children:r})]}),EN=({onNavigate:e,user:n,onLoginClick:r})=>(console.log("HomePage rendered, user:",n,"onLoginClick:",typeof r),f.jsxs("div",{className:"flex-1 w-full flex flex-col pt-8 md:pt-12 px-4 md:px-8 pb-8",children:[f.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[f.jsx(_N,{}),f.jsx(jN,{}),f.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[f.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",f.jsx("br",{}),f.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),f.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),!n&&f.jsx("button",{onClick:()=>{console.log("Get Started button clicked"),r&&r()},className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),f.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:f.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[f.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),f.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-7 md:gap-10 max-w-7xl mx-auto justify-items-stretch",children:[f.jsx(Md,{icon:f.jsx(Ul,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),f.jsx(Md,{icon:f.jsx(cx,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),f.jsx(Md,{icon:f.jsx(Wk,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]})),TN="modulepreload",AN=function(e){return"/fomo/"+e},py={},Jl=function(n,r,i){let s=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=u(r.map(m=>{if(m=AN(m),m in py)return;py[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":TN,g||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return n().catch(o)})},NN=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>vi);return{default:i}},[]).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)};class Gf extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class CN extends Gf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class gy extends Gf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class yy extends Gf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var sf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sf||(sf={}));var RN=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};class ON{constructor(n,{headers:r={},customFetch:i,region:s=sf.Any}={}){this.url=n,this.headers=r,this.region=s,this.fetch=NN(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,r={}){var i;return RN(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:u}=r;let d={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const y=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(E=>{throw new CN(E)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new gy(y);if(!y.ok)throw new yy(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield y.json():b==="application/octet-stream"?w=yield y.blob():b==="text/event-stream"?w=y:b==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(s){return{data:null,error:s,response:s instanceof yy||s instanceof gy?s.context:void 0}}})}}var xt={},Xa={},Ja={},Wa={},Za={},ei={},DN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hi=DN();const MN=hi.fetch,_v=hi.fetch.bind(hi),jv=hi.Headers,LN=hi.Request,PN=hi.Response,vi=Object.freeze(Object.defineProperty({__proto__:null,Headers:jv,Request:LN,Response:PN,default:_v,fetch:MN},Symbol.toStringTag,{value:"Module"})),zN=sw(vi);var yo={},xy;function Ev(){if(xy)return yo;xy=1,Object.defineProperty(yo,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yo.default=e,yo}var vy;function Tv(){if(vy)return ei;vy=1;var e=ei&&ei.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ei,"__esModule",{value:!0});const n=e(zN),r=e(Ev());class i{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,y,v,b;let w=null,E=null,j=null,k=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),O=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&O&&O.length>1&&(j=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,j=null,k=406,C="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const N=await m.text();try{w=JSON.parse(N),Array.isArray(w)&&m.status===404&&(E=[],w=null,k=200,C="OK")}catch{m.status===404&&N===""?(k=204,C="No Content"):w={message:N}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,k=200,C="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:E,count:j,status:k,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,y,v;return{error:{message:`${(g=m==null?void 0:m.name)!==null&&g!==void 0?g:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}returns(){return this}overrideTypes(){return this}}return ei.default=i,ei}var by;function Av(){if(by)return Za;by=1;var e=Za&&Za.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Za,"__esModule",{value:!0});const n=e(Tv());class r extends n.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const y=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Za.default=r,Za}var wy;function Yf(){if(wy)return Wa;wy=1;var e=Wa&&Wa.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wa,"__esModule",{value:!0});const n=e(Av());class r extends n.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return Wa.default=r,Wa}var ky;function Nv(){if(ky)return Ja;ky=1;var e=Ja&&Ja.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ja,"__esModule",{value:!0});const n=e(Yf());class r{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(s,{head:o=!1,count:u}={}){const d=o?"HEAD":"GET";let h=!1;const m=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:u=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var o;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Ja.default=r,Ja}var Sy;function UN(){if(Sy)return Xa;Sy=1;var e=Xa&&Xa.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xa,"__esModule",{value:!0});const n=e(Nv()),r=e(Yf());class i{constructor(o,{headers:u={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(o){const u=new URL(`${this.url}/${o}`);return new n.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:h=!1,count:m}={}){var g;let y;const v=new URL(`${this.url}/rpc/${o}`);let b;d||h?(y=d?"HEAD":"GET",Object.entries(u).filter(([E,j])=>j!==void 0).map(([E,j])=>[E,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([E,j])=>{v.searchParams.append(E,j)})):(y="POST",b=u);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:v,headers:w,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Xa.default=i,Xa}var _y;function BN(){if(_y)return xt;_y=1;var e=xt&&xt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const n=e(UN());xt.PostgrestClient=n.default;const r=e(Nv());xt.PostgrestQueryBuilder=r.default;const i=e(Yf());xt.PostgrestFilterBuilder=i.default;const s=e(Av());xt.PostgrestTransformBuilder=s.default;const o=e(Tv());xt.PostgrestBuilder=o.default;const u=e(Ev());return xt.PostgrestError=u.default,xt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},xt}var IN=BN();const qN=Fl(IN),{PostgrestClient:HN,PostgrestQueryBuilder:m5,PostgrestFilterBuilder:p5,PostgrestTransformBuilder:g5,PostgrestBuilder:y5,PostgrestError:x5}=qN;function $N(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const FN=$N(),GN="2.11.15",YN=`realtime-js/${GN}`,VN="1.0.0",Cv=1e4,KN=1e3;var Dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dl||(Dl={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var xn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xn||(xn={}));var of;(function(e){e.websocket="websocket"})(of||(of={}));var ta;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ta||(ta={}));class QN{constructor(){this.HEADER_LENGTH=1}decode(n,r){return n.constructor===ArrayBuffer?r(this._binaryDecode(n)):r(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const r=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,r,i)}_decodeBroadcast(n,r,i){const s=r.getUint8(1),o=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(n.slice(u,u+s));u=u+s;const h=i.decode(n.slice(u,u+o));u=u+o;const m=JSON.parse(i.decode(n.slice(u,n.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class Rv{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const jy=(e,n,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((o,u)=>(o[u]=XN(u,e,n,s),o),{})},XN=(e,n,r,i)=>{const s=n.find(d=>d.name===e),o=s==null?void 0:s.type,u=r[e];return o&&!i.includes(o)?Ov(o,u):uf(u)},Ov=(e,n)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return eC(n,r)}switch(e){case Je.bool:return JN(n);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return WN(n);case Je.json:case Je.jsonb:return ZN(n);case Je.timestamp:return tC(n);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return uf(n);default:return uf(n)}},uf=e=>e,JN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WN=e=>{if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},ZN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},eC=(e,n)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let o;const u=e.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>Ov(n,d))}return e},tC=e=>typeof e=="string"?e.replace(" ","T"):e,Dv=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Ld{constructor(n,r,i={},s=Cv){this.channel=n,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ey;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ey||(Ey={}));class Ml{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,s,o,u),this.pendingDiffs.forEach(h=>{this.state=Ml.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ml.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,s){const o=this.cloneDeep(n),u=this.transformState(r),d={},h={};return this.map(o,(m,g)=>{u[m]||(h[m]=g)}),this.map(u,(m,g)=>{const y=o[m];if(y){const v=g.map(j=>j.presence_ref),b=y.map(j=>j.presence_ref),w=g.filter(j=>b.indexOf(j.presence_ref)<0),E=y.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(d[m]=w),E.length>0&&(h[m]=E)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},i,s)}static syncDiff(n,r,i,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=n[d])!==null&&m!==void 0?m:[];if(n[d]=this.cloneDeep(h),g.length>0){const y=n[d].map(b=>b.presence_ref),v=g.filter(b=>y.indexOf(b.presence_ref)<0);n[d].unshift(...v)}i(d,g,h)}),this.map(u,(d,h)=>{let m=n[d];if(!m)return;const g=h.map(y=>y.presence_ref);m=m.filter(y=>g.indexOf(y.presence_ref)<0),n[d]=m,s(d,m,h),m.length===0&&delete n[d]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const s=n[i];return"metas"in s?r[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[i]=s,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ty;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ty||(Ty={}));var Ay;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ay||(Ay={}));var Kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class Vf{constructor(n,r={config:{}},i){this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ld(this,xn.join,this.params,this.timeout),this.rejoinTimer=new Rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ml(this),this.broadcastEndpointURL=Dv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,r=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params;this._onError(g=>n==null?void 0:n(Kn.CHANNEL_ERROR,g)),this._onClose(()=>n==null?void 0:n(Kn.CLOSED));const h={},m={broadcast:o,presence:u,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&s!==void 0?s:[],private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){n==null||n(Kn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,w=[];for(let E=0;E<b;E++){const j=v[E],{filter:{event:k,schema:C,table:T,filter:N}}=j,O=g&&g[E];if(O&&O.event===k&&O.schema===C&&O.table===T&&O.filter===N)w.push(Object.assign(Object.assign({},j),{id:O.id}));else{this.unsubscribe(),this.state=Tt.errored,n==null||n(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,n&&n(Kn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Tt.errored,n==null||n(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this._on(n,r,i)}async send(n,r={}){var i,s;if(!this._canPush()&&n.type==="broadcast"){const{event:o,payload:u}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,h;const m=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Ld(this,xn.leave,{},n),i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,r,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),u=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ld(this,n,r,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var s,o;const u=n.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=xn;if(i&&[d,h,m,g].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,r,i);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var w,E,j;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(E=b.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(b=>b.callback(v,i)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var w,E,j,k,C,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const N=b.id,O=(w=b.filter)===null||w===void 0?void 0:w.event;return N&&((E=r.ids)===null||E===void 0?void 0:E.includes(N))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const N=(C=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return N==="*"||N===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:E,table:j,commit_timestamp:k,type:C,errors:T}=w;v=Object.assign(Object.assign({},{schema:E,table:j,commit_timestamp:k,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(w))}b.callback(v,i)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const s=n.toLocaleLowerCase(),o={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Vf.isEqual(s.filter,r))}),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(xn.close,{},n)}_onError(n){this._on(xn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=jy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=jy(n.columns,n.old_record)),r}}const Ny=()=>{},nC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rC{constructor(n,r){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ny,this.ref=0,this.logger=Ny,this.conn=null,this.sendBuffer=[],this.serializer=new QN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>Jl(async()=>{const{default:h}=await Promise.resolve().then(()=>vi);return{default:h}},void 0).then(({default:h})=>h(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${n}/${of.websocket}`,this.httpEndpoint=Dv(n),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,u)=>u(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=FN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VN}))}disconnect(n,r){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Dl.connecting:return ta.Connecting;case Dl.open:return ta.Open;case Dl.closing:return ta.Closing;default:return ta.Closed}}isConnected(){return this.connectionState()===ta.Open}channel(n,r={config:{}}){const i=`realtime:${n}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new Vf(`realtime:${n}`,r,this);return this.channels.push(o),o}}push(n){const{topic:r,event:i,payload:s,ref:o}=n,u=()=>{this.encode(n,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${i} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(n=null){let r=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:YN};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(xn.access_token,{access_token:r})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(KN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,r=>{let{topic:i,event:s,payload:o,ref:u}=r;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${i} ${s} ${u&&"("+u+")"||""}`,o),Array.from(this.channels).filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,u)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(xn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${n}${i}${s}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([nC],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class Kf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aC extends Kf{constructor(n,r){super(n),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cf extends Kf{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}var iC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};const Mv=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>vi);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},lC=()=>iC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>vi),void 0)).Response:Response}),df=e=>{if(Array.isArray(e))return e.map(r=>df(r));if(typeof e=="function"||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[s]=df(i)}),n};var la=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};const Pd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sC=(e,n,r)=>la(void 0,void 0,void 0,function*(){const i=yield lC();e instanceof i&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{n(new aC(Pd(s),e.status||500))}).catch(s=>{n(new cf(Pd(s),s))}):n(new cf(Pd(e),e))}),oC=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),r))};function Wl(e,n,r,i,s,o){return la(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,oC(n,i,s,o)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>sC(h,d,i))})})}function Mo(e,n,r,i){return la(this,void 0,void 0,function*(){return Wl(e,"GET",n,r,i)})}function Tr(e,n,r,i,s){return la(this,void 0,void 0,function*(){return Wl(e,"POST",n,i,s,r)})}function uC(e,n,r,i,s){return la(this,void 0,void 0,function*(){return Wl(e,"PUT",n,i,s,r)})}function cC(e,n,r,i){return la(this,void 0,void 0,function*(){return Wl(e,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Lv(e,n,r,i,s){return la(this,void 0,void 0,function*(){return Wl(e,"DELETE",n,i,s,r)})}var It=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};const dC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fC{constructor(n,r={},i,s){this.url=n,this.headers=r,this.bucketId=i,this.fetch=Mv(s)}uploadOrUpdate(n,r,i,s){return It(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},Cy),s);let d=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:n,body:o,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),v=yield y.json();return y.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(vt(o))return{data:null,error:o};throw o}})}upload(n,r,i){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,s){return It(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Cy.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const y=yield this.fetch(d.toString(),{method:"PUT",body:h,headers:g}),v=yield y.json();return y.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(vt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,r){return It(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Tr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Kf("No token returned by API");return{data:{signedUrl:u.toString(),path:n,token:d},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}update(n,r,i){return It(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return It(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(n,r,i){return It(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(n,r,i){return It(this,void 0,void 0,function*(){try{let s=this._getFinalPath(n),o=yield Tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(n,r,i){return It(this,void 0,void 0,function*(){try{const s=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(n,r){return It(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(n);return{data:yield(yield Mo(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(vt(d))return{data:null,error:d};throw d}})}info(n){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Mo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:df(i),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}exists(n){return It(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield cC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(vt(i)&&i instanceof cf){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}remove(n){return It(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}list(n,r,i){return It(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dC),r),{prefix:n||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const hC="2.7.1",mC={"X-Client-Info":`storage-js/${hC}`};var ti=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};class pC{constructor(n,r={},i){this.url=n,this.headers=Object.assign(Object.assign({},mC),r),this.fetch=Mv(i)}listBuckets(){return ti(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}getBucket(n){return ti(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createBucket(n,r={public:!1}){return ti(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}updateBucket(n,r){return ti(this,void 0,void 0,function*(){try{return{data:yield uC(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ti(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ti(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}}class gC extends pC{constructor(n,r={},i){super(n,r,i)}from(n){return new fC(this.url,this.headers,n,this.fetch)}}const yC="2.50.4";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const xC={"X-Client-Info":`supabase-js-${Al}/${yC}`},vC={headers:xC},bC={schema:"public"},wC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kC={};var SC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};const _C=e=>{let n;return e?n=e:typeof fetch>"u"?n=_v:n=fetch,(...r)=>n(...r)},jC=()=>typeof Headers>"u"?jv:Headers,EC=(e,n,r)=>{const i=_C(r),s=jC();return(o,u)=>SC(void 0,void 0,void 0,function*(){var d;const h=(d=yield n())!==null&&d!==void 0?d:e;let m=new s(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(o,Object.assign(Object.assign({},u),{headers:m}))})};var TC=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};function AC(e){return e.endsWith("/")?e:e+"/"}function NC(e,n){var r,i;const{db:s,auth:o,realtime:u,global:d}=e,{db:h,auth:m,realtime:g,global:y}=n,v={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},y),d),{headers:Object.assign(Object.assign({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>TC(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const Pv="2.70.0",li=30*1e3,ff=3,zd=ff*li,CC="http://localhost:9999",RC="supabase.auth.token",OC={"X-Client-Info":`gotrue-js/${Pv}`},hf="X-Supabase-Api-Version",zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MC=6e5;class Qf extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LC extends Qf{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function PC(e){return Te(e)&&e.name==="AuthApiError"}class Uv extends Qf{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Or extends Qf{constructor(n,r,i,s){super(n,i,s),this.name=r,this.status=i}}class jr extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zC(e){return Te(e)&&e.name==="AuthSessionMissingError"}class xo extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vo extends Or{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class bo extends Or{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UC(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ry extends Or{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mf extends Or{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Ud(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class Oy extends Or{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Ll extends Or{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dy=` 	
\r=`.split(""),BC=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Dy.length;n+=1)e[Dy[n].charCodeAt(0)]=-2;for(let n=0;n<Lo.length;n+=1)e[Lo[n].charCodeAt(0)]=n;return e})();function My(e,n,r){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Lo[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Lo[i]),n.queuedBits-=6}}function Bv(e,n,r){const i=BC[e];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ly(e){const n=[],r=u=>{n.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{HC(u,i,r)};for(let u=0;u<e.length;u+=1)Bv(e.charCodeAt(u),s,o);return n.join("")}function IC(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qC(e,n){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}IC(i,n)}}function HC(e,n,r){if(n.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function $C(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};for(let s=0;s<e.length;s+=1)Bv(e.charCodeAt(s),r,i);return new Uint8Array(n)}function FC(e){const n=[];return qC(e,r=>n.push(r)),new Uint8Array(n)}function GC(e){const n=[],r={queue:0,queuedBits:0},i=s=>{n.push(s)};return e.forEach(s=>My(s,r,i)),My(null,r,i),n.join("")}function YC(e){return Math.round(Date.now()/1e3)+e}function VC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",Zr={tested:!1,writable:!1},Pl=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zr.tested)return Zr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zr.tested=!0,Zr.writable=!0}catch{Zr.tested=!0,Zr.writable=!1}return Zr.writable};function KC(e){const n={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{n[o]=s})}catch{}return r.searchParams.forEach((i,s)=>{n[s]=i}),n}const Iv=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...r)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>vi);return{default:i}},void 0).then(({default:i})=>i(...r)):n=fetch,(...r)=>n(...r)},QC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qv=async(e,n,r)=>{await e.setItem(n,JSON.stringify(r))},wo=async(e,n)=>{const r=await e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ko=async(e,n)=>{await e.removeItem(n)};class Fo{constructor(){this.promise=new Fo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Fo.promiseConstructor=Promise;function Bd(e){const n=e.split(".");if(n.length!==3)throw new Ll("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!DC.test(n[i]))throw new Ll("JWT not in base64url format");return{header:JSON.parse(Ly(n[0])),payload:JSON.parse(Ly(n[1])),signature:$C(n[2]),raw:{header:n[0],payload:n[1]}}}async function XC(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function JC(e,n){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!n(o,null,u)){i(u);return}}catch(u){if(!n(o,u)){s(u);return}}})()})}function WC(e){return("0"+e.toString(16)).substr(-2)}function ZC(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(n),Array.from(n,WC).join("")}async function e4(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function t4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await e4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ni(e,n,r=!1){const i=ZC();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await qv(e,`${n}-code-verifier`,s);const o=await t4(i);return[o,i===o?"plain":"s256"]}const n4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r4(e){const n=e.headers.get(hf);if(!n||!n.match(n4))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function a4(e){if(!e)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function i4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(e){if(!l4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var s4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};const ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o4=[502,503,504];async function Py(e){var n;if(!QC(e))throw new mf(ea(e),0);if(o4.includes(e.status))throw new mf(ea(e),e.status);let r;try{r=await e.json()}catch(o){throw new Uv(ea(o),o)}let i;const s=r4(e);if(s&&s.getTime()>=zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Oy(ea(r),e.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Oy(ea(r),e.status,r.weak_password.reasons);throw new LC(ea(r),e.status||500,i)}const u4=(e,n,r,i)=>{const s={method:e,headers:(n==null?void 0:n.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function Le(e,n,r,i){var s;const o=Object.assign({},i==null?void 0:i.headers);o[hf]||(o[hf]=zv["2024-01-01"].name),i!=null&&i.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await c4(e,n,r+d,{headers:o,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function c4(e,n,r,i,s,o){const u=u4(n,i,s,o);let d;try{d=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new mf(ea(h),0)}if(d.ok||await Py(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await Py(h)}}function Vn(e){var n;let r=null;m4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=YC(e.expires_in)));const i=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:r,user:i},error:null}}function zy(e){const n=Vn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Ar(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function d4(e){return{data:e,error:null}}function f4(e){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o}=e,u=s4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:n,email_otp:r,hashed_token:i,redirect_to:s,verification_type:o},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function h4(e){return e}function m4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Id=["global","local","others"];var p4=function(e,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class g4{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=Iv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,r=Id[0]){if(Id.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Id.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ar})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=p4(n,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:f4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,s,o,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=n==null?void 0:n.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:h4});if(g.error)throw g.error;const y=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);m[`${j}Page`]=E}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Te(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){ri(n);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ar})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){ri(n);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:Ar})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){ri(n);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ar})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){ri(n.userId);try{const{data:r,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(n){ri(n.userId),ri(n.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const y4={getItem:e=>Pl()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Pl()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Pl()&&globalThis.localStorage.removeItem(e)}};function Uy(e={}){return{getItem:n=>e[n]||null,setItem:(n,r)=>{e[n]=r},removeItem:n=>{delete e[n]}}}function x4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ai={debug:!!(globalThis&&Pl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class v4 extends Hv{}async function b4(e,n,r){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(n===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new v4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ai.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}x4();const w4={url:CC,storageKey:RC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function By(e,n,r){return await r()}class $l{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$l.nextInstanceID,$l.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},w4),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new g4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Iv(s.fetch),this.lock=s.lock||By,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=b4:this.lock=By,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Pl()?this.storage=y4:(this.memoryStorage={},this.storage=Uy(this.memoryStorage)):(this.memoryStorage={},this.storage=Uy(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pv}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const r=KC(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),yn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),UC(o)){const h=(n=o.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Uv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,s;try{const o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vn}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(n){var r,i,s;try{let o;if("email"in n){const{email:g,password:y,options:v}=n;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await ni(this.storage,this.storageKey)),o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:w},xform:Vn})}else if("phone"in n){const{phone:g,password:y,options:v}=n;o=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Vn})}else throw new vo("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(n){try{let r;if("email"in n){const{email:o,password:u,options:d}=n;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:zy})}else if("phone"in n){const{phone:o,password:u,options:d}=n;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:zy})}else throw new vo("You must provide either an email or phone number and a password");const{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new xo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(n){var r,i,s,o;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;if(r==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(n){var r,i,s,o,u,d,h,m,g,y,v,b;let w,E;if("message"in n)w=n.message,E=n.signature;else{const{chain:j,wallet:k,statement:C,options:T}=n;let N;if(yn())if(typeof k=="object")N=k;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))N=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=k}const O=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const D=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),C?{statement:C}:null));let F;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")F=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)F=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)w=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${O.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(i=T==null?void 0:T.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const D=await N.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:j,error:k}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:GC(E)},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Vn});if(k)throw k;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new xo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:k})}catch(j){if(Te(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(n){const r=await wo(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{const{data:o,error:u}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Vn});if(await ko(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new xo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(Te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(n){try{const{options:r,provider:i,token:s,access_token:o,nonce:u}=n,d=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vn}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new xo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(n){var r,i,s,o,u;try{if("email"in n){const{email:d,options:h}=n;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ni(this.storage,this.storageKey));const{error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in n){const{phone:d,options:h}=n,{data:m,error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new vo("You must provide either an email or phone number.")}catch(d){if(Te(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(n){var r,i;try{let s,o;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Vn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(n){var r,i,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await ni(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=n==null?void 0:n.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:d4})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new jr;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:s,options:o}=n,{error:u}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in n){const{phone:i,type:s,options:o}=n,{data:u,error:d}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new vo("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;n=new Proxy(n,{get:(h,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:n},error:null}}const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ar}):await this._useSession(async r=>{var i,s,o;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ar})})}catch(r){if(Te(r))return zC(r)&&(await this._removeSession(),await ko(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new jr;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&n.email!=null&&([d,h]=await ni(this.storage,this.storageKey));const{data:m,error:g}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Ar});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Te(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new jr;const r=Date.now()/1e3;let i=r,s=!0,o=null;const{payload:u}=Bd(n.access_token);if(u.exp&&(i=u.exp,s=i<=r),s){const{session:d,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(n.access_token);if(h)throw h;o={access_token:n.access_token,refresh_token:n.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:u,error:d}=r;if(d)throw d;n=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new jr;const{session:s,error:o}=await this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(n,r){try{if(!yn())throw new bo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new bo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ry("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ry("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(n.code);if(T)throw T;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=n;if(!o||!d||!u||!m)throw new bo("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let v=g+y;h&&(v=parseInt(h));const b=v-g;b*1e3<=li&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const w=v-y;g-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,g):g-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,g);const{data:E,error:j}=await this._getUser(o);if(j)throw j;const k={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:v,refresh_token:u,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:n.type},error:null}}catch(i){if(Te(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await wo(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{error:o};const u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,n);if(d&&!(PC(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return n!=="others"&&(await this._removeSession(),await ko(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const r=VC(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}})}async resetPasswordForEmail(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await ni(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(n){var r;try{const{data:i,error:s}=await this._useSession(async o=>{var u,d,h,m,g;const{data:y,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(u=n.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=n.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return yn()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Te(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:u}=r;if(u)throw u;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await JC(async s=>(s>0&&await XC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Vn})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Ud(o)&&Date.now()+u-i<li})}catch(i){if(this._debug(r,"error",i),Te(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),yn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await wo(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zd;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${zd}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ud(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fo;const{data:o,error:u}=await this._refreshAccessToken(n);if(u)throw u;if(!o.session)throw new jr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Te(o)){const u={session:null,error:o};return Ud(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(n,r,i=!0){const s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(n,r)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await qv(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await ko(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),li);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-n)/li);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${li}ms, refresh threshold is ${ff} ticks`),s<=ff&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Hv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await ni(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${s.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,s;const{data:o,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:h,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:o}=r;return o?{data:null,error:o}:await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(n==null?void 0:n.factors)||[],s=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var r,i;const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bd(s.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(u=>u.kid===n);if(i||(i=this.jwks.keys.find(u=>u.kid===n),i&&this.jwks_cached_at+MC>Date.now()))return i;const{data:s,error:o}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ll("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(u=>u.kid===n),!i)throw new Ll("No matching signing key found in JWKS");return i}async getClaims(n,r={keys:[]}){try{let i=n;if(!i){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};i=b.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:h}}=Bd(i);if(a4(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:o,header:s,signature:u},error:null}}const m=i4(s.alg),g=await this.fetchJwk(s.kid,r),y=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,y,u,FC(`${d}.${h}`)))throw new Ll("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(i){if(Te(i))return{data:null,error:i};throw i}}}$l.nextInstanceID=0;const k4=$l;class S4 extends k4{constructor(n){super(n)}}var _4=function(e,n,r,i){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(i.next(g))}catch(y){u(y)}}function h(g){try{m(i.throw(g))}catch(y){u(y)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((i=i.apply(e,n||[])).next())})};class j4{constructor(n,r,i){var s,o,u;if(this.supabaseUrl=n,this.supabaseKey=r,!n)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=AC(n),h=new URL(d);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:bC,realtime:kC,auth:Object.assign(Object.assign({},wC),{storageKey:m}),global:vC},y=NC(i??{},g);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=EC(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new HN(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new ON(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gC(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,r;return _4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,storageKey:o,flowType:u,lock:d,debug:h},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S4({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:o,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:s,flowType:u,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new rC(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E4=(e,n,r)=>new j4(e,n,r),T4="https://vqzivktsvicvbdsuouap.supabase.co",A4="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",it=(e,n,r)=>{const i=`There was a problem trying to ${e} data for the '${n}' table.`,o=(d=>d?typeof d.message=="string"&&d.message?d.message:typeof d.message=="object"&&d.message!==null?JSON.stringify(d.message,null,2):typeof d=="object"&&d!==null?JSON.stringify(d,null,2):String(d):"Unknown error: The error object was falsy.")(r);if(o.toLowerCase().includes('column "user_id" does not exist')||o.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(o.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const u=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${n}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${u}

Technical Details:
${o}`},qe=E4(T4,A4),N4=async(e,{email:n,password:r,nama:i})=>{try{const{data:s,error:o}=await e.auth.signUp({email:n,password:r,options:{data:{nama:i}}});if(o)throw o.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",o),new Error(`Failed to sign up: ${o.message}`));if(s.user&&!s.session)throw new Error("Please check your email to confirm your account before signing in.");return s}catch(s){throw console.error("Sign up error:",s),s}},C4=async(e,{email:n,password:r})=>{try{const{data:i,error:s}=await e.auth.signInWithPassword({email:n,password:r});if(s)throw console.error("Sign in error:",s),s.message.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):s.message.toLowerCase().includes("email not confirmed")?new Error("Please check your email and confirm your account before signing in."):s.message.toLowerCase().includes("too many requests")?new Error("Too many login attempts. Please wait a moment before trying again."):new Error(`Sign in failed: ${s.message}`);return i}catch(i){throw console.error("Sign in error:",i),i}},R4=async e=>{const{error:n}=await e.auth.signOut();if(n)throw n},O4=(e,n)=>{const{data:{subscription:r}}=e.auth.onAuthStateChange((i,s)=>{n(s)});return r},$v=async(e,n)=>{try{const{data:r,error:i}=await e.from("users").select("*").eq("id",n).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${n}. A new one may need to be created if this is unexpected.`),null;throw i}return r}catch(r){const i=it(`fetch profile for user ${n}`,"users",r);return console.error(i),null}},D4=async(e,n)=>{const{data:r,error:i}=await e.from("trades").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(i){const s=it("fetch","trades",i);throw console.error(s),new Error(s)}return(r||[]).map(s=>{var o,u,d,h,m;return{id:s.id,timestamp:s.created_at,image:s.image,mode:s.mode,marketTrend:s.market_trend,keyPattern:s.key_pattern,indicatorAnalysis:s.indicator_analysis,tradeBias:s.trade_bias,tradeSetup:{tradeType:((o=s.trade_setup)==null?void 0:o.tradeType)||"Long",entryPrice:Number((u=s.trade_setup)==null?void 0:u.entryPrice)||0,stopLoss:Number((d=s.trade_setup)==null?void 0:d.stopLoss)||0,takeProfit:Number((h=s.trade_setup)==null?void 0:h.takeProfit)||0,rrr:Number((m=s.trade_setup)==null?void 0:m.rrr)||0},rationale:s.rationale,confidenceScore:s.confidence_score,status:s.status,outcomeAmount:s.outcome_amount??void 0,riskPerTrade:0}})},Iy=async(e,n,r)=>{const{error:i}=await e.from("users").update({initial_trade:r}).eq("id",n);if(i){const s=it(`update initial capital for user ${n}`,"users",i);throw console.error(s),new Error(s)}},M4=async(e,n,r,i)=>{const{error:s}=await e.from("users").update({nama:r,describe:i}).eq("id",n);if(s){const o=it(`update profile for user ${n}`,"users",s);throw console.error(o),new Error(o)}},qy=async(e,n,r)=>{var d,h,m,g,y;const i={user_id:r,image:n.image,mode:n.mode,market_trend:n.marketTrend,key_pattern:n.keyPattern,indicator_analysis:n.indicatorAnalysis,trade_bias:n.tradeBias,trade_setup:n.tradeSetup,rationale:n.rationale,confidence_score:n.confidenceScore,status:n.status,outcome_amount:n.outcomeAmount??null},{data:s,error:o}=await e.from("trades").insert(i).select().single();if(o){const v=it("add","trades",o);throw console.error(v),new Error(v)}if(!s)throw new Error("Failed to add trade: no data returned.");const u=s;return{id:u.id,timestamp:u.created_at,image:u.image,mode:u.mode,marketTrend:u.market_trend,keyPattern:u.key_pattern,indicatorAnalysis:u.indicator_analysis,tradeBias:u.trade_bias,tradeSetup:{tradeType:((d=u.trade_setup)==null?void 0:d.tradeType)||"Long",entryPrice:Number((h=u.trade_setup)==null?void 0:h.entryPrice)||0,stopLoss:Number((m=u.trade_setup)==null?void 0:m.stopLoss)||0,takeProfit:Number((g=u.trade_setup)==null?void 0:g.takeProfit)||0,rrr:Number((y=u.trade_setup)==null?void 0:y.rrr)||0},rationale:u.rationale,confidenceScore:u.confidence_score,status:u.status,outcomeAmount:u.outcome_amount??void 0,riskPerTrade:0}},L4=async(e,n,r,i,s)=>{const{error:o}=await e.from("trades").update({status:r,outcome_amount:i}).eq("id",n).eq("user_id",s);if(o){const u=it(`update status for trade ${n}`,"trades",o);throw console.error(u),new Error(u)}},P4=async e=>{const{error:n}=await qe.from("trades").delete().eq("id",e);if(n)throw n},z4=async(e,n)=>{const{data:r,error:i}=await e.from("portfolio_assets").select("*").eq("user_id",n).order("symbol",{ascending:!0});if(i){const s=it("fetch portfolio assets","portfolio_assets",i);throw console.error(s),new Error(s)}return r||[]},U4=async(e,n,r)=>{const i={user_id:r,symbol:n.symbol,name:n.name,logo_url:n.logo_url||"",amount:n.amount,avg_buy_price:n.avg_buy_price,current_price:n.current_price},{data:s,error:o}=await e.from("portfolio_assets").insert(i).select().single();if(o){const u=it("add portfolio asset","portfolio_assets",o);throw console.error(u),new Error(u)}if(!s)throw new Error("Failed to add portfolio asset: no data returned.");return s},B4=async(e,n,r,i)=>{const{error:s}=await e.from("portfolio_assets").update(r).eq("id",n).eq("user_id",i);if(s){const o=it(`update portfolio asset ${n}`,"portfolio_assets",s);throw console.error(o),new Error(o)}},I4=async(e,n,r)=>{const{error:i}=await e.from("portfolio_assets").delete().eq("id",n).eq("user_id",r);if(i){const s=it(`delete portfolio asset ${n}`,"portfolio_assets",i);throw console.error(s),new Error(s)}},q4=async(e,n)=>{try{const r=await z4(e,n);let i=0,s=0,o=0;const u=r.map(m=>{const g=m.current_price/(1+(Math.random()-.5)*.04),y=m.amount*m.current_price,v=(m.current_price-m.avg_buy_price)*m.amount,b=m.amount*g,w=y-b;return i+=y,s+=v,o+=w,{id:m.id,symbol:m.symbol,name:m.name,logoUrl:m.logo_url,amount:m.amount,avgBuyPrice:m.avg_buy_price,currentPrice:m.current_price,value:y,totalPl:v}}),d=i-o,h=d>0?o/d*100:0;return{assets:u,totalValue:i,totalPl:s,pl24h:o,pl24hPercent:h}}catch(r){return console.error("Error fetching portfolio data:",r),{assets:[],totalValue:0,totalPl:0,pl24h:0,pl24hPercent:0}}},H4=async e=>{try{const{data:n,error:r}=await e.from("settings").select("gemini_api_key").eq("id",1).single();if(r){if(r.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw r}return n}catch(n){const r=it("fetch","settings",n);throw console.error(r),new Error(r)}},$4=async(e,n)=>{const{error:r}=await e.from("settings").update({gemini_api_key:n}).eq("id",1);if(r){const i=it("update Gemini API key in","settings",r);throw console.error(i),new Error(i)}},Hy=async(e,n=20,r=0)=>{console.log("Fetching community analyses with limit:",n,"offset:",r);const{data:i,error:s}=await e.from("community_analyses").select(`
            *,
            auth_users!inner(email),
            trades:analysis_id(*)
        `).order("created_at",{ascending:!1}).range(r,r+n-1);if(s){const u=it("fetch community analyses","community_analyses",s);throw console.error("Error fetching community analyses:",u),new Error(u)}console.log("Raw community analyses data:",i);const o=(i==null?void 0:i.map(u=>{var d;return{...u,user_email:(d=u.auth_users)==null?void 0:d.email,trade_analysis:u.trades}}))||[];return console.log("Processed community analyses:",o),o},F4=async(e,n,r,i)=>{const{data:{user:s}}=await e.auth.getUser(),o=(s==null?void 0:s.email)||"Unknown User",u={user_id:i,analysis_id:n,content:r,user_email:o},{data:d,error:h}=await e.from("community_comments").insert(u).select().single();if(h){const m=it("add comment","community_comments",h);throw console.error(m),new Error(m)}if(!d)throw new Error("Failed to add comment: no data returned.");return d},$y=async(e,n)=>{const{data:r,error:i}=await e.from("community_comments").select("*").eq("analysis_id",n).order("created_at",{ascending:!0});if(i){const s=it("fetch comments","community_comments",i);throw console.error(s),new Error(s)}return r||[]},G4=async(e,n,r,i)=>{const{data:s}=await e.from("community_likes").select("*").eq("user_id",i).eq("analysis_id",n).single();if(s)if(s.like_type===r){const{error:o}=await e.from("community_likes").delete().eq("id",s.id);if(o){const u=it("remove like","community_likes",o);throw console.error(u),new Error(u)}}else{const{error:o}=await e.from("community_likes").update({like_type:r}).eq("id",s.id);if(o){const u=it("update like","community_likes",o);throw console.error(u),new Error(u)}}else{const{error:o}=await e.from("community_likes").insert({user_id:i,analysis_id:n,like_type:r});if(o){const u=it("add like","community_likes",o);throw console.error(u),new Error(u)}}},Fy=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_likes").select("like_type").eq("user_id",r).eq("analysis_id",n).single();if(s&&s.code!=="PGRST116"){const o=it("fetch user like","community_likes",s);throw console.error(o),new Error(o)}return i==null?void 0:i.like_type},Y4=async(e,n)=>{const{error:r}=await e.from("user_community_reads").upsert([{user_id:n,last_read_at:new Date().toISOString()}],{onConflict:"user_id"});if(r){const i=it("update community read","user_community_reads",r);throw console.error(i),new Error(i)}},Gy=async(e,n)=>{var d;const[r,i,s,o]=await Promise.all([e.from("community_analyses").select("id",{count:"exact"}),e.from("community_comments").select("id",{count:"exact"}),e.from("community_likes").select("id",{count:"exact"}),e.from("user_community_reads").select("last_read_at").eq("user_id",n).single()]);let u=0;if((d=o.data)!=null&&d.last_read_at){const{count:h}=await e.from("community_analyses").select("id",{count:"exact"}).gt("created_at",o.data.last_read_at);u=h||0}return{total_analyses:r.count||0,total_comments:i.count||0,total_likes:s.count||0,unread_count:u}},Fv=async(e,n,r)=>{const{data:i,error:s}=await e.from("community_analyses").select("id").eq("user_id",n).eq("analysis_id",r).single();if(s&&s.code!=="PGRST116")throw console.error("Error checking if analysis shared:",s),new Error("Failed to check if analysis already shared");return!!i},Gv=async(e,n,r,i,s)=>{var y,v;if(console.log("Sharing analysis to community:",{userId:n,analysisId:r.id,title:i,description:s,analysis:r}),await Fv(e,n,r.id)){console.log("Analysis already shared by user, updating existing share");const{data:b,error:w}=await e.from("community_analyses").update({title:i||`Shared Analysis - ${((y=r.tradeSetup)==null?void 0:y.tradeType)||""} ${r.timestamp}`,description:s||"",updated_at:new Date().toISOString()}).eq("user_id",n).eq("analysis_id",r.id).select().single();if(w){const E=it("update existing community analysis","community_analyses",w);throw console.error("Error updating existing share:",E),new Error(E)}return console.log("Successfully updated existing share:",b),b}const u=r.tradeSetup||r.trade_setup,d=u?{...u,rrr:u.rrr??0}:void 0,h={id:r.id,user_id:n,created_at:r.timestamp,image:r.image,mode:r.mode,market_trend:r.marketTrend,key_pattern:r.keyPattern,indicator_analysis:r.indicatorAnalysis,trade_bias:r.tradeBias,trade_setup:d,rationale:r.rationale,confidence_score:r.confidenceScore,status:r.status,outcome_amount:r.outcomeAmount||null};await e.from("trades").upsert([h],{onConflict:"id"});const{data:m,error:g}=await e.from("community_analyses").insert({user_id:n,analysis_id:r.id,title:i||`Shared Analysis - ${((v=r.tradeSetup)==null?void 0:v.tradeType)||""} ${r.timestamp}`,description:s||""}).select().single();if(g){const b=it("share analysis to community","community_analyses",g);throw console.error("Error sharing to community:",b),new Error(b)}return console.log("Successfully shared to community:",m),m},V4=({supabaseClient:e,open:n,onClose:r})=>{const[i,s]=M.useState("login"),[o,u]=M.useState(""),[d,h]=M.useState(""),[m,g]=M.useState(""),[y,v]=M.useState(!0),[b,w]=M.useState(!1),[E,j]=M.useState("");M.useEffect(()=>{const N=O=>{O.key==="Escape"&&r()};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[r]),M.useEffect(()=>{const N=localStorage.getItem("rememberedEmail");N?(u(N),v(!0)):v(!1)},[]);const k=N=>/^\S+@\S+\.\S+$/.test(N),C=async N=>{if(N.preventDefault(),w(!0),j(""),!k(o)){j("Please enter a valid email address."),w(!1);return}if(d.length<6){j("Password must be at least 6 characters."),w(!1);return}if(i==="register"&&m.trim().length<2){j("Name must be at least 2 characters."),w(!1);return}try{i==="login"?(await C4(e,{email:o,password:d}),y?localStorage.setItem("rememberedEmail",o):localStorage.removeItem("rememberedEmail"),r()):(await N4(e,{email:o,password:d,nama:m}),r())}catch(O){j(O.message||"An unexpected error occurred.")}finally{w(!1)}},T=()=>{s(i==="login"?"register":"login"),j(""),h(""),g("")};return n?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:r,children:f.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:N=>N.stopPropagation(),children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:f.jsx(Nr,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:i==="login"?"Welcome Back":"Create Account"}),f.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:i==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),f.jsxs("form",{onSubmit:C,className:"mt-8 space-y-6",children:[i==="register"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:m,onChange:N=>g(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:N=>u(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:i==="login"?"current-password":"new-password",required:!0,value:d,onChange:N=>h(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),i==="login"&&f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:y,onChange:N=>v(N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),E&&f.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:E}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:b?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):i==="login"?"Sign in":"Register"})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[i==="login"?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:T,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:i==="login"?"Register":"Sign in"})]})})]})}):null},K4=({onImageSelect:e,isLoading:n,isTradingMode:r=!0,preview:i})=>{const[s,o]=M.useState(!1),u=M.useRef(null),d=M.useCallback(b=>{if(b&&b.type.startsWith("image/")){if(b.size>10*1024*1024){alert("File terlalu besar. Maksimal 10MB.");return}const w=new FileReader;w.onloadend=()=>{try{const E=w.result;e(b)}catch(E){console.error("Error processing image file:",E),alert("Gagal memproses file gambar. Silakan coba file lain.")}},w.onerror=()=>{console.error("Error reading image file"),alert("Gagal membaca file gambar. Silakan coba file lain.")},w.readAsDataURL(b)}else alert("File harus berupa gambar (PNG, JPEG, atau WebP).")},[e]),h=M.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?o(!0):b.type==="dragleave"&&o(!1)},[]),m=M.useCallback(b=>{b.preventDefault(),b.stopPropagation(),o(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&d(b.dataTransfer.files[0])},[d]),g=b=>{b.preventDefault(),b.target.files&&b.target.files[0]&&d(b.target.files[0])},y=()=>{var b;(b=u.current)==null||b.click()},v=M.useCallback(b=>{var j,k;if(n||!u.current)return;const w=(j=b.clipboardData)==null?void 0:j.items;if(!w)return;const E=(k=Array.from(w).find(C=>C.kind==="file"&&C.type.startsWith("image/")))==null?void 0:k.getAsFile();E&&(b.preventDefault(),d(E))},[n,d]);return M.useEffect(()=>{if(r)return document.addEventListener("paste",v),()=>{document.removeEventListener("paste",v)}},[v,r]),f.jsxs("div",{onDragEnter:h,onDragOver:h,onDragLeave:h,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${s?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!i&&"bg-white dark:bg-slate-800"}`}`,children:[f.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:g,disabled:n}),i?f.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[f.jsx("img",{src:i,className:n?"w-full h-full object-contain blur-sm opacity-70 transition-all":"w-full h-full object-contain transition-all",alt:"Chart Preview",style:{maxHeight:320,maxWidth:"100%"}}),n&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/60 dark:bg-slate-900/60 z-10",children:[f.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-500 mb-2"}),f.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Analyzing Chart..."})]})]}):f.jsxs("div",{className:"text-center",children:[f.jsx(tg,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),f.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),f.jsxs("button",{type:"button",onClick:y,disabled:n,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[f.jsx(tg,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},qd={Entry:"bg-blue-600",SL:"bg-red-600",TP1:"bg-green-600"},Hd={Entry:"Entry",SL:"SL",TP1:"TP1"};function Q4(e){const n=[...e].sort((i,s)=>i-s),r=e.map(()=>0);for(let i=0;i<e.length-1;i++)Math.abs(n[i]-n[i+1])<7&&(r[e.indexOf(n[i])]=-28,r[e.indexOf(n[i+1])]=28,e.length>2&&i+2<e.length&&Math.abs(n[i+1]-n[i+2])<7&&(r[e.indexOf(n[i+2])]=-56));return r}function X4(e,n=18){const r=e.map((m,g)=>({price:m,idx:g}));r.sort((m,g)=>m.price-g.price);const i=e.length,o=100-n*(i-1),u=i>1?o/(i-1):0;let d=[];for(let m=0;m<i;m++)d.push(m*(n+u));const h=[];return r.forEach((m,g)=>{h[m.idx]=d[g]}),h}function J4(e,n,r,i,s){if(!e||!n||!r||!i)return 0;const o=i*r;return s==="Long"?(n-e)*(o/e):(e-n)*(o/e)}const $d=({color:e,left:n,label:r,yOffset:i,value:s})=>{let o=n;return r==="SL"&&(n==="0%"||n==="0"||n==="calc(0% - 24px)"||n==="calc(0% - 0px)")&&(o="1.5rem"),r==="TP1"&&(n==="100%"||n==="calc(100% - 24px)"||n==="calc(100% - 0px)")&&(o="calc(100% - 1.5rem)"),f.jsxs("div",{className:"absolute flex flex-col items-center transition-all duration-500 animate-fadein",style:{left:o,top:0,zIndex:10},children:[f.jsx("div",{style:{transform:`translateY(${i}px)`},className:"transition-all duration-500",children:f.jsx("span",{className:`px-2 py-0.5 rounded-md font-bold text-xs text-white shadow-md ${e} animate-fadein`,children:r})}),f.jsx("div",{className:`w-4 h-4 rounded-full border-2 border-white shadow-lg ${e} mt-1 animate-markerpop`}),f.jsx("span",{className:"mt-1 text-xs font-mono text-slate-700 dark:text-slate-200 whitespace-nowrap",children:Number(s).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:4})})]})},W4=({riskParams:e,analysis:n})=>{if(!n)return null;const{tradeSetup:r}=n,i=r.tradeType==="Long",s=parseFloat(r.entryPrice),o=parseFloat(r.stopLoss),u=parseFloat(r.takeProfit);if(isNaN(s)||isNaN(o)||isNaN(u))return null;const h=X4([o,s,u],24),m=C=>`calc(${h[C]}% - 24px)`,g=Q4(h),y=1,v=2,b=Math.min(h[y],h[v]),w=Math.abs(h[v]-h[y]),E=i?"right":"left";let j=1;if(typeof n.riskPerTrade=="number"&&!isNaN(n.riskPerTrade))j=n.riskPerTrade;else if(typeof n.riskPerTrade=="string"){const C=parseFloat(String(n.riskPerTrade).replace(/[^\d.\-]/g,""));isNaN(C)||(j=C)}const k=e.currentEquity!==void 0&&e.currentEquity!==null?Number(e.currentEquity):void 0;return k==null&&console.warn("ActiveRiskParameters: equity is undefined or null, cannot display Risk $ and Equity"),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-3 sm:mb-4",children:[f.jsx(tS,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),f.jsx("div",{className:"relative w-full overflow-x-auto sm:overflow-visible px-1 scrollbar-thin scrollbar-thumb-violet-300 sm:scrollbar-none",children:f.jsxs("div",{className:"min-w-[350px] sm:min-w-0 h-20 flex items-end mb-4 sm:mb-6 pl-6 pr-2",children:[f.jsx("div",{className:"absolute left-0 right-0 top-1/2 -translate-y-1/2 h-5 rounded-full animate-gradient-move bg-gradient-to-r from-red-200 via-slate-100 to-emerald-200 dark:from-red-400/30 dark:to-emerald-400/30 shadow-lg"}),f.jsx("div",{className:"absolute flex items-center pointer-events-none",style:{left:`calc(${b}% + 8px)`,width:`calc(${w}% - 16px)`,top:"50%",height:"20px",zIndex:8,transform:"translateY(-50%)"},children:f.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 rounded-full relative animate-pulse-futuristic",style:{boxShadow:"0 0 8px 2px #0ff8, 0 0 16px 4px #0ff4",opacity:.7},children:E==="right"?f.jsx("span",{className:"absolute right-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#22d3ee",filter:"drop-shadow(0 0 6px #22d3ee)"},children:""}):f.jsx("span",{className:"absolute left-0 -top-2 text-xl sm:text-2xl animate-arrow-move-horizontal",style:{color:"#f87171",filter:"drop-shadow(0 0 6px #f87171)"},children:""})})}),f.jsx($d,{color:qd.SL,left:m(0),label:Hd.SL,yOffset:g[0],value:String(o)}),f.jsx($d,{color:qd.Entry,left:m(1),label:Hd.Entry,yOffset:g[1],value:String(s)}),f.jsx($d,{color:qd.TP1,left:m(2),label:Hd.TP1,yOffset:g[2],value:String(u)})]})}),f.jsx("div",{className:"text-xs text-slate-400 dark:text-slate-500 text-center mb-2",children:"Marker posisi pada bar ini menggunakan smart spacing agar tidak overlap, bukan proporsional harga. Angka di bawah marker adalah harga asli."}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 sm:gap-4 mt-4 sm:mt-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:j+"%"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Risk $"}),(()=>{const C=Number(k??0),T=Number(j??0),O="$"+(C*T/100).toLocaleString("en-US",{minimumFractionDigits:4,maximumFractionDigits:4});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:O})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),f.jsxs("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:[e.riskRewardRatio,":1"]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Equity"}),(()=>{const T="$"+Number(k??0).toLocaleString("en-US",{maximumFractionDigits:0});return f.jsx("p",{className:"font-bold text-base sm:text-lg text-slate-800 dark:text-slate-100",children:T})})()]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Potensi Profit (USD)"}),(()=>{var ee,z,q;let C=Number(n==null?void 0:n.leverage);(!C||isNaN(C))&&(C=Number(e.leverage));const T=Number((ee=n==null?void 0:n.tradeSetup)==null?void 0:ee.entryPrice),N=Number((z=n==null?void 0:n.tradeSetup)==null?void 0:z.takeProfit),O=Number(k??0),D=(q=n==null?void 0:n.tradeSetup)==null?void 0:q.tradeType,F=T&&N&&C&&O&&D;let V=f.jsx("span",{className:"text-slate-400",children:"-"});if(F){const K=Number(J4(T,N,C,O,D));V="$"+String(K.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))}return f.jsx("p",{className:"font-bold text-base sm:text-lg text-emerald-800 dark:text-emerald-200",children:V})})()]})]})]})},So=({label:e,value:n,className:r=""})=>f.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-xl p-4 md:p-5 text-center shadow-md border border-slate-200 dark:border-slate-700 transition-all duration-200 ${r}`,children:[f.jsx("p",{className:"text-sm md:text-base font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:"mt-1 text-base md:text-lg font-semibold text-slate-900 dark:text-slate-100",children:n})]}),Z4=({analysis:e})=>{const{tradeType:n,entryPrice:r,stopLoss:i,takeProfit:s}=e.tradeSetup,o=n==="Long",u=v=>v!=null&&v!==""&&v!=="N/A"&&!isNaN(Number(v))&&Number(v)!==0,d=u(r),h=u(i),m=u(s);let g=!1;return o?g=Number(i)<Number(r)&&Number(r)<Number(s):g=Number(s)<Number(r)&&Number(r)<Number(i),d&&h&&m&&g?f.jsxs("div",{className:`p-5 md:p-6 rounded-xl border-l-4 ${o?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"} shadow-md border border-slate-200 dark:border-slate-700 transition-all duration-200`,children:[f.jsxs("h4",{className:`text-lg md:text-xl font-bold ${o?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"} text-center`,children:["Suggested Trade: ",n]}),Number(e.confidenceScore)<70&&f.jsx("div",{className:"mt-2 p-2 rounded bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300 font-semibold text-sm text-center",children:"AI tidak yakin, sinyal lemah. Gunakan dengan kehati-hatian."}),f.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 text-base md:text-lg justify-items-center text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(r).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(i).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),f.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Number(s).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})})]})]})]}):f.jsx("div",{className:"p-4 md:p-5 rounded-xl bg-red-50 border-l-4 border-red-500 dark:bg-red-900/50 dark:border-red-700 text-red-700 dark:text-red-300 font-bold text-center shadow-md border border-red-200 dark:border-red-700",children:"AI gagal memberikan sinyal profesional. Silakan ulangi analisa."})},Yv=({analysis:e,riskParams:n,onBackToUploader:r})=>{if(!e)return f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analysis data available"})})});if(e.error){let s=e.error;return e.error.toLowerCase().includes("timeframe")&&(s=`Anda mengupload chart dengan timeframe yang tidak sesuai mode trading.
Silakan pilih mode yang sesuai dengan timeframe chart Anda.`),f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold whitespace-pre-line",children:s})}),r&&f.jsx("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700 mt-4",children:"Kembali ke Upload"})]})})}return e.tradeSetup&&e.marketTrend&&e.tradeBias?f.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[f.jsx("div",{className:"w-full",children:e.image&&e.image.trim()!==""?f.jsx("img",{src:e.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800",onError:s=>{var u,d;console.error("Failed to load analysis image:",((u=e.image)==null?void 0:u.substring(0,50))+"..."),s.currentTarget.style.display="none";const o=document.createElement("div");o.className="w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",o.innerHTML='<p class="text-slate-500 dark:text-slate-400">Image failed to load</p>',(d=s.currentTarget.parentNode)==null||d.appendChild(o)},onLoad:()=>{console.log("Analysis image loaded successfully")}}):f.jsx("div",{className:"w-full h-48 bg-slate-100 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No image available"}),f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:["Image data: ",e.image?"Present but empty":"Missing"]})]})})}),f.jsxs("div",{className:"w-full space-y-4",children:[e.status!=="pending"&&f.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${e.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[e.status==="profit"?f.jsx(Tl,{className:"h-6 w-6"}):f.jsx(Nr,{className:"h-6 w-6"}),f.jsxs("span",{children:["TRADE COMPLETED: ",f.jsx("span",{className:"uppercase",children:e.status.replace("-"," ")})]})]}),f.jsx(Z4,{analysis:e}),f.jsx(W4,{riskParams:n,analysis:e}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-5 md:gap-7 justify-items-stretch text-center",children:[f.jsx(So,{label:"Market Trend",value:e.marketTrend||"N/A"}),f.jsx(So,{label:"Trade Bias",value:e.tradeBias||"N/A",className:e.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":e.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),f.jsx(So,{label:"Confidence",value:`${e.confidenceScore||0}%`}),e.status!=="pending"&&e.outcomeAmount!==void 0&&f.jsx(So,{label:e.status==="profit"?"Profit Amount":"Loss Amount",value:`$${e.outcomeAmount.toLocaleString()}`,className:e.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Zk,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),f.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:Array.isArray(e.rationale)?f.jsx("ul",{className:"list-disc pl-5",children:e.rationale.map((s,o)=>f.jsx("li",{children:s},o))}):(()=>{let s=e.rationale;try{typeof e.rationale=="string"&&e.rationale.trim().startsWith("[")&&(s=JSON.parse(e.rationale))}catch{}return Array.isArray(s)?f.jsx("ul",{className:"list-disc pl-5",children:s.map((o,u)=>f.jsx("li",{children:o},u))}):f.jsx(If,{remarkPlugins:[Ff],children:e.rationale||"No reasoning available"})})()})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.keyPattern||"No pattern identified"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:e.indicatorAnalysis||"No indicator analysis available"})]})]})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400 font-semibold",children:"Invalid analysis data"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"The analysis result is incomplete or corrupted."})]}),f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("p",{children:"This might be due to:"}),f.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[f.jsx("li",{children:"AI response format error"}),f.jsx("li",{children:"Network connectivity issues"}),f.jsx("li",{children:"API quota exceeded"}),f.jsx("li",{children:"Image processing error"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[r&&f.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]}),f.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-4 py-2 text-sm rounded bg-slate-600 text-white hover:bg-slate-700",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reload Page"]})]})]})})},jl="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",El="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",Yy="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Vy=({params:e,timeframeSettings:n})=>{const[r,i]=M.useState(e.accountBalance||""),[s,o]=M.useState(e.leverage||"10"),[u,d]=M.useState(e.entryPrice||""),[h,m]=M.useState(e.stopLoss||""),[g,y]=M.useState(""),[v,b]=M.useState("LONG"),w=j=>parseFloat(j.replace(",",".")),E=M.useMemo(()=>{const j=w(r),k=w(s),C=w(u),T=w(h),N=w(g);if([j,k,C,T,N].some(isNaN)||j<=0||k<=0||C<=0||T<=0||N<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const O=j*k;let D=0,F=0,V=0,ee=0;v==="LONG"?(D=(T-C)*O/C,F=(N-C)*O/C,V=Math.abs(F/Math.abs(D)),ee=C*(1-1/k)):(D=(C-T)*O/C,F=(C-N)*O/C,V=Math.abs(F/Math.abs(D)),ee=C*(1+1/k));const z=j,q=j,K=`${(D/j*100).toFixed(2)}%`,Z=`${(F/j*100).toFixed(2)}%`;let re="";return V<1?re="RRR di bawah standar minimum!":D>=0?re="Stop Loss tidak valid (tidak rugi)!":F<=0&&(re="Take Profit tidak valid (tidak untung)!"),{contract:`$${O.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:T,slMargin:`$${z.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${D>=0?"+":""}$${D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:K,tp:N,tpMargin:`$${q.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${F>=0?"+":""}$${F.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:Z,rrr:V.toFixed(2),liq:ee.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:re}},[r,s,u,h,g,v]);return f.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx(Jk,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),f.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),f.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:n.text})]})}),f.jsx("div",{className:El,children:f.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),f.jsx("input",{type:"number",className:jl,value:r,onChange:j=>i(j.target.value),placeholder:"e.g. 6.64"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),f.jsx("input",{type:"number",className:jl,value:s,onChange:j=>o(j.target.value),min:1,max:125})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),f.jsx("input",{type:"number",className:jl,value:u,onChange:j=>d(j.target.value),placeholder:"e.g. 0.621"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),f.jsx("input",{type:"number",className:jl,value:h,onChange:j=>m(j.target.value),placeholder:"e.g. 0.62552"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),f.jsx("input",{type:"number",className:jl,value:g,onChange:j=>y(j.target.value),placeholder:"e.g. 0.6185"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),f.jsxs("div",{className:"flex gap-3 mt-1",children:[f.jsx("button",{onClick:()=>b("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${v==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),f.jsx("button",{onClick:()=>b("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${v==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:El,children:[f.jsx("h4",{className:Yy,children:"Nilai Kontrak"}),f.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[f.jsx("span",{children:"Total Kontrak"}),f.jsx("span",{children:E.contract})]})]}),f.jsxs("div",{className:El+" border-l-4 border-red-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi SL (USDT)"}),f.jsx("span",{children:E.sl})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:E.slMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:E.slProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:E.slProfitPct})]})]}),f.jsxs("div",{className:El+" border-l-4 border-emerald-400",children:[f.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Estimasi TP (USDT)"}),f.jsx("span",{children:E.tp})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Margin Penutupan (USDT)"}),f.jsx("span",{children:E.tpMargin})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (USDT)"}),f.jsx("span",{children:E.tpProfit})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Est. Profit (%)"}),f.jsx("span",{children:E.tpProfitPct})]})]}),f.jsxs("div",{className:El,children:[f.jsx("h4",{className:Yy,children:"Ringkasan"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),f.jsx("span",{children:E.rrr})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Liquidation Price (estimasi)"}),f.jsx("span",{children:E.liq})]})]}),E.warning&&f.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:E.warning})]})]})},e5=({status:e})=>{if(e==="pending")return null;const n="text-xs font-bold px-2 py-0.5 rounded-full";if(e==="profit")return f.jsx("span",{className:`${n} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"});if(e==="stop-loss")return f.jsx("span",{className:`${n} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"})},Ky=({history:e,onSelect:n,onDeleteRequest:r,onShareRequest:i,currentAnalysisId:s,userId:o})=>{const[u,d]=na.useState(new Set),[h,m]=na.useState(!1),[g,y]=M.useState(!1),[v,b]=M.useState(null),[w,E]=M.useState(null),[j,k]=M.useState(""),[C,T]=M.useState(!1),[N,O]=M.useState(null);if(na.useEffect(()=>{(async()=>{if(!(!e.length||!o)){m(!0);try{const ee=e.map(K=>Fv(qe,o,K.id)),z=await Promise.all(ee),q=new Set;e.forEach((K,Z)=>{z[Z]&&q.add(K.id)}),d(q)}catch(ee){console.error("Error loading shared status:",ee)}finally{m(!1)}}})()},[e,o]),!e)return console.error("HistoryPanel: history prop is null or undefined"),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(md,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: History data is not available"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});if(!Array.isArray(e))return console.error("HistoryPanel: history prop is not an array:",e),f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(md,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-red-500 dark:text-red-400",children:"Error: Invalid history data format"}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-2",children:"Please refresh the page or try again."})]})]});console.log("HistoryPanel: Rendering with",e.length,"items");const D=(V,ee)=>{b(V),E(ee),k(""),O(null),y(!0)},F=async()=>{if(!v||!w||!o)return;const V=parseFloat(j);if(isNaN(V)){O("Please enter a valid number for outcome amount.");return}T(!0),O(null);try{await L4(qe,v.id,w,V,o),y(!1),b(null),E(null),k(""),window.location.reload()}catch{O("Failed to update trade status.")}finally{T(!1)}};return f.jsxs("div",{className:"p-6 h-full flex flex-col",children:[f.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[f.jsx(md,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),e.length===0?f.jsxs("div",{className:"text-center py-10 flex-1",children:[f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):f.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:e.map((V,ee)=>{if(!V||!V.id||!V.tradeSetup)return console.error("HistoryPanel: Invalid item at index",ee,V),null;const z=s===V.id,q=u.has(V.id);return f.jsx("li",{className:"group",children:f.jsxs("div",{className:`relative p-2 sm:p-4 rounded-lg border cursor-pointer transition-all duration-200 ${z?"border-violet-500 bg-violet-50 dark:bg-violet-900/30 shadow-md":"border-slate-200 dark:border-slate-700 hover:border-violet-300 dark:hover:border-violet-600 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>n(V),children:[q&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:[f.jsx(Kd,{className:"w-3 h-3 mr-1"}),"Shared"]})}),f.jsxs("div",{className:"flex items-start justify-between gap-2 sm:gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1 sm:mb-2",children:[f.jsx("span",{className:"text-xs sm:text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:V.mode}),f.jsx(e5,{status:V.status}),q&&f.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:" Shared"})]}),f.jsx("div",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mb-1 sm:mb-2",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-4",children:[f.jsxs("span",{children:["Entry: $",V.tradeSetup.entryPrice]}),f.jsxs("span",{children:["SL: $",V.tradeSetup.stopLoss]}),f.jsxs("span",{children:["TP: $",V.tradeSetup.takeProfit]})]})}),f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:new Date(V.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),V.status==="pending"&&f.jsxs("div",{className:"flex flex-row gap-1 sm:gap-2 mt-2",children:[f.jsx("button",{onClick:K=>{K.stopPropagation(),D(V,"profit")},className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Set Profit"}),f.jsx("button",{onClick:K=>{K.stopPropagation(),D(V,"stop-loss")},className:"px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Set Loss"})]})]}),f.jsxs("div",{className:"flex flex-row gap-1 ml-2 sm:ml-4",children:[i&&f.jsx("button",{onClick:K=>{K.stopPropagation(),q||i(V)},disabled:q||h,className:`p-2 text-xs rounded-lg transition-colors ${q?"text-green-600 dark:text-green-400 cursor-not-allowed":"text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30"}`,title:q?"Already shared to community":"Share to community",children:f.jsx(Kd,{className:"w-4 h-4"})}),f.jsx("button",{onClick:K=>{K.stopPropagation(),r(V)},className:"p-2 text-xs rounded-lg text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",title:"Delete analysis",children:f.jsx(nS,{className:"w-4 h-4"})})]})]})]})},V.id)})}),g&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4 shadow-xl",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:w==="profit"?"Set Profit Outcome":"Set Loss Outcome"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Outcome Amount"}),f.jsx("input",{type:"number",value:j,onChange:V=>k(V.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter outcome amount",min:"0",step:"any",disabled:C})]}),N&&f.jsx("div",{className:"text-red-500 text-sm mb-2",children:N}),f.jsxs("div",{className:"flex space-x-3 mt-4",children:[f.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",disabled:C,children:"Cancel"}),f.jsx("button",{onClick:F,disabled:C||!j,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":"Save"})]})]})})]})},Vv=({isOpen:e,onClose:n,onConfirm:r,title:i,message:s,confirmText:o="Confirm",cancelText:u="Cancel",isDestructive:d=!1,isLoading:h=!1})=>{if(M.useEffect(()=>{const v=b=>{b.key==="Escape"&&n()};return e&&document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[e,n]),!e)return null;const m=d?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",g=d?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",y=d?f.jsx(Xk,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):f.jsx(fx,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:n,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:v=>v.stopPropagation(),children:[f.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${g}`,children:y}),f.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),f.jsx("div",{className:"mt-2",children:f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:s})}),f.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[f.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:r,disabled:h,children:h?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):o}),f.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:n,disabled:h,children:u})]})]})})},t5=({user:e,apiKey:n,apiStatus:r,updateTokenUsage:i,onTradeAdded:s,tradeHistory:o,currentEquity:u,onTradeDeleted:d})=>{var be;const[h,m]=M.useState(null),[g,y]=M.useState(null),[v,b]=M.useState(null),[w,E]=M.useState(!1),[j,k]=M.useState(null),[C,T]=M.useState("day"),[N,O]=M.useState({accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3}),[D,F]=M.useState("calculator"),[V,ee]=M.useState(null),[z,q]=M.useState(null),[K,Z]=M.useState(!1),[re,ce]=M.useState(!1),[B,I]=M.useState(null),[le,W]=M.useState(""),S={scalp:{text:"Timeframe: 1m, 3m, 5m, 15m (minute) only",link:"https://www.tradingview.com/symbols/"},day:{text:"Timeframe: 30m (minute) only",link:"https://www.tradingview.com/symbols/"},swing:{text:"Timeframe: 1h, 2h, 4h, 12h (hour) only",link:"https://www.tradingview.com/symbols/"},position:{text:"Timeframe: 1d, 1w, 1M (day/week/month) only",link:"https://www.tradingview.com/symbols/"}},X=M.useCallback(me=>{m(me),k(null);const Ce=new FileReader;Ce.onloadend=()=>{const en=Ce.result;y(en),console.log("Image preview set:",!!en)},Ce.onerror=()=>{console.error("Error creating image preview"),k("Failed to create image preview. Please try again.")},Ce.readAsDataURL(me)},[]),$=async()=>{if(!h||!n){k("Please select an image and ensure API key is configured.");return}if(!g){k("Image preview is not available. Please try uploading the image again.");return}E(!0),k(null);try{const{analysis:me,usage:Ce}=await GS(n,h,N,C,N.currentEquity||1e3);if(i(Ce),me&&me.error){b({error:me.error}),ee(null);return}O(Dt=>({...Dt,currentEquity:Dt.currentEquity||1e3,riskPerTrade:me.riskPerTrade!==void 0?String(me.riskPerTrade):Dt.riskPerTrade}));let en=me.detectedTimeframe||"",St=typeof en=="string"?en.toLowerCase():"",nt=C;en==="1M"?nt="position":["1m","3m","5m","15m"].includes(St)?nt="scalp":St==="30m"?nt="day":["1h","2h","4h","12h"].includes(St)?nt="swing":["1d","1w"].includes(St)&&(nt="position");const Dr={id:Date.now().toString(),timestamp:new Date().toISOString(),image:g,mode:nt,marketTrend:me.marketTrend,keyPattern:me.keyPattern,indicatorAnalysis:me.indicatorAnalysis,tradeBias:me.tradeBias,tradeSetup:me.tradeSetup,rationale:me.rationale,confidenceScore:me.confidenceScore,status:"pending",riskPerTrade:me.riskPerTrade};if(console.log("TradeAnalysis created with image:",!!Dr.image),b(Dr),ee(null),qe)try{const Dt=await qy(qe,Dr,e.id);s(Dt)}catch(Dt){console.error("Auto-save error:",Dt),k("Failed to auto-save trade: "+Dt.message)}}catch(me){console.error("Analysis error:",me),k(me.message||"Failed to analyze chart. Please try again.")}finally{E(!1)}},A=()=>{m(null),y(null),b(null),ee(null),k(null)},ae=me=>{b(me),ee(me),m(null),y(me.image||null)},de=me=>{q(me),Z(!0)},P=()=>{z&&(d(z.id),q(null),Z(!1))},oe=()=>{q(null),Z(!1)},ue=me=>{I(me),W(""),ce(!0)},pe=async()=>{if(B)try{let me=B;o.find(nt=>nt.id===B.id)||qe&&(me=await qy(qe,B,e.id),s(me));const en=await Gv(qe,e.id,me,void 0,le),St=document.createElement("div");St.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",St.textContent=" Analisis berhasil di-share ke komunitas!",document.body.appendChild(St),setTimeout(()=>{St.classList.remove("translate-x-full")},100),setTimeout(()=>{St.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(St)},300)},3e3),ce(!1),I(null)}catch(me){console.error("Error sharing to community:",me);const Ce=document.createElement("div");Ce.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",Ce.textContent=" Gagal share ke komunitas: "+(me.message||me),document.body.appendChild(Ce),setTimeout(()=>{Ce.classList.remove("translate-x-full")},100),setTimeout(()=>{Ce.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(Ce)},300)},5e3)}},ye=()=>{ce(!1),I(null)},xe=o.filter(me=>me.mode===C);return M.useEffect(()=>{!V&&g&&n&&$()},[g,n,V]),M.useEffect(()=>{O(me=>({...me,currentEquity:u||0}))},[u]),f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:A,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Back to upload new image",children:f.jsx(aS,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"AI Trading Analysis"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:V?"Viewing historical analysis":"Upload a chart screenshot for AI-powered technical analysis"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f.jsx("strong",{children:"Mapping Timeframe:"})," ",f.jsx("br",{}),f.jsxs("span",{children:["1m/3m/5m/15m = ",f.jsx("b",{children:"Scalp"}),", 30m = ",f.jsx("b",{children:"Day"}),", 1h/2h/4h/12h = ",f.jsx("b",{children:"Swing"}),", 1d/1w/1M = ",f.jsx("b",{children:"Position"})]})]})]})]}),j&&f.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:j}),v?f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsx("div",{className:"flex-1",children:f.jsx(Yv,{analysis:v,riskParams:N,onBackToUploader:A})}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>F("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>F("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[D==="calculator"&&f.jsx(Vy,{params:N,timeframeSettings:S[C]}),D==="history"&&f.jsx(Ky,{history:xe,onSelect:ae,onDeleteRequest:de,onShareRequest:ue,currentAnalysisId:V?V.id:v?v.id:void 0,userId:e.id})]})]})})]}):f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-6",children:[f.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-3",children:"Trading Mode"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["scalp","day","swing","position"].map(me=>f.jsx("button",{onClick:()=>T(me),className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${C===me?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:me.charAt(0).toUpperCase()+me.slice(1)},me))}),f.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:S[C].text})})]}),f.jsx("div",{className:"flex-1",children:f.jsx(K4,{onImageSelect:X,isLoading:w,isTradingMode:!0,preview:g})}),r!=="valid"&&f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg",children:f.jsx("p",{className:"text-sm",children:"Please configure your API key in Settings to use AI analysis."})})]}),f.jsx("div",{className:"lg:w-96",children:f.jsxs("div",{className:"sticky top-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="calculator"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>F("calculator"),children:"Calculator"}),f.jsx("button",{className:`flex-1 px-3 py-2 rounded-t-lg font-medium text-sm transition-colors ${D==="history"?"bg-violet-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,onClick:()=>F("history"),children:"History"})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-b-lg border border-slate-200 dark:border-slate-700",children:[D==="calculator"&&f.jsx(Vy,{params:N,timeframeSettings:S[C]}),D==="history"&&f.jsx(Ky,{history:xe,onSelect:ae,onDeleteRequest:de,onShareRequest:ue,currentAnalysisId:V?V.id:v?v.id:void 0,userId:e.id})]})]})})]}),f.jsx(Vv,{isOpen:K,onClose:oe,onConfirm:P,title:"Hapus Analisa?",message:z?`Yakin ingin menghapus analisa trade ${((be=z.tradeSetup)==null?void 0:be.tradeType)||""} pada ${new Date(z.timestamp).toLocaleString()}?`:"",confirmText:"Hapus",cancelText:"Batal",isDestructive:!0}),re&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 w-full max-w-md relative",children:[f.jsx("button",{onClick:ye,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200",children:""}),f.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-800 dark:text-slate-100",children:"Share Analisa ke Komunitas?"}),f.jsx("p",{className:"mb-2 text-slate-600 dark:text-slate-300 text-sm",children:"Analisa ini akan dibagikan ke menu Community dan bisa dilihat user lain."}),f.jsx("textarea",{className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 mb-4",rows:3,placeholder:"Tuliskan deskripsi ini analisa pair apa",value:le,onChange:me=>W(me.target.value)}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:ye,className:"px-4 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600",children:"Batal"}),f.jsx("button",{onClick:pe,className:"px-4 py-2 rounded-lg bg-violet-600 text-white hover:bg-violet-700",children:"Share"})]})]})})]})},n5=({user:e,apiKey:n,apiStatus:r,onApiKeyUpdate:i})=>{const[s,o]=M.useState(""),[u,d]=M.useState(""),[h,m]=M.useState(""),[g,y]=M.useState(!1),[v,b]=M.useState(!1),[w,E]=M.useState(""),[j,k]=M.useState(""),[C,T]=M.useState(!1),[N,O]=M.useState(!1),[D,F]=M.useState(""),[V,ee]=M.useState(""),[z,q]=M.useState(!1),[K,Z]=M.useState(!1),[re,ce]=M.useState(n),[B,I]=M.useState(!1),[le,W]=M.useState(""),[S,X]=M.useState(!1);M.useEffect(()=>{ce(n)},[n]),M.useEffect(()=>{(async()=>{const oe=qe;if(!oe||!e)return;const ue=await $v(oe,e.id);ue&&(o(ue.nama||""),d(ue.describe||""),E(ue.initial_trade!==null&&ue.initial_trade!==void 0?String(ue.initial_trade):""))})()},[e]);const $=async()=>{b(!0),m(""),y(!1);try{await M4(qe,e.id,s,u),m("Profile updated successfully!")}catch{m("Failed to update profile."),y(!0)}finally{b(!1),setTimeout(()=>m(""),5e3)}},A=async()=>{O(!0),k(""),T(!1);try{await Iy(qe,e.id,Number(w)),k("Base capital updated successfully!")}catch{k("Failed to update base capital."),T(!0)}finally{O(!1),setTimeout(()=>k(""),5e3)}},ae=async()=>{Z(!0),ee(""),q(!1);try{const P=qe,oe=Number(w)-Number(D);if(oe<0)throw new Error("Insufficient funds.");await Iy(P,e.id,oe),E(String(oe)),ee("Withdrawal successful!")}catch{ee("Failed to withdraw funds."),q(!0)}finally{Z(!1),setTimeout(()=>ee(""),5e3)}},de=async()=>{if(I(!0),W(""),X(!1),!re.trim()){W("API Key cannot be empty."),X(!0),I(!1),setTimeout(()=>W(""),5e3);return}try{await i(re),W("API Key updated and verified successfully!"),X(!1)}catch(P){const oe=P instanceof Error?P.message:"Failed to save or verify API key.";W(oe),X(!0)}finally{I(!1),setTimeout(()=>W(""),5e3)}};return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),f.jsxs("main",{className:"space-y-8",children:[f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your profile information. This may be used in the future for leaderboards or community features."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),f.jsx("input",{id:"name",type:"text",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:s,onChange:P=>o(P.target.value),disabled:v})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),f.jsx("textarea",{id:"description",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:u,onChange:P=>d(P.target.value),disabled:v,rows:2})]}),f.jsx("button",{onClick:$,disabled:v,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:v?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),f.jsx("div",{className:"h-5 mt-2",children:h&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${g?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[g?f.jsx(Nr,{className:"w-4 h-4"}):f.jsx(Tl,{className:"w-4 h-4"}),h]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"GPT-4o API Key"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Masukkan API Key GPT-4o dari Sumo Pod untuk mengaktifkan analisis chart AI dan insight performa."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"GPT-4o API Key"}),f.jsx("div",{className:"mt-1",children:f.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:re,onChange:P=>ce(P.target.value),placeholder:"Enter your GPT-4o API key",disabled:B})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("button",{onClick:de,disabled:B,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:B?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),f.jsx("div",{className:"h-5 mt-2",children:le&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${S?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[S?f.jsx(Nr,{className:"w-4 h-4"}):f.jsx(Tl,{className:"w-4 h-4"}),le]})})]})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital. This value is the foundation for all performance calculations and withdrawals."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Base Capital ($)"}),f.jsx("input",{id:"initialCapital",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:w,onChange:P=>E(P.target.value),disabled:N,min:0})]}),f.jsx("button",{onClick:A,disabled:N,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:N?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),f.jsx("div",{className:"h-5 mt-2",children:j&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${C?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[C?f.jsx(Nr,{className:"w-4 h-4"}):f.jsx(Tl,{className:"w-4 h-4"}),j]})})]})]}),f.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),f.jsxs("div",{className:"space-y-4 max-w-xl",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"withdrawAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Withdraw Amount ($)"}),f.jsx("input",{id:"withdrawAmount",type:"number",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:D,onChange:P=>F(P.target.value),disabled:K,min:0})]}),f.jsx("button",{onClick:ae,disabled:K,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:K?f.jsx(oi,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),f.jsx("div",{className:"h-5 mt-2",children:V&&f.jsxs("div",{className:`flex items-center gap-2 text-sm ${z?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[z?f.jsx(Nr,{className:"w-4 h-4"}):f.jsx(Tl,{className:"w-4 h-4"}),V]})})]})]})]})]})},r5=e=>e?`https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@latest/svg/color/${e.toLowerCase()}.svg`:"",Fd="https://via.placeholder.com/32x32?text=?",a5=({userId:e,assets:n,onAssetAdded:r,onAssetUpdated:i,onAssetDeleted:s})=>{const[o,u]=M.useState(!1),[d,h]=M.useState(null),[m,g]=M.useState(!1),[y,v]=M.useState({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),[b,w]=M.useState(null),[E,j]=M.useState(null),[k,C]=M.useState(!1),T=()=>{v({symbol:"",name:"",amount:"",avgBuyPrice:0,currentPrice:0,category:"Crypto"}),u(!1),h(null)},N=q=>{const{name:K,value:Z}=q.target;if(K==="symbol")v(re=>({...re,symbol:Z.toUpperCase()}));else if(K==="amount"){const re=Z.replace(/[^0-9eE.-]/g,"");v(ce=>({...ce,amount:re}))}else v(re=>({...re,[K]:K==="avgBuyPrice"||K==="currentPrice"?parseFloat(Z)||0:Z}))},O=async q=>{if(q.preventDefault(),w(null),!qe){w("Database connection not available");return}const K=parseFloat(y.amount);if(isNaN(K)||K<0){w("Amount harus berupa angka valid dan lebih dari 0");return}g(!0);try{const Z=r5(y.symbol)||Fd;console.log("[DEBUG] Mulai handleSubmit",{formData:y,parsedAmount:K,logoUrl:Z,userId:e}),d?(console.log("[DEBUG] Sebelum updatePortfolioAsset"),await B4(qe,d.id,{amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice,logo_url:Z},e),console.log("[DEBUG] Setelah updatePortfolioAsset"),i()):(console.log("[DEBUG] Sebelum addPortfolioAsset",{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:Z,amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},e),await U4(qe,{symbol:y.symbol.toUpperCase(),name:y.name,logo_url:Z,amount:K,avg_buy_price:y.avgBuyPrice,current_price:y.currentPrice},e),console.log("[DEBUG] Setelah addPortfolioAsset"),r()),T()}catch(Z){console.error("[DEBUG] Error saving asset:",Z),w("Gagal menyimpan asset: "+((Z==null?void 0:Z.message)||Z))}finally{g(!1),console.log("[DEBUG] Selesai handleSubmit")}},D=q=>{h(q),v({symbol:q.symbol,name:q.name,amount:q.amount.toString(),avgBuyPrice:q.avgBuyPrice,currentPrice:q.currentPrice,category:q.category??""})},F=q=>{j(q),C(!0)},V=async()=>{if(!(!qe||!(E!=null&&E.id))){g(!0);try{await I4(qe,E.id,e),s(),C(!1),j(null)}catch(q){console.error("Error deleting asset:",q),alert("Error deleting asset. Please try again.")}finally{g(!1)}}},ee=()=>{C(!1),j(null)},z=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(q);return f.jsxs("div",{className:"space-y-6",children:[b&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:b}),f.jsx("button",{onClick:()=>w(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),!o&&!d&&f.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]}),(o||d)&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:d?"Edit Asset":"Add New Asset"}),f.jsxs("form",{onSubmit:O,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Symbol *"}),f.jsx("input",{type:"text",name:"symbol",value:y.symbol,onChange:N,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"BTC"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name *"}),f.jsx("input",{type:"text",name:"name",value:y.name,onChange:N,required:!0,disabled:!!d,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Bitcoin"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount *"}),f.jsx("input",{type:"text",name:"amount",value:y.amount,onChange:N,required:!0,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00000006"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Average Buy Price *"}),f.jsx("input",{type:"number",name:"avgBuyPrice",value:y.avgBuyPrice,onChange:N,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"45000.00"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Current Price *"}),f.jsx("input",{type:"number",name:"currentPrice",value:y.currentPrice,onChange:N,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"47000.00"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category *"}),f.jsxs("select",{id:"category",name:"category",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",value:y.category,onChange:q=>v({...y,category:q.target.value}),required:!0,children:[f.jsx("option",{value:"Crypto",children:"Crypto"}),f.jsx("option",{value:"Saham",children:"Saham"}),f.jsx("option",{value:"Gold",children:"Gold"}),f.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:m?"Saving...":d?"Update Asset":"Add Asset"}),f.jsx("button",{type:"button",onClick:T,disabled:m,className:"px-4 py-2 bg-slate-300 dark:bg-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-400 dark:hover:bg-slate-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]}),n.length>0&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:["Your Assets (",n.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg Buy Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Current Price"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"P&L"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(q=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:q.logoUrl||Fd,alt:q.name,className:"h-8 w-8 rounded-full mr-3",onError:K=>{K.currentTarget.src=Fd}}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:q.name}),f.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:q.symbol})]})]})}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:q.amount.toLocaleString()}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:z(q.avgBuyPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-900 dark:text-slate-100",children:z(q.currentPrice)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-slate-900 dark:text-slate-100",children:z(q.value??0)}),f.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:f.jsxs("span",{className:(q.totalPl??0)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400",children:[(q.totalPl??0)>=0?"+":"",z(q.totalPl??0)]})}),f.jsx("td",{className:"px-6 py-4 text-center",children:f.jsxs("div",{className:"flex justify-center gap-2",children:[f.jsx("button",{onClick:()=>D(q),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-300",title:"Edit",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("button",{onClick:()=>F(q),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",title:"Delete",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},q.id))})]})})]}),n.length===0&&!o&&!d&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"mx-auto h-12 w-12 text-slate-400",children:f.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-slate-900 dark:text-slate-100",children:"No assets"}),f.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Get started by adding your first asset to your portfolio."}),f.jsx("div",{className:"mt-6",children:f.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]}),f.jsx(Vv,{isOpen:k,onClose:ee,onConfirm:V,title:"Delete Asset",message:`Are you sure you want to delete ${E==null?void 0:E.name} (${E==null?void 0:E.symbol}) from your portfolio? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,isLoading:m})]})},Gd=({label:e,value:n,subvalue:r,valueColor:i})=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:e}),f.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:n}),r&&f.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:r})]}),i5=()=>f.jsxs("div",{className:"space-y-4 animate-pulse",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),l5=()=>f.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(fx,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),f.jsx("div",{className:"ml-3",children:f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[f.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),f.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),s5=({apiKey:e,apiStatus:n,portfolioData:r,updateTokenUsage:i,userId:s})=>{const[o,u]=M.useState(""),[d,h]=M.useState(!1),[m,g]=M.useState(""),[y,v]=M.useState(!1),[b,w]=M.useState(!1),[E,j]=M.useState(r),[k,C]=M.useState(!1),[T,N]=M.useState(null),O=(I,le=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:le,maximumFractionDigits:le}).format(I),D=M.useCallback(async()=>{if(!s){j(null),N("Anda harus login untuk melihat portfolio.");return}w(!0),N(null);try{const I=await q4(qe,s);j(I)}catch(I){console.error("Error fetching portfolio data:",I),j(null),N("Gagal mengambil data portfolio: "+((I==null?void 0:I.message)||I))}finally{w(!1)}},[s]),F=M.useCallback(async I=>{if(n!=="valid"){u("AI analysis tidak tersedia. Silakan set API key yang valid di pengaturan."),h(!1);return}h(!0);try{const{analysisText:le,usage:W}=await VS(e,E,I);u(le),i(W)}catch(le){console.error("Failed to get AI financial advice:",le);const W=le instanceof Error?le.message:String(le);let S="Terjadi kesalahan saat mengambil saran keuangan AI.";W.toLowerCase().includes("quota")||W.toLowerCase().includes("rate limit")?S="AI advisor tidak tersedia karena quota atau rate limit telah terlampaui. Silakan coba lagi nanti.":W.toLowerCase().includes("api key")||W.toLowerCase().includes("unauthorized")?S="API key tidak valid. Silakan periksa pengaturan API key Anda.":W.toLowerCase().includes("network")||W.toLowerCase().includes("fetch")?S="Gagal terhubung ke layanan AI. Periksa koneksi internet Anda.":W.toLowerCase().includes("invalid response")||W.toLowerCase().includes("format")?S="Format respons AI tidak valid. Silakan coba lagi.":W.toLowerCase().includes("portfolio data")?S="Data portfolio tidak tersedia. Silakan muat ulang halaman.":W.toLowerCase().includes("timeout")?S="Request timeout. Silakan coba lagi.":S=`Error: ${W}`,u(S)}finally{h(!1)}},[e,n,E,i]);M.useEffect(()=>{if(!s){j(null),N("Anda harus login untuk melihat portfolio.");return}D()},[D,s]),M.useEffect(()=>{E&&!y&&(F("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),v(!0))},[E,F,y]);const V=I=>{I.preventDefault(),m.trim()&&F(m)};if(!s)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Portfolio Login Required"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Anda harus login untuk mengakses fitur portfolio."})]});if(b)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Loading portfolio data..."})]});if(!E)return f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),f.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."}),f.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Retry"})]});const{totalValue:ee,totalPl:z,pl24h:q,pl24hPercent:K,assets:Z}=E,re=z>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",ce=q>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",B=q>=0?"+":"";return f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[T&&f.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[f.jsx("span",{className:"block sm:inline",children:T}),f.jsx("button",{onClick:()=>N(null),className:"absolute top-1 right-2 text-xl font-bold",children:""})]}),f.jsxs("header",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),f.jsxs("button",{onClick:()=>C(!k),className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),k?"Hide Manager":"Manage Assets"]})]}),k&&s&&f.jsx(a5,{userId:s,assets:Z,onAssetAdded:D,onAssetUpdated:D,onAssetDeleted:D}),f.jsx(l5,{}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(Gd,{label:"Total Portfolio Value",value:O(ee),subvalue:"Across all tracked assets"}),f.jsx(Gd,{label:"Total Profit / Loss",value:O(z),valueColor:re,subvalue:"Represents overall unrealized P/L"}),f.jsx(Gd,{label:"24-Hour Change",value:`${B}${O(q)}`,valueColor:ce,subvalue:`${B}${K.toFixed(2)}%`})]}),f.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 w-full",children:[f.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-x-auto",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),f.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),f.jsx("tbody",{children:Z.map(I=>f.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[f.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[f.jsx("img",{src:I.logoUrl,alt:I.name,className:"h-8 w-8"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:I.name}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.symbol})]})]}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:I.amount.toLocaleString()}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:O(I.currentPrice,2)})]}),f.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:O(I.avgBuyPrice,2)}),f.jsxs("td",{className:"px-4 py-4 text-right",children:[f.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:O(I.value??0)}),f.jsxs("p",{className:`text-xs font-semibold ${(I.totalPl??0)>=0?"text-emerald-500":"text-red-500"}`,children:[(I.totalPl??0)>=0?"+":"",O(I.totalPl??0)]})]})]},I.symbol))})]})})]}),f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"AI Financial Advisor"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ul,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Ask me about my portfolio...",value:m,onChange:I=>g(I.target.value),onKeyPress:I=>{I.key==="Enter"&&V(I)},className:"flex-1 bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400"}),f.jsx("button",{onClick:V,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700",children:f.jsx(Ul,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"})})]}),d?f.jsx(i5,{}):f.jsx("div",{className:"prose dark:prose-invert",children:f.jsx(If,{remarkPlugins:[Ff],children:o})})]})]})]})]})},o5=({user:e})=>{const[n,r]=M.useState([]),[i,s]=M.useState({total_analyses:0,total_comments:0,total_likes:0,unread_count:0}),[o,u]=M.useState(!0),[d,h]=M.useState(null),[m,g]=M.useState([]),[y,v]=M.useState(""),[b,w]=M.useState({}),[E,j]=M.useState(!1),[k,C]=M.useState(""),[T,N]=M.useState(""),[O,D]=M.useState(null),[F,V]=M.useState(null),[ee,z]=M.useState({}),[q,K]=M.useState(null),[Z,re]=M.useState(0),[ce,B]=M.useState(!1),I={accountBalance:"1000",riskPerTrade:"1",stopLoss:"0.5",leverage:"10",riskRewardRatio:"2",entryPrice:"0",currentEquity:1e3};M.useEffect(()=>{e&&(le(),Y4(qe,e.id))},[e]),M.useEffect(()=>{if(!e||d||E)return;const P=setInterval(async()=>{try{const[oe,ue]=await Promise.all([Hy(qe,20,0),Gy(qe,e.id)]);if(r(oe),s(ue),oe.length>Z&&Z>0){B(!0);const be=document.createElement("div");be.className="fixed top-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 text-sm transform transition-all duration-300 translate-x-full",be.textContent=` ${oe.length-Z} new analysis(es) available`,document.body.appendChild(be),setTimeout(()=>be.classList.remove("translate-x-full"),100),setTimeout(()=>{be.classList.add("translate-x-full"),setTimeout(()=>document.body.removeChild(be),300)},3e3)}re(oe.length);const pe=oe.map(be=>Fy(qe,be.id,e.id)),ye=await Promise.all(pe),xe={};oe.forEach((be,me)=>{xe[be.id]=ye[me]}),w(xe)}catch(oe){console.warn("Background refresh failed:",oe)}},3e4);return()=>clearInterval(P)},[e,d,E]);const le=async()=>{u(!0);try{const[P,oe]=await Promise.all([Hy(qe,20,0),Gy(qe,e.id)]);r(P),s(oe),re(P.length);const ue=P.map(xe=>Fy(qe,xe.id,e.id)),pe=await Promise.all(ue),ye={};P.forEach((xe,be)=>{ye[xe.id]=pe[be]}),w(ye)}catch(P){console.error("Error loading community data:",P)}finally{u(!1)}},W=async P=>{h(P);try{const oe=await $y(qe,P.id);g(oe)}catch(oe){console.error("Error loading comments:",oe)}},S=async(P,oe)=>{if(e)try{await G4(qe,P,oe,e.id);const ue=b[P],pe=ue===oe?null:oe;w(ye=>({...ye,[P]:pe})),r(ye=>ye.map(xe=>{if(xe.id===P){let be=xe.likes_count,me=xe.dislikes_count;return ue==="like"&&be--,ue==="dislike"&&me--,pe==="like"&&be++,pe==="dislike"&&me++,{...xe,likes_count:be,dislikes_count:me}}return xe}))}catch(ue){console.error("Error toggling like:",ue)}},X=async()=>{if(!(!e||!O||!k.trim()))try{await Gv(qe,e.id,O,k,T),j(!1),C(""),N(""),D(null),await le();const P=document.createElement("div");P.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",P.textContent=" Analisis berhasil di-share ke komunitas!",document.body.appendChild(P),setTimeout(()=>{P.classList.remove("translate-x-full")},100),setTimeout(()=>{P.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(P)},300)},3e3)}catch(P){console.error("Error sharing analysis:",P);const oe=document.createElement("div");oe.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full",oe.textContent=" Gagal share ke komunitas: "+(P instanceof Error?P.message:"Unknown error"),document.body.appendChild(oe),setTimeout(()=>{oe.classList.remove("translate-x-full")},100),setTimeout(()=>{oe.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(oe)},300)},5e3)}},$=async()=>{u(!0);try{await le()}finally{u(!1)}},A=async P=>{if(F===P){V(null);return}if(V(P),!ee[P]){K(P);const oe=await $y(qe,P);z(ue=>({...ue,[P]:oe})),K(null)}},ae=()=>{B(!1),h(null)},de=P=>new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4 w-full",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Community"}),f.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Share insights and learn from fellow traders"})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[ce&&f.jsx("button",{onClick:ae,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors animate-pulse",children:" Show New"}),f.jsx("button",{onClick:$,disabled:o,className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Refreshing...":"Refresh"}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_analyses}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Analyses"})]}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_comments}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Comments"})]}),f.jsxs("div",{className:"flex flex-row sm:flex-col items-center gap-1",children:[f.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:i.total_likes}),f.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Likes"})]})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 min-h-[500px] flex flex-col",children:e?d?d.trade_analysis?(()=>{const P=d.trade_analysis||{},oe=P.tradeSetup||P.trade_setup||{},ue={...P,tradeSetup:{tradeType:oe.tradeType||oe.trade_type||"",entryPrice:oe.entryPrice??oe.entry_price??0,stopLoss:oe.stopLoss??oe.stop_loss??0,takeProfit:oe.takeProfit??oe.take_profit??0,rrr:oe.rrr??0},marketTrend:P.marketTrend||P.market_trend||"",keyPattern:P.keyPattern||P.key_pattern||"",indicatorAnalysis:P.indicatorAnalysis||P.indicator_analysis||"",tradeBias:P.tradeBias||P.trade_bias||"",confidenceScore:P.confidenceScore??P.confidence_score??0,rationale:Array.isArray(P.rationale)?P.rationale.join(`
`):P.rationale||"",status:P.status||"pending",id:P.id||d.analysis_id||d.id||"",timestamp:P.timestamp||P.created_at||"",image:P.image||"",mode:P.mode||""};return f.jsxs(f.Fragment,{children:[f.jsx("h3",{className:"text-xl font-bold text-violet-700 dark:text-violet-300 mb-4",children:d.title||"Tanpa Judul"}),f.jsx(Yv,{analysis:ue,riskParams:I})]})})():f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-400 dark:text-red-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Data analisis tidak ditemukan."})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Select an analysis to view details"})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 dark:text-gray-500",children:[f.jsx("span",{className:"text-5xl mb-4",children:""}),f.jsx("span",{children:"Silakan login untuk melihat detail analisis komunitas."})]})})}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Analisis Terbaru"}),f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Klik untuk melihat detail"})]}),f.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.length===0?f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:f.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Belum ada analisis"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Jadilah yang pertama membagikan analisis trading ke komunitas!"})]}):n.map(P=>{var oe,ue;return f.jsxs("div",{onClick:()=>W(P),className:`bg-white dark:bg-gray-800 rounded-xl shadow p-4 flex flex-col gap-2 border transition-all duration-200 cursor-pointer hover:shadow-md ${(d==null?void 0:d.id)===P.id?"border-violet-500 dark:border-violet-400 bg-violet-50 dark:bg-violet-900/20 shadow-violet-200 dark:shadow-violet-900/30":"border-gray-200 dark:border-gray-700 hover:border-violet-300 dark:hover:border-violet-600"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-blue-400 flex items-center justify-center text-white font-bold text-lg shadow",children:((oe=P.user_email)==null?void 0:oe.charAt(0).toUpperCase())||"U"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white truncate",children:P.title||"Tanpa Judul"})}),f.jsx("p",{className:`text-xs ${P.description?"text-gray-600 dark:text-gray-300":"text-gray-400 italic"} mb-1`,children:P.description||"(Tidak ada deskripsi)"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[f.jsxs("span",{children:["by ",f.jsx("span",{className:"font-medium text-violet-600 dark:text-violet-400",children:P.user_email||"Anonymous"})]}),f.jsx("span",{children:de(P.created_at)}),f.jsxs("span",{children:[" ",P.comments_count??0]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("button",{onClick:pe=>{pe.stopPropagation(),S(P.id,"like")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${b[P.id]==="like"?"bg-blue-100 text-blue-600 dark:bg-blue-900/60":"text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30"}`,title:"Like",children:[" ",P.likes_count??0]}),f.jsxs("button",{onClick:pe=>{pe.stopPropagation(),S(P.id,"dislike")},className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold transition-colors ${b[P.id]==="dislike"?"bg-red-100 text-red-600 dark:bg-red-900/60":"text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:"Dislike",children:[" ",P.dislikes_count??0]}),f.jsxs("button",{onClick:pe=>{pe.stopPropagation(),A(P.id)},className:"flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold text-violet-600 hover:bg-violet-50 dark:hover:bg-violet-900/30",children:[" ",F===P.id?"Hide":"Show"," Comments"]})]}),F===P.id&&f.jsxs("div",{className:"mt-2 bg-gray-50 dark:bg-gray-800 rounded p-2 w-full border border-gray-200 dark:border-gray-700",children:[f.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2 mb-2",children:q===P.id?f.jsx("div",{className:"text-gray-400 italic",children:"Loading..."}):(ue=ee[P.id])!=null&&ue.length?ee[P.id].map(pe=>f.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 py-1 text-xs",children:[f.jsx("div",{children:pe.content}),f.jsx("div",{className:"text-gray-400",children:pe.user_email||"Anonymous"})]},pe.id)):f.jsx("div",{className:"text-gray-400 italic",children:"No comments yet."})}),e&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:y,onChange:pe=>v(pe.target.value),placeholder:"Add a comment...",className:"flex-1 px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-xs"}),f.jsx("button",{onClick:async()=>{if(!y.trim())return;const pe=await F4(qe,P.id,y,e.id);z(ye=>({...ye,[P.id]:[...ye[P.id]||[],pe]})),r(ye=>ye.map(xe=>xe.id===P.id?{...xe,comments_count:(xe.comments_count??0)+1}:xe)),v("")},disabled:!y.trim(),className:"px-3 py-1 bg-violet-600 text-white rounded hover:bg-violet-700 text-xs",children:"Post"})]})]})]},P.id)})})]})})]})}),E&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Share Analysis"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),f.jsx("input",{type:"text",value:k,onChange:P=>C(P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter a title for your analysis..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description (optional)"}),f.jsx("textarea",{value:T,onChange:P=>N(P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Add a description..."})]})]}),f.jsxs("div",{className:"flex space-x-3 mt-6",children:[f.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{onClick:X,disabled:!k.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Share"})]})]})})]})},u5=()=>{const[e,n]=M.useState([]),[r,i]=M.useState(!0);M.useEffect(()=>{setTimeout(()=>{n([{id:1,time:"2024-01-15T14:30:00Z",currency:"USD",flag:"",importance:3,event:"Federal Reserve Interest Rate Decision",actual:"5.50%",forecast:"5.50%",previous:"5.50%",betterThanForecast:!1},{id:2,time:"2024-01-15T13:00:00Z",currency:"EUR",flag:"",importance:2,event:"ECB President Lagarde Speech",actual:void 0,forecast:void 0,previous:void 0,betterThanForecast:void 0},{id:3,time:"2024-01-15T12:30:00Z",currency:"GBP",flag:"",importance:1,event:"UK CPI (YoY)",actual:"3.9%",forecast:"4.0%",previous:"4.2%",betterThanForecast:!0}]),i(!1)},1e3)},[]);const s=u=>{switch(u){case 3:return"bg-red-500";case 2:return"bg-yellow-500";case 1:return"bg-green-500";default:return"bg-gray-500"}},o=u=>new Date(u).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return r?f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsx("div",{className:"flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600"})})]}):f.jsxs("div",{className:"flex-1 flex flex-col gap-6 pt-8 md:pt-12 px-4 md:px-8 pb-8 w-full",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Track important economic events and their market impact."})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kk,{className:"w-5 h-5 text-violet-600"}),f.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Today's Events"})]})}),f.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(u=>f.jsx("div",{className:"p-6 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:u.flag}),f.jsx("div",{className:`w-3 h-3 rounded-full ${s(u.importance)}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:u.event}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[u.currency,"  ",o(u.time)]})]})]}),u.actual&&f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Actual:"}),f.jsx("span",{className:`font-semibold ${u.betterThanForecast===!0?"text-green-600 dark:text-green-400":u.betterThanForecast===!1?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-100"}`,children:u.actual})]}),u.forecast&&f.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["Forecast: ",u.forecast]})]})]})},u.id))})]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[f.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Legend"}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"High Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Medium Impact"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),f.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Low Impact"})]})]})]})]})},c5=({user:e,sidebarOpen:n,setSidebarOpen:r})=>{var u,d;const i=Jn(),s=[{name:"Dashboard",href:"/dashboard",icon:cx},{name:"Trading Analysis",href:"/trading",icon:Ul},{name:"Portfolio",href:"/portfolio",icon:Yk},{name:"Community",href:"/community",icon:Kd},{name:"Economic Calendar",href:"/economic-calendar",icon:Qk},{name:"Settings",href:"/settings",icon:dx}],o=h=>i.pathname===h;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 z-40 bg-black bg-opacity-40 transition-opacity duration-300 ${n?"block":"hidden"}`,onClick:()=>r(!1)}),f.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transform transition-transform duration-300 ${n?"translate-x-0":"-translate-x-full"} lg:hidden`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs(si,{to:"/",className:"flex items-center",onClick:()=>r(!1),children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]}),f.jsx("button",{onClick:()=>r(!1),className:"text-slate-500 dark:text-slate-300 hover:text-violet-600 p-2 ml-2",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(h=>{const m=h.icon;return f.jsxs(si,{to:h.href,onClick:()=>r(!1),className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(h.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(m,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(h.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),h.name]},h.name)})}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((u=e.email)==null?void 0:u.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]}),f.jsxs("div",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:z-50 lg:bg-white lg:border-r lg:border-slate-200 dark:lg:bg-slate-900 dark:lg:border-slate-700",children:[f.jsxs("div",{className:"flex flex-col flex-grow pt-5 pb-4 overflow-y-auto",children:[f.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:f.jsxs(si,{to:"/",className:"flex items-center",children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-violet-600 text-white font-bold text-lg",children:"F"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"})]})}),f.jsx("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:s.map(h=>{const m=h.icon;return f.jsxs(si,{to:h.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${o(h.href)?"bg-violet-100 text-violet-900 dark:bg-violet-900/50 dark:text-violet-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-slate-100"}`,children:[f.jsx(m,{className:`mr-3 flex-shrink-0 h-6 w-6 ${o(h.href)?"text-violet-500 dark:text-violet-400":"text-slate-400 group-hover:text-slate-500 dark:text-slate-500 dark:group-hover:text-slate-400"}`}),h.name]},h.name)})})]}),e&&f.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-200 dark:border-slate-700 p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-600 text-white flex items-center justify-center text-sm font-medium",children:((d=e.email)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:e.email}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Trader"})]})]})})]})]})},Qy=({user:e,onNavigate:n,onLogoutClick:r})=>{const[i,s]=M.useState(!1),o=M.useRef(null);return M.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e?f.jsxs("div",{className:"relative",ref:o,children:[f.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[f.jsx(Vk,{className:"h-6 w-6"}),f.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:f.jsxs("div",{className:"py-1",role:"none",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:e.email})]}),f.jsxs("button",{onClick:()=>{n("settings"),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(dx,{className:"w-5 h-5"}),f.jsx("span",{children:"Profile & Settings"})]}),f.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[f.jsx(eS,{className:"w-5 h-5"}),f.jsx("span",{children:"Logout"})]})]})})]}):null},d5=({onNavigate:e,user:n,onLoginClick:r,onLogoutClick:i,onMobileMenuToggle:s,showUserIcon:o,activeMode:u})=>f.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:f.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[s&&f.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:f.jsx(rS,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2",children:[f.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),f.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),f.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[u!=="dashboard"&&f.jsx("button",{onClick:()=>e("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),n?f.jsx(f.Fragment,{children:o&&f.jsx(Qy,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),f.jsx("div",{className:"lg:hidden flex items-center gap-2",children:n?f.jsx(f.Fragment,{children:o&&f.jsx(Qy,{user:n,onLogoutClick:i,onNavigate:e})}):f.jsx("button",{onClick:r,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})});function f5(){const[e,n]=M.useState(null),[r,i]=M.useState(null),[s,o]=M.useState(!1),[u,d]=M.useState(!0),[h,m]=M.useState([]),[g,y]=M.useState(0),[v,b]=M.useState(""),[w,E]=M.useState("idle"),[j,k]=M.useState({prompt:0,completion:0,total:0}),[C,T]=M.useState("all"),[N,O]=M.useState(!1),D=xf(),F=W=>{if(W==="home")D("/");else if(W==="dashboard"){if(!r){o(!0);return}D("/dashboard")}else W==="portfolio"?D("/portfolio"):W==="community"?D("/community"):W==="settings"?D("/settings"):W==="economic-calendar"?D("/economic-calendar"):W==="trading"&&D("/trading")};M.useEffect(()=>{const W=qe;if(n(W),W){(async()=>{try{const{data:{session:$}}=await W.auth.getSession();i(($==null?void 0:$.user)??null)}catch($){console.error("Error getting initial session:",$)}finally{d(!1)}})();const X=O4(W,async $=>{i(($==null?void 0:$.user)??null),$!=null&&$.user||o(!1)});return()=>X==null?void 0:X.unsubscribe()}},[]),M.useEffect(()=>{r&&e?(D4(e,r.id).then(W=>{const S=(W||[]).filter(X=>X&&X.id&&X.tradeSetup&&X.marketTrend&&X.keyPattern&&X.indicatorAnalysis&&X.tradeBias&&typeof X.confidenceScore=="number");m(S)}),$v(e,r.id).then(W=>{y((W==null?void 0:W.initial_trade)||0)}),H4(e).then(W=>{W!=null&&W.gemini_api_key&&(b(W.gemini_api_key),E("valid"))})):(m([]),y(0))},[r,e]);const V=()=>{o(!0)},ee=()=>{o(!1)},z=W=>{k(W)},q=async W=>{if(e&&r)try{await $4(e,W),b(W),E("valid")}catch(S){console.error("Error updating API key:",S),E("invalid")}},K=async W=>{try{await P4(W),m(S=>S.filter(X=>X.id!==W))}catch(S){alert("Gagal menghapus trade: "+(S.message||S))}},re=h.filter(W=>C==="all"?!0:W.mode===C).filter(W=>W.status!=="pending").reduce((W,S)=>S.status==="profit"?W+(S.outcomeAmount||0):S.status==="stop-loss"?W-(S.outcomeAmount||0):W,0),ce=(g??0)+re,B=()=>{R4(e),i(null),b(""),E("idle"),k({prompt:0,completion:0,total:0}),T("all"),D("/")},I=!!r,le=C;return u?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mx-auto"}),f.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Loading..."})]})}):(console.log("App user",r,"allTrades",h,"initialCapital",g),f.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[f.jsx(d5,{onNavigate:F,user:r,onLoginClick:V,onLogoutClick:B,onMobileMenuToggle:()=>O(!0),showUserIcon:I,activeMode:le}),r&&f.jsx(c5,{user:r,sidebarOpen:N,setSidebarOpen:O}),f.jsx("div",{className:r?"lg:pl-64":"",children:f.jsxs(uk,{children:[f.jsx(_r,{path:"/",element:r?f.jsx(Jr,{to:"/dashboard",replace:!0}):f.jsx(EN,{user:r,onLoginClick:V})}),f.jsx(_r,{path:"/dashboard",element:r?f.jsx(wN,{user:r,allTrades:h,initialCapital:g,apiKey:v,apiStatus:w,updateTokenUsage:z,mode:C,setDashboardSource:T}):f.jsx(Jr,{to:"/",replace:!0})}),f.jsx(_r,{path:"/trading",element:r?f.jsx(t5,{user:r,apiKey:v,apiStatus:w,updateTokenUsage:z,onTradeAdded:W=>m(S=>[W,...S]),onTradeDeleted:K,tradeHistory:h,currentEquity:ce}):f.jsx(Jr,{to:"/",replace:!0})}),f.jsx(_r,{path:"/settings",element:r?f.jsx(n5,{user:r,apiKey:v,apiStatus:w,onApiKeyUpdate:q}):f.jsx(Jr,{to:"/",replace:!0})}),f.jsx(_r,{path:"/portfolio",element:r?f.jsx(s5,{user:r,apiKey:v,apiStatus:w,updateTokenUsage:z,portfolioData:null,userId:r.id}):f.jsx(Jr,{to:"/",replace:!0})}),f.jsx(_r,{path:"/community",element:r?f.jsx(o5,{user:r}):f.jsx(Jr,{to:"/",replace:!0})}),f.jsx(_r,{path:"/economic-calendar",element:r?f.jsx(u5,{}):f.jsx(Jr,{to:"/",replace:!0})})]})}),e&&f.jsx(V4,{supabaseClient:e,open:s,onClose:ee})]}))}const Kv=document.getElementById("root");if(!Kv)throw new Error("Could not find root element to mount to");const h5=xw.createRoot(Kv);h5.render(f.jsx(na.StrictMode,{children:f.jsx(Dk,{basename:"/fomo",children:f.jsx(f5,{})})}));
//# sourceMappingURL=index-Do1gKy-v.js.map
