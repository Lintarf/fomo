(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Vl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),n}var ef={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function iw(){if(Ug)return Sl;Ug=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,s){var u=null;if(s!==void 0&&(u=""+s),l.key!==void 0&&(u=""+l.key),"key"in l){s={};for(var h in l)h!=="key"&&(s[h]=l[h])}else s=l;return l=s.ref,{$$typeof:t,type:i,key:u,ref:l!==void 0?l:null,props:s}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var Bg;function rw(){return Bg||(Bg=1,ef.exports=iw()),ef.exports}var x=rw(),tf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function ow(){if(Og)return Me;Og=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function R(C,$,ie){this.props=C,this.context=$,this.refs=E,this.updater=ie||S}R.prototype.isReactComponent={},R.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},R.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=R.prototype;function L(C,$,ie){this.props=C,this.context=$,this.refs=E,this.updater=ie||S}var M=L.prototype=new N;M.constructor=L,_(M,R.prototype),M.isPureReactComponent=!0;var q=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function J(C,$,ie,A,de,Te){return ie=Te.ref,{$$typeof:t,type:C,key:$,ref:ie!==void 0?ie:null,props:Te}}function ne(C,$){return J(C.type,$,void 0,void 0,void 0,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function U(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ie){return $[ie]})}var te=/\/+/g;function ee(C,$){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):$.toString(36)}function ae(){}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ae,ae):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,$,ie,A,de){var Te=typeof C;(Te==="undefined"||Te==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(Te){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case t:case e:fe=!0;break;case g:return fe=C._init,oe(fe(C._payload),$,ie,A,de)}}if(fe)return de=de(C),fe=A===""?"."+ee(C,0):A,q(de)?(ie="",fe!=null&&(ie=fe.replace(te,"$&/")+"/"),oe(de,$,ie,"",function(st){return st})):de!=null&&(Z(de)&&(de=ne(de,ie+(de.key==null||C&&C.key===de.key?"":(""+de.key).replace(te,"$&/")+"/")+fe)),$.push(de)),1;fe=0;var Fe=A===""?".":A+":";if(q(C))for(var Ce=0;Ce<C.length;Ce++)A=C[Ce],Te=Fe+ee(A,Ce),fe+=oe(A,$,ie,Te,de);else if(Ce=T(C),typeof Ce=="function")for(C=Ce.call(C),Ce=0;!(A=C.next()).done;)A=A.value,Te=Fe+ee(A,Ce++),fe+=oe(A,$,ie,Te,de);else if(Te==="object"){if(typeof C.then=="function")return oe(le(C),$,ie,A,de);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return fe}function V(C,$,ie){if(C==null)return C;var A=[],de=0;return oe(C,A,"","",function(Te){return $.call(ie,Te,de++)}),A}function j(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(ie){(C._status===0||C._status===-1)&&(C._status=1,C._result=ie)},function(ie){(C._status===0||C._status===-1)&&(C._status=2,C._result=ie)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function _e(){}return Me.Children={map:V,forEach:function(C,$,ie){V(C,function(){$.apply(this,arguments)},ie)},count:function(C){var $=0;return V(C,function(){$++}),$},toArray:function(C){return V(C,function($){return $})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Me.Component=R,Me.Fragment=n,Me.Profiler=l,Me.PureComponent=L,Me.StrictMode=i,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Me.__COMPILER_RUNTIME={__proto__:null,c:function(C){return O.H.useMemoCache(C)}},Me.cache=function(C){return function(){return C.apply(null,arguments)}},Me.cloneElement=function(C,$,ie){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var A=_({},C.props),de=C.key,Te=void 0;if($!=null)for(fe in $.ref!==void 0&&(Te=void 0),$.key!==void 0&&(de=""+$.key),$)!I.call($,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&$.ref===void 0||(A[fe]=$[fe]);var fe=arguments.length-2;if(fe===1)A.children=ie;else if(1<fe){for(var Fe=Array(fe),Ce=0;Ce<fe;Ce++)Fe[Ce]=arguments[Ce+2];A.children=Fe}return J(C.type,de,void 0,void 0,Te,A)},Me.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:s,_context:C},C},Me.createElement=function(C,$,ie){var A,de={},Te=null;if($!=null)for(A in $.key!==void 0&&(Te=""+$.key),$)I.call($,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(de[A]=$[A]);var fe=arguments.length-2;if(fe===1)de.children=ie;else if(1<fe){for(var Fe=Array(fe),Ce=0;Ce<fe;Ce++)Fe[Ce]=arguments[Ce+2];de.children=Fe}if(C&&C.defaultProps)for(A in fe=C.defaultProps,fe)de[A]===void 0&&(de[A]=fe[A]);return J(C,Te,void 0,void 0,null,de)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(C){return{$$typeof:h,render:C}},Me.isValidElement=Z,Me.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:j}},Me.memo=function(C,$){return{$$typeof:m,type:C,compare:$===void 0?null:$}},Me.startTransition=function(C){var $=O.T,ie={};O.T=ie;try{var A=C(),de=O.S;de!==null&&de(ie,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(_e,ce)}catch(Te){ce(Te)}finally{O.T=$}},Me.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Me.use=function(C){return O.H.use(C)},Me.useActionState=function(C,$,ie){return O.H.useActionState(C,$,ie)},Me.useCallback=function(C,$){return O.H.useCallback(C,$)},Me.useContext=function(C){return O.H.useContext(C)},Me.useDebugValue=function(){},Me.useDeferredValue=function(C,$){return O.H.useDeferredValue(C,$)},Me.useEffect=function(C,$,ie){var A=O.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(C,$)},Me.useId=function(){return O.H.useId()},Me.useImperativeHandle=function(C,$,ie){return O.H.useImperativeHandle(C,$,ie)},Me.useInsertionEffect=function(C,$){return O.H.useInsertionEffect(C,$)},Me.useLayoutEffect=function(C,$){return O.H.useLayoutEffect(C,$)},Me.useMemo=function(C,$){return O.H.useMemo(C,$)},Me.useOptimistic=function(C,$){return O.H.useOptimistic(C,$)},Me.useReducer=function(C,$,ie){return O.H.useReducer(C,$,ie)},Me.useRef=function(C){return O.H.useRef(C)},Me.useState=function(C){return O.H.useState(C)},Me.useSyncExternalStore=function(C,$,ie){return O.H.useSyncExternalStore(C,$,ie)},Me.useTransition=function(){return O.H.useTransition()},Me.version="19.1.0",Me}var zg;function fd(){return zg||(zg=1,tf.exports=ow()),tf.exports}var W=fd();const dd=Vl(W);var nf={exports:{}},wl={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function lw(){return qg||(qg=1,function(t){function e(V,j){var ce=V.length;V.push(j);e:for(;0<ce;){var _e=ce-1>>>1,C=V[_e];if(0<l(C,j))V[_e]=j,V[ce]=C,ce=_e;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var j=V[0],ce=V.pop();if(ce!==j){V[0]=ce;e:for(var _e=0,C=V.length,$=C>>>1;_e<$;){var ie=2*(_e+1)-1,A=V[ie],de=ie+1,Te=V[de];if(0>l(A,ce))de<C&&0>l(Te,A)?(V[_e]=Te,V[de]=ce,_e=de):(V[_e]=A,V[ie]=ce,_e=ie);else if(de<C&&0>l(Te,ce))V[_e]=Te,V[de]=ce,_e=de;else break e}}return j}function l(V,j){var ce=V.sortIndex-j.sortIndex;return ce!==0?ce:V.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],m=[],g=1,v=null,T=3,S=!1,_=!1,E=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function q(V){for(var j=n(m);j!==null;){if(j.callback===null)i(m);else if(j.startTime<=V)i(m),j.sortIndex=j.expirationTime,e(p,j);else break;j=n(m)}}function O(V){if(E=!1,q(V),!_)if(n(p)!==null)_=!0,I||(I=!0,ee());else{var j=n(m);j!==null&&oe(O,j.startTime-V)}}var I=!1,J=-1,ne=5,Z=-1;function U(){return R?!0:!(t.unstable_now()-Z<ne)}function te(){if(R=!1,I){var V=t.unstable_now();Z=V;var j=!0;try{e:{_=!1,E&&(E=!1,L(J),J=-1),S=!0;var ce=T;try{t:{for(q(V),v=n(p);v!==null&&!(v.expirationTime>V&&U());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,T=v.priorityLevel;var C=_e(v.expirationTime<=V);if(V=t.unstable_now(),typeof C=="function"){v.callback=C,q(V),j=!0;break t}v===n(p)&&i(p),q(V)}else i(p);v=n(p)}if(v!==null)j=!0;else{var $=n(m);$!==null&&oe(O,$.startTime-V),j=!1}}break e}finally{v=null,T=ce,S=!1}j=void 0}}finally{j?ee():I=!1}}}var ee;if(typeof M=="function")ee=function(){M(te)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,le=ae.port2;ae.port1.onmessage=te,ee=function(){le.postMessage(null)}}else ee=function(){N(te,0)};function oe(V,j){J=N(function(){V(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(V){switch(T){case 1:case 2:case 3:var j=3;break;default:j=T}var ce=T;T=j;try{return V()}finally{T=ce}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(V,j){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=T;T=V;try{return j()}finally{T=ce}},t.unstable_scheduleCallback=function(V,j,ce){var _e=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?_e+ce:_e):ce=_e,V){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ce+C,V={id:g++,callback:j,priorityLevel:V,startTime:ce,expirationTime:C,sortIndex:-1},ce>_e?(V.sortIndex=ce,e(m,V),n(p)===null&&V===n(m)&&(E?(L(J),J=-1):E=!0,oe(O,ce-_e))):(V.sortIndex=C,e(p,V),_||S||(_=!0,I||(I=!0,ee()))),V},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(V){var j=T;return function(){var ce=T;T=j;try{return V.apply(this,arguments)}finally{T=ce}}}}(of)),of}var Fg;function sw(){return Fg||(Fg=1,rf.exports=lw()),rf.exports}var lf={exports:{}},Nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function aw(){if(Vg)return Nt;Vg=1;var t=fd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(p,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nt.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(p,m,null,g)},Nt.flushSync=function(p){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=g,i.d.f()}},Nt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Nt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Nt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):g==="script"&&i.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Nt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Nt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);i.d.L(p,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Nt.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Nt.requestFormReset=function(p){i.d.r(p)},Nt.unstable_batchedUpdates=function(p,m){return p(m)},Nt.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},Nt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nt.version="19.1.0",Nt}var Gg;function uw(){if(Gg)return lf.exports;Gg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lf.exports=aw(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function cw(){if(Hg)return wl;Hg=1;var t=sw(),e=fd(),n=uw();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function u(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(s(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=s(r),o===null)throw Error(i(188));return o!==r?null:r}for(var a=r,d=o;;){var y=a.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){a=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===a)return h(y),r;if(b===d)return h(y),o;b=b.sibling}throw Error(i(188))}if(a.return!==d.return)a=y,d=b;else{for(var w=!1,k=y.child;k;){if(k===a){w=!0,a=y,d=b;break}if(k===d){w=!0,d=y,a=b;break}k=k.sibling}if(!w){for(k=b.child;k;){if(k===a){w=!0,a=b,d=y;break}if(k===d){w=!0,d=b,a=y;break}k=k.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case M:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case J:return o=r.displayName||null,o!==null?o:le(r.type)||"Memo";case ne:o=r._payload,r=r._init;try{return le(r(o))}catch{}}return null}var oe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},_e=[],C=-1;function $(r){return{current:r}}function ie(r){0>C||(r.current=_e[C],_e[C]=null,C--)}function A(r,o){C++,_e[C]=r.current,r.current=o}var de=$(null),Te=$(null),fe=$(null),Fe=$(null);function Ce(r,o){switch(A(fe,o),A(Te,r),A(de,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?cg(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=cg(o),r=fg(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(de),A(de,r)}function st(){ie(de),ie(Te),ie(fe)}function Ct(r){r.memoizedState!==null&&A(Fe,r);var o=de.current,a=fg(o,r.type);o!==a&&(A(Te,r),A(de,a))}function Lt(r){Te.current===r&&(ie(de),ie(Te)),Fe.current===r&&(ie(Fe),yl._currentValue=ce)}var Ae=Object.prototype.hasOwnProperty,pt=t.unstable_scheduleCallback,Jt=t.unstable_cancelCallback,Dn=t.unstable_shouldYield,ur=t.unstable_requestPaint,Ut=t.unstable_now,Co=t.unstable_getCurrentPriorityLevel,Pi=t.unstable_ImmediatePriority,Li=t.unstable_UserBlockingPriority,yn=t.unstable_NormalPriority,Ui=t.unstable_LowPriority,cr=t.unstable_IdlePriority,_o=t.log,ko=t.unstable_setDisableYieldValue,Y=null,re=null;function ge(r){if(typeof _o=="function"&&ko(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Y,r)}catch{}}var ve=Math.clz32?Math.clz32:xe,Ve=Math.log,ue=Math.LN2;function xe(r){return r>>>=0,r===0?32:31-(Ve(r)/ue|0)|0}var ke=256,ze=4194304;function He(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ct(r,o,a){var d=r.pendingLanes;if(d===0)return 0;var y=0,b=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~b,d!==0?y=He(d):(w&=k,w!==0?y=He(w):a||(a=k&~r,a!==0&&(y=He(a))))):(k=d&~b,k!==0?y=He(k):w!==0?y=He(w):a||(a=d&~r,a!==0&&(y=He(a)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,a=o&-o,b>=a||b===32&&(a&4194048)!==0)?o:y}function Bt(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Kt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yd(){var r=ke;return ke<<=1,(ke&4194048)===0&&(ke=256),r}function Jd(){var r=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),r}function Ga(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function Eo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hb(r,o,a,d,y,b){var w=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var k=r.entanglements,D=r.expirationTimes,F=r.hiddenUpdates;for(a=w&~a;0<a;){var K=31-ve(a),Q=1<<K;k[K]=0,D[K]=-1;var G=F[K];if(G!==null)for(F[K]=null,K=0;K<G.length;K++){var H=G[K];H!==null&&(H.lane&=-536870913)}a&=~Q}d!==0&&Kd(r,d,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(w&~o))}function Kd(r,o,a){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-ve(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|a&4194090}function Xd(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var d=31-ve(a),y=1<<d;y&o|r[d]&o&&(r[d]|=o),a&=~y}}function Ha(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ja(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qd(){var r=j.p;return r!==0?r:(r=window.event,r===void 0?32:Ng(r.type))}function jb(r,o){var a=j.p;try{return j.p=r,o()}finally{j.p=a}}var ti=Math.random().toString(36).slice(2),At="__reactFiber$"+ti,qt="__reactProps$"+ti,fr="__reactContainer$"+ti,$a="__reactEvents$"+ti,$b="__reactListeners$"+ti,Yb="__reactHandles$"+ti,Wd="__reactResources$"+ti,Ao="__reactMarker$"+ti;function Ya(r){delete r[At],delete r[qt],delete r[$a],delete r[$b],delete r[Yb]}function dr(r){var o=r[At];if(o)return o;for(var a=r.parentNode;a;){if(o=a[fr]||a[At]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=pg(r);r!==null;){if(a=r[At])return a;r=pg(r)}return o}r=a,a=r.parentNode}return null}function hr(r){if(r=r[At]||r[fr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Mo(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function mr(r){var o=r[Wd];return o||(o=r[Wd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function vt(r){r[Ao]=!0}var Zd=new Set,eh={};function Bi(r,o){pr(r,o),pr(r+"Capture",o)}function pr(r,o){for(eh[r]=o,r=0;r<o.length;r++)Zd.add(o[r])}var Jb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},nh={};function Kb(r){return Ae.call(nh,r)?!0:Ae.call(th,r)?!1:Jb.test(r)?nh[r]=!0:(th[r]=!0,!1)}function Kl(r,o,a){if(Kb(o))if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+a)}}function Xl(r,o,a){if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+a)}}function In(r,o,a,d){if(d===null)r.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(o,a,""+d)}}var Ja,ih;function gr(r){if(Ja===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Ja=o&&o[1]||"",ih=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+r+ih}var Ka=!1;function Xa(r,o){if(!r||Ka)return"";Ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var G=H}Reflect.construct(r,[],Q)}else{try{Q.call()}catch(H){G=H}r.call(Q.prototype)}}else{try{throw Error()}catch(H){G=H}(Q=r())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),w=b[0],k=b[1];if(w&&k){var D=w.split(`
`),F=k.split(`
`);for(y=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;y<F.length&&!F[y].includes("DetermineComponentFrameRoot");)y++;if(d===D.length||y===F.length)for(d=D.length-1,y=F.length-1;1<=d&&0<=y&&D[d]!==F[y];)y--;for(;1<=d&&0<=y;d--,y--)if(D[d]!==F[y]){if(d!==1||y!==1)do if(d--,y--,0>y||D[d]!==F[y]){var K=`
`+D[d].replace(" at new "," at ");return r.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",r.displayName)),K}while(1<=d&&0<=y);break}}}finally{Ka=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?gr(a):""}function Xb(r){switch(r.tag){case 26:case 27:case 5:return gr(r.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return gr("Activity");default:return""}}function rh(r){try{var o="";do o+=Xb(r),r=r.return;while(r);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oh(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qb(r){var o=oh(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var y=a.get,b=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(w){d=""+w,b.call(this,w)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ql(r){r._valueTracker||(r._valueTracker=Qb(r))}function lh(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return r&&(d=oh(r)?r.checked?"true":"false":r.value),r=d,r!==a?(o.setValue(r),!0):!1}function Wl(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Wb=/[\n"\\]/g;function sn(r){return r.replace(Wb,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Qa(r,o,a,d,y,b,w,k){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),o!=null?w==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ln(o)):r.value!==""+ln(o)&&(r.value=""+ln(o)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),o!=null?Wa(r,w,ln(o)):a!=null?Wa(r,w,ln(a)):d!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ln(k):r.removeAttribute("name")}function sh(r,o,a,d,y,b,w,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;a=a!=null?""+ln(a):"",o=o!=null?""+ln(o):a,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Wa(r,o,a){o==="number"&&Wl(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function yr(r,o,a,d){if(r=r.options,o){o={};for(var y=0;y<a.length;y++)o["$"+a[y]]=!0;for(a=0;a<r.length;a++)y=o.hasOwnProperty("$"+r[a].value),r[a].selected!==y&&(r[a].selected=y),y&&d&&(r[a].defaultSelected=!0)}else{for(a=""+ln(a),o=null,y=0;y<r.length;y++){if(r[y].value===a){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function ah(r,o,a){if(o!=null&&(o=""+ln(o),o!==r.value&&(r.value=o),a==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=a!=null?""+ln(a):""}function uh(r,o,a,d){if(o==null){if(d!=null){if(a!=null)throw Error(i(92));if(oe(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),o=a}a=ln(o),r.defaultValue=a,d=r.textContent,d===a&&d!==""&&d!==null&&(r.value=d)}function vr(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var Zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ch(r,o,a){var d=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,a):typeof a!="number"||a===0||Zb.has(o)?o==="float"?r.cssFloat=a:r[o]=(""+a).trim():r[o]=a+"px"}function fh(r,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&a[y]!==d&&ch(r,y,d)}else for(var b in o)o.hasOwnProperty(b)&&ch(r,b,o[b])}function Za(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(r){return tT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var eu=null;function tu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xr=null,br=null;function dh(r){var o=hr(r);if(o&&(r=o.stateNode)){var a=r[qt]||null;e:switch(r=o.stateNode,o.type){case"input":if(Qa(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==r&&d.form===r.form){var y=d[qt]||null;if(!y)throw Error(i(90));Qa(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<a.length;o++)d=a[o],d.form===r.form&&lh(d)}break e;case"textarea":ah(r,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&yr(r,!!a.multiple,o,!1)}}}var nu=!1;function hh(r,o,a){if(nu)return r(o,a);nu=!0;try{var d=r(o);return d}finally{if(nu=!1,(xr!==null||br!==null)&&(Os(),xr&&(o=xr,r=br,br=xr=null,dh(o),r)))for(o=0;o<r.length;o++)dh(r[o])}}function No(r,o){var a=r.stateNode;if(a===null)return null;var d=a[qt]||null;if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(Pn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{iu=!1}var ni=null,ru=null,es=null;function mh(){if(es)return es;var r,o=ru,a=o.length,d,y="value"in ni?ni.value:ni.textContent,b=y.length;for(r=0;r<a&&o[r]===y[r];r++);var w=a-r;for(d=1;d<=w&&o[a-d]===y[b-d];d++);return es=y.slice(r,1<d?1-d:void 0)}function ts(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ns(){return!0}function ph(){return!1}function Ft(r){function o(a,d,y,b,w){this._reactName=a,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ns:ph,this.isPropagationStopped=ph,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),o}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Ft(Oi),Do=g({},Oi,{view:0,detail:0}),nT=Ft(Do),ou,lu,Io,rs=g({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Io&&(Io&&r.type==="mousemove"?(ou=r.screenX-Io.screenX,lu=r.screenY-Io.screenY):lu=ou=0,Io=r),ou)},movementY:function(r){return"movementY"in r?r.movementY:lu}}),gh=Ft(rs),iT=g({},rs,{dataTransfer:0}),rT=Ft(iT),oT=g({},Do,{relatedTarget:0}),su=Ft(oT),lT=g({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=Ft(lT),aT=g({},Oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uT=Ft(aT),cT=g({},Oi,{data:0}),yh=Ft(cT),fT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=hT[r])?!!o[r]:!1}function au(){return mT}var pT=g({},Do,{key:function(r){if(r.key){var o=fT[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(r){return r.type==="keypress"?ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),gT=Ft(pT),yT=g({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=Ft(yT),vT=g({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),xT=Ft(vT),bT=g({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),TT=Ft(bT),ST=g({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=Ft(ST),CT=g({},Oi,{newState:0,oldState:0}),_T=Ft(CT),kT=[9,13,27,32],uu=Pn&&"CompositionEvent"in window,Po=null;Pn&&"documentMode"in document&&(Po=document.documentMode);var ET=Pn&&"TextEvent"in window&&!Po,xh=Pn&&(!uu||Po&&8<Po&&11>=Po),bh=" ",Th=!1;function Sh(r,o){switch(r){case"keyup":return kT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Tr=!1;function AT(r,o){switch(r){case"compositionend":return wh(o);case"keypress":return o.which!==32?null:(Th=!0,bh);case"textInput":return r=o.data,r===bh&&Th?null:r;default:return null}}function MT(r,o){if(Tr)return r==="compositionend"||!uu&&Sh(r,o)?(r=mh(),es=ru=ni=null,Tr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xh&&o.locale!=="ko"?null:o.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!NT[r.type]:o==="textarea"}function _h(r,o,a,d){xr?br?br.push(d):br=[d]:xr=d,o=Hs(o,"onChange"),0<o.length&&(a=new is("onChange","change",null,a,d),r.push({event:a,listeners:o}))}var Lo=null,Uo=null;function RT(r){og(r,0)}function os(r){var o=Mo(r);if(lh(o))return r}function kh(r,o){if(r==="change")return o}var Eh=!1;if(Pn){var cu;if(Pn){var fu="oninput"in document;if(!fu){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),fu=typeof Ah.oninput=="function"}cu=fu}else cu=!1;Eh=cu&&(!document.documentMode||9<document.documentMode)}function Mh(){Lo&&(Lo.detachEvent("onpropertychange",Nh),Uo=Lo=null)}function Nh(r){if(r.propertyName==="value"&&os(Uo)){var o=[];_h(o,Uo,r,tu(r)),hh(RT,o)}}function DT(r,o,a){r==="focusin"?(Mh(),Lo=o,Uo=a,Lo.attachEvent("onpropertychange",Nh)):r==="focusout"&&Mh()}function IT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return os(Uo)}function PT(r,o){if(r==="click")return os(o)}function LT(r,o){if(r==="input"||r==="change")return os(o)}function UT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Xt=typeof Object.is=="function"?Object.is:UT;function Bo(r,o){if(Xt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var y=a[d];if(!Ae.call(o,y)||!Xt(r[y],o[y]))return!1}return!0}function Rh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dh(r,o){var a=Rh(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=o&&d>=o)return{node:a,offset:o-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rh(a)}}function Ih(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Ih(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ph(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Wl(r.document);o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=Wl(r.document)}return o}function du(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var BT=Pn&&"documentMode"in document&&11>=document.documentMode,Sr=null,hu=null,Oo=null,mu=!1;function Lh(r,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mu||Sr==null||Sr!==Wl(d)||(d=Sr,"selectionStart"in d&&du(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oo&&Bo(Oo,d)||(Oo=d,d=Hs(hu,"onSelect"),0<d.length&&(o=new is("onSelect","select",null,o,a),r.push({event:o,listeners:d}),o.target=Sr)))}function zi(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var wr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},pu={},Uh={};Pn&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function qi(r){if(pu[r])return pu[r];if(!wr[r])return r;var o=wr[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in Uh)return pu[r]=o[a];return r}var Bh=qi("animationend"),Oh=qi("animationiteration"),zh=qi("animationstart"),OT=qi("transitionrun"),zT=qi("transitionstart"),qT=qi("transitioncancel"),qh=qi("transitionend"),Fh=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function vn(r,o){Fh.set(r,o),Bi(o,[r])}var Vh=new WeakMap;function an(r,o){if(typeof r=="object"&&r!==null){var a=Vh.get(r);return a!==void 0?a:(o={value:r,source:o,stack:rh(o)},Vh.set(r,o),o)}return{value:r,source:o,stack:rh(o)}}var un=[],Cr=0,yu=0;function ls(){for(var r=Cr,o=yu=Cr=0;o<r;){var a=un[o];un[o++]=null;var d=un[o];un[o++]=null;var y=un[o];un[o++]=null;var b=un[o];if(un[o++]=null,d!==null&&y!==null){var w=d.pending;w===null?y.next=y:(y.next=w.next,w.next=y),d.pending=y}b!==0&&Gh(a,y,b)}}function ss(r,o,a,d){un[Cr++]=r,un[Cr++]=o,un[Cr++]=a,un[Cr++]=d,yu|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function vu(r,o,a,d){return ss(r,o,a,d),as(r)}function _r(r,o){return ss(r,null,null,o),as(r)}function Gh(r,o,a){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a);for(var y=!1,b=r.return;b!==null;)b.childLanes|=a,d=b.alternate,d!==null&&(d.childLanes|=a),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&o!==null&&(y=31-ve(a),r=b.hiddenUpdates,d=r[y],d===null?r[y]=[o]:d.push(o),o.lane=a|536870912),b):null}function as(r){if(50<ul)throw ul=0,Cc=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var kr={};function FT(r,o,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,o,a,d){return new FT(r,o,a,d)}function xu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ln(r,o){var a=r.alternate;return a===null?(a=Qt(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Hh(r,o){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,o=a.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function us(r,o,a,d,y,b){var w=0;if(d=r,typeof r=="function")xu(r)&&(w=1);else if(typeof r=="string")w=GS(r,a,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=Qt(31,a,o,y),r.elementType=Z,r.lanes=b,r;case _:return Fi(a.children,y,b,o);case E:w=8,y|=24;break;case R:return r=Qt(12,a,o,y|2),r.elementType=R,r.lanes=b,r;case O:return r=Qt(13,a,o,y),r.elementType=O,r.lanes=b,r;case I:return r=Qt(19,a,o,y),r.elementType=I,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case M:w=10;break e;case L:w=9;break e;case q:w=11;break e;case J:w=14;break e;case ne:w=16,d=null;break e}w=29,a=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Qt(w,a,o,y),o.elementType=r,o.type=d,o.lanes=b,o}function Fi(r,o,a,d){return r=Qt(7,r,d,o),r.lanes=a,r}function bu(r,o,a){return r=Qt(6,r,null,o),r.lanes=a,r}function Tu(r,o,a){return o=Qt(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Er=[],Ar=0,cs=null,fs=0,cn=[],fn=0,Vi=null,Un=1,Bn="";function Gi(r,o){Er[Ar++]=fs,Er[Ar++]=cs,cs=r,fs=o}function jh(r,o,a){cn[fn++]=Un,cn[fn++]=Bn,cn[fn++]=Vi,Vi=r;var d=Un;r=Bn;var y=32-ve(d)-1;d&=~(1<<y),a+=1;var b=32-ve(o)+y;if(30<b){var w=y-y%5;b=(d&(1<<w)-1).toString(32),d>>=w,y-=w,Un=1<<32-ve(o)+y|a<<y|d,Bn=b+r}else Un=1<<b|a<<y|d,Bn=r}function Su(r){r.return!==null&&(Gi(r,1),jh(r,1,0))}function wu(r){for(;r===cs;)cs=Er[--Ar],Er[Ar]=null,fs=Er[--Ar],Er[Ar]=null;for(;r===Vi;)Vi=cn[--fn],cn[fn]=null,Bn=cn[--fn],cn[fn]=null,Un=cn[--fn],cn[fn]=null}var Ot=null,ot=null,Ge=!1,Hi=null,Cn=!1,Cu=Error(i(519));function ji(r){var o=Error(i(418,""));throw Fo(an(o,r)),Cu}function $h(r){var o=r.stateNode,a=r.type,d=r.memoizedProps;switch(o[At]=r,o[qt]=d,a){case"dialog":Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":case"embed":Pe("load",o);break;case"video":case"audio":for(a=0;a<fl.length;a++)Pe(fl[a],o);break;case"source":Pe("error",o);break;case"img":case"image":case"link":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"input":Pe("invalid",o),sh(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ql(o);break;case"select":Pe("invalid",o);break;case"textarea":Pe("invalid",o),uh(o,d.value,d.defaultValue,d.children),Ql(o)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||d.suppressHydrationWarning===!0||ug(o.textContent,a)?(d.popover!=null&&(Pe("beforetoggle",o),Pe("toggle",o)),d.onScroll!=null&&Pe("scroll",o),d.onScrollEnd!=null&&Pe("scrollend",o),d.onClick!=null&&(o.onclick=js),o=!0):o=!1,o||ji(r)}function Yh(r){for(Ot=r.return;Ot;)switch(Ot.tag){case 5:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Ot=Ot.return}}function zo(r){if(r!==Ot)return!1;if(!Ge)return Yh(r),Ge=!0,!1;var o=r.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||qc(r.type,r.memoizedProps)),a=!a),a&&ot&&ji(r),Yh(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(o===0){ot=bn(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;r=r.nextSibling}ot=null}}else o===27?(o=ot,vi(r.type)?(r=Hc,Hc=null,ot=r):ot=o):ot=Ot?bn(r.stateNode.nextSibling):null;return!0}function qo(){ot=Ot=null,Ge=!1}function Jh(){var r=Hi;return r!==null&&(Ht===null?Ht=r:Ht.push.apply(Ht,r),Hi=null),r}function Fo(r){Hi===null?Hi=[r]:Hi.push(r)}var _u=$(null),$i=null,On=null;function ii(r,o,a){A(_u,o._currentValue),o._currentValue=a}function zn(r){r._currentValue=_u.current,ie(_u)}function ku(r,o,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===a)break;r=r.return}}function Eu(r,o,a,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var w=y.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=y;for(var D=0;D<o.length;D++)if(k.context===o[D]){b.lanes|=a,k=b.alternate,k!==null&&(k.lanes|=a),ku(b.return,a,r),d||(w=null);break e}b=k.next}}else if(y.tag===18){if(w=y.return,w===null)throw Error(i(341));w.lanes|=a,b=w.alternate,b!==null&&(b.lanes|=a),ku(w,a,r),w=null}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===r){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}}function Vo(r,o,a,d){r=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var w=y.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var k=y.type;Xt(y.pendingProps.value,w.value)||(r!==null?r.push(k):r=[k])}}else if(y===Fe.current){if(w=y.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(yl):r=[yl])}y=y.return}r!==null&&Eu(o,r,a,d),o.flags|=262144}function ds(r){for(r=r.firstContext;r!==null;){if(!Xt(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Yi(r){$i=r,On=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mt(r){return Kh($i,r)}function hs(r,o){return $i===null&&Yi(r),Kh(r,o)}function Kh(r,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},On===null){if(r===null)throw Error(i(308));On=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else On=On.next=o;return a}var VT=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(a,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(a){return a()})}},GT=t.unstable_scheduleCallback,HT=t.unstable_NormalPriority,gt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Au(){return{controller:new VT,data:new Map,refCount:0}}function Go(r){r.refCount--,r.refCount===0&&GT(HT,function(){r.controller.abort()})}var Ho=null,Mu=0,Mr=0,Nr=null;function jT(r,o){if(Ho===null){var a=Ho=[];Mu=0,Mr=Rc(),Nr={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Mu++,o.then(Xh,Xh),o}function Xh(){if(--Mu===0&&Ho!==null){Nr!==null&&(Nr.status="fulfilled");var r=Ho;Ho=null,Mr=0,Nr=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function $T(r,o){var a=[],d={status:"pending",value:null,reason:null,then:function(y){a.push(y)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<a.length;y++)(0,a[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<a.length;y++)(0,a[y])(void 0)}),d}var Qh=V.S;V.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&jT(r,o),Qh!==null&&Qh(r,o)};var Ji=$(null);function Nu(){var r=Ji.current;return r!==null?r:Ze.pooledCache}function ms(r,o){o===null?A(Ji,Ji.current):A(Ji,o.pool)}function Wh(){var r=Nu();return r===null?null:{parent:gt._currentValue,pool:r}}var jo=Error(i(460)),Zh=Error(i(474)),ps=Error(i(542)),Ru={then:function(){}};function em(r){return r=r.status,r==="fulfilled"||r==="rejected"}function gs(){}function tm(r,o,a){switch(a=r[a],a===void 0?r.push(o):a!==o&&(o.then(gs,gs),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,im(r),r;default:if(typeof o.status=="string")o.then(gs,gs);else{if(r=Ze,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,im(r),r}throw $o=o,jo}}var $o=null;function nm(){if($o===null)throw Error(i(459));var r=$o;return $o=null,r}function im(r){if(r===jo||r===ps)throw Error(i(483))}var ri=!1;function Du(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function li(r,o,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(je&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=as(r),Gh(r,null,a),o}return ss(r,d,o,a),as(r)}function Yo(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Xd(r,a)}}function Pu(r,o){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var y=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?y=b=w:b=b.next=w,a=a.next}while(a!==null);b===null?y=b=o:b=b.next=o}else y=b=o;a={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}var Lu=!1;function Jo(){if(Lu){var r=Nr;if(r!==null)throw r}}function Ko(r,o,a,d){Lu=!1;var y=r.updateQueue;ri=!1;var b=y.firstBaseUpdate,w=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var D=k,F=D.next;D.next=null,w===null?b=F:w.next=F,w=D;var K=r.alternate;K!==null&&(K=K.updateQueue,k=K.lastBaseUpdate,k!==w&&(k===null?K.firstBaseUpdate=F:k.next=F,K.lastBaseUpdate=D))}if(b!==null){var Q=y.baseState;w=0,K=F=D=null,k=b;do{var G=k.lane&-536870913,H=G!==k.lane;if(H?(Be&G)===G:(d&G)===G){G!==0&&G===Mr&&(Lu=!0),K!==null&&(K=K.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var we=r,be=k;G=o;var Xe=a;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){Q=we.call(Xe,Q,G);break e}Q=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,G=typeof we=="function"?we.call(Xe,Q,G):we,G==null)break e;Q=g({},Q,G);break e;case 2:ri=!0}}G=k.callback,G!==null&&(r.flags|=64,H&&(r.flags|=8192),H=y.callbacks,H===null?y.callbacks=[G]:H.push(G))}else H={lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},K===null?(F=K=H,D=Q):K=K.next=H,w|=G;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;H=k,k=H.next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}while(!0);K===null&&(D=Q),y.baseState=D,y.firstBaseUpdate=F,y.lastBaseUpdate=K,b===null&&(y.shared.lanes=0),mi|=w,r.lanes=w,r.memoizedState=Q}}function rm(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function om(r,o){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)rm(a[r],o)}var Rr=$(null),ys=$(0);function lm(r,o){r=$n,A(ys,r),A(Rr,o),$n=r|o.baseLanes}function Uu(){A(ys,$n),A(Rr,Rr.current)}function Bu(){$n=ys.current,ie(Rr),ie(ys)}var si=0,Re=null,Je=null,ft=null,vs=!1,Dr=!1,Ki=!1,xs=0,Xo=0,Ir=null,YT=0;function at(){throw Error(i(321))}function Ou(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!Xt(r[a],o[a]))return!1;return!0}function zu(r,o,a,d,y,b){return si=b,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=r===null||r.memoizedState===null?Gm:Hm,Ki=!1,b=a(d,y),Ki=!1,Dr&&(b=am(o,a,d,y)),sm(r),b}function sm(r){V.H=_s;var o=Je!==null&&Je.next!==null;if(si=0,ft=Je=Re=null,vs=!1,Xo=0,Ir=null,o)throw Error(i(300));r===null||xt||(r=r.dependencies,r!==null&&ds(r)&&(xt=!0))}function am(r,o,a,d){Re=r;var y=0;do{if(Dr&&(Ir=null),Xo=0,Dr=!1,25<=y)throw Error(i(301));if(y+=1,ft=Je=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}V.H=eS,b=o(a,d)}while(Dr);return b}function JT(){var r=V.H,o=r.useState()[0];return o=typeof o.then=="function"?Qo(o):o,r=r.useState()[0],(Je!==null?Je.memoizedState:null)!==r&&(Re.flags|=1024),o}function qu(){var r=xs!==0;return xs=0,r}function Fu(r,o,a){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~a}function Vu(r){if(vs){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}vs=!1}si=0,ft=Je=Re=null,Dr=!1,Xo=xs=0,Ir=null}function Vt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Re.memoizedState=ft=r:ft=ft.next=r,ft}function dt(){if(Je===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var o=ft===null?Re.memoizedState:ft.next;if(o!==null)ft=o,Je=r;else{if(r===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ft===null?Re.memoizedState=ft=r:ft=ft.next=r}return ft}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(r){var o=Xo;return Xo+=1,Ir===null&&(Ir=[]),r=tm(Ir,r,o),o=Re,(ft===null?o.memoizedState:ft.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?Gm:Hm),r}function bs(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qo(r);if(r.$$typeof===M)return Mt(r)}throw Error(i(438,String(r)))}function Hu(r){var o=null,a=Re.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var d=Re.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Gu(),Re.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(r),d=0;d<r;d++)a[d]=U;return o.index++,a}function qn(r,o){return typeof o=="function"?o(r):o}function Ts(r){var o=dt();return ju(o,Je,r)}function ju(r,o,a){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var y=r.baseQueue,b=d.pending;if(b!==null){if(y!==null){var w=y.next;y.next=b.next,b.next=w}o.baseQueue=y=b,d.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{o=y.next;var k=w=null,D=null,F=o,K=!1;do{var Q=F.lane&-536870913;if(Q!==F.lane?(Be&Q)===Q:(si&Q)===Q){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Q===Mr&&(K=!0);else if((si&G)===G){F=F.next,G===Mr&&(K=!0);continue}else Q={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(k=D=Q,w=b):D=D.next=Q,Re.lanes|=G,mi|=G;Q=F.action,Ki&&a(b,Q),b=F.hasEagerState?F.eagerState:a(b,Q)}else G={lane:Q,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(k=D=G,w=b):D=D.next=G,Re.lanes|=Q,mi|=Q;F=F.next}while(F!==null&&F!==o);if(D===null?w=b:D.next=k,!Xt(b,r.memoizedState)&&(xt=!0,K&&(a=Nr,a!==null)))throw a;r.memoizedState=b,r.baseState=w,r.baseQueue=D,d.lastRenderedState=b}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function $u(r){var o=dt(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var d=a.dispatch,y=a.pending,b=o.memoizedState;if(y!==null){a.pending=null;var w=y=y.next;do b=r(b,w.action),w=w.next;while(w!==y);Xt(b,o.memoizedState)||(xt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),a.lastRenderedState=b}return[b,d]}function um(r,o,a){var d=Re,y=dt(),b=Ge;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=o();var w=!Xt((Je||y).memoizedState,a);w&&(y.memoizedState=a,xt=!0),y=y.queue;var k=dm.bind(null,d,y,r);if(Wo(2048,8,k,[r]),y.getSnapshot!==o||w||ft!==null&&ft.memoizedState.tag&1){if(d.flags|=2048,Pr(9,Ss(),fm.bind(null,d,y,a,o),null),Ze===null)throw Error(i(349));b||(si&124)!==0||cm(d,o,a)}return a}function cm(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=Re.updateQueue,o===null?(o=Gu(),Re.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function fm(r,o,a,d){o.value=a,o.getSnapshot=d,hm(o)&&mm(r)}function dm(r,o,a){return a(function(){hm(o)&&mm(r)})}function hm(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!Xt(r,a)}catch{return!0}}function mm(r){var o=_r(r,2);o!==null&&nn(o,r,2)}function Yu(r){var o=Vt();if(typeof r=="function"){var a=r;if(r=a(),Ki){ge(!0);try{a()}finally{ge(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:r},o}function pm(r,o,a,d){return r.baseState=a,ju(r,Je,typeof d=="function"?d:qn)}function KT(r,o,a,d,y){if(Cs(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};V.T!==null?a(!0):b.isTransition=!1,d(b),a=o.pending,a===null?(b.next=o.pending=b,gm(o,b)):(b.next=a.next,o.pending=a.next=b)}}function gm(r,o){var a=o.action,d=o.payload,y=r.state;if(o.isTransition){var b=V.T,w={};V.T=w;try{var k=a(y,d),D=V.S;D!==null&&D(w,k),ym(r,o,k)}catch(F){Ju(r,o,F)}finally{V.T=b}}else try{b=a(y,d),ym(r,o,b)}catch(F){Ju(r,o,F)}}function ym(r,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){vm(r,o,d)},function(d){return Ju(r,o,d)}):vm(r,o,a)}function vm(r,o,a){o.status="fulfilled",o.value=a,xm(o),r.state=a,o=r.pending,o!==null&&(a=o.next,a===o?r.pending=null:(a=a.next,o.next=a,gm(r,a)))}function Ju(r,o,a){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=a,xm(o),o=o.next;while(o!==d)}r.action=null}function xm(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function bm(r,o){return o}function Tm(r,o){if(Ge){var a=Ze.formState;if(a!==null){e:{var d=Re;if(Ge){if(ot){t:{for(var y=ot,b=Cn;y.nodeType!==8;){if(!b){y=null;break t}if(y=bn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ot=bn(y.nextSibling),d=y.data==="F!";break e}}ji(d)}d=!1}d&&(o=a[0])}}return a=Vt(),a.memoizedState=a.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:o},a.queue=d,a=qm.bind(null,Re,d),d.dispatch=a,d=Yu(!1),b=Zu.bind(null,Re,!1,d.queue),d=Vt(),y={state:o,dispatch:null,action:r,pending:null},d.queue=y,a=KT.bind(null,Re,y,b,a),y.dispatch=a,d.memoizedState=r,[o,a,!1]}function Sm(r){var o=dt();return wm(o,Je,r)}function wm(r,o,a){if(o=ju(r,o,bm)[0],r=Ts(qn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Qo(o)}catch(w){throw w===jo?ps:w}else d=o;o=dt();var y=o.queue,b=y.dispatch;return a!==o.memoizedState&&(Re.flags|=2048,Pr(9,Ss(),XT.bind(null,y,a),null)),[d,b,r]}function XT(r,o){r.action=o}function Cm(r){var o=dt(),a=Je;if(a!==null)return wm(o,a,r);dt(),o=o.memoizedState,a=dt();var d=a.queue.dispatch;return a.memoizedState=r,[o,d,!1]}function Pr(r,o,a,d){return r={tag:r,create:a,deps:d,inst:o,next:null},o=Re.updateQueue,o===null&&(o=Gu(),Re.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,o.lastEffect=r),r}function Ss(){return{destroy:void 0,resource:void 0}}function _m(){return dt().memoizedState}function ws(r,o,a,d){var y=Vt();d=d===void 0?null:d,Re.flags|=r,y.memoizedState=Pr(1|o,Ss(),a,d)}function Wo(r,o,a,d){var y=dt();d=d===void 0?null:d;var b=y.memoizedState.inst;Je!==null&&d!==null&&Ou(d,Je.memoizedState.deps)?y.memoizedState=Pr(o,b,a,d):(Re.flags|=r,y.memoizedState=Pr(1|o,b,a,d))}function km(r,o){ws(8390656,8,r,o)}function Em(r,o){Wo(2048,8,r,o)}function Am(r,o){return Wo(4,2,r,o)}function Mm(r,o){return Wo(4,4,r,o)}function Nm(r,o){if(typeof o=="function"){r=r();var a=o(r);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Rm(r,o,a){a=a!=null?a.concat([r]):null,Wo(4,4,Nm.bind(null,o,r),a)}function Ku(){}function Dm(r,o){var a=dt();o=o===void 0?null:o;var d=a.memoizedState;return o!==null&&Ou(o,d[1])?d[0]:(a.memoizedState=[r,o],r)}function Im(r,o){var a=dt();o=o===void 0?null:o;var d=a.memoizedState;if(o!==null&&Ou(o,d[1]))return d[0];if(d=r(),Ki){ge(!0);try{r()}finally{ge(!1)}}return a.memoizedState=[d,o],d}function Xu(r,o,a){return a===void 0||(si&1073741824)!==0?r.memoizedState=o:(r.memoizedState=a,r=Up(),Re.lanes|=r,mi|=r,a)}function Pm(r,o,a,d){return Xt(a,o)?a:Rr.current!==null?(r=Xu(r,a,d),Xt(r,o)||(xt=!0),r):(si&42)===0?(xt=!0,r.memoizedState=a):(r=Up(),Re.lanes|=r,mi|=r,o)}function Lm(r,o,a,d,y){var b=j.p;j.p=b!==0&&8>b?b:8;var w=V.T,k={};V.T=k,Zu(r,!1,o,a);try{var D=y(),F=V.S;if(F!==null&&F(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=$T(D,d);Zo(r,o,K,tn(r))}else Zo(r,o,d,tn(r))}catch(Q){Zo(r,o,{then:function(){},status:"rejected",reason:Q},tn())}finally{j.p=b,V.T=w}}function QT(){}function Qu(r,o,a,d){if(r.tag!==5)throw Error(i(476));var y=Um(r).queue;Lm(r,y,o,ce,a===null?QT:function(){return Bm(r),a(d)})}function Um(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:ce},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Bm(r){var o=Um(r).next.queue;Zo(r,o,{},tn())}function Wu(){return Mt(yl)}function Om(){return dt().memoizedState}function zm(){return dt().memoizedState}function WT(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var a=tn();r=oi(a);var d=li(o,r,a);d!==null&&(nn(d,o,a),Yo(d,o,a)),o={cache:Au()},r.payload=o;return}o=o.return}}function ZT(r,o,a){var d=tn();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cs(r)?Fm(o,a):(a=vu(r,o,a,d),a!==null&&(nn(a,r,d),Vm(a,o,d)))}function qm(r,o,a){var d=tn();Zo(r,o,a,d)}function Zo(r,o,a,d){var y={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cs(r))Fm(o,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,k=b(w,a);if(y.hasEagerState=!0,y.eagerState=k,Xt(k,w))return ss(r,o,y,0),Ze===null&&ls(),!1}catch{}finally{}if(a=vu(r,o,y,d),a!==null)return nn(a,r,d),Vm(a,o,d),!0}return!1}function Zu(r,o,a,d){if(d={lane:2,revertLane:Rc(),action:d,hasEagerState:!1,eagerState:null,next:null},Cs(r)){if(o)throw Error(i(479))}else o=vu(r,a,d,2),o!==null&&nn(o,r,2)}function Cs(r){var o=r.alternate;return r===Re||o!==null&&o===Re}function Fm(r,o){Dr=vs=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function Vm(r,o,a){if((a&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Xd(r,a)}}var _s={readContext:Mt,use:bs,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},Gm={readContext:Mt,use:bs,useCallback:function(r,o){return Vt().memoizedState=[r,o===void 0?null:o],r},useContext:Mt,useEffect:km,useImperativeHandle:function(r,o,a){a=a!=null?a.concat([r]):null,ws(4194308,4,Nm.bind(null,o,r),a)},useLayoutEffect:function(r,o){return ws(4194308,4,r,o)},useInsertionEffect:function(r,o){ws(4,2,r,o)},useMemo:function(r,o){var a=Vt();o=o===void 0?null:o;var d=r();if(Ki){ge(!0);try{r()}finally{ge(!1)}}return a.memoizedState=[d,o],d},useReducer:function(r,o,a){var d=Vt();if(a!==void 0){var y=a(o);if(Ki){ge(!0);try{a(o)}finally{ge(!1)}}}else y=o;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=ZT.bind(null,Re,r),[d.memoizedState,r]},useRef:function(r){var o=Vt();return r={current:r},o.memoizedState=r},useState:function(r){r=Yu(r);var o=r.queue,a=qm.bind(null,Re,o);return o.dispatch=a,[r.memoizedState,a]},useDebugValue:Ku,useDeferredValue:function(r,o){var a=Vt();return Xu(a,r,o)},useTransition:function(){var r=Yu(!1);return r=Lm.bind(null,Re,r.queue,!0,!1),Vt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,a){var d=Re,y=Vt();if(Ge){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),Ze===null)throw Error(i(349));(Be&124)!==0||cm(d,o,a)}y.memoizedState=a;var b={value:a,getSnapshot:o};return y.queue=b,km(dm.bind(null,d,b,r),[r]),d.flags|=2048,Pr(9,Ss(),fm.bind(null,d,b,a,o),null),a},useId:function(){var r=Vt(),o=Ze.identifierPrefix;if(Ge){var a=Bn,d=Un;a=(d&~(1<<32-ve(d)-1)).toString(32)+a,o=""+o+"R"+a,a=xs++,0<a&&(o+="H"+a.toString(32)),o+=""}else a=YT++,o=""+o+"r"+a.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Wu,useFormState:Tm,useActionState:Tm,useOptimistic:function(r){var o=Vt();o.memoizedState=o.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=Zu.bind(null,Re,!0,a),a.dispatch=o,[r,o]},useMemoCache:Hu,useCacheRefresh:function(){return Vt().memoizedState=WT.bind(null,Re)}},Hm={readContext:Mt,use:bs,useCallback:Dm,useContext:Mt,useEffect:Em,useImperativeHandle:Rm,useInsertionEffect:Am,useLayoutEffect:Mm,useMemo:Im,useReducer:Ts,useRef:_m,useState:function(){return Ts(qn)},useDebugValue:Ku,useDeferredValue:function(r,o){var a=dt();return Pm(a,Je.memoizedState,r,o)},useTransition:function(){var r=Ts(qn)[0],o=dt().memoizedState;return[typeof r=="boolean"?r:Qo(r),o]},useSyncExternalStore:um,useId:Om,useHostTransitionStatus:Wu,useFormState:Sm,useActionState:Sm,useOptimistic:function(r,o){var a=dt();return pm(a,Je,r,o)},useMemoCache:Hu,useCacheRefresh:zm},eS={readContext:Mt,use:bs,useCallback:Dm,useContext:Mt,useEffect:Em,useImperativeHandle:Rm,useInsertionEffect:Am,useLayoutEffect:Mm,useMemo:Im,useReducer:$u,useRef:_m,useState:function(){return $u(qn)},useDebugValue:Ku,useDeferredValue:function(r,o){var a=dt();return Je===null?Xu(a,r,o):Pm(a,Je.memoizedState,r,o)},useTransition:function(){var r=$u(qn)[0],o=dt().memoizedState;return[typeof r=="boolean"?r:Qo(r),o]},useSyncExternalStore:um,useId:Om,useHostTransitionStatus:Wu,useFormState:Cm,useActionState:Cm,useOptimistic:function(r,o){var a=dt();return Je!==null?pm(a,Je,r,o):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:zm},Lr=null,el=0;function ks(r){var o=el;return el+=1,Lr===null&&(Lr=[]),tm(Lr,r,o)}function tl(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Es(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function jm(r){var o=r._init;return o(r._payload)}function $m(r){function o(B,P){if(r){var z=B.deletions;z===null?(B.deletions=[P],B.flags|=16):z.push(P)}}function a(B,P){if(!r)return null;for(;P!==null;)o(B,P),P=P.sibling;return null}function d(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function y(B,P){return B=Ln(B,P),B.index=0,B.sibling=null,B}function b(B,P,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<P?(B.flags|=67108866,P):z):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function w(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function k(B,P,z,X){return P===null||P.tag!==6?(P=bu(z,B.mode,X),P.return=B,P):(P=y(P,z),P.return=B,P)}function D(B,P,z,X){var he=z.type;return he===_?K(B,P,z.props.children,X,z.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ne&&jm(he)===P.type)?(P=y(P,z.props),tl(P,z),P.return=B,P):(P=us(z.type,z.key,z.props,null,B.mode,X),tl(P,z),P.return=B,P)}function F(B,P,z,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Tu(z,B.mode,X),P.return=B,P):(P=y(P,z.children||[]),P.return=B,P)}function K(B,P,z,X,he){return P===null||P.tag!==7?(P=Fi(z,B.mode,X,he),P.return=B,P):(P=y(P,z),P.return=B,P)}function Q(B,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=bu(""+P,B.mode,z),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return z=us(P.type,P.key,P.props,null,B.mode,z),tl(z,P),z.return=B,z;case S:return P=Tu(P,B.mode,z),P.return=B,P;case ne:var X=P._init;return P=X(P._payload),Q(B,P,z)}if(oe(P)||ee(P))return P=Fi(P,B.mode,z,null),P.return=B,P;if(typeof P.then=="function")return Q(B,ks(P),z);if(P.$$typeof===M)return Q(B,hs(B,P),z);Es(B,P)}return null}function G(B,P,z,X){var he=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return he!==null?null:k(B,P,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return z.key===he?D(B,P,z,X):null;case S:return z.key===he?F(B,P,z,X):null;case ne:return he=z._init,z=he(z._payload),G(B,P,z,X)}if(oe(z)||ee(z))return he!==null?null:K(B,P,z,X,null);if(typeof z.then=="function")return G(B,P,ks(z),X);if(z.$$typeof===M)return G(B,P,hs(B,z),X);Es(B,z)}return null}function H(B,P,z,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return B=B.get(z)||null,k(P,B,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return B=B.get(X.key===null?z:X.key)||null,D(P,B,X,he);case S:return B=B.get(X.key===null?z:X.key)||null,F(P,B,X,he);case ne:var De=X._init;return X=De(X._payload),H(B,P,z,X,he)}if(oe(X)||ee(X))return B=B.get(z)||null,K(P,B,X,he,null);if(typeof X.then=="function")return H(B,P,z,ks(X),he);if(X.$$typeof===M)return H(B,P,z,hs(P,X),he);Es(P,X)}return null}function we(B,P,z,X){for(var he=null,De=null,pe=P,Se=P=0,Tt=null;pe!==null&&Se<z.length;Se++){pe.index>Se?(Tt=pe,pe=null):Tt=pe.sibling;var qe=G(B,pe,z[Se],X);if(qe===null){pe===null&&(pe=Tt);break}r&&pe&&qe.alternate===null&&o(B,pe),P=b(qe,P,Se),De===null?he=qe:De.sibling=qe,De=qe,pe=Tt}if(Se===z.length)return a(B,pe),Ge&&Gi(B,Se),he;if(pe===null){for(;Se<z.length;Se++)pe=Q(B,z[Se],X),pe!==null&&(P=b(pe,P,Se),De===null?he=pe:De.sibling=pe,De=pe);return Ge&&Gi(B,Se),he}for(pe=d(pe);Se<z.length;Se++)Tt=H(pe,B,Se,z[Se],X),Tt!==null&&(r&&Tt.alternate!==null&&pe.delete(Tt.key===null?Se:Tt.key),P=b(Tt,P,Se),De===null?he=Tt:De.sibling=Tt,De=Tt);return r&&pe.forEach(function(wi){return o(B,wi)}),Ge&&Gi(B,Se),he}function be(B,P,z,X){if(z==null)throw Error(i(151));for(var he=null,De=null,pe=P,Se=P=0,Tt=null,qe=z.next();pe!==null&&!qe.done;Se++,qe=z.next()){pe.index>Se?(Tt=pe,pe=null):Tt=pe.sibling;var wi=G(B,pe,qe.value,X);if(wi===null){pe===null&&(pe=Tt);break}r&&pe&&wi.alternate===null&&o(B,pe),P=b(wi,P,Se),De===null?he=wi:De.sibling=wi,De=wi,pe=Tt}if(qe.done)return a(B,pe),Ge&&Gi(B,Se),he;if(pe===null){for(;!qe.done;Se++,qe=z.next())qe=Q(B,qe.value,X),qe!==null&&(P=b(qe,P,Se),De===null?he=qe:De.sibling=qe,De=qe);return Ge&&Gi(B,Se),he}for(pe=d(pe);!qe.done;Se++,qe=z.next())qe=H(pe,B,Se,qe.value,X),qe!==null&&(r&&qe.alternate!==null&&pe.delete(qe.key===null?Se:qe.key),P=b(qe,P,Se),De===null?he=qe:De.sibling=qe,De=qe);return r&&pe.forEach(function(tw){return o(B,tw)}),Ge&&Gi(B,Se),he}function Xe(B,P,z,X){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case T:e:{for(var he=z.key;P!==null;){if(P.key===he){if(he=z.type,he===_){if(P.tag===7){a(B,P.sibling),X=y(P,z.props.children),X.return=B,B=X;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ne&&jm(he)===P.type){a(B,P.sibling),X=y(P,z.props),tl(X,z),X.return=B,B=X;break e}a(B,P);break}else o(B,P);P=P.sibling}z.type===_?(X=Fi(z.props.children,B.mode,X,z.key),X.return=B,B=X):(X=us(z.type,z.key,z.props,null,B.mode,X),tl(X,z),X.return=B,B=X)}return w(B);case S:e:{for(he=z.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(B,P.sibling),X=y(P,z.children||[]),X.return=B,B=X;break e}else{a(B,P);break}else o(B,P);P=P.sibling}X=Tu(z,B.mode,X),X.return=B,B=X}return w(B);case ne:return he=z._init,z=he(z._payload),Xe(B,P,z,X)}if(oe(z))return we(B,P,z,X);if(ee(z)){if(he=ee(z),typeof he!="function")throw Error(i(150));return z=he.call(z),be(B,P,z,X)}if(typeof z.then=="function")return Xe(B,P,ks(z),X);if(z.$$typeof===M)return Xe(B,P,hs(B,z),X);Es(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(B,P.sibling),X=y(P,z),X.return=B,B=X):(a(B,P),X=bu(z,B.mode,X),X.return=B,B=X),w(B)):a(B,P)}return function(B,P,z,X){try{el=0;var he=Xe(B,P,z,X);return Lr=null,he}catch(pe){if(pe===jo||pe===ps)throw pe;var De=Qt(29,pe,null,B.mode);return De.lanes=X,De.return=B,De}finally{}}}var Ur=$m(!0),Ym=$m(!1),dn=$(null),_n=null;function ai(r){var o=r.alternate;A(yt,yt.current&1),A(dn,r),_n===null&&(o===null||Rr.current!==null||o.memoizedState!==null)&&(_n=r)}function Jm(r){if(r.tag===22){if(A(yt,yt.current),A(dn,r),_n===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(_n=r)}}else ui()}function ui(){A(yt,yt.current),A(dn,dn.current)}function Fn(r){ie(dn),_n===r&&(_n=null),ie(yt)}var yt=$(0);function As(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Gc(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function ec(r,o,a,d){o=r.memoizedState,a=a(d,o),a=a==null?o:g({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var tc={enqueueSetState:function(r,o,a){r=r._reactInternals;var d=tn(),y=oi(d);y.payload=o,a!=null&&(y.callback=a),o=li(r,y,d),o!==null&&(nn(o,r,d),Yo(o,r,d))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var d=tn(),y=oi(d);y.tag=1,y.payload=o,a!=null&&(y.callback=a),o=li(r,y,d),o!==null&&(nn(o,r,d),Yo(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=tn(),d=oi(a);d.tag=2,o!=null&&(d.callback=o),o=li(r,d,a),o!==null&&(nn(o,r,a),Yo(o,r,a))}};function Km(r,o,a,d,y,b,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,w):o.prototype&&o.prototype.isPureReactComponent?!Bo(a,d)||!Bo(y,b):!0}function Xm(r,o,a,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==r&&tc.enqueueReplaceState(o,o.state,null)}function Xi(r,o){var a=o;if("ref"in o){a={};for(var d in o)d!=="ref"&&(a[d]=o[d])}if(r=r.defaultProps){a===o&&(a=g({},a));for(var y in r)a[y]===void 0&&(a[y]=r[y])}return a}var Ms=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Qm(r){Ms(r)}function Wm(r){console.error(r)}function Zm(r){Ms(r)}function Ns(r,o){try{var a=r.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function ep(r,o,a){try{var d=r.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function nc(r,o,a){return a=oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ns(r,o)},a}function tp(r){return r=oi(r),r.tag=3,r}function np(r,o,a,d){var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;r.payload=function(){return y(b)},r.callback=function(){ep(o,a,d)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){ep(o,a,d),typeof y!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function tS(r,o,a,d,y){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=a.alternate,o!==null&&Vo(o,a,y,!0),a=dn.current,a!==null){switch(a.tag){case 13:return _n===null?kc():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=y,d===Ru?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([d]):o.add(d),Ac(r,d,y)),!1;case 22:return a.flags|=65536,d===Ru?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([d]):a.add(d)),Ac(r,d,y)),!1}throw Error(i(435,a.tag))}return Ac(r,d,y),kc(),!1}if(Ge)return o=dn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Cu&&(r=Error(i(422),{cause:d}),Fo(an(r,a)))):(d!==Cu&&(o=Error(i(423),{cause:d}),Fo(an(o,a))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=an(d,a),y=nc(r.stateNode,d,y),Pu(r,y),lt!==4&&(lt=2)),!1;var b=Error(i(520),{cause:d});if(b=an(b,a),al===null?al=[b]:al.push(b),lt!==4&&(lt=2),o===null)return!0;d=an(d,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,r=y&-y,a.lanes|=r,r=nc(a.stateNode,d,r),Pu(a,r),!1;case 1:if(o=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(pi===null||!pi.has(b))))return a.flags|=65536,y&=-y,a.lanes|=y,y=tp(y),np(y,r,a,d),Pu(a,y),!1}a=a.return}while(a!==null);return!1}var ip=Error(i(461)),xt=!1;function _t(r,o,a,d){o.child=r===null?Ym(o,null,a,d):Ur(o,r.child,a,d)}function rp(r,o,a,d,y){a=a.render;var b=o.ref;if("ref"in d){var w={};for(var k in d)k!=="ref"&&(w[k]=d[k])}else w=d;return Yi(o),d=zu(r,o,a,w,b,y),k=qu(),r!==null&&!xt?(Fu(r,o,y),Vn(r,o,y)):(Ge&&k&&Su(o),o.flags|=1,_t(r,o,d,y),o.child)}function op(r,o,a,d,y){if(r===null){var b=a.type;return typeof b=="function"&&!xu(b)&&b.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=b,lp(r,o,b,d,y)):(r=us(a.type,null,d,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!cc(r,y)){var w=b.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(w,d)&&r.ref===o.ref)return Vn(r,o,y)}return o.flags|=1,r=Ln(b,d),r.ref=o.ref,r.return=o,o.child=r}function lp(r,o,a,d,y){if(r!==null){var b=r.memoizedProps;if(Bo(b,d)&&r.ref===o.ref)if(xt=!1,o.pendingProps=d=b,cc(r,y))(r.flags&131072)!==0&&(xt=!0);else return o.lanes=r.lanes,Vn(r,o,y)}return ic(r,o,a,d,y)}function sp(r,o,a){var d=o.pendingProps,y=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|a:a,r!==null){for(y=o.child=r.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return ap(r,o,d,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&ms(o,b!==null?b.cachePool:null),b!==null?lm(o,b):Uu(),Jm(o);else return o.lanes=o.childLanes=536870912,ap(r,o,b!==null?b.baseLanes|a:a,a)}else b!==null?(ms(o,b.cachePool),lm(o,b),ui(),o.memoizedState=null):(r!==null&&ms(o,null),Uu(),ui());return _t(r,o,y,a),o.child}function ap(r,o,a,d){var y=Nu();return y=y===null?null:{parent:gt._currentValue,pool:y},o.memoizedState={baseLanes:a,cachePool:y},r!==null&&ms(o,null),Uu(),Jm(o),r!==null&&Vo(r,o,d,!0),null}function Rs(r,o){var a=o.ref;if(a===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(o.flags|=4194816)}}function ic(r,o,a,d,y){return Yi(o),a=zu(r,o,a,d,void 0,y),d=qu(),r!==null&&!xt?(Fu(r,o,y),Vn(r,o,y)):(Ge&&d&&Su(o),o.flags|=1,_t(r,o,a,y),o.child)}function up(r,o,a,d,y,b){return Yi(o),o.updateQueue=null,a=am(o,d,a,y),sm(r),d=qu(),r!==null&&!xt?(Fu(r,o,b),Vn(r,o,b)):(Ge&&d&&Su(o),o.flags|=1,_t(r,o,a,b),o.child)}function cp(r,o,a,d,y){if(Yi(o),o.stateNode===null){var b=kr,w=a.contextType;typeof w=="object"&&w!==null&&(b=Mt(w)),b=new a(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tc,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Du(o),w=a.contextType,b.context=typeof w=="object"&&w!==null?Mt(w):kr,b.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(ec(o,a,w,d),b.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&tc.enqueueReplaceState(b,b.state,null),Ko(o,d,b,y),Jo(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){b=o.stateNode;var k=o.memoizedProps,D=Xi(a,k);b.props=D;var F=b.context,K=a.contextType;w=kr,typeof K=="object"&&K!==null&&(w=Mt(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,K||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||F!==w)&&Xm(o,b,d,w),ri=!1;var G=o.memoizedState;b.state=G,Ko(o,d,b,y),Jo(),F=o.memoizedState,k||G!==F||ri?(typeof Q=="function"&&(ec(o,a,Q,d),F=o.memoizedState),(D=ri||Km(o,a,D,d,G,F,w))?(K||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),b.props=d,b.state=F,b.context=w,d=D):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Iu(r,o),w=o.memoizedProps,K=Xi(a,w),b.props=K,Q=o.pendingProps,G=b.context,F=a.contextType,D=kr,typeof F=="object"&&F!==null&&(D=Mt(F)),k=a.getDerivedStateFromProps,(F=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==Q||G!==D)&&Xm(o,b,d,D),ri=!1,G=o.memoizedState,b.state=G,Ko(o,d,b,y),Jo();var H=o.memoizedState;w!==Q||G!==H||ri||r!==null&&r.dependencies!==null&&ds(r.dependencies)?(typeof k=="function"&&(ec(o,a,k,d),H=o.memoizedState),(K=ri||Km(o,a,K,d,G,H,D)||r!==null&&r.dependencies!==null&&ds(r.dependencies))?(F||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,H,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,H,D)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&G===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&G===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=H),b.props=d,b.state=H,b.context=D,d=K):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&G===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&G===r.memoizedState||(o.flags|=1024),d=!1)}return b=d,Rs(r,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&d?(o.child=Ur(o,r.child,null,y),o.child=Ur(o,null,a,y)):_t(r,o,a,y),o.memoizedState=b.state,r=o.child):r=Vn(r,o,y),r}function fp(r,o,a,d){return qo(),o.flags|=256,_t(r,o,a,d),o.child}var rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(r){return{baseLanes:r,cachePool:Wh()}}function lc(r,o,a){return r=r!==null?r.childLanes&~a:0,o&&(r|=hn),r}function dp(r,o,a){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=r!==null&&r.memoizedState===null?!1:(yt.current&2)!==0),w&&(y=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ge){if(y?ai(o):ui(),Ge){var k=ot,D;if(D=k){e:{for(D=k,k=Cn;D.nodeType!==8;){if(!k){k=null;break e}if(D=bn(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(o.memoizedState={dehydrated:k,treeContext:Vi!==null?{id:Un,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},D=Qt(18,null,null,0),D.stateNode=k,D.return=o,o.child=D,Ot=o,ot=null,D=!0):D=!1}D||ji(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Gc(k)?o.lanes=32:o.lanes=536870912,null;Fn(o)}return k=d.children,d=d.fallback,y?(ui(),y=o.mode,k=Ds({mode:"hidden",children:k},y),d=Fi(d,y,a,null),k.return=o,d.return=o,k.sibling=d,o.child=k,y=o.child,y.memoizedState=oc(a),y.childLanes=lc(r,w,a),o.memoizedState=rc,d):(ai(o),sc(o,k))}if(D=r.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(b)o.flags&256?(ai(o),o.flags&=-257,o=ac(r,o,a)):o.memoizedState!==null?(ui(),o.child=r.child,o.flags|=128,o=null):(ui(),y=d.fallback,k=o.mode,d=Ds({mode:"visible",children:d.children},k),y=Fi(y,k,a,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,Ur(o,r.child,null,a),d=o.child,d.memoizedState=oc(a),d.childLanes=lc(r,w,a),o.memoizedState=rc,o=y);else if(ai(o),Gc(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var F=w.dgst;w=F,d=Error(i(419)),d.stack="",d.digest=w,Fo({value:d,source:null,stack:null}),o=ac(r,o,a)}else if(xt||Vo(r,o,a,!1),w=(a&r.childLanes)!==0,xt||w){if(w=Ze,w!==null&&(d=a&-a,d=(d&42)!==0?1:Ha(d),d=(d&(w.suspendedLanes|a))!==0?0:d,d!==0&&d!==D.retryLane))throw D.retryLane=d,_r(r,d),nn(w,r,d),ip;k.data==="$?"||kc(),o=ac(r,o,a)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=D.treeContext,ot=bn(k.nextSibling),Ot=o,Ge=!0,Hi=null,Cn=!1,r!==null&&(cn[fn++]=Un,cn[fn++]=Bn,cn[fn++]=Vi,Un=r.id,Bn=r.overflow,Vi=o),o=sc(o,d.children),o.flags|=4096);return o}return y?(ui(),y=d.fallback,k=o.mode,D=r.child,F=D.sibling,d=Ln(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,F!==null?y=Ln(F,y):(y=Fi(y,k,a,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,k=r.child.memoizedState,k===null?k=oc(a):(D=k.cachePool,D!==null?(F=gt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Wh(),k={baseLanes:k.baseLanes|a,cachePool:D}),y.memoizedState=k,y.childLanes=lc(r,w,a),o.memoizedState=rc,d):(ai(o),a=r.child,r=a.sibling,a=Ln(a,{mode:"visible",children:d.children}),a.return=o,a.sibling=null,r!==null&&(w=o.deletions,w===null?(o.deletions=[r],o.flags|=16):w.push(r)),o.child=a,o.memoizedState=null,a)}function sc(r,o){return o=Ds({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Ds(r,o){return r=Qt(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ac(r,o,a){return Ur(o,r.child,null,a),r=sc(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function hp(r,o,a){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),ku(r.return,o,a)}function uc(r,o,a,d,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=a,b.tailMode=y)}function mp(r,o,a){var d=o.pendingProps,y=d.revealOrder,b=d.tail;if(_t(r,o,d.children,a),d=yt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hp(r,a,o);else if(r.tag===19)hp(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(A(yt,d),y){case"forwards":for(a=o.child,y=null;a!==null;)r=a.alternate,r!==null&&As(r)===null&&(y=a),a=a.sibling;a=y,a===null?(y=o.child,o.child=null):(y=a.sibling,a.sibling=null),uc(o,!1,y,a,b);break;case"backwards":for(a=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&As(r)===null){o.child=y;break}r=y.sibling,y.sibling=a,a=y,y=r}uc(o,!0,a,null,b);break;case"together":uc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vn(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),mi|=o.lanes,(a&o.childLanes)===0)if(r!==null){if(Vo(r,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,a=Ln(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=Ln(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function cc(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ds(r)))}function nS(r,o,a){switch(o.tag){case 3:Ce(o,o.stateNode.containerInfo),ii(o,gt,r.memoizedState.cache),qo();break;case 27:case 5:Ct(o);break;case 4:Ce(o,o.stateNode.containerInfo);break;case 10:ii(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ai(o),o.flags|=128,null):(a&o.child.childLanes)!==0?dp(r,o,a):(ai(o),r=Vn(r,o,a),r!==null?r.sibling:null);ai(o);break;case 19:var y=(r.flags&128)!==0;if(d=(a&o.childLanes)!==0,d||(Vo(r,o,a,!1),d=(a&o.childLanes)!==0),y){if(d)return mp(r,o,a);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),A(yt,yt.current),d)break;return null;case 22:case 23:return o.lanes=0,sp(r,o,a);case 24:ii(o,gt,r.memoizedState.cache)}return Vn(r,o,a)}function pp(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps)xt=!0;else{if(!cc(r,a)&&(o.flags&128)===0)return xt=!1,nS(r,o,a);xt=(r.flags&131072)!==0}else xt=!1,Ge&&(o.flags&1048576)!==0&&jh(o,fs,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")xu(d)?(r=Xi(d,r),o.tag=1,o=cp(null,o,d,r,a)):(o.tag=0,o=ic(null,o,d,r,a));else{if(d!=null){if(y=d.$$typeof,y===q){o.tag=11,o=rp(null,o,d,r,a);break e}else if(y===J){o.tag=14,o=op(null,o,d,r,a);break e}}throw o=le(d)||d,Error(i(306,o,""))}}return o;case 0:return ic(r,o,o.type,o.pendingProps,a);case 1:return d=o.type,y=Xi(d,o.pendingProps),cp(r,o,d,y,a);case 3:e:{if(Ce(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;y=b.element,Iu(r,o),Ko(o,d,null,a);var w=o.memoizedState;if(d=w.cache,ii(o,gt,d),d!==b.cache&&Eu(o,[gt],a,!0),Jo(),d=w.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=fp(r,o,d,a);break e}else if(d!==y){y=an(Error(i(424)),o),Fo(y),o=fp(r,o,d,a);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ot=bn(r.firstChild),Ot=o,Ge=!0,Hi=null,Cn=!0,a=Ym(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qo(),d===y){o=Vn(r,o,a);break e}_t(r,o,d,a)}o=o.child}return o;case 26:return Rs(r,o),r===null?(a=xg(o.type,null,o.pendingProps,null))?o.memoizedState=a:Ge||(a=o.type,r=o.pendingProps,d=$s(fe.current).createElement(a),d[At]=o,d[qt]=r,Et(d,a,r),vt(d),o.stateNode=d):o.memoizedState=xg(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ct(o),r===null&&Ge&&(d=o.stateNode=gg(o.type,o.pendingProps,fe.current),Ot=o,Cn=!0,y=ot,vi(o.type)?(Hc=y,ot=bn(d.firstChild)):ot=y),_t(r,o,o.pendingProps.children,a),Rs(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ge&&((y=d=ot)&&(d=NS(d,o.type,o.pendingProps,Cn),d!==null?(o.stateNode=d,Ot=o,ot=bn(d.firstChild),Cn=!1,y=!0):y=!1),y||ji(o)),Ct(o),y=o.type,b=o.pendingProps,w=r!==null?r.memoizedProps:null,d=b.children,qc(y,b)?d=null:w!==null&&qc(y,w)&&(o.flags|=32),o.memoizedState!==null&&(y=zu(r,o,JT,null,null,a),yl._currentValue=y),Rs(r,o),_t(r,o,d,a),o.child;case 6:return r===null&&Ge&&((r=a=ot)&&(a=RS(a,o.pendingProps,Cn),a!==null?(o.stateNode=a,Ot=o,ot=null,r=!0):r=!1),r||ji(o)),null;case 13:return dp(r,o,a);case 4:return Ce(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Ur(o,null,d,a):_t(r,o,d,a),o.child;case 11:return rp(r,o,o.type,o.pendingProps,a);case 7:return _t(r,o,o.pendingProps,a),o.child;case 8:return _t(r,o,o.pendingProps.children,a),o.child;case 12:return _t(r,o,o.pendingProps.children,a),o.child;case 10:return d=o.pendingProps,ii(o,o.type,d.value),_t(r,o,d.children,a),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Yi(o),y=Mt(y),d=d(y),o.flags|=1,_t(r,o,d,a),o.child;case 14:return op(r,o,o.type,o.pendingProps,a);case 15:return lp(r,o,o.type,o.pendingProps,a);case 19:return mp(r,o,a);case 31:return d=o.pendingProps,a=o.mode,d={mode:d.mode,children:d.children},r===null?(a=Ds(d,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=Ln(r.child,d),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return sp(r,o,a);case 24:return Yi(o),d=Mt(gt),r===null?(y=Nu(),y===null&&(y=Ze,b=Au(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=a),y=b),o.memoizedState={parent:d,cache:y},Du(o),ii(o,gt,y)):((r.lanes&a)!==0&&(Iu(r,o),Ko(o,null,null,a),Jo()),y=r.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ii(o,gt,d)):(d=b.cache,ii(o,gt,d),d!==y.cache&&Eu(o,[gt],a,!0))),_t(r,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Gn(r){r.flags|=4}function gp(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Cg(o)){if(o=dn.current,o!==null&&((Be&4194048)===Be?_n!==null:(Be&62914560)!==Be&&(Be&536870912)===0||o!==_n))throw $o=Ru,Zh;r.flags|=8192}}function Is(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Jd():536870912,r.lanes|=o,qr|=o)}function nl(r,o){if(!Ge)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function rt(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(o)for(var y=r.child;y!==null;)a|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)a|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=a,o}function iS(r,o,a){var d=o.pendingProps;switch(wu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(o),null;case 1:return rt(o),null;case 3:return a=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),zn(gt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(zo(o)?Gn(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jh())),rt(o),null;case 26:return a=o.memoizedState,r===null?(Gn(o),a!==null?(rt(o),gp(o,a)):(rt(o),o.flags&=-16777217)):a?a!==r.memoizedState?(Gn(o),rt(o),gp(o,a)):(rt(o),o.flags&=-16777217):(r.memoizedProps!==d&&Gn(o),rt(o),o.flags&=-16777217),null;case 27:Lt(o),a=fe.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Gn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return rt(o),null}r=de.current,zo(o)?$h(o):(r=gg(y,d,a),o.stateNode=r,Gn(o))}return rt(o),null;case 5:if(Lt(o),a=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Gn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return rt(o),null}if(r=de.current,zo(o))$h(o);else{switch(y=$s(fe.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?y.createElement(a,{is:d.is}):y.createElement(a)}}r[At]=o,r[qt]=d;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(Et(r,a,d),a){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gn(o)}}return rt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Gn(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=fe.current,zo(o)){if(r=o.stateNode,a=o.memoizedProps,d=null,y=Ot,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[At]=o,r=!!(r.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||ug(r.nodeValue,a)),r||ji(o)}else r=$s(r).createTextNode(d),r[At]=o,o.stateNode=r}return rt(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=zo(o),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[At]=o}else qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rt(o),y=!1}else y=Jh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Fn(o),o):(Fn(o),null)}if(Fn(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=d!==null,r=r!==null&&r.memoizedState!==null,a){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return a!==r&&a&&(o.child.flags|=8192),Is(o,o.updateQueue),rt(o),null;case 4:return st(),r===null&&Lc(o.stateNode.containerInfo),rt(o),null;case 10:return zn(o.type),rt(o),null;case 19:if(ie(yt),y=o.memoizedState,y===null)return rt(o),null;if(d=(o.flags&128)!==0,b=y.rendering,b===null)if(d)nl(y,!1);else{if(lt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=As(r),b!==null){for(o.flags|=128,nl(y,!1),r=b.updateQueue,o.updateQueue=r,Is(o,r),o.subtreeFlags=0,r=a,a=o.child;a!==null;)Hh(a,r),a=a.sibling;return A(yt,yt.current&1|2),o.child}r=r.sibling}y.tail!==null&&Ut()>Us&&(o.flags|=128,d=!0,nl(y,!1),o.lanes=4194304)}else{if(!d)if(r=As(b),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Is(o,r),nl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ge)return rt(o),null}else 2*Ut()-y.renderingStartTime>Us&&a!==536870912&&(o.flags|=128,d=!0,nl(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(r=y.last,r!==null?r.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ut(),o.sibling=null,r=yt.current,A(yt,d?r&1|2:r&1),o):(rt(o),null);case 22:case 23:return Fn(o),Bu(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(a&536870912)!==0&&(o.flags&128)===0&&(rt(o),o.subtreeFlags&6&&(o.flags|=8192)):rt(o),a=o.updateQueue,a!==null&&Is(o,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==a&&(o.flags|=2048),r!==null&&ie(Ji),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),zn(gt),rt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function rS(r,o){switch(wu(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return zn(gt),st(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Lt(o),null;case 13:if(Fn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));qo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ie(yt),null;case 4:return st(),null;case 10:return zn(o.type),null;case 22:case 23:return Fn(o),Bu(),r!==null&&ie(Ji),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return zn(gt),null;case 25:return null;default:return null}}function yp(r,o){switch(wu(o),o.tag){case 3:zn(gt),st();break;case 26:case 27:case 5:Lt(o);break;case 4:st();break;case 13:Fn(o);break;case 19:ie(yt);break;case 10:zn(o.type);break;case 22:case 23:Fn(o),Bu(),r!==null&&ie(Ji);break;case 24:zn(gt)}}function il(r,o){try{var a=o.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var y=d.next;a=y;do{if((a.tag&r)===r){d=void 0;var b=a.create,w=a.inst;d=b(),w.destroy=d}a=a.next}while(a!==y)}}catch(k){Qe(o,o.return,k)}}function ci(r,o,a){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&r)===r){var w=d.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,y=o;var D=a,F=k;try{F()}catch(K){Qe(y,D,K)}}}d=d.next}while(d!==b)}}catch(K){Qe(o,o.return,K)}}function vp(r){var o=r.updateQueue;if(o!==null){var a=r.stateNode;try{om(o,a)}catch(d){Qe(r,r.return,d)}}}function xp(r,o,a){a.props=Xi(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(d){Qe(r,o,d)}}function rl(r,o){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof a=="function"?r.refCleanup=a(d):a.current=d}}catch(y){Qe(r,o,y)}}function kn(r,o){var a=r.ref,d=r.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(y){Qe(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(y){Qe(r,o,y)}else a.current=null}function bp(r){var o=r.type,a=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(y){Qe(r,r.return,y)}}function fc(r,o,a){try{var d=r.stateNode;_S(d,r.type,a,o),d[qt]=o}catch(y){Qe(r,r.return,y)}}function Tp(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vi(r.type)||r.tag===4}function dc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hc(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(r),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=js));else if(d!==4&&(d===27&&vi(r.type)&&(a=r.stateNode,o=null),r=r.child,r!==null))for(hc(r,o,a),r=r.sibling;r!==null;)hc(r,o,a),r=r.sibling}function Ps(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(d!==4&&(d===27&&vi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Ps(r,o,a),r=r.sibling;r!==null;)Ps(r,o,a),r=r.sibling}function Sp(r){var o=r.stateNode,a=r.memoizedProps;try{for(var d=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Et(o,d,a),o[At]=r,o[qt]=a}catch(b){Qe(r,r.return,b)}}var Hn=!1,ut=!1,mc=!1,wp=typeof WeakSet=="function"?WeakSet:Set,bt=null;function oS(r,o){if(r=r.containerInfo,Oc=Ws,r=Ph(r),du(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var w=0,k=-1,D=-1,F=0,K=0,Q=r,G=null;t:for(;;){for(var H;Q!==a||y!==0&&Q.nodeType!==3||(k=w+y),Q!==b||d!==0&&Q.nodeType!==3||(D=w+d),Q.nodeType===3&&(w+=Q.nodeValue.length),(H=Q.firstChild)!==null;)G=Q,Q=H;for(;;){if(Q===r)break t;if(G===a&&++F===y&&(k=w),G===b&&++K===d&&(D=w),(H=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=H}a=k===-1||D===-1?null:{start:k,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(zc={focusedElem:r,selectionRange:a},Ws=!1,bt=o;bt!==null;)if(o=bt,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,bt=r;else for(;bt!==null;){switch(o=bt,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,a=o,y=b.memoizedProps,b=b.memoizedState,d=a.stateNode;try{var we=Xi(a.type,y,a.elementType===a.type);r=d.getSnapshotBeforeUpdate(we,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(be){Qe(a,a.return,be)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,a=r.nodeType,a===9)Vc(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vc(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,bt=r;break}bt=o.return}}function Cp(r,o,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:fi(r,a),d&4&&il(5,a);break;case 1:if(fi(r,a),d&4)if(r=a.stateNode,o===null)try{r.componentDidMount()}catch(w){Qe(a,a.return,w)}else{var y=Xi(a.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Qe(a,a.return,w)}}d&64&&vp(a),d&512&&rl(a,a.return);break;case 3:if(fi(r,a),d&64&&(r=a.updateQueue,r!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{om(r,o)}catch(w){Qe(a,a.return,w)}}break;case 27:o===null&&d&4&&Sp(a);case 26:case 5:fi(r,a),o===null&&d&4&&bp(a),d&512&&rl(a,a.return);break;case 12:fi(r,a);break;case 13:fi(r,a),d&4&&Ep(r,a),d&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=mS.bind(null,a),DS(r,a))));break;case 22:if(d=a.memoizedState!==null||Hn,!d){o=o!==null&&o.memoizedState!==null||ut,y=Hn;var b=ut;Hn=d,(ut=o)&&!b?di(r,a,(a.subtreeFlags&8772)!==0):fi(r,a),Hn=y,ut=b}break;case 30:break;default:fi(r,a)}}function _p(r){var o=r.alternate;o!==null&&(r.alternate=null,_p(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Ya(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var it=null,Gt=!1;function jn(r,o,a){for(a=a.child;a!==null;)kp(r,o,a),a=a.sibling}function kp(r,o,a){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Y,a)}catch{}switch(a.tag){case 26:ut||kn(a,o),jn(r,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||kn(a,o);var d=it,y=Gt;vi(a.type)&&(it=a.stateNode,Gt=!1),jn(r,o,a),hl(a.stateNode),it=d,Gt=y;break;case 5:ut||kn(a,o);case 6:if(d=it,y=Gt,it=null,jn(r,o,a),it=d,Gt=y,it!==null)if(Gt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(b){Qe(a,o,b)}else try{it.removeChild(a.stateNode)}catch(b){Qe(a,o,b)}break;case 18:it!==null&&(Gt?(r=it,mg(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Tl(r)):mg(it,a.stateNode));break;case 4:d=it,y=Gt,it=a.stateNode.containerInfo,Gt=!0,jn(r,o,a),it=d,Gt=y;break;case 0:case 11:case 14:case 15:ut||ci(2,a,o),ut||ci(4,a,o),jn(r,o,a);break;case 1:ut||(kn(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"&&xp(a,o,d)),jn(r,o,a);break;case 21:jn(r,o,a);break;case 22:ut=(d=ut)||a.memoizedState!==null,jn(r,o,a),ut=d;break;default:jn(r,o,a)}}function Ep(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tl(r)}catch(a){Qe(o,o.return,a)}}function lS(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new wp),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new wp),o;default:throw Error(i(435,r.tag))}}function pc(r,o){var a=lS(r);o.forEach(function(d){var y=pS.bind(null,r,d);a.has(d)||(a.add(d),d.then(y,y))})}function Wt(r,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var y=a[d],b=r,w=o,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(vi(k.type)){it=k.stateNode,Gt=!1;break e}break;case 5:it=k.stateNode,Gt=!1;break e;case 3:case 4:it=k.stateNode.containerInfo,Gt=!0;break e}k=k.return}if(it===null)throw Error(i(160));kp(b,w,y),it=null,Gt=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Ap(o,r),o=o.sibling}var xn=null;function Ap(r,o){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wt(o,r),Zt(r),d&4&&(ci(3,r,r.return),il(3,r),ci(5,r,r.return));break;case 1:Wt(o,r),Zt(r),d&512&&(ut||a===null||kn(a,a.return)),d&64&&Hn&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var y=xn;if(Wt(o,r),Zt(r),d&512&&(ut||a===null||kn(a,a.return)),d&4){var b=a!==null?a.memoizedState:null;if(d=r.memoizedState,a===null)if(d===null)if(r.stateNode===null){e:{d=r.type,a=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Ao]||b[At]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),Et(b,d,a),b[At]=r,vt(b),d=b;break e;case"link":var w=Sg("link","href",y).get(d+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(b=w[k],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break t}}b=y.createElement(d),Et(b,d,a),y.head.appendChild(b);break;case"meta":if(w=Sg("meta","content",y).get(d+(a.content||""))){for(k=0;k<w.length;k++)if(b=w[k],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break t}}b=y.createElement(d),Et(b,d,a),y.head.appendChild(b);break;default:throw Error(i(468,d))}b[At]=r,vt(b),d=b}r.stateNode=d}else wg(y,r.type,r.stateNode);else r.stateNode=Tg(y,d,r.memoizedProps);else b!==d?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,d===null?wg(y,r.type,r.stateNode):Tg(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&fc(r,r.memoizedProps,a.memoizedProps)}break;case 27:Wt(o,r),Zt(r),d&512&&(ut||a===null||kn(a,a.return)),a!==null&&d&4&&fc(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Wt(o,r),Zt(r),d&512&&(ut||a===null||kn(a,a.return)),r.flags&32){y=r.stateNode;try{vr(y,"")}catch(H){Qe(r,r.return,H)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,fc(r,y,a!==null?a.memoizedProps:y)),d&1024&&(mc=!0);break;case 6:if(Wt(o,r),Zt(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,a=r.stateNode;try{a.nodeValue=d}catch(H){Qe(r,r.return,H)}}break;case 3:if(Ks=null,y=xn,xn=Ys(o.containerInfo),Wt(o,r),xn=y,Zt(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(o.containerInfo)}catch(H){Qe(r,r.return,H)}mc&&(mc=!1,Mp(r));break;case 4:d=xn,xn=Ys(r.stateNode.containerInfo),Wt(o,r),Zt(r),xn=d;break;case 12:Wt(o,r),Zt(r);break;case 13:Wt(o,r),Zt(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=Ut()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pc(r,d)));break;case 22:y=r.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Hn,K=ut;if(Hn=F||y,ut=K||D,Wt(o,r),ut=K,Hn=F,Zt(r),d&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(a===null||D||Hn||ut||Qi(r)),a=null,o=r;;){if(o.tag===5||o.tag===26){if(a===null){D=a=o;try{if(b=D.stateNode,y)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=D.stateNode;var Q=D.memoizedProps.style,G=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;k.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(H){Qe(D,D.return,H)}}}else if(o.tag===6){if(a===null){D=o;try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(H){Qe(D,D.return,H)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,pc(r,a))));break;case 19:Wt(o,r),Zt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,pc(r,d)));break;case 30:break;case 21:break;default:Wt(o,r),Zt(r)}}function Zt(r){var o=r.flags;if(o&2){try{for(var a,d=r.return;d!==null;){if(Tp(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var y=a.stateNode,b=dc(r);Ps(r,b,y);break;case 5:var w=a.stateNode;a.flags&32&&(vr(w,""),a.flags&=-33);var k=dc(r);Ps(r,k,w);break;case 3:case 4:var D=a.stateNode.containerInfo,F=dc(r);hc(r,F,D);break;default:throw Error(i(161))}}catch(K){Qe(r,r.return,K)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Mp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Mp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function fi(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Cp(r,o.alternate,o),o=o.sibling}function Qi(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ci(4,o,o.return),Qi(o);break;case 1:kn(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&xp(o,o.return,a),Qi(o);break;case 27:hl(o.stateNode);case 26:case 5:kn(o,o.return),Qi(o);break;case 22:o.memoizedState===null&&Qi(o);break;case 30:Qi(o);break;default:Qi(o)}r=r.sibling}}function di(r,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=r,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:di(y,b,a),il(4,b);break;case 1:if(di(y,b,a),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(F){Qe(d,d.return,F)}if(d=b,y=d.updateQueue,y!==null){var k=d.stateNode;try{var D=y.shared.hiddenCallbacks;if(D!==null)for(y.shared.hiddenCallbacks=null,y=0;y<D.length;y++)rm(D[y],k)}catch(F){Qe(d,d.return,F)}}a&&w&64&&vp(b),rl(b,b.return);break;case 27:Sp(b);case 26:case 5:di(y,b,a),a&&d===null&&w&4&&bp(b),rl(b,b.return);break;case 12:di(y,b,a);break;case 13:di(y,b,a),a&&w&4&&Ep(y,b);break;case 22:b.memoizedState===null&&di(y,b,a),rl(b,b.return);break;case 30:break;default:di(y,b,a)}o=o.sibling}}function gc(r,o){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Go(a))}function yc(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Go(r))}function En(r,o,a,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Np(r,o,a,d),o=o.sibling}function Np(r,o,a,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:En(r,o,a,d),y&2048&&il(9,o);break;case 1:En(r,o,a,d);break;case 3:En(r,o,a,d),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Go(r)));break;case 12:if(y&2048){En(r,o,a,d),r=o.stateNode;try{var b=o.memoizedProps,w=b.id,k=b.onPostCommit;typeof k=="function"&&k(w,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){Qe(o,o.return,D)}}else En(r,o,a,d);break;case 13:En(r,o,a,d);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?En(r,o,a,d):ol(r,o):b._visibility&2?En(r,o,a,d):(b._visibility|=2,Br(r,o,a,d,(o.subtreeFlags&10256)!==0)),y&2048&&gc(w,o);break;case 24:En(r,o,a,d),y&2048&&yc(o.alternate,o);break;default:En(r,o,a,d)}}function Br(r,o,a,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,w=o,k=a,D=d,F=w.flags;switch(w.tag){case 0:case 11:case 15:Br(b,w,k,D,y),il(8,w);break;case 23:break;case 22:var K=w.stateNode;w.memoizedState!==null?K._visibility&2?Br(b,w,k,D,y):ol(b,w):(K._visibility|=2,Br(b,w,k,D,y)),y&&F&2048&&gc(w.alternate,w);break;case 24:Br(b,w,k,D,y),y&&F&2048&&yc(w.alternate,w);break;default:Br(b,w,k,D,y)}o=o.sibling}}function ol(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=r,d=o,y=d.flags;switch(d.tag){case 22:ol(a,d),y&2048&&gc(d.alternate,d);break;case 24:ol(a,d),y&2048&&yc(d.alternate,d);break;default:ol(a,d)}o=o.sibling}}var ll=8192;function Or(r){if(r.subtreeFlags&ll)for(r=r.child;r!==null;)Rp(r),r=r.sibling}function Rp(r){switch(r.tag){case 26:Or(r),r.flags&ll&&r.memoizedState!==null&&jS(xn,r.memoizedState,r.memoizedProps);break;case 5:Or(r);break;case 3:case 4:var o=xn;xn=Ys(r.stateNode.containerInfo),Or(r),xn=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Or(r),ll=o):Or(r));break;default:Or(r)}}function Dp(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function sl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];bt=d,Pp(d,r)}Dp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ip(r),r=r.sibling}function Ip(r){switch(r.tag){case 0:case 11:case 15:sl(r),r.flags&2048&&ci(9,r,r.return);break;case 3:sl(r);break;case 12:sl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Ls(r)):sl(r);break;default:sl(r)}}function Ls(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];bt=d,Pp(d,r)}Dp(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ci(8,o,o.return),Ls(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Ls(o));break;default:Ls(o)}r=r.sibling}}function Pp(r,o){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:ci(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Go(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,bt=d;else e:for(a=r;bt!==null;){d=bt;var y=d.sibling,b=d.return;if(_p(d),d===a){bt=null;break e}if(y!==null){y.return=b,bt=y;break e}bt=b}}}var sS={getCacheForType:function(r){var o=Mt(gt),a=o.data.get(r);return a===void 0&&(a=r(),o.data.set(r,a)),a}},aS=typeof WeakMap=="function"?WeakMap:Map,je=0,Ze=null,Ie=null,Be=0,$e=0,en=null,hi=!1,zr=!1,vc=!1,$n=0,lt=0,mi=0,Wi=0,xc=0,hn=0,qr=0,al=null,Ht=null,bc=!1,Tc=0,Us=1/0,Bs=null,pi=null,kt=0,gi=null,Fr=null,Vr=0,Sc=0,wc=null,Lp=null,ul=0,Cc=null;function tn(){if((je&2)!==0&&Be!==0)return Be&-Be;if(V.T!==null){var r=Mr;return r!==0?r:Rc()}return Qd()}function Up(){hn===0&&(hn=(Be&536870912)===0||Ge?Yd():536870912);var r=dn.current;return r!==null&&(r.flags|=32),hn}function nn(r,o,a){(r===Ze&&($e===2||$e===9)||r.cancelPendingCommit!==null)&&(Gr(r,0),yi(r,Be,hn,!1)),Eo(r,a),((je&2)===0||r!==Ze)&&(r===Ze&&((je&2)===0&&(Wi|=a),lt===4&&yi(r,Be,hn,!1)),An(r))}function Bp(r,o,a){if((je&6)!==0)throw Error(i(327));var d=!a&&(o&124)===0&&(o&r.expiredLanes)===0||Bt(r,o),y=d?fS(r,o):Ec(r,o,!0),b=d;do{if(y===0){zr&&!d&&yi(r,o,0,!1);break}else{if(a=r.current.alternate,b&&!uS(a)){y=Ec(r,o,!1),b=!1;continue}if(y===2){if(b=o,r.errorRecoveryDisabledLanes&b)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var k=r;y=al;var D=k.current.memoizedState.isDehydrated;if(D&&(Gr(k,w).flags|=256),w=Ec(k,w,!1),w!==2){if(vc&&!D){k.errorRecoveryDisabledLanes|=b,Wi|=b,y=4;break e}b=Ht,Ht=y,b!==null&&(Ht===null?Ht=b:Ht.push.apply(Ht,b))}y=w}if(b=!1,y!==2)continue}}if(y===1){Gr(r,0),yi(r,o,0,!0);break}e:{switch(d=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:yi(d,o,hn,!hi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Tc+300-Ut(),10<y)){if(yi(d,o,hn,!hi),ct(d,0,!0)!==0)break e;d.timeoutHandle=dg(Op.bind(null,d,a,Ht,Bs,bc,o,hn,Wi,qr,hi,b,2,-0,0),y);break e}Op(d,a,Ht,Bs,bc,o,hn,Wi,qr,hi,b,0,-0,0)}}break}while(!0);An(r)}function Op(r,o,a,d,y,b,w,k,D,F,K,Q,G,H){if(r.timeoutHandle=-1,Q=o.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:HS},Rp(o),Q=$S(),Q!==null)){r.cancelPendingCommit=Q(jp.bind(null,r,o,b,a,d,y,w,k,D,K,1,G,H)),yi(r,b,w,!F);return}jp(r,o,b,a,d,y,w,k,D)}function uS(r){for(var o=r;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var y=a[d],b=y.getSnapshot;y=y.value;try{if(!Xt(b(),y))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function yi(r,o,a,d){o&=~xc,o&=~Wi,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var y=o;0<y;){var b=31-ve(y),w=1<<b;d[b]=-1,y&=~w}a!==0&&Kd(r,a,o)}function Os(){return(je&6)===0?(cl(0),!1):!0}function _c(){if(Ie!==null){if($e===0)var r=Ie.return;else r=Ie,On=$i=null,Vu(r),Lr=null,el=0,r=Ie;for(;r!==null;)yp(r.alternate,r),r=r.return;Ie=null}}function Gr(r,o){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,ES(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),_c(),Ze=r,Ie=a=Ln(r.current,null),Be=o,$e=0,en=null,hi=!1,zr=Bt(r,o),vc=!1,qr=hn=xc=Wi=mi=lt=0,Ht=al=null,bc=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var y=31-ve(d),b=1<<y;o|=r[y],d&=~b}return $n=o,ls(),a}function zp(r,o){Re=null,V.H=_s,o===jo||o===ps?(o=nm(),$e=3):o===Zh?(o=nm(),$e=4):$e=o===ip?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,en=o,Ie===null&&(lt=1,Ns(r,an(o,r.current)))}function qp(){var r=V.H;return V.H=_s,r===null?_s:r}function Fp(){var r=V.A;return V.A=sS,r}function kc(){lt=4,hi||(Be&4194048)!==Be&&dn.current!==null||(zr=!0),(mi&134217727)===0&&(Wi&134217727)===0||Ze===null||yi(Ze,Be,hn,!1)}function Ec(r,o,a){var d=je;je|=2;var y=qp(),b=Fp();(Ze!==r||Be!==o)&&(Bs=null,Gr(r,o)),o=!1;var w=lt;e:do try{if($e!==0&&Ie!==null){var k=Ie,D=en;switch($e){case 8:_c(),w=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(o=!0);var F=$e;if($e=0,en=null,Hr(r,k,D,F),a&&zr){w=0;break e}break;default:F=$e,$e=0,en=null,Hr(r,k,D,F)}}cS(),w=lt;break}catch(K){zp(r,K)}while(!0);return o&&r.shellSuspendCounter++,On=$i=null,je=d,V.H=y,V.A=b,Ie===null&&(Ze=null,Be=0,ls()),w}function cS(){for(;Ie!==null;)Vp(Ie)}function fS(r,o){var a=je;je|=2;var d=qp(),y=Fp();Ze!==r||Be!==o?(Bs=null,Us=Ut()+500,Gr(r,o)):zr=Bt(r,o);e:do try{if($e!==0&&Ie!==null){o=Ie;var b=en;t:switch($e){case 1:$e=0,en=null,Hr(r,o,b,1);break;case 2:case 9:if(em(b)){$e=0,en=null,Gp(o);break}o=function(){$e!==2&&$e!==9||Ze!==r||($e=7),An(r)},b.then(o,o);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:em(b)?($e=0,en=null,Gp(o)):($e=0,en=null,Hr(r,o,b,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var k=Ie;if(!w||Cg(w)){$e=0,en=null;var D=k.sibling;if(D!==null)Ie=D;else{var F=k.return;F!==null?(Ie=F,zs(F)):Ie=null}break t}}$e=0,en=null,Hr(r,o,b,5);break;case 6:$e=0,en=null,Hr(r,o,b,6);break;case 8:_c(),lt=6;break e;default:throw Error(i(462))}}dS();break}catch(K){zp(r,K)}while(!0);return On=$i=null,V.H=d,V.A=y,je=a,Ie!==null?0:(Ze=null,Be=0,ls(),lt)}function dS(){for(;Ie!==null&&!Dn();)Vp(Ie)}function Vp(r){var o=pp(r.alternate,r,$n);r.memoizedProps=r.pendingProps,o===null?zs(r):Ie=o}function Gp(r){var o=r,a=o.alternate;switch(o.tag){case 15:case 0:o=up(a,o,o.pendingProps,o.type,void 0,Be);break;case 11:o=up(a,o,o.pendingProps,o.type.render,o.ref,Be);break;case 5:Vu(o);default:yp(a,o),o=Ie=Hh(o,$n),o=pp(a,o,$n)}r.memoizedProps=r.pendingProps,o===null?zs(r):Ie=o}function Hr(r,o,a,d){On=$i=null,Vu(o),Lr=null,el=0;var y=o.return;try{if(tS(r,y,o,a,Be)){lt=1,Ns(r,an(a,r.current)),Ie=null;return}}catch(b){if(y!==null)throw Ie=y,b;lt=1,Ns(r,an(a,r.current)),Ie=null;return}o.flags&32768?(Ge||d===1?r=!0:zr||(Be&536870912)!==0?r=!1:(hi=r=!0,(d===2||d===9||d===3||d===6)&&(d=dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Hp(o,r)):zs(o)}function zs(r){var o=r;do{if((o.flags&32768)!==0){Hp(o,hi);return}r=o.return;var a=iS(o.alternate,o,$n);if(a!==null){Ie=a;return}if(o=o.sibling,o!==null){Ie=o;return}Ie=o=r}while(o!==null);lt===0&&(lt=5)}function Hp(r,o){do{var a=rS(r.alternate,r);if(a!==null){a.flags&=32767,Ie=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(r=r.sibling,r!==null)){Ie=r;return}Ie=r=a}while(r!==null);lt=6,Ie=null}function jp(r,o,a,d,y,b,w,k,D){r.cancelPendingCommit=null;do qs();while(kt!==0);if((je&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=yu,Hb(r,a,b,w,k,D),r===Ze&&(Ie=Ze=null,Be=0),Fr=o,gi=r,Vr=a,Sc=b,wc=y,Lp=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,gS(yn,function(){return Xp(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,y=j.p,j.p=2,w=je,je|=4;try{oS(r,o,a)}finally{je=w,j.p=y,V.T=d}}kt=1,$p(),Yp(),Jp()}}function $p(){if(kt===1){kt=0;var r=gi,o=Fr,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var d=j.p;j.p=2;var y=je;je|=4;try{Ap(o,r);var b=zc,w=Ph(r.containerInfo),k=b.focusedElem,D=b.selectionRange;if(w!==k&&k&&k.ownerDocument&&Ih(k.ownerDocument.documentElement,k)){if(D!==null&&du(k)){var F=D.start,K=D.end;if(K===void 0&&(K=F),"selectionStart"in k)k.selectionStart=F,k.selectionEnd=Math.min(K,k.value.length);else{var Q=k.ownerDocument||document,G=Q&&Q.defaultView||window;if(G.getSelection){var H=G.getSelection(),we=k.textContent.length,be=Math.min(D.start,we),Xe=D.end===void 0?be:Math.min(D.end,we);!H.extend&&be>Xe&&(w=Xe,Xe=be,be=w);var B=Dh(k,be),P=Dh(k,Xe);if(B&&P&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var z=Q.createRange();z.setStart(B.node,B.offset),H.removeAllRanges(),be>Xe?(H.addRange(z),H.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),H.addRange(z))}}}}for(Q=[],H=k;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Q.length;k++){var X=Q[k];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ws=!!Oc,zc=Oc=null}finally{je=y,j.p=d,V.T=a}}r.current=o,kt=2}}function Yp(){if(kt===2){kt=0;var r=gi,o=Fr,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var d=j.p;j.p=2;var y=je;je|=4;try{Cp(r,o.alternate,o)}finally{je=y,j.p=d,V.T=a}}kt=3}}function Jp(){if(kt===4||kt===3){kt=0,ur();var r=gi,o=Fr,a=Vr,d=Lp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kt=5:(kt=0,Fr=gi=null,Kp(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(pi=null),ja(a),o=o.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Y,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=V.T,y=j.p,j.p=2,V.T=null;try{for(var b=r.onRecoverableError,w=0;w<d.length;w++){var k=d[w];b(k.value,{componentStack:k.stack})}}finally{V.T=o,j.p=y}}(Vr&3)!==0&&qs(),An(r),y=r.pendingLanes,(a&4194090)!==0&&(y&42)!==0?r===Cc?ul++:(ul=0,Cc=r):ul=0,cl(0)}}function Kp(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Go(o)))}function qs(r){return $p(),Yp(),Jp(),Xp()}function Xp(){if(kt!==5)return!1;var r=gi,o=Sc;Sc=0;var a=ja(Vr),d=V.T,y=j.p;try{j.p=32>a?32:a,V.T=null,a=wc,wc=null;var b=gi,w=Vr;if(kt=0,Fr=gi=null,Vr=0,(je&6)!==0)throw Error(i(331));var k=je;if(je|=4,Ip(b.current),Np(b,b.current,w,a),je=k,cl(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Y,b)}catch{}return!0}finally{j.p=y,V.T=d,Kp(r,o)}}function Qp(r,o,a){o=an(a,o),o=nc(r.stateNode,o,2),r=li(r,o,2),r!==null&&(Eo(r,2),An(r))}function Qe(r,o,a){if(r.tag===3)Qp(r,r,a);else for(;o!==null;){if(o.tag===3){Qp(o,r,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(pi===null||!pi.has(d))){r=an(a,r),a=tp(2),d=li(o,a,2),d!==null&&(np(a,d,o,r),Eo(d,2),An(d));break}}o=o.return}}function Ac(r,o,a){var d=r.pingCache;if(d===null){d=r.pingCache=new aS;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(a)||(vc=!0,y.add(a),r=hS.bind(null,r,o,a),o.then(r,r))}function hS(r,o,a){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Ze===r&&(Be&a)===a&&(lt===4||lt===3&&(Be&62914560)===Be&&300>Ut()-Tc?(je&2)===0&&Gr(r,0):xc|=a,qr===Be&&(qr=0)),An(r)}function Wp(r,o){o===0&&(o=Jd()),r=_r(r,o),r!==null&&(Eo(r,o),An(r))}function mS(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),Wp(r,a)}function pS(r,o){var a=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(a=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),Wp(r,a)}function gS(r,o){return pt(r,o)}var Fs=null,jr=null,Mc=!1,Vs=!1,Nc=!1,Zi=0;function An(r){r!==jr&&r.next===null&&(jr===null?Fs=jr=r:jr=jr.next=r),Vs=!0,Mc||(Mc=!0,vS())}function cl(r,o){if(!Nc&&Vs){Nc=!0;do for(var a=!1,d=Fs;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var w=d.suspendedLanes,k=d.pingedLanes;b=(1<<31-ve(42|r)+1)-1,b&=y&~(w&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,ng(d,b))}else b=Be,b=ct(d,d===Ze?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Bt(d,b)||(a=!0,ng(d,b));d=d.next}while(a);Nc=!1}}function yS(){Zp()}function Zp(){Vs=Mc=!1;var r=0;Zi!==0&&(kS()&&(r=Zi),Zi=0);for(var o=Ut(),a=null,d=Fs;d!==null;){var y=d.next,b=eg(d,o);b===0?(d.next=null,a===null?Fs=y:a.next=y,y===null&&(jr=a)):(a=d,(r!==0||(b&3)!==0)&&(Vs=!0)),d=y}cl(r)}function eg(r,o){for(var a=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var w=31-ve(b),k=1<<w,D=y[w];D===-1?((k&a)===0||(k&d)!==0)&&(y[w]=Kt(k,o)):D<=o&&(r.expiredLanes|=k),b&=~k}if(o=Ze,a=Be,a=ct(r,r===o?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,a===0||r===o&&($e===2||$e===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Jt(d),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Bt(r,a)){if(o=a&-a,o===r.callbackPriority)return o;switch(d!==null&&Jt(d),ja(a)){case 2:case 8:a=Li;break;case 32:a=yn;break;case 268435456:a=cr;break;default:a=yn}return d=tg.bind(null,r),a=pt(a,d),r.callbackPriority=o,r.callbackNode=a,o}return d!==null&&d!==null&&Jt(d),r.callbackPriority=2,r.callbackNode=null,2}function tg(r,o){if(kt!==0&&kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(qs()&&r.callbackNode!==a)return null;var d=Be;return d=ct(r,r===Ze?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Bp(r,d,o),eg(r,Ut()),r.callbackNode!=null&&r.callbackNode===a?tg.bind(null,r):null)}function ng(r,o){if(qs())return null;Bp(r,o,!0)}function vS(){AS(function(){(je&6)!==0?pt(Pi,yS):Zp()})}function Rc(){return Zi===0&&(Zi=Yd()),Zi}function ig(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zl(""+r)}function rg(r,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,r.id&&a.setAttribute("form",r.id),o.parentNode.insertBefore(a,o),r=new FormData(r),a.parentNode.removeChild(a),r}function xS(r,o,a,d,y){if(o==="submit"&&a&&a.stateNode===y){var b=ig((y[qt]||null).action),w=d.submitter;w&&(o=(o=w[qt]||null)?ig(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var k=new is("action","action",null,d,y);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Zi!==0){var D=w?rg(y,w):new FormData(y);Qu(a,{pending:!0,data:D,method:y.method,action:b},null,D)}}else typeof b=="function"&&(k.preventDefault(),D=w?rg(y,w):new FormData(y),Qu(a,{pending:!0,data:D,method:y.method,action:b},b,D))},currentTarget:y}]})}}for(var Dc=0;Dc<gu.length;Dc++){var Ic=gu[Dc],bS=Ic.toLowerCase(),TS=Ic[0].toUpperCase()+Ic.slice(1);vn(bS,"on"+TS)}vn(Bh,"onAnimationEnd"),vn(Oh,"onAnimationIteration"),vn(zh,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(OT,"onTransitionRun"),vn(zT,"onTransitionStart"),vn(qT,"onTransitionCancel"),vn(qh,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function og(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],y=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var w=d.length-1;0<=w;w--){var k=d[w],D=k.instance,F=k.currentTarget;if(k=k.listener,D!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=F;try{b(y)}catch(K){Ms(K)}y.currentTarget=null,b=D}else for(w=0;w<d.length;w++){if(k=d[w],D=k.instance,F=k.currentTarget,k=k.listener,D!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=F;try{b(y)}catch(K){Ms(K)}y.currentTarget=null,b=D}}}}function Pe(r,o){var a=o[$a];a===void 0&&(a=o[$a]=new Set);var d=r+"__bubble";a.has(d)||(lg(o,r,2,!1),a.add(d))}function Pc(r,o,a){var d=0;o&&(d|=4),lg(a,r,d,o)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Lc(r){if(!r[Gs]){r[Gs]=!0,Zd.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||Pc(a,!1,r),Pc(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Gs]||(o[Gs]=!0,Pc("selectionchange",!1,o))}}function lg(r,o,a,d){switch(Ng(o)){case 2:var y=KS;break;case 8:y=XS;break;default:y=Kc}a=y.bind(null,o,a,r),y=void 0,!iu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(o,a,{capture:!0,passive:y}):r.addEventListener(o,a,!0):y!==void 0?r.addEventListener(o,a,{passive:y}):r.addEventListener(o,a,!1)}function Uc(r,o,a,d,y){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var k=d.stateNode.containerInfo;if(k===y)break;if(w===4)for(w=d.return;w!==null;){var D=w.tag;if((D===3||D===4)&&w.stateNode.containerInfo===y)return;w=w.return}for(;k!==null;){if(w=dr(k),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){d=b=w;continue e}k=k.parentNode}}d=d.return}hh(function(){var F=b,K=tu(a),Q=[];e:{var G=Fh.get(r);if(G!==void 0){var H=is,we=r;switch(r){case"keypress":if(ts(a)===0)break e;case"keydown":case"keyup":H=gT;break;case"focusin":we="focus",H=su;break;case"focusout":we="blur",H=su;break;case"beforeblur":case"afterblur":H=su;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=xT;break;case Bh:case Oh:case zh:H=sT;break;case qh:H=TT;break;case"scroll":case"scrollend":H=nT;break;case"wheel":H=wT;break;case"copy":case"cut":case"paste":H=uT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=vh;break;case"toggle":case"beforetoggle":H=_T}var be=(o&4)!==0,Xe=!be&&(r==="scroll"||r==="scrollend"),B=be?G!==null?G+"Capture":null:G;be=[];for(var P=F,z;P!==null;){var X=P;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||B===null||(X=No(P,B),X!=null&&be.push(dl(P,X,z))),Xe)break;P=P.return}0<be.length&&(G=new H(G,we,null,a,K),Q.push({event:G,listeners:be}))}}if((o&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",H=r==="mouseout"||r==="pointerout",G&&a!==eu&&(we=a.relatedTarget||a.fromElement)&&(dr(we)||we[fr]))break e;if((H||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,H?(we=a.relatedTarget||a.toElement,H=F,we=we?dr(we):null,we!==null&&(Xe=s(we),be=we.tag,we!==Xe||be!==5&&be!==27&&be!==6)&&(we=null)):(H=null,we=F),H!==we)){if(be=gh,X="onMouseLeave",B="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(be=vh,X="onPointerLeave",B="onPointerEnter",P="pointer"),Xe=H==null?G:Mo(H),z=we==null?G:Mo(we),G=new be(X,P+"leave",H,a,K),G.target=Xe,G.relatedTarget=z,X=null,dr(K)===F&&(be=new be(B,P+"enter",we,a,K),be.target=z,be.relatedTarget=Xe,X=be),Xe=X,H&&we)t:{for(be=H,B=we,P=0,z=be;z;z=$r(z))P++;for(z=0,X=B;X;X=$r(X))z++;for(;0<P-z;)be=$r(be),P--;for(;0<z-P;)B=$r(B),z--;for(;P--;){if(be===B||B!==null&&be===B.alternate)break t;be=$r(be),B=$r(B)}be=null}else be=null;H!==null&&sg(Q,G,H,be,!1),we!==null&&Xe!==null&&sg(Q,Xe,we,be,!0)}}e:{if(G=F?Mo(F):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var he=kh;else if(Ch(G))if(Eh)he=LT;else{he=IT;var De=DT}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Za(F.elementType)&&(he=kh):he=PT;if(he&&(he=he(r,F))){_h(Q,he,a,K);break e}De&&De(r,G,F),r==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Wa(G,"number",G.value)}switch(De=F?Mo(F):window,r){case"focusin":(Ch(De)||De.contentEditable==="true")&&(Sr=De,hu=F,Oo=null);break;case"focusout":Oo=hu=Sr=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,Lh(Q,a,K);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":Lh(Q,a,K)}var pe;if(uu)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Tr?Sh(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(xh&&a.locale!=="ko"&&(Tr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Tr&&(pe=mh()):(ni=K,ru="value"in ni?ni.value:ni.textContent,Tr=!0)),De=Hs(F,Se),0<De.length&&(Se=new yh(Se,r,null,a,K),Q.push({event:Se,listeners:De}),pe?Se.data=pe:(pe=wh(a),pe!==null&&(Se.data=pe)))),(pe=ET?AT(r,a):MT(r,a))&&(Se=Hs(F,"onBeforeInput"),0<Se.length&&(De=new yh("onBeforeInput","beforeinput",null,a,K),Q.push({event:De,listeners:Se}),De.data=pe)),xS(Q,r,F,a,K)}og(Q,o)})}function dl(r,o,a){return{instance:r,listener:o,currentTarget:a}}function Hs(r,o){for(var a=o+"Capture",d=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=No(r,a),y!=null&&d.unshift(dl(r,y,b)),y=No(r,o),y!=null&&d.push(dl(r,y,b))),r.tag===3)return d;r=r.return}return[]}function $r(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sg(r,o,a,d,y){for(var b=o._reactName,w=[];a!==null&&a!==d;){var k=a,D=k.alternate,F=k.stateNode;if(k=k.tag,D!==null&&D===d)break;k!==5&&k!==26&&k!==27||F===null||(D=F,y?(F=No(a,b),F!=null&&w.unshift(dl(a,F,D))):y||(F=No(a,b),F!=null&&w.push(dl(a,F,D)))),a=a.return}w.length!==0&&r.push({event:o,listeners:w})}var wS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function ag(r){return(typeof r=="string"?r:""+r).replace(wS,`
`).replace(CS,"")}function ug(r,o){return o=ag(o),ag(r)===o}function js(){}function Ke(r,o,a,d,y,b){switch(a){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||vr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&vr(r,""+d);break;case"className":Xl(r,"class",d);break;case"tabIndex":Xl(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(r,a,d);break;case"style":fh(r,d,b);break;case"data":if(o!=="object"){Xl(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||a!=="href")){r.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=Zl(""+d),r.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(o!=="input"&&Ke(r,o,"name",y.name,y,null),Ke(r,o,"formEncType",y.formEncType,y,null),Ke(r,o,"formMethod",y.formMethod,y,null),Ke(r,o,"formTarget",y.formTarget,y,null)):(Ke(r,o,"encType",y.encType,y,null),Ke(r,o,"method",y.method,y,null),Ke(r,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=Zl(""+d),r.setAttribute(a,d);break;case"onClick":d!=null&&(r.onclick=js);break;case"onScroll":d!=null&&Pe("scroll",r);break;case"onScrollEnd":d!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}a=Zl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""+d):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":d===!0?r.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,d):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(a,d):r.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(a):r.setAttribute(a,d);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Kl(r,"popover",d);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Kl(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eT.get(a)||a,Kl(r,a,d))}}function Bc(r,o,a,d,y,b){switch(a){case"style":fh(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof d=="string"?vr(r,d):(typeof d=="number"||typeof d=="bigint")&&vr(r,""+d);break;case"onScroll":d!=null&&Pe("scroll",r);break;case"onScrollEnd":d!=null&&Pe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(y=a.endsWith("Capture"),o=a.slice(2,y?a.length-7:void 0),b=r[qt]||null,b=b!=null?b[a]:null,typeof b=="function"&&r.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(o,d,y);break e}a in r?r[a]=d:d===!0?r.setAttribute(a,""):Kl(r,a,d)}}}function Et(r,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var d=!1,y=!1,b;for(b in a)if(a.hasOwnProperty(b)){var w=a[b];if(w!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ke(r,o,b,w,a,null)}}y&&Ke(r,o,"srcSet",a.srcSet,a,null),d&&Ke(r,o,"src",a.src,a,null);return;case"input":Pe("invalid",r);var k=b=w=y=null,D=null,F=null;for(d in a)if(a.hasOwnProperty(d)){var K=a[d];if(K!=null)switch(d){case"name":y=K;break;case"type":w=K;break;case"checked":D=K;break;case"defaultChecked":F=K;break;case"value":b=K;break;case"defaultValue":k=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,o));break;default:Ke(r,o,d,K,a,null)}}sh(r,b,k,D,F,w,y,!1),Ql(r);return;case"select":Pe("invalid",r),d=w=b=null;for(y in a)if(a.hasOwnProperty(y)&&(k=a[y],k!=null))switch(y){case"value":b=k;break;case"defaultValue":w=k;break;case"multiple":d=k;default:Ke(r,o,y,k,a,null)}o=b,a=w,r.multiple=!!d,o!=null?yr(r,!!d,o,!1):a!=null&&yr(r,!!d,a,!0);return;case"textarea":Pe("invalid",r),b=y=d=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":d=k;break;case"defaultValue":y=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Ke(r,o,w,k,a,null)}uh(r,d,y,b),Ql(r);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(d=a[D],d!=null))switch(D){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ke(r,o,D,d,a,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(d=0;d<fl.length;d++)Pe(fl[d],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(d=a[F],d!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ke(r,o,F,d,a,null)}return;default:if(Za(o)){for(K in a)a.hasOwnProperty(K)&&(d=a[K],d!==void 0&&Bc(r,o,K,d,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(d=a[k],d!=null&&Ke(r,o,k,d,a,null))}function _S(r,o,a,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,w=null,k=null,D=null,F=null,K=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Q;default:d.hasOwnProperty(H)||Ke(r,o,H,null,d,Q)}}for(var G in d){var H=d[G];if(Q=a[G],d.hasOwnProperty(G)&&(H!=null||Q!=null))switch(G){case"type":b=H;break;case"name":y=H;break;case"checked":F=H;break;case"defaultChecked":K=H;break;case"value":w=H;break;case"defaultValue":k=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,o));break;default:H!==Q&&Ke(r,o,G,H,d,Q)}}Qa(r,w,k,D,F,K,b,y);return;case"select":H=w=k=G=null;for(b in a)if(D=a[b],a.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":H=D;default:d.hasOwnProperty(b)||Ke(r,o,b,null,d,D)}for(y in d)if(b=d[y],D=a[y],d.hasOwnProperty(y)&&(b!=null||D!=null))switch(y){case"value":G=b;break;case"defaultValue":k=b;break;case"multiple":w=b;default:b!==D&&Ke(r,o,y,b,d,D)}o=k,a=w,d=H,G!=null?yr(r,!!a,G,!1):!!d!=!!a&&(o!=null?yr(r,!!a,o,!0):yr(r,!!a,a?[]:"",!1));return;case"textarea":H=G=null;for(k in a)if(y=a[k],a.hasOwnProperty(k)&&y!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ke(r,o,k,null,d,y)}for(w in d)if(y=d[w],b=a[w],d.hasOwnProperty(w)&&(y!=null||b!=null))switch(w){case"value":G=y;break;case"defaultValue":H=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Ke(r,o,w,y,d,b)}ah(r,G,H);return;case"option":for(var we in a)if(G=a[we],a.hasOwnProperty(we)&&G!=null&&!d.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:Ke(r,o,we,null,d,G)}for(D in d)if(G=d[D],H=a[D],d.hasOwnProperty(D)&&G!==H&&(G!=null||H!=null))switch(D){case"selected":r.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(r,o,D,G,d,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!d.hasOwnProperty(be)&&Ke(r,o,be,null,d,G);for(F in d)if(G=d[F],H=a[F],d.hasOwnProperty(F)&&G!==H&&(G!=null||H!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:Ke(r,o,F,G,d,H)}return;default:if(Za(o)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!d.hasOwnProperty(Xe)&&Bc(r,o,Xe,void 0,d,G);for(K in d)G=d[K],H=a[K],!d.hasOwnProperty(K)||G===H||G===void 0&&H===void 0||Bc(r,o,K,G,d,H);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!d.hasOwnProperty(B)&&Ke(r,o,B,null,d,G);for(Q in d)G=d[Q],H=a[Q],!d.hasOwnProperty(Q)||G===H||G==null&&H==null||Ke(r,o,Q,G,d,H)}var Oc=null,zc=null;function $s(r){return r.nodeType===9?r:r.ownerDocument}function cg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function qc(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Fc=null;function kS(){var r=window.event;return r&&r.type==="popstate"?r===Fc?!1:(Fc=r,!0):(Fc=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(r){return hg.resolve(null).then(r).catch(MS)}:dg;function MS(r){setTimeout(function(){throw r})}function vi(r){return r==="head"}function mg(r,o){var a=o,d=0,y=0;do{var b=a.nextSibling;if(r.removeChild(a),b&&b.nodeType===8)if(a=b.data,a==="/$"){if(0<d&&8>d){a=d;var w=r.ownerDocument;if(a&1&&hl(w.documentElement),a&2&&hl(w.body),a&4)for(a=w.head,hl(a),w=a.firstChild;w;){var k=w.nextSibling,D=w.nodeName;w[Ao]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=k}}if(y===0){r.removeChild(b),Tl(o);return}y--}else a==="$"||a==="$?"||a==="$!"?y++:d=a.charCodeAt(0)-48;else d=0;a=b}while(a);Tl(o)}function Vc(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vc(a),Ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function NS(r,o,a,d){for(;r.nodeType===1;){var y=a;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Ao])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=bn(r.nextSibling),r===null)break}return null}function RS(r,o,a){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=bn(r.nextSibling),r===null))return null;return r}function Gc(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function DS(r,o){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")o();else{var d=function(){o(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function bn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Hc=null;function pg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}function gg(r,o,a){switch(o=$s(a),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function hl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Ya(r)}var mn=new Map,yg=new Set;function Ys(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Yn=j.d;j.d={f:IS,r:PS,D:LS,C:US,L:BS,m:OS,X:qS,S:zS,M:FS};function IS(){var r=Yn.f(),o=Os();return r||o}function PS(r){var o=hr(r);o!==null&&o.tag===5&&o.type==="form"?Bm(o):Yn.r(r)}var Yr=typeof document>"u"?null:document;function vg(r,o,a){var d=Yr;if(d&&typeof o=="string"&&o){var y=sn(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof a=="string"&&(y+='[crossorigin="'+a+'"]'),yg.has(y)||(yg.add(y),r={rel:r,crossOrigin:a,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Et(o,"link",r),vt(o),d.head.appendChild(o)))}}function LS(r){Yn.D(r),vg("dns-prefetch",r,null)}function US(r,o){Yn.C(r,o),vg("preconnect",r,o)}function BS(r,o,a){Yn.L(r,o,a);var d=Yr;if(d&&r&&o){var y='link[rel="preload"][as="'+sn(o)+'"]';o==="image"&&a&&a.imageSrcSet?(y+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(y+='[imagesizes="'+sn(a.imageSizes)+'"]')):y+='[href="'+sn(r)+'"]';var b=y;switch(o){case"style":b=Jr(r);break;case"script":b=Kr(r)}mn.has(b)||(r=g({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:r,as:o},a),mn.set(b,r),d.querySelector(y)!==null||o==="style"&&d.querySelector(ml(b))||o==="script"&&d.querySelector(pl(b))||(o=d.createElement("link"),Et(o,"link",r),vt(o),d.head.appendChild(o)))}}function OS(r,o){Yn.m(r,o);var a=Yr;if(a&&r){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+sn(d)+'"][href="'+sn(r)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Kr(r)}if(!mn.has(b)&&(r=g({rel:"modulepreload",href:r},o),mn.set(b,r),a.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(b)))return}d=a.createElement("link"),Et(d,"link",r),vt(d),a.head.appendChild(d)}}}function zS(r,o,a){Yn.S(r,o,a);var d=Yr;if(d&&r){var y=mr(d).hoistableStyles,b=Jr(r);o=o||"default";var w=y.get(b);if(!w){var k={loading:0,preload:null};if(w=d.querySelector(ml(b)))k.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},a),(a=mn.get(b))&&jc(r,a);var D=w=d.createElement("link");vt(D),Et(D,"link",r),D._p=new Promise(function(F,K){D.onload=F,D.onerror=K}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Js(w,o,d)}w={type:"stylesheet",instance:w,count:1,state:k},y.set(b,w)}}}function qS(r,o){Yn.X(r,o);var a=Yr;if(a&&r){var d=mr(a).hoistableScripts,y=Kr(r),b=d.get(y);b||(b=a.querySelector(pl(y)),b||(r=g({src:r,async:!0},o),(o=mn.get(y))&&$c(r,o),b=a.createElement("script"),vt(b),Et(b,"link",r),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function FS(r,o){Yn.M(r,o);var a=Yr;if(a&&r){var d=mr(a).hoistableScripts,y=Kr(r),b=d.get(y);b||(b=a.querySelector(pl(y)),b||(r=g({src:r,async:!0,type:"module"},o),(o=mn.get(y))&&$c(r,o),b=a.createElement("script"),vt(b),Et(b,"link",r),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function xg(r,o,a,d){var y=(y=fe.current)?Ys(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Jr(a.href),a=mr(y).hoistableStyles,d=a.get(o),d||(d={type:"style",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Jr(a.href);var b=mr(y).hoistableStyles,w=b.get(r);if(w||(y=y.ownerDocument||y,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,w),(b=y.querySelector(ml(r)))&&!b._p&&(w.instance=b,w.state.loading=5),mn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(r,a),b||VS(y,r,a,w.state))),o&&d===null)throw Error(i(528,""));return w}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Kr(a),a=mr(y).hoistableScripts,d=a.get(o),d||(d={type:"script",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jr(r){return'href="'+sn(r)+'"'}function ml(r){return'link[rel="stylesheet"]['+r+"]"}function bg(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function VS(r,o,a,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Et(o,"link",a),vt(o),r.head.appendChild(o))}function Kr(r){return'[src="'+sn(r)+'"]'}function pl(r){return"script[async]"+r}function Tg(r,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+sn(a.href)+'"]');if(d)return o.instance=d,vt(d),d;var y=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),vt(d),Et(d,"style",y),Js(d,a.precedence,r),o.instance=d;case"stylesheet":y=Jr(a.href);var b=r.querySelector(ml(y));if(b)return o.state.loading|=4,o.instance=b,vt(b),b;d=bg(a),(y=mn.get(y))&&jc(d,y),b=(r.ownerDocument||r).createElement("link"),vt(b);var w=b;return w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),Et(b,"link",d),o.state.loading|=4,Js(b,a.precedence,r),o.instance=b;case"script":return b=Kr(a.src),(y=r.querySelector(pl(b)))?(o.instance=y,vt(y),y):(d=a,(y=mn.get(b))&&(d=g({},a),$c(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),vt(y),Et(y,"link",d),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Js(d,a.precedence,r));return o.instance}function Js(r,o,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,w=0;w<d.length;w++){var k=d[w];if(k.dataset.precedence===o)b=k;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(r,o.firstChild))}function jc(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function $c(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Ks=null;function Sg(r,o,a){if(Ks===null){var d=new Map,y=Ks=new Map;y.set(a,d)}else y=Ks,d=y.get(a),d||(d=new Map,y.set(a,d));if(d.has(r))return d;for(d.set(r,null),a=a.getElementsByTagName(r),y=0;y<a.length;y++){var b=a[y];if(!(b[Ao]||b[At]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=r+w;var k=d.get(w);k?k.push(b):d.set(w,[b])}}return d}function wg(r,o,a){r=r.ownerDocument||r,r.head.insertBefore(a,o==="title"?r.querySelector("head > title"):null)}function GS(r,o,a){if(a===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Cg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gl=null;function HS(){}function jS(r,o,a){if(gl===null)throw Error(i(475));var d=gl;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Jr(a.href),b=r.querySelector(ml(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Xs.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=b,vt(b);return}b=r.ownerDocument||r,a=bg(a),(y=mn.get(y))&&jc(a,y),b=b.createElement("link"),vt(b);var w=b;w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),Et(b,"link",a),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Xs.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function $S(){if(gl===null)throw Error(i(475));var r=gl;return r.stylesheets&&r.count===0&&Yc(r,r.stylesheets),0<r.count?function(o){var a=setTimeout(function(){if(r.stylesheets&&Yc(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Xs(){if(this.count--,this.count===0){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qs=null;function Yc(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qs=new Map,o.forEach(YS,r),Qs=null,Xs.call(r))}function YS(r,o){if(!(o.state.loading&4)){var a=Qs.get(r);if(a)var d=a.get(null);else{a=new Map,Qs.set(r,a);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var w=y[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),d=w)}d&&a.set(null,d)}y=o.instance,w=y.getAttribute("data-precedence"),b=a.get(w)||d,b===d&&a.set(null,y),a.set(w,y),this.count++,d=Xs.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var yl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function JS(r,o,a,d,y,b,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function _g(r,o,a,d,y,b,w,k,D,F,K,Q){return r=new JS(r,o,a,w,k,D,F,Q),o=1,b===!0&&(o|=24),b=Qt(3,null,null,o),r.current=b,b.stateNode=r,o=Au(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:a,cache:o},Du(b),r}function kg(r){return r?(r=kr,r):kr}function Eg(r,o,a,d,y,b){y=kg(y),d.context===null?d.context=y:d.pendingContext=y,d=oi(o),d.payload={element:a},b=b===void 0?null:b,b!==null&&(d.callback=b),a=li(r,d,o),a!==null&&(nn(a,r,o),Yo(a,r,o))}function Ag(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function Jc(r,o){Ag(r,o),(r=r.alternate)&&Ag(r,o)}function Mg(r){if(r.tag===13){var o=_r(r,67108864);o!==null&&nn(o,r,67108864),Jc(r,67108864)}}var Ws=!0;function KS(r,o,a,d){var y=V.T;V.T=null;var b=j.p;try{j.p=2,Kc(r,o,a,d)}finally{j.p=b,V.T=y}}function XS(r,o,a,d){var y=V.T;V.T=null;var b=j.p;try{j.p=8,Kc(r,o,a,d)}finally{j.p=b,V.T=y}}function Kc(r,o,a,d){if(Ws){var y=Xc(d);if(y===null)Uc(r,o,d,Zs,a),Rg(r,d);else if(WS(y,r,o,a,d))d.stopPropagation();else if(Rg(r,d),o&4&&-1<QS.indexOf(r)){for(;y!==null;){var b=hr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=He(b.pendingLanes);if(w!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var D=1<<31-ve(w);k.entanglements[1]|=D,w&=~D}An(b),(je&6)===0&&(Us=Ut()+500,cl(0))}}break;case 13:k=_r(b,2),k!==null&&nn(k,b,2),Os(),Jc(b,2)}if(b=Xc(d),b===null&&Uc(r,o,d,Zs,a),b===y)break;y=b}y!==null&&d.stopPropagation()}else Uc(r,o,d,null,a)}}function Xc(r){return r=tu(r),Qc(r)}var Zs=null;function Qc(r){if(Zs=null,r=dr(r),r!==null){var o=s(r);if(o===null)r=null;else{var a=o.tag;if(a===13){if(r=u(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Zs=r,null}function Ng(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case Pi:return 2;case Li:return 8;case yn:case Ui:return 32;case cr:return 268435456;default:return 32}default:return 32}}var Wc=!1,xi=null,bi=null,Ti=null,vl=new Map,xl=new Map,Si=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(r,o){switch(r){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":vl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(o.pointerId)}}function bl(r,o,a,d,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=hr(o),o!==null&&Mg(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function WS(r,o,a,d,y){switch(o){case"focusin":return xi=bl(xi,r,o,a,d,y),!0;case"dragenter":return bi=bl(bi,r,o,a,d,y),!0;case"mouseover":return Ti=bl(Ti,r,o,a,d,y),!0;case"pointerover":var b=y.pointerId;return vl.set(b,bl(vl.get(b)||null,r,o,a,d,y)),!0;case"gotpointercapture":return b=y.pointerId,xl.set(b,bl(xl.get(b)||null,r,o,a,d,y)),!0}return!1}function Dg(r){var o=dr(r.target);if(o!==null){var a=s(o);if(a!==null){if(o=a.tag,o===13){if(o=u(a),o!==null){r.blockedOn=o,jb(r.priority,function(){if(a.tag===13){var d=tn();d=Ha(d);var y=_r(a,d);y!==null&&nn(y,a,d),Jc(a,d)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ea(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=Xc(r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);eu=d,a.target.dispatchEvent(d),eu=null}else return o=hr(a),o!==null&&Mg(o),r.blockedOn=a,!1;o.shift()}return!0}function Ig(r,o,a){ea(r)&&a.delete(o)}function ZS(){Wc=!1,xi!==null&&ea(xi)&&(xi=null),bi!==null&&ea(bi)&&(bi=null),Ti!==null&&ea(Ti)&&(Ti=null),vl.forEach(Ig),xl.forEach(Ig)}function ta(r,o){r.blockedOn===o&&(r.blockedOn=null,Wc||(Wc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZS)))}var na=null;function Pg(r){na!==r&&(na=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){na===r&&(na=null);for(var o=0;o<r.length;o+=3){var a=r[o],d=r[o+1],y=r[o+2];if(typeof d!="function"){if(Qc(d||a)===null)continue;break}var b=hr(a);b!==null&&(r.splice(o,3),o-=3,Qu(b,{pending:!0,data:y,method:a.method,action:d},d,y))}}))}function Tl(r){function o(D){return ta(D,r)}xi!==null&&ta(xi,r),bi!==null&&ta(bi,r),Ti!==null&&ta(Ti,r),vl.forEach(o),xl.forEach(o);for(var a=0;a<Si.length;a++){var d=Si[a];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Si.length&&(a=Si[0],a.blockedOn===null);)Dg(a),a.blockedOn===null&&Si.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var y=a[d],b=a[d+1],w=y[qt]||null;if(typeof b=="function")w||Pg(a);else if(w){var k=null;if(b&&b.hasAttribute("formAction")){if(y=b,w=b[qt]||null)k=w.formAction;else if(Qc(y)!==null)continue}else k=w.action;typeof k=="function"?a[d+1]=k:(a.splice(d,3),d-=3),Pg(a)}}}function Zc(r){this._internalRoot=r}ia.prototype.render=Zc.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,d=tn();Eg(a,d,r,o,null,null)},ia.prototype.unmount=Zc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Eg(r.current,2,null,r,null,null),Os(),o[fr]=null}};function ia(r){this._internalRoot=r}ia.prototype.unstable_scheduleHydration=function(r){if(r){var o=Qd();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Si.length&&o!==0&&o<Si[a].priority;a++);Si.splice(a,0,r),a===0&&Dg(r)}};var Lg=e.version;if(Lg!=="19.1.0")throw Error(i(527,Lg,"19.1.0"));j.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var ew={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Y=ra.inject(ew),re=ra}catch{}}return wl.createRoot=function(r,o){if(!l(r))throw Error(i(299));var a=!1,d="",y=Qm,b=Wm,w=Zm,k=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=_g(r,1,!1,null,null,a,d,y,b,w,k,null),r[fr]=o.current,Lc(r),new Zc(o)},wl.hydrateRoot=function(r,o,a){if(!l(r))throw Error(i(299));var d=!1,y="",b=Qm,w=Wm,k=Zm,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),o=_g(r,1,!0,o,a??null,d,y,b,w,k,D,F),o.context=kg(null),a=o.current,d=tn(),d=Ha(d),y=oi(d),y.callback=null,li(a,y,d),a=d,o.current.lanes=a,Eo(o,a),An(o),r[fr]=o.current,Lc(r),new ia(o)},wl.version="19.1.0",wl}var jg;function fw(){if(jg)return nf.exports;jg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nf.exports=cw(),nf.exports}var dw=fw();const hw=Vl(dw),mw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),pw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),gw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),hd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Lv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Uv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),yw=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),Bv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),Ov=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),md=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),zv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Da=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),$g=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),vw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),xw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),bw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Ni=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:x.jsxs("g",{children:[x.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:x.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),x.jsx("g",{})]})}),Ri=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Nn=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Tw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),qv=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),pd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Sw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),ww=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),Yg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Jg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),Kg=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),Xg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),Qg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Cw=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),_w=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Wg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Fv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),kw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Ew=({onImageSelect:t,isLoading:e})=>{const[n,i]=W.useState(!1),[l,s]=W.useState(null),u=W.useRef(null),h=W.useCallback(S=>{if(S&&S.type.startsWith("image/")){const _=new FileReader;_.onloadend=()=>{s(_.result)},_.readAsDataURL(S),t(S)}},[t]),p=W.useCallback(S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?i(!0):S.type==="dragleave"&&i(!1)},[]),m=W.useCallback(S=>{S.preventDefault(),S.stopPropagation(),i(!1),S.dataTransfer.files&&S.dataTransfer.files[0]&&h(S.dataTransfer.files[0])},[h]),g=S=>{S.preventDefault(),S.target.files&&S.target.files[0]&&h(S.target.files[0])},v=()=>{var S;(S=u.current)==null||S.click()},T=W.useCallback(S=>{var R,N;if(e||!u.current)return;const _=(R=S.clipboardData)==null?void 0:R.items;if(!_)return;const E=(N=Array.from(_).find(L=>L.kind==="file"&&L.type.startsWith("image/")))==null?void 0:N.getAsFile();E&&(S.preventDefault(),h(E))},[e,h]);return W.useEffect(()=>(document.addEventListener("paste",T),()=>{document.removeEventListener("paste",T)}),[T]),x.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${n?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!l&&"bg-white dark:bg-slate-800"}`}`,children:[x.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:g,disabled:e}),l?x.jsxs("div",{className:"w-full h-full relative",children:[x.jsx("img",{src:l,alt:"Chart preview",className:"object-contain w-full h-full rounded-md"}),e&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg",children:[x.jsx(Ni,{className:"w-16 h-16 text-violet-600 dark:text-violet-400"}),x.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]})]}):x.jsxs("div",{className:"text-center",children:[x.jsx($g,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),x.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),x.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),x.jsxs("button",{type:"button",onClick:v,disabled:e,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[x.jsx($g,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},Xr=({id:t,label:e,value:n,recommendation:i,onChange:l,placeholder:s,type:u="text",error:h})=>x.jsxs("div",{children:[x.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:e}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{type:u,name:t,id:t,className:"shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 dark:placeholder-slate-400",value:n,onChange:l,placeholder:s})}),h&&x.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:h}),i&&x.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i})]}),Ci=({label:t,value:e,className:n=""})=>x.jsxs("div",{className:`flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-700 last:border-b-0 ${n}`,children:[x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:t}),x.jsx("p",{className:`text-sm font-semibold ${n||"text-slate-800 dark:text-slate-100"}`,children:e})]}),Aw=({params:t,setParams:e,timeframeSettings:n,currentAnalysis:i})=>{const[l,s]=W.useState(""),[u,h]=W.useState("LONG"),p=M=>typeof M!="string"&&typeof M!="number"?NaN:parseFloat(String(M).replace(",",".")),m=W.useMemo(()=>{const M=p(t.accountBalance),q=p(t.riskPerTrade),O=p(t.stopLoss),I=p(t.leverage),J=p(t.riskRewardRatio),ne=p(t.entryPrice);if(!![M,q,O,I,J,ne].some(isNaN))return{positionSize:"Invalid Input",marginRequired:"Invalid Input",potentialProfit:"Invalid Input",potentialLoss:"Invalid Input",takeProfitPrice:"Invalid Input"};if(O<=0||I<=0||J<=0||M<=0||ne<=0)return{positionSize:"N/A",marginRequired:"N/A",potentialProfit:"N/A",potentialLoss:"N/A",takeProfitPrice:"N/A"};const U=M*(q/100),te=U/O,ae=te*ne/I,le=O*J,oe=U*J,V=u==="LONG"?ne+le:ne-le;return{positionSize:te.toFixed(8),marginRequired:`$${ae.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,potentialProfit:`$${oe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,potentialLoss:`$${U.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,takeProfitPrice:V.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8})}},[t,u]),g=W.useMemo(()=>{const M=p(t.entryPrice),q=p(l),O=p(m.positionSize),I=p(t.leverage);if([M,q,O,I].some(isNaN)||O<=0||M<=0||I<=0||q<=0)return{initialMargin:"N/A",pnl:"N/A",pnlColor:"text-slate-800 dark:text-slate-100",liquidationPrice:"N/A"};const J=M*O/I;let ne=0,Z=0;u==="LONG"?(ne=(q-M)*O,Z=M*(1-1/I)):(ne=(M-q)*O,Z=M*(1+1/I));const U=ne>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return{initialMargin:`$${J.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,pnl:`${ne>=0?"+":""}$${ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,pnlColor:U,liquidationPrice:`$${Z.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8})}`}},[t.entryPrice,l,m.positionSize,t.leverage,u]);W.useEffect(()=>{i&&(h(i.tradeSetup.tradeType.toUpperCase()),i.tradeSetup.entryPrice&&e(M=>({...M,entryPrice:i.tradeSetup.entryPrice,stopLoss:Math.abs(parseFloat(i.tradeSetup.entryPrice)-parseFloat(i.tradeSetup.stopLoss)).toString()})))},[i,e]);const v=M=>{const{name:q,value:O}=M.target;e(I=>({...I,[q]:O}))},T={accountBalance:"",riskPerTrade:"",entryPrice:"",stopLoss:"",riskRewardRatio:"",leverage:""},S=p(t.accountBalance);(isNaN(S)||S<=0)&&(T.accountBalance="Enter a valid positive number.");const _=p(t.riskPerTrade);(isNaN(_)||_<=0||_>100)&&(T.riskPerTrade="Risk must be between 0 and 100.");const E=p(t.entryPrice);(isNaN(E)||E<=0)&&(T.entryPrice="Enter a valid positive number.");const R=p(t.stopLoss);(isNaN(R)||R<=0)&&(T.stopLoss="Enter a valid positive number.");const N=p(t.riskRewardRatio);(isNaN(N)||N<=0)&&(T.riskRewardRatio="Enter a valid positive number.");const L=p(t.leverage);return(isNaN(L)||L<=0||L>125)&&(T.leverage="Leverage must be between 1 and 125."),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(xw,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Setup & Calculator"})]}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Set your risk parameters for trade analysis."}),x.jsx("a",{href:n.link,className:"text-sm text-violet-600 hover:text-violet-800 dark:text-violet-400 dark:hover:text-violet-300 font-medium mb-6 block",children:n.text}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-xs font-bold uppercase text-slate-500 dark:text-slate-400 tracking-wider mb-3",children:"Pre-Trade Risk Setup"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Position Type"}),x.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3",children:[x.jsx("button",{onClick:()=>h("LONG"),className:`px-3 py-2 text-sm font-semibold rounded-md transition-colors ${u==="LONG"?"bg-emerald-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Long"}),x.jsx("button",{onClick:()=>h("SHORT"),className:`px-3 py-2 text-sm font-semibold rounded-md transition-colors ${u==="SHORT"?"bg-red-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Short"})]})]}),x.jsx(Xr,{id:"accountBalance",label:"Account Balance ($)",value:t.accountBalance,onChange:v,placeholder:"e.g., 10000",error:T.accountBalance}),x.jsx(Xr,{id:"riskPerTrade",label:"Risk Per Trade (%)",value:t.riskPerTrade,onChange:v,placeholder:"e.g., 1",error:T.riskPerTrade}),x.jsx(Xr,{id:"entryPrice",label:"Entry Price",value:t.entryPrice,onChange:v,placeholder:"e.g., 30000",error:T.entryPrice}),x.jsx(Xr,{id:"stopLoss",label:"Stop Loss (Points)",value:t.stopLoss,onChange:v,placeholder:"Distance from entry, e.g., 50",error:T.stopLoss}),x.jsx(Xr,{id:"riskRewardRatio",label:"Risk/Reward Ratio",value:t.riskRewardRatio,onChange:v,placeholder:"e.g., 1.5",error:T.riskRewardRatio}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"leverage",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Leverage (",t.leverage,"x)"]}),x.jsx("input",{id:"leverage",type:"range",min:"1",max:"125",step:"1",value:t.leverage,onChange:v,name:"leverage",className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer dark:bg-slate-700 mt-2"}),T.leverage&&x.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:T.leverage})]})]})]}),x.jsxs("div",{className:"!mt-8",children:[x.jsx("h4",{className:"text-xs font-bold uppercase text-slate-500 dark:text-slate-400 tracking-wider mb-2",children:"Calculated Risk Results"}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-1",children:[x.jsx(Ci,{label:"Potential Loss",value:m.potentialLoss,className:"text-red-600 dark:text-red-400"}),x.jsx(Ci,{label:"Potential Profit",value:m.potentialProfit,className:"text-emerald-600 dark:text-emerald-400"}),x.jsx(Ci,{label:"Take Profit Price",value:m.takeProfitPrice}),x.jsx(Ci,{label:"Position Size (Units)",value:m.positionSize}),x.jsx(Ci,{label:"Margin Required",value:m.marginRequired})]})]}),x.jsxs("div",{className:"!mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[x.jsx("h4",{className:"text-xs font-bold uppercase text-slate-500 dark:text-slate-400 tracking-wider mb-3",children:"P/L & Liquidation Calculator"}),x.jsx("div",{className:"space-y-4",children:x.jsx(Xr,{id:"exitPrice",label:"Current / Exit Price",value:l,onChange:M=>s(M.target.value),placeholder:"e.g., 31000",type:"number"})}),x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-1 mt-4",children:[x.jsx(Ci,{label:"Initial Margin",value:g.initialMargin}),x.jsx(Ci,{label:"Profit / Loss (P/L)",value:g.pnl,className:g.pnlColor}),x.jsx(Ci,{label:"Liquidation Price",value:g.liquidationPrice})]})]})]})]})};function Mw(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Nw=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dw={};function Zg(t,e){return(Dw.jsx?Rw:Nw).test(t)}const Iw=/[ \t\n\f\r]/g;function Pw(t){return typeof t=="object"?t.type==="text"?e0(t.value):!1:e0(t)}function e0(t){return t.replace(Iw,"")===""}class Gl{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Gl.prototype.normal={};Gl.prototype.property={};Gl.prototype.space=void 0;function Vv(t,e){const n={},i={};for(const l of t)Object.assign(n,l.property),Object.assign(i,l.normal);return new Gl(n,i,e)}function Lf(t){return t.toLowerCase()}class Yt{constructor(e,n){this.attribute=n,this.property=e}}Yt.prototype.attribute="";Yt.prototype.booleanish=!1;Yt.prototype.boolean=!1;Yt.prototype.commaOrSpaceSeparated=!1;Yt.prototype.commaSeparated=!1;Yt.prototype.defined=!1;Yt.prototype.mustUseProperty=!1;Yt.prototype.number=!1;Yt.prototype.overloadedBoolean=!1;Yt.prototype.property="";Yt.prototype.spaceSeparated=!1;Yt.prototype.space=void 0;let Lw=0;const Ne=lr(),ht=lr(),Uf=lr(),se=lr(),tt=lr(),fo=lr(),rn=lr();function lr(){return 2**++Lw}const Bf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:ht,commaOrSpaceSeparated:rn,commaSeparated:fo,number:se,overloadedBoolean:Uf,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),sf=Object.keys(Bf);class gd extends Yt{constructor(e,n,i,l){let s=-1;if(super(e,n),t0(this,"space",l),typeof i=="number")for(;++s<sf.length;){const u=sf[s];t0(this,sf[s],(i&Bf[u])===Bf[u])}}}gd.prototype.defined=!0;function t0(t,e,n){n&&(t[e]=n)}function yo(t){const e={},n={};for(const[i,l]of Object.entries(t.properties)){const s=new gd(i,t.transform(t.attributes||{},i),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[Lf(i)]=i,n[Lf(s.attribute)]=i}return new Gl(e,n,t.space)}const Gv=yo({properties:{ariaActiveDescendant:null,ariaAtomic:ht,ariaAutoComplete:null,ariaBusy:ht,ariaChecked:ht,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:ht,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:ht,ariaFlowTo:tt,ariaGrabbed:ht,ariaHasPopup:null,ariaHidden:ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:se,ariaLive:null,ariaModal:ht,ariaMultiLine:ht,ariaMultiSelectable:ht,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:ht,ariaReadOnly:ht,ariaRelevant:null,ariaRequired:ht,ariaRoleDescription:tt,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:ht,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Hv(t,e){return e in t?t[e]:e}function jv(t,e){return Hv(t,e.toLowerCase())}const Uw=yo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fo,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:tt,autoFocus:Ne,autoPlay:Ne,blocking:tt,capture:null,charSet:null,checked:Ne,cite:null,className:tt,cols:se,colSpan:null,content:null,contentEditable:ht,controls:Ne,controlsList:tt,coords:se|fo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:Uf,draggable:ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:tt,height:se,hidden:Uf,high:se,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:tt,itemRef:tt,itemScope:Ne,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:se,pattern:null,ping:tt,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:tt,required:Ne,reversed:Ne,rows:se,rowSpan:se,sandbox:tt,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:ht,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:ht,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:jv}),Bw=yo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fo,g2:fo,glyphName:fo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rn,rev:rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rn,requiredFeatures:rn,requiredFonts:rn,requiredFormats:rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hv}),$v=yo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Yv=yo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jv}),Jv=yo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Ow={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},zw=/[A-Z]/g,n0=/-[a-z]/g,qw=/^data[-\w.:]+$/i;function Fw(t,e){const n=Lf(e);let i=e,l=Yt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&qw.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(n0,Gw);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!n0.test(s)){let u=s.replace(zw,Vw);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}l=gd}return new l(i,e)}function Vw(t){return"-"+t.toLowerCase()}function Gw(t){return t.charAt(1).toUpperCase()}const Hw=Vv([Gv,Uw,$v,Yv,Jv],"html"),yd=Vv([Gv,Bw,$v,Yv,Jv],"svg");function jw(t){return t.join(" ").trim()}var Qr={},af,i0;function $w(){if(i0)return af;i0=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",g="*",v="",T="comment",S="declaration";af=function(E,R){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];R=R||{};var N=1,L=1;function M(ae){var le=ae.match(e);le&&(N+=le.length);var oe=ae.lastIndexOf(p);L=~oe?ae.length-oe:L+ae.length}function q(){var ae={line:N,column:L};return function(le){return le.position=new O(ae),ne(),le}}function O(ae){this.start=ae,this.end={line:N,column:L},this.source=R.source}O.prototype.content=E;function I(ae){var le=new Error(R.source+":"+N+":"+L+": "+ae);if(le.reason=ae,le.filename=R.source,le.line=N,le.column=L,le.source=E,!R.silent)throw le}function J(ae){var le=ae.exec(E);if(le){var oe=le[0];return M(oe),E=E.slice(oe.length),le}}function ne(){J(n)}function Z(ae){var le;for(ae=ae||[];le=U();)le!==!1&&ae.push(le);return ae}function U(){var ae=q();if(!(m!=E.charAt(0)||g!=E.charAt(1))){for(var le=2;v!=E.charAt(le)&&(g!=E.charAt(le)||m!=E.charAt(le+1));)++le;if(le+=2,v===E.charAt(le-1))return I("End of comment missing");var oe=E.slice(2,le-2);return L+=2,M(oe),E=E.slice(le),L+=2,ae({type:T,comment:oe})}}function te(){var ae=q(),le=J(i);if(le){if(U(),!J(l))return I("property missing ':'");var oe=J(s),V=ae({type:S,property:_(le[0].replace(t,v)),value:oe?_(oe[0].replace(t,v)):v});return J(u),V}}function ee(){var ae=[];Z(ae);for(var le;le=te();)le!==!1&&(ae.push(le),Z(ae));return ae}return ne(),ee()};function _(E){return E?E.replace(h,v):v}return af}var r0;function Yw(){if(r0)return Qr;r0=1;var t=Qr&&Qr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=n;var e=t($w());function n(i,l){var s=null;if(!i||typeof i!="string")return s;var u=(0,e.default)(i),h=typeof l=="function";return u.forEach(function(p){if(p.type==="declaration"){var m=p.property,g=p.value;h?l(m,g,p):g&&(s=s||{},s[m]=g)}}),s}return Qr}var Cl={},o0;function Jw(){if(o0)return Cl;o0=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(m){return!m||n.test(m)||t.test(m)},u=function(m,g){return g.toUpperCase()},h=function(m,g){return"".concat(g,"-")},p=function(m,g){return g===void 0&&(g={}),s(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(l,h):m=m.replace(i,h),m.replace(e,u))};return Cl.camelCase=p,Cl}var _l,l0;function Kw(){if(l0)return _l;l0=1;var t=_l&&_l.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(Yw()),n=Jw();function i(l,s){var u={};return!l||typeof l!="string"||(0,e.default)(l,function(h,p){h&&p&&(u[(0,n.camelCase)(h,s)]=p)}),u}return i.default=i,_l=i,_l}var Xw=Kw();const Qw=Vl(Xw),Kv=Xv("end"),vd=Xv("start");function Xv(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Ww(t){const e=vd(t),n=Kv(t);if(e&&n)return{start:e,end:n}}function Rl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?s0(t.position):"start"in t||"end"in t?s0(t):"line"in t||"column"in t?Of(t):""}function Of(t){return a0(t&&t.line)+":"+a0(t&&t.column)}function s0(t){return Of(t&&t.start)+"-"+Of(t&&t.end)}function a0(t){return t&&typeof t=="number"?t:1}class Pt extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let l="",s={},u=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?l=e:!s.cause&&e&&(u=!0,l=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?s.ruleId=i:(s.source=i.slice(0,p),s.ruleId=i.slice(p+1))}if(!s.place&&s.ancestors&&s.ancestors){const p=s.ancestors[s.ancestors.length-1];p&&(s.place=p.position)}const h=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=l,this.line=h?h.line:void 0,this.name=Rl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=u&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Pt.prototype.file="";Pt.prototype.name="";Pt.prototype.reason="";Pt.prototype.message="";Pt.prototype.stack="";Pt.prototype.column=void 0;Pt.prototype.line=void 0;Pt.prototype.ancestors=void 0;Pt.prototype.cause=void 0;Pt.prototype.fatal=void 0;Pt.prototype.place=void 0;Pt.prototype.ruleId=void 0;Pt.prototype.source=void 0;const xd={}.hasOwnProperty,Zw=new Map,eC=/[A-Z]/g,tC=new Set(["table","tbody","thead","tfoot","tr"]),nC=new Set(["td","th"]),Qv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iC(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=fC(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=cC(n,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?yd:Hw,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Wv(l,t,void 0);return s&&typeof s!="string"?s:l.create(t,l.Fragment,{children:s||void 0},void 0)}function Wv(t,e,n){if(e.type==="element")return rC(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return oC(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return sC(t,e,n);if(e.type==="mdxjsEsm")return lC(t,e);if(e.type==="root")return aC(t,e,n);if(e.type==="text")return uC(t,e)}function rC(t,e,n){const i=t.schema;let l=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(l=yd,t.schema=l),t.ancestors.push(e);const s=ex(t,e.tagName,!1),u=dC(t,e);let h=Td(t,e);return tC.has(e.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!Pw(p):!0})),Zv(t,u,s,e),bd(u,h),t.ancestors.pop(),t.schema=i,t.create(e,s,u,n)}function oC(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}zl(t,e.position)}function lC(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);zl(t,e.position)}function sC(t,e,n){const i=t.schema;let l=i;e.name==="svg"&&i.space==="html"&&(l=yd,t.schema=l),t.ancestors.push(e);const s=e.name===null?t.Fragment:ex(t,e.name,!0),u=hC(t,e),h=Td(t,e);return Zv(t,u,s,e),bd(u,h),t.ancestors.pop(),t.schema=i,t.create(e,s,u,n)}function aC(t,e,n){const i={};return bd(i,Td(t,e)),t.create(e,t.Fragment,i,n)}function uC(t,e){return e.value}function Zv(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function bd(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function cC(t,e,n){return i;function i(l,s,u,h){const m=Array.isArray(u.children)?n:e;return h?m(s,u,h):m(s,u)}}function fC(t,e){return n;function n(i,l,s,u){const h=Array.isArray(s.children),p=vd(i);return e(l,s,u,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function dC(t,e){const n={};let i,l;for(l in e.properties)if(l!=="children"&&xd.call(e.properties,l)){const s=mC(t,l,e.properties[l]);if(s){const[u,h]=s;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&nC.has(e.tagName)?i=h:n[u]=h}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function hC(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const u=s.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else zl(t,e.position);else{const l=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,s=t.evaluater.evaluateExpression(h.expression)}else zl(t,e.position);else s=i.value===null?!0:i.value;n[l]=s}return n}function Td(t,e){const n=[];let i=-1;const l=t.passKeys?new Map:Zw;for(;++i<e.children.length;){const s=e.children[i];let u;if(t.passKeys){const p=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(p){const m=l.get(p)||0;u=p+"-"+m,l.set(p,m+1)}}const h=Wv(t,s,u);h!==void 0&&n.push(h)}return n}function mC(t,e,n){const i=Fw(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Mw(n):jw(n)),i.property==="style"){let l=typeof n=="object"?n:pC(t,String(n));return t.stylePropertyNameCase==="css"&&(l=gC(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&i.space?Ow[i.property]||i.property:i.attribute,n]}}function pC(t,e){try{return Qw(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,l=new Pt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=Qv+"#cannot-parse-style-attribute",l}}function ex(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let s=-1,u;for(;++s<l.length;){const h=Zg(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(s&&h.type==="Literal"),optional:!1}:h}i=u}else i=Zg(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const l=i.value;return xd.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(i);zl(t)}function zl(t,e){const n=new Pt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Qv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function gC(t){const e={};let n;for(n in t)xd.call(t,n)&&(e[yC(n)]=t[n]);return e}function yC(t){let e=t.replace(eC,vC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function vC(t){return"-"+t.toLowerCase()}const uf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xC={};function Sd(t,e){const n=xC,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tx(t,i,l)}function tx(t,e,n){if(bC(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return u0(t.children,e,n)}return Array.isArray(t)?u0(t,e,n):""}function u0(t,e,n){const i=[];let l=-1;for(;++l<t.length;)i[l]=tx(t[l],e,n);return i.join("")}function bC(t){return!!(t&&typeof t=="object")}const c0=document.createElement("i");function wd(t){const e="&"+t+";";c0.innerHTML=e;const n=c0.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function on(t,e,n,i){const l=t.length;let s=0,u;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);s<i.length;)u=i.slice(s,s+1e4),u.unshift(e,0),t.splice(...u),s+=1e4,e+=1e4}function pn(t,e){return t.length>0?(on(t,t.length,0,e),t):e}const f0={}.hasOwnProperty;function nx(t){const e={};let n=-1;for(;++n<t.length;)TC(e,t[n]);return e}function TC(t,e){let n;for(n in e){const l=(f0.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let u;if(s)for(u in s){f0.call(l,u)||(l[u]=[]);const h=s[u];SC(l[u],Array.isArray(h)?h:h?[h]:[])}}}function SC(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);on(t,0,0,i)}function ix(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zt=Di(/[A-Za-z]/),Dt=Di(/[\dA-Za-z]/),wC=Di(/[#-'*+\--9=?A-Z^-~]/);function Ca(t){return t!==null&&(t<32||t===127)}const zf=Di(/\d/),CC=Di(/[\dA-Fa-f]/),_C=Di(/[!-/:-@[-`{-~]/);function ye(t){return t!==null&&t<-2}function We(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const Ia=Di(new RegExp("\\p{P}|\\p{S}","u")),rr=Di(/\s/);function Di(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function vo(t){const e=[];let n=-1,i=0,l=0;for(;++n<t.length;){const s=t.charCodeAt(n);let u="";if(s===37&&Dt(t.charCodeAt(n+1))&&Dt(t.charCodeAt(n+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(u=String.fromCharCode(s));else if(s>55295&&s<57344){const h=t.charCodeAt(n+1);s<56320&&h>56319&&h<57344?(u=String.fromCharCode(s,h),l=1):u=""}else u=String.fromCharCode(s);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+l+1,u=""),l&&(n+=l,l=0)}return e.join("")+t.slice(i)}function Oe(t,e,n,i){const l=i?i-1:Number.POSITIVE_INFINITY;let s=0;return u;function u(p){return Ue(p)?(t.enter(n),h(p)):e(p)}function h(p){return Ue(p)&&s++<l?(t.consume(p),h):(t.exit(n),e(p))}}const kC={tokenize:EC};function EC(t){const e=t.attempt(this.parser.constructs.contentInitial,i,l);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Oe(t,e,"linePrefix")}function l(h){return t.enter("paragraph"),s(h)}function s(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return ye(h)?(t.consume(h),t.exit("chunkText"),s):(t.consume(h),u)}}const AC={tokenize:MC},d0={tokenize:NC};function MC(t){const e=this,n=[];let i=0,l,s,u;return h;function h(M){if(i<n.length){const q=n[i];return e.containerState=q[1],t.attempt(q[0].continuation,p,m)(M)}return m(M)}function p(M){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&L();const q=e.events.length;let O=q,I;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){I=e.events[O][1].end;break}N(i);let J=q;for(;J<e.events.length;)e.events[J][1].end={...I},J++;return on(e.events,O+1,0,e.events.slice(q)),e.events.length=J,m(M)}return h(M)}function m(M){if(i===n.length){if(!l)return T(M);if(l.currentConstruct&&l.currentConstruct.concrete)return _(M);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(d0,g,v)(M)}function g(M){return l&&L(),N(i),T(M)}function v(M){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,_(M)}function T(M){return e.containerState={},t.attempt(d0,S,_)(M)}function S(M){return i++,n.push([e.currentConstruct,e.containerState]),T(M)}function _(M){if(M===null){l&&L(),N(0),t.consume(M);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),E(M)}function E(M){if(M===null){R(t.exit("chunkFlow"),!0),N(0),t.consume(M);return}return ye(M)?(t.consume(M),R(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(M),E)}function R(M,q){const O=e.sliceStream(M);if(q&&O.push(null),M.previous=s,s&&(s.next=M),s=M,l.defineSkip(M.start),l.write(O),e.parser.lazy[M.start.line]){let I=l.events.length;for(;I--;)if(l.events[I][1].start.offset<u&&(!l.events[I][1].end||l.events[I][1].end.offset>u))return;const J=e.events.length;let ne=J,Z,U;for(;ne--;)if(e.events[ne][0]==="exit"&&e.events[ne][1].type==="chunkFlow"){if(Z){U=e.events[ne][1].end;break}Z=!0}for(N(i),I=J;I<e.events.length;)e.events[I][1].end={...U},I++;on(e.events,ne+1,0,e.events.slice(J)),e.events.length=I}}function N(M){let q=n.length;for(;q-- >M;){const O=n[q];e.containerState=O[1],O[0].exit.call(e,t)}n.length=M}function L(){l.write([null]),s=void 0,l=void 0,e.containerState._closeFlow=void 0}}function NC(t,e,n){return Oe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function po(t){if(t===null||We(t)||rr(t))return 1;if(Ia(t))return 2}function Pa(t,e,n){const i=[];let l=-1;for(;++l<t.length;){const s=t[l].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const qf={name:"attention",resolveAll:RC,tokenize:DC};function RC(t,e){let n=-1,i,l,s,u,h,p,m,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[i][1].end},T={...t[n][1].start};h0(v,-p),h0(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:v,end:{...t[i][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},s={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},l={type:p>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=pn(m,[["enter",t[i][1],e],["exit",t[i][1],e]])),m=pn(m,[["enter",l,e],["enter",u,e],["exit",u,e],["enter",s,e]]),m=pn(m,Pa(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),m=pn(m,[["exit",s,e],["enter",h,e],["exit",h,e],["exit",l,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,m=pn(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,on(t,i-1,n-i+3,m),n=i+m.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function DC(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,l=po(i);let s;return u;function u(p){return s=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===s)return t.consume(p),h;const m=t.exit("attentionSequence"),g=po(p),v=!g||g===2&&l||n.includes(p),T=!l||l===2&&g||n.includes(i);return m._open=!!(s===42?v:v&&(l||!T)),m._close=!!(s===42?T:T&&(g||!v)),e(p)}}function h0(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const IC={name:"autolink",tokenize:PC};function PC(t,e,n){let i=0;return l;function l(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(S){return zt(S)?(t.consume(S),u):S===64?n(S):m(S)}function u(S){return S===43||S===45||S===46||Dt(S)?(i=1,h(S)):m(S)}function h(S){return S===58?(t.consume(S),i=0,p):(S===43||S===45||S===46||Dt(S))&&i++<32?(t.consume(S),h):(i=0,m(S))}function p(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||Ca(S)?n(S):(t.consume(S),p)}function m(S){return S===64?(t.consume(S),g):wC(S)?(t.consume(S),m):n(S)}function g(S){return Dt(S)?v(S):n(S)}function v(S){return S===46?(t.consume(S),i=0,g):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):T(S)}function T(S){if((S===45||Dt(S))&&i++<63){const _=S===45?T:v;return t.consume(S),_}return n(S)}}const Hl={partial:!0,tokenize:LC};function LC(t,e,n){return i;function i(s){return Ue(s)?Oe(t,l,"linePrefix")(s):l(s)}function l(s){return s===null||ye(s)?e(s):n(s)}}const rx={continuation:{tokenize:BC},exit:OC,name:"blockQuote",tokenize:UC};function UC(t,e,n){const i=this;return l;function l(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),s}return n(u)}function s(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function BC(t,e,n){const i=this;return l;function l(u){return Ue(u)?Oe(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):s(u)}function s(u){return t.attempt(rx,e,n)(u)}}function OC(t){t.exit("blockQuote")}const ox={name:"characterEscape",tokenize:zC};function zC(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),l}function l(s){return _C(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const lx={name:"characterReference",tokenize:qC};function qC(t,e,n){const i=this;let l=0,s,u;return h;function h(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),p}function p(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),s=31,u=Dt,g(v))}function m(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,u=CC,g):(t.enter("characterReferenceValue"),s=7,u=zf,g(v))}function g(v){if(v===59&&l){const T=t.exit("characterReferenceValue");return u===Dt&&!wd(i.sliceSerialize(T))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(v)&&l++<s?(t.consume(v),g):n(v)}}const m0={partial:!0,tokenize:VC},p0={concrete:!0,name:"codeFenced",tokenize:FC};function FC(t,e,n){const i=this,l={partial:!0,tokenize:O};let s=0,u=0,h;return p;function p(I){return m(I)}function m(I){const J=i.events[i.events.length-1];return s=J&&J[1].type==="linePrefix"?J[2].sliceSerialize(J[1],!0).length:0,h=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===h?(u++,t.consume(I),g):u<3?n(I):(t.exit("codeFencedFenceSequence"),Ue(I)?Oe(t,v,"whitespace")(I):v(I))}function v(I){return I===null||ye(I)?(t.exit("codeFencedFence"),i.interrupt?e(I):t.check(m0,E,q)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(I))}function T(I){return I===null||ye(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(I)):Ue(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Oe(t,S,"whitespace")(I)):I===96&&I===h?n(I):(t.consume(I),T)}function S(I){return I===null||ye(I)?v(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(I))}function _(I){return I===null||ye(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(I)):I===96&&I===h?n(I):(t.consume(I),_)}function E(I){return t.attempt(l,q,R)(I)}function R(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),N}function N(I){return s>0&&Ue(I)?Oe(t,L,"linePrefix",s+1)(I):L(I)}function L(I){return I===null||ye(I)?t.check(m0,E,q)(I):(t.enter("codeFlowValue"),M(I))}function M(I){return I===null||ye(I)?(t.exit("codeFlowValue"),L(I)):(t.consume(I),M)}function q(I){return t.exit("codeFenced"),e(I)}function O(I,J,ne){let Z=0;return U;function U(oe){return I.enter("lineEnding"),I.consume(oe),I.exit("lineEnding"),te}function te(oe){return I.enter("codeFencedFence"),Ue(oe)?Oe(I,ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):ee(oe)}function ee(oe){return oe===h?(I.enter("codeFencedFenceSequence"),ae(oe)):ne(oe)}function ae(oe){return oe===h?(Z++,I.consume(oe),ae):Z>=u?(I.exit("codeFencedFenceSequence"),Ue(oe)?Oe(I,le,"whitespace")(oe):le(oe)):ne(oe)}function le(oe){return oe===null||ye(oe)?(I.exit("codeFencedFence"),J(oe)):ne(oe)}}}function VC(t,e,n){const i=this;return l;function l(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s)}function s(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const cf={name:"codeIndented",tokenize:HC},GC={partial:!0,tokenize:jC};function HC(t,e,n){const i=this;return l;function l(m){return t.enter("codeIndented"),Oe(t,s,"linePrefix",5)(m)}function s(m){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?p(m):ye(m)?t.attempt(GC,u,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||ye(m)?(t.exit("codeFlowValue"),u(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),e(m)}}function jC(t,e,n){const i=this;return l;function l(u){return i.parser.lazy[i.now().line]?n(u):ye(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):Oe(t,s,"linePrefix",5)(u)}function s(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):ye(u)?l(u):n(u)}}const $C={name:"codeText",previous:JC,resolve:YC,tokenize:KC};function YC(t){let e=t.length-4,n=3,i,l;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)l===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(l=i):(i===e||t[i][1].type==="lineEnding")&&(t[l][1].type="codeTextData",i!==l+2&&(t[l][1].end=t[i-1][1].end,t.splice(l+2,i-l-2),e-=i-l-2,i=l+2),l=void 0);return t}function JC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function KC(t,e,n){let i=0,l,s;return u;function u(v){return t.enter("codeText"),t.enter("codeTextSequence"),h(v)}function h(v){return v===96?(t.consume(v),i++,h):(t.exit("codeTextSequence"),p(v))}function p(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),p):v===96?(s=t.enter("codeTextSequence"),l=0,g(v)):ye(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(v))}function m(v){return v===null||v===32||v===96||ye(v)?(t.exit("codeTextData"),p(v)):(t.consume(v),m)}function g(v){return v===96?(t.consume(v),l++,g):l===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(s.type="codeTextData",m(v))}}class XC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const l=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return i&&kl(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),kl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),kl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);kl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);kl(this.left,n.reverse())}}}function kl(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function sx(t){const e={};let n=-1,i,l,s,u,h,p,m;const g=new XC(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,QC(g,n)),n=e[n],m=!0);else if(i[1]._container){for(s=n,l=void 0;s--;)if(u=g.get(s),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),u[1].type="lineEnding",l=s);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;l&&(i[1].end={...g.get(l)[1].start},h=g.slice(l,n),h.unshift(i),g.splice(l,n-l+1,h))}}return on(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function QC(t,e){const n=t.get(e)[1],i=t.get(e)[2];let l=e-1;const s=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,p=[],m={};let g,v,T=-1,S=n,_=0,E=0;const R=[E];for(;S;){for(;t.get(++l)[1]!==S;);s.push(l),S._tokenizer||(g=i.sliceStream(S),S.next||g.push(null),v&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=S,S=S.next}for(S=n;++T<h.length;)h[T][0]==="exit"&&h[T-1][0]==="enter"&&h[T][1].type===h[T-1][1].type&&h[T][1].start.line!==h[T][1].end.line&&(E=T+1,R.push(E),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):R.pop(),T=R.length;T--;){const N=h.slice(R[T],R[T+1]),L=s.pop();p.push([L,L+N.length-1]),t.splice(L,2,N)}for(p.reverse(),T=-1;++T<p.length;)m[_+p[T][0]]=_+p[T][1],_+=p[T][1]-p[T][0]-1;return m}const WC={resolve:e1,tokenize:t1},ZC={partial:!0,tokenize:n1};function e1(t){return sx(t),t}function t1(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),l(h)}function l(h){return h===null?s(h):ye(h)?t.check(ZC,u,s)(h):(t.consume(h),l)}function s(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function n1(t,e,n){const i=this;return l;function l(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Oe(t,s,"linePrefix")}function s(u){if(u===null||ye(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function ax(t,e,n,i,l,s,u,h,p){const m=p||Number.POSITIVE_INFINITY;let g=0;return v;function v(N){return N===60?(t.enter(i),t.enter(l),t.enter(s),t.consume(N),t.exit(s),T):N===null||N===32||N===41||Ca(N)?n(N):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),E(N))}function T(N){return N===62?(t.enter(s),t.consume(N),t.exit(s),t.exit(l),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),S(N))}function S(N){return N===62?(t.exit("chunkString"),t.exit(h),T(N)):N===null||N===60||ye(N)?n(N):(t.consume(N),N===92?_:S)}function _(N){return N===60||N===62||N===92?(t.consume(N),S):S(N)}function E(N){return!g&&(N===null||N===41||We(N))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(N)):g<m&&N===40?(t.consume(N),g++,E):N===41?(t.consume(N),g--,E):N===null||N===32||N===40||Ca(N)?n(N):(t.consume(N),N===92?R:E)}function R(N){return N===40||N===41||N===92?(t.consume(N),E):E(N)}}function ux(t,e,n,i,l,s){const u=this;let h=0,p;return m;function m(S){return t.enter(i),t.enter(l),t.consume(S),t.exit(l),t.enter(s),g}function g(S){return h>999||S===null||S===91||S===93&&!p||S===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(t.exit(s),t.enter(l),t.consume(S),t.exit(l),t.exit(i),e):ye(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||S===91||S===93||ye(S)||h++>999?(t.exit("chunkString"),g(S)):(t.consume(S),p||(p=!Ue(S)),S===92?T:v)}function T(S){return S===91||S===92||S===93?(t.consume(S),h++,v):v(S)}}function cx(t,e,n,i,l,s){let u;return h;function h(T){return T===34||T===39||T===40?(t.enter(i),t.enter(l),t.consume(T),t.exit(l),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(l),t.consume(T),t.exit(l),t.exit(i),e):(t.enter(s),m(T))}function m(T){return T===u?(t.exit(s),p(u)):T===null?n(T):ye(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),Oe(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===u||T===null||ye(T)?(t.exit("chunkString"),m(T)):(t.consume(T),T===92?v:g)}function v(T){return T===u||T===92?(t.consume(T),g):g(T)}}function Dl(t,e){let n;return i;function i(l){return ye(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),n=!0,i):Ue(l)?Oe(t,i,n?"linePrefix":"lineSuffix")(l):e(l)}}const i1={name:"definition",tokenize:o1},r1={partial:!0,tokenize:l1};function o1(t,e,n){const i=this;let l;return s;function s(S){return t.enter("definition"),u(S)}function u(S){return ux.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return l=wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),p):n(S)}function p(S){return We(S)?Dl(t,m)(S):m(S)}function m(S){return ax(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return t.attempt(r1,v,v)(S)}function v(S){return Ue(S)?Oe(t,T,"whitespace")(S):T(S)}function T(S){return S===null||ye(S)?(t.exit("definition"),i.parser.defined.push(l),e(S)):n(S)}}function l1(t,e,n){return i;function i(h){return We(h)?Dl(t,l)(h):n(h)}function l(h){return cx(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function s(h){return Ue(h)?Oe(t,u,"whitespace")(h):u(h)}function u(h){return h===null||ye(h)?e(h):n(h)}}const s1={name:"hardBreakEscape",tokenize:a1};function a1(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),l}function l(s){return ye(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const u1={name:"headingAtx",resolve:c1,tokenize:f1};function c1(t,e){let n=t.length-2,i=3,l,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(l={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},on(t,i,n-i+1,[["enter",l,e],["enter",s,e],["exit",s,e],["exit",l,e]])),t}function f1(t,e,n){let i=0;return l;function l(g){return t.enter("atxHeading"),s(g)}function s(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(t.consume(g),u):g===null||We(g)?(t.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(t.enter("atxHeadingSequence"),p(g)):g===null||ye(g)?(t.exit("atxHeading"),e(g)):Ue(g)?Oe(t,h,"whitespace")(g):(t.enter("atxHeadingText"),m(g))}function p(g){return g===35?(t.consume(g),p):(t.exit("atxHeadingSequence"),h(g))}function m(g){return g===null||g===35||We(g)?(t.exit("atxHeadingText"),h(g)):(t.consume(g),m)}}const d1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],g0=["pre","script","style","textarea"],h1={concrete:!0,name:"htmlFlow",resolveTo:g1,tokenize:y1},m1={partial:!0,tokenize:x1},p1={partial:!0,tokenize:v1};function g1(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function y1(t,e,n){const i=this;let l,s,u,h,p;return m;function m(A){return g(A)}function g(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),v}function v(A){return A===33?(t.consume(A),T):A===47?(t.consume(A),s=!0,E):A===63?(t.consume(A),l=3,i.interrupt?e:C):zt(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function T(A){return A===45?(t.consume(A),l=2,S):A===91?(t.consume(A),l=5,h=0,_):zt(A)?(t.consume(A),l=4,i.interrupt?e:C):n(A)}function S(A){return A===45?(t.consume(A),i.interrupt?e:C):n(A)}function _(A){const de="CDATA[";return A===de.charCodeAt(h++)?(t.consume(A),h===de.length?i.interrupt?e:ee:_):n(A)}function E(A){return zt(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function R(A){if(A===null||A===47||A===62||We(A)){const de=A===47,Te=u.toLowerCase();return!de&&!s&&g0.includes(Te)?(l=1,i.interrupt?e(A):ee(A)):d1.includes(u.toLowerCase())?(l=6,de?(t.consume(A),N):i.interrupt?e(A):ee(A)):(l=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(A):s?L(A):M(A))}return A===45||Dt(A)?(t.consume(A),u+=String.fromCharCode(A),R):n(A)}function N(A){return A===62?(t.consume(A),i.interrupt?e:ee):n(A)}function L(A){return Ue(A)?(t.consume(A),L):U(A)}function M(A){return A===47?(t.consume(A),U):A===58||A===95||zt(A)?(t.consume(A),q):Ue(A)?(t.consume(A),M):U(A)}function q(A){return A===45||A===46||A===58||A===95||Dt(A)?(t.consume(A),q):O(A)}function O(A){return A===61?(t.consume(A),I):Ue(A)?(t.consume(A),O):M(A)}function I(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),p=A,J):Ue(A)?(t.consume(A),I):ne(A)}function J(A){return A===p?(t.consume(A),p=null,Z):A===null||ye(A)?n(A):(t.consume(A),J)}function ne(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||We(A)?O(A):(t.consume(A),ne)}function Z(A){return A===47||A===62||Ue(A)?M(A):n(A)}function U(A){return A===62?(t.consume(A),te):n(A)}function te(A){return A===null||ye(A)?ee(A):Ue(A)?(t.consume(A),te):n(A)}function ee(A){return A===45&&l===2?(t.consume(A),V):A===60&&l===1?(t.consume(A),j):A===62&&l===4?(t.consume(A),$):A===63&&l===3?(t.consume(A),C):A===93&&l===5?(t.consume(A),_e):ye(A)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(m1,ie,ae)(A)):A===null||ye(A)?(t.exit("htmlFlowData"),ae(A)):(t.consume(A),ee)}function ae(A){return t.check(p1,le,ie)(A)}function le(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),oe}function oe(A){return A===null||ye(A)?ae(A):(t.enter("htmlFlowData"),ee(A))}function V(A){return A===45?(t.consume(A),C):ee(A)}function j(A){return A===47?(t.consume(A),u="",ce):ee(A)}function ce(A){if(A===62){const de=u.toLowerCase();return g0.includes(de)?(t.consume(A),$):ee(A)}return zt(A)&&u.length<8?(t.consume(A),u+=String.fromCharCode(A),ce):ee(A)}function _e(A){return A===93?(t.consume(A),C):ee(A)}function C(A){return A===62?(t.consume(A),$):A===45&&l===2?(t.consume(A),C):ee(A)}function $(A){return A===null||ye(A)?(t.exit("htmlFlowData"),ie(A)):(t.consume(A),$)}function ie(A){return t.exit("htmlFlow"),e(A)}}function v1(t,e,n){const i=this;return l;function l(u){return ye(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):n(u)}function s(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function x1(t,e,n){return i;function i(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(Hl,e,n)}}const b1={name:"htmlText",tokenize:T1};function T1(t,e,n){const i=this;let l,s,u;return h;function h(C){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(C),p}function p(C){return C===33?(t.consume(C),m):C===47?(t.consume(C),O):C===63?(t.consume(C),M):zt(C)?(t.consume(C),ne):n(C)}function m(C){return C===45?(t.consume(C),g):C===91?(t.consume(C),s=0,_):zt(C)?(t.consume(C),L):n(C)}function g(C){return C===45?(t.consume(C),S):n(C)}function v(C){return C===null?n(C):C===45?(t.consume(C),T):ye(C)?(u=v,j(C)):(t.consume(C),v)}function T(C){return C===45?(t.consume(C),S):v(C)}function S(C){return C===62?V(C):C===45?T(C):v(C)}function _(C){const $="CDATA[";return C===$.charCodeAt(s++)?(t.consume(C),s===$.length?E:_):n(C)}function E(C){return C===null?n(C):C===93?(t.consume(C),R):ye(C)?(u=E,j(C)):(t.consume(C),E)}function R(C){return C===93?(t.consume(C),N):E(C)}function N(C){return C===62?V(C):C===93?(t.consume(C),N):E(C)}function L(C){return C===null||C===62?V(C):ye(C)?(u=L,j(C)):(t.consume(C),L)}function M(C){return C===null?n(C):C===63?(t.consume(C),q):ye(C)?(u=M,j(C)):(t.consume(C),M)}function q(C){return C===62?V(C):M(C)}function O(C){return zt(C)?(t.consume(C),I):n(C)}function I(C){return C===45||Dt(C)?(t.consume(C),I):J(C)}function J(C){return ye(C)?(u=J,j(C)):Ue(C)?(t.consume(C),J):V(C)}function ne(C){return C===45||Dt(C)?(t.consume(C),ne):C===47||C===62||We(C)?Z(C):n(C)}function Z(C){return C===47?(t.consume(C),V):C===58||C===95||zt(C)?(t.consume(C),U):ye(C)?(u=Z,j(C)):Ue(C)?(t.consume(C),Z):V(C)}function U(C){return C===45||C===46||C===58||C===95||Dt(C)?(t.consume(C),U):te(C)}function te(C){return C===61?(t.consume(C),ee):ye(C)?(u=te,j(C)):Ue(C)?(t.consume(C),te):Z(C)}function ee(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),l=C,ae):ye(C)?(u=ee,j(C)):Ue(C)?(t.consume(C),ee):(t.consume(C),le)}function ae(C){return C===l?(t.consume(C),l=void 0,oe):C===null?n(C):ye(C)?(u=ae,j(C)):(t.consume(C),ae)}function le(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||We(C)?Z(C):(t.consume(C),le)}function oe(C){return C===47||C===62||We(C)?Z(C):n(C)}function V(C){return C===62?(t.consume(C),t.exit("htmlTextData"),t.exit("htmlText"),e):n(C)}function j(C){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),ce}function ce(C){return Ue(C)?Oe(t,_e,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):_e(C)}function _e(C){return t.enter("htmlTextData"),u(C)}}const Cd={name:"labelEnd",resolveAll:_1,resolveTo:k1,tokenize:E1},S1={tokenize:A1},w1={tokenize:M1},C1={tokenize:N1};function _1(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const l=i.type==="labelImage"?4:2;i.type="data",e+=l}}return t.length!==n.length&&on(t,0,t.length,n),t}function k1(t,e){let n=t.length,i=0,l,s,u,h;for(;n--;)if(l=t[n][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=n,l.type!=="labelLink")){i=2;break}}else l.type==="labelEnd"&&(u=n);const p={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[s][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",p,e],["enter",m,e]],h=pn(h,t.slice(s+1,s+i+3)),h=pn(h,[["enter",g,e]]),h=pn(h,Pa(e.parser.constructs.insideSpan.null,t.slice(s+i+4,u-3),e)),h=pn(h,[["exit",g,e],t[u-2],t[u-1],["exit",m,e]]),h=pn(h,t.slice(u+1)),h=pn(h,[["exit",p,e]]),on(t,s,t.length,h),t}function E1(t,e,n){const i=this;let l=i.events.length,s,u;for(;l--;)if((i.events[l][1].type==="labelImage"||i.events[l][1].type==="labelLink")&&!i.events[l][1]._balanced){s=i.events[l][1];break}return h;function h(T){return s?s._inactive?v(T):(u=i.parser.defined.includes(wn(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(S1,g,u?g:v)(T):T===91?t.attempt(w1,g,u?m:v)(T):u?g(T):v(T)}function m(T){return t.attempt(C1,g,v)(T)}function g(T){return e(T)}function v(T){return s._balanced=!0,n(T)}}function A1(t,e,n){return i;function i(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),l}function l(v){return We(v)?Dl(t,s)(v):s(v)}function s(v){return v===41?g(v):ax(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return We(v)?Dl(t,p)(v):g(v)}function h(v){return n(v)}function p(v){return v===34||v===39||v===40?cx(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function m(v){return We(v)?Dl(t,g)(v):g(v)}function g(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function M1(t,e,n){const i=this;return l;function l(h){return ux.call(i,t,s,u,"reference","referenceMarker","referenceString")(h)}function s(h){return i.parser.defined.includes(wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function N1(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),l}function l(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const R1={name:"labelStartImage",resolveAll:Cd.resolveAll,tokenize:D1};function D1(t,e,n){const i=this;return l;function l(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),s}function s(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const I1={name:"labelStartLink",resolveAll:Cd.resolveAll,tokenize:P1};function P1(t,e,n){const i=this;return l;function l(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),s}function s(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const ff={name:"lineEnding",tokenize:L1};function L1(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Oe(t,e,"linePrefix")}}const ba={name:"thematicBreak",tokenize:U1};function U1(t,e,n){let i=0,l;return s;function s(m){return t.enter("thematicBreak"),u(m)}function u(m){return l=m,h(m)}function h(m){return m===l?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||ye(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===l?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),Ue(m)?Oe(t,h,"whitespace")(m):h(m))}}const $t={continuation:{tokenize:q1},exit:V1,name:"list",tokenize:z1},B1={partial:!0,tokenize:G1},O1={partial:!0,tokenize:F1};function z1(t,e,n){const i=this,l=i.events[i.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,u=0;return h;function h(S){const _=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:zf(S)){if(i.containerState.type||(i.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(ba,n,m)(S):m(S);if(!i.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(S)}return n(S)}function p(S){return zf(S)&&++u<10?(t.consume(S),p):(!i.interrupt||u<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),m(S)):n(S)}function m(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,t.check(Hl,i.interrupt?n:g,t.attempt(B1,T,v))}function g(S){return i.containerState.initialBlankLine=!0,s++,T(S)}function v(S){return Ue(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function q1(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Hl,l,s);function l(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Oe(t,e,"listItemIndent",i.containerState.size+1)(h)}function s(h){return i.containerState.furtherBlankLines||!Ue(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(O1,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,Oe(t,t.attempt($t,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function F1(t,e,n){const i=this;return Oe(t,l,"listItemIndent",i.containerState.size+1);function l(s){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(s):n(s)}}function V1(t){t.exit(this.containerState.type)}function G1(t,e,n){const i=this;return Oe(t,l,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const u=i.events[i.events.length-1];return!Ue(s)&&u&&u[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const y0={name:"setextUnderline",resolveTo:H1,tokenize:j1};function H1(t,e){let n=t.length,i,l,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(l=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",s?(t.splice(l,0,["enter",u,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function j1(t,e,n){const i=this;let l;return s;function s(m){let g=i.events.length,v;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){v=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(t.enter("setextHeadingLine"),l=m,u(m)):n(m)}function u(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===l?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),Ue(m)?Oe(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||ye(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const $1={tokenize:Y1};function Y1(t){const e=this,n=t.attempt(Hl,i,t.attempt(this.parser.constructs.flowInitial,l,Oe(t,t.attempt(this.parser.constructs.flow,l,t.attempt(WC,l)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function l(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const J1={resolveAll:dx()},K1=fx("string"),X1=fx("text");function fx(t){return{resolveAll:dx(t==="text"?Q1:void 0),tokenize:e};function e(n){const i=this,l=this.parser.constructs[t],s=n.attempt(l,u,h);return u;function u(g){return m(g)?s(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),p}function p(g){return m(g)?(n.exit("data"),s(g)):(n.consume(g),p)}function m(g){if(g===null)return!0;const v=l[g];let T=-1;if(v)for(;++T<v.length;){const S=v[T];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function dx(t){return e;function e(n,i){let l=-1,s;for(;++l<=n.length;)s===void 0?n[l]&&n[l][1].type==="data"&&(s=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==s+2&&(n[s][1].end=n[l-1][1].end,n.splice(s+2,l-s-2),l=s+2),s=void 0);return t?t(n,i):n}}function Q1(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],l=e.sliceStream(i);let s=l.length,u=-1,h=0,p;for(;s--;){const m=l[s];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)p=!0,h++;else if(m!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const m={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?u:i.start._bufferIndex+u,_index:i.start._index+s,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const W1={42:$t,43:$t,45:$t,48:$t,49:$t,50:$t,51:$t,52:$t,53:$t,54:$t,55:$t,56:$t,57:$t,62:rx},Z1={91:i1},e_={[-2]:cf,[-1]:cf,32:cf},t_={35:u1,42:ba,45:[y0,ba],60:h1,61:y0,95:ba,96:p0,126:p0},n_={38:lx,92:ox},i_={[-5]:ff,[-4]:ff,[-3]:ff,33:R1,38:lx,42:qf,60:[IC,b1],91:I1,92:[s1,ox],93:Cd,95:qf,96:$C},r_={null:[qf,J1]},o_={null:[42,95]},l_={null:[]},s_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:o_,contentInitial:Z1,disable:l_,document:W1,flow:t_,flowInitial:e_,insideSpan:r_,string:n_,text:i_},Symbol.toStringTag,{value:"Module"}));function a_(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},s=[];let u=[],h=[];const p={attempt:J(O),check:J(I),consume:L,enter:M,exit:q,interrupt:J(I,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:_,parser:t,previous:null,sliceSerialize:T,sliceStream:S,write:v};let g=e.tokenize.call(m,p);return e.resolveAll&&s.push(e),m;function v(te){return u=pn(u,te),R(),u[u.length-1]!==null?[]:(ne(e,0),m.events=Pa(s,m.events,m),m.events)}function T(te,ee){return c_(S(te),ee)}function S(te){return u_(u,te)}function _(){const{_bufferIndex:te,_index:ee,line:ae,column:le,offset:oe}=i;return{_bufferIndex:te,_index:ee,line:ae,column:le,offset:oe}}function E(te){l[te.line]=te.column,U()}function R(){let te;for(;i._index<u.length;){const ee=u[i._index];if(typeof ee=="string")for(te=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===te&&i._bufferIndex<ee.length;)N(ee.charCodeAt(i._bufferIndex));else N(ee)}}function N(te){g=g(te)}function L(te){ye(te)?(i.line++,i.column=1,i.offset+=te===-3?2:1,U()):te!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=te}function M(te,ee){const ae=ee||{};return ae.type=te,ae.start=_(),m.events.push(["enter",ae,m]),h.push(ae),ae}function q(te){const ee=h.pop();return ee.end=_(),m.events.push(["exit",ee,m]),ee}function O(te,ee){ne(te,ee.from)}function I(te,ee){ee.restore()}function J(te,ee){return ae;function ae(le,oe,V){let j,ce,_e,C;return Array.isArray(le)?ie(le):"tokenize"in le?ie([le]):$(le);function $(fe){return Fe;function Fe(Ce){const st=Ce!==null&&fe[Ce],Ct=Ce!==null&&fe.null,Lt=[...Array.isArray(st)?st:st?[st]:[],...Array.isArray(Ct)?Ct:Ct?[Ct]:[]];return ie(Lt)(Ce)}}function ie(fe){return j=fe,ce=0,fe.length===0?V:A(fe[ce])}function A(fe){return Fe;function Fe(Ce){return C=Z(),_e=fe,fe.partial||(m.currentConstruct=fe),fe.name&&m.parser.constructs.disable.null.includes(fe.name)?Te():fe.tokenize.call(ee?Object.assign(Object.create(m),ee):m,p,de,Te)(Ce)}}function de(fe){return te(_e,C),oe}function Te(fe){return C.restore(),++ce<j.length?A(j[ce]):V}}}function ne(te,ee){te.resolveAll&&!s.includes(te)&&s.push(te),te.resolve&&on(m.events,ee,m.events.length-ee,te.resolve(m.events.slice(ee),m)),te.resolveTo&&(m.events=te.resolveTo(m.events,m))}function Z(){const te=_(),ee=m.previous,ae=m.currentConstruct,le=m.events.length,oe=Array.from(h);return{from:le,restore:V};function V(){i=te,m.previous=ee,m.currentConstruct=ae,m.events.length=le,h=oe,U()}}function U(){i.line in l&&i.column<2&&(i.column=l[i.line],i.offset+=l[i.line]-1)}}function u_(t,e){const n=e.start._index,i=e.start._bufferIndex,l=e.end._index,s=e.end._bufferIndex;let u;if(n===l)u=[t[n].slice(i,s)];else{if(u=t.slice(n,l),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}s>0&&u.push(t[l].slice(0,s))}return u}function c_(t,e){let n=-1;const i=[];let l;for(;++n<t.length;){const s=t[n];let u;if(typeof s=="string")u=s;else switch(s){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&l)continue;u=" ";break}default:u=String.fromCharCode(s)}l=s===-2,i.push(u)}return i.join("")}function f_(t){const i={constructs:nx([s_,...(t||{}).extensions||[]]),content:l(kC),defined:[],document:l(AC),flow:l($1),lazy:{},string:l(K1),text:l(X1)};return i;function l(s){return u;function u(h){return a_(i,s,h)}}}function d_(t){for(;!sx(t););return t}const v0=/[\0\t\n\r]/g;function h_(){let t=1,e="",n=!0,i;return l;function l(s,u,h){const p=[];let m,g,v,T,S;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(u||void 0).decode(s)),v=0,e="",n&&(s.charCodeAt(0)===65279&&v++,n=void 0);v<s.length;){if(v0.lastIndex=v,m=v0.exec(s),T=m&&m.index!==void 0?m.index:s.length,S=s.charCodeAt(T),!m){e=s.slice(v);break}if(S===10&&v===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),v<T&&(p.push(s.slice(v,T)),t+=T-v),S){case 0:{p.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,p.push(-2);t++<g;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}v=T+1}return h&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const m_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function p_(t){return t.replace(m_,g_)}function g_(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),s=l===120||l===88;return ix(n.slice(s?2:1),s?16:10)}return wd(n)||t}const hx={}.hasOwnProperty;function y_(t,e,n){return typeof e!="string"&&(n=e,e=void 0),v_(n)(d_(f_(n).document().write(h_()(t,e,!0))))}function v_(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Pi),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:s(Dn),blockQuote:s(Ct),characterEscape:Z,characterReference:Z,codeFenced:s(Lt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:s(Lt,u),codeText:s(Ae,u),codeTextData:Z,data:Z,codeFlowValue:Z,definition:s(pt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:s(Jt),hardBreakEscape:s(ur),hardBreakTrailing:s(ur),htmlFlow:s(Ut,u),htmlFlowData:Z,htmlText:s(Ut,u),htmlTextData:Z,image:s(Co),label:u,link:s(Pi),listItem:s(yn),listItemValue:T,listOrdered:s(Li,v),listUnordered:s(Li),paragraph:s(Ui),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:s(Dn),strong:s(cr),thematicBreak:s(ko)},exit:{atxHeading:p(),atxHeadingSequence:O,autolink:p(),autolinkEmail:st,autolinkProtocol:Ce,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:fe,characterReference:Fe,codeFenced:p(R),codeFencedFence:E,codeFencedFenceInfo:S,codeFencedFenceMeta:_,codeFlowValue:U,codeIndented:p(N),codeText:p(oe),codeTextData:U,data:U,definition:p(),definitionDestinationString:q,definitionLabelString:L,definitionTitleString:M,emphasis:p(),hardBreakEscape:p(ee),hardBreakTrailing:p(ee),htmlFlow:p(ae),htmlFlowData:U,htmlText:p(le),htmlTextData:U,image:p(j),label:_e,labelText:ce,lineEnding:te,link:p(V),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:de,resourceDestinationString:C,resourceTitleString:$,resource:ie,setextHeading:p(ne),setextHeadingLineSequence:J,setextHeadingText:I,strong:p(),thematicBreak:p()}};mx(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(Y){let re={type:"root",children:[]};const ge={stack:[re],tokenStack:[],config:e,enter:h,exit:m,buffer:u,resume:g,data:n},ve=[];let Ve=-1;for(;++Ve<Y.length;)if(Y[Ve][1].type==="listOrdered"||Y[Ve][1].type==="listUnordered")if(Y[Ve][0]==="enter")ve.push(Ve);else{const ue=ve.pop();Ve=l(Y,ue,Ve)}for(Ve=-1;++Ve<Y.length;){const ue=e[Y[Ve][0]];hx.call(ue,Y[Ve][1].type)&&ue[Y[Ve][1].type].call(Object.assign({sliceSerialize:Y[Ve][2].sliceSerialize},ge),Y[Ve][1])}if(ge.tokenStack.length>0){const ue=ge.tokenStack[ge.tokenStack.length-1];(ue[1]||x0).call(ge,void 0,ue[0])}for(re.position={start:_i(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:_i(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<e.transforms.length;)re=e.transforms[Ve](re)||re;return re}function l(Y,re,ge){let ve=re-1,Ve=-1,ue=!1,xe,ke,ze,He;for(;++ve<=ge;){const ct=Y[ve];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?Ve++:Ve--,He=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(xe&&!He&&!Ve&&!ze&&(ze=ve),He=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:He=void 0}if(!Ve&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Ve===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(xe){let Bt=ve;for(ke=void 0;Bt--;){const Kt=Y[Bt];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;ke&&(Y[ke][1].type="lineEndingBlank",ue=!0),Kt[1].type="lineEnding",ke=Bt}else if(!(Kt[1].type==="linePrefix"||Kt[1].type==="blockQuotePrefix"||Kt[1].type==="blockQuotePrefixWhitespace"||Kt[1].type==="blockQuoteMarker"||Kt[1].type==="listItemIndent"))break}ze&&(!ke||ze<ke)&&(xe._spread=!0),xe.end=Object.assign({},ke?Y[ke][1].start:ct[1].end),Y.splice(ke||ve,0,["exit",xe,ct[2]]),ve++,ge++}if(ct[1].type==="listItemPrefix"){const Bt={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};xe=Bt,Y.splice(ve,0,["enter",Bt,ct[2]]),ve++,ge++,ze=void 0,He=!0}}}return Y[re][1]._spread=ue,ge}function s(Y,re){return ge;function ge(ve){h.call(this,Y(ve),ve),re&&re.call(this,ve)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(Y,re,ge){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([re,ge||void 0]),Y.position={start:_i(re.start),end:void 0}}function p(Y){return re;function re(ge){Y&&Y.call(this,ge),m.call(this,ge)}}function m(Y,re){const ge=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==Y.type&&(re?re.call(this,Y,ve[0]):(ve[1]||x0).call(this,Y,ve[0]));else throw new Error("Cannot close `"+Y.type+"` ("+Rl({start:Y.start,end:Y.end})+"): its not open");ge.position.end=_i(Y.end)}function g(){return Sd(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function T(Y){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function S(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.lang=Y}function _(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.meta=Y}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y.replace(/(\r?\n|\r)$/g,"")}function L(Y){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=wn(this.sliceSerialize(Y)).toLowerCase()}function M(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.title=Y}function q(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.url=Y}function O(Y){const re=this.stack[this.stack.length-1];if(!re.depth){const ge=this.sliceSerialize(Y).length;re.depth=ge}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function J(Y){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(Y){const ge=this.stack[this.stack.length-1].children;let ve=ge[ge.length-1];(!ve||ve.type!=="text")&&(ve=_o(),ve.position={start:_i(Y.start),end:void 0},ge.push(ve)),this.stack.push(ve)}function U(Y){const re=this.stack.pop();re.value+=this.sliceSerialize(Y),re.position.end=_i(Y.end)}function te(Y){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=re.children[re.children.length-1];ge.position.end=_i(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(re.type)&&(Z.call(this,Y),U.call(this,Y))}function ee(){this.data.atHardBreak=!0}function ae(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function le(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function oe(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.value=Y}function V(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=re,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function j(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=re,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function ce(Y){const re=this.sliceSerialize(Y),ge=this.stack[this.stack.length-2];ge.label=p_(re),ge.identifier=wn(re).toLowerCase()}function _e(){const Y=this.stack[this.stack.length-1],re=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const ve=Y.children;ge.children=ve}else ge.alt=re}function C(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.url=Y}function $(){const Y=this.resume(),re=this.stack[this.stack.length-1];re.title=Y}function ie(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function de(Y){const re=this.resume(),ge=this.stack[this.stack.length-1];ge.label=re,ge.identifier=wn(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Te(Y){this.data.characterReferenceType=Y.type}function fe(Y){const re=this.sliceSerialize(Y),ge=this.data.characterReferenceType;let ve;ge?(ve=ix(re,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=wd(re);const Ve=this.stack[this.stack.length-1];Ve.value+=ve}function Fe(Y){const re=this.stack.pop();re.position.end=_i(Y.end)}function Ce(Y){U.call(this,Y);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(Y)}function st(Y){U.call(this,Y);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(Y)}function Ct(){return{type:"blockquote",children:[]}}function Lt(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Jt(){return{type:"emphasis",children:[]}}function Dn(){return{type:"heading",depth:0,children:[]}}function ur(){return{type:"break"}}function Ut(){return{type:"html",value:""}}function Co(){return{type:"image",title:null,url:"",alt:null}}function Pi(){return{type:"link",title:null,url:"",children:[]}}function Li(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function yn(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Ui(){return{type:"paragraph",children:[]}}function cr(){return{type:"strong",children:[]}}function _o(){return{type:"text",value:""}}function ko(){return{type:"thematicBreak"}}}function _i(t){return{line:t.line,column:t.column,offset:t.offset}}function mx(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?mx(t,i):x_(t,i)}}function x_(t,e){let n;for(n in e)if(hx.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function x0(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Rl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Rl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Rl({start:e.start,end:e.end})+") is still open")}function b_(t){const e=this;e.parser=n;function n(i){return y_(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function T_(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function S_(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function w_(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function C_(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function __(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function k_(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),l=vo(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=s+1,h+=1,t.footnoteCounts.set(i,h);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function E_(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function A_(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function px(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const l=t.all(e),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const u=l[l.length-1];return u&&u.type==="text"?u.value+=i:l.push({type:"text",value:i}),l}function M_(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return px(t,e);const l={src:vo(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,s),t.applyData(e,s)}function N_(t,e){const n={src:vo(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function R_(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function D_(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return px(t,e);const l={href:vo(i.url||"")};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function I_(t,e){const n={href:vo(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function P_(t,e,n){const i=t.all(e),l=n?L_(n):gx(e),s={},u=[];if(typeof e.checked=="boolean"){const g=i[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const g=i[h];(l||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?u.push(...g.children):u.push(g)}const p=i[i.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:s,children:u};return t.patch(e,m),t.applyData(e,m)}function L_(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=gx(n[i])}return e}function gx(t){const e=t.spread;return e??t.children.length>1}function U_(t,e){const n={},i=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++l<i.length;){const u=i[l];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function B_(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O_(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function z_(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q_(t,e){const n=t.all(e),i=n.shift(),l=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),l.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=vd(e.children[1]),p=Kv(e.children[e.children.length-1]);h&&p&&(u.position={start:h,end:p}),l.push(u)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,s),t.applyData(e,s)}function F_(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let p=-1;const m=[];for(;++p<h;){const v=e.children[p],T={},S=u?u[p]:void 0;S&&(T.align=S);let _={type:"element",tagName:s,properties:T,children:[]};v&&(_.children=t.all(v),t.patch(v,_),_=t.applyData(v,_)),m.push(_)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,g),t.applyData(e,g)}function V_(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const b0=9,T0=32;function G_(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),l=0;const s=[];for(;i;)s.push(S0(e.slice(l,i.index),l>0,!0),i[0]),l=i.index+i[0].length,i=n.exec(e);return s.push(S0(e.slice(l),l>0,!1)),s.join("")}function S0(t,e,n){let i=0,l=t.length;if(e){let s=t.codePointAt(i);for(;s===b0||s===T0;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(l-1);for(;s===b0||s===T0;)l--,s=t.codePointAt(l-1)}return l>i?t.slice(i,l):""}function H_(t,e){const n={type:"text",value:G_(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function j_(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const $_={blockquote:T_,break:S_,code:w_,delete:C_,emphasis:__,footnoteReference:k_,heading:E_,html:A_,imageReference:M_,image:N_,inlineCode:R_,linkReference:D_,link:I_,listItem:P_,list:U_,paragraph:B_,root:O_,strong:z_,table:q_,tableCell:V_,tableRow:F_,text:H_,thematicBreak:j_,toml:oa,yaml:oa,definition:oa,footnoteDefinition:oa};function oa(){}const yx=-1,La=0,Il=1,_a=2,_d=3,kd=4,Ed=5,Ad=6,vx=7,xx=8,w0=typeof self=="object"?self:globalThis,Y_=(t,e)=>{const n=(l,s)=>(t.set(s,l),l),i=l=>{if(t.has(l))return t.get(l);const[s,u]=e[l];switch(s){case La:case yx:return n(u,l);case Il:{const h=n([],l);for(const p of u)h.push(i(p));return h}case _a:{const h=n({},l);for(const[p,m]of u)h[i(p)]=i(m);return h}case _d:return n(new Date(u),l);case kd:{const{source:h,flags:p}=u;return n(new RegExp(h,p),l)}case Ed:{const h=n(new Map,l);for(const[p,m]of u)h.set(i(p),i(m));return h}case Ad:{const h=n(new Set,l);for(const p of u)h.add(i(p));return h}case vx:{const{name:h,message:p}=u;return n(new w0[h](p),l)}case xx:return n(BigInt(u),l);case"BigInt":return n(Object(BigInt(u)),l);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new w0[s](u),l)};return i},C0=t=>Y_(new Map,t)(0),Wr="",{toString:J_}={},{keys:K_}=Object,El=t=>{const e=typeof t;if(e!=="object"||!t)return[La,e];const n=J_.call(t).slice(8,-1);switch(n){case"Array":return[Il,Wr];case"Object":return[_a,Wr];case"Date":return[_d,Wr];case"RegExp":return[kd,Wr];case"Map":return[Ed,Wr];case"Set":return[Ad,Wr];case"DataView":return[Il,n]}return n.includes("Array")?[Il,n]:n.includes("Error")?[vx,n]:[_a,n]},la=([t,e])=>t===La&&(e==="function"||e==="symbol"),X_=(t,e,n,i)=>{const l=(u,h)=>{const p=i.push(u)-1;return n.set(h,p),p},s=u=>{if(n.has(u))return n.get(u);let[h,p]=El(u);switch(h){case La:{let g=u;switch(p){case"bigint":h=xx,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return l([yx],u)}return l([h,g],u)}case Il:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),l([p,[...T]],u)}const g=[],v=l([h,g],u);for(const T of u)g.push(s(T));return v}case _a:{if(p)switch(p){case"BigInt":return l([p,u.toString()],u);case"Boolean":case"Number":case"String":return l([p,u.valueOf()],u)}if(e&&"toJSON"in u)return s(u.toJSON());const g=[],v=l([h,g],u);for(const T of K_(u))(t||!la(El(u[T])))&&g.push([s(T),s(u[T])]);return v}case _d:return l([h,u.toISOString()],u);case kd:{const{source:g,flags:v}=u;return l([h,{source:g,flags:v}],u)}case Ed:{const g=[],v=l([h,g],u);for(const[T,S]of u)(t||!(la(El(T))||la(El(S))))&&g.push([s(T),s(S)]);return v}case Ad:{const g=[],v=l([h,g],u);for(const T of u)(t||!la(El(T)))&&g.push(s(T));return v}}const{message:m}=u;return l([h,{name:p,message:m}],u)};return s},_0=(t,{json:e,lossy:n}={})=>{const i=[];return X_(!(e||n),!!e,new Map,i)(t),i},ka=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?C0(_0(t,e)):structuredClone(t):(t,e)=>C0(_0(t,e));function Q_(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function W_(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Z_(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Q_,i=t.options.footnoteBackLabel||W_,l=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const g=t.all(m),v=String(m.identifier).toUpperCase(),T=vo(v.toLowerCase());let S=0;const _=[],E=t.footnoteCounts.get(v);for(;E!==void 0&&++S<=E;){_.length>0&&_.push({type:"text",value:" "});let L=typeof n=="string"?n:n(p,S);typeof L=="string"&&(L={type:"text",value:L}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,S),className:["data-footnote-backref"]},children:Array.isArray(L)?L:[L]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const L=R.children[R.children.length-1];L&&L.type==="text"?L.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(..._)}else g.push(..._);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(g,!0)};t.patch(m,N),h.push(N)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ka(u),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const Ua=function(t){if(t==null)return ik;if(typeof t=="function")return Ba(t);if(typeof t=="object")return Array.isArray(t)?ek(t):tk(t);if(typeof t=="string")return nk(t);throw new Error("Expected function, string, or object as test")};function ek(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ua(t[n]);return Ba(i);function i(...l){let s=-1;for(;++s<e.length;)if(e[s].apply(this,l))return!0;return!1}}function tk(t){const e=t;return Ba(n);function n(i){const l=i;let s;for(s in t)if(l[s]!==e[s])return!1;return!0}}function nk(t){return Ba(e);function e(n){return n&&n.type===t}}function Ba(t){return e;function e(n,i,l){return!!(rk(n)&&t.call(this,n,typeof i=="number"?i:void 0,l||void 0))}}function ik(){return!0}function rk(t){return t!==null&&typeof t=="object"&&"type"in t}const bx=[],ok=!0,Ff=!1,lk="skip";function Tx(t,e,n,i){let l;typeof e=="function"&&typeof n!="function"?(i=n,n=e):l=e;const s=Ua(l),u=i?-1:1;h(t,void 0,[])();function h(p,m,g){const v=p&&typeof p=="object"?p:{};if(typeof v.type=="string"){const S=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=bx,_,E,R;if((!e||s(p,m,g[g.length-1]||void 0))&&(S=sk(n(p,g)),S[0]===Ff))return S;if("children"in p&&p.children){const N=p;if(N.children&&S[0]!==lk)for(E=(i?N.children.length:-1)+u,R=g.concat(N);E>-1&&E<N.children.length;){const L=N.children[E];if(_=h(L,E,R)(),_[0]===Ff)return _;E=typeof _[1]=="number"?_[1]:E+u}}return S}}}function sk(t){return Array.isArray(t)?t:typeof t=="number"?[ok,t]:t==null?bx:[t]}function Md(t,e,n,i){let l,s,u;typeof e=="function"&&typeof n!="function"?(s=void 0,u=e,l=n):(s=e,u=n,l=i),Tx(t,s,h,l);function h(p,m){const g=m[m.length-1],v=g?g.children.indexOf(p):void 0;return u(p,v,g)}}const Vf={}.hasOwnProperty,ak={};function uk(t,e){const n=e||ak,i=new Map,l=new Map,s=new Map,u={...$_,...n.handlers},h={all:m,applyData:fk,definitionById:i,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:u,one:p,options:n,patch:ck,wrap:hk};return Md(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?i:l,T=String(g.identifier).toUpperCase();v.has(T)||v.set(T,g)}}),h;function p(g,v){const T=g.type,S=h.handlers[T];if(Vf.call(h.handlers,T)&&S)return S(h,g,v);if(h.options.passThrough&&h.options.passThrough.includes(T)){if("children"in g){const{children:E,...R}=g,N=ka(R);return N.children=h.all(g),N}return ka(g)}return(h.options.unknownHandler||dk)(h,g,v)}function m(g){const v=[];if("children"in g){const T=g.children;let S=-1;for(;++S<T.length;){const _=h.one(T[S],g);if(_){if(S&&T[S-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=k0(_.value)),!Array.isArray(_)&&_.type==="element")){const E=_.children[0];E&&E.type==="text"&&(E.value=k0(E.value))}Array.isArray(_)?v.push(..._):v.push(_)}}}return v}}function ck(t,e){t.position&&(e.position=Ww(t))}function fk(t,e){let n=e;if(t&&t.data){const i=t.data.hName,l=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&s&&Object.assign(n.properties,ka(s)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function dk(t,e){const n=e.data||{},i="value"in e&&!(Vf.call(n,"hProperties")||Vf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function hk(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function k0(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function E0(t,e){const n=uk(t,e),i=n.one(t,void 0),l=Z_(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function mk(t,e){return t&&"run"in t?async function(n,i){const l=E0(n,{file:i,...e});await t.run(l,i)}:function(n,i){return E0(n,{file:i,...t||e})}}function A0(t){if(t)throw t}var df,M0;function pk(){if(M0)return df;M0=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},s=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var g=t.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!v)return!1;var T;for(T in m);return typeof T>"u"||t.call(m,T)},u=function(m,g){n&&g.name==="__proto__"?n(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},h=function(m,g){if(g==="__proto__")if(t.call(m,g)){if(i)return i(m,g).value}else return;return m[g]};return df=function p(){var m,g,v,T,S,_,E=arguments[0],R=1,N=arguments.length,L=!1;for(typeof E=="boolean"&&(L=E,E=arguments[1]||{},R=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});R<N;++R)if(m=arguments[R],m!=null)for(g in m)v=h(E,g),T=h(m,g),E!==T&&(L&&T&&(s(T)||(S=l(T)))?(S?(S=!1,_=v&&l(v)?v:[]):_=v&&s(v)?v:{},u(E,{name:g,newValue:p(L,_,T)})):typeof T<"u"&&u(E,{name:g,newValue:T}));return E},df}var gk=pk();const hf=Vl(gk);function Gf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yk(){const t=[],e={run:n,use:i};return e;function n(...l){let s=-1;const u=l.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...l);function h(p,...m){const g=t[++s];let v=-1;if(p){u(p);return}for(;++v<l.length;)(m[v]===null||m[v]===void 0)&&(m[v]=l[v]);l=m,g?vk(g,h)(...m):u(null,...m)}}function i(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function vk(t,e){let n;return i;function i(...u){const h=t.length>u.length;let p;h&&u.push(l);try{p=t.apply(this,u)}catch(m){const g=m;if(h&&n)throw g;return l(g)}h||(p&&p.then&&typeof p.then=="function"?p.then(s,l):p instanceof Error?l(p):s(p))}function l(u,...h){n||(n=!0,e(u,...h))}function s(u){l(null,u)}}const Mn={basename:xk,dirname:bk,extname:Tk,join:Sk,sep:"/"};function xk(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');jl(t);let n=0,i=-1,l=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(s){n=l+1;break}}else i<0&&(s=!0,i=l+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(s){n=l+1;break}}else u<0&&(s=!0,u=l+1),h>-1&&(t.codePointAt(l)===e.codePointAt(h--)?h<0&&(i=l):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function bk(t){if(jl(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Tk(t){jl(t);let e=t.length,n=-1,i=0,l=-1,s=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?l<0?l=e:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||n<0||s===0||s===1&&l===n-1&&l===i+1?"":t.slice(l,n)}function Sk(...t){let e=-1,n;for(;++e<t.length;)jl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":wk(n)}function wk(t){jl(t);const e=t.codePointAt(0)===47;let n=Ck(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Ck(t,e){let n="",i=0,l=-1,s=0,u=-1,h,p;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(l===u-1||s===1))if(l!==u-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),l=u,s=0;continue}}else if(n.length>0){n="",i=0,l=u,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(l+1,u):n=t.slice(l+1,u),i=u-l-1;l=u,s=0}else h===46&&s>-1?s++:s=-1}return n}function jl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const _k={cwd:kk};function kk(){return"/"}function Hf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Ek(t){if(typeof t=="string")t=new URL(t);else if(!Hf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ak(t)}function Ak(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const mf=["history","path","basename","stem","extname","dirname"];class Sx{constructor(e){let n;e?Hf(e)?n={path:e}:typeof e=="string"||Mk(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":_k.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<mf.length;){const s=mf[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let l;for(l in n)mf.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?Mn.basename(this.path):void 0}set basename(e){gf(e,"basename"),pf(e,"basename"),this.path=Mn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Mn.dirname(this.path):void 0}set dirname(e){N0(this.basename,"dirname"),this.path=Mn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Mn.extname(this.path):void 0}set extname(e){if(pf(e,"extname"),N0(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Hf(e)&&(e=Ek(e)),gf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Mn.basename(this.path,this.extname):void 0}set stem(e){gf(e,"stem"),pf(e,"stem"),this.path=Mn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const l=this.message(e,n,i);throw l.fatal=!0,l}info(e,n,i){const l=this.message(e,n,i);return l.fatal=void 0,l}message(e,n,i){const l=new Pt(e,n,i);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function pf(t,e){if(t&&t.includes(Mn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Mn.sep+"`")}function gf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function N0(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Mk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Nk=function(t){const i=this.constructor.prototype,l=i[t],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},Rk={}.hasOwnProperty;class Nd extends Nk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yk()}copy(){const e=new Nd;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(hf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xf("data",this.frozen),this.namespace[e]=n,this):Rk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const l=n.call(e,...i);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=sa(e),i=this.parser||this.Parser;return yf("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),yf("process",this.parser||this.Parser),vf("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(s,u){const h=sa(e),p=i.parse(h);i.run(p,h,function(g,v,T){if(g||!v||!T)return m(g);const S=v,_=i.stringify(S,T);Pk(_)?T.value=_:T.result=_,m(g,T)});function m(g,v){g||!v?u(g):s?s(v):n(void 0,v)}}}processSync(e){let n=!1,i;return this.freeze(),yf("processSync",this.parser||this.Parser),vf("processSync",this.compiler||this.Compiler),this.process(e,l),D0("processSync","process",n),i;function l(s,u){n=!0,A0(s),i=u}}run(e,n,i){R0(e),this.freeze();const l=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(u,h){const p=sa(n);l.run(e,p,m);function m(g,v,T){const S=v||e;g?h(g):u?u(S):i(void 0,S,T)}}}runSync(e,n){let i=!1,l;return this.run(e,n,s),D0("runSync","run",i),l;function s(u,h){A0(u),l=h,i=!0}}stringify(e,n){this.freeze();const i=sa(n),l=this.compiler||this.Compiler;return vf("stringify",l),R0(e),l(e,i)}use(e,...n){const i=this.attachers,l=this.namespace;if(xf("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...v]=m;p(g,v)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(l.settings=hf(!0,l.settings,m.settings))}function h(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const v=m[g];s(v)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,g){let v=-1,T=-1;for(;++v<i.length;)if(i[v][0]===m){T=v;break}if(T===-1)i.push([m,...g]);else if(g.length>0){let[S,..._]=g;const E=i[T][1];Gf(E)&&Gf(S)&&(S=hf(!0,E,S)),i[T]=[m,S,..._]}}}}const Dk=new Nd().freeze();function yf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function vf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function xf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function R0(t){if(!Gf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function D0(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function sa(t){return Ik(t)?t:new Sx(t)}function Ik(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Pk(t){return typeof t=="string"||Lk(t)}function Lk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Uk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",I0=[],P0={allowDangerousHtml:!0},Bk=/^(https?|ircs?|mailto|xmpp)$/i,Ok=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rd(t){const e=zk(t),n=qk(t);return Fk(e.runSync(e.parse(n),n),t)}function zk(t){const e=t.rehypePlugins||I0,n=t.remarkPlugins||I0,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...P0}:P0;return Dk().use(b_).use(n).use(mk,i).use(e)}function qk(t){const e=t.children||"",n=new Sx;return typeof e=="string"&&(n.value=e),n}function Fk(t,e){const n=e.allowedElements,i=e.allowElement,l=e.components,s=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||Vk;for(const g of Ok)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Uk+g.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),Md(t,m),iC(t,{Fragment:x.Fragment,components:l,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function m(g,v,T){if(g.type==="raw"&&T&&typeof v=="number")return u?T.children.splice(v,1):T.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let S;for(S in uf)if(Object.hasOwn(uf,S)&&Object.hasOwn(g.properties,S)){const _=g.properties[S],E=uf[S];(E===null||E.includes(g.tagName))&&(g.properties[S]=p(String(_||""),S,g))}}if(g.type==="element"){let S=n?!n.includes(g.tagName):s?s.includes(g.tagName):!1;if(!S&&i&&typeof v=="number"&&(S=!i(g,v,T)),S&&T&&typeof v=="number")return h&&g.children?T.children.splice(v,1,...g.children):T.children.splice(v,1),v}}}function Vk(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||n!==-1&&e>n||i!==-1&&e>i||Bk.test(t.slice(0,e))?t:""}function L0(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,l=n.indexOf(e);for(;l!==-1;)i++,l=n.indexOf(e,l+e.length);return i}function Gk(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hk(t,e,n){const l=Ua((n||{}).ignore||[]),s=jk(e);let u=-1;for(;++u<s.length;)Tx(t,"text",h);function h(m,g){let v=-1,T;for(;++v<g.length;){const S=g[v],_=T?T.children:void 0;if(l(S,_?_.indexOf(S):void 0,T))return;T=S}if(T)return p(m,g)}function p(m,g){const v=g[g.length-1],T=s[u][0],S=s[u][1];let _=0;const R=v.children.indexOf(m);let N=!1,L=[];T.lastIndex=0;let M=T.exec(m.value);for(;M;){const q=M.index,O={index:M.index,input:M.input,stack:[...g,m]};let I=S(...M,O);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?T.lastIndex=q+1:(_!==q&&L.push({type:"text",value:m.value.slice(_,q)}),Array.isArray(I)?L.push(...I):I&&L.push(I),_=q+M[0].length,N=!0),!T.global)break;M=T.exec(m.value)}return N?(_<m.value.length&&L.push({type:"text",value:m.value.slice(_)}),v.children.splice(R,1,...L)):L=[m],R+L.length}}function jk(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const l=n[i];e.push([$k(l[0]),Yk(l[1])])}return e}function $k(t){return typeof t=="string"?new RegExp(Gk(t),"g"):t}function Yk(t){return typeof t=="function"?t:function(){return t}}const bf="phrasing",Tf=["autolink","link","image","label"];function Jk(){return{transforms:[tE],enter:{literalAutolink:Xk,literalAutolinkEmail:Sf,literalAutolinkHttp:Sf,literalAutolinkWww:Sf},exit:{literalAutolink:eE,literalAutolinkEmail:Zk,literalAutolinkHttp:Qk,literalAutolinkWww:Wk}}}function Kk(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bf,notInConstruct:Tf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bf,notInConstruct:Tf},{character:":",before:"[ps]",after:"\\/",inConstruct:bf,notInConstruct:Tf}]}}function Xk(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Sf(t){this.config.enter.autolinkProtocol.call(this,t)}function Qk(t){this.config.exit.autolinkProtocol.call(this,t)}function Wk(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Zk(t){this.config.exit.autolinkEmail.call(this,t)}function eE(t){this.exit(t)}function tE(t){Hk(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,nE],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),iE]],{ignore:["link","linkReference"]})}function nE(t,e,n,i,l){let s="";if(!wx(l)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!rE(n)))return!1;const u=oE(n+i);if(!u[0])return!1;const h={type:"link",title:null,url:s+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function iE(t,e,n,i){return!wx(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function rE(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function oE(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const l=L0(t,"(");let s=L0(t,")");for(;i!==-1&&l>s;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[t,n]}function wx(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||rr(n)||Ia(n))&&(!e||n!==47)}Cx.peek=mE;function lE(){this.buffer()}function sE(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function aE(){this.buffer()}function uE(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function cE(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function fE(t){this.exit(t)}function dE(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function hE(t){this.exit(t)}function mE(){return"["}function Cx(t,e,n,i){const l=n.createTracker(i);let s=l.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return s+=l.move(n.safe(n.associationId(t),{after:"]",before:s})),h(),u(),s+=l.move("]"),s}function pE(){return{enter:{gfmFootnoteCallString:lE,gfmFootnoteCall:sE,gfmFootnoteDefinitionLabelString:aE,gfmFootnoteDefinition:uE},exit:{gfmFootnoteCallString:cE,gfmFootnoteCall:fE,gfmFootnoteDefinitionLabelString:dE,gfmFootnoteDefinition:hE}}}function gE(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Cx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,l,s,u){const h=s.createTracker(u);let p=h.move("[^");const m=s.enter("footnoteDefinition"),g=s.enter("label");return p+=h.move(s.safe(s.associationId(i),{before:p,after:"]"})),g(),p+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),p+=h.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,h.current()),e?_x:yE))),m(),p}}function yE(t,e,n){return e===0?t:_x(t,e,n)}function _x(t,e,n){return(n?"":"    ")+t}const vE=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];kx.peek=wE;function xE(){return{canContainEols:["delete"],enter:{strikethrough:TE},exit:{strikethrough:SE}}}function bE(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:vE}],handlers:{delete:kx}}}function TE(t){this.enter({type:"delete",children:[]},t)}function SE(t){this.exit(t)}function kx(t,e,n,i){const l=n.createTracker(i),s=n.enter("strikethrough");let u=l.move("~~");return u+=n.containerPhrasing(t,{...l.current(),before:u,after:"~"}),u+=l.move("~~"),s(),u}function wE(){return"~"}function CE(t){return t.length}function _E(t,e){const n=e||{},i=(n.align||[]).concat(),l=n.stringLength||CE,s=[],u=[],h=[],p=[];let m=0,g=-1;for(;++g<t.length;){const E=[],R=[];let N=-1;for(t[g].length>m&&(m=t[g].length);++N<t[g].length;){const L=kE(t[g][N]);if(n.alignDelimiters!==!1){const M=l(L);R[N]=M,(p[N]===void 0||M>p[N])&&(p[N]=M)}E.push(L)}u[g]=E,h[g]=R}let v=-1;if(typeof i=="object"&&"length"in i)for(;++v<m;)s[v]=U0(i[v]);else{const E=U0(i);for(;++v<m;)s[v]=E}v=-1;const T=[],S=[];for(;++v<m;){const E=s[v];let R="",N="";E===99?(R=":",N=":"):E===108?R=":":E===114&&(N=":");let L=n.alignDelimiters===!1?1:Math.max(1,p[v]-R.length-N.length);const M=R+"-".repeat(L)+N;n.alignDelimiters!==!1&&(L=R.length+L+N.length,L>p[v]&&(p[v]=L),S[v]=L),T[v]=M}u.splice(1,0,T),h.splice(1,0,S),g=-1;const _=[];for(;++g<u.length;){const E=u[g],R=h[g];v=-1;const N=[];for(;++v<m;){const L=E[v]||"";let M="",q="";if(n.alignDelimiters!==!1){const O=p[v]-(R[v]||0),I=s[v];I===114?M=" ".repeat(O):I===99?O%2?(M=" ".repeat(O/2+.5),q=" ".repeat(O/2-.5)):(M=" ".repeat(O/2),q=M):q=" ".repeat(O)}n.delimiterStart!==!1&&!v&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&L==="")&&(n.delimiterStart!==!1||v)&&N.push(" "),n.alignDelimiters!==!1&&N.push(M),N.push(L),n.alignDelimiters!==!1&&N.push(q),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||v!==m-1)&&N.push("|")}_.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return _.join(`
`)}function kE(t){return t==null?"":String(t)}function U0(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function EE(t,e,n,i){const l=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const u=n.indentLines(n.containerFlow(t,s.current()),AE);return l(),u}function AE(t,e,n){return">"+(n?"":" ")+t}function ME(t,e){return B0(t,e.inConstruct,!0)&&!B0(t,e.notInConstruct,!1)}function B0(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function O0(t,e,n,i){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&ME(n.stack,n.unsafe[l]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function NE(t,e){const n=String(t);let i=n.indexOf(e),l=i,s=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===l?++s>u&&(u=s):s=1,l=i+e.length,i=n.indexOf(e,l);return u}function RE(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function DE(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function IE(t,e,n,i){const l=DE(n),s=t.value||"",u=l==="`"?"GraveAccent":"Tilde";if(RE(t,n)){const v=n.enter("codeIndented"),T=n.indentLines(s,PE);return v(),T}const h=n.createTracker(i),p=l.repeat(Math.max(NE(s,l)+1,3)),m=n.enter("codeFenced");let g=h.move(p);if(t.lang){const v=n.enter(`codeFencedLang${u}`);g+=h.move(n.safe(t.lang,{before:g,after:" ",encode:["`"],...h.current()})),v()}if(t.lang&&t.meta){const v=n.enter(`codeFencedMeta${u}`);g+=h.move(" "),g+=h.move(n.safe(t.meta,{before:g,after:`
`,encode:["`"],...h.current()})),v()}return g+=h.move(`
`),s&&(g+=h.move(s+`
`)),g+=h.move(p),m(),g}function PE(t,e,n){return(n?"":"    ")+t}function Dd(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function LE(t,e,n,i){const l=Dd(n),s=l==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const p=n.createTracker(i);let m=p.move("[");return m+=p.move(n.safe(n.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),h(),t.title&&(h=n.enter(`title${s}`),m+=p.move(" "+l),m+=p.move(n.safe(t.title,{before:m,after:l,...p.current()})),m+=p.move(l),h()),u(),m}function UE(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ql(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ea(t,e,n){const i=po(t),l=po(e);return i===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ex.peek=BE;function Ex(t,e,n,i){const l=UE(n),s=n.enter("emphasis"),u=n.createTracker(i),h=u.move(l);let p=u.move(n.containerPhrasing(t,{after:l,before:h,...u.current()}));const m=p.charCodeAt(0),g=Ea(i.before.charCodeAt(i.before.length-1),m,l);g.inside&&(p=ql(m)+p.slice(1));const v=p.charCodeAt(p.length-1),T=Ea(i.after.charCodeAt(0),v,l);T.inside&&(p=p.slice(0,-1)+ql(v));const S=u.move(l);return s(),n.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},h+p+S}function BE(t,e,n){return n.options.emphasis||"*"}function OE(t,e){let n=!1;return Md(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Ff}),!!((!t.depth||t.depth<3)&&Sd(t)&&(e.options.setext||n))}function zE(t,e,n,i){const l=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(i);if(OE(t,n)){const g=n.enter("headingSetext"),v=n.enter("phrasing"),T=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return v(),g(),T+`
`+(l===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(l),h=n.enter("headingAtx"),p=n.enter("phrasing");s.move(u+" ");let m=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(m)&&(m=ql(m.charCodeAt(0))+m.slice(1)),m=m?u+" "+m:u,n.options.closeAtx&&(m+=" "+u),p(),h(),m}Ax.peek=qE;function Ax(t){return t.value||""}function qE(){return"<"}Mx.peek=FE;function Mx(t,e,n,i){const l=Dd(n),s=l==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const p=n.createTracker(i);let m=p.move("![");return m+=p.move(n.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),h(),t.title&&(h=n.enter(`title${s}`),m+=p.move(" "+l),m+=p.move(n.safe(t.title,{before:m,after:l,...p.current()})),m+=p.move(l),h()),m+=p.move(")"),u(),m}function FE(){return"!"}Nx.peek=VE;function Nx(t,e,n,i){const l=t.referenceType,s=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(i);let p=h.move("![");const m=n.safe(t.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const v=n.safe(n.associationId(t),{before:p,after:"]",...h.current()});return u(),n.stack=g,s(),l==="full"||!m||m!==v?p+=h.move(v+"]"):l==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function VE(){return"!"}Rx.peek=GE;function Rx(t,e,n){let i=t.value||"",l="`",s=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(i);)l+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const u=n.unsafe[s],h=n.compilePattern(u);let p;if(u.atBreak)for(;p=h.exec(i);){let m=p.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(p.index+1)}}return l+i+l}function GE(){return"`"}function Dx(t,e){const n=Sd(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Ix.peek=HE;function Ix(t,e,n,i){const l=Dd(n),s=l==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let h,p;if(Dx(t,n)){const g=n.stack;n.stack=[],h=n.enter("autolink");let v=u.move("<");return v+=u.move(n.containerPhrasing(t,{before:v,after:">",...u.current()})),v+=u.move(">"),h(),n.stack=g,v}h=n.enter("link"),p=n.enter("label");let m=u.move("[");return m+=u.move(n.containerPhrasing(t,{before:m,after:"](",...u.current()})),m+=u.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=n.enter("destinationLiteral"),m+=u.move("<"),m+=u.move(n.safe(t.url,{before:m,after:">",...u.current()})),m+=u.move(">")):(p=n.enter("destinationRaw"),m+=u.move(n.safe(t.url,{before:m,after:t.title?" ":")",...u.current()}))),p(),t.title&&(p=n.enter(`title${s}`),m+=u.move(" "+l),m+=u.move(n.safe(t.title,{before:m,after:l,...u.current()})),m+=u.move(l),p()),m+=u.move(")"),h(),m}function HE(t,e,n){return Dx(t,n)?"<":"["}Px.peek=jE;function Px(t,e,n,i){const l=t.referenceType,s=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(i);let p=h.move("[");const m=n.containerPhrasing(t,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const v=n.safe(n.associationId(t),{before:p,after:"]",...h.current()});return u(),n.stack=g,s(),l==="full"||!m||m!==v?p+=h.move(v+"]"):l==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function jE(){return"["}function Id(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function $E(t){const e=Id(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function YE(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Lx(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function JE(t,e,n,i){const l=n.enter("list"),s=n.bulletCurrent;let u=t.ordered?YE(n):Id(n);const h=t.ordered?u==="."?")":".":$E(n);let p=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const g=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(p=!0),Lx(n)===u&&g){let v=-1;for(;++v<t.children.length;){const T=t.children[v];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(u=h),n.bulletCurrent=u;const m=n.containerFlow(t,i);return n.bulletLastUsed=u,n.bulletCurrent=s,l(),m}function KE(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function XE(t,e,n,i){const l=KE(n);let s=n.bulletCurrent||Id(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let u=s.length+1;(l==="tab"||l==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(i);h.move(s+" ".repeat(u-s.length)),h.shift(u);const p=n.enter("listItem"),m=n.indentLines(n.containerFlow(t,h.current()),g);return p(),m;function g(v,T,S){return T?(S?"":" ".repeat(u))+v:(S?s:s+" ".repeat(u-s.length))+v}}function QE(t,e,n,i){const l=n.enter("paragraph"),s=n.enter("phrasing"),u=n.containerPhrasing(t,i);return s(),l(),u}const WE=Ua(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ZE(t,e,n,i){return(t.children.some(function(u){return WE(u)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function eA(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Ux.peek=tA;function Ux(t,e,n,i){const l=eA(n),s=n.enter("strong"),u=n.createTracker(i),h=u.move(l+l);let p=u.move(n.containerPhrasing(t,{after:l,before:h,...u.current()}));const m=p.charCodeAt(0),g=Ea(i.before.charCodeAt(i.before.length-1),m,l);g.inside&&(p=ql(m)+p.slice(1));const v=p.charCodeAt(p.length-1),T=Ea(i.after.charCodeAt(0),v,l);T.inside&&(p=p.slice(0,-1)+ql(v));const S=u.move(l+l);return s(),n.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},h+p+S}function tA(t,e,n){return n.options.strong||"*"}function nA(t,e,n,i){return n.safe(t.value,i)}function iA(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function rA(t,e,n){const i=(Lx(n)+(n.options.ruleSpaces?" ":"")).repeat(iA(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Bx={blockquote:EE,break:O0,code:IE,definition:LE,emphasis:Ex,hardBreak:O0,heading:zE,html:Ax,image:Mx,imageReference:Nx,inlineCode:Rx,link:Ix,linkReference:Px,list:JE,listItem:XE,paragraph:QE,root:ZE,strong:Ux,text:nA,thematicBreak:rA};function oA(){return{enter:{table:lA,tableData:z0,tableHeader:z0,tableRow:aA},exit:{codeText:uA,table:sA,tableData:wf,tableHeader:wf,tableRow:wf}}}function lA(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function sA(t){this.exit(t),this.data.inTable=void 0}function aA(t){this.enter({type:"tableRow",children:[]},t)}function wf(t){this.exit(t)}function z0(t){this.enter({type:"tableCell",children:[]},t)}function uA(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,cA));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function cA(t,e){return e==="|"?e:t}function fA(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,l=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:p,tableRow:h}};function u(S,_,E,R){return m(g(S,E,R),S.align)}function h(S,_,E,R){const N=v(S,E,R),L=m([N]);return L.slice(0,L.indexOf(`
`))}function p(S,_,E,R){const N=E.enter("tableCell"),L=E.enter("phrasing"),M=E.containerPhrasing(S,{...R,before:s,after:s});return L(),N(),M}function m(S,_){return _E(S,{align:_,alignDelimiters:i,padding:n,stringLength:l})}function g(S,_,E){const R=S.children;let N=-1;const L=[],M=_.enter("table");for(;++N<R.length;)L[N]=v(R[N],_,E);return M(),L}function v(S,_,E){const R=S.children;let N=-1;const L=[],M=_.enter("tableRow");for(;++N<R.length;)L[N]=p(R[N],S,_,E);return M(),L}function T(S,_,E){let R=Bx.inlineCode(S,_,E);return E.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function dA(){return{exit:{taskListCheckValueChecked:q0,taskListCheckValueUnchecked:q0,paragraph:mA}}}function hA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:pA}}}function q0(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function mA(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const l=e.children;let s=-1,u;for(;++s<l.length;){const h=l[s];if(h.type==="paragraph"){u=h;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function pA(t,e,n,i){const l=t.children[0],s=typeof t.checked=="boolean"&&l&&l.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(i);s&&h.move(u);let p=Bx.listItem(t,e,n,{...i,...h.current()});return s&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(g){return g+u}}function gA(){return[Jk(),pE(),xE(),oA(),dA()]}function yA(t){return{extensions:[Kk(),gE(t),bE(),fA(t),hA()]}}const vA={tokenize:CA,partial:!0},Ox={tokenize:_A,partial:!0},zx={tokenize:kA,partial:!0},qx={tokenize:EA,partial:!0},xA={tokenize:AA,partial:!0},Fx={name:"wwwAutolink",tokenize:SA,previous:Gx},Vx={name:"protocolAutolink",tokenize:wA,previous:Hx},Qn={name:"emailAutolink",tokenize:TA,previous:jx},Rn={};function bA(){return{text:Rn}}let er=48;for(;er<123;)Rn[er]=Qn,er++,er===58?er=65:er===91&&(er=97);Rn[43]=Qn;Rn[45]=Qn;Rn[46]=Qn;Rn[95]=Qn;Rn[72]=[Qn,Vx];Rn[104]=[Qn,Vx];Rn[87]=[Qn,Fx];Rn[119]=[Qn,Fx];function TA(t,e,n){const i=this;let l,s;return u;function u(v){return!jf(v)||!jx.call(i,i.previous)||Pd(i.events)?n(v):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(v))}function h(v){return jf(v)?(t.consume(v),h):v===64?(t.consume(v),p):n(v)}function p(v){return v===46?t.check(xA,g,m)(v):v===45||v===95||Dt(v)?(s=!0,t.consume(v),p):g(v)}function m(v){return t.consume(v),l=!0,p}function g(v){return s&&l&&zt(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(v)):n(v)}}function SA(t,e,n){const i=this;return l;function l(u){return u!==87&&u!==119||!Gx.call(i,i.previous)||Pd(i.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(vA,t.attempt(Ox,t.attempt(zx,s),n),n)(u))}function s(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function wA(t,e,n){const i=this;let l="",s=!1;return u;function u(v){return(v===72||v===104)&&Hx.call(i,i.previous)&&!Pd(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),l+=String.fromCodePoint(v),t.consume(v),h):n(v)}function h(v){if(zt(v)&&l.length<5)return l+=String.fromCodePoint(v),t.consume(v),h;if(v===58){const T=l.toLowerCase();if(T==="http"||T==="https")return t.consume(v),p}return n(v)}function p(v){return v===47?(t.consume(v),s?m:(s=!0,p)):n(v)}function m(v){return v===null||Ca(v)||We(v)||rr(v)||Ia(v)?n(v):t.attempt(Ox,t.attempt(zx,g),n)(v)}function g(v){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(v)}}function CA(t,e,n){let i=0;return l;function l(u){return(u===87||u===119)&&i<3?(i++,t.consume(u),l):u===46&&i===3?(t.consume(u),s):n(u)}function s(u){return u===null?n(u):e(u)}}function _A(t,e,n){let i,l,s;return u;function u(m){return m===46||m===95?t.check(qx,p,h)(m):m===null||We(m)||rr(m)||m!==45&&Ia(m)?p(m):(s=!0,t.consume(m),u)}function h(m){return m===95?i=!0:(l=i,i=void 0),t.consume(m),u}function p(m){return l||i||!s?n(m):e(m)}}function kA(t,e){let n=0,i=0;return l;function l(u){return u===40?(n++,t.consume(u),l):u===41&&i<n?s(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(qx,e,s)(u):u===null||We(u)||rr(u)?e(u):(t.consume(u),l)}function s(u){return u===41&&i++,t.consume(u),l}}function EA(t,e,n){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),s):h===93?(t.consume(h),l):h===60||h===null||We(h)||rr(h)?e(h):n(h)}function l(h){return h===null||h===40||h===91||We(h)||rr(h)?e(h):i(h)}function s(h){return zt(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),i):zt(h)?(t.consume(h),u):n(h)}}function AA(t,e,n){return i;function i(s){return t.consume(s),l}function l(s){return Dt(s)?n(s):e(s)}}function Gx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||We(t)}function Hx(t){return!zt(t)}function jx(t){return!(t===47||jf(t))}function jf(t){return t===43||t===45||t===46||t===95||Dt(t)}function Pd(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const MA={tokenize:BA,partial:!0};function NA(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:PA,continuation:{tokenize:LA},exit:UA}},text:{91:{name:"gfmFootnoteCall",tokenize:IA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:RA,resolveTo:DA}}}}function RA(t,e,n){const i=this;let l=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;l--;){const p=i.events[l][1];if(p.type==="labelImage"){u=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!u||!u._balanced)return n(p);const m=wn(i.sliceSerialize({start:u.end,end:i.now()}));return m.codePointAt(0)!==94||!s.includes(m.slice(1))?n(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),e(p))}}function DA(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},h=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",l,e],["exit",l,e],["enter",s,e],["enter",u,e],["exit",u,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...h),t}function IA(t,e,n){const i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,u;return h;function h(v){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),p}function p(v){return v!==94?n(v):(t.enter("gfmFootnoteCallMarker"),t.consume(v),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(v){if(s>999||v===93&&!u||v===null||v===91||We(v))return n(v);if(v===93){t.exit("chunkString");const T=t.exit("gfmFootnoteCallString");return l.includes(wn(i.sliceSerialize(T)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(v)}return We(v)||(u=!0),s++,t.consume(v),v===92?g:m}function g(v){return v===91||v===92||v===93?(t.consume(v),s++,m):m(v)}}function PA(t,e,n){const i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,u=0,h;return p;function p(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",g):n(_)}function g(_){if(u>999||_===93&&!h||_===null||_===91||We(_))return n(_);if(_===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return s=wn(i.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),T}return We(_)||(h=!0),u++,t.consume(_),_===92?v:g}function v(_){return _===91||_===92||_===93?(t.consume(_),u++,g):g(_)}function T(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),l.includes(s)||l.push(s),Oe(t,S,"gfmFootnoteDefinitionWhitespace")):n(_)}function S(_){return e(_)}}function LA(t,e,n){return t.check(Hl,e,t.attempt(MA,e,n))}function UA(t){t.exit("gfmFootnoteDefinition")}function BA(t,e,n){const i=this;return Oe(t,l,"gfmFootnoteDefinitionIndent",5);function l(s){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(s):n(s)}}function OA(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:l};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function l(u,h){let p=-1;for(;++p<u.length;)if(u[p][0]==="enter"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._close){let m=p;for(;m--;)if(u[m][0]==="exit"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._open&&u[p][1].end.offset-u[p][1].start.offset===u[m][1].end.offset-u[m][1].start.offset){u[p][1].type="strikethroughSequence",u[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[m][1].start),end:Object.assign({},u[p][1].end)},v={type:"strikethroughText",start:Object.assign({},u[m][1].end),end:Object.assign({},u[p][1].start)},T=[["enter",g,h],["enter",u[m][1],h],["exit",u[m][1],h],["enter",v,h]],S=h.parser.constructs.insideSpan.null;S&&on(T,T.length,0,Pa(S,u.slice(m+1,p),h)),on(T,T.length,0,[["exit",v,h],["enter",u[p][1],h],["exit",u[p][1],h],["exit",g,h]]),on(u,m-1,p-m+3,T),p=m+T.length-2;break}}for(p=-1;++p<u.length;)u[p][1].type==="strikethroughSequenceTemporary"&&(u[p][1].type="data");return u}function s(u,h,p){const m=this.previous,g=this.events;let v=0;return T;function T(_){return m===126&&g[g.length-1][1].type!=="characterEscape"?p(_):(u.enter("strikethroughSequenceTemporary"),S(_))}function S(_){const E=po(m);if(_===126)return v>1?p(_):(u.consume(_),v++,S);if(v<2&&!n)return p(_);const R=u.exit("strikethroughSequenceTemporary"),N=po(_);return R._open=!N||N===2&&!!E,R._close=!E||E===2&&!!N,h(_)}}}class zA{constructor(){this.map=[]}add(e,n,i){qA(this,e,n,i)}consume(e){if(this.map.sort(function(s,u){return s[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let l=i.pop();for(;l;){for(const s of l)e.push(s);l=i.pop()}this.map.length=0}}function qA(t,e,n,i){let l=0;if(!(n===0&&i.length===0)){for(;l<t.map.length;){if(t.map[l][0]===e){t.map[l][1]+=n,t.map[l][2].push(...i);return}l+=1}t.map.push([e,n,i])}}function FA(t,e){let n=!1;const i=[];for(;e<t.length;){const l=t[e];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function VA(){return{flow:{null:{name:"table",tokenize:GA,resolveAll:HA}}}}function GA(t,e,n){const i=this;let l=0,s=0,u;return h;function h(U){let te=i.events.length-1;for(;te>-1;){const le=i.events[te][1].type;if(le==="lineEnding"||le==="linePrefix")te--;else break}const ee=te>-1?i.events[te][1].type:null,ae=ee==="tableHead"||ee==="tableRow"?I:p;return ae===I&&i.parser.lazy[i.now().line]?n(U):ae(U)}function p(U){return t.enter("tableHead"),t.enter("tableRow"),m(U)}function m(U){return U===124||(u=!0,s+=1),g(U)}function g(U){return U===null?n(U):ye(U)?s>1?(s=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),S):n(U):Ue(U)?Oe(t,g,"whitespace")(U):(s+=1,u&&(u=!1,l+=1),U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),u=!0,g):(t.enter("data"),v(U)))}function v(U){return U===null||U===124||We(U)?(t.exit("data"),g(U)):(t.consume(U),U===92?T:v)}function T(U){return U===92||U===124?(t.consume(U),v):v(U)}function S(U){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(U):(t.enter("tableDelimiterRow"),u=!1,Ue(U)?Oe(t,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):_(U))}function _(U){return U===45||U===58?R(U):U===124?(u=!0,t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),E):O(U)}function E(U){return Ue(U)?Oe(t,R,"whitespace")(U):R(U)}function R(U){return U===58?(s+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),N):U===45?(s+=1,N(U)):U===null||ye(U)?q(U):O(U)}function N(U){return U===45?(t.enter("tableDelimiterFiller"),L(U)):O(U)}function L(U){return U===45?(t.consume(U),L):U===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),M):(t.exit("tableDelimiterFiller"),M(U))}function M(U){return Ue(U)?Oe(t,q,"whitespace")(U):q(U)}function q(U){return U===124?_(U):U===null||ye(U)?!u||l!==s?O(U):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(U)):O(U)}function O(U){return n(U)}function I(U){return t.enter("tableRow"),J(U)}function J(U){return U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),J):U===null||ye(U)?(t.exit("tableRow"),e(U)):Ue(U)?Oe(t,J,"whitespace")(U):(t.enter("data"),ne(U))}function ne(U){return U===null||U===124||We(U)?(t.exit("data"),J(U)):(t.consume(U),U===92?Z:ne)}function Z(U){return U===92||U===124?(t.consume(U),ne):ne(U)}}function HA(t,e){let n=-1,i=!0,l=0,s=[0,0,0,0],u=[0,0,0,0],h=!1,p=0,m,g,v;const T=new zA;for(;++n<t.length;){const S=t[n],_=S[1];S[0]==="enter"?_.type==="tableHead"?(h=!1,p!==0&&(F0(T,e,p,m,g),g=void 0,p=0),m={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},T.add(n,0,[["enter",m,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,v=void 0,s=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,g={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},T.add(n,0,[["enter",g,e]])),l=_.type==="tableDelimiterRow"?2:g?3:1):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(s[1]!==0&&(u[0]=u[1],v=aa(T,e,s,l,void 0,v),s=[0,0,0,0]),u[2]=n)):_.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(u[0]=u[1],v=aa(T,e,s,l,void 0,v)),s=u,u=[s[1],n,0,0])):_.type==="tableHead"?(h=!0,p=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(p=n,s[1]!==0?(u[0]=u[1],v=aa(T,e,s,l,n,v)):u[1]!==0&&(v=aa(T,e,u,l,n,v)),l=0):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(u[3]=n)}for(p!==0&&F0(T,e,p,m,g),T.consume(e.events),n=-1;++n<e.events.length;){const S=e.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=FA(e.events,n))}return t}function aa(t,e,n,i,l,s){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(s.end=Object.assign({},ao(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const p=ao(e.events,n[1]);if(s={type:u,start:Object.assign({},p),end:Object.assign({},p)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const m=ao(e.events,n[2]),g=ao(e.events,n[3]),v={type:h,start:Object.assign({},m),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",v,e]]),i!==2){const T=e.events[n[2]],S=e.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,E=n[3]-n[2]-1;t.add(_,E,[])}}t.add(n[3]+1,0,[["exit",v,e]])}return l!==void 0&&(s.end=Object.assign({},ao(e.events,l)),t.add(l,0,[["exit",s,e]]),s=void 0),s}function F0(t,e,n,i,l){const s=[],u=ao(e.events,n);l&&(l.end=Object.assign({},u),s.push(["exit",l,e])),i.end=Object.assign({},u),s.push(["exit",i,e]),t.add(n+1,0,s)}function ao(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const jA={name:"tasklistCheck",tokenize:YA};function $A(){return{text:{91:jA}}}function YA(t,e,n){const i=this;return l;function l(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),s)}function s(p){return We(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),u):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),u):n(p)}function u(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(p)}function h(p){return ye(p)?e(p):Ue(p)?t.check({tokenize:JA},e,n)(p):n(p)}}function JA(t,e,n){return Oe(t,i,"whitespace");function i(l){return l===null?n(l):e(l)}}function KA(t){return nx([bA(),NA(),OA(t),VA(),$A()])}const XA={};function Ld(t){const e=this,n=t||XA,i=e.data(),l=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);l.push(KA(n)),s.push(gA()),u.push(yA(n))}const ua=({name:t,price:e,color:n})=>{const i={red:"bg-red-600",green:"bg-green-600",blue:"bg-blue-600"};return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:`px-2 py-0.5 text-xs font-bold text-white ${i[n]} rounded-md`,children:t}),x.jsx("div",{className:`w-0.5 h-4 ${i[n]}`}),x.jsx("div",{className:`w-3 h-3 ${i[n]} rounded-full border-2 border-white dark:border-slate-800`}),x.jsx("p",{className:"absolute -bottom-5 text-xs font-mono text-slate-600 dark:text-slate-300",children:e})]})},QA=({riskParams:t,analysis:e})=>{if(!e)return null;const{tradeSetup:n}=e,i=n.tradeType==="Long",l=parseFloat(n.entryPrice),s=parseFloat(n.stopLoss),u=parseFloat(n.takeProfit);if(isNaN(l)||isNaN(s)||isNaN(u))return null;const h=Math.abs(l-s),p=parseFloat(t.riskRewardRatio)||1.5,m=h*(p*1.5),g=i?l+m:l-m,v=[s,l,u,g],T=Math.min(...v),_=Math.max(...v)-T;let E={stop:50,entry:50,tp1:50,tp2:50};_>0&&(E={stop:(s-T)/_*100,entry:(l-T)/_*100,tp1:(u-T)/_*100,tp2:(g-T)/_*100});const R=i?`calc(${E.entry}% + 25px)`:`calc(${E.entry}% - 45px)`;return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[x.jsx(Fv,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),x.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskPerTrade,"%"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),x.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Entry"}),x.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:n.entryPrice})]})]}),x.jsxs("div",{className:"relative w-full h-16 flex items-center",children:[x.jsx("div",{className:`absolute inset-y-0 left-0 right-0 rounded-full opacity-30 ${i?"bg-gradient-to-r from-red-400/80 to-emerald-400/80":"bg-gradient-to-r from-emerald-400/80 to-red-400/80"}`}),x.jsx("div",{className:"w-full h-0.5 bg-slate-300 dark:bg-slate-600"}),x.jsxs("div",{className:"absolute w-[calc(100%-2rem)] h-full top-0 left-1/2 -translate-x-1/2 flex items-center",children:[x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.stop}%`,transform:"translateX(-50%)"},children:x.jsx(ua,{name:"SL",price:s.toFixed(Math.max(2,(s.toString().split(".")[1]||[]).length)),color:"red"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.entry}%`,transform:"translateX(-50%)"},children:x.jsx(ua,{name:"Entry",price:l.toFixed(Math.max(2,(l.toString().split(".")[1]||[]).length)),color:"blue"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:R,transform:"translateX(-50%)"},children:i?x.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}):x.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.tp1}%`,transform:"translateX(-50%)"},children:x.jsx(ua,{name:"TP1",price:u.toFixed(Math.max(2,(u.toString().split(".")[1]||[]).length)),color:"green"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.tp2}%`,transform:"translateX(-50%)"},children:x.jsx(ua,{name:"TP2",price:g.toFixed(Math.max(2,(g.toString().split(".")[1]||[]).length)),color:"green"})})]})]})]})},ca=({label:t,value:e,className:n=""})=>x.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${n}`,children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),x.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${n}`,children:e})]}),WA=({analysis:t})=>{const{tradeType:e,entryPrice:n,stopLoss:i,takeProfit:l}=t.tradeSetup,s=e==="Long";return x.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${s?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[x.jsxs("h4",{className:`text-lg font-bold ${s?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",e]}),x.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:n})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:i})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:l})]})]})]})},ZA=({analysis:t,riskParams:e})=>x.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[x.jsx("div",{className:"w-full",children:x.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800"})}),x.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&x.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?x.jsx(Ri,{className:"h-6 w-6"}):x.jsx(Nn,{className:"h-6 w-6"}),x.jsxs("span",{children:["TRADE COMPLETED: ",x.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),x.jsx(WA,{analysis:t}),x.jsx(QA,{riskParams:e,analysis:t}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[x.jsx(ca,{label:"Market Trend",value:t.marketTrend}),x.jsx(ca,{label:"Trade Bias",value:t.tradeBias,className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),x.jsx(ca,{label:"Confidence",value:`${t.confidenceScore}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&x.jsx(ca,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(ww,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),x.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:x.jsx(Rd,{remarkPlugins:[Ld],children:t.rationale})})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis})]})]})]}),e2=({status:t})=>{if(t==="pending")return null;const e="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?x.jsx("span",{className:`${e} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?x.jsx("span",{className:`${e} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},t2=({history:t,onSelect:e,onDeleteRequest:n,currentAnalysisId:i})=>x.jsxs("div",{className:"p-6 h-full flex flex-col",children:[x.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[x.jsx(bw,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?x.jsxs("div",{className:"text-center py-10 flex-1",children:[x.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),x.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):x.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map(l=>x.jsx("li",{className:"group",children:x.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${i===l.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[x.jsxs("button",{onClick:()=>e(l),className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(l.timestamp).toLocaleString()}`,children:[x.jsxs("div",{className:"flex justify-between items-center gap-2",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[x.jsxs("p",{className:`font-semibold text-sm truncate ${l.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[l.tradeSetup.tradeType," (",l.tradeBias,")"]}),x.jsx(e2,{status:l.status})]}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(l.timestamp).toLocaleString()})]}),x.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",l.keyPattern]})]}),x.jsx("button",{onClick:s=>{s.stopPropagation(),n(l)},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:x.jsx(kw,{className:"h-4 w-4"})})]})},l.id))})]}),$x=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")};return x.jsxs("button",{onClick:n,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[x.jsx("span",{className:"sr-only",children:"Toggle theme"}),x.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[x.jsx(pd,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),x.jsx(Sw,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),x.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},n2=({apiStatus:t,sessionTokens:e,totalTokens:n})=>{const i=u=>new Intl.NumberFormat().format(u),s={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return x.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"relative flex h-2 w-2",children:[x.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${s.color} ${s.pulse?"animate-ping":""} opacity-75`}),x.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${s.color}`})]}),x.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",s.text]})]}),x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),x.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(e)})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),x.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(n)})]})]})},Jn=({mode:t,activeMode:e,onClick:n,icon:i,label:l})=>x.jsx("li",{children:x.jsxs("button",{onClick:()=>n(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${e===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[i,x.jsx("span",{className:"ml-3",children:l})]})}),i2=({activeMode:t,onModeChange:e,theme:n,setTheme:i,apiStatus:l,sessionTokens:s,totalTokens:u})=>x.jsxs("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[x.jsxs("div",{className:"mb-6 px-2",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Trading Analyst"})]}),x.jsx("nav",{className:"flex-1",children:x.jsxs("ul",{className:"space-y-2",children:[x.jsx(Jn,{mode:"home",activeMode:t,onClick:e,icon:x.jsx(mw,{className:"h-5 w-5"}),label:"Home"}),x.jsx(Jn,{mode:"dashboard",activeMode:t,onClick:e,icon:x.jsx(Bv,{className:"h-5 w-5"}),label:"Dashboard"}),x.jsx(Jn,{mode:"portfolio",activeMode:t,onClick:e,icon:x.jsx(pw,{className:"h-5 w-5"}),label:"Portfolio"}),x.jsx(Jn,{mode:"economic-calendar",activeMode:t,onClick:e,icon:x.jsx(yw,{className:"h-5 w-5"}),label:"Economic Calendar"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),x.jsx(Jn,{mode:"scalp",activeMode:t,onClick:e,icon:x.jsx(hd,{className:"h-5 w-5"}),label:"Scalp Trading"}),x.jsx(Jn,{mode:"day",activeMode:t,onClick:e,icon:x.jsx(pd,{className:"h-5 w-5"}),label:"Day Trading"}),x.jsx(Jn,{mode:"swing",activeMode:t,onClick:e,icon:x.jsx(Lv,{className:"h-5 w-5"}),label:"Swing Trading"}),x.jsx(Jn,{mode:"position",activeMode:t,onClick:e,icon:x.jsx(Uv,{className:"h-5 w-5"}),label:"Position Trading"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx(Jn,{mode:"settings",activeMode:t,onClick:e,icon:x.jsx(Ov,{className:"h-5 w-5"}),label:"Settings"})]})}),x.jsxs("div",{className:"mt-6 space-y-4",children:[x.jsx(n2,{apiStatus:l,sessionTokens:s,totalTokens:u}),x.jsx($x,{theme:n,setTheme:i})]})]}),r2=({type:t,onSave:e,onClose:n})=>{const[i,l]=W.useState("");W.useEffect(()=>{const m=g=>{g.key==="Escape"&&n()};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[n]);const s=m=>{const v=m.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(v)&&l(v)},u=m=>{m.preventDefault();const g=parseFloat(i);!isNaN(g)&&g>0&&e(g)},h=t==="profit",p=!isNaN(parseFloat(i))&&parseFloat(i)>0;return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:n,children:x.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:x.jsxs("form",{onSubmit:u,children:[h?x.jsx(Ri,{className:"mx-auto h-16 w-16 text-emerald-500"}):x.jsx(Nn,{className:"mx-auto h-16 w-16 text-red-500"}),x.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),x.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),x.jsxs("div",{className:"mt-6",children:[x.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),x.jsxs("div",{className:"relative rounded-md shadow-sm",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),x.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:i,onChange:s,required:!0,autoFocus:!0})]})]}),x.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!p,children:"Save Result"})]})})})},o2={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},l2={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},ki=({label:t,value:e,icon:n,color:i})=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),x.jsx("div",{className:`p-2 rounded-lg ${o2[i]}`,children:n})]}),x.jsx("p",{className:`text-4xl font-bold mt-4 ${l2[i]}`,children:e})]}),s2=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)},a2=(t,e)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const n=[...t].sort((v,T)=>new Date(v.timestamp).getTime()-new Date(T.timestamp).getTime()),i={};n.forEach(v=>{const T=new Date(v.timestamp);let S="";if(e==="daily")S=T.toLocaleDateString("en-CA");else if(e==="weekly"){const _=T.getFullYear(),E=s2(T);S=`${_}-W${E.toString().padStart(2,"0")}`}else S=`${T.getFullYear()}-${(T.getMonth()+1).toString().padStart(2,"0")}`;switch(i[S]||(i[S]={profit:0,loss:0,pending:0,pl:0}),v.status){case"profit":i[S].profit+=1,i[S].pl+=v.outcomeAmount||0;break;case"stop-loss":i[S].loss+=1,i[S].pl-=v.outcomeAmount||0;break;case"pending":i[S].pending+=1;break}});const l=Object.keys(i).sort(),s=l,u=l.map(v=>i[v].profit),h=l.map(v=>i[v].loss),p=l.map(v=>i[v].pending),m=[];let g=0;return l.forEach(v=>{g+=i[v].pl,m.push(g)}),{labels:s,profitData:u,lossData:h,pendingData:p,cumulativePlData:m}},Cf=({buttonTimeframe:t,activeTimeframe:e,setTimeframe:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${e===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),u2=({history:t,theme:e})=>{const n=W.useRef(null),i=W.useRef(null),[l,s]=W.useState("daily");return W.useEffect(()=>{if(!n.current)return;const u=n.current.getContext("2d");if(!u)return;i.current&&i.current.destroy();const{labels:h,profitData:p,lossData:m,pendingData:g,cumulativePlData:v}=a2(t,l),T=e==="dark",S=T?"rgba(71, 85, 105, 0.2)":"rgba(203, 213, 225, 0.5)",_=T?"rgba(203, 213, 225, 0.8)":"rgba(100, 116, 139, 1)",E=u.createLinearGradient(0,0,0,300);E.addColorStop(0,T?"rgba(34, 197, 94, 0.7)":"rgba(34, 197, 94, 0.8)"),E.addColorStop(1,T?"rgba(34, 197, 94, 0.3)":"rgba(34, 197, 94, 0.4)");const R=u.createLinearGradient(0,0,0,300);R.addColorStop(0,T?"rgba(239, 68, 68, 0.7)":"rgba(239, 68, 68, 0.8)"),R.addColorStop(1,T?"rgba(239, 68, 68, 0.3)":"rgba(239, 68, 68, 0.4)");const N=u.createLinearGradient(0,0,0,300);N.addColorStop(0,T?"rgba(100, 116, 139, 0.6)":"rgba(100, 116, 139, 0.7)"),N.addColorStop(1,T?"rgba(100, 116, 139, 0.2)":"rgba(100, 116, 139, 0.3)");const L=u.createLinearGradient(0,50,0,300);return L.addColorStop(0,T?"rgba(124, 58, 237, 0.4)":"rgba(124, 58, 237, 0.5)"),L.addColorStop(1,"rgba(124, 58, 237, 0.05)"),i.current=new window.Chart(u,{type:"bar",data:{labels:h,datasets:[{label:"Profit",data:p,backgroundColor:E,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:m,backgroundColor:R,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:g,backgroundColor:N,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:v,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:L,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:T?"#1e293b":"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:T?"#1e293b":"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:_,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:S,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:_,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:_,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:_,font:{family:"inherit"},callback:function(M){return typeof M!="number"?M:Math.abs(M)>=1e3?"$"+(M/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+M}},title:{display:!0,text:"Cumulative P/L ($)",color:_,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:_,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:T?"rgba(15, 23, 42, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:T?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:T?"#cbd5e1":"#1e293b",bodyColor:T?"#94a3b8":"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(M){let q=M.dataset.label||"";return q&&(q+=": "),M.parsed.y!==null&&(M.dataset.yAxisID==="y1"?q+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M.parsed.y):q+=M.parsed.y),q}}}}}}),()=>{i.current&&i.current.destroy()}},[t,l,e]),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Cf,{buttonTimeframe:"daily",activeTimeframe:l,setTimeframe:s,children:"Daily"}),x.jsx(Cf,{buttonTimeframe:"weekly",activeTimeframe:l,setTimeframe:s,children:"Weekly"}),x.jsx(Cf,{buttonTimeframe:"monthly",activeTimeframe:l,setTimeframe:s,children:"Monthly"})]})]}),x.jsx("div",{className:"relative h-96",children:t.length>0?x.jsx("canvas",{ref:n}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",x.jsx("br",{})," Complete some trades to see the chart."]})})})]})},c2=({profile:t,winRate:e,totalTrades:n,onClose:i})=>(W.useEffect(()=>{const l=s=>{s.key==="Escape"&&i()};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[i]),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:x.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:l=>l.stopPropagation(),children:[x.jsx("div",{className:"absolute top-4 right-4",children:x.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:x.jsx(Nn,{className:"w-8 h-8"})})}),x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:dd.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),x.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),x.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),x.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[e,"%"]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),x.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n})]})]})]})]})})),f2=({user:t,onNavigate:e,onLogoutClick:n})=>{const[i,l]=W.useState(!1),s=W.useRef(null);return W.useEffect(()=>{const u=h=>{s.current&&!s.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),t?x.jsxs("div",{className:"relative",ref:s,children:[x.jsxs("button",{onClick:()=>l(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[x.jsx(gw,{className:"h-6 w-6"}),x.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&x.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:x.jsxs("div",{className:"py-1",role:"none",children:[x.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),x.jsxs("button",{onClick:()=>{e("settings"),l(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[x.jsx(Ov,{className:"w-5 h-5"}),x.jsx("span",{children:"Profile & Settings"})]}),x.jsxs("button",{onClick:()=>{n(),l(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[x.jsx(_w,{className:"w-5 h-5"}),x.jsx("span",{children:"Logout"})]})]})})]}):null},d2={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:Yg,image:Yg},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:Jg,image:Jg},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:Kg,image:Kg},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:Xg,image:Xg},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:Qg,image:Qg}},h2=t=>{const e=t.filter(u=>u.status!=="pending"),n=e.length,i=e.filter(u=>u.status==="profit").length,l=n>0?i/n*100:0;let s="Novice Navigator";return n>=75&&l>=75?s="Elite Executor":n>=50&&l>=65?s="Strategy Sentinel":n>=30&&l>=55?s="Pattern Pursuer":n>=10&&l>=40&&(s="Market Apprentice"),{tier:s,...d2[s]}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m2,p2;function g2(){return{geminiUrl:m2,vertexUrl:p2}}function y2(t,e,n){var i,l,s;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=g2();return t.vertexai?(l=u.vertexUrl)!==null&&l!==void 0?l:e:(s=u.geminiUrl)!==null&&s!==void 0?s:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sr{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const s=e[l];return s!=null?String(s):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(t,e,n){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const h=u.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const g=p[m];f(g,e.slice(s+1),n[m])}else for(const m of p)f(m,e.slice(s+1),n)}return}else if(u.endsWith("[0]")){const h=u.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(s+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function c(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const s=t[l];return Array.isArray(s)?s.map(u=>c(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var V0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(V0||(V0={}));var G0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(G0||(G0={}));var mt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mt||(mt={}));var H0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(H0||(H0={}));var j0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(j0||(j0={}));var $0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($0||($0={}));var Y0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Y0||(Y0={}));var J0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(J0||(J0={}));var K0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(K0||(K0={}));var X0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(X0||(X0={}));var Q0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Q0||(Q0={}));var W0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(W0||(W0={}));var Z0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Z0||(Z0={}));var ey;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ey||(ey={}));var ty;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(ty||(ty={}));var ny;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ny||(ny={}));var Aa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Aa||(Aa={}));var iy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iy||(iy={}));var $f;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($f||($f={}));var ry;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ry||(ry={}));var oy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oy||(oy={}));var ly;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ly||(ly={}));var sy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sy||(sy={}));var ay;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ay||(ay={}));var uy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uy||(uy={}));var cy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cy||(cy={}));var fy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fy||(fy={}));var dy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dy||(dy={}));var hy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hy||(hy={}));var my;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(my||(my={}));var py;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(py||(py={}));var gy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gy||(gy={}));var yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yy||(yy={}));var vy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vy||(vy={}));var xy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xy||(xy={}));var by;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(by||(by={}));var Ty;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ty||(Ty={}));var Sy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sy||(Sy={}));var wy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wy||(wy={}));var Cy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Cy||(Cy={}));var _y;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_y||(_y={}));var co;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class Yf{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Al{get text(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",g=!1;const v=[];for(const T of(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,_]of Object.entries(T))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&v.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,m+=T.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?m:void 0}get data(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const g=[];for(const v of(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[T,S]of Object.entries(v))T!=="inlineData"&&(S!==null||S!==void 0)&&g.push(T);v.inlineData&&typeof v.inlineData.data=="string"&&(m+=atob(v.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,l,s,u,h,p,m;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,l,s,u,h,p,m;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.output}}class ky{}class Ey{}class v2{}class x2{}class Ay{}class My{}class Ny{}class b2{}class Ry{}class Dy{}class Iy{}class T2{}class S2{}class w2{}class Py{}class C2{get text(){var e,n,i;let l="",s=!1;const u=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&u.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;s=!0,l+=h.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?l:void 0}get data(){var e,n,i;let l="";const s=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(u))h!=="inlineData"&&p!==null&&s.push(h);u.inlineData&&typeof u.inlineData.data=="string"&&(l+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class _2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Yx(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Jx(t){return Array.isArray(t)?t.map(e=>Ma(e)):[Ma(t)]}function Ma(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Kx(t){const e=Ma(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Xx(t){const e=Ma(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ly(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Qx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Ly(e)):[Ly(t)]}function Jf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Uy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function By(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function It(t){if(t==null)throw new Error("ContentUnion is required");return Jf(t)?t:{role:"user",parts:Qx(t)}}function Wx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=It(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=It(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>It(n)):[It(e)]}function gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Uy(t)||By(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(t)]}const e=[],n=[],i=Jf(t[0]);for(const l of t){const s=Jf(l);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(l);else{if(Uy(l)||By(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:Qx(n)}),e}function k2(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(mt).includes(n[0].toUpperCase())?n[0].toUpperCase():mt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(mt).includes(i.toUpperCase())?i.toUpperCase():mt.TYPE_UNSPECIFIED})}}function ho(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&k2(t.type,e);for(const[u,h]of Object.entries(t))if(h!=null)if(u=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(mt).includes(h.toUpperCase())?h.toUpperCase():mt.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=ho(h);else if(i.includes(u)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(ho(m))}e[u]=p}else if(l.includes(u)){const p={};for(const[m,g]of Object.entries(h))p[m]=ho(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=h}return e}function Ud(t){return ho(t)}function Bd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Od(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ho(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ho(e.response));return t}function bo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function E2(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function Wn(t,e){if(typeof e!="string")throw new Error("name must be a string");return E2(t,e,"cachedContents")}function Zx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Zn(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function A2(t){return t!=null&&typeof t=="object"&&"name"in t}function M2(t){return t!=null&&typeof t=="object"&&"video"in t}function N2(t){return t!=null&&typeof t=="object"&&"uri"in t}function eb(t){var e;let n;if(A2(t)&&(n=t.name),!(N2(t)&&(n=t.uri,n===void 0))&&!(M2(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tb(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function nb(t){for(const e of["models","tunedModels","publisherModels"])if(R2(t,e))return t[e];return[]}function R2(t,e){return t!==null&&typeof t=="object"&&e in t}function D2(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function I2(t,e={}){const n=[],i=new Set;for(const l of t){const s=l.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const u=D2(l,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function ib(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function P2(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function To(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function rb(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function U2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function B2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function O2(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],L2(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],U2(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],B2(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function ob(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>O2(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function z2(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const N=c(t,["nullable"]);N!=null&&f(e,["nullable"],N);const L=c(t,["pattern"]);L!=null&&f(e,["pattern"],L);const M=c(t,["properties"]);M!=null&&f(e,["properties"],M);const q=c(t,["propertyOrdering"]);q!=null&&f(e,["propertyOrdering"],q);const O=c(t,["required"]);O!=null&&f(e,["required"],O);const I=c(t,["title"]);I!=null&&f(e,["title"],I);const J=c(t,["type"]);return J!=null&&f(e,["type"],J),e}function q2(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&f(e,["category"],n);const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function F2(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function V2(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function G2(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],V2(n)),e}function H2(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function j2(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],H2(n)),e}function $2(){return{}}function Y2(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>F2(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],G2(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],j2(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],$2());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function J2(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function K2(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function X2(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],K2(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function Q2(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],J2(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],X2(i)),e}function W2(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function lb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],W2(n)),e}function Z2(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],lb(i)),e}function eM(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Z2(l))),f(e,["speakerVoiceConfigs"],i)}return e}function tM(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],lb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],eM(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function nM(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function iM(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],ob(It(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const N=c(e,["responseSchema"]);N!=null&&f(i,["responseSchema"],z2(Ud(N)));const L=c(e,["responseJsonSchema"]);if(L!=null&&f(i,["responseJsonSchema"],L),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=c(e,["safetySettings"]);if(n!==void 0&&M!=null){let te=M;Array.isArray(te)&&(te=te.map(ee=>q2(ee))),f(n,["safetySettings"],te)}const q=c(e,["tools"]);if(n!==void 0&&q!=null){let te=bo(q);Array.isArray(te)&&(te=te.map(ee=>Y2(xo(ee)))),f(n,["tools"],te)}const O=c(e,["toolConfig"]);if(n!==void 0&&O!=null&&f(n,["toolConfig"],Q2(O)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],Wn(t,I));const J=c(e,["responseModalities"]);J!=null&&f(i,["responseModalities"],J);const ne=c(e,["mediaResolution"]);ne!=null&&f(i,["mediaResolution"],ne);const Z=c(e,["speechConfig"]);if(Z!=null&&f(i,["speechConfig"],tM(Bd(Z))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=c(e,["thinkingConfig"]);return U!=null&&f(i,["thinkingConfig"],nM(U)),i}function rM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["request","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>ob(h))),f(n,["request","contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["request","generationConfig"],iM(t,s,n)),n}function oM(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(e,["fileName"]);i!=null&&f(n,["fileName"],i);const l=c(e,["inlinedRequests"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>rM(t,u))),f(n,["requests","requests"],s)}return n}function lM(t,e){const n={},i=c(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["src"]);l!=null&&f(n,["batch","inputConfig"],oM(t,ib(t,l)));const s=c(e,["config"]);return s!=null&&f(n,["config"],lM(s,n)),n}function aM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function uM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function cM(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function fM(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],cM(n,e)),e}function dM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function hM(t){const e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const l=c(t,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mM(t){const e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const l=c(t,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function pM(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],mM(P2(l))),n}function gM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Ye(t,i));const l=c(e,["src"]);l!=null&&f(n,["inputConfig"],hM(ib(t,l)));const s=c(e,["config"]);return s!=null&&f(n,["config"],pM(s,n)),n}function yM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function vM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function xM(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function bM(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],xM(n,e)),e}function TM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],To(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function sb(){return{}}function SM(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function wM(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function CM(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function _M(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],SM(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],wM(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],CM(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function kM(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>_M(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function EM(t){const e={},n=c(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function AM(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function MM(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>AM(l))),f(e,["urlMetadata"],i)}return e}function NM(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],kM(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],EM(i));const l=c(t,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],MM(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function RM(t){const e={},n=c(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>NM(h))),f(e,["candidates"],u)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function DM(t){const e={},n=c(t,["response"]);return n!=null&&f(e,["response"],RM(n)),c(t,["error"])!=null&&f(e,["error"],sb()),e}function IM(t){const e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=c(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>DM(s))),f(e,["inlinedResponses"],l)}return e}function Kf(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["metadata","state"]);l!=null&&f(e,["state"],rb(l));const s=c(t,["metadata","createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["metadata","endTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=c(t,["metadata","output"]);return m!=null&&f(e,["dest"],IM(m)),e}function PM(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Kf(s))),f(e,["batchJobs"],l)}return e}function LM(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["done"]);return i!=null&&f(e,["done"],i),c(t,["error"])!=null&&f(e,["error"],sb()),e}function ab(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["code"]);i!=null&&f(e,["code"],i);const l=c(t,["message"]);return l!=null&&f(e,["message"],l),e}function UM(t){const e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const l=c(t,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function BM(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const l=c(t,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function Xf(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["state"]);l!=null&&f(e,["state"],rb(l));const s=c(t,["error"]);s!=null&&f(e,["error"],ab(s));const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=c(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=c(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const g=c(t,["model"]);g!=null&&f(e,["model"],g);const v=c(t,["inputConfig"]);v!=null&&f(e,["src"],UM(v));const T=c(t,["outputConfig"]);return T!=null&&f(e,["dest"],BM(T)),e}function OM(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Xf(s))),f(e,["batchJobs"],l)}return e}function zM(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const l=c(t,["error"]);return l!=null&&f(e,["error"],ab(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var or;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(or||(or={}));class $l{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(l=u.config)===null||l===void 0?void 0:l.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM extends sr{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${l}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new $l(or.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=gM(this.apiClient,e);return h=me("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const m=sM(this.apiClient,e);return h=me("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Kf(g))}}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=yM(this.apiClient,e);return h=me("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Xf(g))}else{const m=aM(this.apiClient,e);return h=me("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Kf(g))}}async cancel(e){var n,i,l,s;let u="",h={};if(this.apiClient.isVertexAI()){const p=vM(this.apiClient,e);u=me("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=uM(this.apiClient,e);u=me("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=bM(e);return h=me("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=OM(g),T=new Py;return Object.assign(T,v),T})}else{const m=fM(e);return h=me("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=PM(g),T=new Py;return Object.assign(T,v),T})}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=TM(this.apiClient,e);return h=me("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>zM(g))}else{const m=dM(this.apiClient,e);return h=me("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>LM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FM(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function VM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function GM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function HM(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],FM(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],VM(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],GM(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function Oy(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>HM(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function jM(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function $M(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function YM(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],$M(n)),e}function JM(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function KM(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],JM(n)),e}function XM(){return{}}function QM(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>jM(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],YM(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],KM(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],XM());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function WM(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function ZM(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function eN(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],ZM(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function tN(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],WM(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],eN(i)),e}function nN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let g=gn(u);Array.isArray(g)&&(g=g.map(v=>Oy(v))),f(e,["contents"],g)}const h=c(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Oy(It(h)));const p=c(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>QM(v))),f(e,["tools"],g)}const m=c(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],tN(m)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function iN(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Yx(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],nN(l,n)),n}function rN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function oN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function lN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function sN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],lN(l,n)),n}function aN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function uN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],aN(n,e)),e}function cN(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function fN(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function dN(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function hN(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],cN(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],fN(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],dN(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function zy(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>hN(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function mN(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function pN(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function gN(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],pN(n)),e}function yN(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function vN(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],yN(n)),e}function xN(){return{}}function bN(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function TN(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],bN(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function SN(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],TN(n)),e}function wN(){return{}}function CN(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>mN(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],gN(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],vN(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],xN());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],SN(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],wN());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function _N(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function kN(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function EN(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],kN(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function AN(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],_N(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],EN(i)),e}function MN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let v=gn(u);Array.isArray(v)&&(v=v.map(T=>zy(T))),f(e,["contents"],v)}const h=c(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],zy(It(h)));const p=c(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>CN(T))),f(e,["tools"],v)}const m=c(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],AN(m));const g=c(t,["kmsKeyName"]);return e!==void 0&&g!=null&&f(e,["encryption_spec","kmsKeyName"],g),n}function NN(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Yx(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],MN(l,n)),n}function RN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function DN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function IN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function PN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Wn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],IN(l,n)),n}function LN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function UN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],LN(n,e)),e}function Ta(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["model"]);l!=null&&f(e,["model"],l);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const h=c(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function BN(){return{}}function ON(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Ta(s))),f(e,["cachedContents"],l)}return e}function Sa(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["model"]);l!=null&&f(e,["model"],l);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const h=c(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function zN(){return{}}function qN(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Sa(s))),f(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FN extends sr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(or.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=NN(this.apiClient,e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Sa(g))}else{const m=iN(this.apiClient,e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Ta(g))}}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=RN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Sa(g))}else{const m=rN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Ta(g))}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=DN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(()=>{const g=zN(),v=new Dy;return Object.assign(v,g),v})}else{const m=oN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(()=>{const g=BN(),v=new Dy;return Object.assign(v,g),v})}}async update(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=PN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Sa(g))}else{const m=sN(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Ta(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=UN(e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=qN(g),T=new Iy;return Object.assign(T,v),T})}else{const m=uN(e);return h=me("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=ON(g),T=new Iy;return Object.assign(T,v),T})}}}function qy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(t){return this instanceof nt?(this.v=t,this):new nt(t)}function mo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,s=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(S){return function(_){return Promise.resolve(_).then(S,v)}}function h(S,_){i[S]&&(l[S]=function(E){return new Promise(function(R,N){s.push([S,E,R,N])>1||p(S,E)})},_&&(l[S]=_(l[S])))}function p(S,_){try{m(i[S](_))}catch(E){T(s[0][3],E)}}function m(S){S.value instanceof nt?Promise.resolve(S.value.v).then(g,v):T(s[0][2],S)}function g(S){p("next",S)}function v(S){p("throw",S)}function T(S,_){S(_),s.shift(),s.length&&p(s[0][0],s[0][1])}}function Pl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qy=="function"?qy(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(u){return new Promise(function(h,p){u=t[s](u),l(h,p,u.done,u.value)})}}function l(s,u,h,p){Promise.resolve(p).then(function(m){s({value:m,done:h})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ub(n)}function ub(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function GN(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let s=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),s&&!ub(t[i])&&(s=!1),i++;s?e.push(...l):e.pop()}return e}class HN{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jN{constructor(e,n,i,l={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=s,this.sendPromise=Promise.resolve(),GN(s)}async sendMessage(e){var n;await this.sendPromise;const i=It(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,h;const p=await l,m=(u=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let T=[];g!=null&&(T=(h=g.slice(v))!==null&&h!==void 0?h:[]);const S=m?[m]:[];this.recordHistory(i,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=It(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const s=await l;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?Fy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return mo(this,arguments,function*(){var u,h,p,m;const g=[];try{for(var v=!0,T=Pl(e),S;S=yield nt(T.next()),u=S.done,!u;v=!0){m=S.value,v=!1;const _=m;if(VN(_)){const E=(l=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;E!==void 0&&g.push(E)}yield yield nt(_)}}catch(_){h={error:_}}finally{try{!v&&!u&&(p=T.return)&&(yield nt(p.call(T)))}finally{if(h)throw h.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(s=>s.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Fy(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Oa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $N(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function YN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],$N(n,e)),e}function JN(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["message"]);i!=null&&f(e,["message"],i);const l=c(t,["code"]);return l!=null&&f(e,["code"],l),e}function KN(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["mimeType"]);l!=null&&f(e,["mimeType"],l);const s=c(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=c(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=c(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const g=c(t,["uri"]);g!=null&&f(e,["uri"],g);const v=c(t,["downloadUri"]);v!=null&&f(e,["downloadUri"],v);const T=c(t,["state"]);T!=null&&f(e,["state"],T);const S=c(t,["source"]);S!=null&&f(e,["source"],S);const _=c(t,["videoMetadata"]);_!=null&&f(e,["videoMetadata"],_);const E=c(t,["error"]);return E!=null&&f(e,["error"],JN(E)),e}function XN(t){const e={},n=c(t,["file"]);n!=null&&f(e,["file"],KN(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function QN(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","file"],eb(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function WN(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","file"],eb(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function ZN(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["message"]);i!=null&&f(e,["message"],i);const l=c(t,["code"]);return l!=null&&f(e,["code"],l),e}function Qf(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["mimeType"]);l!=null&&f(e,["mimeType"],l);const s=c(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=c(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=c(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const g=c(t,["uri"]);g!=null&&f(e,["uri"],g);const v=c(t,["downloadUri"]);v!=null&&f(e,["downloadUri"],v);const T=c(t,["state"]);T!=null&&f(e,["state"],T);const S=c(t,["source"]);S!=null&&f(e,["source"],S);const _=c(t,["videoMetadata"]);_!=null&&f(e,["videoMetadata"],_);const E=c(t,["error"]);return E!=null&&f(e,["error"],ZN(E)),e}function eR(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Qf(s))),f(e,["files"],l)}return e}function tR(){return{}}function nR(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR extends sr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $l(or.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Qf(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YN(e);return s=me("files",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=eR(p),g=new T2;return Object.assign(g,m),g})}}async createInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=XN(e);return s=me("upload/v1beta/files",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(()=>{const p=tR(),m=new S2;return Object.assign(m,p),m})}}async get(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QN(e);return s=me("files/{file}",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>Qf(p))}}async delete(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WN(e);return s=me("files/{file}",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(()=>{const p=nR(),m=new w2;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rR(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function oR(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function cb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],rR(n)),e}function lR(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],oR(n)),e}function sR(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],cb(i)),e}function aR(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>sR(l))),f(e,["speakerVoiceConfigs"],i)}return e}function uR(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],cb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],aR(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function cR(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],lR(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function fR(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function dR(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function hR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function mR(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function pR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function gR(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function yR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],fR(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],hR(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],pR(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function vR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],dR(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],mR(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],gR(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function xR(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>yR(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function bR(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>vR(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function TR(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function SR(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function wR(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function CR(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function _R(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],wR(n)),e}function kR(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],CR(n)),e}function ER(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function AR(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function MR(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],ER(n)),e}function NR(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],AR(n)),e}function RR(){return{}}function DR(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function IR(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],DR(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function PR(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],IR(n)),e}function LR(){return{}}function UR(){return{}}function BR(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>TR(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],_R(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],MR(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],LR());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function OR(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>SR(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],kR(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],NR(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],RR());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],PR(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],UR());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function zR(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qR(t){const e={},n=c(t,["handle"]);n!=null&&f(e,["handle"],n);const i=c(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function Vy(){return{}}function Gy(){return{}}function FR(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function VR(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function GR(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],FR(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function HR(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],VR(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function jR(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function $R(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function YR(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],jR(i)),e}function JR(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],$R(i)),e}function KR(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function XR(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function QR(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],uR(Od(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],xR(It(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let O=bo(_);Array.isArray(O)&&(O=O.map(I=>BR(xo(I)))),f(e,["setup","tools"],O)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],zR(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],Vy());const N=c(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],Vy());const L=c(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],GR(L));const M=c(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],YR(M));const q=c(t,["proactivity"]);return e!==void 0&&q!=null&&f(e,["setup","proactivity"],KR(q)),n}function WR(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],cR(Od(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],bR(It(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let O=bo(_);Array.isArray(O)&&(O=O.map(I=>OR(xo(I)))),f(e,["setup","tools"],O)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],qR(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],Gy());const N=c(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],Gy());const L=c(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],HR(L));const M=c(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],JR(M));const q=c(t,["proactivity"]);return e!==void 0&&q!=null&&f(e,["setup","proactivity"],XR(q)),n}function ZR(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],QR(l,n)),n}function eD(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],WR(l,n)),n}function tD(){return{}}function nD(){return{}}function iD(){return{}}function rD(){return{}}function oD(t){const e={},n=c(t,["media"]);n!=null&&f(e,["mediaChunks"],Jx(n));const i=c(t,["audio"]);i!=null&&f(e,["audio"],Xx(i));const l=c(t,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const s=c(t,["video"]);s!=null&&f(e,["video"],Kx(s));const u=c(t,["text"]);return u!=null&&f(e,["text"],u),c(t,["activityStart"])!=null&&f(e,["activityStart"],tD()),c(t,["activityEnd"])!=null&&f(e,["activityEnd"],iD()),e}function lD(t){const e={},n=c(t,["media"]);n!=null&&f(e,["mediaChunks"],Jx(n));const i=c(t,["audio"]);i!=null&&f(e,["audio"],Xx(i));const l=c(t,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const s=c(t,["video"]);s!=null&&f(e,["video"],Kx(s));const u=c(t,["text"]);return u!=null&&f(e,["text"],u),c(t,["activityStart"])!=null&&f(e,["activityStart"],nD()),c(t,["activityEnd"])!=null&&f(e,["activityEnd"],rD()),e}function fb(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function sD(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>fb(l))),f(e,["weightedPrompts"],i)}return e}function db(t){const e={},n=c(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=c(t,["topK"]);i!=null&&f(e,["topK"],i);const l=c(t,["seed"]);l!=null&&f(e,["seed"],l);const s=c(t,["guidance"]);s!=null&&f(e,["guidance"],s);const u=c(t,["bpm"]);u!=null&&f(e,["bpm"],u);const h=c(t,["density"]);h!=null&&f(e,["density"],h);const p=c(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=c(t,["scale"]);m!=null&&f(e,["scale"],m);const g=c(t,["muteBass"]);g!=null&&f(e,["muteBass"],g);const v=c(t,["muteDrums"]);v!=null&&f(e,["muteDrums"],v);const T=c(t,["onlyBassAndDrums"]);return T!=null&&f(e,["onlyBassAndDrums"],T),e}function aD(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],db(n)),e}function hb(t){const e={},n=c(t,["model"]);return n!=null&&f(e,["model"],n),e}function mb(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>fb(l))),f(e,["weightedPrompts"],i)}return e}function Wf(t){const e={},n=c(t,["setup"]);n!=null&&f(e,["setup"],hb(n));const i=c(t,["clientContent"]);i!=null&&f(e,["clientContent"],mb(i));const l=c(t,["musicGenerationConfig"]);l!=null&&f(e,["musicGenerationConfig"],db(l));const s=c(t,["playbackControl"]);return s!=null&&f(e,["playbackControl"],s),e}function uD(){return{}}function cD(t){const e={},n=c(t,["sessionId"]);return n!=null&&f(e,["sessionId"],n),e}function fD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function dD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function hD(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function mD(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function pD(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function gD(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function yD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],fD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],hD(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],pD(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function vD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],dD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],mD(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],gD(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function xD(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>yD(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function bD(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>vD(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function Hy(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function jy(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function TD(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function SD(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>TD(l))),f(e,["urlMetadata"],i)}return e}function wD(t){const e={},n=c(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],xD(n));const i=c(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const l=c(t,["interrupted"]);l!=null&&f(e,["interrupted"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const u=c(t,["generationComplete"]);u!=null&&f(e,["generationComplete"],u);const h=c(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],Hy(h));const p=c(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],Hy(p));const m=c(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],SD(m)),e}function CD(t){const e={},n=c(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],bD(n));const i=c(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const l=c(t,["interrupted"]);l!=null&&f(e,["interrupted"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const u=c(t,["generationComplete"]);u!=null&&f(e,["generationComplete"],u);const h=c(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],jy(h));const p=c(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],jy(p)),e}function _D(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const l=c(t,["name"]);return l!=null&&f(e,["name"],l),e}function kD(t){const e={},n=c(t,["args"]);n!=null&&f(e,["args"],n);const i=c(t,["name"]);return i!=null&&f(e,["name"],i),e}function ED(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>_D(l))),f(e,["functionCalls"],i)}return e}function AD(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>kD(l))),f(e,["functionCalls"],i)}return e}function MD(t){const e={},n=c(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function ND(t){const e={},n=c(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function fa(t){const e={},n=c(t,["modality"]);n!=null&&f(e,["modality"],n);const i=c(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function da(t){const e={},n=c(t,["modality"]);n!=null&&f(e,["modality"],n);const i=c(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function RD(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const l=c(t,["responseTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const u=c(t,["thoughtsTokenCount"]);u!=null&&f(e,["thoughtsTokenCount"],u);const h=c(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=c(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>fa(S))),f(e,["promptTokensDetails"],T)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>fa(S))),f(e,["cacheTokensDetails"],T)}const g=c(t,["responseTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>fa(S))),f(e,["responseTokensDetails"],T)}const v=c(t,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>fa(S))),f(e,["toolUsePromptTokensDetails"],T)}return e}function DD(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const l=c(t,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const u=c(t,["thoughtsTokenCount"]);u!=null&&f(e,["thoughtsTokenCount"],u);const h=c(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=c(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>da(_))),f(e,["promptTokensDetails"],S)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>da(_))),f(e,["cacheTokensDetails"],S)}const g=c(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(_=>da(_))),f(e,["responseTokensDetails"],S)}const v=c(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>da(_))),f(e,["toolUsePromptTokensDetails"],S)}const T=c(t,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function ID(t){const e={},n=c(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function PD(t){const e={},n=c(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function LD(t){const e={},n=c(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=c(t,["resumable"]);i!=null&&f(e,["resumable"],i);const l=c(t,["lastConsumedClientMessageIndex"]);return l!=null&&f(e,["lastConsumedClientMessageIndex"],l),e}function UD(t){const e={},n=c(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=c(t,["resumable"]);i!=null&&f(e,["resumable"],i);const l=c(t,["lastConsumedClientMessageIndex"]);return l!=null&&f(e,["lastConsumedClientMessageIndex"],l),e}function BD(t){const e={};c(t,["setupComplete"])!=null&&f(e,["setupComplete"],uD());const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],wD(i));const l=c(t,["toolCall"]);l!=null&&f(e,["toolCall"],ED(l));const s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],MD(s));const u=c(t,["usageMetadata"]);u!=null&&f(e,["usageMetadata"],RD(u));const h=c(t,["goAway"]);h!=null&&f(e,["goAway"],ID(h));const p=c(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],LD(p)),e}function OD(t){const e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],cD(n));const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],CD(i));const l=c(t,["toolCall"]);l!=null&&f(e,["toolCall"],AD(l));const s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],ND(s));const u=c(t,["usageMetadata"]);u!=null&&f(e,["usageMetadata"],DD(u));const h=c(t,["goAway"]);h!=null&&f(e,["goAway"],PD(h));const p=c(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],UD(p)),e}function zD(){return{}}function qD(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function FD(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>qD(l))),f(e,["weightedPrompts"],i)}return e}function VD(t){const e={},n=c(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=c(t,["topK"]);i!=null&&f(e,["topK"],i);const l=c(t,["seed"]);l!=null&&f(e,["seed"],l);const s=c(t,["guidance"]);s!=null&&f(e,["guidance"],s);const u=c(t,["bpm"]);u!=null&&f(e,["bpm"],u);const h=c(t,["density"]);h!=null&&f(e,["density"],h);const p=c(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=c(t,["scale"]);m!=null&&f(e,["scale"],m);const g=c(t,["muteBass"]);g!=null&&f(e,["muteBass"],g);const v=c(t,["muteDrums"]);v!=null&&f(e,["muteDrums"],v);const T=c(t,["onlyBassAndDrums"]);return T!=null&&f(e,["onlyBassAndDrums"],T),e}function GD(t){const e={},n=c(t,["clientContent"]);n!=null&&f(e,["clientContent"],FD(n));const i=c(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],VD(i)),e}function HD(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const l=c(t,["sourceMetadata"]);return l!=null&&f(e,["sourceMetadata"],GD(l)),e}function jD(t){const e={},n=c(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>HD(l))),f(e,["audioChunks"],i)}return e}function $D(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function YD(t){const e={};c(t,["setupComplete"])!=null&&f(e,["setupComplete"],zD());const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],jD(i));const l=c(t,["filteredPrompt"]);return l!=null&&f(e,["filteredPrompt"],$D(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function KD(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function XD(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function QD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],JD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],KD(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],XD(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function za(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>QD(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function WD(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const N=c(t,["nullable"]);N!=null&&f(e,["nullable"],N);const L=c(t,["pattern"]);L!=null&&f(e,["pattern"],L);const M=c(t,["properties"]);M!=null&&f(e,["properties"],M);const q=c(t,["propertyOrdering"]);q!=null&&f(e,["propertyOrdering"],q);const O=c(t,["required"]);O!=null&&f(e,["required"],O);const I=c(t,["title"]);I!=null&&f(e,["title"],I);const J=c(t,["type"]);return J!=null&&f(e,["type"],J),e}function ZD(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&f(e,["category"],n);const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function eI(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function tI(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function nI(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],tI(n)),e}function iI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function rI(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],iI(n)),e}function oI(){return{}}function lI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>eI(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],nI(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],rI(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],oI());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function sI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function aI(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function uI(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],aI(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function cI(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],sI(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],uI(i)),e}function fI(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function pb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],fI(n)),e}function dI(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],pb(i)),e}function hI(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>dI(l))),f(e,["speakerVoiceConfigs"],i)}return e}function mI(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],pb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],hI(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function pI(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function gI(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],za(It(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const N=c(e,["responseSchema"]);N!=null&&f(i,["responseSchema"],WD(Ud(N)));const L=c(e,["responseJsonSchema"]);if(L!=null&&f(i,["responseJsonSchema"],L),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=c(e,["safetySettings"]);if(n!==void 0&&M!=null){let te=M;Array.isArray(te)&&(te=te.map(ee=>ZD(ee))),f(n,["safetySettings"],te)}const q=c(e,["tools"]);if(n!==void 0&&q!=null){let te=bo(q);Array.isArray(te)&&(te=te.map(ee=>lI(xo(ee)))),f(n,["tools"],te)}const O=c(e,["toolConfig"]);if(n!==void 0&&O!=null&&f(n,["toolConfig"],cI(O)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],Wn(t,I));const J=c(e,["responseModalities"]);J!=null&&f(i,["responseModalities"],J);const ne=c(e,["mediaResolution"]);ne!=null&&f(i,["mediaResolution"],ne);const Z=c(e,["speechConfig"]);if(Z!=null&&f(i,["speechConfig"],mI(Bd(Z))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=c(e,["thinkingConfig"]);return U!=null&&f(i,["thinkingConfig"],pI(U)),i}function $y(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>za(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],gI(t,s,n)),n}function yI(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const l=c(t,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);l!=null&&f(n,["requests[]","content"],Wx(t,l));const s=c(e,["config"]);s!=null&&f(n,["config"],yI(s,n));const u=c(e,["model"]);return u!==void 0&&f(n,["requests[]","model"],Ye(t,u)),n}function xI(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);if(e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const h=c(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const g=c(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["config"]);return s!=null&&f(n,["config"],xI(s,n)),n}function TI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function SI(t,e,n){const i={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const h=c(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],tb(t,h)),i}function wI(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],SI(t,i,n)),n}function CI(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function _I(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],CI(l,n)),n}function kI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function EI(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function AI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>za(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],EI(s)),n}function MI(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Zn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function NI(t,e){const n={},i=c(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(t,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(t,["aspectRatio"]);if(e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s),c(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=c(t,["personGeneration"]);if(e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=c(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=c(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(c(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function RI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["image"]);if(s!=null&&f(n,["instances[0]","image"],MI(s)),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=c(e,["config"]);return u!=null&&f(n,["config"],NI(u,n)),n}function DI(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function II(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function PI(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function LI(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],DI(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],II(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],PI(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function So(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>LI(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function UI(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const N=c(t,["nullable"]);N!=null&&f(e,["nullable"],N);const L=c(t,["pattern"]);L!=null&&f(e,["pattern"],L);const M=c(t,["properties"]);M!=null&&f(e,["properties"],M);const q=c(t,["propertyOrdering"]);q!=null&&f(e,["propertyOrdering"],q);const O=c(t,["required"]);O!=null&&f(e,["required"],O);const I=c(t,["title"]);I!=null&&f(e,["title"],I);const J=c(t,["type"]);return J!=null&&f(e,["type"],J),e}function BI(t){const e={},n=c(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function OI(t){const e={},n=c(t,["method"]);n!=null&&f(e,["method"],n);const i=c(t,["category"]);i!=null&&f(e,["category"],i);const l=c(t,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function zI(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function qI(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function FI(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],qI(n)),e}function VI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function GI(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],VI(n)),e}function HI(){return{}}function jI(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function $I(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],jI(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function YI(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],$I(n)),e}function JI(){return{}}function gb(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>zI(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],FI(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],GI(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],HI());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],YI(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],JI());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function KI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function XI(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function QI(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],XI(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function WI(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],KI(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],QI(i)),e}function ZI(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function e4(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],ZI(n)),e}function t4(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],e4(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function n4(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function i4(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],So(It(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const N=c(e,["responseSchema"]);N!=null&&f(i,["responseSchema"],UI(Ud(N)));const L=c(e,["responseJsonSchema"]);L!=null&&f(i,["responseJsonSchema"],L);const M=c(e,["routingConfig"]);M!=null&&f(i,["routingConfig"],M);const q=c(e,["modelSelectionConfig"]);q!=null&&f(i,["modelConfig"],BI(q));const O=c(e,["safetySettings"]);if(n!==void 0&&O!=null){let oe=O;Array.isArray(oe)&&(oe=oe.map(V=>OI(V))),f(n,["safetySettings"],oe)}const I=c(e,["tools"]);if(n!==void 0&&I!=null){let oe=bo(I);Array.isArray(oe)&&(oe=oe.map(V=>gb(xo(V)))),f(n,["tools"],oe)}const J=c(e,["toolConfig"]);n!==void 0&&J!=null&&f(n,["toolConfig"],WI(J));const ne=c(e,["labels"]);n!==void 0&&ne!=null&&f(n,["labels"],ne);const Z=c(e,["cachedContent"]);n!==void 0&&Z!=null&&f(n,["cachedContent"],Wn(t,Z));const U=c(e,["responseModalities"]);U!=null&&f(i,["responseModalities"],U);const te=c(e,["mediaResolution"]);te!=null&&f(i,["mediaResolution"],te);const ee=c(e,["speechConfig"]);ee!=null&&f(i,["speechConfig"],t4(Bd(ee)));const ae=c(e,["audioTimestamp"]);ae!=null&&f(i,["audioTimestamp"],ae);const le=c(e,["thinkingConfig"]);return le!=null&&f(i,["thinkingConfig"],n4(le)),i}function Yy(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>So(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],i4(t,s,n)),n}function r4(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const l=c(t,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const s=c(t,["outputDimensionality"]);e!==void 0&&s!=null&&f(e,["parameters","outputDimensionality"],s);const u=c(t,["mimeType"]);e!==void 0&&u!=null&&f(e,["instances[]","mimeType"],u);const h=c(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function o4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);l!=null&&f(n,["instances[]","content"],Wx(t,l));const s=c(e,["config"]);return s!=null&&f(n,["config"],r4(s,n)),n}function l4(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const h=c(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const _=c(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const R=c(t,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const N=c(t,["enhancePrompt"]);return e!==void 0&&N!=null&&f(e,["parameters","enhancePrompt"],N),n}function s4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["config"]);return s!=null&&f(n,["config"],l4(s,n)),n}function qa(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Zn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function a4(t){const e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=c(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const l=c(t,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function u4(t){const e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=c(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function c4(t){const e={},n=c(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function f4(t){const e={},n=c(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=c(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function d4(t){const e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],qa(n));const i=c(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const l=c(t,["referenceType"]);l!=null&&f(e,["referenceType"],l);const s=c(t,["maskImageConfig"]);s!=null&&f(e,["maskImageConfig"],a4(s));const u=c(t,["controlImageConfig"]);u!=null&&f(e,["controlImageConfig"],u4(u));const h=c(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],c4(h));const p=c(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],f4(p)),e}function h4(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const h=c(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const _=c(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const R=c(t,["editMode"]);e!==void 0&&R!=null&&f(e,["parameters","editMode"],R);const N=c(t,["baseSteps"]);return e!==void 0&&N!=null&&f(e,["parameters","editConfig","baseSteps"],N),n}function m4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["referenceImages"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>d4(p))),f(n,["instances[0]","referenceImages"],h)}const u=c(e,["config"]);return u!=null&&f(n,["config"],h4(u,n)),n}function p4(t,e){const n={},i=c(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const l=c(t,["outputMimeType"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","mimeType"],l);const s=c(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","compressionQuality"],s);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=c(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=c(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=c(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function g4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["image"]);l!=null&&f(n,["instances[0]","image"],qa(l));const s=c(e,["upscaleFactor"]);s!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],s);const u=c(e,["config"]);return u!=null&&f(n,["config"],p4(u,n)),n}function y4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function v4(t,e,n){const i={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const h=c(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],tb(t,h)),i}function x4(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],v4(t,i,n)),n}function b4(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function T4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],b4(l,n)),n}function S4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function w4(t,e){const n={},i=c(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],So(It(i)));const l=c(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>gb(h))),f(e,["tools"],u)}const s=c(t,["generationConfig"]);return e!==void 0&&s!=null&&f(e,["generationConfig"],s),n}function C4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>So(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],w4(s,n)),n}function _4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>So(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],s),n}function k4(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Zn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function E4(t,e){const n={},i=c(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const l=c(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const s=c(t,["fps"]);e!==void 0&&s!=null&&f(e,["parameters","fps"],s);const u=c(t,["durationSeconds"]);e!==void 0&&u!=null&&f(e,["parameters","durationSeconds"],u);const h=c(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=c(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=c(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["pubsubTopic"]);e!==void 0&&v!=null&&f(e,["parameters","pubsubTopic"],v);const T=c(t,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const S=c(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const _=c(t,["generateAudio"]);e!==void 0&&_!=null&&f(e,["parameters","generateAudio"],_);const E=c(t,["lastFrame"]);e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],qa(E));const R=c(t,["compressionQuality"]);return e!==void 0&&R!=null&&f(e,["parameters","compressionQuality"],R),n}function A4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],Ye(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],qa(s));const u=c(e,["video"]);u!=null&&f(n,["instances[0]","video"],k4(u));const h=c(e,["config"]);return h!=null&&f(n,["config"],E4(h,n)),n}function M4(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function N4(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function R4(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function D4(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],M4(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],N4(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],R4(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function I4(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>D4(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function P4(t){const e={},n=c(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function L4(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function U4(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>L4(l))),f(e,["urlMetadata"],i)}return e}function B4(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],I4(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],P4(i));const l=c(t,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],U4(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function Jy(t){const e={},n=c(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>B4(h))),f(e,["candidates"],u)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function O4(t){const e={},n=c(t,["values"]);return n!=null&&f(e,["values"],n),e}function z4(){return{}}function q4(t){const e={},n=c(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>O4(s))),f(e,["embeddings"],l)}return c(t,["metadata"])!=null&&f(e,["metadata"],z4()),e}function F4(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Zn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function yb(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const l=c(t,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function V4(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],F4(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const l=c(t,["_self"]);return l!=null&&f(e,["safetyAttributes"],yb(l)),e}function G4(t){const e={},n=c(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>V4(s))),f(e,["generatedImages"],l)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],yb(i)),e}function H4(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function Zf(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["version"]);s!=null&&f(e,["version"],s);const u=c(t,["_self"]);u!=null&&f(e,["tunedModelInfo"],H4(u));const h=c(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=c(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=c(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function j4(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["_self"]);if(i!=null){let l=nb(i);Array.isArray(l)&&(l=l.map(s=>Zf(s))),f(e,["models"],l)}return e}function $4(){return{}}function Y4(t){const e={},n=c(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=c(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function J4(t){const e={},n=c(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],Zn(i));const l=c(t,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function K4(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],J4(n)),e}function X4(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>K4(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function Q4(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],X4(u)),e}function W4(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function Z4(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function eP(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function tP(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],W4(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],Z4(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],eP(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function nP(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>tP(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function iP(t){const e={},n=c(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function rP(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function oP(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>rP(l))),f(e,["urlMetadata"],i)}return e}function lP(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],nP(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],iP(i));const l=c(t,["finishMessage"]);l!=null&&f(e,["finishMessage"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],oP(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function Ky(t){const e={},n=c(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>lP(m))),f(e,["candidates"],p)}const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["responseId"]);l!=null&&f(e,["responseId"],l);const s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const h=c(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function sP(t){const e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=c(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function aP(t){const e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);const i=c(t,["statistics"]);return i!=null&&f(e,["statistics"],sP(i)),e}function uP(t){const e={},n=c(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function cP(t){const e={},n=c(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>aP(s))),f(e,["embeddings"],l)}const i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],uP(i)),e}function fP(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Zn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function vb(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const l=c(t,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function zd(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],fP(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const l=c(t,["_self"]);l!=null&&f(e,["safetyAttributes"],vb(l));const s=c(t,["prompt"]);return s!=null&&f(e,["enhancedPrompt"],s),e}function dP(t){const e={},n=c(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>zd(s))),f(e,["generatedImages"],l)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],vb(i)),e}function hP(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>zd(l))),f(e,["generatedImages"],i)}return e}function mP(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>zd(l))),f(e,["generatedImages"],i)}return e}function pP(t){const e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=c(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function gP(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function yP(t){const e={},n=c(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=c(t,["epoch"]);i!=null&&f(e,["epoch"],i);const l=c(t,["step"]);return l!=null&&f(e,["step"],l),e}function ed(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["versionId"]);s!=null&&f(e,["version"],s);const u=c(t,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(T=>pP(T))),f(e,["endpoints"],v)}const h=c(t,["labels"]);h!=null&&f(e,["labels"],h);const p=c(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],gP(p));const m=c(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const g=c(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>yP(T))),f(e,["checkpoints"],v)}return e}function vP(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["_self"]);if(i!=null){let l=nb(i);Array.isArray(l)&&(l=l.map(s=>ed(s))),f(e,["models"],l)}return e}function xP(){return{}}function bP(t){const e={},n=c(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function TP(t){const e={},n=c(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function SP(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Zn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function wP(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],SP(n)),e}function CP(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>wP(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function _P(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response"]);return u!=null&&f(e,["response"],CP(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kP="Content-Type",EP="X-Server-Timeout",AP="User-Agent",td="x-goog-api-client",MP="1.9.0",NP=`google-genai-sdk/${MP}`,RP="v1beta1",DP="v1beta",Xy=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class IP{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RP,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:DP,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,h]of Object.entries(e.queryParams))l.searchParams.append(u,String(h));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(l,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,s]of Object.entries(n))typeof s=="object"?i[l]=Object.assign(Object.assign({},i[l]),s):s!==void 0&&(i[l]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(l,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=s}return n&&n.extraBody!==null&&PP(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Qy(l),new Yf(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Qy(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return mo(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let u="";for(;;){const{done:h,value:p}=yield nt(l.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(p,{stream:!0});try{const v=JSON.parse(m);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),S=T.status,_=T.code,E=`got status: ${S}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Oa({message:E,status:_})}}catch(v){if(v.name==="ApiError")throw v}u+=m;let g=u.match(Xy);for(;g;){const v=g[1];try{const T=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield nt(new Yf(T)),u=u.slice(g[0].length),g=u.match(Xy)}catch(T){throw new Error(`exception parsing stream chunk ${v}. ${T}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=NP+" "+this.clientOptions.userAgentExtra;return e[AP]=n,e[td]=n,e[kP]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(EP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);l.sizeBytes=String(u.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const p=await this.fetchUploadUrl(l,n);return s.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},u=await this.request({path:me("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Qy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new Oa({message:l,status:n}):new Error(l)}}function PP(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,u){const h=Object.assign({},s);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const m=u[p],g=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&g&&typeof g=="object"&&!Array.isArray(g)?h[p]=i(g,m):(g&&m&&typeof g!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LP="mcp_used/unknown";function xb(t){for(const e of t)if(qd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function bb(t){var e;const n=(e=t[td])!==null&&e!==void 0?e:"";t[td]=(n+` ${LP}`).trimStart()}function UP(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>qd(l)))!==null&&i!==void 0?i:!1}function BP(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!qd(l)))!==null&&i!==void 0?i:!1}function qd(t){return t!==null&&typeof t=="object"&&t instanceof Fd}function OP(t,e=100){return mo(this,arguments,function*(){let i,l=0;for(;l<e;){const s=yield nt(t.listTools({cursor:i}));for(const u of s.tools)yield yield nt(u),l++;if(!s.nextCursor)break;i=s.nextCursor}})}class Fd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Fd(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const s={},u=[];for(const g of this.mcpClients)try{for(var h=!0,p=(n=void 0,Pl(OP(g))),m;m=await p.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const v=l;u.push(v);const T=v.name;if(s[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);s[T]=g}}catch(v){n={error:v}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),I2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await l.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zP(t,e,n){const i=new _2;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const s=YD(l);Object.assign(i,s),e(i)}class qP{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=GP(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${l}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const g=new Promise(M=>{m=M}),v=e.callbacks,T=function(){m({})},S=this.apiClient,_={onopen:T,onmessage:M=>{zP(S,v.onmessage,M)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(M){}},E=this.webSocketFactory.create(p,VP(u),_);E.connect(),await g;const R=Ye(this.apiClient,e.model),N=hb({model:R}),L=Wf({setup:N});return E.send(JSON.stringify(L)),new FP(E,this.apiClient)}}class FP{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sD(e),i=mb(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=aD(e),i=Wf(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Wf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function VP(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function GP(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jP(t,e,n){const i=new C2;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const s=JSON.parse(l);if(t.isVertexAI()){const u=OD(s);Object.assign(i,u)}else{const u=BD(s);Object.assign(i,u)}e(i)}class $P{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new qP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,s,u,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let g;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&xb(e.config.tools)&&bb(v);const T=XP(v);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const Z=this.apiClient.getApiKey();let U="BidiGenerateContent",te="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",te="access_token"),g=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${U}?${te}=${Z}`}let S=()=>{};const _=new Promise(Z=>{S=Z}),E=e.callbacks,R=function(){var Z;(Z=E==null?void 0:E.onopen)===null||Z===void 0||Z.call(E),S({})},N=this.apiClient,L={onopen:R,onmessage:Z=>{jP(N,E.onmessage,Z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(Z){}},M=this.webSocketFactory.create(g,KP(T),L);M.connect(),await _;let q=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const Z=this.apiClient.getProject(),U=this.apiClient.getLocation();q=`projects/${Z}/locations/${U}/`+q}let O={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Aa.AUDIO]}:e.config.responseModalities=[Aa.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(h=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[],J=[];for(const Z of I)if(this.isCallableTool(Z)){const U=Z;J.push(await U.tool())}else J.push(Z);J.length>0&&(e.config.tools=J);const ne={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=eD(this.apiClient,ne):O=ZR(this.apiClient,ne),delete O.config,M.send(JSON.stringify(O)),new JP(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const YP={turnComplete:!0};class JP{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=gn(n.turns),e.isVertexAI()?i=i.map(l=>So(l)):i=i.map(l=>za(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(HP)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},YP),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lD(e)}:n={realtimeInput:oD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function KP(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function XP(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wy=10;function Zy(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(wa(u)){l=!0;break}if(!l)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function wa(t){return"callTool"in t&&typeof t.callTool=="function"}function ev(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QP extends sr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,s,u,h;const p=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!UP(n)||Zy(n.config))return await this.generateContentInternal(p);if(BP(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,g;const v=gn(p.contents),T=(s=(l=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Wy;let S=0;for(;S<T&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const _=m.candidates[0].content,E=[];for(const R of(h=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[])if(wa(R)){const L=await R.callTool(m.functionCalls);E.push(...L)}S++,g={role:"user",parts:E},p.contents=gn(p.contents),p.contents.push(_),p.contents.push(g),ev(p.config)&&(v.push(_),v.push(g))}return ev(p.config)&&(m.automaticFunctionCallingHistory=v),m},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Zy(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let s;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((l=p==null?void 0:p.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:u.push(p);let h;return s?h={generatedImages:u,positivePromptSafetyAttributes:s}:h={generatedImages:u},h}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new $l(or.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,i,l;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const u=await Promise.all(s.map(async p=>wa(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(h.config.tools=u,e.config&&e.config.tools&&xb(e.config.tools)){const p=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),bb(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,l;const s=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(wa(u)){const h=u,p=await h.tool();for(const m of(l=p.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(s.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);s.set(m.name,h)}}return s}async processAfcStream(e){var n,i,l;const s=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Wy;let u=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,g,v){var T,S;return mo(this,arguments,function*(){for(var _,E,R,N;h<s;){u&&(h++,u=!1);const O=yield nt(m.processParamsForMcpUsage(v)),I=yield nt(m.generateContentStreamInternal(O)),J=[],ne=[];try{for(var L=!0,M=(E=void 0,Pl(I)),q;q=yield nt(M.next()),_=q.done,!_;L=!0){N=q.value,L=!1;const Z=N;if(yield yield nt(Z),Z.candidates&&(!((T=Z.candidates[0])===null||T===void 0)&&T.content)){ne.push(Z.candidates[0].content);for(const U of(S=Z.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(h<s&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(U.functionCall.name)){const te=yield nt(g.get(U.functionCall.name).callTool([U.functionCall]));J.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(Z){E={error:Z}}finally{try{!L&&!_&&(R=M.return)&&(yield nt(R.call(M)))}finally{if(E)throw E.error}}if(J.length>0){u=!0;const Z=new Al;Z.candidates=[{content:{role:"user",parts:J}}],yield yield nt(Z);const U=[];U.push(...ne),U.push({role:"user",parts:J});const te=gn(v.contents).concat(U);v.contents=te}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=Yy(this.apiClient,e);return h=me("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=Ky(g),T=new Al;return Object.assign(T,v),T})}else{const m=$y(this.apiClient,e);return h=me("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=Jy(g),T=new Al;return Object.assign(T,v),T})}}async generateContentStreamInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=Yy(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(v){return mo(this,arguments,function*(){var T,S,_,E;try{for(var R=!0,N=Pl(v),L;L=yield nt(N.next()),T=L.done,!T;R=!0){E=L.value,R=!1;const q=Ky(yield nt(E.json())),O=new Al;Object.assign(O,q),yield yield nt(O)}}catch(M){S={error:M}}finally{try{!R&&!T&&(_=N.return)&&(yield nt(_.call(N)))}finally{if(S)throw S.error}}})})}else{const m=$y(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(v){return mo(this,arguments,function*(){var T,S,_,E;try{for(var R=!0,N=Pl(v),L;L=yield nt(N.next()),T=L.done,!T;R=!0){E=L.value,R=!1;const q=Jy(yield nt(E.json())),O=new Al;Object.assign(O,q),yield yield nt(O)}}catch(M){S={error:M}}finally{try{!R&&!T&&(_=N.return)&&(yield nt(_.call(N)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=o4(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=cP(g),T=new ky;return Object.assign(T,v),T})}else{const m=vI(this.apiClient,e);return h=me("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=q4(g),T=new ky;return Object.assign(T,v),T})}}async generateImagesInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=s4(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=dP(g),T=new Ey;return Object.assign(T,v),T})}else{const m=bI(this.apiClient,e);return h=me("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=G4(g),T=new Ey;return Object.assign(T,v),T})}}async editImageInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=m4(this.apiClient,e);return s=me("{model}:predict",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=hP(p),g=new v2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=g4(this.apiClient,e);return s=me("{model}:predict",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=mP(p),g=new x2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=y4(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>ed(g))}else{const m=TI(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Zf(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=x4(this.apiClient,e);return h=me("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=vP(g),T=new Ay;return Object.assign(T,v),T})}else{const m=wI(this.apiClient,e);return h=me("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=j4(g),T=new Ay;return Object.assign(T,v),T})}}async update(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=T4(this.apiClient,e);return h=me("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>ed(g))}else{const m=_I(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Zf(g))}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=S4(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(()=>{const g=xP(),v=new My;return Object.assign(v,g),v})}else{const m=kI(this.apiClient,e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(()=>{const g=$4(),v=new My;return Object.assign(v,g),v})}}async countTokens(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=C4(this.apiClient,e);return h=me("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=bP(g),T=new Ny;return Object.assign(T,v),T})}else{const m=AI(this.apiClient,e);return h=me("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=Y4(g),T=new Ny;return Object.assign(T,v),T})}}async computeTokens(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=_4(this.apiClient,e);return s=me("{model}:computeTokens",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=TP(p),g=new b2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=A4(this.apiClient,e);return h=me("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>_P(g))}else{const m=RI(this.apiClient,e);return h=me("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Q4(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WP(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function ZP(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function eL(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=c(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const l=c(t,["config"]);return l!=null&&f(e,["config"],l),e}function tL(t){const e={},n=c(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],Zn(i));const l=c(t,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function nL(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],tL(n)),e}function iL(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>nL(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function rL(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],iL(u)),e}function oL(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Zn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function lL(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],oL(n)),e}function sL(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>lL(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function tv(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response"]);return u!=null&&f(e,["response"],sL(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aL extends sr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=ZP(e);return h=me("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>tv(g))}else{const m=WP(e);return h=me("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>rL(g))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=eL(e);return s=me("{resourceName}:fetchPredictOperation",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>tv(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uL(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function Tb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],uL(n)),e}function cL(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],Tb(i)),e}function fL(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>cL(l))),f(e,["speakerVoiceConfigs"],i)}return e}function dL(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],Tb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],fL(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function hL(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function mL(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function pL(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function gL(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],hL(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],mL(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],pL(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function yL(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>gL(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function vL(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function xL(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function bL(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],xL(n)),e}function TL(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function SL(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],TL(n)),e}function wL(){return{}}function CL(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>vL(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],bL(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],SL(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],wL());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function _L(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nv(){return{}}function kL(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function EL(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],kL(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function AL(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function ML(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],AL(i)),e}function NL(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function RL(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],dL(Od(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],yL(It(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let O=bo(_);Array.isArray(O)&&(O=O.map(I=>CL(xo(I)))),f(e,["setup","tools"],O)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],_L(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],nv());const N=c(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&f(e,["setup","outputAudioTranscription"],nv());const L=c(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],EL(L));const M=c(t,["contextWindowCompression"]);e!==void 0&&M!=null&&f(e,["setup","contextWindowCompression"],ML(M));const q=c(t,["proactivity"]);return e!==void 0&&q!=null&&f(e,["setup","proactivity"],NL(q)),n}function DL(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],Ye(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],RL(l,n)),n}function IL(t,e,n){const i={},l=c(e,["expireTime"]);n!==void 0&&l!=null&&f(n,["expireTime"],l);const s=c(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&f(n,["newSessionExpireTime"],s);const u=c(e,["uses"]);n!==void 0&&u!=null&&f(n,["uses"],u);const h=c(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],DL(t,h));const p=c(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function PL(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],IL(t,i,n)),n}function LL(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(s=>`${n}.${s}`);e.push(...l)}else e.push(n)}return e.join(",")}function BL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const s=UL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>u.includes(m)?`generationConfig.${m}`:m));const p=[];s&&p.push(s),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class OL extends sr{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=PL(this.apiClient,e);s=me("auth_tokens",h._url),u=h._query,delete h.config,delete h._url,delete h._query;const p=BL(h,e.config);return l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>LL(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function qL(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function FL(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],qL(n,e)),e}function VL(t){const e={},n=c(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=c(t,["output"]);return i!=null&&f(e,["output"],i),e}function GL(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=c(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>VL(l))),f(e,["examples","examples"],i)}return e}function HL(t,e){const n={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const s=c(t,["learningRateMultiplier"]);if(s!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=c(t,["batchSize"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","batchSize"],u);const h=c(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function jL(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],GL(i));const l=c(t,["config"]);return l!=null&&f(e,["config"],HL(l,e)),e}function $L(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function YL(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function JL(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],YL(n,e)),e}function KL(t,e){const n={},i=c(t,["gcsUri"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i);const l=c(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l),c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function XL(t,e){const n={},i=c(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const l=c(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l),n}function QL(t,e){const n={},i=c(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],XL(i,n));const l=c(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const s=c(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const u=c(t,["epochCount"]);e!==void 0&&u!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const h=c(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=c(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=c(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function WL(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],KL(i,e));const l=c(t,["config"]);return l!=null&&f(e,["config"],QL(l,e)),e}function ZL(t){const e={},n=c(t,["name"]);n!=null&&f(e,["model"],n);const i=c(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function Sb(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["state"]);i!=null&&f(e,["state"],Zx(i));const l=c(t,["createTime"]);l!=null&&f(e,["createTime"],l);const s=c(t,["tuningTask","startTime"]);s!=null&&f(e,["startTime"],s);const u=c(t,["tuningTask","completeTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["description"]);p!=null&&f(e,["description"],p);const m=c(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const g=c(t,["_self"]);g!=null&&f(e,["tunedModel"],ZL(g));const v=c(t,["distillationSpec"]);v!=null&&f(e,["distillationSpec"],v);const T=c(t,["experiment"]);T!=null&&f(e,["experiment"],T);const S=c(t,["labels"]);S!=null&&f(e,["labels"],S);const _=c(t,["pipelineJob"]);_!=null&&f(e,["pipelineJob"],_);const E=c(t,["satisfiesPzi"]);E!=null&&f(e,["satisfiesPzi"],E);const R=c(t,["satisfiesPzs"]);R!=null&&f(e,["satisfiesPzs"],R);const N=c(t,["serviceAccount"]);N!=null&&f(e,["serviceAccount"],N);const L=c(t,["tunedModelDisplayName"]);return L!=null&&f(e,["tunedModelDisplayName"],L),e}function e3(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Sb(s))),f(e,["tuningJobs"],l)}return e}function t3(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function n3(t){const e={},n=c(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=c(t,["epoch"]);i!=null&&f(e,["epoch"],i);const l=c(t,["step"]);l!=null&&f(e,["step"],l);const s=c(t,["endpoint"]);return s!=null&&f(e,["endpoint"],s),e}function i3(t){const e={},n=c(t,["model"]);n!=null&&f(e,["model"],n);const i=c(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const l=c(t,["checkpoints"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>n3(u))),f(e,["checkpoints"],s)}return e}function nd(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["state"]);i!=null&&f(e,["state"],Zx(i));const l=c(t,["createTime"]);l!=null&&f(e,["createTime"],l);const s=c(t,["startTime"]);s!=null&&f(e,["startTime"],s);const u=c(t,["endTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["error"]);p!=null&&f(e,["error"],p);const m=c(t,["description"]);m!=null&&f(e,["description"],m);const g=c(t,["baseModel"]);g!=null&&f(e,["baseModel"],g);const v=c(t,["tunedModel"]);v!=null&&f(e,["tunedModel"],i3(v));const T=c(t,["supervisedTuningSpec"]);T!=null&&f(e,["supervisedTuningSpec"],T);const S=c(t,["tuningDataStats"]);S!=null&&f(e,["tuningDataStats"],S);const _=c(t,["encryptionSpec"]);_!=null&&f(e,["encryptionSpec"],_);const E=c(t,["partnerModelTuningSpec"]);E!=null&&f(e,["partnerModelTuningSpec"],E);const R=c(t,["distillationSpec"]);R!=null&&f(e,["distillationSpec"],R);const N=c(t,["experiment"]);N!=null&&f(e,["experiment"],N);const L=c(t,["labels"]);L!=null&&f(e,["labels"],L);const M=c(t,["pipelineJob"]);M!=null&&f(e,["pipelineJob"],M);const q=c(t,["satisfiesPzi"]);q!=null&&f(e,["satisfiesPzi"],q);const O=c(t,["satisfiesPzs"]);O!=null&&f(e,["satisfiesPzs"],O);const I=c(t,["serviceAccount"]);I!=null&&f(e,["serviceAccount"],I);const J=c(t,["tunedModelDisplayName"]);return J!=null&&f(e,["tunedModelDisplayName"],J),e}function r3(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>nd(s))),f(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o3 extends sr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $l(or.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:$f.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=$L(e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>nd(g))}else{const m=zL(e);return h=me("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Sb(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=JL(e);return h=me("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=r3(g),T=new Ry;return Object.assign(T,v),T})}else{const m=FL(e);return h=me("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=e3(g),T=new Ry;return Object.assign(T,v),T})}}async tuneInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=WL(e);return s=me("tuningJobs",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>nd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jL(e);return s=me("tunedModels",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>t3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s3=1024*1024*8,a3=3,u3=1e3,c3=2,_f="x-goog-upload-status";async function f3(t,e,n){var i,l,s;let u=0,h=0,p=new Yf(new Response),m="upload";for(u=t.size;h<u;){const v=Math.min(s3,u-h),T=t.slice(h,h+v);h+v>=u&&(m+=", finalize");let S=0,_=u3;for(;S<a3&&(p=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(v)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[_f]));)S++,await h3(_),_=_*c3;if(h+=v,((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[_f])!=="active")break;if(u<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(p==null?void 0:p.json());if(((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[_f])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function d3(t){return{size:t.size,type:t.type}}function h3(t){return new Promise(e=>setTimeout(e,t))}class m3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p3{create(e,n,i){return new g3(e,n,i)}}class g3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iv="x-goog-api-key";class y3{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(iv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(iv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v3="gl-node/";class Fa{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=y2(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new y3(this.apiKey);this.apiClient=new IP({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:v3+"web",uploader:new m3,downloader:new l3}),this.models=new QP(this.apiClient),this.live=new $P(this.apiClient,l,new p3),this.batches=new qM(this.apiClient),this.chats=new HN(this.models,this.apiClient),this.caches=new FN(this.apiClient),this.files=new iR(this.apiClient),this.operations=new aL(this.apiClient),this.authTokens=new OL(this.apiClient),this.tunings=new o3(this.apiClient)}}const x3=async t=>({inlineData:{data:await new Promise(n=>{const i=new FileReader;i.onloadend=()=>{const l=i.result.split(",")[1];n(l)},i.readAsDataURL(t)}),mimeType:t.type}}),b3=(t,e)=>{const n=`
    - Account Balance: $${t.accountBalance}
    - Risk Per Trade: ${t.riskPerTrade}%
    - Leverage: ${t.leverage}x
    `;return`
    As a professional trading analyst AI, your task is to conduct a detailed, unbiased technical analysis of the provided chart image.
    Your analysis MUST be structured in the specified JSON format.

    **Context:**
    1.  **Trading Mode:** ${{scalp:"This is a SCALP trade. Focus on very short-term (1-15 minute) price action, tight stop losses, and quick profit-taking. Analyze momentum, order flow, and immediate support/resistance.",day:"This is a DAY trade. The position will be closed today. Analyze intraday trends (5-min to 1-hour charts), key daily levels, and volume patterns.",swing:"This is a SWING trade. The position could be held for a few days to a few weeks. Analyze the 4-hour to daily chart. Identify the dominant trend, key swing highs/lows, and consolidation patterns.",position:"This is a POSITION trade. The position could be held for weeks or months. Analyze the weekly and monthly charts. Focus on major economic trends, long-term support/resistance, and market structure."}[e]}
    2.  **Trader's Risk Profile:** ${n}

    **Analysis Instructions:**

    1.  **Comprehensive Evaluation:**
        - Analyze the chart for market trend, key chart patterns (e.g., Head and Shoulders, Triangles, Flags), and relevant indicator signals (RSI, MACD, Moving Averages, Volume).
        - Explicitly list both bullish and bearish factors you observe. This is critical for a balanced view.

    2.  **Determine Trade Bias & Confidence:**
        - Based on the balance of bullish vs. bearish factors, determine a primary trade bias: 'Bullish', 'Bearish', or 'Neutral/Sideways'.
        - Provide a confidence score (0-100) for this bias. The score must be justified by a transparent rubric in the rationale. A score of 50 means you are completely neutral.

    3.  **Construct Trade Rationale (Markdown Format):**
        - This is the core of your analysis and must be detailed.
        - **Bullish Factors:** List observed bullish signals (e.g., "- RSI shows bullish divergence.").
        - **Bearish Factors:** List observed bearish signals (e.g., "- Price rejected from the 50 EMA.").
        - **Core Thesis:** A 1-2 sentence summary explaining WHY you chose your trade bias.
        - **Execution Plan:**
            - **Confirmation Signal:** What specific event would confirm your thesis for entry (e.g., "A bullish candle closing above $1.25").
            - **Invalidation Condition:** What specific event would invalidate your thesis (e.g., "A daily close below the recent low of $1.10").
        - **Confidence Breakdown:** Justify your confidence score using this rubric. Assign points for each category (total points = confidence score).
            - **Trend Alignment (0-30 pts):** How well does the trade align with the dominant trend for the given timeframe? (e.g., 25/30 pts)
            - **Pattern Clarity (0-25 pts):** How clean and well-defined is the key chart pattern? (e.g., 20/25 pts)
            - **Indicator Confluence (0-20 pts):** How many indicators support the bias? (e.g., 15/20 pts)
            - **S/R Context (0-15 pts):** How is the price reacting to key support/resistance levels? (e.g., 10/15 pts)
            - **Risk/Reward Potential (0-10 pts):** Does the setup offer a favorable R:R based on the chart? (e.g., 8/10 pts)

    4.  **Define Trade Setup:**
        - Based on your analysis, provide a concrete trade setup (Long or Short).
        - **Entry Price:** A specific, actionable entry price.
        - **Stop Loss:** A specific price level for the stop loss. It must be logical based on the invalidation condition.
        - **Take Profit:** A specific price level for the take profit, targeting a reasonable Risk/Reward ratio (aim for at least 

    **CRITICAL:** Respond ONLY with a valid JSON object. Do not include any text, notes, or explanations outside of the JSON structure.
    The 'rationale' field MUST be a single JSON string containing well-formatted Markdown.

    Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.`},T3={type:mt.OBJECT,properties:{marketTrend:{type:mt.STRING,description:"e.g., 'Uptrend', 'Downtrend', 'Sideways/Consolidation'"},keyPattern:{type:mt.STRING,description:"The most significant chart pattern observed, e.g., 'Bull Flag', 'Head and Shoulders'."},indicatorAnalysis:{type:mt.STRING,description:"A brief summary of key indicator signals (RSI, MACD, etc.)."},tradeBias:{type:mt.STRING,description:"'Bullish', 'Bearish', or 'Neutral/Sideways'"},tradeSetup:{type:mt.OBJECT,description:"Specific parameters for the suggested trade.",properties:{tradeType:{type:mt.STRING,description:"'Long' or 'Short'"},entryPrice:{type:mt.STRING,description:"Suggested entry price as a string."},stopLoss:{type:mt.STRING,description:"Suggested stop loss price as a string."},takeProfit:{type:mt.STRING,description:"Suggested take profit price as a string."}},required:["tradeType","entryPrice","stopLoss","takeProfit"]},rationale:{type:mt.STRING,description:"A detailed, multi-section analysis formatted as a single Markdown string. Include Bullish/Bearish factors, Core Thesis, Execution Plan, and Confidence Breakdown."},confidenceScore:{type:mt.NUMBER,description:"A numerical confidence score from 0 to 100."}},required:["marketTrend","keyPattern","indicatorAnalysis","tradeBias","tradeSetup","rationale","confidenceScore"]},S3=async(t,e,n,i)=>{var h,p,m;if(!t)throw new Error("Gemini API key is not set.");const l=new Fa({apiKey:t}),s=await x3(e),u=b3(n,i);try{const g=await l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:u},s]},config:{responseMimeType:"application/json",responseSchema:T3}}),v=g.text??"",T=JSON.parse(v),S=((h=g.usageMetadata)==null?void 0:h.promptTokenCount)??0,_=((p=g.usageMetadata)==null?void 0:p.candidatesTokenCount)??0,E=((m=g.usageMetadata)==null?void 0:m.totalTokenCount)??0;return{analysis:T,usage:{prompt:S,completion:_,total:E}}}catch(g){console.error("Error calling Gemini API:",g);let v="An unknown error occurred during AI analysis.";g instanceof Error?(v=g.message,v.includes("429")&&(v=`API Key verification failed:
`+v)):v=`API Key verification failed:
`+JSON.stringify(g,null,2);const T=JSON.stringify(g);throw T.includes("RESOURCE_EXHAUSTED")?v="You have exceeded your Gemini API quota. Please check your plan and billing details.":T.includes("API_KEY_INVALID")&&(v="The provided Gemini API key is invalid. Please check it in the Settings."),new Error(v)}},w3=async(t,e)=>{var h,p,m;if(!t)throw new Error("Gemini API key is not set.");const i=await new Fa({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:e}),l=((h=i.usageMetadata)==null?void 0:h.promptTokenCount)??0,s=((p=i.usageMetadata)==null?void 0:p.candidatesTokenCount)??0,u=((m=i.usageMetadata)==null?void 0:m.totalTokenCount)??0;return{analysisText:i.text??"",usage:{prompt:l,completion:s,total:u}}},C3=async(t,e,n)=>{var g,v,T;if(!t)throw new Error("Gemini API key is not set.");if(!e)throw new Error("Portfolio data is not available.");const i=new Fa({apiKey:t}),l=`
        You are an AI financial advisor assistant. Your role is to provide educational and insightful analysis of a user's investment portfolio.
        - **NEVER** give direct financial advice to buy or sell specific assets.
        - **ALWAYS** be cautious, prudent, and educational.
        - Frame all responses in terms of financial principles, risk management, and diversification.
        - You can explain concepts, analyze the *current* state of the portfolio, and discuss potential strategies in a general sense.
        - **ALWAYS** include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Here is the user's current portfolio data:
        ${JSON.stringify(e,null,2)}

        The user has the following question: "${n}"

        Please provide a helpful and educational response based on their portfolio and question, following all the rules from your system instructions.
        Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,u=await i.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{systemInstruction:l}}),h=((g=u.usageMetadata)==null?void 0:g.promptTokenCount)??0,p=((v=u.usageMetadata)==null?void 0:v.candidatesTokenCount)??0,m=((T=u.usageMetadata)==null?void 0:T.totalTokenCount)??0;return{analysisText:u.text??"",usage:{prompt:h,completion:p,total:m}}},_3=async t=>{if(!t)return!1;try{return await new Fa({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:"test",config:{maxOutputTokens:5}}),!0}catch(e){return console.error("API Key validation failed:",e),!1}},k3=()=>x.jsxs("div",{className:"space-y-4 animate-pulse",children:[x.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),x.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),Ml=({buttonMode:t,activeMode:e,onClick:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${e===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i}),E3=({updateTokenUsage:t,apiKey:e,apiStatus:n,allTrades:i,mode:l,setDashboardSource:s,theme:u,initialCapital:h,netPL:p,currentEquity:m,user:g,onLogoutClick:v,onNavigate:T})=>{const[S,_]=W.useState(""),[E,R]=W.useState(!0),[N,L]=W.useState(!1),[M,q]=W.useState(0),O=W.useMemo(()=>({scalp:i.filter(ee=>ee.mode==="scalp"),swing:i.filter(ee=>ee.mode==="swing"),day:i.filter(ee=>ee.mode==="day"),position:i.filter(ee=>ee.mode==="position")}),[i]),I=W.useMemo(()=>l==="all"?i:O[l],[l,i,O]),J=W.useMemo(()=>h2(i),[i]),ne=W.useMemo(()=>{const ee=I.filter(j=>j.status!=="pending"),ae=ee.filter(j=>j.status==="profit").length,le=ee.filter(j=>j.status==="stop-loss").length,oe=ae+le;return{winRate:oe>0?Math.round(ae/oe*100):0,wins:ae,losses:le,totalCompleted:oe}},[I]);W.useEffect(()=>{_(""),R(!0)},[e]);const Z=["all","scalp","day","swing","position"],U={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},te=Z.map(ee=>{const ae=ee==="all"?i:i.filter(ie=>ie.mode===ee),le=ae.filter(ie=>ie.status!=="pending"),oe=le.filter(ie=>ie.status==="profit").length,V=le.filter(ie=>ie.status==="stop-loss").length,j=oe+V,ce=j>0?Math.round(oe/j*100):0,_e=le.reduce((ie,A)=>A.status==="profit"?ie+(A.outcomeAmount||0):A.status==="stop-loss"?ie-(A.outcomeAmount||0):ie,0),C=ee==="all"?h:0,$=ee==="all"?m:0;return{mode:U[ee],initialCapital:C,netPL:_e,currentEquity:$,totalTrades:ae.length,winRate:ce,wins:oe,losses:V,completed:j}});return W.useEffect(()=>{if(l!=="all")return;(async()=>{if(n!=="valid"){_("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),R(!1);return}if(i.length===0){_("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),R(!1);return}R(!0);try{const le=`You are an expert trading performance coach. Here are the user's trading statistics for each mode:

${te.map(j=>`${j.mode}:
- Initial Capital: $${j.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${j.netPL>=0?"+":""}${j.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${j.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${j.totalTrades}
- Win Rate: ${j.winRate}%
- Wins: ${j.wins}
- Losses: ${j.losses}
- Completed: ${j.completed}`).join(`

`)}

Give a brief summary of the user's overall performance and 1 actionable suggestion for improvement. Do not include any code blocks or JSON.

Jawab seluruh analisis dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.`,{analysisText:oe,usage:V}=await w3(e,le);t(V),_(oe)}catch(ae){console.error("Failed to get AI analysis:",ae);const le=ae instanceof Error?ae.message:String(ae);le.toLowerCase().includes("quota")?_("AI analysis failed because the API quota or prompt size has been exceeded. Coba kurangi jumlah trade atau hapus trade dengan rationale sangat panjang."):_(`An error occurred while fetching AI analysis: ${le}`)}finally{R(!1)}})()},[e,n,l,M]),x.jsxs("div",{className:"flex-1 flex flex-col gap-6 max-w-screen-xl w-full mx-auto overflow-x-auto",children:[N&&x.jsx(c2,{profile:J,winRate:ne.winRate,totalTrades:ne.totalCompleted,onClose:()=>L(!1)}),x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",x.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:l==="all"?"All":l})," trading history."]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 bg-white dark:bg-slate-800 px-3 py-2 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[dd.createElement(J.icon,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"}),x.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:J.tier})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-1 bg-slate-200 dark:bg-slate-800 rounded-lg",children:[x.jsx(Ml,{buttonMode:"all",activeMode:l,onClick:s,children:"All"}),x.jsx(Ml,{buttonMode:"scalp",activeMode:l,onClick:s,children:"Scalp"}),x.jsx(Ml,{buttonMode:"day",activeMode:l,onClick:s,children:"Day"}),x.jsx(Ml,{buttonMode:"swing",activeMode:l,onClick:s,children:"Swing"}),x.jsx(Ml,{buttonMode:"position",activeMode:l,onClick:s,children:"Position"})]}),x.jsx(f2,{user:g,onLogoutClick:v,onNavigate:T})]})]}),x.jsxs("main",{className:"flex flex-col gap-6",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(ki,{label:"Initial Capital",value:`$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(Wg,{className:"w-6 h-6"}),color:"violet"}),x.jsx(ki,{label:"Net P/L",value:`${p>=0?"+":""}$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(Fv,{className:"w-6 h-6"}),color:p>=0?"green":"red"}),x.jsx(ki,{label:"Current Equity",value:`$${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(Wg,{className:"w-6 h-6"}),color:"blue"}),x.jsx(ki,{label:"Total Trades Analyzed",value:i.length,icon:x.jsx(Tw,{className:"w-6 h-6"}),color:"orange"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsx(ki,{label:"Active Win Rate",value:`${ne.winRate}%`,icon:x.jsx(qv,{className:"w-6 h-6"}),color:"emerald"}),x.jsx(ki,{label:"Active Wins",value:ne.wins,icon:x.jsx(Ri,{className:"w-6 h-6"}),color:"green"}),x.jsx(ki,{label:"Active Losses",value:ne.losses,icon:x.jsx(Nn,{className:"w-6 h-6"}),color:"red"}),x.jsx(ki,{label:"Active Completed",value:ne.totalCompleted,icon:x.jsx(hd,{className:"w-6 h-6"}),color:"violet"})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[x.jsx(md,{className:"h-6 w-6 text-violet-600 dark:text-violet-400 mr-1"}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),l==="all"&&x.jsx("button",{onClick:()=>q(ee=>ee+1),className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:E,title:"Refresh AI Analysis",children:"Refresh"})]}),l==="all"?E?x.jsx(k3,{}):S&&(S.toLowerCase().includes("error")||S.toLowerCase().includes("unavailable")||S.toLowerCase().includes("failed")||S.toLowerCase().includes("tidak"))?x.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:S}):x.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:x.jsx(Rd,{children:S,remarkPlugins:[Ld]})}):x.jsxs("div",{className:"text-xs text-slate-400 italic",children:["AI Performance Analyst hanya tersedia di tab ",x.jsx("b",{children:"All"}),"."]})]}),x.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:x.jsx(u2,{history:I,theme:u})})]})]})},A3=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],rv=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],M3=()=>x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:A3.map((t,e)=>{const n=60+Math.random()*90,i=rv[e%rv.length];return x.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${n}px`,height:`${n}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,n/6)}px`},children:t},t)})}),x.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),N3=()=>x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute top-1/2 left-1/2 w-[600px] h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),x.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),x.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),x.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),x.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),x.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),x.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),x.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),x.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),x.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),x.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),x.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),x.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),kf=({icon:t,title:e,description:n})=>x.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[x.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:t}),x.jsx("h3",{className:"mt-5 text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),x.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:n})]}),R3=({onNavigate:t})=>x.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[x.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[x.jsx(M3,{}),x.jsx(N3,{}),x.jsxs("section",{className:"relative z-10 text-center px-4",children:[x.jsxs("h1",{className:"text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",x.jsx("br",{}),x.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),x.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600 dark:text-slate-300",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),x.jsx("button",{onClick:()=>t("dashboard"),className:"mt-8 px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),x.jsx("section",{className:"bg-white dark:bg-slate-800 py-20 relative z-10",children:x.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[x.jsx(kf,{icon:x.jsx(md,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),x.jsx(kf,{icon:x.jsx(Bv,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),x.jsx(kf,{icon:x.jsx(qv,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),D3=({onNavigate:t,theme:e,setTheme:n,user:i,onLoginClick:l,onLogoutClick:s})=>x.jsx("header",{className:"sticky top-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm shadow-sm",children:x.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex justify-between items-center h-16",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[x.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),x.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),i?x.jsx("button",{onClick:s,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Logout"}):x.jsx("button",{onClick:l,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"}),x.jsx($x,{theme:e,setTheme:n})]})]})})}),I3="modulepreload",P3=function(t){return"/"+t},ov={},Yl=function(e,n,i){let l=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=u(n.map(m=>{if(m=P3(m),m in ov)return;ov[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":I3,g||(T.as="script"),T.crossOrigin="",T.href=m,p&&T.setAttribute("nonce",p),document.head.appendChild(T),g)return new Promise((S,_)=>{T.addEventListener("load",S),T.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return l.then(u=>{for(const h of u||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})},L3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>wo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Vd extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class U3 extends Vd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lv extends Vd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sv extends Vd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var id;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(id||(id={}));var B3=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class O3{constructor(e,{headers:n={},customFetch:i,region:l=id.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=L3(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return B3(this,void 0,void 0,function*(){try{const{headers:l,method:s,body:u}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g}).catch(E=>{throw new U3(E)}),T=v.headers.get("x-relay-error");if(T&&T==="true")throw new lv(v);if(!v.ok)throw new sv(v);let S=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield v.json():S==="application/octet-stream"?_=yield v.blob():S==="text/event-stream"?_=v:S==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof sv||l instanceof lv?l.context:void 0}}})}}var St={},Zr={},eo={},to={},no={},io={},z3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},go=z3();const q3=go.fetch,wb=go.fetch.bind(go),Cb=go.Headers,F3=go.Request,V3=go.Response,wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cb,Request:F3,Response:V3,default:wb,fetch:q3},Symbol.toStringTag,{value:"Module"})),G3=nw(wo);var ha={},av;function _b(){if(av)return ha;av=1,Object.defineProperty(ha,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ha.default=t,ha}var uv;function kb(){if(uv)return io;uv=1;var t=io&&io.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(io,"__esModule",{value:!0});const e=t(G3),n=t(_b());class i{constructor(s){var u,h;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(u=s.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=s.signal,this.isMaybeSingle=(h=s.isMaybeSingle)!==null&&h!==void 0?h:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,u){return this.headers=new Headers(this.headers),this.headers.set(s,u),this}then(s,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,T,S;let _=null,E=null,R=null,N=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const I=await m.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=I:E=JSON.parse(I))}const q=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");q&&O&&O.length>1&&(R=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,N=406,L="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const q=await m.text();try{_=JSON.parse(q),Array.isArray(_)&&m.status===404&&(E=[],_=null,N=200,L="OK")}catch{m.status===404&&q===""?(N=204,L="No Content"):_={message:q}}if(_&&this.isMaybeSingle&&(!((S=_==null?void 0:_.details)===null||S===void 0)&&S.includes("0 rows"))&&(_=null,N=200,L="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:E,count:R,status:N,statusText:L}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,v,T;return{error:{message:`${(g=m==null?void 0:m.name)!==null&&g!==void 0?g:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(v=m==null?void 0:m.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(T=m==null?void 0:m.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),p.then(s,u)}returns(){return this}overrideTypes(){return this}}return io.default=i,io}var cv;function Eb(){if(cv)return no;cv=1;var t=no&&no.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(no,"__esModule",{value:!0});const e=t(kb());class n extends e.default{select(l){let s=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:s=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${l}.${s?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:s,referencedTable:u=s}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,s,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${s-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:s=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const v=[l?"analyze":null,s?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),T=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${T}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return no.default=n,no}var fv;function Gd(){if(fv)return to;fv=1;var t=to&&to.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(to,"__esModule",{value:!0});const e=t(Eb());class n extends e.default{eq(l,s){return this.url.searchParams.append(l,`eq.${s}`),this}neq(l,s){return this.url.searchParams.append(l,`neq.${s}`),this}gt(l,s){return this.url.searchParams.append(l,`gt.${s}`),this}gte(l,s){return this.url.searchParams.append(l,`gte.${s}`),this}lt(l,s){return this.url.searchParams.append(l,`lt.${s}`),this}lte(l,s){return this.url.searchParams.append(l,`lte.${s}`),this}like(l,s){return this.url.searchParams.append(l,`like.${s}`),this}likeAllOf(l,s){return this.url.searchParams.append(l,`like(all).{${s.join(",")}}`),this}likeAnyOf(l,s){return this.url.searchParams.append(l,`like(any).{${s.join(",")}}`),this}ilike(l,s){return this.url.searchParams.append(l,`ilike.${s}`),this}ilikeAllOf(l,s){return this.url.searchParams.append(l,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(l,s){return this.url.searchParams.append(l,`ilike(any).{${s.join(",")}}`),this}is(l,s){return this.url.searchParams.append(l,`is.${s}`),this}in(l,s){const u=Array.from(new Set(s)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cs.{${s.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(s)}`),this}containedBy(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cd.{${s.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(s)}`),this}rangeGt(l,s){return this.url.searchParams.append(l,`sr.${s}`),this}rangeGte(l,s){return this.url.searchParams.append(l,`nxl.${s}`),this}rangeLt(l,s){return this.url.searchParams.append(l,`sl.${s}`),this}rangeLte(l,s){return this.url.searchParams.append(l,`nxr.${s}`),this}rangeAdjacent(l,s){return this.url.searchParams.append(l,`adj.${s}`),this}overlaps(l,s){return typeof s=="string"?this.url.searchParams.append(l,`ov.${s}`):this.url.searchParams.append(l,`ov.{${s.join(",")}}`),this}textSearch(l,s,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${p}fts${m}.${s}`),this}match(l){return Object.entries(l).forEach(([s,u])=>{this.url.searchParams.append(s,`eq.${u}`)}),this}not(l,s,u){return this.url.searchParams.append(l,`not.${s}.${u}`),this}or(l,{foreignTable:s,referencedTable:u=s}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,s,u){return this.url.searchParams.append(l,`${s}.${u}`),this}}return to.default=n,to}var dv;function Ab(){if(dv)return eo;dv=1;var t=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const e=t(Gd());class n{constructor(l,{headers:s={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(s),this.schema=u,this.fetch=h}select(l,{head:s=!1,count:u}={}){const h=s?"HEAD":"GET";let p=!1;const m=(l??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:s,defaultToNull:u=!0}={}){var h;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:s,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((T,S)=>T.concat(Object.keys(S)),[]);if(v.length>0){const T=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:s}={}){var u;const h="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var s;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return eo.default=n,eo}var hv;function H3(){if(hv)return Zr;hv=1;var t=Zr&&Zr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Zr,"__esModule",{value:!0});const e=t(Ab()),n=t(Gd());class i{constructor(s,{headers:u={},schema:h,fetch:p}={}){this.url=s,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:h=!1,get:p=!1,count:m}={}){var g;let v;const T=new URL(`${this.url}/rpc/${s}`);let S;h||p?(v=h?"HEAD":"GET",Object.entries(u).filter(([E,R])=>R!==void 0).map(([E,R])=>[E,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([E,R])=>{T.searchParams.append(E,R)})):(v="POST",S=u);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new n.default({method:v,url:T,headers:_,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Zr.default=i,Zr}var mv;function j3(){if(mv)return St;mv=1;var t=St&&St.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(St,"__esModule",{value:!0}),St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const e=t(H3());St.PostgrestClient=e.default;const n=t(Ab());St.PostgrestQueryBuilder=n.default;const i=t(Gd());St.PostgrestFilterBuilder=i.default;const l=t(Eb());St.PostgrestTransformBuilder=l.default;const s=t(kb());St.PostgrestBuilder=s.default;const u=t(_b());return St.PostgrestError=u.default,St.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:s.default,PostgrestError:u.default},St}var $3=j3();const Y3=Vl($3),{PostgrestClient:J3,PostgrestQueryBuilder:o6,PostgrestFilterBuilder:l6,PostgrestTransformBuilder:s6,PostgrestBuilder:a6,PostgrestError:u6}=Y3;function K3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const X3=K3(),Q3="2.11.15",W3=`realtime-js/${Q3}`,Z3="1.0.0",Mb=1e4,e5=1e3;var Ll;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ll||(Ll={}));var Rt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Rt||(Rt={}));var Sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sn||(Sn={}));var rd;(function(t){t.websocket="websocket"})(rd||(rd={}));var ir;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ir||(ir={}));class t5{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const l=n.getUint8(1),s=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+l));u=u+l;const p=i.decode(e.slice(u,u+s));u=u+s;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class Nb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const pv=(t,e,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,u)=>(s[u]=n5(u,t,e,l),s),{})},n5=(t,e,n,i)=>{const l=e.find(h=>h.name===t),s=l==null?void 0:l.type,u=n[t];return s&&!i.includes(s)?Rb(s,u):od(u)},Rb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l5(e,n)}switch(t){case et.bool:return i5(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return r5(e);case et.json:case et.jsonb:return o5(e);case et.timestamp:return s5(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return od(e);default:return od(e)}},od=t=>t,i5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},r5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},o5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const u=t.slice(1,n);try{s=JSON.parse("["+u+"]")}catch{s=u?u.split(","):[]}return s.map(h=>Rb(e,h))}return t},s5=t=>typeof t=="string"?t.replace(" ","T"):t,Db=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ef{constructor(e,n,i={},l=Mb){this.channel=e,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gv||(gv={}));class Ul{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:s,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,l,s,u),this.pendingDiffs.forEach(p=>{this.state=Ul.syncDiff(this.state,p,s,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:s,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ul.syncDiff(this.state,l,s,u),h())}),this.onJoin((l,s,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:s,newPresences:u})}),this.onLeave((l,s,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:s,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,l){const s=this.cloneDeep(e),u=this.transformState(n),h={},p={};return this.map(s,(m,g)=>{u[m]||(p[m]=g)}),this.map(u,(m,g)=>{const v=s[m];if(v){const T=g.map(R=>R.presence_ref),S=v.map(R=>R.presence_ref),_=g.filter(R=>S.indexOf(R.presence_ref)<0),E=v.filter(R=>T.indexOf(R.presence_ref)<0);_.length>0&&(h[m]=_),E.length>0&&(p[m]=E)}else h[m]=g}),this.syncDiff(s,{joins:h,leaves:p},i,l)}static syncDiff(e,n,i,l){const{joins:s,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(s,(h,p)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),g.length>0){const v=e[h].map(S=>S.presence_ref),T=g.filter(S=>v.indexOf(S.presence_ref)<0);e[h].unshift(...T)}i(h,g,p)}),this.map(u,(h,p)=>{let m=e[h];if(!m)return;const g=p.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=m,l(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const l=e[i];return"metas"in l?n[i]=l.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yv||(yv={}));var vv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vv||(vv={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class Hd{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ef(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new Nb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(l,s)=>{this._trigger(this._replyEventName(s),l)}),this.presence=new Ul(this),this.broadcastEndpointURL=Db(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:s,presence:u,private:h}}=this.params;this._onError(g=>e==null?void 0:e(Xn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Xn.CLOSED));const p={},m={broadcast:s,presence:u,postgres_changes:(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&l!==void 0?l:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(Xn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(v=T==null?void 0:T.length)!==null&&v!==void 0?v:0,_=[];for(let E=0;E<S;E++){const R=T[E],{filter:{event:N,schema:L,table:M,filter:q}}=R,O=g&&g[E];if(O&&O.event===N&&O.schema===L&&O.table===M&&O.filter===q)_.push(Object.assign(Object.assign({},R),{id:O.id}));else{this.unsubscribe(),this.state=Rt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Xn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Rt.errored,e==null||e(Xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var u,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Ef(this,Sn.leave,{},e),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const l=new AbortController,s=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(s),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Ef(this,e,n,i);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var l,s;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=Sn;if(i&&[h,p,m,g].indexOf(u)>=0&&i!==this._joinRef())return;let T=this._onMessage(u,n,i);if(n&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var _,E,R;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(E=S.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(S=>S.callback(T,i)):(s=this.bindings[u])===null||s===void 0||s.filter(S=>{var _,E,R,N,L,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const q=S.id,O=(_=S.filter)===null||_===void 0?void 0:_.event;return q&&((E=n.ids)===null||E===void 0?void 0:E.includes(q))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(L=(N=S==null?void 0:S.filter)===null||N===void 0?void 0:N.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return q==="*"||q===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof T=="object"&&"ids"in T){const _=T.data,{schema:E,table:R,commit_timestamp:N,type:L,errors:M}=_;T=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:N,eventType:L,new:{},old:{},errors:M}),this._getPayloadRecords(_))}S.callback(T,i)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const l=e.toLocaleLowerCase(),s={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(s):this.bindings[l]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(l=>{var s;return!(((s=l.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Hd.isEqual(l.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pv(e.columns,e.old_record)),n}}const xv=()=>{},a5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u5{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xv,this.ref=0,this.logger=xv,this.conn=null,this.sendBuffer=[],this.serializer=new t5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let u;return s?u=s:typeof fetch>"u"?u=(...h)=>Yl(async()=>{const{default:p}=await Promise.resolve().then(()=>wo);return{default:p}},void 0).then(({default:p})=>p(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${rd.websocket}`,this.httpEndpoint=Db(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,u)=>u(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=X3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z3}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ll.connecting:return ir.Connecting;case Ll.open:return ir.Open;case Ll.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(s=>s.topic===i);if(l)return l;{const s=new Hd(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:l,ref:s}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${s})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:W3};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(e5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:l,payload:s,ref:u}=n;i==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${l} ${u&&"("+u+")"||""}`,s),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(l,s,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${i}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([a5],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class jd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class c5 extends jd{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ld extends jd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var f5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Ib=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>wo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},d5=()=>f5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yl(()=>Promise.resolve().then(()=>wo),void 0)).Response:Response}),sd=t=>{if(Array.isArray(t))return t.map(n=>sd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[l]=sd(i)}),e};var ar=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Af=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h5=(t,e,n)=>ar(void 0,void 0,void 0,function*(){const i=yield d5();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(l=>{e(new c5(Af(l),t.status||500))}).catch(l=>{e(new ld(Af(l),l))}):e(new ld(Af(t),t))}),m5=(t,e,n,i)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(l.body=JSON.stringify(i)),Object.assign(Object.assign({},l),n))};function Jl(t,e,n,i,l,s){return ar(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,m5(e,i,l,s)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>h5(p,h,i))})})}function Na(t,e,n,i){return ar(this,void 0,void 0,function*(){return Jl(t,"GET",e,n,i)})}function Ai(t,e,n,i,l){return ar(this,void 0,void 0,function*(){return Jl(t,"POST",e,i,l,n)})}function p5(t,e,n,i,l){return ar(this,void 0,void 0,function*(){return Jl(t,"PUT",e,i,l,n)})}function g5(t,e,n,i){return ar(this,void 0,void 0,function*(){return Jl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Pb(t,e,n,i,l){return ar(this,void 0,void 0,function*(){return Jl(t,"DELETE",e,i,l,n)})}var jt=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const y5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v5{constructor(e,n={},i,l){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Ib(l)}uploadOrUpdate(e,n,i,l){return jt(this,void 0,void 0,function*(){try{let s;const u=Object.assign(Object.assign({},bv),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",u.cacheControl),p&&s.append("metadata",this.encodeMetadata(p))):(s=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l!=null&&l.headers&&(h=Object.assign(Object.assign({},h),l.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:s,headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{})),T=yield v.json();return v.ok?{data:{path:m,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(s){if(wt(s))return{data:null,error:s};throw s}})}upload(e,n,i){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,l){return jt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),u=this._getFinalPath(s),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:bv.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:g}),T=yield v.json();return v.ok?{data:{path:s,fullPath:T.Key},error:null}:{data:null,error:T}}catch(p){if(wt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const s=yield Ai(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+s.url),h=u.searchParams.get("token");if(!h)throw new jd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}update(e,n,i){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return jt(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}copy(e,n,i){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ai(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}createSignedUrl(e,n,i){return jt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),s=yield Ai(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${u}`)},{data:s,error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}createSignedUrls(e,n,i){return jt(this,void 0,void 0,function*(){try{const l=yield Ai(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${s}`):null})),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}download(e,n){return jt(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=s?`?${s}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Na(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(wt(h))return{data:null,error:h};throw h}})}info(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Na(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sd(i),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}exists(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield g5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(wt(i)&&i instanceof ld){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),l=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&l.push(s);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Pb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}list(e,n,i){return jt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},y5),n),{prefix:e||""});return{data:yield Ai(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(wt(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const x5="2.7.1",b5={"X-Client-Info":`storage-js/${x5}`};var ro=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class T5{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},b5),n),this.fetch=Ib(i)}listBuckets(){return ro(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(wt(e))return{data:null,error:e};throw e}})}getBucket(e){return ro(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ro(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return ro(this,void 0,void 0,function*(){try{return{data:yield p5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return ro(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ro(this,void 0,void 0,function*(){try{return{data:yield Pb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}}class S5 extends T5{constructor(e,n={},i){super(e,n,i)}from(e){return new v5(this.url,this.headers,e,this.fetch)}}const w5="2.50.4";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const C5={"X-Client-Info":`supabase-js-${Nl}/${w5}`},_5={headers:C5},k5={schema:"public"},E5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A5={};var M5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const N5=t=>{let e;return t?e=t:typeof fetch>"u"?e=wb:e=fetch,(...n)=>e(...n)},R5=()=>typeof Headers>"u"?Cb:Headers,D5=(t,e,n)=>{const i=N5(n),l=R5();return(s,u)=>M5(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new l(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(s,Object.assign(Object.assign({},u),{headers:m}))})};var I5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function P5(t){return t.endsWith("/")?t:t+"/"}function L5(t,e){var n,i;const{db:l,auth:s,realtime:u,global:h}=t,{db:p,auth:m,realtime:g,global:v}=e,T={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>I5(this,void 0,void 0,function*(){return""})};return t.accessToken?T.accessToken=t.accessToken:delete T.accessToken,T}const Lb="2.70.0",uo=30*1e3,ad=3,Mf=ad*uo,U5="http://localhost:9999",B5="supabase.auth.token",O5={"X-Client-Info":`gotrue-js/${Lb}`},ud="X-Supabase-Api-Version",Ub={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q5=6e5;class $d extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class F5 extends $d{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function V5(t){return Ee(t)&&t.name==="AuthApiError"}class Bb extends $d{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ii extends $d{constructor(e,n,i,l){super(e,i,l),this.name=n,this.status=i}}class Ei extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G5(t){return Ee(t)&&t.name==="AuthSessionMissingError"}class ma extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pa extends Ii{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ga extends Ii{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H5(t){return Ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tv extends Ii{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cd extends Ii{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Nf(t){return Ee(t)&&t.name==="AuthRetryableFetchError"}class Sv extends Ii{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Bl extends Ii{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wv=` 	
\r=`.split(""),j5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wv.length;e+=1)t[wv[e].charCodeAt(0)]=-2;for(let e=0;e<Ra.length;e+=1)t[Ra[e].charCodeAt(0)]=e;return t})();function Cv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ra[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Ra[i]),e.queuedBits-=6}}function Ob(t,e,n){const i=j5[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _v(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},s=u=>{J5(u,i,n)};for(let u=0;u<t.length;u+=1)Ob(t.charCodeAt(u),l,s);return e.join("")}function $5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Y5(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}$5(i,e)}}function J5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function K5(t){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)Ob(t.charCodeAt(l),n,i);return new Uint8Array(e)}function X5(t){const e=[];return Y5(t,n=>e.push(n)),new Uint8Array(e)}function Q5(t){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};return t.forEach(l=>Cv(l,n,i)),Cv(null,n,i),e.join("")}function W5(t){return Math.round(Date.now()/1e3)+t}function Z5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Ol=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function eU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,s)=>{e[s]=l})}catch{}return n.searchParams.forEach((i,l)=>{e[l]=i}),e}const zb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yl(async()=>{const{default:i}=await Promise.resolve().then(()=>wo);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},tU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ya=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},va=async(t,e)=>{await t.removeItem(e)};class Va{constructor(){this.promise=new Va.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Va.promiseConstructor=Promise;function Rf(t){const e=t.split(".");if(e.length!==3)throw new Bl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!z5.test(e[i]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(_v(e[0])),payload:JSON.parse(_v(e[1])),signature:K5(e[2]),raw:{header:e[0],payload:e[1]}}}async function nU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iU(t,e){return new Promise((i,l)=>{(async()=>{for(let s=0;s<1/0;s++)try{const u=await t(s);if(!e(s,null,u)){i(u);return}}catch(u){if(!e(s,u)){l(u);return}}})()})}function rU(t){return("0"+t.toString(16)).substr(-2)}function oU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let s=0;s<56;s++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,rU).join("")}async function lU(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(s=>String.fromCharCode(s)).join("")}async function sU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await lU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(t,e,n=!1){const i=oU();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await qb(t,`${e}-code-verifier`,l);const s=await sU(i);return[s,i===s?"plain":"s256"]}const aU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uU(t){const e=t.headers.get(ud);if(!e||!e.match(aU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(t){if(!dU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hU=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n};const nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mU=[502,503,504];async function kv(t){var e;if(!tU(t))throw new cd(nr(t),0);if(mU.includes(t.status))throw new cd(nr(t),t.status);let n;try{n=await t.json()}catch(s){throw new Bb(nr(s),s)}let i;const l=uU(t);if(l&&l.getTime()>=Ub["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Sv(nr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0))throw new Sv(nr(n),t.status,n.weak_password.reasons);throw new F5(nr(n),t.status||500,i)}const pU=(t,e,n,i)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function Le(t,e,n,i){var l;const s=Object.assign({},i==null?void 0:i.headers);s[ud]||(s[ud]=Ub["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const u=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await gU(t,e,n+h,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function gU(t,e,n,i,l,s){const u=pU(e,i,l,s);let h;try{h=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new cd(nr(p),0)}if(h.ok||await kv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await kv(p)}}function Kn(t){var e;let n=null;bU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=W5(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Ev(t){const e=Kn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yU(t){return{data:t,error:null}}function vU(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:s}=t,u=hU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:s},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function xU(t){return t}function bU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Df=["global","local","others"];var TU=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n};class SU{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=zb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Df[0]){if(Df.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Df.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mi})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=TU(e,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:vU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,l,s,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:""},xform:xU});if(g.error)throw g.error;const v=await g.json(),T=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);m[`${R}Page`]=E}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Ee(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){lo(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mi})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){lo(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Mi})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){lo(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mi})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){lo(e.userId);try{const{data:n,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){lo(e.userId),lo(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}const wU={getItem:t=>Ol()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ol()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ol()&&globalThis.localStorage.removeItem(t)}};function Av(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function CU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const so={debug:!!(globalThis&&Ol()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _U extends Fb{}async function kU(t,e,n){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await n()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _U(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(so.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CU();const EU={url:U5,storageKey:B5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mv(t,e,n){return await n()}class Fl{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},EU),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new SU({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=zb(l.fetch),this.lock=l.lock||Mv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kU:this.lock=Mv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:Ol()?this.storage=wU:(this.memoryStorage={},this.storage=Av(this.memoryStorage)):(this.memoryStorage={},this.storage=Av(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=eU(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Tn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),H5(s)){const p=(e=s.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new Bb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,l;try{const s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:Kn}),{data:u,error:h}=s;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,l;try{let s;if("email"in e){const{email:g,password:v,options:T}=e;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await oo(this.storage,this.storageKey)),s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:g,password:v,data:(n=T==null?void 0:T.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:S,code_challenge_method:_},xform:Kn})}else if("phone"in e){const{phone:g,password:v,options:T}=e;s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=T==null?void 0:T.data)!==null&&i!==void 0?i:{},channel:(l=T==null?void 0:T.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Kn})}else throw new pa("You must provide either an email or phone number and a password");const{data:u,error:h}=s;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(Ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:u,options:h}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ev})}else if("phone"in e){const{phone:s,password:u,options:h}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ev})}else throw new pa("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ma}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,l,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,l,s,u,h,p,m,g,v,T,S;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:R,wallet:N,statement:L,options:M}=e;let q;if(Tn())if(typeof N=="object")q=N;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))q=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=N}const O=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const I=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),L?{statement:L}:null));let J;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")J=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)J=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)_=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),E=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${O.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(l=(i=M==null?void 0:M.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((s=M==null?void 0:M.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((v=(g=M==null?void 0:M.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...M.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const I=await q.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:R,error:N}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Q5(E)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Kn});if(N)throw N;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ma}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:N})}catch(R){if(Ee(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(e){const n=await ya(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:s,error:u}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Kn});if(await va(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ma}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:l??null}),error:u})}catch(s){if(Ee(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:l,access_token:s,nonce:u}=e,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:s,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ma}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,l,s,u;try{if("email"in e){const{email:h,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await oo(this.storage,this.storageKey));const{error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new pa("You must provide either an email or phone number.")}catch(h){if(Ee(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let l,s;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:l,xform:Kn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var n,i,l;try{let s=null,u=null;return this.flowType==="pkce"&&([s,u]=await oo(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:u}),headers:this.headers,xform:yU})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ei;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:s}=e,{error:u}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:l,options:s}=e,{data:u,error:h}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new pa("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Mf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:e},error:null}}const{session:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mi}):await this._useSession(async n=>{var i,l,s;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:void 0,xform:Mi})})}catch(n){if(Ee(n))return G5(n)&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:l,error:s}=i;if(s)throw s;if(!l.session)throw new Ei;const u=l.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await oo(this.storage,this.storageKey));const{data:m,error:g}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:Mi});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Ee(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ei;const n=Date.now()/1e3;let i=n,l=!0,s=null;const{payload:u}=Rf(e.access_token);if(u.exp&&(i=u.exp,l=i<=n),l){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};s=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;s={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ei;const{session:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Tn())throw new ga("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ga(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tv("No code detected.");const{data:L,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:s,refresh_token:u,expires_in:h,expires_at:p,token_type:m}=e;if(!s||!h||!u||!m)throw new ga("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let T=g+v;p&&(T=parseInt(p));const S=T-g;S*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const _=T-v;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,T,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,T,g);const{data:E,error:R}=await this._getUser(s);if(R)throw R;const N={provider_token:i,provider_refresh_token:l,access_token:s,expires_in:v,expires_at:T,refresh_token:u,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(i){if(Ee(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ya(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:s}=n;if(s)return{error:s};const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(V5(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Z5(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,l;try{const{data:{session:s},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await oo(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:l}=await this._useSession(async s=>{var u,h,p,m,g;const{data:v,error:T}=s;if(T)throw T;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ee(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,l;const{data:s,error:u}=n;if(u)throw u;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await iU(async l=>(l>0&&await nU(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kn})),(l,s)=>{const u=200*Math.pow(2,l);return s&&Nf(s)&&Date.now()+u-i<uo})}catch(i){if(this._debug(n,"error",i),Ee(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Tn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ya(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Mf;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Mf}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Nf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Va;const{data:s,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!s.session)throw new Ei;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const h={session:s.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(s){if(this._debug(l,"error",s),Ee(s)){const u={session:null,error:s};return Nf(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){s.push(p)}});if(await Promise.all(u),s.length>0){for(let h=0;h<s.length;h+=1)console.error(s[h]);throw s[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await va(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${uo}ms, refresh threshold is ${ad} ticks`),l<=ad&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,u]=await oo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);l.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;return s?{data:null,error:s}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,l;const{data:s,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;if(s)return{data:null,error:s};const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;return s?{data:null,error:s}:await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],l=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),s=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:l,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:l},error:s}=e;if(s)return{data:null,error:s};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Rf(l.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(u=>u.kid===e);if(i||(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+q5>Date.now()))return i;const{data:l,error:s}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!l.keys||l.keys.length===0)throw new Bl("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),i=l.keys.find(u=>u.kid===e),!i)throw new Bl("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:S,error:_}=await this.getSession();if(_||!S.session)return{data:null,error:_};i=S.session.access_token}const{header:l,payload:s,signature:u,raw:{header:h,payload:p}}=Rf(i);if(cU(s.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:s,header:l,signature:u},error:null}}const m=fU(l.alg),g=await this.fetchJwk(l.kid,n),v=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,X5(`${h}.${p}`)))throw new Bl("Invalid JWT signature");return{data:{claims:s,header:l,signature:u},error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}}}Fl.nextInstanceID=0;const AU=Fl;class MU extends AU{constructor(e){super(e)}}var NU=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class RU{constructor(e,n,i){var l,s,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=P5(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:k5,realtime:A5,auth:Object.assign(Object.assign({},E5),{storageKey:m}),global:_5},v=L5(i??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(T,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=D5(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new J3(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new O3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new S5(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return NU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,storageKey:s,flowType:u,lock:h,debug:p},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MU({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,flowType:u,lock:h,debug:p,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new u5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DU=(t,e,n)=>new RU(t,e,n),Nv="https://vqzivktsvicvbdsuouap.supabase.co",IU="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",ei=(t,e,n)=>{const i=`There was a problem trying to ${t} data for the '${e}' table.`,s=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(n);if(s.toLowerCase().includes('column "user_id" does not exist')||s.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(s.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const u=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${e}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${u}

Technical Details:
${s}`},PU=()=>{if(Nv.includes("your-project-id"))return console.error("Supabase URL or Key is not configured. Please update it in services/supabaseService.ts"),null;try{return DU(Nv,IU)}catch(t){return console.error("Error creating Supabase client:",t),null}},LU=async(t,{email:e,password:n,nama:i})=>{const{data:l,error:s}=await t.auth.signUp({email:e,password:n,options:{data:{nama:i}}});if(s)throw s.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",s),new Error(`Failed to sign up: ${s.message}`));return l},UU=async(t,{email:e,password:n})=>{const{data:i,error:l}=await t.auth.signInWithPassword({email:e,password:n});if(l)throw l;return i},BU=async t=>{const{error:e}=await t.auth.signOut();if(e)throw e},OU=(t,e)=>{const{data:{subscription:n}}=t.auth.onAuthStateChange((i,l)=>{e(l)});return n},zU=async(t,e)=>{try{const{data:n,error:i}=await t.from("users").select("*").eq("id",e).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${e}. A new one may need to be created if this is unexpected.`),null;throw i}return n}catch(n){const i=ei(`fetch profile for user ${e}`,"users",n);return console.error(i),null}},Rv=async(t,e)=>{const{data:n,error:i}=await t.from("trades").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(i){const l=ei("fetch","trades",i);throw console.error(l),new Error(l)}return(n||[]).map(l=>({id:l.id,timestamp:l.created_at,image:l.image,mode:l.mode,marketTrend:l.market_trend,keyPattern:l.key_pattern,indicatorAnalysis:l.indicator_analysis,tradeBias:l.trade_bias,tradeSetup:l.trade_setup,rationale:l.rationale,confidenceScore:l.confidence_score,status:l.status,outcomeAmount:l.outcome_amount??void 0}))},Vb=async(t,e,n)=>{const{error:i}=await t.from("users").update({initial_trade:n}).eq("id",e);if(i){const l=ei(`update initial capital for user ${e}`,"users",i);throw console.error(l),new Error(l)}},qU=async(t,e,n,i)=>{const{error:l}=await t.from("users").update({nama:n,describe:i}).eq("id",e);if(l){const s=ei(`update profile for user ${e}`,"users",l);throw console.error(s),new Error(s)}},FU=async(t,e,n)=>{const i={user_id:n,image:e.image,mode:e.mode,market_trend:e.marketTrend,key_pattern:e.keyPattern,indicator_analysis:e.indicatorAnalysis,trade_bias:e.tradeBias,trade_setup:e.tradeSetup,rationale:e.rationale,confidence_score:e.confidenceScore,status:e.status,outcome_amount:e.outcomeAmount??null},{data:l,error:s}=await t.from("trades").insert(i).select().single();if(s){const h=ei("add","trades",s);throw console.error(h),new Error(h)}if(!l)throw new Error("Failed to add trade: no data returned.");const u=l;return{id:u.id,timestamp:u.created_at,image:u.image,mode:u.mode,marketTrend:u.market_trend,keyPattern:u.key_pattern,indicatorAnalysis:u.indicator_analysis,tradeBias:u.trade_bias,tradeSetup:u.trade_setup,rationale:u.rationale,confidenceScore:u.confidence_score,status:u.status,outcomeAmount:u.outcome_amount??void 0}},VU=async(t,e,n,i,l)=>{const{error:s}=await t.from("trades").update({status:n,outcome_amount:i}).eq("id",e).eq("user_id",l);if(s){const u=ei(`update status for trade ${e}`,"trades",s);throw console.error(u),new Error(u)}},GU=async(t,e,n)=>{const{error:i}=await t.from("trades").delete().eq("id",e).eq("user_id",n);if(i){const l=ei(`delete trade ${e}`,"trades",i);throw console.error(l),new Error(l)}},HU=async t=>{await new Promise(p=>setTimeout(p,500));const e=[{symbol:"BTC",name:"Bitcoin",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/btc.svg",amount:.75,avgBuyPrice:45e3},{symbol:"ETH",name:"Ethereum",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/eth.svg",amount:15,avgBuyPrice:3e3},{symbol:"SOL",name:"Solana",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/sol.svg",amount:250,avgBuyPrice:100},{symbol:"ADA",name:"Cardano",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/ada.svg",amount:1e4,avgBuyPrice:.85},{symbol:"XAU",name:"Gold Spot",logoUrl:"https://img.icons8.com/fluency/48/gold-bars.png",amount:5,avgBuyPrice:2050}];let n=0,i=0,l=0;const s=e.map(p=>{const m=(Math.random()-.5)*.1,g=p.avgBuyPrice*(1+m),v=g/(1+(Math.random()-.5)*.04),T=p.amount*g,S=(g-p.avgBuyPrice)*p.amount,_=p.amount*v,E=T-_;return n+=T,i+=S,l+=E,{...p,currentPrice:g,value:T,totalPl:S}}),u=n-l,h=u>0?l/u*100:0;return{assets:s,totalValue:n,totalPl:i,pl24h:l,pl24hPercent:h}},jU=async t=>{try{const{data:e,error:n}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(n){if(n.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw n}return e}catch(e){const n=ei("fetch","settings",e);throw console.error(n),new Error(n)}},$U=async(t,e)=>{const{error:n}=await t.from("settings").update({gemini_api_key:e}).eq("id",1);if(n){const i=ei("update Gemini API key in","settings",n);throw console.error(i),new Error(i)}},Dv=({supabaseClient:t,onClose:e})=>{const[n,i]=W.useState("login"),[l,s]=W.useState(""),[u,h]=W.useState(""),[p,m]=W.useState(""),[g,v]=W.useState(!0),[T,S]=W.useState(!1),[_,E]=W.useState("");W.useEffect(()=>{const M=q=>{q.key==="Escape"&&e()};return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[e]),W.useEffect(()=>{const M=localStorage.getItem("rememberedEmail");M?(s(M),v(!0)):v(!1)},[]);const R=M=>/^\S+@\S+\.\S+$/.test(M),N=async M=>{if(M.preventDefault(),S(!0),E(""),!R(l)){E("Please enter a valid email address."),S(!1);return}if(u.length<6){E("Password must be at least 6 characters."),S(!1);return}if(n==="register"&&p.trim().length<2){E("Name must be at least 2 characters."),S(!1);return}try{n==="login"?(await UU(t,{email:l,password:u}),g?localStorage.setItem("rememberedEmail",l):localStorage.removeItem("rememberedEmail")):await LU(t,{email:l,password:u,nama:p})}catch(q){E(q.message||"An unexpected error occurred.")}finally{S(!1)}},L=()=>{i(n==="login"?"register":"login"),E(""),h(""),m("")};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:e,children:x.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:M=>M.stopPropagation(),children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:x.jsx(Nn,{className:"w-8 h-8"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:n==="login"?"Welcome Back":"Create Account"}),x.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:n==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),x.jsxs("form",{onSubmit:N,className:"mt-8 space-y-6",children:[n==="register"&&x.jsxs("div",{children:[x.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:p,onChange:M=>m(M.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:M=>s(M.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:n==="login"?"current-password":"new-password",required:!0,value:u,onChange:M=>h(M.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),n==="login"&&x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:g,onChange:M=>v(M.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),x.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),_&&x.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:_}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:T,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:T?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):n==="login"?"Sign in":"Register"})})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[n==="login"?"Don't have an account?":"Already have an account?",x.jsx("button",{onClick:L,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:n==="login"?"Register":"Sign in"})]})})]})})},YU=({initialCapital:t,supabaseClient:e,user:n,userProfile:i,geminiApiKey:l,apiStatus:s,onApiKeyUpdate:u,onCapitalUpdate:h,onProfileUpdate:p,onWithdraw:m})=>{const[g,v]=W.useState(l),[T,S]=W.useState(!1),[_,E]=W.useState(""),[R,N]=W.useState(!1),[L,M]=W.useState(String(t)),[q,O]=W.useState(!1),[I,J]=W.useState(""),[ne,Z]=W.useState(!1),[U,te]=W.useState(""),[ee,ae]=W.useState(!1),[le,oe]=W.useState(""),[V,j]=W.useState(!1),[ce,_e]=W.useState(""),[C,$]=W.useState(""),[ie,A]=W.useState(!1),[de,Te]=W.useState(""),[fe,Fe]=W.useState(!1);W.useEffect(()=>{i&&(_e(i.nama||""),$(i.describe||""))},[i]),W.useEffect(()=>{M(String(t))},[t]),W.useEffect(()=>{v(l)},[l]);const Ce=async()=>{if(S(!0),E(""),N(!1),!g.trim()){E("API Key cannot be empty."),N(!0),S(!1),setTimeout(()=>E(""),5e3);return}try{await u(g),E("API Key updated and verified successfully!"),N(!1)}catch(Ae){const pt=Ae instanceof Error?Ae.message:"Failed to save or verify API key.";E(pt),N(!0)}finally{S(!1),setTimeout(()=>E(""),5e3)}},st=async()=>{if(O(!0),J(""),Z(!1),!e||!n){J("You must be logged in to save settings."),Z(!0),O(!1);return}const Ae=Number(L);if(isNaN(Ae)||Ae<0){J("Please enter a valid positive number."),Z(!0),O(!1);return}try{await Vb(e,n.id,Ae),h(Ae),J("Base capital updated successfully!"),Z(!1),setTimeout(()=>J(""),3e3)}catch(pt){const Jt=pt instanceof Error?pt.message:"Failed to save capital to the database.";J(Jt),Z(!0)}finally{O(!1)}},Ct=async()=>{ae(!0),oe(""),j(!1);const Ae=Number(U);if(isNaN(Ae)||Ae<=0){oe("Please enter a valid positive withdrawal amount."),j(!0),ae(!1);return}if(Ae>t){oe("Withdrawal amount cannot exceed your current capital."),j(!0),ae(!1);return}try{await m(Ae),oe("Withdrawal successful!"),j(!1),te(""),setTimeout(()=>oe(""),3e3)}catch(pt){const Jt=pt instanceof Error?pt.message:"Failed to process withdrawal.";oe(Jt),j(!0)}finally{ae(!1)}},Lt=async()=>{if(A(!0),Te(""),Fe(!1),!e||!n){Te("You must be logged in to save settings."),Fe(!0),A(!1);return}if(ce.trim().length<2){Te("Name must be at least 2 characters."),Fe(!0),A(!1);return}if(C.length>200){Te("Description cannot exceed 200 characters."),Fe(!0),A(!1);return}try{await qU(e,n.id,ce,C),p({name:ce,description:C}),Te("Profile updated successfully!"),Fe(!1),setTimeout(()=>Te(""),3e3)}catch(Ae){const pt=Ae instanceof Error?Ae.message:"Failed to save profile to the database.";Te(pt),Fe(!0)}finally{A(!1)}};return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),x.jsxs("main",{className:"space-y-8",children:[x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),x.jsxs("div",{className:"space-y-4 max-w-xl",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:ce,onChange:Ae=>_e(Ae.target.value),placeholder:"Your Name",disabled:!e||!n||ie})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),x.jsx("div",{className:"mt-1",children:x.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:C,onChange:Ae=>$(Ae.target.value),placeholder:"A short bio about your trading style",disabled:!e||!n||ie})})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("button",{onClick:Lt,disabled:!e||!n||ie,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:ie?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),x.jsx("div",{className:"h-5 mt-2",children:de&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${fe?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[fe?x.jsx(Nn,{className:"w-5 h-5"}):x.jsx(Ri,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:de})]})})]})]})]}),x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (Google Gemini)"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your Google Gemini API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),x.jsxs("div",{className:"space-y-4 max-w-xl",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),x.jsx("div",{className:"mt-1 flex items-center gap-2",children:x.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:g,onChange:Ae=>v(Ae.target.value),placeholder:"Enter your Gemini API Key",disabled:!e||!n||T})})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("button",{onClick:Ce,disabled:!e||!n||T||s==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:T||s==="verifying"?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),x.jsx("div",{className:"h-5 mt-2",children:_&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${R?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[R?x.jsx(Nn,{className:"w-5 h-5"}):x.jsx(Ri,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:_})]})})]})]})]}),x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),x.jsxs("div",{className:"max-w-xl",children:[x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),x.jsx("input",{type:"number",id:"initialCapital",disabled:!e||!n||q,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:L,onChange:Ae=>M(Ae.target.value)})]}),x.jsxs("div",{className:"mt-4 flex flex-col",children:[x.jsx("button",{onClick:st,disabled:!e||!n||q,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:q?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),x.jsx("div",{className:"h-5 mt-2",children:I&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${ne?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ne?x.jsx(Nn,{className:"w-5 h-5"}):x.jsx(Ri,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:I})]})})]}),x.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),x.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!e||!n||ee,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:U,onChange:Ae=>te(Ae.target.value)})]}),x.jsxs("div",{className:"mt-4 flex flex-col",children:[x.jsx("button",{onClick:Ct,disabled:!e||!n||ee||!U,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:ee?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),x.jsx("div",{className:"h-5 mt-2",children:le&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${V?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[V?x.jsx(Nn,{className:"w-5 h-5"}):x.jsx(Ri,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:le})]})})]})]})]})]})]})]})},xa=[{id:1,time:"00:30",currency:"AUD",flag:"",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],JU=()=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Da,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-3",children:x.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[x.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),x.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),KU=()=>{const[t,e]=W.useState("today"),n=W.useMemo(()=>{switch(t){case"today":return xa.slice(0,10);case"tomorrow":return xa.slice(10);case"thisWeek":return xa;case"nextWeek":return[];default:return xa}},[t]),i=({buttonFilter:u,children:h})=>x.jsx("button",{onClick:()=>e(u),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===u?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),l=({count:u})=>x.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,p)=>x.jsx("svg",{className:`w-4 h-4 ${p<u?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),s=({value:u,better:h})=>{const p=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return x.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${p}`,children:u||"-"})};return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),x.jsx(JU,{}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[x.jsx(i,{buttonFilter:"today",children:"Today"}),x.jsx(i,{buttonFilter:"tomorrow",children:"Tomorrow"}),x.jsx(i,{buttonFilter:"thisWeek",children:"This Week"}),x.jsx(i,{buttonFilter:"nextWeek",children:"Next Week"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full min-w-[600px]",children:[x.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.length>0?n.map(u=>x.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[x.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:u.time}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{children:u.flag}),x.jsx("span",{children:u.currency})]})}),x.jsx("td",{className:"px-4 py-3",children:x.jsx(l,{count:u.importance})}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:u.event}),x.jsx(s,{value:u.actual,better:u.betterThanForecast}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:u.forecast||"-"}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:u.previous||"-"})]},u.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},XU=({assets:t,theme:e})=>{const n=W.useRef(null),i=W.useRef(null),l=["#8b5cf6","#3b82f6","#10b981","#f97316","#ec4899","#f59e0b","#6366f1","#06b6d4"],s=["#7c3aed","#2563eb","#059669","#ea580c","#db2777","#d97706","#4f46e5","#0891b2"];return W.useEffect(()=>{if(!n.current||!t.length)return;const u=n.current.getContext("2d");if(!u)return;i.current&&i.current.destroy();const h=t.map(S=>S.name),p=t.map(S=>S.value),m=t.map((S,_)=>l[_%l.length]),g=t.map((S,_)=>s[_%s.length]),v=e==="dark",T=v?"rgba(203, 213, 225, 0.9)":"rgba(51, 65, 85, 1)";return i.current=new window.Chart(u,{type:"doughnut",data:{labels:h,datasets:[{label:"Portfolio Value",data:p,backgroundColor:m,hoverBackgroundColor:g,borderColor:v?"#1f2937":"#ffffff",borderWidth:2,hoverOffset:8}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{color:T,usePointStyle:!0,boxWidth:8,padding:20,font:{family:"inherit",size:12}}},tooltip:{enabled:!0,backgroundColor:v?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.85)",borderColor:v?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:v?"#f1f5f9":"#1e293b",bodyColor:v?"#94a3b8":"#475569",bodySpacing:6,padding:12,cornerRadius:8,usePointStyle:!0,callbacks:{label:function(S){let _=S.dataset.label||"";return _&&(_+=": "),S.parsed!==null&&(_+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S.parsed)),_},afterLabel:function(S){const _=S.chart.getDatasetMeta(0).total||1;return`(${(S.parsed/_*100).toFixed(2)}%)`}}}}}}),()=>{i.current&&i.current.destroy()}},[t,e]),x.jsx("div",{className:"relative h-96 w-full",children:t.length>0?x.jsx("canvas",{ref:n}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:"No assets in portfolio to display chart."})})})},If=({label:t,value:e,subvalue:n,valueColor:i})=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),x.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:e}),n&&x.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:n})]}),QU=()=>x.jsxs("div",{className:"space-y-4 animate-pulse",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),WU=()=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Da,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-3",children:x.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[x.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),x.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),ZU=({apiKey:t,apiStatus:e,portfolioData:n,theme:i,updateTokenUsage:l})=>{const[s,u]=W.useState(""),[h,p]=W.useState(!1),[m,g]=W.useState(""),[v,T]=W.useState(!1),S=(ne,Z=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:Z,maximumFractionDigits:Z}).format(ne),_=W.useCallback(async ne=>{if(e!=="valid"){u("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),p(!1);return}p(!0);try{const{analysisText:Z,usage:U}=await C3(t,n,ne);u(Z),l(U)}catch(Z){const U=Z instanceof Error?Z.message:String(Z);u(`An error occurred while fetching AI analysis: ${U}`)}finally{p(!1)}},[t,e,n,l]);W.useEffect(()=>{n&&!v&&(_("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),T(!0))},[n,_,v]);const E=ne=>{ne.preventDefault(),m.trim()&&_(m)};if(!n)return x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."})]});const{totalValue:R,totalPl:N,pl24h:L,pl24hPercent:M,assets:q}=n,O=N>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",I=L>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",J=L>=0?"+":"";return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),x.jsx(WU,{}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(If,{label:"Total Portfolio Value",value:S(R),subvalue:"Across all tracked assets"}),x.jsx(If,{label:"Total Profit / Loss",value:S(N),valueColor:O,subvalue:"Represents overall unrealized P/L"}),x.jsx(If,{label:"24-Hour Change",value:`${J}${S(L)}`,valueColor:I,subvalue:`${J}${M.toFixed(2)}%`})]}),x.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[x.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),x.jsx("tbody",{children:q.map(ne=>x.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[x.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[x.jsx("img",{src:ne.logoUrl,alt:ne.name,className:"h-8 w-8"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:ne.name}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ne.symbol})]})]}),x.jsxs("td",{className:"px-4 py-4 text-right",children:[x.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:ne.amount.toLocaleString()}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S(ne.currentPrice,2)})]}),x.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:S(ne.avgBuyPrice,2)}),x.jsxs("td",{className:"px-4 py-4 text-right",children:[x.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:S(ne.value)}),x.jsxs("p",{className:`text-xs font-semibold ${ne.totalPl>=0?"text-emerald-500":"text-red-500"}`,children:[ne.totalPl>=0?"+":"",S(ne.totalPl)]})]})]},ne.symbol))})]})})]}),x.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Asset Allocation"}),x.jsx(XU,{assets:q,theme:i})]})]}),x.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"flex-shrink-0 bg-violet-100 dark:bg-violet-900/50 p-2 rounded-full",children:x.jsx(md,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"})}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Your AI Financial Advisor"})]}),x.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg min-h-[120px]",children:h?x.jsx(QU,{}):x.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:x.jsx(Rd,{children:s,remarkPlugins:[Ld]})})}),x.jsxs("form",{onSubmit:E,className:"mt-4 flex gap-3",children:[x.jsx("input",{type:"text",value:m,onChange:ne=>g(ne.target.value),placeholder:"Ask a follow-up question about your portfolio...",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",disabled:h}),x.jsx("button",{type:"submit",disabled:h||!m.trim()||e!=="valid",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:h?x.jsx(Ni,{className:"w-5 h-5"}):"Get Advice"})]})]})]})},Iv=()=>x.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[x.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:x.jsx(vw,{className:"h-8 w-8 text-red-400"})}),x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),x.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),x.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[x.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),x.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[x.jsxs("li",{children:[x.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),x.jsxs("li",{children:["Go to your ",x.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),x.jsxs("li",{children:["Navigate to: ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),x.jsxs("li",{children:["Find the ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),x.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),x.jsxs("li",{children:["Click ",x.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),x.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[x.jsx(Cw,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),e6=({isOpen:t,onClose:e,onConfirm:n,title:i,message:l,confirmText:s="Confirm",cancelText:u="Cancel",isDestructive:h=!1,isLoading:p=!1})=>{if(W.useEffect(()=>{const T=S=>{S.key==="Escape"&&e()};return t&&document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[t,e]),!t)return null;const m=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",g=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",v=h?x.jsx(zv,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):x.jsx(Da,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:T=>T.stopPropagation(),children:[x.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${g}`,children:v}),x.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),x.jsx("div",{className:"mt-2",children:x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l})}),x.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[x.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:n,disabled:p,children:p?x.jsx(Ni,{className:"w-5 h-5 animate-spin"}):s}),x.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:e,disabled:p,children:u})]})]})})},Pf={scalp:{title:"Scalp Trading",icon:x.jsx(hd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:x.jsx(Lv,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:x.jsx(pd,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:x.jsx(Uv,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},t6=()=>x.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-4 rounded-lg",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(zv,{className:"h-5 w-5 text-yellow-400 dark:text-yellow-500"})}),x.jsx("div",{className:"ml-3",children:x.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[x.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),x.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),n6=({text:t})=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Da,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-3",children:x.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:t})})]})}),Pv=({tabName:t,activeTab:e,setActiveTab:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-6 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${e===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:i});function i6(){const[t,e]=W.useState("light"),[n,i]=W.useState("home"),[l,s]=W.useState("all"),[u,h]=W.useState(null),[p,m]=W.useState(null),[g,v]=W.useState(null),[T,S]=W.useState(!1),[_,E]=W.useState(""),[R,N]=W.useState("idle"),[L,M]=W.useState(1e4),[q,O]=W.useState(0),[I,J]=W.useState(0),[ne,Z]=W.useState("setup"),[U,te]=W.useState(!1),[ee,ae]=W.useState(!1),[le,oe]=W.useState(!1),[V,j]=W.useState(null),[ce,_e]=W.useState(!1),[C,$]=W.useState(null),[ie,A]=W.useState([]),[de,Te]=W.useState(null),[fe,Fe]=W.useState(null),[Ce,st]=W.useState(null),[Ct,Lt]=W.useState(Pf.scalp.initialRiskParams),Ae=W.useCallback(ue=>{const xe=ue instanceof Error?ue.message:String(ue);xe.includes("Cross-Origin Resource Sharing")?(_e(!0),console.error(ue)):j(xe)},[]),pt=W.useCallback(async ue=>{if(!ue){N("idle"),E("");return}E(ue),N("verifying");const xe=await _3(ue);N(xe?"valid":"invalid")},[]),{netPL:Jt}=W.useMemo(()=>({netPL:ie.filter(ke=>ke.status!=="pending"&&ke.outcomeAmount!==void 0).reduce((ke,ze)=>ze.status==="profit"?ke+(ze.outcomeAmount||0):ze.status==="stop-loss"?ke-(ze.outcomeAmount||0):ke,0)}),[ie]),Dn=W.useMemo(()=>L+Jt,[L,Jt]);W.useEffect(()=>{const ue=PU();if(h(ue),ue){const xe=OU(ue,async ke=>{const ze=(ke==null?void 0:ke.user)??null;if(ze){const He=await zU(ue,ze.id);He?(m(ze),v(He),He.initial_trade&&M(He.initial_trade),S(!1)):(console.error(`User ${ze.id} authenticated but has no profile in 'public.users'. Logging out.`),Ae("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await BU(ue))}else m(null),v(null),A([]),M(1e4),E(""),N("idle")});return()=>xe.unsubscribe()}},[Ae]),W.useEffect(()=>{const ue=localStorage.getItem("theme");ue&&e(ue);const xe=localStorage.getItem("totalTokens");xe&&J(Number(xe)),u&&(async()=>{if(!u){j("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(p){const[ze,He]=await Promise.all([Rv(u,p.id),jU(u)]);A(ze),He!=null&&He.gemini_api_key&&await pt(He.gemini_api_key)}j(null)}catch(ze){Ae(ze)}})()},[u,p,Ae,pt]);const ur=async ue=>{if(!u)throw new Error("Database client not available.");await $U(u,ue),await pt(ue)},Ut=W.useCallback(ue=>{M(ue)},[]),Co=W.useCallback(ue=>{v(xe=>xe?{...xe,nama:ue.name,describe:ue.description}:null)},[]),Pi=async ue=>{if(!u||!p)throw new Error("You must be logged in to make a withdrawal.");const xe=L-ue;if(xe<0)throw new Error("Withdrawal amount exceeds available capital.");await Vb(u,p.id,xe),M(xe)};W.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),W.useEffect(()=>{localStorage.setItem("totalTokens",String(I))},[I]),W.useEffect(()=>{Lt(ue=>({...ue,accountBalance:String(Dn.toFixed(2))}))},[Dn]);const Li=ue=>ie.filter(xe=>xe.mode===ue),yn=async ue=>{if(ue===n)return;if(["dashboard","scalp","swing","day","position","settings","portfolio"].includes(ue)&&!p){S(!0);return}if(ue==="portfolio"&&!de){oe(!0);try{const ke=await HU((p==null?void 0:p.id)??"");Te(ke)}catch(ke){Ae(ke)}finally{oe(!1)}}if(ue!=="dashboard"&&ue!=="home"&&ue!=="settings"&&ue!=="economic-calendar"&&ue!=="portfolio"){const ke=ue;s(ke);const ze={...Pf[ke].initialRiskParams};ze.accountBalance=String(Dn.toFixed(2)),Lt(ze),$(null),j(null),Z("setup")}i(ue)},Ui=ue=>{O(xe=>xe+ue.total),J(xe=>xe+ue.total)},cr=W.useCallback(async ue=>{if(n==="dashboard"||n==="home"||n==="settings"||n==="economic-calendar"||n==="portfolio")return;if(!u){j("Not connected to database. Please check settings."),i("settings");return}if(!p){j("You must be logged in to analyze a chart."),S(!0);return}if(R!=="valid"){j("Your Gemini API key is not valid. Please check it in Settings."),i("settings");return}const xe=n;te(!0),j(null);try{const{analysis:ke,usage:ze}=await S3(_,ue,Ct,xe);Ui(ze);const He=new FileReader;He.readAsDataURL(ue),He.onload=async()=>{const ct={...ke,mode:xe,image:He.result,status:"pending"},Bt=await FU(u,ct,p.id);A(Kt=>[Bt,...Kt]),$(Bt)}}catch(ke){Ae(ke)}finally{te(!1)}},[_,R,Ct,n,u,p,Ae]),_o=()=>{$(null),j(null)},ko=async(ue,xe,ke)=>{if(!u||!p){j("Database not connected. Cannot save result.");return}try{await VU(u,ue,xe,ke,p.id);const ze=await Rv(u,p.id);A(ze),C&&C.id===ue&&$(He=>He?{...He,status:xe,outcomeAmount:ke}:null)}catch(ze){Ae(ze)}Fe(null)},Y=ue=>{$(ue),Z("setup")},re=ue=>{st(ue)},ge=async()=>{if(!Ce||!u||!p){j("Could not delete trade. Missing information.");return}ae(!0),j(null);try{await GU(u,Ce.id,p.id),A(ue=>ue.filter(xe=>xe.id!==Ce.id)),(C==null?void 0:C.id)===Ce.id&&$(null)}catch(ue){Ae(ue)}finally{ae(!1),st(null)}};W.useEffect(()=>{if(V){const ue=setTimeout(()=>j(null),1e4);return()=>clearTimeout(ue)}},[V]);const ve=ue=>{const xe=Pf[ue],ke=Li(ue);return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:xe.title}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:xe.subtitle})]}),xe.description&&x.jsx(n6,{text:xe.description}),ue==="swing"&&x.jsx(t6,{}),x.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6",children:x.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:C?x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),x.jsxs("button",{onClick:_o,className:"inline-flex items-center gap-2 px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),x.jsx(ZA,{analysis:C,riskParams:Ct})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-1",children:[xe.icon,x.jsx("h2",{className:"ml-3 text-2xl font-bold text-slate-800 dark:text-slate-100",children:xe.title})]}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 ml-11",children:xe.subtitle}),x.jsx(Ew,{onImageSelect:cr,isLoading:U})]})})}),x.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[C&&C.status==="pending"&&x.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:()=>Fe({analysisId:C.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[x.jsx(Ri,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),x.jsxs("button",{onClick:()=>Fe({analysisId:C.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[x.jsx(Nn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),x.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[x.jsx(Pv,{tabName:"setup",activeTab:ne,setActiveTab:Z,children:"Trade Setup"}),x.jsx(Pv,{tabName:"history",activeTab:ne,setActiveTab:Z,children:"History"})]}),x.jsx("div",{className:"flex-1 min-h-0",children:ne==="setup"?x.jsx("div",{className:"h-full overflow-y-auto",children:x.jsx(Aw,{params:Ct,setParams:Lt,timeframeSettings:xe.calculator.timeframeSettings,currentAnalysis:C})}):x.jsx(t2,{history:ke,onSelect:Y,onDeleteRequest:re,currentAnalysisId:C==null?void 0:C.id})})]})]})]})},Ve=()=>{if(le)return x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})});if(!u&&n!=="home")return x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(n){case"dashboard":return x.jsx(E3,{updateTokenUsage:Ui,apiKey:_,apiStatus:R,allTrades:ie,mode:l,setDashboardSource:s,theme:t,initialCapital:L,netPL:Jt,currentEquity:Dn,user:p,onLogoutClick:()=>u==null?void 0:u.auth.signOut(),onNavigate:yn});case"settings":return x.jsx(YU,{initialCapital:L,supabaseClient:u,user:p,userProfile:g,geminiApiKey:_,apiStatus:R,onApiKeyUpdate:ur,onCapitalUpdate:Ut,onProfileUpdate:Co,onWithdraw:Pi});case"economic-calendar":return x.jsx(KU,{});case"portfolio":return x.jsx(ZU,{apiKey:_,apiStatus:R,portfolioData:de,theme:t,updateTokenUsage:Ui});case"scalp":case"swing":case"day":case"position":return ve(n);default:return null}};return n==="home"?x.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[ce&&x.jsx(Iv,{}),x.jsx(D3,{onNavigate:yn,theme:t,setTheme:e,user:p,onLoginClick:()=>S(!0),onLogoutClick:()=>u==null?void 0:u.auth.signOut()}),x.jsx(R3,{onNavigate:yn}),T&&u&&x.jsx(Dv,{supabaseClient:u,onClose:()=>S(!1)})]}):x.jsxs("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:[ce&&x.jsx(Iv,{}),fe&&x.jsx(r2,{type:fe.type,onSave:ue=>ko(fe.analysisId,fe.type,ue),onClose:()=>Fe(null)}),Ce&&x.jsx(e6,{isOpen:!!Ce,onClose:()=>st(null),onConfirm:ge,title:"Delete Trade Analysis",message:x.jsxs("p",{children:["Are you sure you want to delete this signal? ",x.jsx("br",{}),x.jsx("span",{className:"font-semibold",children:Ce.tradeSetup.tradeType})," for ",x.jsx("span",{className:"font-semibold",children:Ce.keyPattern})," from ",x.jsx("span",{className:"font-mono text-xs",children:new Date(Ce.timestamp).toLocaleString()}),".",x.jsx("br",{}),x.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:ee}),T&&u&&x.jsx(Dv,{supabaseClient:u,onClose:()=>S(!1)}),V&&x.jsxs("div",{className:"fixed top-5 right-5 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("strong",{className:"font-bold",children:"Error! "}),x.jsx("span",{className:"block sm:inline whitespace-pre-wrap",children:V})]}),x.jsx("button",{onClick:()=>j(null),className:"ml-4 text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white","aria-label":"Close error message",children:""})]}),x.jsxs("div",{className:"w-full mx-auto flex flex-col lg:flex-row gap-8",children:[x.jsx(i2,{activeMode:n,onModeChange:yn,theme:t,setTheme:e,apiStatus:R,sessionTokens:q,totalTokens:I}),Ve()]})]})}const Gb=document.getElementById("root");if(!Gb)throw new Error("Could not find root element to mount to");const r6=hw.createRoot(Gb);r6.render(x.jsx(dd.StrictMode,{children:x.jsx(i6,{})}));
