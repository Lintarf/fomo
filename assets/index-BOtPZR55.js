(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function jl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),n}var of={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function dw(){if(zg)return Tl;zg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,s){var u=null;if(s!==void 0&&(u=""+s),l.key!==void 0&&(u=""+l.key),"key"in l){s={};for(var h in l)h!=="key"&&(s[h]=l[h])}else s=l;return l=s.ref,{$$typeof:t,type:i,key:u,ref:l!==void 0?l:null,props:s}}return Tl.Fragment=e,Tl.jsx=n,Tl.jsxs=n,Tl}var qg;function hw(){return qg||(qg=1,of.exports=dw()),of.exports}var x=hw(),lf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function mw(){if(Fg)return Me;Fg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function R(C,$,J){this.props=C,this.context=$,this.refs=E,this.updater=J||S}R.prototype.isReactComponent={},R.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},R.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=R.prototype;function I(C,$,J){this.props=C,this.context=$,this.refs=E,this.updater=J||S}var N=I.prototype=new M;N.constructor=I,_(N,R.prototype),N.isPureReactComponent=!0;var B=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function K(C,$,J,A,fe,ye){return J=ye.ref,{$$typeof:t,type:C,key:$,ref:J!==void 0?J:null,props:ye}}function ie(C,$){return K(C.type,$,void 0,void 0,void 0,C.props)}function W(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function U(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return $[J]})}var Z=/\/+/g;function ee(C,$){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):$.toString(36)}function ae(){}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ae,ae):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,$,J,A,fe){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case t:case e:de=!0;break;case g:return de=C._init,oe(de(C._payload),$,J,A,fe)}}if(de)return fe=fe(C),de=A===""?"."+ee(C,0):A,B(fe)?(J="",de!=null&&(J=de.replace(Z,"$&/")+"/"),oe(fe,$,J,"",function(ot){return ot})):fe!=null&&(W(fe)&&(fe=ie(fe,J+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(Z,"$&/")+"/")+de)),$.push(fe)),1;de=0;var Ye=A===""?".":A+":";if(B(C))for(var _e=0;_e<C.length;_e++)A=C[_e],ye=Ye+ee(A,_e),de+=oe(A,$,J,ye,fe);else if(_e=T(C),typeof _e=="function")for(C=_e.call(C),_e=0;!(A=C.next()).done;)A=A.value,ye=Ye+ee(A,_e++),de+=oe(A,$,J,ye,fe);else if(ye==="object"){if(typeof C.then=="function")return oe(le(C),$,J,A,fe);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return de}function F(C,$,J){if(C==null)return C;var A=[],fe=0;return oe(C,A,"","",function(ye){return $.call(J,ye,fe++)}),A}function ne(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function me(){}return Me.Children={map:F,forEach:function(C,$,J){F(C,function(){$.apply(this,arguments)},J)},count:function(C){var $=0;return F(C,function(){$++}),$},toArray:function(C){return F(C,function($){return $})||[]},only:function(C){if(!W(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Me.Component=R,Me.Fragment=n,Me.Profiler=l,Me.PureComponent=I,Me.StrictMode=i,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Me.__COMPILER_RUNTIME={__proto__:null,c:function(C){return z.H.useMemoCache(C)}},Me.cache=function(C){return function(){return C.apply(null,arguments)}},Me.cloneElement=function(C,$,J){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var A=_({},C.props),fe=C.key,ye=void 0;if($!=null)for(de in $.ref!==void 0&&(ye=void 0),$.key!==void 0&&(fe=""+$.key),$)!P.call($,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&$.ref===void 0||(A[de]=$[de]);var de=arguments.length-2;if(de===1)A.children=J;else if(1<de){for(var Ye=Array(de),_e=0;_e<de;_e++)Ye[_e]=arguments[_e+2];A.children=Ye}return K(C.type,fe,void 0,void 0,ye,A)},Me.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:s,_context:C},C},Me.createElement=function(C,$,J){var A,fe={},ye=null;if($!=null)for(A in $.key!==void 0&&(ye=""+$.key),$)P.call($,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(fe[A]=$[A]);var de=arguments.length-2;if(de===1)fe.children=J;else if(1<de){for(var Ye=Array(de),_e=0;_e<de;_e++)Ye[_e]=arguments[_e+2];fe.children=Ye}if(C&&C.defaultProps)for(A in de=C.defaultProps,de)fe[A]===void 0&&(fe[A]=de[A]);return K(C,ye,void 0,void 0,null,fe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(C){return{$$typeof:h,render:C}},Me.isValidElement=W,Me.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ne}},Me.memo=function(C,$){return{$$typeof:m,type:C,compare:$===void 0?null:$}},Me.startTransition=function(C){var $=z.T,J={};z.T=J;try{var A=C(),fe=z.S;fe!==null&&fe(J,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(me,ce)}catch(ye){ce(ye)}finally{z.T=$}},Me.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Me.use=function(C){return z.H.use(C)},Me.useActionState=function(C,$,J){return z.H.useActionState(C,$,J)},Me.useCallback=function(C,$){return z.H.useCallback(C,$)},Me.useContext=function(C){return z.H.useContext(C)},Me.useDebugValue=function(){},Me.useDeferredValue=function(C,$){return z.H.useDeferredValue(C,$)},Me.useEffect=function(C,$,J){var A=z.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(C,$)},Me.useId=function(){return z.H.useId()},Me.useImperativeHandle=function(C,$,J){return z.H.useImperativeHandle(C,$,J)},Me.useInsertionEffect=function(C,$){return z.H.useInsertionEffect(C,$)},Me.useLayoutEffect=function(C,$){return z.H.useLayoutEffect(C,$)},Me.useMemo=function(C,$){return z.H.useMemo(C,$)},Me.useOptimistic=function(C,$){return z.H.useOptimistic(C,$)},Me.useReducer=function(C,$,J){return z.H.useReducer(C,$,J)},Me.useRef=function(C){return z.H.useRef(C)},Me.useState=function(C){return z.H.useState(C)},Me.useSyncExternalStore=function(C,$,J){return z.H.useSyncExternalStore(C,$,J)},Me.useTransition=function(){return z.H.useTransition()},Me.version="19.1.0",Me}var Vg;function xd(){return Vg||(Vg=1,lf.exports=mw()),lf.exports}var Q=xd();const Jv=jl(Q);var sf={exports:{}},Sl={},af={exports:{}},uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function pw(){return jg||(jg=1,function(t){function e(F,ne){var ce=F.length;F.push(ne);e:for(;0<ce;){var me=ce-1>>>1,C=F[me];if(0<l(C,ne))F[me]=ne,F[ce]=C,ce=me;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ne=F[0],ce=F.pop();if(ce!==ne){F[0]=ce;e:for(var me=0,C=F.length,$=C>>>1;me<$;){var J=2*(me+1)-1,A=F[J],fe=J+1,ye=F[fe];if(0>l(A,ce))fe<C&&0>l(ye,A)?(F[me]=ye,F[fe]=ce,me=fe):(F[me]=A,F[J]=ce,me=J);else if(fe<C&&0>l(ye,ce))F[me]=ye,F[fe]=ce,me=fe;else break e}}return ne}function l(F,ne){var ce=F.sortIndex-ne.sortIndex;return ce!==0?ce:F.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],m=[],g=1,v=null,T=3,S=!1,_=!1,E=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function B(F){for(var ne=n(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=F)i(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(m)}}function z(F){if(E=!1,B(F),!_)if(n(p)!==null)_=!0,P||(P=!0,ee());else{var ne=n(m);ne!==null&&oe(z,ne.startTime-F)}}var P=!1,K=-1,ie=5,W=-1;function U(){return R?!0:!(t.unstable_now()-W<ie)}function Z(){if(R=!1,P){var F=t.unstable_now();W=F;var ne=!0;try{e:{_=!1,E&&(E=!1,I(K),K=-1),S=!0;var ce=T;try{t:{for(B(F),v=n(p);v!==null&&!(v.expirationTime>F&&U());){var me=v.callback;if(typeof me=="function"){v.callback=null,T=v.priorityLevel;var C=me(v.expirationTime<=F);if(F=t.unstable_now(),typeof C=="function"){v.callback=C,B(F),ne=!0;break t}v===n(p)&&i(p),B(F)}else i(p);v=n(p)}if(v!==null)ne=!0;else{var $=n(m);$!==null&&oe(z,$.startTime-F),ne=!1}}break e}finally{v=null,T=ce,S=!1}ne=void 0}}finally{ne?ee():P=!1}}}var ee;if(typeof N=="function")ee=function(){N(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,le=ae.port2;ae.port1.onmessage=Z,ee=function(){le.postMessage(null)}}else ee=function(){M(Z,0)};function oe(F,ne){K=M(function(){F(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(F){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var ce=T;T=ne;try{return F()}finally{T=ce}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=T;T=F;try{return ne()}finally{T=ce}},t.unstable_scheduleCallback=function(F,ne,ce){var me=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?me+ce:me):ce=me,F){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ce+C,F={id:g++,callback:ne,priorityLevel:F,startTime:ce,expirationTime:C,sortIndex:-1},ce>me?(F.sortIndex=ce,e(m,F),n(p)===null&&F===n(m)&&(E?(I(K),K=-1):E=!0,oe(z,ce-me))):(F.sortIndex=C,e(p,F),_||S||(_=!0,P||(P=!0,ee()))),F},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(F){var ne=T;return function(){var ce=T;T=ne;try{return F.apply(this,arguments)}finally{T=ce}}}}(uf)),uf}var Gg;function gw(){return Gg||(Gg=1,af.exports=pw()),af.exports}var cf={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function yw(){if(Hg)return It;Hg=1;var t=xd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(p,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,It.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(p,m,null,g)},It.flushSync=function(p){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=g,i.d.f()}},It.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},It.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},It.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):g==="script"&&i.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},It.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},It.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);i.d.L(p,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},It.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},It.requestFormReset=function(p){i.d.r(p)},It.unstable_batchedUpdates=function(p,m){return p(m)},It.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},It.useFormStatus=function(){return u.H.useHostTransitionStatus()},It.version="19.1.0",It}var $g;function vw(){if($g)return cf.exports;$g=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cf.exports=yw(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function xw(){if(Yg)return Sl;Yg=1;var t=gw(),e=xd(),n=vw();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function u(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(s(r)!==r)throw Error(i(188))}function p(r){var o=r.alternate;if(!o){if(o=s(r),o===null)throw Error(i(188));return o!==r?null:r}for(var a=r,d=o;;){var y=a.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){a=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===a)return h(y),r;if(b===d)return h(y),o;b=b.sibling}throw Error(i(188))}if(a.return!==d.return)a=y,d=b;else{for(var w=!1,k=y.child;k;){if(k===a){w=!0,a=y,d=b;break}if(k===d){w=!0,d=y,a=b;break}k=k.sibling}if(!w){for(k=b.child;k;){if(k===a){w=!0,a=b,d=y;break}if(k===d){w=!0,d=b,a=y;break}k=k.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=Z&&r[Z]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _:return"Fragment";case R:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList";case W:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case N:return(r.displayName||"Context")+".Provider";case I:return(r._context.displayName||"Context")+".Consumer";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case K:return o=r.displayName||null,o!==null?o:le(r.type)||"Memo";case ie:o=r._payload,r=r._init;try{return le(r(o))}catch{}}return null}var oe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},me=[],C=-1;function $(r){return{current:r}}function J(r){0>C||(r.current=me[C],me[C]=null,C--)}function A(r,o){C++,me[C]=r.current,r.current=o}var fe=$(null),ye=$(null),de=$(null),Ye=$(null);function _e(r,o){switch(A(de,o),A(ye,r),A(fe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?hg(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=hg(o),r=mg(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(fe),A(fe,r)}function ot(){J(fe),J(ye),J(de)}function Qe(r){r.memoizedState!==null&&A(Ye,r);var o=fe.current,a=mg(o,r.type);o!==a&&(A(ye,r),A(fe,a))}function Nt(r){ye.current===r&&(J(fe),J(ye)),Ye.current===r&&(J(Ye),gl._currentValue=ce)}var Oe=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,yt=t.unstable_cancelCallback,ei=t.unstable_shouldYield,ti=t.unstable_requestPaint,dt=t.unstable_now,So=t.unstable_getCurrentPriorityLevel,Li=t.unstable_ImmediatePriority,Ui=t.unstable_UserBlockingPriority,ni=t.unstable_NormalPriority,wo=t.unstable_LowPriority,Cn=t.unstable_IdlePriority,Oi=t.log,Co=t.unstable_setDisableYieldValue,H=null,re=null;function ve(r){if(typeof Oi=="function"&&Co(r),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(H,r)}catch{}}var Te=Math.clz32?Math.clz32:yn,qe=Math.log,Bt=Math.LN2;function yn(r){return r>>>=0,r===0?32:31-(qe(r)/Bt|0)|0}var ue=256,xe=4194304;function Ee(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ae(r,o,a){var d=r.pendingLanes;if(d===0)return 0;var y=0,b=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~b,d!==0?y=Ee(d):(w&=k,w!==0?y=Ee(w):a||(a=k&~r,a!==0&&(y=Ee(a))))):(k=d&~b,k!==0?y=Ee(k):w!==0?y=Ee(w):a||(a=d&~r,a!==0&&(y=Ee(a)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,a=o&-o,b>=a||b===32&&(a&4194048)!==0)?o:y}function je(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Kt(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var r=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),r}function Xl(){var r=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),r}function Ya(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function ko(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zb(r,o,a,d,y,b){var w=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var k=r.entanglements,D=r.expirationTimes,V=r.hiddenUpdates;for(a=w&~a;0<a;){var Y=31-Te(a),te=1<<Y;k[Y]=0,D[Y]=-1;var j=V[Y];if(j!==null)for(V[Y]=null,Y=0;Y<j.length;Y++){var G=j[Y];G!==null&&(G.lane&=-536870913)}a&=~te}d!==0&&Wd(r,d,0),b!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=b&~(w&~o))}function Wd(r,o,a){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Te(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|a&4194090}function Zd(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var d=31-Te(a),y=1<<d;y&o|r[d]&o&&(r[d]|=o),a&=~y}}function Ja(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ka(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function eh(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:Ig(r.type))}function eT(r,o){var a=ne.p;try{return ne.p=r,o()}finally{ne.p=a}}var ii=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ii,Ft="__reactProps$"+ii,cr="__reactContainer$"+ii,Xa="__reactEvents$"+ii,tT="__reactListeners$"+ii,nT="__reactHandles$"+ii,th="__reactResources$"+ii,Eo="__reactMarker$"+ii;function Qa(r){delete r[Rt],delete r[Ft],delete r[Xa],delete r[tT],delete r[nT]}function fr(r){var o=r[Rt];if(o)return o;for(var a=r.parentNode;a;){if(o=a[cr]||a[Rt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=vg(r);r!==null;){if(a=r[Rt])return a;r=vg(r)}return o}r=a,a=r.parentNode}return null}function dr(r){if(r=r[Rt]||r[cr]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Ao(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function hr(r){var o=r[th];return o||(o=r[th]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function bt(r){r[Eo]=!0}var nh=new Set,ih={};function Bi(r,o){mr(r,o),mr(r+"Capture",o)}function mr(r,o){for(ih[r]=o,r=0;r<o.length;r++)nh.add(o[r])}var iT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rh={},oh={};function rT(r){return Oe.call(oh,r)?!0:Oe.call(rh,r)?!1:iT.test(r)?oh[r]=!0:(rh[r]=!0,!1)}function Ql(r,o,a){if(rT(o))if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+a)}}function Wl(r,o,a){if(a===null)r.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+a)}}function In(r,o,a,d){if(d===null)r.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(o,a,""+d)}}var Wa,lh;function pr(r){if(Wa===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Wa=o&&o[1]||"",lh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+r+lh}var Za=!1;function eu(r,o){if(!r||Za)return"";Za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var j=G}Reflect.construct(r,[],te)}else{try{te.call()}catch(G){j=G}r.call(te.prototype)}}else{try{throw Error()}catch(G){j=G}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),w=b[0],k=b[1];if(w&&k){var D=w.split(`
`),V=k.split(`
`);for(y=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;y<V.length&&!V[y].includes("DetermineComponentFrameRoot");)y++;if(d===D.length||y===V.length)for(d=D.length-1,y=V.length-1;1<=d&&0<=y&&D[d]!==V[y];)y--;for(;1<=d&&0<=y;d--,y--)if(D[d]!==V[y]){if(d!==1||y!==1)do if(d--,y--,0>y||D[d]!==V[y]){var Y=`
`+D[d].replace(" at new "," at ");return r.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",r.displayName)),Y}while(1<=d&&0<=y);break}}}finally{Za=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?pr(a):""}function oT(r){switch(r.tag){case 26:case 27:case 5:return pr(r.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return eu(r.type,!1);case 11:return eu(r.type.render,!1);case 1:return eu(r.type,!0);case 31:return pr("Activity");default:return""}}function sh(r){try{var o="";do o+=oT(r),r=r.return;while(r);return o}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ah(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lT(r){var o=ah(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var y=a.get,b=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(w){d=""+w,b.call(this,w)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Zl(r){r._valueTracker||(r._valueTracker=lT(r))}function uh(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return r&&(d=ah(r)?r.checked?"true":"false":r.value),r=d,r!==a?(o.setValue(r),!0):!1}function es(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sT=/[\n"\\]/g;function sn(r){return r.replace(sT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function tu(r,o,a,d,y,b,w,k){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),o!=null?w==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+ln(o)):r.value!==""+ln(o)&&(r.value=""+ln(o)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),o!=null?nu(r,w,ln(o)):a!=null?nu(r,w,ln(a)):d!=null&&r.removeAttribute("value"),y==null&&b!=null&&(r.defaultChecked=!!b),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ln(k):r.removeAttribute("name")}function ch(r,o,a,d,y,b,w,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;a=a!=null?""+ln(a):"",o=o!=null?""+ln(o):a,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function nu(r,o,a){o==="number"&&es(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function gr(r,o,a,d){if(r=r.options,o){o={};for(var y=0;y<a.length;y++)o["$"+a[y]]=!0;for(a=0;a<r.length;a++)y=o.hasOwnProperty("$"+r[a].value),r[a].selected!==y&&(r[a].selected=y),y&&d&&(r[a].defaultSelected=!0)}else{for(a=""+ln(a),o=null,y=0;y<r.length;y++){if(r[y].value===a){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function fh(r,o,a){if(o!=null&&(o=""+ln(o),o!==r.value&&(r.value=o),a==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=a!=null?""+ln(a):""}function dh(r,o,a,d){if(o==null){if(d!=null){if(a!=null)throw Error(i(92));if(oe(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),o=a}a=ln(o),r.defaultValue=a,d=r.textContent,d===a&&d!==""&&d!==null&&(r.value=d)}function yr(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var aT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hh(r,o,a){var d=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,a):typeof a!="number"||a===0||aT.has(o)?o==="float"?r.cssFloat=a:r[o]=(""+a).trim():r[o]=a+"px"}function mh(r,o,a){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&a[y]!==d&&hh(r,y,d)}else for(var b in o)o.hasOwnProperty(b)&&hh(r,b,o[b])}function iu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(r){return cT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ru=null;function ou(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vr=null,xr=null;function ph(r){var o=dr(r);if(o&&(r=o.stateNode)){var a=r[Ft]||null;e:switch(r=o.stateNode,o.type){case"input":if(tu(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==r&&d.form===r.form){var y=d[Ft]||null;if(!y)throw Error(i(90));tu(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<a.length;o++)d=a[o],d.form===r.form&&uh(d)}break e;case"textarea":fh(r,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&gr(r,!!a.multiple,o,!1)}}}var lu=!1;function gh(r,o,a){if(lu)return r(o,a);lu=!0;try{var d=r(o);return d}finally{if(lu=!1,(vr!==null||xr!==null)&&(qs(),vr&&(o=vr,r=xr,xr=vr=null,ph(o),r)))for(o=0;o<r.length;o++)ph(r[o])}}function Mo(r,o){var a=r.stateNode;if(a===null)return null;var d=a[Ft]||null;if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,o,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(Pn)try{var No={};Object.defineProperty(No,"passive",{get:function(){su=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{su=!1}var ri=null,au=null,ns=null;function yh(){if(ns)return ns;var r,o=au,a=o.length,d,y="value"in ri?ri.value:ri.textContent,b=y.length;for(r=0;r<a&&o[r]===y[r];r++);var w=a-r;for(d=1;d<=w&&o[a-d]===y[b-d];d++);return ns=y.slice(r,1<d?1-d:void 0)}function is(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function rs(){return!0}function vh(){return!1}function Vt(r){function o(a,d,y,b,w){this._reactName=a,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:vh,this.isPropagationStopped=vh,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),o}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Vt(zi),Ro=g({},zi,{view:0,detail:0}),fT=Vt(Ro),uu,cu,Do,ls=g({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Do&&(Do&&r.type==="mousemove"?(uu=r.screenX-Do.screenX,cu=r.screenY-Do.screenY):cu=uu=0,Do=r),uu)},movementY:function(r){return"movementY"in r?r.movementY:cu}}),xh=Vt(ls),dT=g({},ls,{dataTransfer:0}),hT=Vt(dT),mT=g({},Ro,{relatedTarget:0}),fu=Vt(mT),pT=g({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=Vt(pT),yT=g({},zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vT=Vt(yT),xT=g({},zi,{data:0}),bh=Vt(xT),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=ST[r])?!!o[r]:!1}function du(){return wT}var CT=g({},Ro,{key:function(r){if(r.key){var o=bT[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=is(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?TT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(r){return r.type==="keypress"?is(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?is(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_T=Vt(CT),kT=g({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=Vt(kT),ET=g({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),AT=Vt(ET),MT=g({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),NT=Vt(MT),RT=g({},ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),DT=Vt(RT),IT=g({},zi,{newState:0,oldState:0}),PT=Vt(IT),LT=[9,13,27,32],hu=Pn&&"CompositionEvent"in window,Io=null;Pn&&"documentMode"in document&&(Io=document.documentMode);var UT=Pn&&"TextEvent"in window&&!Io,Sh=Pn&&(!hu||Io&&8<Io&&11>=Io),wh=" ",Ch=!1;function _h(r,o){switch(r){case"keyup":return LT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var br=!1;function OT(r,o){switch(r){case"compositionend":return kh(o);case"keypress":return o.which!==32?null:(Ch=!0,wh);case"textInput":return r=o.data,r===wh&&Ch?null:r;default:return null}}function BT(r,o){if(br)return r==="compositionend"||!hu&&_h(r,o)?(r=yh(),ns=au=ri=null,br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sh&&o.locale!=="ko"?null:o.data;default:return null}}var zT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!zT[r.type]:o==="textarea"}function Ah(r,o,a,d){vr?xr?xr.push(d):xr=[d]:vr=d,o=$s(o,"onChange"),0<o.length&&(a=new os("onChange","change",null,a,d),r.push({event:a,listeners:o}))}var Po=null,Lo=null;function qT(r){ag(r,0)}function ss(r){var o=Ao(r);if(uh(o))return r}function Mh(r,o){if(r==="change")return o}var Nh=!1;if(Pn){var mu;if(Pn){var pu="oninput"in document;if(!pu){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),pu=typeof Rh.oninput=="function"}mu=pu}else mu=!1;Nh=mu&&(!document.documentMode||9<document.documentMode)}function Dh(){Po&&(Po.detachEvent("onpropertychange",Ih),Lo=Po=null)}function Ih(r){if(r.propertyName==="value"&&ss(Lo)){var o=[];Ah(o,Lo,r,ou(r)),gh(qT,o)}}function FT(r,o,a){r==="focusin"?(Dh(),Po=o,Lo=a,Po.attachEvent("onpropertychange",Ih)):r==="focusout"&&Dh()}function VT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ss(Lo)}function jT(r,o){if(r==="click")return ss(o)}function GT(r,o){if(r==="input"||r==="change")return ss(o)}function HT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Xt=typeof Object.is=="function"?Object.is:HT;function Uo(r,o){if(Xt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var y=a[d];if(!Oe.call(o,y)||!Xt(r[y],o[y]))return!1}return!0}function Ph(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lh(r,o){var a=Ph(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=o&&d>=o)return{node:a,offset:o-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ph(a)}}function Uh(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Uh(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Oh(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=es(r.document);o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=es(r.document)}return o}function gu(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var $T=Pn&&"documentMode"in document&&11>=document.documentMode,Tr=null,yu=null,Oo=null,vu=!1;function Bh(r,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vu||Tr==null||Tr!==es(d)||(d=Tr,"selectionStart"in d&&gu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Oo&&Uo(Oo,d)||(Oo=d,d=$s(yu,"onSelect"),0<d.length&&(o=new os("onSelect","select",null,o,a),r.push({event:o,listeners:d}),o.target=Tr)))}function qi(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var Sr={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},xu={},zh={};Pn&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Fi(r){if(xu[r])return xu[r];if(!Sr[r])return r;var o=Sr[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in zh)return xu[r]=o[a];return r}var qh=Fi("animationend"),Fh=Fi("animationiteration"),Vh=Fi("animationstart"),YT=Fi("transitionrun"),JT=Fi("transitionstart"),KT=Fi("transitioncancel"),jh=Fi("transitionend"),Gh=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function vn(r,o){Gh.set(r,o),Bi(o,[r])}var Hh=new WeakMap;function an(r,o){if(typeof r=="object"&&r!==null){var a=Hh.get(r);return a!==void 0?a:(o={value:r,source:o,stack:sh(o)},Hh.set(r,o),o)}return{value:r,source:o,stack:sh(o)}}var un=[],wr=0,Tu=0;function as(){for(var r=wr,o=Tu=wr=0;o<r;){var a=un[o];un[o++]=null;var d=un[o];un[o++]=null;var y=un[o];un[o++]=null;var b=un[o];if(un[o++]=null,d!==null&&y!==null){var w=d.pending;w===null?y.next=y:(y.next=w.next,w.next=y),d.pending=y}b!==0&&$h(a,y,b)}}function us(r,o,a,d){un[wr++]=r,un[wr++]=o,un[wr++]=a,un[wr++]=d,Tu|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Su(r,o,a,d){return us(r,o,a,d),cs(r)}function Cr(r,o){return us(r,null,null,o),cs(r)}function $h(r,o,a){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a);for(var y=!1,b=r.return;b!==null;)b.childLanes|=a,d=b.alternate,d!==null&&(d.childLanes|=a),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(y=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,y&&o!==null&&(y=31-Te(a),r=b.hiddenUpdates,d=r[y],d===null?r[y]=[o]:d.push(o),o.lane=a|536870912),b):null}function cs(r){if(50<al)throw al=0,Ac=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var _r={};function XT(r,o,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(r,o,a,d){return new XT(r,o,a,d)}function wu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ln(r,o){var a=r.alternate;return a===null?(a=Qt(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Yh(r,o){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,o=a.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function fs(r,o,a,d,y,b){var w=0;if(d=r,typeof r=="function")wu(r)&&(w=1);else if(typeof r=="string")w=WS(r,a,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case W:return r=Qt(31,a,o,y),r.elementType=W,r.lanes=b,r;case _:return Vi(a.children,y,b,o);case E:w=8,y|=24;break;case R:return r=Qt(12,a,o,y|2),r.elementType=R,r.lanes=b,r;case z:return r=Qt(13,a,o,y),r.elementType=z,r.lanes=b,r;case P:return r=Qt(19,a,o,y),r.elementType=P,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case N:w=10;break e;case I:w=9;break e;case B:w=11;break e;case K:w=14;break e;case ie:w=16,d=null;break e}w=29,a=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Qt(w,a,o,y),o.elementType=r,o.type=d,o.lanes=b,o}function Vi(r,o,a,d){return r=Qt(7,r,d,o),r.lanes=a,r}function Cu(r,o,a){return r=Qt(6,r,null,o),r.lanes=a,r}function _u(r,o,a){return o=Qt(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var kr=[],Er=0,ds=null,hs=0,cn=[],fn=0,ji=null,Un=1,On="";function Gi(r,o){kr[Er++]=hs,kr[Er++]=ds,ds=r,hs=o}function Jh(r,o,a){cn[fn++]=Un,cn[fn++]=On,cn[fn++]=ji,ji=r;var d=Un;r=On;var y=32-Te(d)-1;d&=~(1<<y),a+=1;var b=32-Te(o)+y;if(30<b){var w=y-y%5;b=(d&(1<<w)-1).toString(32),d>>=w,y-=w,Un=1<<32-Te(o)+y|a<<y|d,On=b+r}else Un=1<<b|a<<y|d,On=r}function ku(r){r.return!==null&&(Gi(r,1),Jh(r,1,0))}function Eu(r){for(;r===ds;)ds=kr[--Er],kr[Er]=null,hs=kr[--Er],kr[Er]=null;for(;r===ji;)ji=cn[--fn],cn[fn]=null,On=cn[--fn],cn[fn]=null,Un=cn[--fn],cn[fn]=null}var zt=null,st=null,Ve=!1,Hi=null,_n=!1,Au=Error(i(519));function $i(r){var o=Error(i(418,""));throw qo(an(o,r)),Au}function Kh(r){var o=r.stateNode,a=r.type,d=r.memoizedProps;switch(o[Rt]=r,o[Ft]=d,a){case"dialog":Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":case"embed":Pe("load",o);break;case"video":case"audio":for(a=0;a<cl.length;a++)Pe(cl[a],o);break;case"source":Pe("error",o);break;case"img":case"image":case"link":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"input":Pe("invalid",o),ch(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Zl(o);break;case"select":Pe("invalid",o);break;case"textarea":Pe("invalid",o),dh(o,d.value,d.defaultValue,d.children),Zl(o)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||d.suppressHydrationWarning===!0||dg(o.textContent,a)?(d.popover!=null&&(Pe("beforetoggle",o),Pe("toggle",o)),d.onScroll!=null&&Pe("scroll",o),d.onScrollEnd!=null&&Pe("scrollend",o),d.onClick!=null&&(o.onclick=Ys),o=!0):o=!1,o||$i(r)}function Xh(r){for(zt=r.return;zt;)switch(zt.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:zt=zt.return}}function Bo(r){if(r!==zt)return!1;if(!Ve)return Xh(r),Ve=!0,!1;var o=r.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Gc(r.type,r.memoizedProps)),a=!a),a&&st&&$i(r),Xh(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(o===0){st=bn(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++;r=r.nextSibling}st=null}}else o===27?(o=st,bi(r.type)?(r=Jc,Jc=null,st=r):st=o):st=zt?bn(r.stateNode.nextSibling):null;return!0}function zo(){st=zt=null,Ve=!1}function Qh(){var r=Hi;return r!==null&&(Ht===null?Ht=r:Ht.push.apply(Ht,r),Hi=null),r}function qo(r){Hi===null?Hi=[r]:Hi.push(r)}var Mu=$(null),Yi=null,Bn=null;function oi(r,o,a){A(Mu,o._currentValue),o._currentValue=a}function zn(r){r._currentValue=Mu.current,J(Mu)}function Nu(r,o,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===a)break;r=r.return}}function Ru(r,o,a,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var b=y.dependencies;if(b!==null){var w=y.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=y;for(var D=0;D<o.length;D++)if(k.context===o[D]){b.lanes|=a,k=b.alternate,k!==null&&(k.lanes|=a),Nu(b.return,a,r),d||(w=null);break e}b=k.next}}else if(y.tag===18){if(w=y.return,w===null)throw Error(i(341));w.lanes|=a,b=w.alternate,b!==null&&(b.lanes|=a),Nu(w,a,r),w=null}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===r){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}}function Fo(r,o,a,d){r=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var w=y.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var k=y.type;Xt(y.pendingProps.value,w.value)||(r!==null?r.push(k):r=[k])}}else if(y===Ye.current){if(w=y.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(gl):r=[gl])}y=y.return}r!==null&&Ru(o,r,a,d),o.flags|=262144}function ms(r){for(r=r.firstContext;r!==null;){if(!Xt(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ji(r){Yi=r,Bn=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Dt(r){return Wh(Yi,r)}function ps(r,o){return Yi===null&&Ji(r),Wh(r,o)}function Wh(r,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Bn===null){if(r===null)throw Error(i(308));Bn=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Bn=Bn.next=o;return a}var QT=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(a,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(a){return a()})}},WT=t.unstable_scheduleCallback,ZT=t.unstable_NormalPriority,vt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new QT,data:new Map,refCount:0}}function Vo(r){r.refCount--,r.refCount===0&&WT(ZT,function(){r.controller.abort()})}var jo=null,Iu=0,Ar=0,Mr=null;function eS(r,o){if(jo===null){var a=jo=[];Iu=0,Ar=Lc(),Mr={status:"pending",value:void 0,then:function(d){a.push(d)}}}return Iu++,o.then(Zh,Zh),o}function Zh(){if(--Iu===0&&jo!==null){Mr!==null&&(Mr.status="fulfilled");var r=jo;jo=null,Ar=0,Mr=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function tS(r,o){var a=[],d={status:"pending",value:null,reason:null,then:function(y){a.push(y)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<a.length;y++)(0,a[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<a.length;y++)(0,a[y])(void 0)}),d}var em=F.S;F.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&eS(r,o),em!==null&&em(r,o)};var Ki=$(null);function Pu(){var r=Ki.current;return r!==null?r:et.pooledCache}function gs(r,o){o===null?A(Ki,Ki.current):A(Ki,o.pool)}function tm(){var r=Pu();return r===null?null:{parent:vt._currentValue,pool:r}}var Go=Error(i(460)),nm=Error(i(474)),ys=Error(i(542)),Lu={then:function(){}};function im(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vs(){}function rm(r,o,a){switch(a=r[a],a===void 0?r.push(o):a!==o&&(o.then(vs,vs),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,lm(r),r;default:if(typeof o.status=="string")o.then(vs,vs);else{if(r=et,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,lm(r),r}throw Ho=o,Go}}var Ho=null;function om(){if(Ho===null)throw Error(i(459));var r=Ho;return Ho=null,r}function lm(r){if(r===Go||r===ys)throw Error(i(483))}var li=!1;function Uu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ou(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function si(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ai(r,o,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ge&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=cs(r),$h(r,null,a),o}return us(r,d,o,a),cs(r)}function $o(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Zd(r,a)}}function Bu(r,o){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var y=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?y=b=w:b=b.next=w,a=a.next}while(a!==null);b===null?y=b=o:b=b.next=o}else y=b=o;a={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}var zu=!1;function Yo(){if(zu){var r=Mr;if(r!==null)throw r}}function Jo(r,o,a,d){zu=!1;var y=r.updateQueue;li=!1;var b=y.firstBaseUpdate,w=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var D=k,V=D.next;D.next=null,w===null?b=V:w.next=V,w=D;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==w&&(k===null?Y.firstBaseUpdate=V:k.next=V,Y.lastBaseUpdate=D))}if(b!==null){var te=y.baseState;w=0,Y=V=D=null,k=b;do{var j=k.lane&-536870913,G=j!==k.lane;if(G?(Be&j)===j:(d&j)===j){j!==0&&j===Ar&&(zu=!0),Y!==null&&(Y=Y.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ce=r,Se=k;j=o;var Xe=a;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){te=Ce.call(Xe,te,j);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,j=typeof Ce=="function"?Ce.call(Xe,te,j):Ce,j==null)break e;te=g({},te,j);break e;case 2:li=!0}}j=k.callback,j!==null&&(r.flags|=64,G&&(r.flags|=8192),G=y.callbacks,G===null?y.callbacks=[j]:G.push(j))}else G={lane:j,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(V=Y=G,D=te):Y=Y.next=G,w|=j;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;G=k,k=G.next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}while(!0);Y===null&&(D=te),y.baseState=D,y.firstBaseUpdate=V,y.lastBaseUpdate=Y,b===null&&(y.shared.lanes=0),gi|=w,r.lanes=w,r.memoizedState=te}}function sm(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function am(r,o){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)sm(a[r],o)}var Nr=$(null),xs=$(0);function um(r,o){r=$n,A(xs,r),A(Nr,o),$n=r|o.baseLanes}function qu(){A(xs,$n),A(Nr,Nr.current)}function Fu(){$n=xs.current,J(Nr),J(xs)}var ui=0,Re=null,Je=null,ht=null,bs=!1,Rr=!1,Xi=!1,Ts=0,Ko=0,Dr=null,nS=0;function ut(){throw Error(i(321))}function Vu(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!Xt(r[a],o[a]))return!1;return!0}function ju(r,o,a,d,y,b){return ui=b,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=r===null||r.memoizedState===null?$m:Ym,Xi=!1,b=a(d,y),Xi=!1,Rr&&(b=fm(o,a,d,y)),cm(r),b}function cm(r){F.H=Es;var o=Je!==null&&Je.next!==null;if(ui=0,ht=Je=Re=null,bs=!1,Ko=0,Dr=null,o)throw Error(i(300));r===null||Tt||(r=r.dependencies,r!==null&&ms(r)&&(Tt=!0))}function fm(r,o,a,d){Re=r;var y=0;do{if(Rr&&(Dr=null),Ko=0,Rr=!1,25<=y)throw Error(i(301));if(y+=1,ht=Je=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=uS,b=o(a,d)}while(Rr);return b}function iS(){var r=F.H,o=r.useState()[0];return o=typeof o.then=="function"?Xo(o):o,r=r.useState()[0],(Je!==null?Je.memoizedState:null)!==r&&(Re.flags|=1024),o}function Gu(){var r=Ts!==0;return Ts=0,r}function Hu(r,o,a){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~a}function $u(r){if(bs){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}bs=!1}ui=0,ht=Je=Re=null,Rr=!1,Ko=Ts=0,Dr=null}function jt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Re.memoizedState=ht=r:ht=ht.next=r,ht}function mt(){if(Je===null){var r=Re.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var o=ht===null?Re.memoizedState:ht.next;if(o!==null)ht=o,Je=r;else{if(r===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ht===null?Re.memoizedState=ht=r:ht=ht.next=r}return ht}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(r){var o=Ko;return Ko+=1,Dr===null&&(Dr=[]),r=rm(Dr,r,o),o=Re,(ht===null?o.memoizedState:ht.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?$m:Ym),r}function Ss(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Xo(r);if(r.$$typeof===N)return Dt(r)}throw Error(i(438,String(r)))}function Ju(r){var o=null,a=Re.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var d=Re.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Yu(),Re.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(r),d=0;d<r;d++)a[d]=U;return o.index++,a}function qn(r,o){return typeof o=="function"?o(r):o}function ws(r){var o=mt();return Ku(o,Je,r)}function Ku(r,o,a){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var y=r.baseQueue,b=d.pending;if(b!==null){if(y!==null){var w=y.next;y.next=b.next,b.next=w}o.baseQueue=y=b,d.pending=null}if(b=r.baseState,y===null)r.memoizedState=b;else{o=y.next;var k=w=null,D=null,V=o,Y=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(Be&te)===te:(ui&te)===te){var j=V.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===Ar&&(Y=!0);else if((ui&j)===j){V=V.next,j===Ar&&(Y=!0);continue}else te={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},D===null?(k=D=te,w=b):D=D.next=te,Re.lanes|=j,gi|=j;te=V.action,Xi&&a(b,te),b=V.hasEagerState?V.eagerState:a(b,te)}else j={lane:te,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},D===null?(k=D=j,w=b):D=D.next=j,Re.lanes|=te,gi|=te;V=V.next}while(V!==null&&V!==o);if(D===null?w=b:D.next=k,!Xt(b,r.memoizedState)&&(Tt=!0,Y&&(a=Mr,a!==null)))throw a;r.memoizedState=b,r.baseState=w,r.baseQueue=D,d.lastRenderedState=b}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Xu(r){var o=mt(),a=o.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var d=a.dispatch,y=a.pending,b=o.memoizedState;if(y!==null){a.pending=null;var w=y=y.next;do b=r(b,w.action),w=w.next;while(w!==y);Xt(b,o.memoizedState)||(Tt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),a.lastRenderedState=b}return[b,d]}function dm(r,o,a){var d=Re,y=mt(),b=Ve;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=o();var w=!Xt((Je||y).memoizedState,a);w&&(y.memoizedState=a,Tt=!0),y=y.queue;var k=pm.bind(null,d,y,r);if(Qo(2048,8,k,[r]),y.getSnapshot!==o||w||ht!==null&&ht.memoizedState.tag&1){if(d.flags|=2048,Ir(9,Cs(),mm.bind(null,d,y,a,o),null),et===null)throw Error(i(349));b||(ui&124)!==0||hm(d,o,a)}return a}function hm(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=Re.updateQueue,o===null?(o=Yu(),Re.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function mm(r,o,a,d){o.value=a,o.getSnapshot=d,gm(o)&&ym(r)}function pm(r,o,a){return a(function(){gm(o)&&ym(r)})}function gm(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!Xt(r,a)}catch{return!0}}function ym(r){var o=Cr(r,2);o!==null&&nn(o,r,2)}function Qu(r){var o=jt();if(typeof r=="function"){var a=r;if(r=a(),Xi){ve(!0);try{a()}finally{ve(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:r},o}function vm(r,o,a,d){return r.baseState=a,Ku(r,Je,typeof d=="function"?d:qn)}function rS(r,o,a,d,y){if(ks(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};F.T!==null?a(!0):b.isTransition=!1,d(b),a=o.pending,a===null?(b.next=o.pending=b,xm(o,b)):(b.next=a.next,o.pending=a.next=b)}}function xm(r,o){var a=o.action,d=o.payload,y=r.state;if(o.isTransition){var b=F.T,w={};F.T=w;try{var k=a(y,d),D=F.S;D!==null&&D(w,k),bm(r,o,k)}catch(V){Wu(r,o,V)}finally{F.T=b}}else try{b=a(y,d),bm(r,o,b)}catch(V){Wu(r,o,V)}}function bm(r,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){Tm(r,o,d)},function(d){return Wu(r,o,d)}):Tm(r,o,a)}function Tm(r,o,a){o.status="fulfilled",o.value=a,Sm(o),r.state=a,o=r.pending,o!==null&&(a=o.next,a===o?r.pending=null:(a=a.next,o.next=a,xm(r,a)))}function Wu(r,o,a){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=a,Sm(o),o=o.next;while(o!==d)}r.action=null}function Sm(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function wm(r,o){return o}function Cm(r,o){if(Ve){var a=et.formState;if(a!==null){e:{var d=Re;if(Ve){if(st){t:{for(var y=st,b=_n;y.nodeType!==8;){if(!b){y=null;break t}if(y=bn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){st=bn(y.nextSibling),d=y.data==="F!";break e}}$i(d)}d=!1}d&&(o=a[0])}}return a=jt(),a.memoizedState=a.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:o},a.queue=d,a=jm.bind(null,Re,d),d.dispatch=a,d=Qu(!1),b=ic.bind(null,Re,!1,d.queue),d=jt(),y={state:o,dispatch:null,action:r,pending:null},d.queue=y,a=rS.bind(null,Re,y,b,a),y.dispatch=a,d.memoizedState=r,[o,a,!1]}function _m(r){var o=mt();return km(o,Je,r)}function km(r,o,a){if(o=Ku(r,o,wm)[0],r=ws(qn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Xo(o)}catch(w){throw w===Go?ys:w}else d=o;o=mt();var y=o.queue,b=y.dispatch;return a!==o.memoizedState&&(Re.flags|=2048,Ir(9,Cs(),oS.bind(null,y,a),null)),[d,b,r]}function oS(r,o){r.action=o}function Em(r){var o=mt(),a=Je;if(a!==null)return km(o,a,r);mt(),o=o.memoizedState,a=mt();var d=a.queue.dispatch;return a.memoizedState=r,[o,d,!1]}function Ir(r,o,a,d){return r={tag:r,create:a,deps:d,inst:o,next:null},o=Re.updateQueue,o===null&&(o=Yu(),Re.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,o.lastEffect=r),r}function Cs(){return{destroy:void 0,resource:void 0}}function Am(){return mt().memoizedState}function _s(r,o,a,d){var y=jt();d=d===void 0?null:d,Re.flags|=r,y.memoizedState=Ir(1|o,Cs(),a,d)}function Qo(r,o,a,d){var y=mt();d=d===void 0?null:d;var b=y.memoizedState.inst;Je!==null&&d!==null&&Vu(d,Je.memoizedState.deps)?y.memoizedState=Ir(o,b,a,d):(Re.flags|=r,y.memoizedState=Ir(1|o,b,a,d))}function Mm(r,o){_s(8390656,8,r,o)}function Nm(r,o){Qo(2048,8,r,o)}function Rm(r,o){return Qo(4,2,r,o)}function Dm(r,o){return Qo(4,4,r,o)}function Im(r,o){if(typeof o=="function"){r=r();var a=o(r);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Pm(r,o,a){a=a!=null?a.concat([r]):null,Qo(4,4,Im.bind(null,o,r),a)}function Zu(){}function Lm(r,o){var a=mt();o=o===void 0?null:o;var d=a.memoizedState;return o!==null&&Vu(o,d[1])?d[0]:(a.memoizedState=[r,o],r)}function Um(r,o){var a=mt();o=o===void 0?null:o;var d=a.memoizedState;if(o!==null&&Vu(o,d[1]))return d[0];if(d=r(),Xi){ve(!0);try{r()}finally{ve(!1)}}return a.memoizedState=[d,o],d}function ec(r,o,a){return a===void 0||(ui&1073741824)!==0?r.memoizedState=o:(r.memoizedState=a,r=zp(),Re.lanes|=r,gi|=r,a)}function Om(r,o,a,d){return Xt(a,o)?a:Nr.current!==null?(r=ec(r,a,d),Xt(r,o)||(Tt=!0),r):(ui&42)===0?(Tt=!0,r.memoizedState=a):(r=zp(),Re.lanes|=r,gi|=r,o)}function Bm(r,o,a,d,y){var b=ne.p;ne.p=b!==0&&8>b?b:8;var w=F.T,k={};F.T=k,ic(r,!1,o,a);try{var D=y(),V=F.S;if(V!==null&&V(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=tS(D,d);Wo(r,o,Y,tn(r))}else Wo(r,o,d,tn(r))}catch(te){Wo(r,o,{then:function(){},status:"rejected",reason:te},tn())}finally{ne.p=b,F.T=w}}function lS(){}function tc(r,o,a,d){if(r.tag!==5)throw Error(i(476));var y=zm(r).queue;Bm(r,y,o,ce,a===null?lS:function(){return qm(r),a(d)})}function zm(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:ce},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function qm(r){var o=zm(r).next.queue;Wo(r,o,{},tn())}function nc(){return Dt(gl)}function Fm(){return mt().memoizedState}function Vm(){return mt().memoizedState}function sS(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var a=tn();r=si(a);var d=ai(o,r,a);d!==null&&(nn(d,o,a),$o(d,o,a)),o={cache:Du()},r.payload=o;return}o=o.return}}function aS(r,o,a){var d=tn();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ks(r)?Gm(o,a):(a=Su(r,o,a,d),a!==null&&(nn(a,r,d),Hm(a,o,d)))}function jm(r,o,a){var d=tn();Wo(r,o,a,d)}function Wo(r,o,a,d){var y={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ks(r))Gm(o,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,k=b(w,a);if(y.hasEagerState=!0,y.eagerState=k,Xt(k,w))return us(r,o,y,0),et===null&&as(),!1}catch{}finally{}if(a=Su(r,o,y,d),a!==null)return nn(a,r,d),Hm(a,o,d),!0}return!1}function ic(r,o,a,d){if(d={lane:2,revertLane:Lc(),action:d,hasEagerState:!1,eagerState:null,next:null},ks(r)){if(o)throw Error(i(479))}else o=Su(r,a,d,2),o!==null&&nn(o,r,2)}function ks(r){var o=r.alternate;return r===Re||o!==null&&o===Re}function Gm(r,o){Rr=bs=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function Hm(r,o,a){if((a&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,Zd(r,a)}}var Es={readContext:Dt,use:Ss,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},$m={readContext:Dt,use:Ss,useCallback:function(r,o){return jt().memoizedState=[r,o===void 0?null:o],r},useContext:Dt,useEffect:Mm,useImperativeHandle:function(r,o,a){a=a!=null?a.concat([r]):null,_s(4194308,4,Im.bind(null,o,r),a)},useLayoutEffect:function(r,o){return _s(4194308,4,r,o)},useInsertionEffect:function(r,o){_s(4,2,r,o)},useMemo:function(r,o){var a=jt();o=o===void 0?null:o;var d=r();if(Xi){ve(!0);try{r()}finally{ve(!1)}}return a.memoizedState=[d,o],d},useReducer:function(r,o,a){var d=jt();if(a!==void 0){var y=a(o);if(Xi){ve(!0);try{a(o)}finally{ve(!1)}}}else y=o;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=aS.bind(null,Re,r),[d.memoizedState,r]},useRef:function(r){var o=jt();return r={current:r},o.memoizedState=r},useState:function(r){r=Qu(r);var o=r.queue,a=jm.bind(null,Re,o);return o.dispatch=a,[r.memoizedState,a]},useDebugValue:Zu,useDeferredValue:function(r,o){var a=jt();return ec(a,r,o)},useTransition:function(){var r=Qu(!1);return r=Bm.bind(null,Re,r.queue,!0,!1),jt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,a){var d=Re,y=jt();if(Ve){if(a===void 0)throw Error(i(407));a=a()}else{if(a=o(),et===null)throw Error(i(349));(Be&124)!==0||hm(d,o,a)}y.memoizedState=a;var b={value:a,getSnapshot:o};return y.queue=b,Mm(pm.bind(null,d,b,r),[r]),d.flags|=2048,Ir(9,Cs(),mm.bind(null,d,b,a,o),null),a},useId:function(){var r=jt(),o=et.identifierPrefix;if(Ve){var a=On,d=Un;a=(d&~(1<<32-Te(d)-1)).toString(32)+a,o=""+o+"R"+a,a=Ts++,0<a&&(o+="H"+a.toString(32)),o+=""}else a=nS++,o=""+o+"r"+a.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:nc,useFormState:Cm,useActionState:Cm,useOptimistic:function(r){var o=jt();o.memoizedState=o.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=ic.bind(null,Re,!0,a),a.dispatch=o,[r,o]},useMemoCache:Ju,useCacheRefresh:function(){return jt().memoizedState=sS.bind(null,Re)}},Ym={readContext:Dt,use:Ss,useCallback:Lm,useContext:Dt,useEffect:Nm,useImperativeHandle:Pm,useInsertionEffect:Rm,useLayoutEffect:Dm,useMemo:Um,useReducer:ws,useRef:Am,useState:function(){return ws(qn)},useDebugValue:Zu,useDeferredValue:function(r,o){var a=mt();return Om(a,Je.memoizedState,r,o)},useTransition:function(){var r=ws(qn)[0],o=mt().memoizedState;return[typeof r=="boolean"?r:Xo(r),o]},useSyncExternalStore:dm,useId:Fm,useHostTransitionStatus:nc,useFormState:_m,useActionState:_m,useOptimistic:function(r,o){var a=mt();return vm(a,Je,r,o)},useMemoCache:Ju,useCacheRefresh:Vm},uS={readContext:Dt,use:Ss,useCallback:Lm,useContext:Dt,useEffect:Nm,useImperativeHandle:Pm,useInsertionEffect:Rm,useLayoutEffect:Dm,useMemo:Um,useReducer:Xu,useRef:Am,useState:function(){return Xu(qn)},useDebugValue:Zu,useDeferredValue:function(r,o){var a=mt();return Je===null?ec(a,r,o):Om(a,Je.memoizedState,r,o)},useTransition:function(){var r=Xu(qn)[0],o=mt().memoizedState;return[typeof r=="boolean"?r:Xo(r),o]},useSyncExternalStore:dm,useId:Fm,useHostTransitionStatus:nc,useFormState:Em,useActionState:Em,useOptimistic:function(r,o){var a=mt();return Je!==null?vm(a,Je,r,o):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:Vm},Pr=null,Zo=0;function As(r){var o=Zo;return Zo+=1,Pr===null&&(Pr=[]),rm(Pr,r,o)}function el(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Ms(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Jm(r){var o=r._init;return o(r._payload)}function Km(r){function o(O,L){if(r){var q=O.deletions;q===null?(O.deletions=[L],O.flags|=16):q.push(L)}}function a(O,L){if(!r)return null;for(;L!==null;)o(O,L),L=L.sibling;return null}function d(O){for(var L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function y(O,L){return O=Ln(O,L),O.index=0,O.sibling=null,O}function b(O,L,q){return O.index=q,r?(q=O.alternate,q!==null?(q=q.index,q<L?(O.flags|=67108866,L):q):(O.flags|=67108866,L)):(O.flags|=1048576,L)}function w(O){return r&&O.alternate===null&&(O.flags|=67108866),O}function k(O,L,q,X){return L===null||L.tag!==6?(L=Cu(q,O.mode,X),L.return=O,L):(L=y(L,q),L.return=O,L)}function D(O,L,q,X){var he=q.type;return he===_?Y(O,L,q.props.children,X,q.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&Jm(he)===L.type)?(L=y(L,q.props),el(L,q),L.return=O,L):(L=fs(q.type,q.key,q.props,null,O.mode,X),el(L,q),L.return=O,L)}function V(O,L,q,X){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=_u(q,O.mode,X),L.return=O,L):(L=y(L,q.children||[]),L.return=O,L)}function Y(O,L,q,X,he){return L===null||L.tag!==7?(L=Vi(q,O.mode,X,he),L.return=O,L):(L=y(L,q),L.return=O,L)}function te(O,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Cu(""+L,O.mode,q),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return q=fs(L.type,L.key,L.props,null,O.mode,q),el(q,L),q.return=O,q;case S:return L=_u(L,O.mode,q),L.return=O,L;case ie:var X=L._init;return L=X(L._payload),te(O,L,q)}if(oe(L)||ee(L))return L=Vi(L,O.mode,q,null),L.return=O,L;if(typeof L.then=="function")return te(O,As(L),q);if(L.$$typeof===N)return te(O,ps(O,L),q);Ms(O,L)}return null}function j(O,L,q,X){var he=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:k(O,L,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===he?D(O,L,q,X):null;case S:return q.key===he?V(O,L,q,X):null;case ie:return he=q._init,q=he(q._payload),j(O,L,q,X)}if(oe(q)||ee(q))return he!==null?null:Y(O,L,q,X,null);if(typeof q.then=="function")return j(O,L,As(q),X);if(q.$$typeof===N)return j(O,L,ps(O,q),X);Ms(O,q)}return null}function G(O,L,q,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(q)||null,k(L,O,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return O=O.get(X.key===null?q:X.key)||null,D(L,O,X,he);case S:return O=O.get(X.key===null?q:X.key)||null,V(L,O,X,he);case ie:var De=X._init;return X=De(X._payload),G(O,L,q,X,he)}if(oe(X)||ee(X))return O=O.get(q)||null,Y(L,O,X,he,null);if(typeof X.then=="function")return G(O,L,q,As(X),he);if(X.$$typeof===N)return G(O,L,q,ps(L,X),he);Ms(L,X)}return null}function Ce(O,L,q,X){for(var he=null,De=null,ge=L,we=L=0,wt=null;ge!==null&&we<q.length;we++){ge.index>we?(wt=ge,ge=null):wt=ge.sibling;var Fe=j(O,ge,q[we],X);if(Fe===null){ge===null&&(ge=wt);break}r&&ge&&Fe.alternate===null&&o(O,ge),L=b(Fe,L,we),De===null?he=Fe:De.sibling=Fe,De=Fe,ge=wt}if(we===q.length)return a(O,ge),Ve&&Gi(O,we),he;if(ge===null){for(;we<q.length;we++)ge=te(O,q[we],X),ge!==null&&(L=b(ge,L,we),De===null?he=ge:De.sibling=ge,De=ge);return Ve&&Gi(O,we),he}for(ge=d(ge);we<q.length;we++)wt=G(ge,O,we,q[we],X),wt!==null&&(r&&wt.alternate!==null&&ge.delete(wt.key===null?we:wt.key),L=b(wt,L,we),De===null?he=wt:De.sibling=wt,De=wt);return r&&ge.forEach(function(_i){return o(O,_i)}),Ve&&Gi(O,we),he}function Se(O,L,q,X){if(q==null)throw Error(i(151));for(var he=null,De=null,ge=L,we=L=0,wt=null,Fe=q.next();ge!==null&&!Fe.done;we++,Fe=q.next()){ge.index>we?(wt=ge,ge=null):wt=ge.sibling;var _i=j(O,ge,Fe.value,X);if(_i===null){ge===null&&(ge=wt);break}r&&ge&&_i.alternate===null&&o(O,ge),L=b(_i,L,we),De===null?he=_i:De.sibling=_i,De=_i,ge=wt}if(Fe.done)return a(O,ge),Ve&&Gi(O,we),he;if(ge===null){for(;!Fe.done;we++,Fe=q.next())Fe=te(O,Fe.value,X),Fe!==null&&(L=b(Fe,L,we),De===null?he=Fe:De.sibling=Fe,De=Fe);return Ve&&Gi(O,we),he}for(ge=d(ge);!Fe.done;we++,Fe=q.next())Fe=G(ge,O,we,Fe.value,X),Fe!==null&&(r&&Fe.alternate!==null&&ge.delete(Fe.key===null?we:Fe.key),L=b(Fe,L,we),De===null?he=Fe:De.sibling=Fe,De=Fe);return r&&ge.forEach(function(cw){return o(O,cw)}),Ve&&Gi(O,we),he}function Xe(O,L,q,X){if(typeof q=="object"&&q!==null&&q.type===_&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var he=q.key;L!==null;){if(L.key===he){if(he=q.type,he===_){if(L.tag===7){a(O,L.sibling),X=y(L,q.props.children),X.return=O,O=X;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ie&&Jm(he)===L.type){a(O,L.sibling),X=y(L,q.props),el(X,q),X.return=O,O=X;break e}a(O,L);break}else o(O,L);L=L.sibling}q.type===_?(X=Vi(q.props.children,O.mode,X,q.key),X.return=O,O=X):(X=fs(q.type,q.key,q.props,null,O.mode,X),el(X,q),X.return=O,O=X)}return w(O);case S:e:{for(he=q.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(O,L.sibling),X=y(L,q.children||[]),X.return=O,O=X;break e}else{a(O,L);break}else o(O,L);L=L.sibling}X=_u(q,O.mode,X),X.return=O,O=X}return w(O);case ie:return he=q._init,q=he(q._payload),Xe(O,L,q,X)}if(oe(q))return Ce(O,L,q,X);if(ee(q)){if(he=ee(q),typeof he!="function")throw Error(i(150));return q=he.call(q),Se(O,L,q,X)}if(typeof q.then=="function")return Xe(O,L,As(q),X);if(q.$$typeof===N)return Xe(O,L,ps(O,q),X);Ms(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(O,L.sibling),X=y(L,q),X.return=O,O=X):(a(O,L),X=Cu(q,O.mode,X),X.return=O,O=X),w(O)):a(O,L)}return function(O,L,q,X){try{Zo=0;var he=Xe(O,L,q,X);return Pr=null,he}catch(ge){if(ge===Go||ge===ys)throw ge;var De=Qt(29,ge,null,O.mode);return De.lanes=X,De.return=O,De}finally{}}}var Lr=Km(!0),Xm=Km(!1),dn=$(null),kn=null;function ci(r){var o=r.alternate;A(xt,xt.current&1),A(dn,r),kn===null&&(o===null||Nr.current!==null||o.memoizedState!==null)&&(kn=r)}function Qm(r){if(r.tag===22){if(A(xt,xt.current),A(dn,r),kn===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(kn=r)}}else fi()}function fi(){A(xt,xt.current),A(dn,dn.current)}function Fn(r){J(dn),kn===r&&(kn=null),J(xt)}var xt=$(0);function Ns(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Yc(a)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function rc(r,o,a,d){o=r.memoizedState,a=a(d,o),a=a==null?o:g({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var oc={enqueueSetState:function(r,o,a){r=r._reactInternals;var d=tn(),y=si(d);y.payload=o,a!=null&&(y.callback=a),o=ai(r,y,d),o!==null&&(nn(o,r,d),$o(o,r,d))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var d=tn(),y=si(d);y.tag=1,y.payload=o,a!=null&&(y.callback=a),o=ai(r,y,d),o!==null&&(nn(o,r,d),$o(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=tn(),d=si(a);d.tag=2,o!=null&&(d.callback=o),o=ai(r,d,a),o!==null&&(nn(o,r,a),$o(o,r,a))}};function Wm(r,o,a,d,y,b,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,w):o.prototype&&o.prototype.isPureReactComponent?!Uo(a,d)||!Uo(y,b):!0}function Zm(r,o,a,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==r&&oc.enqueueReplaceState(o,o.state,null)}function Qi(r,o){var a=o;if("ref"in o){a={};for(var d in o)d!=="ref"&&(a[d]=o[d])}if(r=r.defaultProps){a===o&&(a=g({},a));for(var y in r)a[y]===void 0&&(a[y]=r[y])}return a}var Rs=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function ep(r){Rs(r)}function tp(r){console.error(r)}function np(r){Rs(r)}function Ds(r,o){try{var a=r.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function ip(r,o,a){try{var d=r.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function lc(r,o,a){return a=si(a),a.tag=3,a.payload={element:null},a.callback=function(){Ds(r,o)},a}function rp(r){return r=si(r),r.tag=3,r}function op(r,o,a,d){var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;r.payload=function(){return y(b)},r.callback=function(){ip(o,a,d)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){ip(o,a,d),typeof y!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function cS(r,o,a,d,y){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=a.alternate,o!==null&&Fo(o,a,y,!0),a=dn.current,a!==null){switch(a.tag){case 13:return kn===null?Nc():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=y,d===Lu?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([d]):o.add(d),Dc(r,d,y)),!1;case 22:return a.flags|=65536,d===Lu?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([d]):a.add(d)),Dc(r,d,y)),!1}throw Error(i(435,a.tag))}return Dc(r,d,y),Nc(),!1}if(Ve)return o=dn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Au&&(r=Error(i(422),{cause:d}),qo(an(r,a)))):(d!==Au&&(o=Error(i(423),{cause:d}),qo(an(o,a))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=an(d,a),y=lc(r.stateNode,d,y),Bu(r,y),at!==4&&(at=2)),!1;var b=Error(i(520),{cause:d});if(b=an(b,a),sl===null?sl=[b]:sl.push(b),at!==4&&(at=2),o===null)return!0;d=an(d,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,r=y&-y,a.lanes|=r,r=lc(a.stateNode,d,r),Bu(a,r),!1;case 1:if(o=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yi===null||!yi.has(b))))return a.flags|=65536,y&=-y,a.lanes|=y,y=rp(y),op(y,r,a,d),Bu(a,y),!1}a=a.return}while(a!==null);return!1}var lp=Error(i(461)),Tt=!1;function Et(r,o,a,d){o.child=r===null?Xm(o,null,a,d):Lr(o,r.child,a,d)}function sp(r,o,a,d,y){a=a.render;var b=o.ref;if("ref"in d){var w={};for(var k in d)k!=="ref"&&(w[k]=d[k])}else w=d;return Ji(o),d=ju(r,o,a,w,b,y),k=Gu(),r!==null&&!Tt?(Hu(r,o,y),Vn(r,o,y)):(Ve&&k&&ku(o),o.flags|=1,Et(r,o,d,y),o.child)}function ap(r,o,a,d,y){if(r===null){var b=a.type;return typeof b=="function"&&!wu(b)&&b.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=b,up(r,o,b,d,y)):(r=fs(a.type,null,d,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!mc(r,y)){var w=b.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(w,d)&&r.ref===o.ref)return Vn(r,o,y)}return o.flags|=1,r=Ln(b,d),r.ref=o.ref,r.return=o,o.child=r}function up(r,o,a,d,y){if(r!==null){var b=r.memoizedProps;if(Uo(b,d)&&r.ref===o.ref)if(Tt=!1,o.pendingProps=d=b,mc(r,y))(r.flags&131072)!==0&&(Tt=!0);else return o.lanes=r.lanes,Vn(r,o,y)}return sc(r,o,a,d,y)}function cp(r,o,a){var d=o.pendingProps,y=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|a:a,r!==null){for(y=o.child=r.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return fp(r,o,d,a)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&gs(o,b!==null?b.cachePool:null),b!==null?um(o,b):qu(),Qm(o);else return o.lanes=o.childLanes=536870912,fp(r,o,b!==null?b.baseLanes|a:a,a)}else b!==null?(gs(o,b.cachePool),um(o,b),fi(),o.memoizedState=null):(r!==null&&gs(o,null),qu(),fi());return Et(r,o,y,a),o.child}function fp(r,o,a,d){var y=Pu();return y=y===null?null:{parent:vt._currentValue,pool:y},o.memoizedState={baseLanes:a,cachePool:y},r!==null&&gs(o,null),qu(),Qm(o),r!==null&&Fo(r,o,d,!0),null}function Is(r,o){var a=o.ref;if(a===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(o.flags|=4194816)}}function sc(r,o,a,d,y){return Ji(o),a=ju(r,o,a,d,void 0,y),d=Gu(),r!==null&&!Tt?(Hu(r,o,y),Vn(r,o,y)):(Ve&&d&&ku(o),o.flags|=1,Et(r,o,a,y),o.child)}function dp(r,o,a,d,y,b){return Ji(o),o.updateQueue=null,a=fm(o,d,a,y),cm(r),d=Gu(),r!==null&&!Tt?(Hu(r,o,b),Vn(r,o,b)):(Ve&&d&&ku(o),o.flags|=1,Et(r,o,a,b),o.child)}function hp(r,o,a,d,y){if(Ji(o),o.stateNode===null){var b=_r,w=a.contextType;typeof w=="object"&&w!==null&&(b=Dt(w)),b=new a(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=oc,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Uu(o),w=a.contextType,b.context=typeof w=="object"&&w!==null?Dt(w):_r,b.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(rc(o,a,w,d),b.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&oc.enqueueReplaceState(b,b.state,null),Jo(o,d,b,y),Yo(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){b=o.stateNode;var k=o.memoizedProps,D=Qi(a,k);b.props=D;var V=b.context,Y=a.contextType;w=_r,typeof Y=="object"&&Y!==null&&(w=Dt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||V!==w)&&Zm(o,b,d,w),li=!1;var j=o.memoizedState;b.state=j,Jo(o,d,b,y),Yo(),V=o.memoizedState,k||j!==V||li?(typeof te=="function"&&(rc(o,a,te,d),V=o.memoizedState),(D=li||Wm(o,a,D,d,j,V,w))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),b.props=d,b.state=V,b.context=w,d=D):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Ou(r,o),w=o.memoizedProps,Y=Qi(a,w),b.props=Y,te=o.pendingProps,j=b.context,V=a.contextType,D=_r,typeof V=="object"&&V!==null&&(D=Dt(V)),k=a.getDerivedStateFromProps,(V=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==te||j!==D)&&Zm(o,b,d,D),li=!1,j=o.memoizedState,b.state=j,Jo(o,d,b,y),Yo();var G=o.memoizedState;w!==te||j!==G||li||r!==null&&r.dependencies!==null&&ms(r.dependencies)?(typeof k=="function"&&(rc(o,a,k,d),G=o.memoizedState),(Y=li||Wm(o,a,Y,d,j,G,D)||r!==null&&r.dependencies!==null&&ms(r.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,G,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,G,D)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&j===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&j===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=G),b.props=d,b.state=G,b.context=D,d=Y):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&j===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&j===r.memoizedState||(o.flags|=1024),d=!1)}return b=d,Is(r,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&d?(o.child=Lr(o,r.child,null,y),o.child=Lr(o,null,a,y)):Et(r,o,a,y),o.memoizedState=b.state,r=o.child):r=Vn(r,o,y),r}function mp(r,o,a,d){return zo(),o.flags|=256,Et(r,o,a,d),o.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(r){return{baseLanes:r,cachePool:tm()}}function cc(r,o,a){return r=r!==null?r.childLanes&~a:0,o&&(r|=hn),r}function pp(r,o,a){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),w&&(y=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ve){if(y?ci(o):fi(),Ve){var k=st,D;if(D=k){e:{for(D=k,k=_n;D.nodeType!==8;){if(!k){k=null;break e}if(D=bn(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(o.memoizedState={dehydrated:k,treeContext:ji!==null?{id:Un,overflow:On}:null,retryLane:536870912,hydrationErrors:null},D=Qt(18,null,null,0),D.stateNode=k,D.return=o,o.child=D,zt=o,st=null,D=!0):D=!1}D||$i(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Yc(k)?o.lanes=32:o.lanes=536870912,null;Fn(o)}return k=d.children,d=d.fallback,y?(fi(),y=o.mode,k=Ps({mode:"hidden",children:k},y),d=Vi(d,y,a,null),k.return=o,d.return=o,k.sibling=d,o.child=k,y=o.child,y.memoizedState=uc(a),y.childLanes=cc(r,w,a),o.memoizedState=ac,d):(ci(o),fc(o,k))}if(D=r.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(b)o.flags&256?(ci(o),o.flags&=-257,o=dc(r,o,a)):o.memoizedState!==null?(fi(),o.child=r.child,o.flags|=128,o=null):(fi(),y=d.fallback,k=o.mode,d=Ps({mode:"visible",children:d.children},k),y=Vi(y,k,a,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,Lr(o,r.child,null,a),d=o.child,d.memoizedState=uc(a),d.childLanes=cc(r,w,a),o.memoizedState=ac,o=y);else if(ci(o),Yc(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var V=w.dgst;w=V,d=Error(i(419)),d.stack="",d.digest=w,qo({value:d,source:null,stack:null}),o=dc(r,o,a)}else if(Tt||Fo(r,o,a,!1),w=(a&r.childLanes)!==0,Tt||w){if(w=et,w!==null&&(d=a&-a,d=(d&42)!==0?1:Ja(d),d=(d&(w.suspendedLanes|a))!==0?0:d,d!==0&&d!==D.retryLane))throw D.retryLane=d,Cr(r,d),nn(w,r,d),lp;k.data==="$?"||Nc(),o=dc(r,o,a)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=D.treeContext,st=bn(k.nextSibling),zt=o,Ve=!0,Hi=null,_n=!1,r!==null&&(cn[fn++]=Un,cn[fn++]=On,cn[fn++]=ji,Un=r.id,On=r.overflow,ji=o),o=fc(o,d.children),o.flags|=4096);return o}return y?(fi(),y=d.fallback,k=o.mode,D=r.child,V=D.sibling,d=Ln(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,V!==null?y=Ln(V,y):(y=Vi(y,k,a,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,k=r.child.memoizedState,k===null?k=uc(a):(D=k.cachePool,D!==null?(V=vt._currentValue,D=D.parent!==V?{parent:V,pool:V}:D):D=tm(),k={baseLanes:k.baseLanes|a,cachePool:D}),y.memoizedState=k,y.childLanes=cc(r,w,a),o.memoizedState=ac,d):(ci(o),a=r.child,r=a.sibling,a=Ln(a,{mode:"visible",children:d.children}),a.return=o,a.sibling=null,r!==null&&(w=o.deletions,w===null?(o.deletions=[r],o.flags|=16):w.push(r)),o.child=a,o.memoizedState=null,a)}function fc(r,o){return o=Ps({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Ps(r,o){return r=Qt(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function dc(r,o,a){return Lr(o,r.child,null,a),r=fc(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function gp(r,o,a){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Nu(r.return,o,a)}function hc(r,o,a,d,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=a,b.tailMode=y)}function yp(r,o,a){var d=o.pendingProps,y=d.revealOrder,b=d.tail;if(Et(r,o,d.children,a),d=xt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&gp(r,a,o);else if(r.tag===19)gp(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(A(xt,d),y){case"forwards":for(a=o.child,y=null;a!==null;)r=a.alternate,r!==null&&Ns(r)===null&&(y=a),a=a.sibling;a=y,a===null?(y=o.child,o.child=null):(y=a.sibling,a.sibling=null),hc(o,!1,y,a,b);break;case"backwards":for(a=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Ns(r)===null){o.child=y;break}r=y.sibling,y.sibling=a,a=y,y=r}hc(o,!0,a,null,b);break;case"together":hc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Vn(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),gi|=o.lanes,(a&o.childLanes)===0)if(r!==null){if(Fo(r,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,a=Ln(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=Ln(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function mc(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ms(r)))}function fS(r,o,a){switch(o.tag){case 3:_e(o,o.stateNode.containerInfo),oi(o,vt,r.memoizedState.cache),zo();break;case 27:case 5:Qe(o);break;case 4:_e(o,o.stateNode.containerInfo);break;case 10:oi(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(ci(o),o.flags|=128,null):(a&o.child.childLanes)!==0?pp(r,o,a):(ci(o),r=Vn(r,o,a),r!==null?r.sibling:null);ci(o);break;case 19:var y=(r.flags&128)!==0;if(d=(a&o.childLanes)!==0,d||(Fo(r,o,a,!1),d=(a&o.childLanes)!==0),y){if(d)return yp(r,o,a);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),A(xt,xt.current),d)break;return null;case 22:case 23:return o.lanes=0,cp(r,o,a);case 24:oi(o,vt,r.memoizedState.cache)}return Vn(r,o,a)}function vp(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps)Tt=!0;else{if(!mc(r,a)&&(o.flags&128)===0)return Tt=!1,fS(r,o,a);Tt=(r.flags&131072)!==0}else Tt=!1,Ve&&(o.flags&1048576)!==0&&Jh(o,hs,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")wu(d)?(r=Qi(d,r),o.tag=1,o=hp(null,o,d,r,a)):(o.tag=0,o=sc(null,o,d,r,a));else{if(d!=null){if(y=d.$$typeof,y===B){o.tag=11,o=sp(null,o,d,r,a);break e}else if(y===K){o.tag=14,o=ap(null,o,d,r,a);break e}}throw o=le(d)||d,Error(i(306,o,""))}}return o;case 0:return sc(r,o,o.type,o.pendingProps,a);case 1:return d=o.type,y=Qi(d,o.pendingProps),hp(r,o,d,y,a);case 3:e:{if(_e(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;y=b.element,Ou(r,o),Jo(o,d,null,a);var w=o.memoizedState;if(d=w.cache,oi(o,vt,d),d!==b.cache&&Ru(o,[vt],a,!0),Yo(),d=w.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=mp(r,o,d,a);break e}else if(d!==y){y=an(Error(i(424)),o),qo(y),o=mp(r,o,d,a);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(st=bn(r.firstChild),zt=o,Ve=!0,Hi=null,_n=!0,a=Xm(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),d===y){o=Vn(r,o,a);break e}Et(r,o,d,a)}o=o.child}return o;case 26:return Is(r,o),r===null?(a=Sg(o.type,null,o.pendingProps,null))?o.memoizedState=a:Ve||(a=o.type,r=o.pendingProps,d=Js(de.current).createElement(a),d[Rt]=o,d[Ft]=r,Mt(d,a,r),bt(d),o.stateNode=d):o.memoizedState=Sg(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Qe(o),r===null&&Ve&&(d=o.stateNode=xg(o.type,o.pendingProps,de.current),zt=o,_n=!0,y=st,bi(o.type)?(Jc=y,st=bn(d.firstChild)):st=y),Et(r,o,o.pendingProps.children,a),Is(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ve&&((y=d=st)&&(d=zS(d,o.type,o.pendingProps,_n),d!==null?(o.stateNode=d,zt=o,st=bn(d.firstChild),_n=!1,y=!0):y=!1),y||$i(o)),Qe(o),y=o.type,b=o.pendingProps,w=r!==null?r.memoizedProps:null,d=b.children,Gc(y,b)?d=null:w!==null&&Gc(y,w)&&(o.flags|=32),o.memoizedState!==null&&(y=ju(r,o,iS,null,null,a),gl._currentValue=y),Is(r,o),Et(r,o,d,a),o.child;case 6:return r===null&&Ve&&((r=a=st)&&(a=qS(a,o.pendingProps,_n),a!==null?(o.stateNode=a,zt=o,st=null,r=!0):r=!1),r||$i(o)),null;case 13:return pp(r,o,a);case 4:return _e(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Lr(o,null,d,a):Et(r,o,d,a),o.child;case 11:return sp(r,o,o.type,o.pendingProps,a);case 7:return Et(r,o,o.pendingProps,a),o.child;case 8:return Et(r,o,o.pendingProps.children,a),o.child;case 12:return Et(r,o,o.pendingProps.children,a),o.child;case 10:return d=o.pendingProps,oi(o,o.type,d.value),Et(r,o,d.children,a),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Ji(o),y=Dt(y),d=d(y),o.flags|=1,Et(r,o,d,a),o.child;case 14:return ap(r,o,o.type,o.pendingProps,a);case 15:return up(r,o,o.type,o.pendingProps,a);case 19:return yp(r,o,a);case 31:return d=o.pendingProps,a=o.mode,d={mode:d.mode,children:d.children},r===null?(a=Ps(d,a),a.ref=o.ref,o.child=a,a.return=o,o=a):(a=Ln(r.child,d),a.ref=o.ref,o.child=a,a.return=o,o=a),o;case 22:return cp(r,o,a);case 24:return Ji(o),d=Dt(vt),r===null?(y=Pu(),y===null&&(y=et,b=Du(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=a),y=b),o.memoizedState={parent:d,cache:y},Uu(o),oi(o,vt,y)):((r.lanes&a)!==0&&(Ou(r,o),Jo(o,null,null,a),Yo()),y=r.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),oi(o,vt,d)):(d=b.cache,oi(o,vt,d),d!==y.cache&&Ru(o,[vt],a,!0))),Et(r,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function jn(r){r.flags|=4}function xp(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Eg(o)){if(o=dn.current,o!==null&&((Be&4194048)===Be?kn!==null:(Be&62914560)!==Be&&(Be&536870912)===0||o!==kn))throw Ho=Lu,nm;r.flags|=8192}}function Ls(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Xl():536870912,r.lanes|=o,zr|=o)}function tl(r,o){if(!Ve)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function lt(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(o)for(var y=r.child;y!==null;)a|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)a|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=a,o}function dS(r,o,a){var d=o.pendingProps;switch(Eu(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(o),null;case 1:return lt(o),null;case 3:return a=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),zn(vt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Bo(o)?jn(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Qh())),lt(o),null;case 26:return a=o.memoizedState,r===null?(jn(o),a!==null?(lt(o),xp(o,a)):(lt(o),o.flags&=-16777217)):a?a!==r.memoizedState?(jn(o),lt(o),xp(o,a)):(lt(o),o.flags&=-16777217):(r.memoizedProps!==d&&jn(o),lt(o),o.flags&=-16777217),null;case 27:Nt(o),a=de.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&jn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return lt(o),null}r=fe.current,Bo(o)?Kh(o):(r=xg(y,d,a),o.stateNode=r,jn(o))}return lt(o),null;case 5:if(Nt(o),a=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&jn(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return lt(o),null}if(r=fe.current,Bo(o))Kh(o);else{switch(y=Js(de.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?y.createElement(a,{is:d.is}):y.createElement(a)}}r[Rt]=o,r[Ft]=d;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(Mt(r,a,d),a){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&jn(o)}}return lt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&jn(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=de.current,Bo(o)){if(r=o.stateNode,a=o.memoizedProps,d=null,y=zt,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[Rt]=o,r=!!(r.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||dg(r.nodeValue,a)),r||$i(o)}else r=Js(r).createTextNode(d),r[Rt]=o,o.stateNode=r}return lt(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Bo(o),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Rt]=o}else zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;lt(o),y=!1}else y=Qh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Fn(o),o):(Fn(o),null)}if(Fn(o),(o.flags&128)!==0)return o.lanes=a,o;if(a=d!==null,r=r!==null&&r.memoizedState!==null,a){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return a!==r&&a&&(o.child.flags|=8192),Ls(o,o.updateQueue),lt(o),null;case 4:return ot(),r===null&&zc(o.stateNode.containerInfo),lt(o),null;case 10:return zn(o.type),lt(o),null;case 19:if(J(xt),y=o.memoizedState,y===null)return lt(o),null;if(d=(o.flags&128)!==0,b=y.rendering,b===null)if(d)tl(y,!1);else{if(at!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Ns(r),b!==null){for(o.flags|=128,tl(y,!1),r=b.updateQueue,o.updateQueue=r,Ls(o,r),o.subtreeFlags=0,r=a,a=o.child;a!==null;)Yh(a,r),a=a.sibling;return A(xt,xt.current&1|2),o.child}r=r.sibling}y.tail!==null&&dt()>Bs&&(o.flags|=128,d=!0,tl(y,!1),o.lanes=4194304)}else{if(!d)if(r=Ns(b),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Ls(o,r),tl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ve)return lt(o),null}else 2*dt()-y.renderingStartTime>Bs&&a!==536870912&&(o.flags|=128,d=!0,tl(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(r=y.last,r!==null?r.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=dt(),o.sibling=null,r=xt.current,A(xt,d?r&1|2:r&1),o):(lt(o),null);case 22:case 23:return Fn(o),Fu(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(a&536870912)!==0&&(o.flags&128)===0&&(lt(o),o.subtreeFlags&6&&(o.flags|=8192)):lt(o),a=o.updateQueue,a!==null&&Ls(o,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==a&&(o.flags|=2048),r!==null&&J(Ki),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),zn(vt),lt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function hS(r,o){switch(Eu(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return zn(vt),ot(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Nt(o),null;case 13:if(Fn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));zo()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return J(xt),null;case 4:return ot(),null;case 10:return zn(o.type),null;case 22:case 23:return Fn(o),Fu(),r!==null&&J(Ki),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return zn(vt),null;case 25:return null;default:return null}}function bp(r,o){switch(Eu(o),o.tag){case 3:zn(vt),ot();break;case 26:case 27:case 5:Nt(o);break;case 4:ot();break;case 13:Fn(o);break;case 19:J(xt);break;case 10:zn(o.type);break;case 22:case 23:Fn(o),Fu(),r!==null&&J(Ki);break;case 24:zn(vt)}}function nl(r,o){try{var a=o.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var y=d.next;a=y;do{if((a.tag&r)===r){d=void 0;var b=a.create,w=a.inst;d=b(),w.destroy=d}a=a.next}while(a!==y)}}catch(k){We(o,o.return,k)}}function di(r,o,a){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&r)===r){var w=d.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,y=o;var D=a,V=k;try{V()}catch(Y){We(y,D,Y)}}}d=d.next}while(d!==b)}}catch(Y){We(o,o.return,Y)}}function Tp(r){var o=r.updateQueue;if(o!==null){var a=r.stateNode;try{am(o,a)}catch(d){We(r,r.return,d)}}}function Sp(r,o,a){a.props=Qi(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(d){We(r,o,d)}}function il(r,o){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof a=="function"?r.refCleanup=a(d):a.current=d}}catch(y){We(r,o,y)}}function En(r,o){var a=r.ref,d=r.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(y){We(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(y){We(r,o,y)}else a.current=null}function wp(r){var o=r.type,a=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(y){We(r,r.return,y)}}function pc(r,o,a){try{var d=r.stateNode;PS(d,r.type,a,o),d[Ft]=o}catch(y){We(r,r.return,y)}}function Cp(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bi(r.type)||r.tag===4}function gc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cp(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yc(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(r),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Ys));else if(d!==4&&(d===27&&bi(r.type)&&(a=r.stateNode,o=null),r=r.child,r!==null))for(yc(r,o,a),r=r.sibling;r!==null;)yc(r,o,a),r=r.sibling}function Us(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(d!==4&&(d===27&&bi(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Us(r,o,a),r=r.sibling;r!==null;)Us(r,o,a),r=r.sibling}function _p(r){var o=r.stateNode,a=r.memoizedProps;try{for(var d=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Mt(o,d,a),o[Rt]=r,o[Ft]=a}catch(b){We(r,r.return,b)}}var Gn=!1,ct=!1,vc=!1,kp=typeof WeakSet=="function"?WeakSet:Set,St=null;function mS(r,o){if(r=r.containerInfo,Vc=ea,r=Oh(r),gu(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var w=0,k=-1,D=-1,V=0,Y=0,te=r,j=null;t:for(;;){for(var G;te!==a||y!==0&&te.nodeType!==3||(k=w+y),te!==b||d!==0&&te.nodeType!==3||(D=w+d),te.nodeType===3&&(w+=te.nodeValue.length),(G=te.firstChild)!==null;)j=te,te=G;for(;;){if(te===r)break t;if(j===a&&++V===y&&(k=w),j===b&&++Y===d&&(D=w),(G=te.nextSibling)!==null)break;te=j,j=te.parentNode}te=G}a=k===-1||D===-1?null:{start:k,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(jc={focusedElem:r,selectionRange:a},ea=!1,St=o;St!==null;)if(o=St,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,St=r;else for(;St!==null;){switch(o=St,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,a=o,y=b.memoizedProps,b=b.memoizedState,d=a.stateNode;try{var Ce=Qi(a.type,y,a.elementType===a.type);r=d.getSnapshotBeforeUpdate(Ce,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Se){We(a,a.return,Se)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,a=r.nodeType,a===9)$c(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$c(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,St=r;break}St=o.return}}function Ep(r,o,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:hi(r,a),d&4&&nl(5,a);break;case 1:if(hi(r,a),d&4)if(r=a.stateNode,o===null)try{r.componentDidMount()}catch(w){We(a,a.return,w)}else{var y=Qi(a.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(w){We(a,a.return,w)}}d&64&&Tp(a),d&512&&il(a,a.return);break;case 3:if(hi(r,a),d&64&&(r=a.updateQueue,r!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{am(r,o)}catch(w){We(a,a.return,w)}}break;case 27:o===null&&d&4&&_p(a);case 26:case 5:hi(r,a),o===null&&d&4&&wp(a),d&512&&il(a,a.return);break;case 12:hi(r,a);break;case 13:hi(r,a),d&4&&Np(r,a),d&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=wS.bind(null,a),FS(r,a))));break;case 22:if(d=a.memoizedState!==null||Gn,!d){o=o!==null&&o.memoizedState!==null||ct,y=Gn;var b=ct;Gn=d,(ct=o)&&!b?mi(r,a,(a.subtreeFlags&8772)!==0):hi(r,a),Gn=y,ct=b}break;case 30:break;default:hi(r,a)}}function Ap(r){var o=r.alternate;o!==null&&(r.alternate=null,Ap(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Qa(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rt=null,Gt=!1;function Hn(r,o,a){for(a=a.child;a!==null;)Mp(r,o,a),a=a.sibling}function Mp(r,o,a){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(H,a)}catch{}switch(a.tag){case 26:ct||En(a,o),Hn(r,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||En(a,o);var d=rt,y=Gt;bi(a.type)&&(rt=a.stateNode,Gt=!1),Hn(r,o,a),dl(a.stateNode),rt=d,Gt=y;break;case 5:ct||En(a,o);case 6:if(d=rt,y=Gt,rt=null,Hn(r,o,a),rt=d,Gt=y,rt!==null)if(Gt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(b){We(a,o,b)}else try{rt.removeChild(a.stateNode)}catch(b){We(a,o,b)}break;case 18:rt!==null&&(Gt?(r=rt,yg(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),bl(r)):yg(rt,a.stateNode));break;case 4:d=rt,y=Gt,rt=a.stateNode.containerInfo,Gt=!0,Hn(r,o,a),rt=d,Gt=y;break;case 0:case 11:case 14:case 15:ct||di(2,a,o),ct||di(4,a,o),Hn(r,o,a);break;case 1:ct||(En(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"&&Sp(a,o,d)),Hn(r,o,a);break;case 21:Hn(r,o,a);break;case 22:ct=(d=ct)||a.memoizedState!==null,Hn(r,o,a),ct=d;break;default:Hn(r,o,a)}}function Np(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bl(r)}catch(a){We(o,o.return,a)}}function pS(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new kp),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new kp),o;default:throw Error(i(435,r.tag))}}function xc(r,o){var a=pS(r);o.forEach(function(d){var y=CS.bind(null,r,d);a.has(d)||(a.add(d),d.then(y,y))})}function Wt(r,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var y=a[d],b=r,w=o,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(bi(k.type)){rt=k.stateNode,Gt=!1;break e}break;case 5:rt=k.stateNode,Gt=!1;break e;case 3:case 4:rt=k.stateNode.containerInfo,Gt=!0;break e}k=k.return}if(rt===null)throw Error(i(160));Mp(b,w,y),rt=null,Gt=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Rp(o,r),o=o.sibling}var xn=null;function Rp(r,o){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wt(o,r),Zt(r),d&4&&(di(3,r,r.return),nl(3,r),di(5,r,r.return));break;case 1:Wt(o,r),Zt(r),d&512&&(ct||a===null||En(a,a.return)),d&64&&Gn&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var y=xn;if(Wt(o,r),Zt(r),d&512&&(ct||a===null||En(a,a.return)),d&4){var b=a!==null?a.memoizedState:null;if(d=r.memoizedState,a===null)if(d===null)if(r.stateNode===null){e:{d=r.type,a=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Eo]||b[Rt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),Mt(b,d,a),b[Rt]=r,bt(b),d=b;break e;case"link":var w=_g("link","href",y).get(d+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(b=w[k],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break t}}b=y.createElement(d),Mt(b,d,a),y.head.appendChild(b);break;case"meta":if(w=_g("meta","content",y).get(d+(a.content||""))){for(k=0;k<w.length;k++)if(b=w[k],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break t}}b=y.createElement(d),Mt(b,d,a),y.head.appendChild(b);break;default:throw Error(i(468,d))}b[Rt]=r,bt(b),d=b}r.stateNode=d}else kg(y,r.type,r.stateNode);else r.stateNode=Cg(y,d,r.memoizedProps);else b!==d?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,d===null?kg(y,r.type,r.stateNode):Cg(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&pc(r,r.memoizedProps,a.memoizedProps)}break;case 27:Wt(o,r),Zt(r),d&512&&(ct||a===null||En(a,a.return)),a!==null&&d&4&&pc(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Wt(o,r),Zt(r),d&512&&(ct||a===null||En(a,a.return)),r.flags&32){y=r.stateNode;try{yr(y,"")}catch(G){We(r,r.return,G)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,pc(r,y,a!==null?a.memoizedProps:y)),d&1024&&(vc=!0);break;case 6:if(Wt(o,r),Zt(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,a=r.stateNode;try{a.nodeValue=d}catch(G){We(r,r.return,G)}}break;case 3:if(Qs=null,y=xn,xn=Ks(o.containerInfo),Wt(o,r),xn=y,Zt(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(o.containerInfo)}catch(G){We(r,r.return,G)}vc&&(vc=!1,Dp(r));break;case 4:d=xn,xn=Ks(r.stateNode.containerInfo),Wt(o,r),Zt(r),xn=d;break;case 12:Wt(o,r),Zt(r);break;case 13:Wt(o,r),Zt(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=dt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,xc(r,d)));break;case 22:y=r.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,V=Gn,Y=ct;if(Gn=V||y,ct=Y||D,Wt(o,r),ct=Y,Gn=V,Zt(r),d&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(a===null||D||Gn||ct||Wi(r)),a=null,o=r;;){if(o.tag===5||o.tag===26){if(a===null){D=a=o;try{if(b=D.stateNode,y)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=D.stateNode;var te=D.memoizedProps.style,j=te!=null&&te.hasOwnProperty("display")?te.display:null;k.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(G){We(D,D.return,G)}}}else if(o.tag===6){if(a===null){D=o;try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(G){We(D,D.return,G)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,xc(r,a))));break;case 19:Wt(o,r),Zt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,xc(r,d)));break;case 30:break;case 21:break;default:Wt(o,r),Zt(r)}}function Zt(r){var o=r.flags;if(o&2){try{for(var a,d=r.return;d!==null;){if(Cp(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var y=a.stateNode,b=gc(r);Us(r,b,y);break;case 5:var w=a.stateNode;a.flags&32&&(yr(w,""),a.flags&=-33);var k=gc(r);Us(r,k,w);break;case 3:case 4:var D=a.stateNode.containerInfo,V=gc(r);yc(r,V,D);break;default:throw Error(i(161))}}catch(Y){We(r,r.return,Y)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Dp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Dp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function hi(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ep(r,o.alternate,o),o=o.sibling}function Wi(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:di(4,o,o.return),Wi(o);break;case 1:En(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Sp(o,o.return,a),Wi(o);break;case 27:dl(o.stateNode);case 26:case 5:En(o,o.return),Wi(o);break;case 22:o.memoizedState===null&&Wi(o);break;case 30:Wi(o);break;default:Wi(o)}r=r.sibling}}function mi(r,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=r,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:mi(y,b,a),nl(4,b);break;case 1:if(mi(y,b,a),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(V){We(d,d.return,V)}if(d=b,y=d.updateQueue,y!==null){var k=d.stateNode;try{var D=y.shared.hiddenCallbacks;if(D!==null)for(y.shared.hiddenCallbacks=null,y=0;y<D.length;y++)sm(D[y],k)}catch(V){We(d,d.return,V)}}a&&w&64&&Tp(b),il(b,b.return);break;case 27:_p(b);case 26:case 5:mi(y,b,a),a&&d===null&&w&4&&wp(b),il(b,b.return);break;case 12:mi(y,b,a);break;case 13:mi(y,b,a),a&&w&4&&Np(y,b);break;case 22:b.memoizedState===null&&mi(y,b,a),il(b,b.return);break;case 30:break;default:mi(y,b,a)}o=o.sibling}}function bc(r,o){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Vo(a))}function Tc(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Vo(r))}function An(r,o,a,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ip(r,o,a,d),o=o.sibling}function Ip(r,o,a,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:An(r,o,a,d),y&2048&&nl(9,o);break;case 1:An(r,o,a,d);break;case 3:An(r,o,a,d),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Vo(r)));break;case 12:if(y&2048){An(r,o,a,d),r=o.stateNode;try{var b=o.memoizedProps,w=b.id,k=b.onPostCommit;typeof k=="function"&&k(w,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){We(o,o.return,D)}}else An(r,o,a,d);break;case 13:An(r,o,a,d);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?An(r,o,a,d):rl(r,o):b._visibility&2?An(r,o,a,d):(b._visibility|=2,Ur(r,o,a,d,(o.subtreeFlags&10256)!==0)),y&2048&&bc(w,o);break;case 24:An(r,o,a,d),y&2048&&Tc(o.alternate,o);break;default:An(r,o,a,d)}}function Ur(r,o,a,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,w=o,k=a,D=d,V=w.flags;switch(w.tag){case 0:case 11:case 15:Ur(b,w,k,D,y),nl(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?Ur(b,w,k,D,y):rl(b,w):(Y._visibility|=2,Ur(b,w,k,D,y)),y&&V&2048&&bc(w.alternate,w);break;case 24:Ur(b,w,k,D,y),y&&V&2048&&Tc(w.alternate,w);break;default:Ur(b,w,k,D,y)}o=o.sibling}}function rl(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=r,d=o,y=d.flags;switch(d.tag){case 22:rl(a,d),y&2048&&bc(d.alternate,d);break;case 24:rl(a,d),y&2048&&Tc(d.alternate,d);break;default:rl(a,d)}o=o.sibling}}var ol=8192;function Or(r){if(r.subtreeFlags&ol)for(r=r.child;r!==null;)Pp(r),r=r.sibling}function Pp(r){switch(r.tag){case 26:Or(r),r.flags&ol&&r.memoizedState!==null&&ew(xn,r.memoizedState,r.memoizedProps);break;case 5:Or(r);break;case 3:case 4:var o=xn;xn=Ks(r.stateNode.containerInfo),Or(r),xn=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Or(r),ol=o):Or(r));break;default:Or(r)}}function Lp(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ll(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];St=d,Op(d,r)}Lp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Up(r),r=r.sibling}function Up(r){switch(r.tag){case 0:case 11:case 15:ll(r),r.flags&2048&&di(9,r,r.return);break;case 3:ll(r);break;case 12:ll(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Os(r)):ll(r);break;default:ll(r)}}function Os(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var d=o[a];St=d,Op(d,r)}Lp(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:di(8,o,o.return),Os(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Os(o));break;default:Os(o)}r=r.sibling}}function Op(r,o){for(;St!==null;){var a=St;switch(a.tag){case 0:case 11:case 15:di(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,St=d;else e:for(a=r;St!==null;){d=St;var y=d.sibling,b=d.return;if(Ap(d),d===a){St=null;break e}if(y!==null){y.return=b,St=y;break e}St=b}}}var gS={getCacheForType:function(r){var o=Dt(vt),a=o.data.get(r);return a===void 0&&(a=r(),o.data.set(r,a)),a}},yS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ie=null,Be=0,He=0,en=null,pi=!1,Br=!1,Sc=!1,$n=0,at=0,gi=0,Zi=0,wc=0,hn=0,zr=0,sl=null,Ht=null,Cc=!1,_c=0,Bs=1/0,zs=null,yi=null,At=0,vi=null,qr=null,Fr=0,kc=0,Ec=null,Bp=null,al=0,Ac=null;function tn(){if((Ge&2)!==0&&Be!==0)return Be&-Be;if(F.T!==null){var r=Ar;return r!==0?r:Lc()}return eh()}function zp(){hn===0&&(hn=(Be&536870912)===0||Ve?_o():536870912);var r=dn.current;return r!==null&&(r.flags|=32),hn}function nn(r,o,a){(r===et&&(He===2||He===9)||r.cancelPendingCommit!==null)&&(Vr(r,0),xi(r,Be,hn,!1)),ko(r,a),((Ge&2)===0||r!==et)&&(r===et&&((Ge&2)===0&&(Zi|=a),at===4&&xi(r,Be,hn,!1)),Mn(r))}function qp(r,o,a){if((Ge&6)!==0)throw Error(i(327));var d=!a&&(o&124)===0&&(o&r.expiredLanes)===0||je(r,o),y=d?bS(r,o):Rc(r,o,!0),b=d;do{if(y===0){Br&&!d&&xi(r,o,0,!1);break}else{if(a=r.current.alternate,b&&!vS(a)){y=Rc(r,o,!1),b=!1;continue}if(y===2){if(b=o,r.errorRecoveryDisabledLanes&b)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var k=r;y=sl;var D=k.current.memoizedState.isDehydrated;if(D&&(Vr(k,w).flags|=256),w=Rc(k,w,!1),w!==2){if(Sc&&!D){k.errorRecoveryDisabledLanes|=b,Zi|=b,y=4;break e}b=Ht,Ht=y,b!==null&&(Ht===null?Ht=b:Ht.push.apply(Ht,b))}y=w}if(b=!1,y!==2)continue}}if(y===1){Vr(r,0),xi(r,o,0,!0);break}e:{switch(d=r,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:xi(d,o,hn,!pi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=_c+300-dt(),10<y)){if(xi(d,o,hn,!pi),Ae(d,0,!0)!==0)break e;d.timeoutHandle=pg(Fp.bind(null,d,a,Ht,zs,Cc,o,hn,Zi,zr,pi,b,2,-0,0),y);break e}Fp(d,a,Ht,zs,Cc,o,hn,Zi,zr,pi,b,0,-0,0)}}break}while(!0);Mn(r)}function Fp(r,o,a,d,y,b,w,k,D,V,Y,te,j,G){if(r.timeoutHandle=-1,te=o.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:ZS},Pp(o),te=tw(),te!==null)){r.cancelPendingCommit=te(Jp.bind(null,r,o,b,a,d,y,w,k,D,Y,1,j,G)),xi(r,b,w,!V);return}Jp(r,o,b,a,d,y,w,k,D)}function vS(r){for(var o=r;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var y=a[d],b=y.getSnapshot;y=y.value;try{if(!Xt(b(),y))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xi(r,o,a,d){o&=~wc,o&=~Zi,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var y=o;0<y;){var b=31-Te(y),w=1<<b;d[b]=-1,y&=~w}a!==0&&Wd(r,a,o)}function qs(){return(Ge&6)===0?(ul(0),!1):!0}function Mc(){if(Ie!==null){if(He===0)var r=Ie.return;else r=Ie,Bn=Yi=null,$u(r),Pr=null,Zo=0,r=Ie;for(;r!==null;)bp(r.alternate,r),r=r.return;Ie=null}}function Vr(r,o){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,US(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Mc(),et=r,Ie=a=Ln(r.current,null),Be=o,He=0,en=null,pi=!1,Br=je(r,o),Sc=!1,zr=hn=wc=Zi=gi=at=0,Ht=sl=null,Cc=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var y=31-Te(d),b=1<<y;o|=r[y],d&=~b}return $n=o,as(),a}function Vp(r,o){Re=null,F.H=Es,o===Go||o===ys?(o=om(),He=3):o===nm?(o=om(),He=4):He=o===lp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,en=o,Ie===null&&(at=1,Ds(r,an(o,r.current)))}function jp(){var r=F.H;return F.H=Es,r===null?Es:r}function Gp(){var r=F.A;return F.A=gS,r}function Nc(){at=4,pi||(Be&4194048)!==Be&&dn.current!==null||(Br=!0),(gi&134217727)===0&&(Zi&134217727)===0||et===null||xi(et,Be,hn,!1)}function Rc(r,o,a){var d=Ge;Ge|=2;var y=jp(),b=Gp();(et!==r||Be!==o)&&(zs=null,Vr(r,o)),o=!1;var w=at;e:do try{if(He!==0&&Ie!==null){var k=Ie,D=en;switch(He){case 8:Mc(),w=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(o=!0);var V=He;if(He=0,en=null,jr(r,k,D,V),a&&Br){w=0;break e}break;default:V=He,He=0,en=null,jr(r,k,D,V)}}xS(),w=at;break}catch(Y){Vp(r,Y)}while(!0);return o&&r.shellSuspendCounter++,Bn=Yi=null,Ge=d,F.H=y,F.A=b,Ie===null&&(et=null,Be=0,as()),w}function xS(){for(;Ie!==null;)Hp(Ie)}function bS(r,o){var a=Ge;Ge|=2;var d=jp(),y=Gp();et!==r||Be!==o?(zs=null,Bs=dt()+500,Vr(r,o)):Br=je(r,o);e:do try{if(He!==0&&Ie!==null){o=Ie;var b=en;t:switch(He){case 1:He=0,en=null,jr(r,o,b,1);break;case 2:case 9:if(im(b)){He=0,en=null,$p(o);break}o=function(){He!==2&&He!==9||et!==r||(He=7),Mn(r)},b.then(o,o);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:im(b)?(He=0,en=null,$p(o)):(He=0,en=null,jr(r,o,b,7));break;case 5:var w=null;switch(Ie.tag){case 26:w=Ie.memoizedState;case 5:case 27:var k=Ie;if(!w||Eg(w)){He=0,en=null;var D=k.sibling;if(D!==null)Ie=D;else{var V=k.return;V!==null?(Ie=V,Fs(V)):Ie=null}break t}}He=0,en=null,jr(r,o,b,5);break;case 6:He=0,en=null,jr(r,o,b,6);break;case 8:Mc(),at=6;break e;default:throw Error(i(462))}}TS();break}catch(Y){Vp(r,Y)}while(!0);return Bn=Yi=null,F.H=d,F.A=y,Ge=a,Ie!==null?0:(et=null,Be=0,as(),at)}function TS(){for(;Ie!==null&&!ei();)Hp(Ie)}function Hp(r){var o=vp(r.alternate,r,$n);r.memoizedProps=r.pendingProps,o===null?Fs(r):Ie=o}function $p(r){var o=r,a=o.alternate;switch(o.tag){case 15:case 0:o=dp(a,o,o.pendingProps,o.type,void 0,Be);break;case 11:o=dp(a,o,o.pendingProps,o.type.render,o.ref,Be);break;case 5:$u(o);default:bp(a,o),o=Ie=Yh(o,$n),o=vp(a,o,$n)}r.memoizedProps=r.pendingProps,o===null?Fs(r):Ie=o}function jr(r,o,a,d){Bn=Yi=null,$u(o),Pr=null,Zo=0;var y=o.return;try{if(cS(r,y,o,a,Be)){at=1,Ds(r,an(a,r.current)),Ie=null;return}}catch(b){if(y!==null)throw Ie=y,b;at=1,Ds(r,an(a,r.current)),Ie=null;return}o.flags&32768?(Ve||d===1?r=!0:Br||(Be&536870912)!==0?r=!1:(pi=r=!0,(d===2||d===9||d===3||d===6)&&(d=dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Yp(o,r)):Fs(o)}function Fs(r){var o=r;do{if((o.flags&32768)!==0){Yp(o,pi);return}r=o.return;var a=dS(o.alternate,o,$n);if(a!==null){Ie=a;return}if(o=o.sibling,o!==null){Ie=o;return}Ie=o=r}while(o!==null);at===0&&(at=5)}function Yp(r,o){do{var a=hS(r.alternate,r);if(a!==null){a.flags&=32767,Ie=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(r=r.sibling,r!==null)){Ie=r;return}Ie=r=a}while(r!==null);at=6,Ie=null}function Jp(r,o,a,d,y,b,w,k,D){r.cancelPendingCommit=null;do Vs();while(At!==0);if((Ge&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Tu,Zb(r,a,b,w,k,D),r===et&&(Ie=et=null,Be=0),qr=o,vi=r,Fr=a,kc=b,Ec=y,Bp=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,_S(ni,function(){return Zp(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,y=ne.p,ne.p=2,w=Ge,Ge|=4;try{mS(r,o,a)}finally{Ge=w,ne.p=y,F.T=d}}At=1,Kp(),Xp(),Qp()}}function Kp(){if(At===1){At=0;var r=vi,o=qr,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var d=ne.p;ne.p=2;var y=Ge;Ge|=4;try{Rp(o,r);var b=jc,w=Oh(r.containerInfo),k=b.focusedElem,D=b.selectionRange;if(w!==k&&k&&k.ownerDocument&&Uh(k.ownerDocument.documentElement,k)){if(D!==null&&gu(k)){var V=D.start,Y=D.end;if(Y===void 0&&(Y=V),"selectionStart"in k)k.selectionStart=V,k.selectionEnd=Math.min(Y,k.value.length);else{var te=k.ownerDocument||document,j=te&&te.defaultView||window;if(j.getSelection){var G=j.getSelection(),Ce=k.textContent.length,Se=Math.min(D.start,Ce),Xe=D.end===void 0?Se:Math.min(D.end,Ce);!G.extend&&Se>Xe&&(w=Xe,Xe=Se,Se=w);var O=Lh(k,Se),L=Lh(k,Xe);if(O&&L&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==L.node||G.focusOffset!==L.offset)){var q=te.createRange();q.setStart(O.node,O.offset),G.removeAllRanges(),Se>Xe?(G.addRange(q),G.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),G.addRange(q))}}}}for(te=[],G=k;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<te.length;k++){var X=te[k];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ea=!!Vc,jc=Vc=null}finally{Ge=y,ne.p=d,F.T=a}}r.current=o,At=2}}function Xp(){if(At===2){At=0;var r=vi,o=qr,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var d=ne.p;ne.p=2;var y=Ge;Ge|=4;try{Ep(r,o.alternate,o)}finally{Ge=y,ne.p=d,F.T=a}}At=3}}function Qp(){if(At===4||At===3){At=0,ti();var r=vi,o=qr,a=Fr,d=Bp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?At=5:(At=0,qr=vi=null,Wp(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(yi=null),Ka(a),o=o.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(H,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=F.T,y=ne.p,ne.p=2,F.T=null;try{for(var b=r.onRecoverableError,w=0;w<d.length;w++){var k=d[w];b(k.value,{componentStack:k.stack})}}finally{F.T=o,ne.p=y}}(Fr&3)!==0&&Vs(),Mn(r),y=r.pendingLanes,(a&4194090)!==0&&(y&42)!==0?r===Ac?al++:(al=0,Ac=r):al=0,ul(0)}}function Wp(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Vo(o)))}function Vs(r){return Kp(),Xp(),Qp(),Zp()}function Zp(){if(At!==5)return!1;var r=vi,o=kc;kc=0;var a=Ka(Fr),d=F.T,y=ne.p;try{ne.p=32>a?32:a,F.T=null,a=Ec,Ec=null;var b=vi,w=Fr;if(At=0,qr=vi=null,Fr=0,(Ge&6)!==0)throw Error(i(331));var k=Ge;if(Ge|=4,Up(b.current),Ip(b,b.current,w,a),Ge=k,ul(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(H,b)}catch{}return!0}finally{ne.p=y,F.T=d,Wp(r,o)}}function eg(r,o,a){o=an(a,o),o=lc(r.stateNode,o,2),r=ai(r,o,2),r!==null&&(ko(r,2),Mn(r))}function We(r,o,a){if(r.tag===3)eg(r,r,a);else for(;o!==null;){if(o.tag===3){eg(o,r,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yi===null||!yi.has(d))){r=an(a,r),a=rp(2),d=ai(o,a,2),d!==null&&(op(a,d,o,r),ko(d,2),Mn(d));break}}o=o.return}}function Dc(r,o,a){var d=r.pingCache;if(d===null){d=r.pingCache=new yS;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(a)||(Sc=!0,y.add(a),r=SS.bind(null,r,o,a),o.then(r,r))}function SS(r,o,a){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,et===r&&(Be&a)===a&&(at===4||at===3&&(Be&62914560)===Be&&300>dt()-_c?(Ge&2)===0&&Vr(r,0):wc|=a,zr===Be&&(zr=0)),Mn(r)}function tg(r,o){o===0&&(o=Xl()),r=Cr(r,o),r!==null&&(ko(r,o),Mn(r))}function wS(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),tg(r,a)}function CS(r,o){var a=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(a=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),tg(r,a)}function _S(r,o){return gt(r,o)}var js=null,Gr=null,Ic=!1,Gs=!1,Pc=!1,er=0;function Mn(r){r!==Gr&&r.next===null&&(Gr===null?js=Gr=r:Gr=Gr.next=r),Gs=!0,Ic||(Ic=!0,ES())}function ul(r,o){if(!Pc&&Gs){Pc=!0;do for(var a=!1,d=js;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var w=d.suspendedLanes,k=d.pingedLanes;b=(1<<31-Te(42|r)+1)-1,b&=y&~(w&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,og(d,b))}else b=Be,b=Ae(d,d===et?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||je(d,b)||(a=!0,og(d,b));d=d.next}while(a);Pc=!1}}function kS(){ng()}function ng(){Gs=Ic=!1;var r=0;er!==0&&(LS()&&(r=er),er=0);for(var o=dt(),a=null,d=js;d!==null;){var y=d.next,b=ig(d,o);b===0?(d.next=null,a===null?js=y:a.next=y,y===null&&(Gr=a)):(a=d,(r!==0||(b&3)!==0)&&(Gs=!0)),d=y}ul(r)}function ig(r,o){for(var a=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var w=31-Te(b),k=1<<w,D=y[w];D===-1?((k&a)===0||(k&d)!==0)&&(y[w]=Kt(k,o)):D<=o&&(r.expiredLanes|=k),b&=~k}if(o=et,a=Be,a=Ae(r,r===o?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,a===0||r===o&&(He===2||He===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&yt(d),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||je(r,a)){if(o=a&-a,o===r.callbackPriority)return o;switch(d!==null&&yt(d),Ka(a)){case 2:case 8:a=Ui;break;case 32:a=ni;break;case 268435456:a=Cn;break;default:a=ni}return d=rg.bind(null,r),a=gt(a,d),r.callbackPriority=o,r.callbackNode=a,o}return d!==null&&d!==null&&yt(d),r.callbackPriority=2,r.callbackNode=null,2}function rg(r,o){if(At!==0&&At!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Vs()&&r.callbackNode!==a)return null;var d=Be;return d=Ae(r,r===et?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(qp(r,d,o),ig(r,dt()),r.callbackNode!=null&&r.callbackNode===a?rg.bind(null,r):null)}function og(r,o){if(Vs())return null;qp(r,o,!0)}function ES(){OS(function(){(Ge&6)!==0?gt(Li,kS):ng()})}function Lc(){return er===0&&(er=_o()),er}function lg(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ts(""+r)}function sg(r,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,r.id&&a.setAttribute("form",r.id),o.parentNode.insertBefore(a,o),r=new FormData(r),a.parentNode.removeChild(a),r}function AS(r,o,a,d,y){if(o==="submit"&&a&&a.stateNode===y){var b=lg((y[Ft]||null).action),w=d.submitter;w&&(o=(o=w[Ft]||null)?lg(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var k=new os("action","action",null,d,y);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(er!==0){var D=w?sg(y,w):new FormData(y);tc(a,{pending:!0,data:D,method:y.method,action:b},null,D)}}else typeof b=="function"&&(k.preventDefault(),D=w?sg(y,w):new FormData(y),tc(a,{pending:!0,data:D,method:y.method,action:b},b,D))},currentTarget:y}]})}}for(var Uc=0;Uc<bu.length;Uc++){var Oc=bu[Uc],MS=Oc.toLowerCase(),NS=Oc[0].toUpperCase()+Oc.slice(1);vn(MS,"on"+NS)}vn(qh,"onAnimationEnd"),vn(Fh,"onAnimationIteration"),vn(Vh,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(YT,"onTransitionRun"),vn(JT,"onTransitionStart"),vn(KT,"onTransitionCancel"),vn(jh,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function ag(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],y=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var w=d.length-1;0<=w;w--){var k=d[w],D=k.instance,V=k.currentTarget;if(k=k.listener,D!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=V;try{b(y)}catch(Y){Rs(Y)}y.currentTarget=null,b=D}else for(w=0;w<d.length;w++){if(k=d[w],D=k.instance,V=k.currentTarget,k=k.listener,D!==b&&y.isPropagationStopped())break e;b=k,y.currentTarget=V;try{b(y)}catch(Y){Rs(Y)}y.currentTarget=null,b=D}}}}function Pe(r,o){var a=o[Xa];a===void 0&&(a=o[Xa]=new Set);var d=r+"__bubble";a.has(d)||(ug(o,r,2,!1),a.add(d))}function Bc(r,o,a){var d=0;o&&(d|=4),ug(a,r,d,o)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function zc(r){if(!r[Hs]){r[Hs]=!0,nh.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||Bc(a,!1,r),Bc(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Hs]||(o[Hs]=!0,Bc("selectionchange",!1,o))}}function ug(r,o,a,d){switch(Ig(o)){case 2:var y=rw;break;case 8:y=ow;break;default:y=Zc}a=y.bind(null,o,a,r),y=void 0,!su||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(o,a,{capture:!0,passive:y}):r.addEventListener(o,a,!0):y!==void 0?r.addEventListener(o,a,{passive:y}):r.addEventListener(o,a,!1)}function qc(r,o,a,d,y){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var k=d.stateNode.containerInfo;if(k===y)break;if(w===4)for(w=d.return;w!==null;){var D=w.tag;if((D===3||D===4)&&w.stateNode.containerInfo===y)return;w=w.return}for(;k!==null;){if(w=fr(k),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){d=b=w;continue e}k=k.parentNode}}d=d.return}gh(function(){var V=b,Y=ou(a),te=[];e:{var j=Gh.get(r);if(j!==void 0){var G=os,Ce=r;switch(r){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":G=_T;break;case"focusin":Ce="focus",G=fu;break;case"focusout":Ce="blur",G=fu;break;case"beforeblur":case"afterblur":G=fu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=AT;break;case qh:case Fh:case Vh:G=gT;break;case jh:G=NT;break;case"scroll":case"scrollend":G=fT;break;case"wheel":G=DT;break;case"copy":case"cut":case"paste":G=vT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Th;break;case"toggle":case"beforetoggle":G=PT}var Se=(o&4)!==0,Xe=!Se&&(r==="scroll"||r==="scrollend"),O=Se?j!==null?j+"Capture":null:j;Se=[];for(var L=V,q;L!==null;){var X=L;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||O===null||(X=Mo(L,O),X!=null&&Se.push(fl(L,X,q))),Xe)break;L=L.return}0<Se.length&&(j=new G(j,Ce,null,a,Y),te.push({event:j,listeners:Se}))}}if((o&7)===0){e:{if(j=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",j&&a!==ru&&(Ce=a.relatedTarget||a.fromElement)&&(fr(Ce)||Ce[cr]))break e;if((G||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,G?(Ce=a.relatedTarget||a.toElement,G=V,Ce=Ce?fr(Ce):null,Ce!==null&&(Xe=s(Ce),Se=Ce.tag,Ce!==Xe||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(G=null,Ce=V),G!==Ce)){if(Se=xh,X="onMouseLeave",O="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Th,X="onPointerLeave",O="onPointerEnter",L="pointer"),Xe=G==null?j:Ao(G),q=Ce==null?j:Ao(Ce),j=new Se(X,L+"leave",G,a,Y),j.target=Xe,j.relatedTarget=q,X=null,fr(Y)===V&&(Se=new Se(O,L+"enter",Ce,a,Y),Se.target=q,Se.relatedTarget=Xe,X=Se),Xe=X,G&&Ce)t:{for(Se=G,O=Ce,L=0,q=Se;q;q=Hr(q))L++;for(q=0,X=O;X;X=Hr(X))q++;for(;0<L-q;)Se=Hr(Se),L--;for(;0<q-L;)O=Hr(O),q--;for(;L--;){if(Se===O||O!==null&&Se===O.alternate)break t;Se=Hr(Se),O=Hr(O)}Se=null}else Se=null;G!==null&&cg(te,j,G,Se,!1),Ce!==null&&Xe!==null&&cg(te,Xe,Ce,Se,!0)}}e:{if(j=V?Ao(V):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var he=Mh;else if(Eh(j))if(Nh)he=GT;else{he=VT;var De=FT}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?V&&iu(V.elementType)&&(he=Mh):he=jT;if(he&&(he=he(r,V))){Ah(te,he,a,Y);break e}De&&De(r,j,V),r==="focusout"&&V&&j.type==="number"&&V.memoizedProps.value!=null&&nu(j,"number",j.value)}switch(De=V?Ao(V):window,r){case"focusin":(Eh(De)||De.contentEditable==="true")&&(Tr=De,yu=V,Oo=null);break;case"focusout":Oo=yu=Tr=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Bh(te,a,Y);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Bh(te,a,Y)}var ge;if(hu)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else br?_h(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Sh&&a.locale!=="ko"&&(br||we!=="onCompositionStart"?we==="onCompositionEnd"&&br&&(ge=yh()):(ri=Y,au="value"in ri?ri.value:ri.textContent,br=!0)),De=$s(V,we),0<De.length&&(we=new bh(we,r,null,a,Y),te.push({event:we,listeners:De}),ge?we.data=ge:(ge=kh(a),ge!==null&&(we.data=ge)))),(ge=UT?OT(r,a):BT(r,a))&&(we=$s(V,"onBeforeInput"),0<we.length&&(De=new bh("onBeforeInput","beforeinput",null,a,Y),te.push({event:De,listeners:we}),De.data=ge)),AS(te,r,V,a,Y)}ag(te,o)})}function fl(r,o,a){return{instance:r,listener:o,currentTarget:a}}function $s(r,o){for(var a=o+"Capture",d=[];r!==null;){var y=r,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Mo(r,a),y!=null&&d.unshift(fl(r,y,b)),y=Mo(r,o),y!=null&&d.push(fl(r,y,b))),r.tag===3)return d;r=r.return}return[]}function Hr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cg(r,o,a,d,y){for(var b=o._reactName,w=[];a!==null&&a!==d;){var k=a,D=k.alternate,V=k.stateNode;if(k=k.tag,D!==null&&D===d)break;k!==5&&k!==26&&k!==27||V===null||(D=V,y?(V=Mo(a,b),V!=null&&w.unshift(fl(a,V,D))):y||(V=Mo(a,b),V!=null&&w.push(fl(a,V,D)))),a=a.return}w.length!==0&&r.push({event:o,listeners:w})}var DS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function fg(r){return(typeof r=="string"?r:""+r).replace(DS,`
`).replace(IS,"")}function dg(r,o){return o=fg(o),fg(r)===o}function Ys(){}function Ke(r,o,a,d,y,b){switch(a){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||yr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&yr(r,""+d);break;case"className":Wl(r,"class",d);break;case"tabIndex":Wl(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Wl(r,a,d);break;case"style":mh(r,d,b);break;case"data":if(o!=="object"){Wl(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||a!=="href")){r.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=ts(""+d),r.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(o!=="input"&&Ke(r,o,"name",y.name,y,null),Ke(r,o,"formEncType",y.formEncType,y,null),Ke(r,o,"formMethod",y.formMethod,y,null),Ke(r,o,"formTarget",y.formTarget,y,null)):(Ke(r,o,"encType",y.encType,y,null),Ke(r,o,"method",y.method,y,null),Ke(r,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(a);break}d=ts(""+d),r.setAttribute(a,d);break;case"onClick":d!=null&&(r.onclick=Ys);break;case"onScroll":d!=null&&Pe("scroll",r);break;case"onScrollEnd":d!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}a=ts(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""+d):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":d===!0?r.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(a,d):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(a,d):r.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(a):r.setAttribute(a,d);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Ql(r,"popover",d);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ql(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uT.get(a)||a,Ql(r,a,d))}}function Fc(r,o,a,d,y,b){switch(a){case"style":mh(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof d=="string"?yr(r,d):(typeof d=="number"||typeof d=="bigint")&&yr(r,""+d);break;case"onScroll":d!=null&&Pe("scroll",r);break;case"onScrollEnd":d!=null&&Pe("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ih.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(y=a.endsWith("Capture"),o=a.slice(2,y?a.length-7:void 0),b=r[Ft]||null,b=b!=null?b[a]:null,typeof b=="function"&&r.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(o,d,y);break e}a in r?r[a]=d:d===!0?r.setAttribute(a,""):Ql(r,a,d)}}}function Mt(r,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var d=!1,y=!1,b;for(b in a)if(a.hasOwnProperty(b)){var w=a[b];if(w!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ke(r,o,b,w,a,null)}}y&&Ke(r,o,"srcSet",a.srcSet,a,null),d&&Ke(r,o,"src",a.src,a,null);return;case"input":Pe("invalid",r);var k=b=w=y=null,D=null,V=null;for(d in a)if(a.hasOwnProperty(d)){var Y=a[d];if(Y!=null)switch(d){case"name":y=Y;break;case"type":w=Y;break;case"checked":D=Y;break;case"defaultChecked":V=Y;break;case"value":b=Y;break;case"defaultValue":k=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,o));break;default:Ke(r,o,d,Y,a,null)}}ch(r,b,k,D,V,w,y,!1),Zl(r);return;case"select":Pe("invalid",r),d=w=b=null;for(y in a)if(a.hasOwnProperty(y)&&(k=a[y],k!=null))switch(y){case"value":b=k;break;case"defaultValue":w=k;break;case"multiple":d=k;default:Ke(r,o,y,k,a,null)}o=b,a=w,r.multiple=!!d,o!=null?gr(r,!!d,o,!1):a!=null&&gr(r,!!d,a,!0);return;case"textarea":Pe("invalid",r),b=y=d=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":d=k;break;case"defaultValue":y=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Ke(r,o,w,k,a,null)}dh(r,d,y,b),Zl(r);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(d=a[D],d!=null))switch(D){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ke(r,o,D,d,a,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(d=0;d<cl.length;d++)Pe(cl[d],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(d=a[V],d!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ke(r,o,V,d,a,null)}return;default:if(iu(o)){for(Y in a)a.hasOwnProperty(Y)&&(d=a[Y],d!==void 0&&Fc(r,o,Y,d,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(d=a[k],d!=null&&Ke(r,o,k,d,a,null))}function PS(r,o,a,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,w=null,k=null,D=null,V=null,Y=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=te;default:d.hasOwnProperty(G)||Ke(r,o,G,null,d,te)}}for(var j in d){var G=d[j];if(te=a[j],d.hasOwnProperty(j)&&(G!=null||te!=null))switch(j){case"type":b=G;break;case"name":y=G;break;case"checked":V=G;break;case"defaultChecked":Y=G;break;case"value":w=G;break;case"defaultValue":k=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,o));break;default:G!==te&&Ke(r,o,j,G,d,te)}}tu(r,w,k,D,V,Y,b,y);return;case"select":G=w=k=j=null;for(b in a)if(D=a[b],a.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":G=D;default:d.hasOwnProperty(b)||Ke(r,o,b,null,d,D)}for(y in d)if(b=d[y],D=a[y],d.hasOwnProperty(y)&&(b!=null||D!=null))switch(y){case"value":j=b;break;case"defaultValue":k=b;break;case"multiple":w=b;default:b!==D&&Ke(r,o,y,b,d,D)}o=k,a=w,d=G,j!=null?gr(r,!!a,j,!1):!!d!=!!a&&(o!=null?gr(r,!!a,o,!0):gr(r,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(k in a)if(y=a[k],a.hasOwnProperty(k)&&y!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ke(r,o,k,null,d,y)}for(w in d)if(y=d[w],b=a[w],d.hasOwnProperty(w)&&(y!=null||b!=null))switch(w){case"value":j=y;break;case"defaultValue":G=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Ke(r,o,w,y,d,b)}fh(r,j,G);return;case"option":for(var Ce in a)if(j=a[Ce],a.hasOwnProperty(Ce)&&j!=null&&!d.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:Ke(r,o,Ce,null,d,j)}for(D in d)if(j=d[D],G=a[D],d.hasOwnProperty(D)&&j!==G&&(j!=null||G!=null))switch(D){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ke(r,o,D,j,d,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)j=a[Se],a.hasOwnProperty(Se)&&j!=null&&!d.hasOwnProperty(Se)&&Ke(r,o,Se,null,d,j);for(V in d)if(j=d[V],G=a[V],d.hasOwnProperty(V)&&j!==G&&(j!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,o));break;default:Ke(r,o,V,j,d,G)}return;default:if(iu(o)){for(var Xe in a)j=a[Xe],a.hasOwnProperty(Xe)&&j!==void 0&&!d.hasOwnProperty(Xe)&&Fc(r,o,Xe,void 0,d,j);for(Y in d)j=d[Y],G=a[Y],!d.hasOwnProperty(Y)||j===G||j===void 0&&G===void 0||Fc(r,o,Y,j,d,G);return}}for(var O in a)j=a[O],a.hasOwnProperty(O)&&j!=null&&!d.hasOwnProperty(O)&&Ke(r,o,O,null,d,j);for(te in d)j=d[te],G=a[te],!d.hasOwnProperty(te)||j===G||j==null&&G==null||Ke(r,o,te,j,d,G)}var Vc=null,jc=null;function Js(r){return r.nodeType===9?r:r.ownerDocument}function hg(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Gc(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hc=null;function LS(){var r=window.event;return r&&r.type==="popstate"?r===Hc?!1:(Hc=r,!0):(Hc=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(r){return gg.resolve(null).then(r).catch(BS)}:pg;function BS(r){setTimeout(function(){throw r})}function bi(r){return r==="head"}function yg(r,o){var a=o,d=0,y=0;do{var b=a.nextSibling;if(r.removeChild(a),b&&b.nodeType===8)if(a=b.data,a==="/$"){if(0<d&&8>d){a=d;var w=r.ownerDocument;if(a&1&&dl(w.documentElement),a&2&&dl(w.body),a&4)for(a=w.head,dl(a),w=a.firstChild;w;){var k=w.nextSibling,D=w.nodeName;w[Eo]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=k}}if(y===0){r.removeChild(b),bl(o);return}y--}else a==="$"||a==="$?"||a==="$!"?y++:d=a.charCodeAt(0)-48;else d=0;a=b}while(a);bl(o)}function $c(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$c(a),Qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function zS(r,o,a,d){for(;r.nodeType===1;){var y=a;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Eo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=bn(r.nextSibling),r===null)break}return null}function qS(r,o,a){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=bn(r.nextSibling),r===null))return null;return r}function Yc(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function FS(r,o){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")o();else{var d=function(){o(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function bn(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Jc=null;function vg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}function xg(r,o,a){switch(o=Js(a),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function dl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Qa(r)}var mn=new Map,bg=new Set;function Ks(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Yn=ne.d;ne.d={f:VS,r:jS,D:GS,C:HS,L:$S,m:YS,X:KS,S:JS,M:XS};function VS(){var r=Yn.f(),o=qs();return r||o}function jS(r){var o=dr(r);o!==null&&o.tag===5&&o.type==="form"?qm(o):Yn.r(r)}var $r=typeof document>"u"?null:document;function Tg(r,o,a){var d=$r;if(d&&typeof o=="string"&&o){var y=sn(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof a=="string"&&(y+='[crossorigin="'+a+'"]'),bg.has(y)||(bg.add(y),r={rel:r,crossOrigin:a,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Mt(o,"link",r),bt(o),d.head.appendChild(o)))}}function GS(r){Yn.D(r),Tg("dns-prefetch",r,null)}function HS(r,o){Yn.C(r,o),Tg("preconnect",r,o)}function $S(r,o,a){Yn.L(r,o,a);var d=$r;if(d&&r&&o){var y='link[rel="preload"][as="'+sn(o)+'"]';o==="image"&&a&&a.imageSrcSet?(y+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(y+='[imagesizes="'+sn(a.imageSizes)+'"]')):y+='[href="'+sn(r)+'"]';var b=y;switch(o){case"style":b=Yr(r);break;case"script":b=Jr(r)}mn.has(b)||(r=g({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:r,as:o},a),mn.set(b,r),d.querySelector(y)!==null||o==="style"&&d.querySelector(hl(b))||o==="script"&&d.querySelector(ml(b))||(o=d.createElement("link"),Mt(o,"link",r),bt(o),d.head.appendChild(o)))}}function YS(r,o){Yn.m(r,o);var a=$r;if(a&&r){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+sn(d)+'"][href="'+sn(r)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Jr(r)}if(!mn.has(b)&&(r=g({rel:"modulepreload",href:r},o),mn.set(b,r),a.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(b)))return}d=a.createElement("link"),Mt(d,"link",r),bt(d),a.head.appendChild(d)}}}function JS(r,o,a){Yn.S(r,o,a);var d=$r;if(d&&r){var y=hr(d).hoistableStyles,b=Yr(r);o=o||"default";var w=y.get(b);if(!w){var k={loading:0,preload:null};if(w=d.querySelector(hl(b)))k.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},a),(a=mn.get(b))&&Kc(r,a);var D=w=d.createElement("link");bt(D),Mt(D,"link",r),D._p=new Promise(function(V,Y){D.onload=V,D.onerror=Y}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Xs(w,o,d)}w={type:"stylesheet",instance:w,count:1,state:k},y.set(b,w)}}}function KS(r,o){Yn.X(r,o);var a=$r;if(a&&r){var d=hr(a).hoistableScripts,y=Jr(r),b=d.get(y);b||(b=a.querySelector(ml(y)),b||(r=g({src:r,async:!0},o),(o=mn.get(y))&&Xc(r,o),b=a.createElement("script"),bt(b),Mt(b,"link",r),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function XS(r,o){Yn.M(r,o);var a=$r;if(a&&r){var d=hr(a).hoistableScripts,y=Jr(r),b=d.get(y);b||(b=a.querySelector(ml(y)),b||(r=g({src:r,async:!0,type:"module"},o),(o=mn.get(y))&&Xc(r,o),b=a.createElement("script"),bt(b),Mt(b,"link",r),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Sg(r,o,a,d){var y=(y=de.current)?Ks(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Yr(a.href),a=hr(y).hoistableStyles,d=a.get(o),d||(d={type:"style",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Yr(a.href);var b=hr(y).hoistableStyles,w=b.get(r);if(w||(y=y.ownerDocument||y,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,w),(b=y.querySelector(hl(r)))&&!b._p&&(w.instance=b,w.state.loading=5),mn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(r,a),b||QS(y,r,a,w.state))),o&&d===null)throw Error(i(528,""));return w}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Jr(a),a=hr(y).hoistableScripts,d=a.get(o),d||(d={type:"script",instance:null,count:0,state:null},a.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yr(r){return'href="'+sn(r)+'"'}function hl(r){return'link[rel="stylesheet"]['+r+"]"}function wg(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function QS(r,o,a,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Mt(o,"link",a),bt(o),r.head.appendChild(o))}function Jr(r){return'[src="'+sn(r)+'"]'}function ml(r){return"script[async]"+r}function Cg(r,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+sn(a.href)+'"]');if(d)return o.instance=d,bt(d),d;var y=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),bt(d),Mt(d,"style",y),Xs(d,a.precedence,r),o.instance=d;case"stylesheet":y=Yr(a.href);var b=r.querySelector(hl(y));if(b)return o.state.loading|=4,o.instance=b,bt(b),b;d=wg(a),(y=mn.get(y))&&Kc(d,y),b=(r.ownerDocument||r).createElement("link"),bt(b);var w=b;return w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),Mt(b,"link",d),o.state.loading|=4,Xs(b,a.precedence,r),o.instance=b;case"script":return b=Jr(a.src),(y=r.querySelector(ml(b)))?(o.instance=y,bt(y),y):(d=a,(y=mn.get(b))&&(d=g({},a),Xc(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),bt(y),Mt(y,"link",d),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Xs(d,a.precedence,r));return o.instance}function Xs(r,o,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,w=0;w<d.length;w++){var k=d[w];if(k.dataset.precedence===o)b=k;else if(b!==y)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(r,o.firstChild))}function Kc(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Xc(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Qs=null;function _g(r,o,a){if(Qs===null){var d=new Map,y=Qs=new Map;y.set(a,d)}else y=Qs,d=y.get(a),d||(d=new Map,y.set(a,d));if(d.has(r))return d;for(d.set(r,null),a=a.getElementsByTagName(r),y=0;y<a.length;y++){var b=a[y];if(!(b[Eo]||b[Rt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=r+w;var k=d.get(w);k?k.push(b):d.set(w,[b])}}return d}function kg(r,o,a){r=r.ownerDocument||r,r.head.insertBefore(a,o==="title"?r.querySelector("head > title"):null)}function WS(r,o,a){if(a===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Eg(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pl=null;function ZS(){}function ew(r,o,a){if(pl===null)throw Error(i(475));var d=pl;if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Yr(a.href),b=r.querySelector(hl(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Ws.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=b,bt(b);return}b=r.ownerDocument||r,a=wg(a),(y=mn.get(y))&&Kc(a,y),b=b.createElement("link"),bt(b);var w=b;w._p=new Promise(function(k,D){w.onload=k,w.onerror=D}),Mt(b,"link",a),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Ws.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function tw(){if(pl===null)throw Error(i(475));var r=pl;return r.stylesheets&&r.count===0&&Qc(r,r.stylesheets),0<r.count?function(o){var a=setTimeout(function(){if(r.stylesheets&&Qc(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Ws(){if(this.count--,this.count===0){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zs=null;function Qc(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zs=new Map,o.forEach(nw,r),Zs=null,Ws.call(r))}function nw(r,o){if(!(o.state.loading&4)){var a=Zs.get(r);if(a)var d=a.get(null);else{a=new Map,Zs.set(r,a);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var w=y[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),d=w)}d&&a.set(null,d)}y=o.instance,w=y.getAttribute("data-precedence"),b=a.get(w)||d,b===d&&a.set(null,y),a.set(w,y),this.count++,d=Ws.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var gl={$$typeof:N,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function iw(r,o,a,d,y,b,w,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Ag(r,o,a,d,y,b,w,k,D,V,Y,te){return r=new iw(r,o,a,w,k,D,V,te),o=1,b===!0&&(o|=24),b=Qt(3,null,null,o),r.current=b,b.stateNode=r,o=Du(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:a,cache:o},Uu(b),r}function Mg(r){return r?(r=_r,r):_r}function Ng(r,o,a,d,y,b){y=Mg(y),d.context===null?d.context=y:d.pendingContext=y,d=si(o),d.payload={element:a},b=b===void 0?null:b,b!==null&&(d.callback=b),a=ai(r,d,o),a!==null&&(nn(a,r,o),$o(a,r,o))}function Rg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function Wc(r,o){Rg(r,o),(r=r.alternate)&&Rg(r,o)}function Dg(r){if(r.tag===13){var o=Cr(r,67108864);o!==null&&nn(o,r,67108864),Wc(r,67108864)}}var ea=!0;function rw(r,o,a,d){var y=F.T;F.T=null;var b=ne.p;try{ne.p=2,Zc(r,o,a,d)}finally{ne.p=b,F.T=y}}function ow(r,o,a,d){var y=F.T;F.T=null;var b=ne.p;try{ne.p=8,Zc(r,o,a,d)}finally{ne.p=b,F.T=y}}function Zc(r,o,a,d){if(ea){var y=ef(d);if(y===null)qc(r,o,d,ta,a),Pg(r,d);else if(sw(y,r,o,a,d))d.stopPropagation();else if(Pg(r,d),o&4&&-1<lw.indexOf(r)){for(;y!==null;){var b=dr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Ee(b.pendingLanes);if(w!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var D=1<<31-Te(w);k.entanglements[1]|=D,w&=~D}Mn(b),(Ge&6)===0&&(Bs=dt()+500,ul(0))}}break;case 13:k=Cr(b,2),k!==null&&nn(k,b,2),qs(),Wc(b,2)}if(b=ef(d),b===null&&qc(r,o,d,ta,a),b===y)break;y=b}y!==null&&d.stopPropagation()}else qc(r,o,d,null,a)}}function ef(r){return r=ou(r),tf(r)}var ta=null;function tf(r){if(ta=null,r=fr(r),r!==null){var o=s(r);if(o===null)r=null;else{var a=o.tag;if(a===13){if(r=u(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return ta=r,null}function Ig(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(So()){case Li:return 2;case Ui:return 8;case ni:case wo:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var nf=!1,Ti=null,Si=null,wi=null,yl=new Map,vl=new Map,Ci=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(r,o){switch(r){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":yl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(o.pointerId)}}function xl(r,o,a,d,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=dr(o),o!==null&&Dg(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function sw(r,o,a,d,y){switch(o){case"focusin":return Ti=xl(Ti,r,o,a,d,y),!0;case"dragenter":return Si=xl(Si,r,o,a,d,y),!0;case"mouseover":return wi=xl(wi,r,o,a,d,y),!0;case"pointerover":var b=y.pointerId;return yl.set(b,xl(yl.get(b)||null,r,o,a,d,y)),!0;case"gotpointercapture":return b=y.pointerId,vl.set(b,xl(vl.get(b)||null,r,o,a,d,y)),!0}return!1}function Lg(r){var o=fr(r.target);if(o!==null){var a=s(o);if(a!==null){if(o=a.tag,o===13){if(o=u(a),o!==null){r.blockedOn=o,eT(r.priority,function(){if(a.tag===13){var d=tn();d=Ja(d);var y=Cr(a,d);y!==null&&nn(y,a,d),Wc(a,d)}});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function na(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=ef(r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);ru=d,a.target.dispatchEvent(d),ru=null}else return o=dr(a),o!==null&&Dg(o),r.blockedOn=a,!1;o.shift()}return!0}function Ug(r,o,a){na(r)&&a.delete(o)}function aw(){nf=!1,Ti!==null&&na(Ti)&&(Ti=null),Si!==null&&na(Si)&&(Si=null),wi!==null&&na(wi)&&(wi=null),yl.forEach(Ug),vl.forEach(Ug)}function ia(r,o){r.blockedOn===o&&(r.blockedOn=null,nf||(nf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aw)))}var ra=null;function Og(r){ra!==r&&(ra=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ra===r&&(ra=null);for(var o=0;o<r.length;o+=3){var a=r[o],d=r[o+1],y=r[o+2];if(typeof d!="function"){if(tf(d||a)===null)continue;break}var b=dr(a);b!==null&&(r.splice(o,3),o-=3,tc(b,{pending:!0,data:y,method:a.method,action:d},d,y))}}))}function bl(r){function o(D){return ia(D,r)}Ti!==null&&ia(Ti,r),Si!==null&&ia(Si,r),wi!==null&&ia(wi,r),yl.forEach(o),vl.forEach(o);for(var a=0;a<Ci.length;a++){var d=Ci[a];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)Lg(a),a.blockedOn===null&&Ci.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var y=a[d],b=a[d+1],w=y[Ft]||null;if(typeof b=="function")w||Og(a);else if(w){var k=null;if(b&&b.hasAttribute("formAction")){if(y=b,w=b[Ft]||null)k=w.formAction;else if(tf(y)!==null)continue}else k=w.action;typeof k=="function"?a[d+1]=k:(a.splice(d,3),d-=3),Og(a)}}}function rf(r){this._internalRoot=r}oa.prototype.render=rf.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var a=o.current,d=tn();Ng(a,d,r,o,null,null)},oa.prototype.unmount=rf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ng(r.current,2,null,r,null,null),qs(),o[cr]=null}};function oa(r){this._internalRoot=r}oa.prototype.unstable_scheduleHydration=function(r){if(r){var o=eh();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Ci.length&&o!==0&&o<Ci[a].priority;a++);Ci.splice(a,0,r),a===0&&Lg(r)}};var Bg=e.version;if(Bg!=="19.1.0")throw Error(i(527,Bg,"19.1.0"));ne.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var uw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{H=la.inject(uw),re=la}catch{}}return Sl.createRoot=function(r,o){if(!l(r))throw Error(i(299));var a=!1,d="",y=ep,b=tp,w=np,k=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=Ag(r,1,!1,null,null,a,d,y,b,w,k,null),r[cr]=o.current,zc(r),new rf(o)},Sl.hydrateRoot=function(r,o,a){if(!l(r))throw Error(i(299));var d=!1,y="",b=ep,w=tp,k=np,D=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),o=Ag(r,1,!0,o,a??null,d,y,b,w,k,D,V),o.context=Mg(null),a=o.current,d=tn(),d=Ja(d),y=si(d),y.callback=null,ai(a,y,d),a=d,o.current.lanes=a,ko(o,a),Mn(o),r[cr]=o.current,zc(r),new oa(o)},Sl.version="19.1.0",Sl}var Jg;function bw(){if(Jg)return sf.exports;Jg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sf.exports=xw(),sf.exports}var Tw=bw();const Sw=jl(Tw),Kg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Xg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),ww=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),ka=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),zf=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),qf=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Qg=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 14l-3-3m0 0l-3 3m3-3v5"})]}),Ff=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),Vf=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),bd=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.28-.28.28-.72 0-1l-1.06-1.06c-.28-.28-.72-.28-1 0s-.28.72 0 1l1.06 1.06c.27.29.71.29 1 0zm9.89-1.06c-.28.28-.72.28-1 0l-1.06-1.06c-.28-.28-.28-.72 0-1s.72-.28 1 0l1.06 1.06c.28.28.28.72 0 1zM12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-3.5 6.5c-1.66 0-3 1.34-3 3h6c0-1.66-1.34-3-3-3z"})}),Kv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Ua=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Wg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Cw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7m-16 0a8 4 0 0116 0M4 12v5c0 2.21 3.582 4 8 4s8-1.79 8-4v-5"})}),_w=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 14h.01M12 17h.01M15 17h.01M9 10h.01M12 10h.01M15 10h.01M4 7h16a1 1 0 011 1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 011-1z"})}),kw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Ri=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{shapeRendering:"auto",display:"block",background:"transparent"},children:x.jsxs("g",{children:[x.jsx("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"currentColor",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:x.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})}),x.jsx("g",{})]})}),Di=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Rn=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ew=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Xv=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ea=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a5 5 0 110-10 5 5 0 010 10z"})}),Aw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Mw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.423A8.98 8.98 0 013 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),Zg=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),e0=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h1.5v3H6v-3z"})}),t0=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.5l6-6m3 1.5l6-6"})]}),n0=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),i0=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345h5.364c.518 0 .734.654.372 1.01l-4.34 3.155a.563.563 0 00-.182.635l2.125 5.111a.563.563 0 01-.84.62l-4.34-3.155a.563.563 0 00-.652 0l-4.34 3.155a.563.563 0 01-.84-.62l2.125-5.111a.563.563 0 00-.182-.635l-4.34-3.155a.563.563 0 01.372-1.01h5.364a.563.563 0 00.475-.345l2.125-5.111z"})}),Nw=({className:t})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M5.222 16.5A9.003 9.003 0 0012 21a9 9 0 008.778-6.5"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 20v-5h-5m-1.222-8.5A9.003 9.003 0 0012 3a9 9 0 00-8.778 6.5"})]}),Rw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r0=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qv=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.036.243c-2.132 0-4.14-.352-6.064-.994M18.75 4.97M5.25 4.97l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.989 5.989 0 002.036.243c2.132 0 4.14-.352 6.064-.994M5.25 4.97c-1.01.143-2.01.317-3 .52m3-.52"})}),Dw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Iw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Pw=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Lw=({onImageSelect:t,isLoading:e})=>{const[n,i]=Q.useState(!1),[l,s]=Q.useState(null),u=Q.useRef(null),h=Q.useCallback(S=>{if(S&&S.type.startsWith("image/")){const _=new FileReader;_.onloadend=()=>{s(_.result)},_.readAsDataURL(S),t(S)}},[t]),p=Q.useCallback(S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?i(!0):S.type==="dragleave"&&i(!1)},[]),m=Q.useCallback(S=>{S.preventDefault(),S.stopPropagation(),i(!1),S.dataTransfer.files&&S.dataTransfer.files[0]&&h(S.dataTransfer.files[0])},[h]),g=S=>{S.preventDefault(),S.target.files&&S.target.files[0]&&h(S.target.files[0])},v=()=>{var S;(S=u.current)==null||S.click()},T=Q.useCallback(S=>{var R,M;if(e||!u.current)return;const _=(R=S.clipboardData)==null?void 0:R.items;if(!_)return;const E=(M=Array.from(_).find(I=>I.kind==="file"&&I.type.startsWith("image/")))==null?void 0:M.getAsFile();E&&(S.preventDefault(),h(E))},[e,h]);return Q.useEffect(()=>(document.addEventListener("paste",T),()=>{document.removeEventListener("paste",T)}),[T]),x.jsxs("div",{onDragEnter:p,onDragOver:p,onDragLeave:p,onDrop:m,className:`relative flex items-center justify-center w-full h-96 p-4 border-2 border-dashed rounded-lg transition-colors duration-200 ${n?"border-violet-500 bg-violet-50 dark:border-violet-400 dark:bg-violet-900/20":`border-slate-300 dark:border-slate-600 ${!l&&"bg-white dark:bg-slate-800"}`}`,children:[x.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:g,disabled:e}),l?x.jsxs("div",{className:"w-full h-full relative",children:[x.jsx("img",{src:l,alt:"Chart preview",className:"object-contain w-full h-full rounded-md"}),e&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg",children:[x.jsx(Ri,{className:"w-16 h-16 text-violet-600 dark:text-violet-400"}),x.jsx("p",{className:"mt-4 text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analyzing Chart..."}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"This may take a moment."})]})]}):x.jsxs("div",{className:"text-center",children:[x.jsx(Wg,{className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500"}),x.jsx("h3",{className:"mt-2 text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Upload Chart Image"}),x.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Drag & drop, paste from clipboard, or click to browse"}),x.jsxs("button",{type:"button",onClick:v,disabled:e,className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400",children:[x.jsx(Wg,{className:"-ml-1 mr-2 h-5 w-5"}),"Select Image"]})]})]})},wl="w-full px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-violet-500 transition-all duration-200 shadow-sm placeholder-slate-400 dark:placeholder-slate-500",Cl="rounded-2xl shadow-xl bg-gradient-to-br from-white via-slate-50 to-slate-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 p-6 mb-6",o0="text-base font-bold mb-3 tracking-wide text-slate-700 dark:text-slate-200",Uw=({params:t,setParams:e,timeframeSettings:n,currentAnalysis:i})=>{const[l,s]=Q.useState(t.accountBalance||""),[u,h]=Q.useState(t.leverage||"10"),[p,m]=Q.useState(t.entryPrice||""),[g,v]=Q.useState(t.stopLoss||""),[T,S]=Q.useState(""),[_,E]=Q.useState("LONG"),R=I=>parseFloat(I.replace(",",".")),M=Q.useMemo(()=>{const I=R(l),N=R(u),B=R(p),z=R(g),P=R(T);if([I,N,B,z,P].some(isNaN)||I<=0||N<=0||B<=0||z<=0||P<=0)return{contract:"-",sl:"-",slMargin:"-",slProfit:"-",slProfitPct:"-",tp:"-",tpMargin:"-",tpProfit:"-",tpProfitPct:"-",rrr:"-",liq:"-",warning:"Lengkapi semua input dengan benar."};const K=I*N;let ie=0,W=0,U=0,Z=0;_==="LONG"?(ie=(z-B)*K/B,W=(P-B)*K/B,U=Math.abs(W/Math.abs(ie)),Z=B*(1-1/N)):(ie=(B-z)*K/B,W=(B-P)*K/B,U=Math.abs(W/Math.abs(ie)),Z=B*(1+1/N));const ee=I,ae=I,le=`${(ie/I*100).toFixed(2)}%`,oe=`${(W/I*100).toFixed(2)}%`;let F="";return U<1?F="RRR di bawah standar minimum!":ie>=0?F="Stop Loss tidak valid (tidak rugi)!":W<=0&&(F="Take Profit tidak valid (tidak untung)!"),{contract:`$${K.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,sl:z,slMargin:`$${ee.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfit:`${ie>=0?"+":""}$${ie.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,slProfitPct:le,tp:P,tpMargin:`$${ae.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfit:`${W>=0?"+":""}$${W.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,tpProfitPct:oe,rrr:U.toFixed(2),liq:Z.toLocaleString("en-US",{minimumFractionDigits:5,maximumFractionDigits:8}),warning:F}},[l,u,p,g,T,_]);return x.jsxs("div",{className:"p-4 max-w-md mx-auto font-sans",children:[x.jsxs("div",{className:"flex items-center mb-6",children:[x.jsx(_w,{className:"h-7 w-7 text-violet-600 dark:text-violet-400 mr-3"}),x.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white tracking-tight",children:"Kalkulator Leverage"})]}),x.jsx("div",{className:Cl,children:x.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Margin (USDT)"}),x.jsx("input",{type:"number",className:wl,value:l,onChange:I=>s(I.target.value),placeholder:"e.g. 6.64"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Leverage (x)"}),x.jsx("input",{type:"number",className:wl,value:u,onChange:I=>h(I.target.value),min:1,max:125})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Entry Price"}),x.jsx("input",{type:"number",className:wl,value:p,onChange:I=>m(I.target.value),placeholder:"e.g. 0.621"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Stop Loss"}),x.jsx("input",{type:"number",className:wl,value:g,onChange:I=>v(I.target.value),placeholder:"e.g. 0.62552"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Take Profit"}),x.jsx("input",{type:"number",className:wl,value:T,onChange:I=>S(I.target.value),placeholder:"e.g. 0.6185"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold mb-1 text-slate-700 dark:text-slate-200",children:"Arah Posisi"}),x.jsxs("div",{className:"flex gap-3 mt-1",children:[x.jsx("button",{onClick:()=>E("LONG"),className:`px-4 py-2 rounded-lg font-bold shadow transition-all duration-200 border-2 ${_==="LONG"?"bg-emerald-600 text-white border-emerald-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-emerald-50 dark:hover:bg-emerald-900 hover:border-emerald-400"}`,children:"Long"}),x.jsx("button",{onClick:()=>E("SHORT"),className:`px-4 py-2 rounded-md font-bold shadow transition-all duration-200 border-2 ${_==="SHORT"?"bg-red-600 text-white border-red-700 scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-slate-100 border-slate-300 dark:border-slate-600 hover:bg-red-50 dark:hover:bg-red-900 hover:border-red-400"}`,children:"Short"})]})]})]})}),x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:Cl,children:[x.jsx("h4",{className:o0,children:"Nilai Kontrak"}),x.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[x.jsx("span",{children:"Total Kontrak"}),x.jsx("span",{children:M.contract})]})]}),x.jsxs("div",{className:Cl+" border-l-4 border-red-400",children:[x.jsx("h4",{className:"text-base font-bold mb-2 text-red-600 tracking-wide",children:"Stop Loss"}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Estimasi SL (USDT)"}),x.jsx("span",{children:M.sl})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Margin Penutupan (USDT)"}),x.jsx("span",{children:M.slMargin})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Est. Profit (USDT)"}),x.jsx("span",{children:M.slProfit})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Est. Profit (%)"}),x.jsx("span",{children:M.slProfitPct})]})]}),x.jsxs("div",{className:Cl+" border-l-4 border-emerald-400",children:[x.jsx("h4",{className:"text-base font-bold mb-2 text-emerald-600 tracking-wide",children:"Take Profit"}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Estimasi TP (USDT)"}),x.jsx("span",{children:M.tp})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Margin Penutupan (USDT)"}),x.jsx("span",{children:M.tpMargin})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Est. Profit (USDT)"}),x.jsx("span",{children:M.tpProfit})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Est. Profit (%)"}),x.jsx("span",{children:M.tpProfitPct})]})]}),x.jsxs("div",{className:Cl,children:[x.jsx("h4",{className:o0,children:"Ringkasan"}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Risk/Reward Ratio (RRR)"}),x.jsx("span",{children:M.rrr})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Liquidation Price (estimasi)"}),x.jsx("span",{children:M.liq})]})]}),M.warning&&x.jsx("div",{className:"mt-3 text-base font-bold text-red-700 bg-red-50 dark:bg-red-900 rounded-xl p-4 border border-red-200 dark:border-red-700 shadow transition-all duration-200 animate-pulse",children:M.warning})]})]})};function Ow(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Bw=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zw=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qw={};function l0(t,e){return(qw.jsx?zw:Bw).test(t)}const Fw=/[ \t\n\f\r]/g;function Vw(t){return typeof t=="object"?t.type==="text"?s0(t.value):!1:s0(t)}function s0(t){return t.replace(Fw,"")===""}class Gl{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Gl.prototype.normal={};Gl.prototype.property={};Gl.prototype.space=void 0;function Wv(t,e){const n={},i={};for(const l of t)Object.assign(n,l.property),Object.assign(i,l.normal);return new Gl(n,i,e)}function jf(t){return t.toLowerCase()}class Jt{constructor(e,n){this.attribute=n,this.property=e}}Jt.prototype.attribute="";Jt.prototype.booleanish=!1;Jt.prototype.boolean=!1;Jt.prototype.commaOrSpaceSeparated=!1;Jt.prototype.commaSeparated=!1;Jt.prototype.defined=!1;Jt.prototype.mustUseProperty=!1;Jt.prototype.number=!1;Jt.prototype.overloadedBoolean=!1;Jt.prototype.property="";Jt.prototype.spaceSeparated=!1;Jt.prototype.space=void 0;let jw=0;const Ne=sr(),pt=sr(),Gf=sr(),se=sr(),nt=sr(),uo=sr(),rn=sr();function sr(){return 2**++jw}const Hf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:pt,commaOrSpaceSeparated:rn,commaSeparated:uo,number:se,overloadedBoolean:Gf,spaceSeparated:nt},Symbol.toStringTag,{value:"Module"})),ff=Object.keys(Hf);class Td extends Jt{constructor(e,n,i,l){let s=-1;if(super(e,n),a0(this,"space",l),typeof i=="number")for(;++s<ff.length;){const u=ff[s];a0(this,ff[s],(i&Hf[u])===Hf[u])}}}Td.prototype.defined=!0;function a0(t,e,n){n&&(t[e]=n)}function po(t){const e={},n={};for(const[i,l]of Object.entries(t.properties)){const s=new Td(i,t.transform(t.attributes||{},i),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[jf(i)]=i,n[jf(s.attribute)]=i}return new Gl(e,n,t.space)}const Zv=po({properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:nt,ariaCurrent:null,ariaDescribedBy:nt,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:nt,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:nt,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nt,ariaLevel:se,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:nt,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:nt,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:pt,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ex(t,e){return e in t?t[e]:e}function tx(t,e){return ex(t,e.toLowerCase())}const Gw=po({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:uo,acceptCharset:nt,accessKey:nt,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:nt,autoFocus:Ne,autoPlay:Ne,blocking:nt,capture:null,charSet:null,checked:Ne,cite:null,className:nt,cols:se,colSpan:null,content:null,contentEditable:pt,controls:Ne,controlsList:nt,coords:se|uo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:Gf,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:nt,height:se,hidden:Gf,high:se,href:null,hrefLang:null,htmlFor:nt,httpEquiv:nt,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:nt,itemRef:nt,itemScope:Ne,itemType:nt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:se,pattern:null,ping:nt,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:nt,required:Ne,reversed:Ne,rows:se,rowSpan:se,sandbox:nt,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:pt,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nt,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:tx}),Hw=po({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rn,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:nt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:uo,g2:uo,glyphName:uo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rn,rev:rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rn,requiredFeatures:rn,requiredFonts:rn,requiredFormats:rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rn,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ex}),nx=po({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),ix=po({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:tx}),rx=po({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),$w={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Yw=/[A-Z]/g,u0=/-[a-z]/g,Jw=/^data[-\w.:]+$/i;function Kw(t,e){const n=jf(e);let i=e,l=Jt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Jw.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(u0,Qw);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!u0.test(s)){let u=s.replace(Yw,Xw);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}l=Td}return new l(i,e)}function Xw(t){return"-"+t.toLowerCase()}function Qw(t){return t.charAt(1).toUpperCase()}const Ww=Wv([Zv,Gw,nx,ix,rx],"html"),Sd=Wv([Zv,Hw,nx,ix,rx],"svg");function Zw(t){return t.join(" ").trim()}var Kr={},df,c0;function e1(){if(c0)return df;c0=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,m="/",g="*",v="",T="comment",S="declaration";df=function(E,R){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];R=R||{};var M=1,I=1;function N(ae){var le=ae.match(e);le&&(M+=le.length);var oe=ae.lastIndexOf(p);I=~oe?ae.length-oe:I+ae.length}function B(){var ae={line:M,column:I};return function(le){return le.position=new z(ae),ie(),le}}function z(ae){this.start=ae,this.end={line:M,column:I},this.source=R.source}z.prototype.content=E;function P(ae){var le=new Error(R.source+":"+M+":"+I+": "+ae);if(le.reason=ae,le.filename=R.source,le.line=M,le.column=I,le.source=E,!R.silent)throw le}function K(ae){var le=ae.exec(E);if(le){var oe=le[0];return N(oe),E=E.slice(oe.length),le}}function ie(){K(n)}function W(ae){var le;for(ae=ae||[];le=U();)le!==!1&&ae.push(le);return ae}function U(){var ae=B();if(!(m!=E.charAt(0)||g!=E.charAt(1))){for(var le=2;v!=E.charAt(le)&&(g!=E.charAt(le)||m!=E.charAt(le+1));)++le;if(le+=2,v===E.charAt(le-1))return P("End of comment missing");var oe=E.slice(2,le-2);return I+=2,N(oe),E=E.slice(le),I+=2,ae({type:T,comment:oe})}}function Z(){var ae=B(),le=K(i);if(le){if(U(),!K(l))return P("property missing ':'");var oe=K(s),F=ae({type:S,property:_(le[0].replace(t,v)),value:oe?_(oe[0].replace(t,v)):v});return K(u),F}}function ee(){var ae=[];W(ae);for(var le;le=Z();)le!==!1&&(ae.push(le),W(ae));return ae}return ie(),ee()};function _(E){return E?E.replace(h,v):v}return df}var f0;function t1(){if(f0)return Kr;f0=1;var t=Kr&&Kr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=n;var e=t(e1());function n(i,l){var s=null;if(!i||typeof i!="string")return s;var u=(0,e.default)(i),h=typeof l=="function";return u.forEach(function(p){if(p.type==="declaration"){var m=p.property,g=p.value;h?l(m,g,p):g&&(s=s||{},s[m]=g)}}),s}return Kr}var _l={},d0;function n1(){if(d0)return _l;d0=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,s=function(m){return!m||n.test(m)||t.test(m)},u=function(m,g){return g.toUpperCase()},h=function(m,g){return"".concat(g,"-")},p=function(m,g){return g===void 0&&(g={}),s(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(l,h):m=m.replace(i,h),m.replace(e,u))};return _l.camelCase=p,_l}var kl,h0;function i1(){if(h0)return kl;h0=1;var t=kl&&kl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(t1()),n=n1();function i(l,s){var u={};return!l||typeof l!="string"||(0,e.default)(l,function(h,p){h&&p&&(u[(0,n.camelCase)(h,s)]=p)}),u}return i.default=i,kl=i,kl}var r1=i1();const o1=jl(r1),ox=lx("end"),wd=lx("start");function lx(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function l1(t){const e=wd(t),n=ox(t);if(e&&n)return{start:e,end:n}}function Dl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?m0(t.position):"start"in t||"end"in t?m0(t):"line"in t||"column"in t?$f(t):""}function $f(t){return p0(t&&t.line)+":"+p0(t&&t.column)}function m0(t){return $f(t&&t.start)+"-"+$f(t&&t.end)}function p0(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let l="",s={},u=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?l=e:!s.cause&&e&&(u=!0,l=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?s.ruleId=i:(s.source=i.slice(0,p),s.ruleId=i.slice(p+1))}if(!s.place&&s.ancestors&&s.ancestors){const p=s.ancestors[s.ancestors.length-1];p&&(s.place=p.position)}const h=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=l,this.line=h?h.line:void 0,this.name=Dl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=u&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const Cd={}.hasOwnProperty,s1=new Map,a1=/[A-Z]/g,u1=new Set(["table","tbody","thead","tfoot","tr"]),c1=new Set(["td","th"]),sx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function f1(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=x1(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=v1(n,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Sd:Ww,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=ax(l,t,void 0);return s&&typeof s!="string"?s:l.create(t,l.Fragment,{children:s||void 0},void 0)}function ax(t,e,n){if(e.type==="element")return d1(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return h1(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return p1(t,e,n);if(e.type==="mdxjsEsm")return m1(t,e);if(e.type==="root")return g1(t,e,n);if(e.type==="text")return y1(t,e)}function d1(t,e,n){const i=t.schema;let l=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(l=Sd,t.schema=l),t.ancestors.push(e);const s=cx(t,e.tagName,!1),u=b1(t,e);let h=kd(t,e);return u1.has(e.tagName)&&(h=h.filter(function(p){return typeof p=="string"?!Vw(p):!0})),ux(t,u,s,e),_d(u,h),t.ancestors.pop(),t.schema=i,t.create(e,s,u,n)}function h1(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}ql(t,e.position)}function m1(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ql(t,e.position)}function p1(t,e,n){const i=t.schema;let l=i;e.name==="svg"&&i.space==="html"&&(l=Sd,t.schema=l),t.ancestors.push(e);const s=e.name===null?t.Fragment:cx(t,e.name,!0),u=T1(t,e),h=kd(t,e);return ux(t,u,s,e),_d(u,h),t.ancestors.pop(),t.schema=i,t.create(e,s,u,n)}function g1(t,e,n){const i={};return _d(i,kd(t,e)),t.create(e,t.Fragment,i,n)}function y1(t,e){return e.value}function ux(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function _d(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function v1(t,e,n){return i;function i(l,s,u,h){const m=Array.isArray(u.children)?n:e;return h?m(s,u,h):m(s,u)}}function x1(t,e){return n;function n(i,l,s,u){const h=Array.isArray(s.children),p=wd(i);return e(l,s,u,h,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function b1(t,e){const n={};let i,l;for(l in e.properties)if(l!=="children"&&Cd.call(e.properties,l)){const s=S1(t,l,e.properties[l]);if(s){const[u,h]=s;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&c1.has(e.tagName)?i=h:n[u]=h}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function T1(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const u=s.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else ql(t,e.position);else{const l=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const h=i.value.data.estree.body[0];h.type,s=t.evaluater.evaluateExpression(h.expression)}else ql(t,e.position);else s=i.value===null?!0:i.value;n[l]=s}return n}function kd(t,e){const n=[];let i=-1;const l=t.passKeys?new Map:s1;for(;++i<e.children.length;){const s=e.children[i];let u;if(t.passKeys){const p=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(p){const m=l.get(p)||0;u=p+"-"+m,l.set(p,m+1)}}const h=ax(t,s,u);h!==void 0&&n.push(h)}return n}function S1(t,e,n){const i=Kw(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Ow(n):Zw(n)),i.property==="style"){let l=typeof n=="object"?n:w1(t,String(n));return t.stylePropertyNameCase==="css"&&(l=C1(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&i.space?$w[i.property]||i.property:i.attribute,n]}}function w1(t,e){try{return o1(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,l=new Ot("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=sx+"#cannot-parse-style-attribute",l}}function cx(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let s=-1,u;for(;++s<l.length;){const h=l0(l[s])?{type:"Identifier",name:l[s]}:{type:"Literal",value:l[s]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(s&&h.type==="Literal"),optional:!1}:h}i=u}else i=l0(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const l=i.value;return Cd.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(i);ql(t)}function ql(t,e){const n=new Ot("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=sx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function C1(t){const e={};let n;for(n in t)Cd.call(t,n)&&(e[_1(n)]=t[n]);return e}function _1(t){let e=t.replace(a1,k1);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function k1(t){return"-"+t.toLowerCase()}const hf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},E1={};function Ed(t,e){const n=E1,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return fx(t,i,l)}function fx(t,e,n){if(A1(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return g0(t.children,e,n)}return Array.isArray(t)?g0(t,e,n):""}function g0(t,e,n){const i=[];let l=-1;for(;++l<t.length;)i[l]=fx(t[l],e,n);return i.join("")}function A1(t){return!!(t&&typeof t=="object")}const y0=document.createElement("i");function Ad(t){const e="&"+t+";";y0.innerHTML=e;const n=y0.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function on(t,e,n,i){const l=t.length;let s=0,u;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);s<i.length;)u=i.slice(s,s+1e4),u.unshift(e,0),t.splice(...u),s+=1e4,e+=1e4}function pn(t,e){return t.length>0?(on(t,t.length,0,e),t):e}const v0={}.hasOwnProperty;function dx(t){const e={};let n=-1;for(;++n<t.length;)M1(e,t[n]);return e}function M1(t,e){let n;for(n in e){const l=(v0.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let u;if(s)for(u in s){v0.call(l,u)||(l[u]=[]);const h=s[u];N1(l[u],Array.isArray(h)?h:h?[h]:[])}}}function N1(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);on(t,0,0,i)}function hx(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt=Ii(/[A-Za-z]/),Lt=Ii(/[\dA-Za-z]/),R1=Ii(/[#-'*+\--9=?A-Z^-~]/);function Aa(t){return t!==null&&(t<32||t===127)}const Yf=Ii(/\d/),D1=Ii(/[\dA-Fa-f]/),I1=Ii(/[!-/:-@[-`{-~]/);function be(t){return t!==null&&t<-2}function Ze(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const Oa=Ii(new RegExp("\\p{P}|\\p{S}","u")),or=Ii(/\s/);function Ii(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function go(t){const e=[];let n=-1,i=0,l=0;for(;++n<t.length;){const s=t.charCodeAt(n);let u="";if(s===37&&Lt(t.charCodeAt(n+1))&&Lt(t.charCodeAt(n+2)))l=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(u=String.fromCharCode(s));else if(s>55295&&s<57344){const h=t.charCodeAt(n+1);s<56320&&h>56319&&h<57344?(u=String.fromCharCode(s,h),l=1):u=""}else u=String.fromCharCode(s);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+l+1,u=""),l&&(n+=l,l=0)}return e.join("")+t.slice(i)}function ze(t,e,n,i){const l=i?i-1:Number.POSITIVE_INFINITY;let s=0;return u;function u(p){return Ue(p)?(t.enter(n),h(p)):e(p)}function h(p){return Ue(p)&&s++<l?(t.consume(p),h):(t.exit(n),e(p))}}const P1={tokenize:L1};function L1(t){const e=t.attempt(this.parser.constructs.contentInitial,i,l);let n;return e;function i(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),ze(t,e,"linePrefix")}function l(h){return t.enter("paragraph"),s(h)}function s(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return be(h)?(t.consume(h),t.exit("chunkText"),s):(t.consume(h),u)}}const U1={tokenize:O1},x0={tokenize:B1};function O1(t){const e=this,n=[];let i=0,l,s,u;return h;function h(N){if(i<n.length){const B=n[i];return e.containerState=B[1],t.attempt(B[0].continuation,p,m)(N)}return m(N)}function p(N){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&I();const B=e.events.length;let z=B,P;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){P=e.events[z][1].end;break}M(i);let K=B;for(;K<e.events.length;)e.events[K][1].end={...P},K++;return on(e.events,z+1,0,e.events.slice(B)),e.events.length=K,m(N)}return h(N)}function m(N){if(i===n.length){if(!l)return T(N);if(l.currentConstruct&&l.currentConstruct.concrete)return _(N);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(x0,g,v)(N)}function g(N){return l&&I(),M(i),T(N)}function v(N){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,_(N)}function T(N){return e.containerState={},t.attempt(x0,S,_)(N)}function S(N){return i++,n.push([e.currentConstruct,e.containerState]),T(N)}function _(N){if(N===null){l&&I(),M(0),t.consume(N);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:s}),E(N)}function E(N){if(N===null){R(t.exit("chunkFlow"),!0),M(0),t.consume(N);return}return be(N)?(t.consume(N),R(t.exit("chunkFlow")),i=0,e.interrupt=void 0,h):(t.consume(N),E)}function R(N,B){const z=e.sliceStream(N);if(B&&z.push(null),N.previous=s,s&&(s.next=N),s=N,l.defineSkip(N.start),l.write(z),e.parser.lazy[N.start.line]){let P=l.events.length;for(;P--;)if(l.events[P][1].start.offset<u&&(!l.events[P][1].end||l.events[P][1].end.offset>u))return;const K=e.events.length;let ie=K,W,U;for(;ie--;)if(e.events[ie][0]==="exit"&&e.events[ie][1].type==="chunkFlow"){if(W){U=e.events[ie][1].end;break}W=!0}for(M(i),P=K;P<e.events.length;)e.events[P][1].end={...U},P++;on(e.events,ie+1,0,e.events.slice(K)),e.events.length=P}}function M(N){let B=n.length;for(;B-- >N;){const z=n[B];e.containerState=z[1],z[0].exit.call(e,t)}n.length=N}function I(){l.write([null]),s=void 0,l=void 0,e.containerState._closeFlow=void 0}}function B1(t,e,n){return ze(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ho(t){if(t===null||Ze(t)||or(t))return 1;if(Oa(t))return 2}function Ba(t,e,n){const i=[];let l=-1;for(;++l<t.length;){const s=t[l].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const Jf={name:"attention",resolveAll:z1,tokenize:q1};function z1(t,e){let n=-1,i,l,s,u,h,p,m,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[i][1].end},T={...t[n][1].start};b0(v,-p),b0(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:v,end:{...t[i][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},s={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},l={type:p>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[i][1].end={...u.start},t[n][1].start={...h.end},m=[],t[i][1].end.offset-t[i][1].start.offset&&(m=pn(m,[["enter",t[i][1],e],["exit",t[i][1],e]])),m=pn(m,[["enter",l,e],["enter",u,e],["exit",u,e],["enter",s,e]]),m=pn(m,Ba(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),m=pn(m,[["exit",s,e],["enter",h,e],["exit",h,e],["exit",l,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,m=pn(m,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,on(t,i-1,n-i+3,m),n=i+m.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function q1(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,l=ho(i);let s;return u;function u(p){return s=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===s)return t.consume(p),h;const m=t.exit("attentionSequence"),g=ho(p),v=!g||g===2&&l||n.includes(p),T=!l||l===2&&g||n.includes(i);return m._open=!!(s===42?v:v&&(l||!T)),m._close=!!(s===42?T:T&&(g||!v)),e(p)}}function b0(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const F1={name:"autolink",tokenize:V1};function V1(t,e,n){let i=0;return l;function l(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(S){return qt(S)?(t.consume(S),u):S===64?n(S):m(S)}function u(S){return S===43||S===45||S===46||Lt(S)?(i=1,h(S)):m(S)}function h(S){return S===58?(t.consume(S),i=0,p):(S===43||S===45||S===46||Lt(S))&&i++<32?(t.consume(S),h):(i=0,m(S))}function p(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||Aa(S)?n(S):(t.consume(S),p)}function m(S){return S===64?(t.consume(S),g):R1(S)?(t.consume(S),m):n(S)}function g(S){return Lt(S)?v(S):n(S)}function v(S){return S===46?(t.consume(S),i=0,g):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):T(S)}function T(S){if((S===45||Lt(S))&&i++<63){const _=S===45?T:v;return t.consume(S),_}return n(S)}}const Hl={partial:!0,tokenize:j1};function j1(t,e,n){return i;function i(s){return Ue(s)?ze(t,l,"linePrefix")(s):l(s)}function l(s){return s===null||be(s)?e(s):n(s)}}const mx={continuation:{tokenize:H1},exit:$1,name:"blockQuote",tokenize:G1};function G1(t,e,n){const i=this;return l;function l(u){if(u===62){const h=i.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),s}return n(u)}function s(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function H1(t,e,n){const i=this;return l;function l(u){return Ue(u)?ze(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):s(u)}function s(u){return t.attempt(mx,e,n)(u)}}function $1(t){t.exit("blockQuote")}const px={name:"characterEscape",tokenize:Y1};function Y1(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),l}function l(s){return I1(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const gx={name:"characterReference",tokenize:J1};function J1(t,e,n){const i=this;let l=0,s,u;return h;function h(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),p}function p(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),m):(t.enter("characterReferenceValue"),s=31,u=Lt,g(v))}function m(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,u=D1,g):(t.enter("characterReferenceValue"),s=7,u=Yf,g(v))}function g(v){if(v===59&&l){const T=t.exit("characterReferenceValue");return u===Lt&&!Ad(i.sliceSerialize(T))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(v)&&l++<s?(t.consume(v),g):n(v)}}const T0={partial:!0,tokenize:X1},S0={concrete:!0,name:"codeFenced",tokenize:K1};function K1(t,e,n){const i=this,l={partial:!0,tokenize:z};let s=0,u=0,h;return p;function p(P){return m(P)}function m(P){const K=i.events[i.events.length-1];return s=K&&K[1].type==="linePrefix"?K[2].sliceSerialize(K[1],!0).length:0,h=P,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(P)}function g(P){return P===h?(u++,t.consume(P),g):u<3?n(P):(t.exit("codeFencedFenceSequence"),Ue(P)?ze(t,v,"whitespace")(P):v(P))}function v(P){return P===null||be(P)?(t.exit("codeFencedFence"),i.interrupt?e(P):t.check(T0,E,B)(P)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(P))}function T(P){return P===null||be(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(P)):Ue(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ze(t,S,"whitespace")(P)):P===96&&P===h?n(P):(t.consume(P),T)}function S(P){return P===null||be(P)?v(P):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(P))}function _(P){return P===null||be(P)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(P)):P===96&&P===h?n(P):(t.consume(P),_)}function E(P){return t.attempt(l,B,R)(P)}function R(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),M}function M(P){return s>0&&Ue(P)?ze(t,I,"linePrefix",s+1)(P):I(P)}function I(P){return P===null||be(P)?t.check(T0,E,B)(P):(t.enter("codeFlowValue"),N(P))}function N(P){return P===null||be(P)?(t.exit("codeFlowValue"),I(P)):(t.consume(P),N)}function B(P){return t.exit("codeFenced"),e(P)}function z(P,K,ie){let W=0;return U;function U(oe){return P.enter("lineEnding"),P.consume(oe),P.exit("lineEnding"),Z}function Z(oe){return P.enter("codeFencedFence"),Ue(oe)?ze(P,ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):ee(oe)}function ee(oe){return oe===h?(P.enter("codeFencedFenceSequence"),ae(oe)):ie(oe)}function ae(oe){return oe===h?(W++,P.consume(oe),ae):W>=u?(P.exit("codeFencedFenceSequence"),Ue(oe)?ze(P,le,"whitespace")(oe):le(oe)):ie(oe)}function le(oe){return oe===null||be(oe)?(P.exit("codeFencedFence"),K(oe)):ie(oe)}}}function X1(t,e,n){const i=this;return l;function l(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s)}function s(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const mf={name:"codeIndented",tokenize:W1},Q1={partial:!0,tokenize:Z1};function W1(t,e,n){const i=this;return l;function l(m){return t.enter("codeIndented"),ze(t,s,"linePrefix",5)(m)}function s(m){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):n(m)}function u(m){return m===null?p(m):be(m)?t.attempt(Q1,u,p)(m):(t.enter("codeFlowValue"),h(m))}function h(m){return m===null||be(m)?(t.exit("codeFlowValue"),u(m)):(t.consume(m),h)}function p(m){return t.exit("codeIndented"),e(m)}}function Z1(t,e,n){const i=this;return l;function l(u){return i.parser.lazy[i.now().line]?n(u):be(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):ze(t,s,"linePrefix",5)(u)}function s(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):be(u)?l(u):n(u)}}const eC={name:"codeText",previous:nC,resolve:tC,tokenize:iC};function tC(t){let e=t.length-4,n=3,i,l;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)l===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(l=i):(i===e||t[i][1].type==="lineEnding")&&(t[l][1].type="codeTextData",i!==l+2&&(t[l][1].end=t[i-1][1].end,t.splice(l+2,i-l-2),e-=i-l-2,i=l+2),l=void 0);return t}function nC(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function iC(t,e,n){let i=0,l,s;return u;function u(v){return t.enter("codeText"),t.enter("codeTextSequence"),h(v)}function h(v){return v===96?(t.consume(v),i++,h):(t.exit("codeTextSequence"),p(v))}function p(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),p):v===96?(s=t.enter("codeTextSequence"),l=0,g(v)):be(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("codeTextData"),m(v))}function m(v){return v===null||v===32||v===96||be(v)?(t.exit("codeTextData"),p(v)):(t.consume(v),m)}function g(v){return v===96?(t.consume(v),l++,g):l===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(s.type="codeTextData",m(v))}}class rC{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const l=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return i&&El(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),El(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),El(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);El(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);El(this.left,n.reverse())}}}function El(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function yx(t){const e={};let n=-1,i,l,s,u,h,p,m;const g=new rC(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,s=0,s<p.length&&p[s][1].type==="lineEndingBlank"&&(s+=2),s<p.length&&p[s][1].type==="content"))for(;++s<p.length&&p[s][1].type!=="content";)p[s][1].type==="chunkText"&&(p[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,oC(g,n)),n=e[n],m=!0);else if(i[1]._container){for(s=n,l=void 0;s--;)if(u=g.get(s),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),u[1].type="lineEnding",l=s);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;l&&(i[1].end={...g.get(l)[1].start},h=g.slice(l,n),h.unshift(i),g.splice(l,n-l+1,h))}}return on(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function oC(t,e){const n=t.get(e)[1],i=t.get(e)[2];let l=e-1;const s=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,p=[],m={};let g,v,T=-1,S=n,_=0,E=0;const R=[E];for(;S;){for(;t.get(++l)[1]!==S;);s.push(l),S._tokenizer||(g=i.sliceStream(S),S.next||g.push(null),v&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=S,S=S.next}for(S=n;++T<h.length;)h[T][0]==="exit"&&h[T-1][0]==="enter"&&h[T][1].type===h[T-1][1].type&&h[T][1].start.line!==h[T][1].end.line&&(E=T+1,R.push(E),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):R.pop(),T=R.length;T--;){const M=h.slice(R[T],R[T+1]),I=s.pop();p.push([I,I+M.length-1]),t.splice(I,2,M)}for(p.reverse(),T=-1;++T<p.length;)m[_+p[T][0]]=_+p[T][1],_+=p[T][1]-p[T][0]-1;return m}const lC={resolve:aC,tokenize:uC},sC={partial:!0,tokenize:cC};function aC(t){return yx(t),t}function uC(t,e){let n;return i;function i(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),l(h)}function l(h){return h===null?s(h):be(h)?t.check(sC,u,s)(h):(t.consume(h),l)}function s(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function cC(t,e,n){const i=this;return l;function l(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),ze(t,s,"linePrefix")}function s(u){if(u===null||be(u))return n(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function vx(t,e,n,i,l,s,u,h,p){const m=p||Number.POSITIVE_INFINITY;let g=0;return v;function v(M){return M===60?(t.enter(i),t.enter(l),t.enter(s),t.consume(M),t.exit(s),T):M===null||M===32||M===41||Aa(M)?n(M):(t.enter(i),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),E(M))}function T(M){return M===62?(t.enter(s),t.consume(M),t.exit(s),t.exit(l),t.exit(i),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),S(M))}function S(M){return M===62?(t.exit("chunkString"),t.exit(h),T(M)):M===null||M===60||be(M)?n(M):(t.consume(M),M===92?_:S)}function _(M){return M===60||M===62||M===92?(t.consume(M),S):S(M)}function E(M){return!g&&(M===null||M===41||Ze(M))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(i),e(M)):g<m&&M===40?(t.consume(M),g++,E):M===41?(t.consume(M),g--,E):M===null||M===32||M===40||Aa(M)?n(M):(t.consume(M),M===92?R:E)}function R(M){return M===40||M===41||M===92?(t.consume(M),E):E(M)}}function xx(t,e,n,i,l,s){const u=this;let h=0,p;return m;function m(S){return t.enter(i),t.enter(l),t.consume(S),t.exit(l),t.enter(s),g}function g(S){return h>999||S===null||S===91||S===93&&!p||S===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(t.exit(s),t.enter(l),t.consume(S),t.exit(l),t.exit(i),e):be(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||S===91||S===93||be(S)||h++>999?(t.exit("chunkString"),g(S)):(t.consume(S),p||(p=!Ue(S)),S===92?T:v)}function T(S){return S===91||S===92||S===93?(t.consume(S),h++,v):v(S)}}function bx(t,e,n,i,l,s){let u;return h;function h(T){return T===34||T===39||T===40?(t.enter(i),t.enter(l),t.consume(T),t.exit(l),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(l),t.consume(T),t.exit(l),t.exit(i),e):(t.enter(s),m(T))}function m(T){return T===u?(t.exit(s),p(u)):T===null?n(T):be(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),ze(t,m,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===u||T===null||be(T)?(t.exit("chunkString"),m(T)):(t.consume(T),T===92?v:g)}function v(T){return T===u||T===92?(t.consume(T),g):g(T)}}function Il(t,e){let n;return i;function i(l){return be(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),n=!0,i):Ue(l)?ze(t,i,n?"linePrefix":"lineSuffix")(l):e(l)}}const fC={name:"definition",tokenize:hC},dC={partial:!0,tokenize:mC};function hC(t,e,n){const i=this;let l;return s;function s(S){return t.enter("definition"),u(S)}function u(S){return xx.call(i,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function h(S){return l=wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),p):n(S)}function p(S){return Ze(S)?Il(t,m)(S):m(S)}function m(S){return vx(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return t.attempt(dC,v,v)(S)}function v(S){return Ue(S)?ze(t,T,"whitespace")(S):T(S)}function T(S){return S===null||be(S)?(t.exit("definition"),i.parser.defined.push(l),e(S)):n(S)}}function mC(t,e,n){return i;function i(h){return Ze(h)?Il(t,l)(h):n(h)}function l(h){return bx(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function s(h){return Ue(h)?ze(t,u,"whitespace")(h):u(h)}function u(h){return h===null||be(h)?e(h):n(h)}}const pC={name:"hardBreakEscape",tokenize:gC};function gC(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),l}function l(s){return be(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const yC={name:"headingAtx",resolve:vC,tokenize:xC};function vC(t,e){let n=t.length-2,i=3,l,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(l={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},on(t,i,n-i+1,[["enter",l,e],["enter",s,e],["exit",s,e],["exit",l,e]])),t}function xC(t,e,n){let i=0;return l;function l(g){return t.enter("atxHeading"),s(g)}function s(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(t.consume(g),u):g===null||Ze(g)?(t.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(t.enter("atxHeadingSequence"),p(g)):g===null||be(g)?(t.exit("atxHeading"),e(g)):Ue(g)?ze(t,h,"whitespace")(g):(t.enter("atxHeadingText"),m(g))}function p(g){return g===35?(t.consume(g),p):(t.exit("atxHeadingSequence"),h(g))}function m(g){return g===null||g===35||Ze(g)?(t.exit("atxHeadingText"),h(g)):(t.consume(g),m)}}const bC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w0=["pre","script","style","textarea"],TC={concrete:!0,name:"htmlFlow",resolveTo:CC,tokenize:_C},SC={partial:!0,tokenize:EC},wC={partial:!0,tokenize:kC};function CC(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function _C(t,e,n){const i=this;let l,s,u,h,p;return m;function m(A){return g(A)}function g(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),v}function v(A){return A===33?(t.consume(A),T):A===47?(t.consume(A),s=!0,E):A===63?(t.consume(A),l=3,i.interrupt?e:C):qt(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function T(A){return A===45?(t.consume(A),l=2,S):A===91?(t.consume(A),l=5,h=0,_):qt(A)?(t.consume(A),l=4,i.interrupt?e:C):n(A)}function S(A){return A===45?(t.consume(A),i.interrupt?e:C):n(A)}function _(A){const fe="CDATA[";return A===fe.charCodeAt(h++)?(t.consume(A),h===fe.length?i.interrupt?e:ee:_):n(A)}function E(A){return qt(A)?(t.consume(A),u=String.fromCharCode(A),R):n(A)}function R(A){if(A===null||A===47||A===62||Ze(A)){const fe=A===47,ye=u.toLowerCase();return!fe&&!s&&w0.includes(ye)?(l=1,i.interrupt?e(A):ee(A)):bC.includes(u.toLowerCase())?(l=6,fe?(t.consume(A),M):i.interrupt?e(A):ee(A)):(l=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(A):s?I(A):N(A))}return A===45||Lt(A)?(t.consume(A),u+=String.fromCharCode(A),R):n(A)}function M(A){return A===62?(t.consume(A),i.interrupt?e:ee):n(A)}function I(A){return Ue(A)?(t.consume(A),I):U(A)}function N(A){return A===47?(t.consume(A),U):A===58||A===95||qt(A)?(t.consume(A),B):Ue(A)?(t.consume(A),N):U(A)}function B(A){return A===45||A===46||A===58||A===95||Lt(A)?(t.consume(A),B):z(A)}function z(A){return A===61?(t.consume(A),P):Ue(A)?(t.consume(A),z):N(A)}function P(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),p=A,K):Ue(A)?(t.consume(A),P):ie(A)}function K(A){return A===p?(t.consume(A),p=null,W):A===null||be(A)?n(A):(t.consume(A),K)}function ie(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Ze(A)?z(A):(t.consume(A),ie)}function W(A){return A===47||A===62||Ue(A)?N(A):n(A)}function U(A){return A===62?(t.consume(A),Z):n(A)}function Z(A){return A===null||be(A)?ee(A):Ue(A)?(t.consume(A),Z):n(A)}function ee(A){return A===45&&l===2?(t.consume(A),F):A===60&&l===1?(t.consume(A),ne):A===62&&l===4?(t.consume(A),$):A===63&&l===3?(t.consume(A),C):A===93&&l===5?(t.consume(A),me):be(A)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(SC,J,ae)(A)):A===null||be(A)?(t.exit("htmlFlowData"),ae(A)):(t.consume(A),ee)}function ae(A){return t.check(wC,le,J)(A)}function le(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),oe}function oe(A){return A===null||be(A)?ae(A):(t.enter("htmlFlowData"),ee(A))}function F(A){return A===45?(t.consume(A),C):ee(A)}function ne(A){return A===47?(t.consume(A),u="",ce):ee(A)}function ce(A){if(A===62){const fe=u.toLowerCase();return w0.includes(fe)?(t.consume(A),$):ee(A)}return qt(A)&&u.length<8?(t.consume(A),u+=String.fromCharCode(A),ce):ee(A)}function me(A){return A===93?(t.consume(A),C):ee(A)}function C(A){return A===62?(t.consume(A),$):A===45&&l===2?(t.consume(A),C):ee(A)}function $(A){return A===null||be(A)?(t.exit("htmlFlowData"),J(A)):(t.consume(A),$)}function J(A){return t.exit("htmlFlow"),e(A)}}function kC(t,e,n){const i=this;return l;function l(u){return be(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):n(u)}function s(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function EC(t,e,n){return i;function i(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(Hl,e,n)}}const AC={name:"htmlText",tokenize:MC};function MC(t,e,n){const i=this;let l,s,u;return h;function h(C){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(C),p}function p(C){return C===33?(t.consume(C),m):C===47?(t.consume(C),z):C===63?(t.consume(C),N):qt(C)?(t.consume(C),ie):n(C)}function m(C){return C===45?(t.consume(C),g):C===91?(t.consume(C),s=0,_):qt(C)?(t.consume(C),I):n(C)}function g(C){return C===45?(t.consume(C),S):n(C)}function v(C){return C===null?n(C):C===45?(t.consume(C),T):be(C)?(u=v,ne(C)):(t.consume(C),v)}function T(C){return C===45?(t.consume(C),S):v(C)}function S(C){return C===62?F(C):C===45?T(C):v(C)}function _(C){const $="CDATA[";return C===$.charCodeAt(s++)?(t.consume(C),s===$.length?E:_):n(C)}function E(C){return C===null?n(C):C===93?(t.consume(C),R):be(C)?(u=E,ne(C)):(t.consume(C),E)}function R(C){return C===93?(t.consume(C),M):E(C)}function M(C){return C===62?F(C):C===93?(t.consume(C),M):E(C)}function I(C){return C===null||C===62?F(C):be(C)?(u=I,ne(C)):(t.consume(C),I)}function N(C){return C===null?n(C):C===63?(t.consume(C),B):be(C)?(u=N,ne(C)):(t.consume(C),N)}function B(C){return C===62?F(C):N(C)}function z(C){return qt(C)?(t.consume(C),P):n(C)}function P(C){return C===45||Lt(C)?(t.consume(C),P):K(C)}function K(C){return be(C)?(u=K,ne(C)):Ue(C)?(t.consume(C),K):F(C)}function ie(C){return C===45||Lt(C)?(t.consume(C),ie):C===47||C===62||Ze(C)?W(C):n(C)}function W(C){return C===47?(t.consume(C),F):C===58||C===95||qt(C)?(t.consume(C),U):be(C)?(u=W,ne(C)):Ue(C)?(t.consume(C),W):F(C)}function U(C){return C===45||C===46||C===58||C===95||Lt(C)?(t.consume(C),U):Z(C)}function Z(C){return C===61?(t.consume(C),ee):be(C)?(u=Z,ne(C)):Ue(C)?(t.consume(C),Z):W(C)}function ee(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),l=C,ae):be(C)?(u=ee,ne(C)):Ue(C)?(t.consume(C),ee):(t.consume(C),le)}function ae(C){return C===l?(t.consume(C),l=void 0,oe):C===null?n(C):be(C)?(u=ae,ne(C)):(t.consume(C),ae)}function le(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ze(C)?W(C):(t.consume(C),le)}function oe(C){return C===47||C===62||Ze(C)?W(C):n(C)}function F(C){return C===62?(t.consume(C),t.exit("htmlTextData"),t.exit("htmlText"),e):n(C)}function ne(C){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),ce}function ce(C){return Ue(C)?ze(t,me,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):me(C)}function me(C){return t.enter("htmlTextData"),u(C)}}const Md={name:"labelEnd",resolveAll:IC,resolveTo:PC,tokenize:LC},NC={tokenize:UC},RC={tokenize:OC},DC={tokenize:BC};function IC(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const l=i.type==="labelImage"?4:2;i.type="data",e+=l}}return t.length!==n.length&&on(t,0,t.length,n),t}function PC(t,e){let n=t.length,i=0,l,s,u,h;for(;n--;)if(l=t[n][1],s){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(s=n,l.type!=="labelLink")){i=2;break}}else l.type==="labelEnd"&&(u=n);const p={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},m={type:"label",start:{...t[s][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",p,e],["enter",m,e]],h=pn(h,t.slice(s+1,s+i+3)),h=pn(h,[["enter",g,e]]),h=pn(h,Ba(e.parser.constructs.insideSpan.null,t.slice(s+i+4,u-3),e)),h=pn(h,[["exit",g,e],t[u-2],t[u-1],["exit",m,e]]),h=pn(h,t.slice(u+1)),h=pn(h,[["exit",p,e]]),on(t,s,t.length,h),t}function LC(t,e,n){const i=this;let l=i.events.length,s,u;for(;l--;)if((i.events[l][1].type==="labelImage"||i.events[l][1].type==="labelLink")&&!i.events[l][1]._balanced){s=i.events[l][1];break}return h;function h(T){return s?s._inactive?v(T):(u=i.parser.defined.includes(wn(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(NC,g,u?g:v)(T):T===91?t.attempt(RC,g,u?m:v)(T):u?g(T):v(T)}function m(T){return t.attempt(DC,g,v)(T)}function g(T){return e(T)}function v(T){return s._balanced=!0,n(T)}}function UC(t,e,n){return i;function i(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),l}function l(v){return Ze(v)?Il(t,s)(v):s(v)}function s(v){return v===41?g(v):vx(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return Ze(v)?Il(t,p)(v):g(v)}function h(v){return n(v)}function p(v){return v===34||v===39||v===40?bx(t,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function m(v){return Ze(v)?Il(t,g)(v):g(v)}function g(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function OC(t,e,n){const i=this;return l;function l(h){return xx.call(i,t,s,u,"reference","referenceMarker","referenceString")(h)}function s(h){return i.parser.defined.includes(wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function BC(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),l}function l(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const zC={name:"labelStartImage",resolveAll:Md.resolveAll,tokenize:qC};function qC(t,e,n){const i=this;return l;function l(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),s}function s(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(h):e(h)}}const FC={name:"labelStartLink",resolveAll:Md.resolveAll,tokenize:VC};function VC(t,e,n){const i=this;return l;function l(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),s}function s(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const pf={name:"lineEnding",tokenize:jC};function jC(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),ze(t,e,"linePrefix")}}const Sa={name:"thematicBreak",tokenize:GC};function GC(t,e,n){let i=0,l;return s;function s(m){return t.enter("thematicBreak"),u(m)}function u(m){return l=m,h(m)}function h(m){return m===l?(t.enter("thematicBreakSequence"),p(m)):i>=3&&(m===null||be(m))?(t.exit("thematicBreak"),e(m)):n(m)}function p(m){return m===l?(t.consume(m),i++,p):(t.exit("thematicBreakSequence"),Ue(m)?ze(t,h,"whitespace")(m):h(m))}}const Yt={continuation:{tokenize:JC},exit:XC,name:"list",tokenize:YC},HC={partial:!0,tokenize:QC},$C={partial:!0,tokenize:KC};function YC(t,e,n){const i=this,l=i.events[i.events.length-1];let s=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,u=0;return h;function h(S){const _=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:Yf(S)){if(i.containerState.type||(i.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(Sa,n,m)(S):m(S);if(!i.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(S)}return n(S)}function p(S){return Yf(S)&&++u<10?(t.consume(S),p):(!i.interrupt||u<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),m(S)):n(S)}function m(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,t.check(Hl,i.interrupt?n:g,t.attempt(HC,T,v))}function g(S){return i.containerState.initialBlankLine=!0,s++,T(S)}function v(S){return Ue(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function JC(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Hl,l,s);function l(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ze(t,e,"listItemIndent",i.containerState.size+1)(h)}function s(h){return i.containerState.furtherBlankLines||!Ue(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt($C,e,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,ze(t,t.attempt(Yt,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function KC(t,e,n){const i=this;return ze(t,l,"listItemIndent",i.containerState.size+1);function l(s){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(s):n(s)}}function XC(t){t.exit(this.containerState.type)}function QC(t,e,n){const i=this;return ze(t,l,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(s){const u=i.events[i.events.length-1];return!Ue(s)&&u&&u[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const C0={name:"setextUnderline",resolveTo:WC,tokenize:ZC};function WC(t,e){let n=t.length,i,l,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(l=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",s?(t.splice(l,0,["enter",u,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function ZC(t,e,n){const i=this;let l;return s;function s(m){let g=i.events.length,v;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){v=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(t.enter("setextHeadingLine"),l=m,u(m)):n(m)}function u(m){return t.enter("setextHeadingLineSequence"),h(m)}function h(m){return m===l?(t.consume(m),h):(t.exit("setextHeadingLineSequence"),Ue(m)?ze(t,p,"lineSuffix")(m):p(m))}function p(m){return m===null||be(m)?(t.exit("setextHeadingLine"),e(m)):n(m)}}const e_={tokenize:t_};function t_(t){const e=this,n=t.attempt(Hl,i,t.attempt(this.parser.constructs.flowInitial,l,ze(t,t.attempt(this.parser.constructs.flow,l,t.attempt(lC,l)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function l(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const n_={resolveAll:Sx()},i_=Tx("string"),r_=Tx("text");function Tx(t){return{resolveAll:Sx(t==="text"?o_:void 0),tokenize:e};function e(n){const i=this,l=this.parser.constructs[t],s=n.attempt(l,u,h);return u;function u(g){return m(g)?s(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),p}function p(g){return m(g)?(n.exit("data"),s(g)):(n.consume(g),p)}function m(g){if(g===null)return!0;const v=l[g];let T=-1;if(v)for(;++T<v.length;){const S=v[T];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function Sx(t){return e;function e(n,i){let l=-1,s;for(;++l<=n.length;)s===void 0?n[l]&&n[l][1].type==="data"&&(s=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==s+2&&(n[s][1].end=n[l-1][1].end,n.splice(s+2,l-s-2),l=s+2),s=void 0);return t?t(n,i):n}}function o_(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],l=e.sliceStream(i);let s=l.length,u=-1,h=0,p;for(;s--;){const m=l[s];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(m===-2)p=!0,h++;else if(m!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const m={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?u:i.start._bufferIndex+u,_index:i.start._index+s,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...m.start},i.start.offset===i.end.offset?Object.assign(i,m):(t.splice(n,0,["enter",m,e],["exit",m,e]),n+=2)}n++}return t}const l_={42:Yt,43:Yt,45:Yt,48:Yt,49:Yt,50:Yt,51:Yt,52:Yt,53:Yt,54:Yt,55:Yt,56:Yt,57:Yt,62:mx},s_={91:fC},a_={[-2]:mf,[-1]:mf,32:mf},u_={35:yC,42:Sa,45:[C0,Sa],60:TC,61:C0,95:Sa,96:S0,126:S0},c_={38:gx,92:px},f_={[-5]:pf,[-4]:pf,[-3]:pf,33:zC,38:gx,42:Jf,60:[F1,AC],91:FC,92:[pC,px],93:Md,95:Jf,96:eC},d_={null:[Jf,n_]},h_={null:[42,95]},m_={null:[]},p_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:h_,contentInitial:s_,disable:m_,document:l_,flow:u_,flowInitial:a_,insideSpan:d_,string:c_,text:f_},Symbol.toStringTag,{value:"Module"}));function g_(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},s=[];let u=[],h=[];const p={attempt:K(z),check:K(P),consume:I,enter:N,exit:B,interrupt:K(P,{interrupt:!0})},m={code:null,containerState:{},defineSkip:E,events:[],now:_,parser:t,previous:null,sliceSerialize:T,sliceStream:S,write:v};let g=e.tokenize.call(m,p);return e.resolveAll&&s.push(e),m;function v(Z){return u=pn(u,Z),R(),u[u.length-1]!==null?[]:(ie(e,0),m.events=Ba(s,m.events,m),m.events)}function T(Z,ee){return v_(S(Z),ee)}function S(Z){return y_(u,Z)}function _(){const{_bufferIndex:Z,_index:ee,line:ae,column:le,offset:oe}=i;return{_bufferIndex:Z,_index:ee,line:ae,column:le,offset:oe}}function E(Z){l[Z.line]=Z.column,U()}function R(){let Z;for(;i._index<u.length;){const ee=u[i._index];if(typeof ee=="string")for(Z=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Z&&i._bufferIndex<ee.length;)M(ee.charCodeAt(i._bufferIndex));else M(ee)}}function M(Z){g=g(Z)}function I(Z){be(Z)?(i.line++,i.column=1,i.offset+=Z===-3?2:1,U()):Z!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=Z}function N(Z,ee){const ae=ee||{};return ae.type=Z,ae.start=_(),m.events.push(["enter",ae,m]),h.push(ae),ae}function B(Z){const ee=h.pop();return ee.end=_(),m.events.push(["exit",ee,m]),ee}function z(Z,ee){ie(Z,ee.from)}function P(Z,ee){ee.restore()}function K(Z,ee){return ae;function ae(le,oe,F){let ne,ce,me,C;return Array.isArray(le)?J(le):"tokenize"in le?J([le]):$(le);function $(de){return Ye;function Ye(_e){const ot=_e!==null&&de[_e],Qe=_e!==null&&de.null,Nt=[...Array.isArray(ot)?ot:ot?[ot]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return J(Nt)(_e)}}function J(de){return ne=de,ce=0,de.length===0?F:A(de[ce])}function A(de){return Ye;function Ye(_e){return C=W(),me=de,de.partial||(m.currentConstruct=de),de.name&&m.parser.constructs.disable.null.includes(de.name)?ye():de.tokenize.call(ee?Object.assign(Object.create(m),ee):m,p,fe,ye)(_e)}}function fe(de){return Z(me,C),oe}function ye(de){return C.restore(),++ce<ne.length?A(ne[ce]):F}}}function ie(Z,ee){Z.resolveAll&&!s.includes(Z)&&s.push(Z),Z.resolve&&on(m.events,ee,m.events.length-ee,Z.resolve(m.events.slice(ee),m)),Z.resolveTo&&(m.events=Z.resolveTo(m.events,m))}function W(){const Z=_(),ee=m.previous,ae=m.currentConstruct,le=m.events.length,oe=Array.from(h);return{from:le,restore:F};function F(){i=Z,m.previous=ee,m.currentConstruct=ae,m.events.length=le,h=oe,U()}}function U(){i.line in l&&i.column<2&&(i.column=l[i.line],i.offset+=l[i.line]-1)}}function y_(t,e){const n=e.start._index,i=e.start._bufferIndex,l=e.end._index,s=e.end._bufferIndex;let u;if(n===l)u=[t[n].slice(i,s)];else{if(u=t.slice(n,l),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}s>0&&u.push(t[l].slice(0,s))}return u}function v_(t,e){let n=-1;const i=[];let l;for(;++n<t.length;){const s=t[n];let u;if(typeof s=="string")u=s;else switch(s){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&l)continue;u=" ";break}default:u=String.fromCharCode(s)}l=s===-2,i.push(u)}return i.join("")}function x_(t){const i={constructs:dx([p_,...(t||{}).extensions||[]]),content:l(P1),defined:[],document:l(U1),flow:l(e_),lazy:{},string:l(i_),text:l(r_)};return i;function l(s){return u;function u(h){return g_(i,s,h)}}}function b_(t){for(;!yx(t););return t}const _0=/[\0\t\n\r]/g;function T_(){let t=1,e="",n=!0,i;return l;function l(s,u,h){const p=[];let m,g,v,T,S;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(u||void 0).decode(s)),v=0,e="",n&&(s.charCodeAt(0)===65279&&v++,n=void 0);v<s.length;){if(_0.lastIndex=v,m=_0.exec(s),T=m&&m.index!==void 0?m.index:s.length,S=s.charCodeAt(T),!m){e=s.slice(v);break}if(S===10&&v===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),v<T&&(p.push(s.slice(v,T)),t+=T-v),S){case 0:{p.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,p.push(-2);t++<g;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}v=T+1}return h&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const S_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w_(t){return t.replace(S_,C_)}function C_(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),s=l===120||l===88;return hx(n.slice(s?2:1),s?16:10)}return Ad(n)||t}const wx={}.hasOwnProperty;function __(t,e,n){return typeof e!="string"&&(n=e,e=void 0),k_(n)(b_(x_(n).document().write(T_()(t,e,!0))))}function k_(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Li),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(ei),blockQuote:s(Qe),characterEscape:W,characterReference:W,codeFenced:s(Nt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:s(Nt,u),codeText:s(Oe,u),codeTextData:W,data:W,codeFlowValue:W,definition:s(gt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:s(yt),hardBreakEscape:s(ti),hardBreakTrailing:s(ti),htmlFlow:s(dt,u),htmlFlowData:W,htmlText:s(dt,u),htmlTextData:W,image:s(So),label:u,link:s(Li),listItem:s(ni),listItemValue:T,listOrdered:s(Ui,v),listUnordered:s(Ui),paragraph:s(wo),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:s(ei),strong:s(Cn),thematicBreak:s(Co)},exit:{atxHeading:p(),atxHeadingSequence:z,autolink:p(),autolinkEmail:ot,autolinkProtocol:_e,blockQuote:p(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:de,characterReference:Ye,codeFenced:p(R),codeFencedFence:E,codeFencedFenceInfo:S,codeFencedFenceMeta:_,codeFlowValue:U,codeIndented:p(M),codeText:p(oe),codeTextData:U,data:U,definition:p(),definitionDestinationString:B,definitionLabelString:I,definitionTitleString:N,emphasis:p(),hardBreakEscape:p(ee),hardBreakTrailing:p(ee),htmlFlow:p(ae),htmlFlowData:U,htmlText:p(le),htmlTextData:U,image:p(ne),label:me,labelText:ce,lineEnding:Z,link:p(F),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:fe,resourceDestinationString:C,resourceTitleString:$,resource:J,setextHeading:p(ie),setextHeadingLineSequence:K,setextHeadingText:P,strong:p(),thematicBreak:p()}};Cx(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(H){let re={type:"root",children:[]};const ve={stack:[re],tokenStack:[],config:e,enter:h,exit:m,buffer:u,resume:g,data:n},Te=[];let qe=-1;for(;++qe<H.length;)if(H[qe][1].type==="listOrdered"||H[qe][1].type==="listUnordered")if(H[qe][0]==="enter")Te.push(qe);else{const Bt=Te.pop();qe=l(H,Bt,qe)}for(qe=-1;++qe<H.length;){const Bt=e[H[qe][0]];wx.call(Bt,H[qe][1].type)&&Bt[H[qe][1].type].call(Object.assign({sliceSerialize:H[qe][2].sliceSerialize},ve),H[qe][1])}if(ve.tokenStack.length>0){const Bt=ve.tokenStack[ve.tokenStack.length-1];(Bt[1]||k0).call(ve,void 0,Bt[0])}for(re.position={start:ki(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:ki(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)re=e.transforms[qe](re)||re;return re}function l(H,re,ve){let Te=re-1,qe=-1,Bt=!1,yn,ue,xe,Ee;for(;++Te<=ve;){const Ae=H[Te];switch(Ae[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ae[0]==="enter"?qe++:qe--,Ee=void 0;break}case"lineEndingBlank":{Ae[0]==="enter"&&(yn&&!Ee&&!qe&&!xe&&(xe=Te),Ee=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ee=void 0}if(!qe&&Ae[0]==="enter"&&Ae[1].type==="listItemPrefix"||qe===-1&&Ae[0]==="exit"&&(Ae[1].type==="listUnordered"||Ae[1].type==="listOrdered")){if(yn){let je=Te;for(ue=void 0;je--;){const Kt=H[je];if(Kt[1].type==="lineEnding"||Kt[1].type==="lineEndingBlank"){if(Kt[0]==="exit")continue;ue&&(H[ue][1].type="lineEndingBlank",Bt=!0),Kt[1].type="lineEnding",ue=je}else if(!(Kt[1].type==="linePrefix"||Kt[1].type==="blockQuotePrefix"||Kt[1].type==="blockQuotePrefixWhitespace"||Kt[1].type==="blockQuoteMarker"||Kt[1].type==="listItemIndent"))break}xe&&(!ue||xe<ue)&&(yn._spread=!0),yn.end=Object.assign({},ue?H[ue][1].start:Ae[1].end),H.splice(ue||Te,0,["exit",yn,Ae[2]]),Te++,ve++}if(Ae[1].type==="listItemPrefix"){const je={type:"listItem",_spread:!1,start:Object.assign({},Ae[1].start),end:void 0};yn=je,H.splice(Te,0,["enter",je,Ae[2]]),Te++,ve++,xe=void 0,Ee=!0}}}return H[re][1]._spread=Bt,ve}function s(H,re){return ve;function ve(Te){h.call(this,H(Te),Te),re&&re.call(this,Te)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(H,re,ve){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([re,ve||void 0]),H.position={start:ki(re.start),end:void 0}}function p(H){return re;function re(ve){H&&H.call(this,ve),m.call(this,ve)}}function m(H,re){const ve=this.stack.pop(),Te=this.tokenStack.pop();if(Te)Te[0].type!==H.type&&(re?re.call(this,H,Te[0]):(Te[1]||k0).call(this,H,Te[0]));else throw new Error("Cannot close `"+H.type+"` ("+Dl({start:H.start,end:H.end})+"): its not open");ve.position.end=ki(H.end)}function g(){return Ed(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function T(H){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function S(){const H=this.resume(),re=this.stack[this.stack.length-1];re.lang=H}function _(){const H=this.resume(),re=this.stack[this.stack.length-1];re.meta=H}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const H=this.resume(),re=this.stack[this.stack.length-1];re.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const H=this.resume(),re=this.stack[this.stack.length-1];re.value=H.replace(/(\r?\n|\r)$/g,"")}function I(H){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.label=re,ve.identifier=wn(this.sliceSerialize(H)).toLowerCase()}function N(){const H=this.resume(),re=this.stack[this.stack.length-1];re.title=H}function B(){const H=this.resume(),re=this.stack[this.stack.length-1];re.url=H}function z(H){const re=this.stack[this.stack.length-1];if(!re.depth){const ve=this.sliceSerialize(H).length;re.depth=ve}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function K(H){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function ie(){this.data.setextHeadingSlurpLineEnding=void 0}function W(H){const ve=this.stack[this.stack.length-1].children;let Te=ve[ve.length-1];(!Te||Te.type!=="text")&&(Te=Oi(),Te.position={start:ki(H.start),end:void 0},ve.push(Te)),this.stack.push(Te)}function U(H){const re=this.stack.pop();re.value+=this.sliceSerialize(H),re.position.end=ki(H.end)}function Z(H){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=re.children[re.children.length-1];ve.position.end=ki(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(re.type)&&(W.call(this,H),U.call(this,H))}function ee(){this.data.atHardBreak=!0}function ae(){const H=this.resume(),re=this.stack[this.stack.length-1];re.value=H}function le(){const H=this.resume(),re=this.stack[this.stack.length-1];re.value=H}function oe(){const H=this.resume(),re=this.stack[this.stack.length-1];re.value=H}function F(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=re,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function ne(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=re,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function ce(H){const re=this.sliceSerialize(H),ve=this.stack[this.stack.length-2];ve.label=w_(re),ve.identifier=wn(re).toLowerCase()}function me(){const H=this.stack[this.stack.length-1],re=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Te=H.children;ve.children=Te}else ve.alt=re}function C(){const H=this.resume(),re=this.stack[this.stack.length-1];re.url=H}function $(){const H=this.resume(),re=this.stack[this.stack.length-1];re.title=H}function J(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function fe(H){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.label=re,ve.identifier=wn(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function ye(H){this.data.characterReferenceType=H.type}function de(H){const re=this.sliceSerialize(H),ve=this.data.characterReferenceType;let Te;ve?(Te=hx(re,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Te=Ad(re);const qe=this.stack[this.stack.length-1];qe.value+=Te}function Ye(H){const re=this.stack.pop();re.position.end=ki(H.end)}function _e(H){U.call(this,H);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(H)}function ot(H){U.call(this,H);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(H)}function Qe(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function Oe(){return{type:"inlineCode",value:""}}function gt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function yt(){return{type:"emphasis",children:[]}}function ei(){return{type:"heading",depth:0,children:[]}}function ti(){return{type:"break"}}function dt(){return{type:"html",value:""}}function So(){return{type:"image",title:null,url:"",alt:null}}function Li(){return{type:"link",title:null,url:"",children:[]}}function Ui(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function ni(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function wo(){return{type:"paragraph",children:[]}}function Cn(){return{type:"strong",children:[]}}function Oi(){return{type:"text",value:""}}function Co(){return{type:"thematicBreak"}}}function ki(t){return{line:t.line,column:t.column,offset:t.offset}}function Cx(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Cx(t,i):E_(t,i)}}function E_(t,e){let n;for(n in e)if(wx.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function k0(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Dl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Dl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Dl({start:e.start,end:e.end})+") is still open")}function A_(t){const e=this;e.parser=n;function n(i){return __(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function M_(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function N_(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function R_(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function D_(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I_(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function P_(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),l=go(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let u,h=t.footnoteCounts.get(i);h===void 0?(h=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=s+1,h+=1,t.footnoteCounts.set(i,h);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,m),t.applyData(e,m)}function L_(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function U_(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function _x(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const l=t.all(e),s=l[0];s&&s.type==="text"?s.value="["+s.value:l.unshift({type:"text",value:"["});const u=l[l.length-1];return u&&u.type==="text"?u.value+=i:l.push({type:"text",value:i}),l}function O_(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return _x(t,e);const l={src:go(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,s),t.applyData(e,s)}function B_(t,e){const n={src:go(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function z_(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function q_(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return _x(t,e);const l={href:go(i.url||"")};i.title!==null&&i.title!==void 0&&(l.title=i.title);const s={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function F_(t,e){const n={href:go(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function V_(t,e,n){const i=t.all(e),l=n?j_(n):kx(e),s={},u=[];if(typeof e.checked=="boolean"){const g=i[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const g=i[h];(l||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?u.push(...g.children):u.push(g)}const p=i[i.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:s,children:u};return t.patch(e,m),t.applyData(e,m)}function j_(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=kx(n[i])}return e}function kx(t){const e=t.spread;return e??t.children.length>1}function G_(t,e){const n={},i=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++l<i.length;){const u=i[l];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function H_(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $_(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Y_(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function J_(t,e){const n=t.all(e),i=n.shift(),l=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),l.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=wd(e.children[1]),p=ox(e.children[e.children.length-1]);h&&p&&(u.position={start:h,end:p}),l.push(u)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,s),t.applyData(e,s)}function K_(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let p=-1;const m=[];for(;++p<h;){const v=e.children[p],T={},S=u?u[p]:void 0;S&&(T.align=S);let _={type:"element",tagName:s,properties:T,children:[]};v&&(_.children=t.all(v),t.patch(v,_),_=t.applyData(v,_)),m.push(_)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,g),t.applyData(e,g)}function X_(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const E0=9,A0=32;function Q_(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),l=0;const s=[];for(;i;)s.push(M0(e.slice(l,i.index),l>0,!0),i[0]),l=i.index+i[0].length,i=n.exec(e);return s.push(M0(e.slice(l),l>0,!1)),s.join("")}function M0(t,e,n){let i=0,l=t.length;if(e){let s=t.codePointAt(i);for(;s===E0||s===A0;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(l-1);for(;s===E0||s===A0;)l--,s=t.codePointAt(l-1)}return l>i?t.slice(i,l):""}function W_(t,e){const n={type:"text",value:Q_(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Z_(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ek={blockquote:M_,break:N_,code:R_,delete:D_,emphasis:I_,footnoteReference:P_,heading:L_,html:U_,imageReference:O_,image:B_,inlineCode:z_,linkReference:q_,link:F_,listItem:V_,list:G_,paragraph:H_,root:$_,strong:Y_,table:J_,tableCell:X_,tableRow:K_,text:W_,thematicBreak:Z_,toml:sa,yaml:sa,definition:sa,footnoteDefinition:sa};function sa(){}const Ex=-1,za=0,Pl=1,Ma=2,Nd=3,Rd=4,Dd=5,Id=6,Ax=7,Mx=8,N0=typeof self=="object"?self:globalThis,tk=(t,e)=>{const n=(l,s)=>(t.set(s,l),l),i=l=>{if(t.has(l))return t.get(l);const[s,u]=e[l];switch(s){case za:case Ex:return n(u,l);case Pl:{const h=n([],l);for(const p of u)h.push(i(p));return h}case Ma:{const h=n({},l);for(const[p,m]of u)h[i(p)]=i(m);return h}case Nd:return n(new Date(u),l);case Rd:{const{source:h,flags:p}=u;return n(new RegExp(h,p),l)}case Dd:{const h=n(new Map,l);for(const[p,m]of u)h.set(i(p),i(m));return h}case Id:{const h=n(new Set,l);for(const p of u)h.add(i(p));return h}case Ax:{const{name:h,message:p}=u;return n(new N0[h](p),l)}case Mx:return n(BigInt(u),l);case"BigInt":return n(Object(BigInt(u)),l);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new N0[s](u),l)};return i},R0=t=>tk(new Map,t)(0),Xr="",{toString:nk}={},{keys:ik}=Object,Al=t=>{const e=typeof t;if(e!=="object"||!t)return[za,e];const n=nk.call(t).slice(8,-1);switch(n){case"Array":return[Pl,Xr];case"Object":return[Ma,Xr];case"Date":return[Nd,Xr];case"RegExp":return[Rd,Xr];case"Map":return[Dd,Xr];case"Set":return[Id,Xr];case"DataView":return[Pl,n]}return n.includes("Array")?[Pl,n]:n.includes("Error")?[Ax,n]:[Ma,n]},aa=([t,e])=>t===za&&(e==="function"||e==="symbol"),rk=(t,e,n,i)=>{const l=(u,h)=>{const p=i.push(u)-1;return n.set(h,p),p},s=u=>{if(n.has(u))return n.get(u);let[h,p]=Al(u);switch(h){case za:{let g=u;switch(p){case"bigint":h=Mx,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return l([Ex],u)}return l([h,g],u)}case Pl:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),l([p,[...T]],u)}const g=[],v=l([h,g],u);for(const T of u)g.push(s(T));return v}case Ma:{if(p)switch(p){case"BigInt":return l([p,u.toString()],u);case"Boolean":case"Number":case"String":return l([p,u.valueOf()],u)}if(e&&"toJSON"in u)return s(u.toJSON());const g=[],v=l([h,g],u);for(const T of ik(u))(t||!aa(Al(u[T])))&&g.push([s(T),s(u[T])]);return v}case Nd:return l([h,u.toISOString()],u);case Rd:{const{source:g,flags:v}=u;return l([h,{source:g,flags:v}],u)}case Dd:{const g=[],v=l([h,g],u);for(const[T,S]of u)(t||!(aa(Al(T))||aa(Al(S))))&&g.push([s(T),s(S)]);return v}case Id:{const g=[],v=l([h,g],u);for(const T of u)(t||!aa(Al(T)))&&g.push(s(T));return v}}const{message:m}=u;return l([h,{name:p,message:m}],u)};return s},D0=(t,{json:e,lossy:n}={})=>{const i=[];return rk(!(e||n),!!e,new Map,i)(t),i},Na=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?R0(D0(t,e)):structuredClone(t):(t,e)=>R0(D0(t,e));function ok(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function lk(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sk(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ok,i=t.options.footnoteBackLabel||lk,l=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let p=-1;for(;++p<t.footnoteOrder.length;){const m=t.footnoteById.get(t.footnoteOrder[p]);if(!m)continue;const g=t.all(m),v=String(m.identifier).toUpperCase(),T=go(v.toLowerCase());let S=0;const _=[],E=t.footnoteCounts.get(v);for(;E!==void 0&&++S<=E;){_.length>0&&_.push({type:"text",value:" "});let I=typeof n=="string"?n:n(p,S);typeof I=="string"&&(I={type:"text",value:I}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,S),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const R=g[g.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const I=R.children[R.children.length-1];I&&I.type==="text"?I.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(..._)}else g.push(..._);const M={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(g,!0)};t.patch(m,M),h.push(M)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Na(u),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const qa=function(t){if(t==null)return fk;if(typeof t=="function")return Fa(t);if(typeof t=="object")return Array.isArray(t)?ak(t):uk(t);if(typeof t=="string")return ck(t);throw new Error("Expected function, string, or object as test")};function ak(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=qa(t[n]);return Fa(i);function i(...l){let s=-1;for(;++s<e.length;)if(e[s].apply(this,l))return!0;return!1}}function uk(t){const e=t;return Fa(n);function n(i){const l=i;let s;for(s in t)if(l[s]!==e[s])return!1;return!0}}function ck(t){return Fa(e);function e(n){return n&&n.type===t}}function Fa(t){return e;function e(n,i,l){return!!(dk(n)&&t.call(this,n,typeof i=="number"?i:void 0,l||void 0))}}function fk(){return!0}function dk(t){return t!==null&&typeof t=="object"&&"type"in t}const Nx=[],hk=!0,Kf=!1,mk="skip";function Rx(t,e,n,i){let l;typeof e=="function"&&typeof n!="function"?(i=n,n=e):l=e;const s=qa(l),u=i?-1:1;h(t,void 0,[])();function h(p,m,g){const v=p&&typeof p=="object"?p:{};if(typeof v.type=="string"){const S=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=Nx,_,E,R;if((!e||s(p,m,g[g.length-1]||void 0))&&(S=pk(n(p,g)),S[0]===Kf))return S;if("children"in p&&p.children){const M=p;if(M.children&&S[0]!==mk)for(E=(i?M.children.length:-1)+u,R=g.concat(M);E>-1&&E<M.children.length;){const I=M.children[E];if(_=h(I,E,R)(),_[0]===Kf)return _;E=typeof _[1]=="number"?_[1]:E+u}}return S}}}function pk(t){return Array.isArray(t)?t:typeof t=="number"?[hk,t]:t==null?Nx:[t]}function Pd(t,e,n,i){let l,s,u;typeof e=="function"&&typeof n!="function"?(s=void 0,u=e,l=n):(s=e,u=n,l=i),Rx(t,s,h,l);function h(p,m){const g=m[m.length-1],v=g?g.children.indexOf(p):void 0;return u(p,v,g)}}const Xf={}.hasOwnProperty,gk={};function yk(t,e){const n=e||gk,i=new Map,l=new Map,s=new Map,u={...ek,...n.handlers},h={all:m,applyData:xk,definitionById:i,footnoteById:l,footnoteCounts:s,footnoteOrder:[],handlers:u,one:p,options:n,patch:vk,wrap:Tk};return Pd(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?i:l,T=String(g.identifier).toUpperCase();v.has(T)||v.set(T,g)}}),h;function p(g,v){const T=g.type,S=h.handlers[T];if(Xf.call(h.handlers,T)&&S)return S(h,g,v);if(h.options.passThrough&&h.options.passThrough.includes(T)){if("children"in g){const{children:E,...R}=g,M=Na(R);return M.children=h.all(g),M}return Na(g)}return(h.options.unknownHandler||bk)(h,g,v)}function m(g){const v=[];if("children"in g){const T=g.children;let S=-1;for(;++S<T.length;){const _=h.one(T[S],g);if(_){if(S&&T[S-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=I0(_.value)),!Array.isArray(_)&&_.type==="element")){const E=_.children[0];E&&E.type==="text"&&(E.value=I0(E.value))}Array.isArray(_)?v.push(..._):v.push(_)}}}return v}}function vk(t,e){t.position&&(e.position=l1(t))}function xk(t,e){let n=e;if(t&&t.data){const i=t.data.hName,l=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&s&&Object.assign(n.properties,Na(s)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function bk(t,e){const n=e.data||{},i="value"in e&&!(Xf.call(n,"hProperties")||Xf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Tk(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function I0(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function P0(t,e){const n=yk(t,e),i=n.one(t,void 0),l=sk(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return l&&s.children.push({type:"text",value:`
`},l),s}function Sk(t,e){return t&&"run"in t?async function(n,i){const l=P0(n,{file:i,...e});await t.run(l,i)}:function(n,i){return P0(n,{file:i,...t||e})}}function L0(t){if(t)throw t}var gf,U0;function wk(){if(U0)return gf;U0=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):e.call(m)==="[object Array]"},s=function(m){if(!m||e.call(m)!=="[object Object]")return!1;var g=t.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&t.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!v)return!1;var T;for(T in m);return typeof T>"u"||t.call(m,T)},u=function(m,g){n&&g.name==="__proto__"?n(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},h=function(m,g){if(g==="__proto__")if(t.call(m,g)){if(i)return i(m,g).value}else return;return m[g]};return gf=function p(){var m,g,v,T,S,_,E=arguments[0],R=1,M=arguments.length,I=!1;for(typeof E=="boolean"&&(I=E,E=arguments[1]||{},R=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});R<M;++R)if(m=arguments[R],m!=null)for(g in m)v=h(E,g),T=h(m,g),E!==T&&(I&&T&&(s(T)||(S=l(T)))?(S?(S=!1,_=v&&l(v)?v:[]):_=v&&s(v)?v:{},u(E,{name:g,newValue:p(I,_,T)})):typeof T<"u"&&u(E,{name:g,newValue:T}));return E},gf}var Ck=wk();const yf=jl(Ck);function Qf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function _k(){const t=[],e={run:n,use:i};return e;function n(...l){let s=-1;const u=l.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...l);function h(p,...m){const g=t[++s];let v=-1;if(p){u(p);return}for(;++v<l.length;)(m[v]===null||m[v]===void 0)&&(m[v]=l[v]);l=m,g?kk(g,h)(...m):u(null,...m)}}function i(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function kk(t,e){let n;return i;function i(...u){const h=t.length>u.length;let p;h&&u.push(l);try{p=t.apply(this,u)}catch(m){const g=m;if(h&&n)throw g;return l(g)}h||(p&&p.then&&typeof p.then=="function"?p.then(s,l):p instanceof Error?l(p):s(p))}function l(u,...h){n||(n=!0,e(u,...h))}function s(u){l(null,u)}}const Nn={basename:Ek,dirname:Ak,extname:Mk,join:Nk,sep:"/"};function Ek(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');$l(t);let n=0,i=-1,l=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(s){n=l+1;break}}else i<0&&(s=!0,i=l+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,h=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(s){n=l+1;break}}else u<0&&(s=!0,u=l+1),h>-1&&(t.codePointAt(l)===e.codePointAt(h--)?h<0&&(i=l):(h=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function Ak(t){if($l(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Mk(t){$l(t);let e=t.length,n=-1,i=0,l=-1,s=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?l<0?l=e:s!==1&&(s=1):l>-1&&(s=-1)}return l<0||n<0||s===0||s===1&&l===n-1&&l===i+1?"":t.slice(l,n)}function Nk(...t){let e=-1,n;for(;++e<t.length;)$l(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Rk(n)}function Rk(t){$l(t);const e=t.codePointAt(0)===47;let n=Dk(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Dk(t,e){let n="",i=0,l=-1,s=0,u=-1,h,p;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(l===u-1||s===1))if(l!==u-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),l=u,s=0;continue}}else if(n.length>0){n="",i=0,l=u,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(l+1,u):n=t.slice(l+1,u),i=u-l-1;l=u,s=0}else h===46&&s>-1?s++:s=-1}return n}function $l(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Ik={cwd:Pk};function Pk(){return"/"}function Wf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Lk(t){if(typeof t=="string")t=new URL(t);else if(!Wf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Uk(t)}function Uk(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const vf=["history","path","basename","stem","extname","dirname"];class Dx{constructor(e){let n;e?Wf(e)?n={path:e}:typeof e=="string"||Ok(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Ik.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<vf.length;){const s=vf[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let l;for(l in n)vf.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?Nn.basename(this.path):void 0}set basename(e){bf(e,"basename"),xf(e,"basename"),this.path=Nn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Nn.dirname(this.path):void 0}set dirname(e){O0(this.basename,"dirname"),this.path=Nn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Nn.extname(this.path):void 0}set extname(e){if(xf(e,"extname"),O0(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Wf(e)&&(e=Lk(e)),bf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Nn.basename(this.path,this.extname):void 0}set stem(e){bf(e,"stem"),xf(e,"stem"),this.path=Nn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const l=this.message(e,n,i);throw l.fatal=!0,l}info(e,n,i){const l=this.message(e,n,i);return l.fatal=void 0,l}message(e,n,i){const l=new Ot(e,n,i);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function xf(t,e){if(t&&t.includes(Nn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Nn.sep+"`")}function bf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function O0(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ok(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Bk=function(t){const i=this.constructor.prototype,l=i[t],s=function(){return l.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},zk={}.hasOwnProperty;class Ld extends Bk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_k()}copy(){const e=new Ld;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(yf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(wf("data",this.frozen),this.namespace[e]=n,this):zk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(wf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const l=n.call(e,...i);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ua(e),i=this.parser||this.Parser;return Tf("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Tf("process",this.parser||this.Parser),Sf("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(s,u){const h=ua(e),p=i.parse(h);i.run(p,h,function(g,v,T){if(g||!v||!T)return m(g);const S=v,_=i.stringify(S,T);Vk(_)?T.value=_:T.result=_,m(g,T)});function m(g,v){g||!v?u(g):s?s(v):n(void 0,v)}}}processSync(e){let n=!1,i;return this.freeze(),Tf("processSync",this.parser||this.Parser),Sf("processSync",this.compiler||this.Compiler),this.process(e,l),z0("processSync","process",n),i;function l(s,u){n=!0,L0(s),i=u}}run(e,n,i){B0(e),this.freeze();const l=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(u,h){const p=ua(n);l.run(e,p,m);function m(g,v,T){const S=v||e;g?h(g):u?u(S):i(void 0,S,T)}}}runSync(e,n){let i=!1,l;return this.run(e,n,s),z0("runSync","run",i),l;function s(u,h){L0(u),l=h,i=!0}}stringify(e,n){this.freeze();const i=ua(n),l=this.compiler||this.Compiler;return Sf("stringify",l),B0(e),l(e,i)}use(e,...n){const i=this.attachers,l=this.namespace;if(wf("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(m){if(typeof m=="function")p(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...v]=m;p(g,v)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(m.plugins),m.settings&&(l.settings=yf(!0,l.settings,m.settings))}function h(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const v=m[g];s(v)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function p(m,g){let v=-1,T=-1;for(;++v<i.length;)if(i[v][0]===m){T=v;break}if(T===-1)i.push([m,...g]);else if(g.length>0){let[S,..._]=g;const E=i[T][1];Qf(E)&&Qf(S)&&(S=yf(!0,E,S)),i[T]=[m,S,..._]}}}}const qk=new Ld().freeze();function Tf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Sf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function wf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function B0(t){if(!Qf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function z0(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ua(t){return Fk(t)?t:new Dx(t)}function Fk(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Vk(t){return typeof t=="string"||jk(t)}function jk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Gk="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",q0=[],F0={allowDangerousHtml:!0},Hk=/^(https?|ircs?|mailto|xmpp)$/i,$k=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ud(t){const e=Yk(t),n=Jk(t);return Kk(e.runSync(e.parse(n),n),t)}function Yk(t){const e=t.rehypePlugins||q0,n=t.remarkPlugins||q0,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...F0}:F0;return qk().use(A_).use(n).use(Sk,i).use(e)}function Jk(t){const e=t.children||"",n=new Dx;return typeof e=="string"&&(n.value=e),n}function Kk(t,e){const n=e.allowedElements,i=e.allowElement,l=e.components,s=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,p=e.urlTransform||Xk;for(const g of $k)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Gk+g.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),Pd(t,m),f1(t,{Fragment:x.Fragment,components:l,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function m(g,v,T){if(g.type==="raw"&&T&&typeof v=="number")return u?T.children.splice(v,1):T.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let S;for(S in hf)if(Object.hasOwn(hf,S)&&Object.hasOwn(g.properties,S)){const _=g.properties[S],E=hf[S];(E===null||E.includes(g.tagName))&&(g.properties[S]=p(String(_||""),S,g))}}if(g.type==="element"){let S=n?!n.includes(g.tagName):s?s.includes(g.tagName):!1;if(!S&&i&&typeof v=="number"&&(S=!i(g,v,T)),S&&T&&typeof v=="number")return h&&g.children?T.children.splice(v,1,...g.children):T.children.splice(v,1),v}}}function Xk(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||n!==-1&&e>n||i!==-1&&e>i||Hk.test(t.slice(0,e))?t:""}function V0(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,l=n.indexOf(e);for(;l!==-1;)i++,l=n.indexOf(e,l+e.length);return i}function Qk(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Wk(t,e,n){const l=qa((n||{}).ignore||[]),s=Zk(e);let u=-1;for(;++u<s.length;)Rx(t,"text",h);function h(m,g){let v=-1,T;for(;++v<g.length;){const S=g[v],_=T?T.children:void 0;if(l(S,_?_.indexOf(S):void 0,T))return;T=S}if(T)return p(m,g)}function p(m,g){const v=g[g.length-1],T=s[u][0],S=s[u][1];let _=0;const R=v.children.indexOf(m);let M=!1,I=[];T.lastIndex=0;let N=T.exec(m.value);for(;N;){const B=N.index,z={index:N.index,input:N.input,stack:[...g,m]};let P=S(...N,z);if(typeof P=="string"&&(P=P.length>0?{type:"text",value:P}:void 0),P===!1?T.lastIndex=B+1:(_!==B&&I.push({type:"text",value:m.value.slice(_,B)}),Array.isArray(P)?I.push(...P):P&&I.push(P),_=B+N[0].length,M=!0),!T.global)break;N=T.exec(m.value)}return M?(_<m.value.length&&I.push({type:"text",value:m.value.slice(_)}),v.children.splice(R,1,...I)):I=[m],R+I.length}}function Zk(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const l=n[i];e.push([eE(l[0]),tE(l[1])])}return e}function eE(t){return typeof t=="string"?new RegExp(Qk(t),"g"):t}function tE(t){return typeof t=="function"?t:function(){return t}}const Cf="phrasing",_f=["autolink","link","image","label"];function nE(){return{transforms:[uE],enter:{literalAutolink:rE,literalAutolinkEmail:kf,literalAutolinkHttp:kf,literalAutolinkWww:kf},exit:{literalAutolink:aE,literalAutolinkEmail:sE,literalAutolinkHttp:oE,literalAutolinkWww:lE}}}function iE(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cf,notInConstruct:_f},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cf,notInConstruct:_f},{character:":",before:"[ps]",after:"\\/",inConstruct:Cf,notInConstruct:_f}]}}function rE(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function kf(t){this.config.enter.autolinkProtocol.call(this,t)}function oE(t){this.config.exit.autolinkProtocol.call(this,t)}function lE(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function sE(t){this.config.exit.autolinkEmail.call(this,t)}function aE(t){this.exit(t)}function uE(t){Wk(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cE],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),fE]],{ignore:["link","linkReference"]})}function cE(t,e,n,i,l){let s="";if(!Ix(l)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!dE(n)))return!1;const u=hE(n+i);if(!u[0])return!1;const h={type:"link",title:null,url:s+e+u[0],children:[{type:"text",value:e+u[0]}]};return u[1]?[h,{type:"text",value:u[1]}]:h}function fE(t,e,n,i){return!Ix(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function dE(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function hE(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const l=V0(t,"(");let s=V0(t,")");for(;i!==-1&&l>s;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[t,n]}function Ix(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||or(n)||Oa(n))&&(!e||n!==47)}Px.peek=SE;function mE(){this.buffer()}function pE(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function gE(){this.buffer()}function yE(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function vE(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function xE(t){this.exit(t)}function bE(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=wn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function TE(t){this.exit(t)}function SE(){return"["}function Px(t,e,n,i){const l=n.createTracker(i);let s=l.move("[^");const u=n.enter("footnoteReference"),h=n.enter("reference");return s+=l.move(n.safe(n.associationId(t),{after:"]",before:s})),h(),u(),s+=l.move("]"),s}function wE(){return{enter:{gfmFootnoteCallString:mE,gfmFootnoteCall:pE,gfmFootnoteDefinitionLabelString:gE,gfmFootnoteDefinition:yE},exit:{gfmFootnoteCallString:vE,gfmFootnoteCall:xE,gfmFootnoteDefinitionLabelString:bE,gfmFootnoteDefinition:TE}}}function CE(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Px},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,l,s,u){const h=s.createTracker(u);let p=h.move("[^");const m=s.enter("footnoteDefinition"),g=s.enter("label");return p+=h.move(s.safe(s.associationId(i),{before:p,after:"]"})),g(),p+=h.move("]:"),i.children&&i.children.length>0&&(h.shift(4),p+=h.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,h.current()),e?Lx:_E))),m(),p}}function _E(t,e,n){return e===0?t:Lx(t,e,n)}function Lx(t,e,n){return(n?"":"    ")+t}const kE=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Ux.peek=RE;function EE(){return{canContainEols:["delete"],enter:{strikethrough:ME},exit:{strikethrough:NE}}}function AE(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:kE}],handlers:{delete:Ux}}}function ME(t){this.enter({type:"delete",children:[]},t)}function NE(t){this.exit(t)}function Ux(t,e,n,i){const l=n.createTracker(i),s=n.enter("strikethrough");let u=l.move("~~");return u+=n.containerPhrasing(t,{...l.current(),before:u,after:"~"}),u+=l.move("~~"),s(),u}function RE(){return"~"}function DE(t){return t.length}function IE(t,e){const n=e||{},i=(n.align||[]).concat(),l=n.stringLength||DE,s=[],u=[],h=[],p=[];let m=0,g=-1;for(;++g<t.length;){const E=[],R=[];let M=-1;for(t[g].length>m&&(m=t[g].length);++M<t[g].length;){const I=PE(t[g][M]);if(n.alignDelimiters!==!1){const N=l(I);R[M]=N,(p[M]===void 0||N>p[M])&&(p[M]=N)}E.push(I)}u[g]=E,h[g]=R}let v=-1;if(typeof i=="object"&&"length"in i)for(;++v<m;)s[v]=j0(i[v]);else{const E=j0(i);for(;++v<m;)s[v]=E}v=-1;const T=[],S=[];for(;++v<m;){const E=s[v];let R="",M="";E===99?(R=":",M=":"):E===108?R=":":E===114&&(M=":");let I=n.alignDelimiters===!1?1:Math.max(1,p[v]-R.length-M.length);const N=R+"-".repeat(I)+M;n.alignDelimiters!==!1&&(I=R.length+I+M.length,I>p[v]&&(p[v]=I),S[v]=I),T[v]=N}u.splice(1,0,T),h.splice(1,0,S),g=-1;const _=[];for(;++g<u.length;){const E=u[g],R=h[g];v=-1;const M=[];for(;++v<m;){const I=E[v]||"";let N="",B="";if(n.alignDelimiters!==!1){const z=p[v]-(R[v]||0),P=s[v];P===114?N=" ".repeat(z):P===99?z%2?(N=" ".repeat(z/2+.5),B=" ".repeat(z/2-.5)):(N=" ".repeat(z/2),B=N):B=" ".repeat(z)}n.delimiterStart!==!1&&!v&&M.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&I==="")&&(n.delimiterStart!==!1||v)&&M.push(" "),n.alignDelimiters!==!1&&M.push(N),M.push(I),n.alignDelimiters!==!1&&M.push(B),n.padding!==!1&&M.push(" "),(n.delimiterEnd!==!1||v!==m-1)&&M.push("|")}_.push(n.delimiterEnd===!1?M.join("").replace(/ +$/,""):M.join(""))}return _.join(`
`)}function PE(t){return t==null?"":String(t)}function j0(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function LE(t,e,n,i){const l=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const u=n.indentLines(n.containerFlow(t,s.current()),UE);return l(),u}function UE(t,e,n){return">"+(n?"":" ")+t}function OE(t,e){return G0(t,e.inConstruct,!0)&&!G0(t,e.notInConstruct,!1)}function G0(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function H0(t,e,n,i){let l=-1;for(;++l<n.unsafe.length;)if(n.unsafe[l].character===`
`&&OE(n.stack,n.unsafe[l]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function BE(t,e){const n=String(t);let i=n.indexOf(e),l=i,s=0,u=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===l?++s>u&&(u=s):s=1,l=i+e.length,i=n.indexOf(e,l);return u}function zE(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function qE(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function FE(t,e,n,i){const l=qE(n),s=t.value||"",u=l==="`"?"GraveAccent":"Tilde";if(zE(t,n)){const v=n.enter("codeIndented"),T=n.indentLines(s,VE);return v(),T}const h=n.createTracker(i),p=l.repeat(Math.max(BE(s,l)+1,3)),m=n.enter("codeFenced");let g=h.move(p);if(t.lang){const v=n.enter(`codeFencedLang${u}`);g+=h.move(n.safe(t.lang,{before:g,after:" ",encode:["`"],...h.current()})),v()}if(t.lang&&t.meta){const v=n.enter(`codeFencedMeta${u}`);g+=h.move(" "),g+=h.move(n.safe(t.meta,{before:g,after:`
`,encode:["`"],...h.current()})),v()}return g+=h.move(`
`),s&&(g+=h.move(s+`
`)),g+=h.move(p),m(),g}function VE(t,e,n){return(n?"":"    ")+t}function Od(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function jE(t,e,n,i){const l=Od(n),s=l==='"'?"Quote":"Apostrophe",u=n.enter("definition");let h=n.enter("label");const p=n.createTracker(i);let m=p.move("[");return m+=p.move(n.safe(n.associationId(t),{before:m,after:"]",...p.current()})),m+=p.move("]: "),h(),!t.url||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":`
`,...p.current()}))),h(),t.title&&(h=n.enter(`title${s}`),m+=p.move(" "+l),m+=p.move(n.safe(t.title,{before:m,after:l,...p.current()})),m+=p.move(l),h()),u(),m}function GE(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Fl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ra(t,e,n){const i=ho(t),l=ho(e);return i===void 0?l===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ox.peek=HE;function Ox(t,e,n,i){const l=GE(n),s=n.enter("emphasis"),u=n.createTracker(i),h=u.move(l);let p=u.move(n.containerPhrasing(t,{after:l,before:h,...u.current()}));const m=p.charCodeAt(0),g=Ra(i.before.charCodeAt(i.before.length-1),m,l);g.inside&&(p=Fl(m)+p.slice(1));const v=p.charCodeAt(p.length-1),T=Ra(i.after.charCodeAt(0),v,l);T.inside&&(p=p.slice(0,-1)+Fl(v));const S=u.move(l);return s(),n.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},h+p+S}function HE(t,e,n){return n.options.emphasis||"*"}function $E(t,e){let n=!1;return Pd(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Kf}),!!((!t.depth||t.depth<3)&&Ed(t)&&(e.options.setext||n))}function YE(t,e,n,i){const l=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(i);if($E(t,n)){const g=n.enter("headingSetext"),v=n.enter("phrasing"),T=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return v(),g(),T+`
`+(l===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(l),h=n.enter("headingAtx"),p=n.enter("phrasing");s.move(u+" ");let m=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(m)&&(m=Fl(m.charCodeAt(0))+m.slice(1)),m=m?u+" "+m:u,n.options.closeAtx&&(m+=" "+u),p(),h(),m}Bx.peek=JE;function Bx(t){return t.value||""}function JE(){return"<"}zx.peek=KE;function zx(t,e,n,i){const l=Od(n),s=l==='"'?"Quote":"Apostrophe",u=n.enter("image");let h=n.enter("label");const p=n.createTracker(i);let m=p.move("![");return m+=p.move(n.safe(t.alt,{before:m,after:"]",...p.current()})),m+=p.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),m+=p.move("<"),m+=p.move(n.safe(t.url,{before:m,after:">",...p.current()})),m+=p.move(">")):(h=n.enter("destinationRaw"),m+=p.move(n.safe(t.url,{before:m,after:t.title?" ":")",...p.current()}))),h(),t.title&&(h=n.enter(`title${s}`),m+=p.move(" "+l),m+=p.move(n.safe(t.title,{before:m,after:l,...p.current()})),m+=p.move(l),h()),m+=p.move(")"),u(),m}function KE(){return"!"}qx.peek=XE;function qx(t,e,n,i){const l=t.referenceType,s=n.enter("imageReference");let u=n.enter("label");const h=n.createTracker(i);let p=h.move("![");const m=n.safe(t.alt,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const v=n.safe(n.associationId(t),{before:p,after:"]",...h.current()});return u(),n.stack=g,s(),l==="full"||!m||m!==v?p+=h.move(v+"]"):l==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function XE(){return"!"}Fx.peek=QE;function Fx(t,e,n){let i=t.value||"",l="`",s=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(i);)l+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const u=n.unsafe[s],h=n.compilePattern(u);let p;if(u.atBreak)for(;p=h.exec(i);){let m=p.index;i.charCodeAt(m)===10&&i.charCodeAt(m-1)===13&&m--,i=i.slice(0,m)+" "+i.slice(p.index+1)}}return l+i+l}function QE(){return"`"}function Vx(t,e){const n=Ed(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}jx.peek=WE;function jx(t,e,n,i){const l=Od(n),s=l==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let h,p;if(Vx(t,n)){const g=n.stack;n.stack=[],h=n.enter("autolink");let v=u.move("<");return v+=u.move(n.containerPhrasing(t,{before:v,after:">",...u.current()})),v+=u.move(">"),h(),n.stack=g,v}h=n.enter("link"),p=n.enter("label");let m=u.move("[");return m+=u.move(n.containerPhrasing(t,{before:m,after:"](",...u.current()})),m+=u.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=n.enter("destinationLiteral"),m+=u.move("<"),m+=u.move(n.safe(t.url,{before:m,after:">",...u.current()})),m+=u.move(">")):(p=n.enter("destinationRaw"),m+=u.move(n.safe(t.url,{before:m,after:t.title?" ":")",...u.current()}))),p(),t.title&&(p=n.enter(`title${s}`),m+=u.move(" "+l),m+=u.move(n.safe(t.title,{before:m,after:l,...u.current()})),m+=u.move(l),p()),m+=u.move(")"),h(),m}function WE(t,e,n){return Vx(t,n)?"<":"["}Gx.peek=ZE;function Gx(t,e,n,i){const l=t.referenceType,s=n.enter("linkReference");let u=n.enter("label");const h=n.createTracker(i);let p=h.move("[");const m=n.containerPhrasing(t,{before:p,after:"]",...h.current()});p+=h.move(m+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const v=n.safe(n.associationId(t),{before:p,after:"]",...h.current()});return u(),n.stack=g,s(),l==="full"||!m||m!==v?p+=h.move(v+"]"):l==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function ZE(){return"["}function Bd(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function eA(t){const e=Bd(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function tA(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Hx(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function nA(t,e,n,i){const l=n.enter("list"),s=n.bulletCurrent;let u=t.ordered?tA(n):Bd(n);const h=t.ordered?u==="."?")":".":eA(n);let p=e&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!t.ordered){const g=t.children?t.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(p=!0),Hx(n)===u&&g){let v=-1;for(;++v<t.children.length;){const T=t.children[v];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(u=h),n.bulletCurrent=u;const m=n.containerFlow(t,i);return n.bulletLastUsed=u,n.bulletCurrent=s,l(),m}function iA(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function rA(t,e,n,i){const l=iA(n);let s=n.bulletCurrent||Bd(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let u=s.length+1;(l==="tab"||l==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(u=Math.ceil(u/4)*4);const h=n.createTracker(i);h.move(s+" ".repeat(u-s.length)),h.shift(u);const p=n.enter("listItem"),m=n.indentLines(n.containerFlow(t,h.current()),g);return p(),m;function g(v,T,S){return T?(S?"":" ".repeat(u))+v:(S?s:s+" ".repeat(u-s.length))+v}}function oA(t,e,n,i){const l=n.enter("paragraph"),s=n.enter("phrasing"),u=n.containerPhrasing(t,i);return s(),l(),u}const lA=qa(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sA(t,e,n,i){return(t.children.some(function(u){return lA(u)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function aA(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}$x.peek=uA;function $x(t,e,n,i){const l=aA(n),s=n.enter("strong"),u=n.createTracker(i),h=u.move(l+l);let p=u.move(n.containerPhrasing(t,{after:l,before:h,...u.current()}));const m=p.charCodeAt(0),g=Ra(i.before.charCodeAt(i.before.length-1),m,l);g.inside&&(p=Fl(m)+p.slice(1));const v=p.charCodeAt(p.length-1),T=Ra(i.after.charCodeAt(0),v,l);T.inside&&(p=p.slice(0,-1)+Fl(v));const S=u.move(l+l);return s(),n.attentionEncodeSurroundingInfo={after:T.outside,before:g.outside},h+p+S}function uA(t,e,n){return n.options.strong||"*"}function cA(t,e,n,i){return n.safe(t.value,i)}function fA(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function dA(t,e,n){const i=(Hx(n)+(n.options.ruleSpaces?" ":"")).repeat(fA(n));return n.options.ruleSpaces?i.slice(0,-1):i}const Yx={blockquote:LE,break:H0,code:FE,definition:jE,emphasis:Ox,hardBreak:H0,heading:YE,html:Bx,image:zx,imageReference:qx,inlineCode:Fx,link:jx,linkReference:Gx,list:nA,listItem:rA,paragraph:oA,root:sA,strong:$x,text:cA,thematicBreak:dA};function hA(){return{enter:{table:mA,tableData:$0,tableHeader:$0,tableRow:gA},exit:{codeText:yA,table:pA,tableData:Ef,tableHeader:Ef,tableRow:Ef}}}function mA(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function pA(t){this.exit(t),this.data.inTable=void 0}function gA(t){this.enter({type:"tableRow",children:[]},t)}function Ef(t){this.exit(t)}function $0(t){this.enter({type:"tableCell",children:[]},t)}function yA(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,vA));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function vA(t,e){return e==="|"?e:t}function xA(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,l=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:p,tableRow:h}};function u(S,_,E,R){return m(g(S,E,R),S.align)}function h(S,_,E,R){const M=v(S,E,R),I=m([M]);return I.slice(0,I.indexOf(`
`))}function p(S,_,E,R){const M=E.enter("tableCell"),I=E.enter("phrasing"),N=E.containerPhrasing(S,{...R,before:s,after:s});return I(),M(),N}function m(S,_){return IE(S,{align:_,alignDelimiters:i,padding:n,stringLength:l})}function g(S,_,E){const R=S.children;let M=-1;const I=[],N=_.enter("table");for(;++M<R.length;)I[M]=v(R[M],_,E);return N(),I}function v(S,_,E){const R=S.children;let M=-1;const I=[],N=_.enter("tableRow");for(;++M<R.length;)I[M]=p(R[M],S,_,E);return N(),I}function T(S,_,E){let R=Yx.inlineCode(S,_,E);return E.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function bA(){return{exit:{taskListCheckValueChecked:Y0,taskListCheckValueUnchecked:Y0,paragraph:SA}}}function TA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:wA}}}function Y0(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function SA(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const l=e.children;let s=-1,u;for(;++s<l.length;){const h=l[s];if(h.type==="paragraph"){u=h;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function wA(t,e,n,i){const l=t.children[0],s=typeof t.checked=="boolean"&&l&&l.type==="paragraph",u="["+(t.checked?"x":" ")+"] ",h=n.createTracker(i);s&&h.move(u);let p=Yx.listItem(t,e,n,{...i,...h.current()});return s&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),p;function m(g){return g+u}}function CA(){return[nE(),wE(),EE(),hA(),bA()]}function _A(t){return{extensions:[iE(),CE(t),AE(),xA(t),TA()]}}const kA={tokenize:DA,partial:!0},Jx={tokenize:IA,partial:!0},Kx={tokenize:PA,partial:!0},Xx={tokenize:LA,partial:!0},EA={tokenize:UA,partial:!0},Qx={name:"wwwAutolink",tokenize:NA,previous:Zx},Wx={name:"protocolAutolink",tokenize:RA,previous:eb},Xn={name:"emailAutolink",tokenize:MA,previous:tb},Dn={};function AA(){return{text:Dn}}let tr=48;for(;tr<123;)Dn[tr]=Xn,tr++,tr===58?tr=65:tr===91&&(tr=97);Dn[43]=Xn;Dn[45]=Xn;Dn[46]=Xn;Dn[95]=Xn;Dn[72]=[Xn,Wx];Dn[104]=[Xn,Wx];Dn[87]=[Xn,Qx];Dn[119]=[Xn,Qx];function MA(t,e,n){const i=this;let l,s;return u;function u(v){return!Zf(v)||!tb.call(i,i.previous)||zd(i.events)?n(v):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),h(v))}function h(v){return Zf(v)?(t.consume(v),h):v===64?(t.consume(v),p):n(v)}function p(v){return v===46?t.check(EA,g,m)(v):v===45||v===95||Lt(v)?(s=!0,t.consume(v),p):g(v)}function m(v){return t.consume(v),l=!0,p}function g(v){return s&&l&&qt(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(v)):n(v)}}function NA(t,e,n){const i=this;return l;function l(u){return u!==87&&u!==119||!Zx.call(i,i.previous)||zd(i.events)?n(u):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(kA,t.attempt(Jx,t.attempt(Kx,s),n),n)(u))}function s(u){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(u)}}function RA(t,e,n){const i=this;let l="",s=!1;return u;function u(v){return(v===72||v===104)&&eb.call(i,i.previous)&&!zd(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),l+=String.fromCodePoint(v),t.consume(v),h):n(v)}function h(v){if(qt(v)&&l.length<5)return l+=String.fromCodePoint(v),t.consume(v),h;if(v===58){const T=l.toLowerCase();if(T==="http"||T==="https")return t.consume(v),p}return n(v)}function p(v){return v===47?(t.consume(v),s?m:(s=!0,p)):n(v)}function m(v){return v===null||Aa(v)||Ze(v)||or(v)||Oa(v)?n(v):t.attempt(Jx,t.attempt(Kx,g),n)(v)}function g(v){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(v)}}function DA(t,e,n){let i=0;return l;function l(u){return(u===87||u===119)&&i<3?(i++,t.consume(u),l):u===46&&i===3?(t.consume(u),s):n(u)}function s(u){return u===null?n(u):e(u)}}function IA(t,e,n){let i,l,s;return u;function u(m){return m===46||m===95?t.check(Xx,p,h)(m):m===null||Ze(m)||or(m)||m!==45&&Oa(m)?p(m):(s=!0,t.consume(m),u)}function h(m){return m===95?i=!0:(l=i,i=void 0),t.consume(m),u}function p(m){return l||i||!s?n(m):e(m)}}function PA(t,e){let n=0,i=0;return l;function l(u){return u===40?(n++,t.consume(u),l):u===41&&i<n?s(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?t.check(Xx,e,s)(u):u===null||Ze(u)||or(u)?e(u):(t.consume(u),l)}function s(u){return u===41&&i++,t.consume(u),l}}function LA(t,e,n){return i;function i(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(t.consume(h),i):h===38?(t.consume(h),s):h===93?(t.consume(h),l):h===60||h===null||Ze(h)||or(h)?e(h):n(h)}function l(h){return h===null||h===40||h===91||Ze(h)||or(h)?e(h):i(h)}function s(h){return qt(h)?u(h):n(h)}function u(h){return h===59?(t.consume(h),i):qt(h)?(t.consume(h),u):n(h)}}function UA(t,e,n){return i;function i(s){return t.consume(s),l}function l(s){return Lt(s)?n(s):e(s)}}function Zx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ze(t)}function eb(t){return!qt(t)}function tb(t){return!(t===47||Zf(t))}function Zf(t){return t===43||t===45||t===46||t===95||Lt(t)}function zd(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OA={tokenize:HA,partial:!0};function BA(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:VA,continuation:{tokenize:jA},exit:GA}},text:{91:{name:"gfmFootnoteCall",tokenize:FA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:zA,resolveTo:qA}}}}function zA(t,e,n){const i=this;let l=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;l--;){const p=i.events[l][1];if(p.type==="labelImage"){u=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!u||!u._balanced)return n(p);const m=wn(i.sliceSerialize({start:u.end,end:i.now()}));return m.codePointAt(0)!==94||!s.includes(m.slice(1))?n(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),e(p))}}function qA(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},t[t.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},h=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",l,e],["exit",l,e],["enter",s,e],["enter",u,e],["exit",u,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...h),t}function FA(t,e,n){const i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,u;return h;function h(v){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),p}function p(v){return v!==94?n(v):(t.enter("gfmFootnoteCallMarker"),t.consume(v),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(v){if(s>999||v===93&&!u||v===null||v===91||Ze(v))return n(v);if(v===93){t.exit("chunkString");const T=t.exit("gfmFootnoteCallString");return l.includes(wn(i.sliceSerialize(T)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(v),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(v)}return Ze(v)||(u=!0),s++,t.consume(v),v===92?g:m}function g(v){return v===91||v===92||v===93?(t.consume(v),s++,m):m(v)}}function VA(t,e,n){const i=this,l=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,u=0,h;return p;function p(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",g):n(_)}function g(_){if(u>999||_===93&&!h||_===null||_===91||Ze(_))return n(_);if(_===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return s=wn(i.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),T}return Ze(_)||(h=!0),u++,t.consume(_),_===92?v:g}function v(_){return _===91||_===92||_===93?(t.consume(_),u++,g):g(_)}function T(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),l.includes(s)||l.push(s),ze(t,S,"gfmFootnoteDefinitionWhitespace")):n(_)}function S(_){return e(_)}}function jA(t,e,n){return t.check(Hl,e,t.attempt(OA,e,n))}function GA(t){t.exit("gfmFootnoteDefinition")}function HA(t,e,n){const i=this;return ze(t,l,"gfmFootnoteDefinitionIndent",5);function l(s){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?e(s):n(s)}}function $A(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:l};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function l(u,h){let p=-1;for(;++p<u.length;)if(u[p][0]==="enter"&&u[p][1].type==="strikethroughSequenceTemporary"&&u[p][1]._close){let m=p;for(;m--;)if(u[m][0]==="exit"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._open&&u[p][1].end.offset-u[p][1].start.offset===u[m][1].end.offset-u[m][1].start.offset){u[p][1].type="strikethroughSequence",u[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[m][1].start),end:Object.assign({},u[p][1].end)},v={type:"strikethroughText",start:Object.assign({},u[m][1].end),end:Object.assign({},u[p][1].start)},T=[["enter",g,h],["enter",u[m][1],h],["exit",u[m][1],h],["enter",v,h]],S=h.parser.constructs.insideSpan.null;S&&on(T,T.length,0,Ba(S,u.slice(m+1,p),h)),on(T,T.length,0,[["exit",v,h],["enter",u[p][1],h],["exit",u[p][1],h],["exit",g,h]]),on(u,m-1,p-m+3,T),p=m+T.length-2;break}}for(p=-1;++p<u.length;)u[p][1].type==="strikethroughSequenceTemporary"&&(u[p][1].type="data");return u}function s(u,h,p){const m=this.previous,g=this.events;let v=0;return T;function T(_){return m===126&&g[g.length-1][1].type!=="characterEscape"?p(_):(u.enter("strikethroughSequenceTemporary"),S(_))}function S(_){const E=ho(m);if(_===126)return v>1?p(_):(u.consume(_),v++,S);if(v<2&&!n)return p(_);const R=u.exit("strikethroughSequenceTemporary"),M=ho(_);return R._open=!M||M===2&&!!E,R._close=!E||E===2&&!!M,h(_)}}}class YA{constructor(){this.map=[]}add(e,n,i){JA(this,e,n,i)}consume(e){if(this.map.sort(function(s,u){return s[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let l=i.pop();for(;l;){for(const s of l)e.push(s);l=i.pop()}this.map.length=0}}function JA(t,e,n,i){let l=0;if(!(n===0&&i.length===0)){for(;l<t.map.length;){if(t.map[l][0]===e){t.map[l][1]+=n,t.map[l][2].push(...i);return}l+=1}t.map.push([e,n,i])}}function KA(t,e){let n=!1;const i=[];for(;e<t.length;){const l=t[e];if(n){if(l[0]==="enter")l[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function XA(){return{flow:{null:{name:"table",tokenize:QA,resolveAll:WA}}}}function QA(t,e,n){const i=this;let l=0,s=0,u;return h;function h(U){let Z=i.events.length-1;for(;Z>-1;){const le=i.events[Z][1].type;if(le==="lineEnding"||le==="linePrefix")Z--;else break}const ee=Z>-1?i.events[Z][1].type:null,ae=ee==="tableHead"||ee==="tableRow"?P:p;return ae===P&&i.parser.lazy[i.now().line]?n(U):ae(U)}function p(U){return t.enter("tableHead"),t.enter("tableRow"),m(U)}function m(U){return U===124||(u=!0,s+=1),g(U)}function g(U){return U===null?n(U):be(U)?s>1?(s=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),S):n(U):Ue(U)?ze(t,g,"whitespace")(U):(s+=1,u&&(u=!1,l+=1),U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),u=!0,g):(t.enter("data"),v(U)))}function v(U){return U===null||U===124||Ze(U)?(t.exit("data"),g(U)):(t.consume(U),U===92?T:v)}function T(U){return U===92||U===124?(t.consume(U),v):v(U)}function S(U){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(U):(t.enter("tableDelimiterRow"),u=!1,Ue(U)?ze(t,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):_(U))}function _(U){return U===45||U===58?R(U):U===124?(u=!0,t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),E):z(U)}function E(U){return Ue(U)?ze(t,R,"whitespace")(U):R(U)}function R(U){return U===58?(s+=1,u=!0,t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),M):U===45?(s+=1,M(U)):U===null||be(U)?B(U):z(U)}function M(U){return U===45?(t.enter("tableDelimiterFiller"),I(U)):z(U)}function I(U){return U===45?(t.consume(U),I):U===58?(u=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(U),t.exit("tableDelimiterMarker"),N):(t.exit("tableDelimiterFiller"),N(U))}function N(U){return Ue(U)?ze(t,B,"whitespace")(U):B(U)}function B(U){return U===124?_(U):U===null||be(U)?!u||l!==s?z(U):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(U)):z(U)}function z(U){return n(U)}function P(U){return t.enter("tableRow"),K(U)}function K(U){return U===124?(t.enter("tableCellDivider"),t.consume(U),t.exit("tableCellDivider"),K):U===null||be(U)?(t.exit("tableRow"),e(U)):Ue(U)?ze(t,K,"whitespace")(U):(t.enter("data"),ie(U))}function ie(U){return U===null||U===124||Ze(U)?(t.exit("data"),K(U)):(t.consume(U),U===92?W:ie)}function W(U){return U===92||U===124?(t.consume(U),ie):ie(U)}}function WA(t,e){let n=-1,i=!0,l=0,s=[0,0,0,0],u=[0,0,0,0],h=!1,p=0,m,g,v;const T=new YA;for(;++n<t.length;){const S=t[n],_=S[1];S[0]==="enter"?_.type==="tableHead"?(h=!1,p!==0&&(J0(T,e,p,m,g),g=void 0,p=0),m={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},T.add(n,0,[["enter",m,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,v=void 0,s=[0,0,0,0],u=[0,n+1,0,0],h&&(h=!1,g={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},T.add(n,0,[["enter",g,e]])),l=_.type==="tableDelimiterRow"?2:g?3:1):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(s[1]!==0&&(u[0]=u[1],v=ca(T,e,s,l,void 0,v),s=[0,0,0,0]),u[2]=n)):_.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(u[0]=u[1],v=ca(T,e,s,l,void 0,v)),s=u,u=[s[1],n,0,0])):_.type==="tableHead"?(h=!0,p=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(p=n,s[1]!==0?(u[0]=u[1],v=ca(T,e,s,l,n,v)):u[1]!==0&&(v=ca(T,e,u,l,n,v)),l=0):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(u[3]=n)}for(p!==0&&J0(T,e,p,m,g),T.consume(e.events),n=-1;++n<e.events.length;){const S=e.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=KA(e.events,n))}return t}function ca(t,e,n,i,l,s){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",h="tableContent";n[0]!==0&&(s.end=Object.assign({},lo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const p=lo(e.events,n[1]);if(s={type:u,start:Object.assign({},p),end:Object.assign({},p)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const m=lo(e.events,n[2]),g=lo(e.events,n[3]),v={type:h,start:Object.assign({},m),end:Object.assign({},g)};if(t.add(n[2],0,[["enter",v,e]]),i!==2){const T=e.events[n[2]],S=e.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,E=n[3]-n[2]-1;t.add(_,E,[])}}t.add(n[3]+1,0,[["exit",v,e]])}return l!==void 0&&(s.end=Object.assign({},lo(e.events,l)),t.add(l,0,[["exit",s,e]]),s=void 0),s}function J0(t,e,n,i,l){const s=[],u=lo(e.events,n);l&&(l.end=Object.assign({},u),s.push(["exit",l,e])),i.end=Object.assign({},u),s.push(["exit",i,e]),t.add(n+1,0,s)}function lo(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const ZA={name:"tasklistCheck",tokenize:t2};function e2(){return{text:{91:ZA}}}function t2(t,e,n){const i=this;return l;function l(p){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),s)}function s(p){return Ze(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),u):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),u):n(p)}function u(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),h):n(p)}function h(p){return be(p)?e(p):Ue(p)?t.check({tokenize:n2},e,n)(p):n(p)}}function n2(t,e,n){return ze(t,i,"whitespace");function i(l){return l===null?n(l):e(l)}}function i2(t){return dx([AA(),BA(),$A(t),XA(),e2()])}const r2={};function qd(t){const e=this,n=t||r2,i=e.data(),l=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);l.push(i2(n)),s.push(CA()),u.push(_A(n))}const fa=({name:t,price:e,color:n})=>{const i={red:"bg-red-600",green:"bg-green-600",blue:"bg-blue-600"};return x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:`px-2 py-0.5 text-xs font-bold text-white ${i[n]} rounded-md`,children:t}),x.jsx("div",{className:`w-0.5 h-4 ${i[n]}`}),x.jsx("div",{className:`w-3 h-3 ${i[n]} rounded-full border-2 border-white dark:border-slate-800`}),x.jsx("p",{className:"absolute -bottom-5 text-xs font-mono text-slate-600 dark:text-slate-300",children:e})]})},o2=({riskParams:t,analysis:e})=>{if(!e)return null;const{tradeSetup:n}=e,i=n.tradeType==="Long",l=parseFloat(n.entryPrice),s=parseFloat(n.stopLoss),u=parseFloat(n.takeProfit);if(isNaN(l)||isNaN(s)||isNaN(u))return null;const h=Math.abs(l-s),p=parseFloat(t.riskRewardRatio)||1.5,m=h*(p*1.5),g=i?l+m:l-m,v=[s,l,u,g],T=Math.min(...v),_=Math.max(...v)-T;let E={stop:50,entry:50,tp1:50,tp2:50};_>0&&(E={stop:(s-T)/_*100,entry:(l-T)/_*100,tp1:(u-T)/_*100,tp2:(g-T)/_*100});const R=i?`calc(${E.entry}% + 25px)`:`calc(${E.entry}% - 45px)`;return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-4",children:[x.jsx(Qv,{className:"w-5 h-5 text-violet-500"}),"Active Risk Parameters"]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Risk %"}),x.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskPerTrade,"%"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"R:R Ratio (TP1)"}),x.jsxs("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:[t.riskRewardRatio,":1"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Entry"}),x.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:n.entryPrice})]})]}),x.jsxs("div",{className:"relative w-full h-16 flex items-center",children:[x.jsx("div",{className:`absolute inset-y-0 left-0 right-0 rounded-full opacity-30 ${i?"bg-gradient-to-r from-red-400/80 to-emerald-400/80":"bg-gradient-to-r from-emerald-400/80 to-red-400/80"}`}),x.jsx("div",{className:"w-full h-0.5 bg-slate-300 dark:bg-slate-600"}),x.jsxs("div",{className:"absolute w-[calc(100%-2rem)] h-full top-0 left-1/2 -translate-x-1/2 flex items-center",children:[x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.stop}%`,transform:"translateX(-50%)"},children:x.jsx(fa,{name:"SL",price:s.toFixed(Math.max(2,(s.toString().split(".")[1]||[]).length)),color:"red"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.entry}%`,transform:"translateX(-50%)"},children:x.jsx(fa,{name:"Entry",price:l.toFixed(Math.max(2,(l.toString().split(".")[1]||[]).length)),color:"blue"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:R,transform:"translateX(-50%)"},children:i?x.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})}):x.jsx("svg",{className:"w-8 h-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.tp1}%`,transform:"translateX(-50%)"},children:x.jsx(fa,{name:"TP1",price:u.toFixed(Math.max(2,(u.toString().split(".")[1]||[]).length)),color:"green"})}),x.jsx("div",{className:"absolute top-1/2 -translate-y-1/2",style:{left:`${E.tp2}%`,transform:"translateX(-50%)"},children:x.jsx(fa,{name:"TP2",price:g.toFixed(Math.max(2,(g.toString().split(".")[1]||[]).length)),color:"green"})})]})]})]})},da=({label:t,value:e,className:n=""})=>x.jsxs("div",{className:`bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 ${n}`,children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),x.jsx("p",{className:`mt-1 text-base font-semibold text-slate-900 dark:text-slate-100 ${n}`,children:e})]}),l2=({analysis:t})=>{const{tradeType:e,entryPrice:n,stopLoss:i,takeProfit:l}=t.tradeSetup,s=e==="Long";return x.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${s?"bg-emerald-50 border-emerald-500 dark:bg-emerald-900/50 dark:border-emerald-700":"bg-red-50 border-red-500 dark:bg-red-900/50 dark:border-red-700"}`,children:[x.jsxs("h4",{className:`text-lg font-bold ${s?"text-emerald-800 dark:text-emerald-200":"text-red-800 dark:text-red-200"}`,children:["Suggested Trade: ",e]}),x.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Entry Price"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:n})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Stop Loss"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:i})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-300",children:"Take Profit"}),x.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100",children:l})]})]})]})},s2=({analysis:t,riskParams:e})=>x.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[x.jsx("div",{className:"w-full",children:x.jsx("img",{src:t.image,alt:"Analyzed chart",className:"w-full h-auto object-contain rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800"})}),x.jsxs("div",{className:"w-full space-y-4",children:[t.status!=="pending"&&x.jsxs("div",{className:`p-3 rounded-lg font-bold text-lg text-center flex items-center justify-center gap-2 ${t.status==="profit"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[t.status==="profit"?x.jsx(Di,{className:"h-6 w-6"}):x.jsx(Rn,{className:"h-6 w-6"}),x.jsxs("span",{children:["TRADE COMPLETED: ",x.jsx("span",{className:"uppercase",children:t.status.replace("-"," ")})]})]}),x.jsx(l2,{analysis:t}),x.jsx(o2,{riskParams:e,analysis:t}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[x.jsx(da,{label:"Market Trend",value:t.marketTrend}),x.jsx(da,{label:"Trade Bias",value:t.tradeBias,className:t.tradeBias==="Bullish"?"text-emerald-600 dark:text-emerald-400":t.tradeBias==="Bearish"?"text-red-600 dark:text-red-400":"text-slate-800 dark:text-slate-200"}),x.jsx(da,{label:"Confidence",value:`${t.confidenceScore}%`}),t.status!=="pending"&&t.outcomeAmount!==void 0&&x.jsx(da,{label:t.status==="profit"?"Profit Amount":"Loss Amount",value:`$${t.outcomeAmount.toLocaleString()}`,className:t.status==="profit"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(Mw,{className:"h-5 w-5 text-slate-500 dark:text-slate-400"}),x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Trade Reasoning"})]}),x.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-strong:text-slate-200 dark:prose-ul:pl-4",children:x.jsx(Ud,{remarkPlugins:[qd],children:t.rationale})})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Key Pattern"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.keyPattern})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Indicator Analysis"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:t.indicatorAnalysis})]})]})]}),a2=({status:t})=>{if(t==="pending")return null;const e="text-xs font-bold px-2 py-0.5 rounded-full";return t==="profit"?x.jsx("span",{className:`${e} bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300`,children:"PROFIT"}):t==="stop-loss"?x.jsx("span",{className:`${e} bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300`,children:"LOSS"}):null},u2=({history:t,onSelect:e,onDeleteRequest:n,currentAnalysisId:i})=>x.jsxs("div",{className:"p-6 h-full flex flex-col",children:[x.jsxs("div",{className:"flex items-center mb-4 flex-shrink-0",children:[x.jsx(kw,{className:"h-6 w-6 text-slate-500 dark:text-slate-400 mr-3"}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Analysis History"})]}),t.length===0?x.jsxs("div",{className:"text-center py-10 flex-1",children:[x.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No analyses yet."}),x.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500",children:"Upload a chart to get started."})]}):x.jsx("ul",{className:"space-y-3 flex-1 overflow-y-auto pr-1",children:t.map(l=>x.jsx("li",{className:"group",children:x.jsxs("div",{className:`w-full flex items-center justify-between p-3 rounded-md transition-colors duration-150 ${i===l.id?"bg-violet-100 ring-2 ring-violet-500 dark:bg-violet-900/50 dark:ring-violet-400":"bg-slate-50 hover:bg-slate-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[x.jsxs("button",{onClick:()=>e(l),className:"flex-grow text-left min-w-0","aria-label":`Select analysis from ${new Date(l.timestamp).toLocaleString()}`,children:[x.jsxs("div",{className:"flex justify-between items-center gap-2",children:[x.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[x.jsxs("p",{className:`font-semibold text-sm truncate ${l.tradeSetup.tradeType==="Long"?"text-emerald-700 dark:text-emerald-400":"text-red-700 dark:text-red-400"}`,children:[l.tradeSetup.tradeType," (",l.tradeBias,")"]}),x.jsx(a2,{status:l.status})]}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0",children:new Date(l.timestamp).toLocaleString()})]}),x.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1 truncate",children:["Pattern: ",l.keyPattern]})]}),x.jsx("button",{onClick:s=>{s.stopPropagation(),n(l)},className:"ml-2 p-1 rounded-full text-slate-400 dark:text-slate-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete analysis",children:x.jsx(Dw,{className:"h-4 w-4"})})]})},l.id))})]}),K0=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")};return x.jsxs("button",{onClick:n,className:"relative inline-flex items-center h-8 w-14 rounded-full transition-colors duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 bg-slate-100 dark:bg-slate-700","aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:[x.jsx("span",{className:"sr-only",children:"Toggle theme"}),x.jsxs("div",{className:"flex items-center justify-between w-full px-2",children:[x.jsx(Ea,{className:`h-5 w-5 ${t==="light"?"text-yellow-500":"text-slate-400"}`}),x.jsx(Aw,{className:`h-5 w-5 ${t==="dark"?"text-blue-400":"text-slate-400"}`})]}),x.jsx("span",{className:`${t==="light"?"translate-x-1":"translate-x-7"} absolute top-1 left-0 inline-block h-6 w-6 transform bg-white dark:bg-slate-900 rounded-full shadow-lg transition-transform duration-300 ease-in-out ring-1 ring-slate-900/5`})]})},X0=({apiStatus:t,sessionTokens:e,totalTokens:n})=>{const i=u=>new Intl.NumberFormat().format(u),s={idle:{text:"Not Configured",color:"bg-slate-400",pulse:!1},verifying:{text:"Verifying...",color:"bg-yellow-400",pulse:!0},valid:{text:"Active",color:"bg-emerald-400",pulse:!1},invalid:{text:"Invalid Key",color:"bg-red-500",pulse:!1}}[t];return x.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-3 rounded-lg text-xs space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"relative flex h-2 w-2",children:[x.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full ${s.color} ${s.pulse?"animate-ping":""} opacity-75`}),x.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${s.color}`})]}),x.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:["AI Engine: ",s.text]})]}),x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-600 my-1"}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Session Tokens:"}),x.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(e)})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Tokens Used:"}),x.jsx("span",{className:"font-mono font-semibold text-slate-700 dark:text-slate-200",children:i(n)})]})]})},Ct=({mode:t,activeMode:e,onClick:n,icon:i,label:l})=>x.jsx("li",{children:x.jsxs("button",{onClick:()=>n(t),className:`flex items-center w-full px-4 py-3 text-sm font-medium rounded-lg transition-colors ${e===t?"bg-violet-50 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-slate-100"}`,children:[i,x.jsx("span",{className:"ml-3",children:l})]})}),c2=({activeMode:t,onModeChange:e,theme:n,setTheme:i,apiStatus:l,sessionTokens:s,totalTokens:u,isMobileMenuOpen:h,onMobileMenuToggle:p})=>x.jsxs(x.Fragment,{children:[h&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] lg:hidden",onClick:p}),x.jsxs("div",{className:`
        fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-800 shadow-xl z-[120] transform transition-transform duration-300 ease-in-out lg:hidden
        ${h?"translate-x-0":"-translate-x-full"}
      `,children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[x.jsx("div",{}),x.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:x.jsx(Pw,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[x.jsx("nav",{className:"flex-1",children:x.jsxs("ul",{className:"space-y-2",children:[x.jsx(Ct,{mode:"home",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Kg,{className:"h-5 w-5"}),label:"Home"}),x.jsx(Ct,{mode:"dashboard",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Ff,{className:"h-5 w-5"}),label:"Dashboard"}),x.jsx(Ct,{mode:"portfolio",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Xg,{className:"h-5 w-5"}),label:"Portfolio"}),x.jsx(Ct,{mode:"economic-calendar",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Qg,{className:"h-5 w-5"}),label:"Economic Calendar"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),x.jsx(Ct,{mode:"scalp",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(ka,{className:"h-5 w-5"}),label:"Scalp Trading"}),x.jsx(Ct,{mode:"day",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Ea,{className:"h-5 w-5"}),label:"Day Trading"}),x.jsx(Ct,{mode:"swing",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(zf,{className:"h-5 w-5"}),label:"Swing Trading"}),x.jsx(Ct,{mode:"position",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(qf,{className:"h-5 w-5"}),label:"Position Trading"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx(Ct,{mode:"settings",activeMode:t,onClick:m=>{e(m),p()},icon:x.jsx(Vf,{className:"h-5 w-5"}),label:"Settings"})]})}),x.jsxs("div",{className:"mt-6 space-y-4",children:[x.jsx(X0,{apiStatus:l,sessionTokens:s,totalTokens:u}),x.jsx(K0,{theme:n,setTheme:i})]})]})]}),x.jsxs("aside",{className:"hidden lg:block w-64 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 flex-shrink-0 flex flex-col",children:[x.jsx("div",{className:"mb-6 px-2"}),x.jsx("nav",{className:"flex-1",children:x.jsxs("ul",{className:"space-y-2",children:[x.jsx(Ct,{mode:"home",activeMode:t,onClick:e,icon:x.jsx(Kg,{className:"h-5 w-5"}),label:"Home"}),x.jsx(Ct,{mode:"dashboard",activeMode:t,onClick:e,icon:x.jsx(Ff,{className:"h-5 w-5"}),label:"Dashboard"}),x.jsx(Ct,{mode:"portfolio",activeMode:t,onClick:e,icon:x.jsx(Xg,{className:"h-5 w-5"}),label:"Portfolio"}),x.jsx(Ct,{mode:"economic-calendar",activeMode:t,onClick:e,icon:x.jsx(Qg,{className:"h-5 w-5"}),label:"Economic Calendar"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx("div",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Trading Modes"}),x.jsx(Ct,{mode:"scalp",activeMode:t,onClick:e,icon:x.jsx(ka,{className:"h-5 w-5"}),label:"Scalp Trading"}),x.jsx(Ct,{mode:"day",activeMode:t,onClick:e,icon:x.jsx(Ea,{className:"h-5 w-5"}),label:"Day Trading"}),x.jsx(Ct,{mode:"swing",activeMode:t,onClick:e,icon:x.jsx(zf,{className:"h-5 w-5"}),label:"Swing Trading"}),x.jsx(Ct,{mode:"position",activeMode:t,onClick:e,icon:x.jsx(qf,{className:"h-5 w-5"}),label:"Position Trading"}),x.jsx("div",{className:"py-2",children:x.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700"})}),x.jsx(Ct,{mode:"settings",activeMode:t,onClick:e,icon:x.jsx(Vf,{className:"h-5 w-5"}),label:"Settings"})]})}),x.jsxs("div",{className:"mt-6 space-y-4",children:[x.jsx(X0,{apiStatus:l,sessionTokens:s,totalTokens:u}),x.jsx(K0,{theme:n,setTheme:i})]})]})]}),Q0=({type:t,onSave:e,onClose:n})=>{const[i,l]=Q.useState("");Q.useEffect(()=>{const m=g=>{g.key==="Escape"&&n()};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[n]);const s=m=>{const v=m.target.value.replace(/,/g,".");/^\d*\.?\d*$/.test(v)&&l(v)},u=m=>{m.preventDefault();const g=parseFloat(i);!isNaN(g)&&g>0&&e(g)},h=t==="profit",p=!isNaN(parseFloat(i))&&parseFloat(i)>0;return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:n,children:x.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-sm w-full text-center transform transition-all scale-100 opacity-100",onClick:m=>m.stopPropagation(),children:x.jsxs("form",{onSubmit:u,children:[h?x.jsx(Di,{className:"mx-auto h-16 w-16 text-emerald-500"}):x.jsx(Rn,{className:"mx-auto h-16 w-16 text-red-500"}),x.jsx("h2",{className:`mt-4 text-2xl font-bold ${h?"text-emerald-800 dark:text-emerald-300":"text-red-800 dark:text-red-300"}`,children:h?"Record Profit":"Record Stop Loss"}),x.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:h?"Enter the final profit amount for this trade.":"Enter the final loss amount for this trade."}),x.jsxs("div",{className:"mt-6",children:[x.jsx("label",{htmlFor:"amount",className:"sr-only",children:h?"Profit Amount":"Loss Amount"}),x.jsxs("div",{className:"relative rounded-md shadow-sm",children:[x.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:x.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),x.jsx("input",{type:"text",inputMode:"decimal",name:"amount",id:"amount",className:"block w-full rounded-md border-0 py-2.5 pl-7 pr-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500",placeholder:"0.00",value:i,onChange:s,required:!0,autoFocus:!0})]})]}),x.jsx("button",{type:"submit",className:"mt-6 w-full px-4 py-2 rounded-lg font-semibold text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-800 focus:ring-violet-500 disabled:bg-slate-400",disabled:!p,children:"Save Result"})]})})})},f2={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400",emerald:"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/50 dark:text-emerald-400",green:"bg-green-50 text-green-600 dark:bg-green-900/50 dark:text-green-400",red:"bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-400",violet:"bg-violet-50 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/50 dark:text-orange-400"},d2={blue:"text-blue-600 dark:text-blue-400",emerald:"text-emerald-600 dark:text-emerald-400",green:"text-green-600 dark:text-green-500",red:"text-red-600 dark:text-red-500",violet:"text-violet-600 dark:text-violet-400",orange:"text-orange-600 dark:text-orange-500"},Ei=({label:t,value:e,icon:n,color:i})=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between min-h-[120px] sm:min-h-[140px]",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("p",{className:"text-xs sm:text-sm font-medium text-slate-500 dark:text-slate-400 leading-tight",children:t}),x.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${f2[i]} flex-shrink-0`,children:x.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:n})})]}),x.jsx("p",{className:`text-2xl sm:text-3xl lg:text-4xl font-bold mt-3 sm:mt-4 ${d2[i]} leading-tight`,children:e})]}),h2=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)},m2=(t,e)=>{if(t.length===0)return{labels:[],profitData:[],lossData:[],pendingData:[],cumulativePlData:[]};const n=[...t].sort((v,T)=>new Date(v.timestamp).getTime()-new Date(T.timestamp).getTime()),i={};n.forEach(v=>{const T=new Date(v.timestamp);let S="";if(e==="daily")S=T.toLocaleDateString("en-CA");else if(e==="weekly"){const _=T.getFullYear(),E=h2(T);S=`${_}-W${E.toString().padStart(2,"0")}`}else S=`${T.getFullYear()}-${(T.getMonth()+1).toString().padStart(2,"0")}`;switch(i[S]||(i[S]={profit:0,loss:0,pending:0,pl:0}),v.status){case"profit":i[S].profit+=1,i[S].pl+=v.outcomeAmount||0;break;case"stop-loss":i[S].loss+=1,i[S].pl-=v.outcomeAmount||0;break;case"pending":i[S].pending+=1;break}});const l=Object.keys(i).sort(),s=l,u=l.map(v=>i[v].profit),h=l.map(v=>i[v].loss),p=l.map(v=>i[v].pending),m=[];let g=0;return l.forEach(v=>{g+=i[v].pl,m.push(g)}),{labels:s,profitData:u,lossData:h,pendingData:p,cumulativePlData:m}},Af=({buttonTimeframe:t,activeTimeframe:e,setTimeframe:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${e===t?"bg-violet-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:i}),p2=({history:t,theme:e})=>{const n=Q.useRef(null),i=Q.useRef(null),[l,s]=Q.useState("daily");return Q.useEffect(()=>{if(!n.current)return;const u=n.current.getContext("2d");if(!u)return;i.current&&i.current.destroy();const{labels:h,profitData:p,lossData:m,pendingData:g,cumulativePlData:v}=m2(t,l),T=e==="dark",S=T?"rgba(71, 85, 105, 0.2)":"rgba(203, 213, 225, 0.5)",_=T?"rgba(203, 213, 225, 0.8)":"rgba(100, 116, 139, 1)",E=u.createLinearGradient(0,0,0,300);E.addColorStop(0,T?"rgba(34, 197, 94, 0.7)":"rgba(34, 197, 94, 0.8)"),E.addColorStop(1,T?"rgba(34, 197, 94, 0.3)":"rgba(34, 197, 94, 0.4)");const R=u.createLinearGradient(0,0,0,300);R.addColorStop(0,T?"rgba(239, 68, 68, 0.7)":"rgba(239, 68, 68, 0.8)"),R.addColorStop(1,T?"rgba(239, 68, 68, 0.3)":"rgba(239, 68, 68, 0.4)");const M=u.createLinearGradient(0,0,0,300);M.addColorStop(0,T?"rgba(100, 116, 139, 0.6)":"rgba(100, 116, 139, 0.7)"),M.addColorStop(1,T?"rgba(100, 116, 139, 0.2)":"rgba(100, 116, 139, 0.3)");const I=u.createLinearGradient(0,50,0,300);return I.addColorStop(0,T?"rgba(124, 58, 237, 0.4)":"rgba(124, 58, 237, 0.5)"),I.addColorStop(1,"rgba(124, 58, 237, 0.05)"),i.current=new window.Chart(u,{type:"bar",data:{labels:h,datasets:[{label:"Profit",data:p,backgroundColor:E,borderColor:"rgba(34, 197, 94, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Stop Loss",data:m,backgroundColor:R,borderColor:"rgba(239, 68, 68, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{label:"Pending",data:g,backgroundColor:M,borderColor:"rgba(100, 116, 139, 0)",borderWidth:0,borderRadius:4,stack:"Stack 0"},{type:"line",label:"Cumulative P/L",data:v,borderColor:"rgba(124, 58, 237, 1)",backgroundColor:I,borderWidth:3,yAxisID:"y1",tension:.4,fill:!0,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:"rgba(124, 58, 237, 1)",pointBorderColor:T?"#1e293b":"#fff",pointHoverBackgroundColor:"rgba(124, 58, 237, 1)",pointHoverBorderColor:T?"#1e293b":"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0,grid:{display:!1},ticks:{color:_,font:{family:"inherit"}}},y:{stacked:!0,beginAtZero:!0,grid:{color:S,drawBorder:!1,borderDash:[5,5]},ticks:{stepSize:1,color:_,font:{family:"inherit"}},title:{display:!0,text:"Number of Trades",color:_,font:{size:12,weight:"500",family:"inherit"}}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:_,font:{family:"inherit"},callback:function(N){return typeof N!="number"?N:Math.abs(N)>=1e3?"$"+(N/1e3).toFixed(1).replace(/\.0$/,"")+"k":"$"+N}},title:{display:!0,text:"Cumulative P/L ($)",color:_,font:{size:12,weight:"500",family:"inherit"}}}},plugins:{legend:{position:"top",align:"end",labels:{color:_,usePointStyle:!0,boxWidth:8,font:{family:"inherit"}}},tooltip:{backgroundColor:T?"rgba(15, 23, 42, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:T?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:T?"#cbd5e1":"#1e293b",bodyColor:T?"#94a3b8":"#475569",bodySpacing:8,titleSpacing:6,padding:12,cornerRadius:8,boxPadding:4,usePointStyle:!0,callbacks:{label:function(N){let B=N.dataset.label||"";return B&&(B+=": "),N.parsed.y!==null&&(N.dataset.yAxisID==="y1"?B+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N.parsed.y):B+=N.parsed.y),B}}}}}}),()=>{i.current&&i.current.destroy()}},[t,l,e]),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Trade Outcomes Over Time"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Af,{buttonTimeframe:"daily",activeTimeframe:l,setTimeframe:s,children:"Daily"}),x.jsx(Af,{buttonTimeframe:"weekly",activeTimeframe:l,setTimeframe:s,children:"Weekly"}),x.jsx(Af,{buttonTimeframe:"monthly",activeTimeframe:l,setTimeframe:s,children:"Monthly"})]})]}),x.jsx("div",{className:"relative h-96",children:t.length>0?x.jsx("canvas",{ref:n}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:["No completed trade data to display. ",x.jsx("br",{})," Complete some trades to see the chart."]})})})]})},g2=({profile:t,winRate:e,totalTrades:n,onClose:i})=>(Q.useEffect(()=>{const l=s=>{s.key==="Escape"&&i()};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}},[i]),x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 transition-opacity duration-300","aria-modal":"true",role:"dialog",onClick:i,children:x.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md transform transition-all scale-100 opacity-100",onClick:l=>l.stopPropagation(),children:[x.jsx("div",{className:"absolute top-4 right-4",children:x.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:x.jsx(Rn,{className:"w-8 h-8"})})}),x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"flex justify-center items-center h-48 w-48 mx-auto bg-violet-50 dark:bg-slate-700 rounded-full",children:Jv.createElement(t.image,{className:"h-32 w-32 text-violet-500 dark:text-violet-400"})}),x.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800 dark:text-slate-100",children:t.tier}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400 max-w-xs mx-auto",children:t.description}),x.jsxs("div",{className:"mt-6 flex justify-center gap-6",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Win Rate"}),x.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:[e,"%"]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Trades Completed"}),x.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n})]})]})]})]})})),y2={"Novice Navigator":{description:"You're at the beginning of your trading journey, exploring the markets. Every trade is a valuable lesson.",icon:Zg,image:Zg},"Market Apprentice":{description:"You're gaining experience and learning the ropes. Consistency is developing, and you're starting to understand market movements.",icon:e0,image:e0},"Pattern Pursuer":{description:"You have a knack for spotting opportunities and are developing a consistent approach. Your discipline is starting to pay off.",icon:t0,image:t0},"Strategy Sentinel":{description:"You trade with a clear plan and strong discipline. Your strategy is robust, leading to consistent positive results.",icon:n0,image:n0},"Elite Executor":{description:"You operate at a high level of precision and mastery. Your execution is sharp, and your performance is exceptional.",icon:i0,image:i0}},v2=t=>{const e=t.filter(u=>u.status!=="pending"),n=e.length,i=e.filter(u=>u.status==="profit").length,l=n>0?i/n*100:0;let s="Novice Navigator";return n>=75&&l>=75?s="Elite Executor":n>=50&&l>=65?s="Strategy Sentinel":n>=30&&l>=55?s="Pattern Pursuer":n>=10&&l>=40&&(s="Market Apprentice"),{tier:s,...y2[s]}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let x2,b2;function T2(){return{geminiUrl:x2,vertexUrl:b2}}function S2(t,e,n){var i,l,s;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=T2();return t.vertexai?(l=u.vertexUrl)!==null&&l!==void 0?l:e:(s=u.geminiUrl)!==null&&s!==void 0?s:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ar{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const s=e[l];return s!=null?String(s):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(t,e,n){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const h=u.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[h])){const p=t[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const g=p[m];f(g,e.slice(s+1),n[m])}else for(const m of p)f(m,e.slice(s+1),n)}return}else if(u.endsWith("[0]")){const h=u.slice(0,-3);h in t||(t[h]=[{}]);const p=t[h];f(p[0],e.slice(s+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function c(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const s=t[l];return Array.isArray(s)?s.map(u=>c(u,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var W0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(W0||(W0={}));var Z0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Z0||(Z0={}));var ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ft||(ft={}));var ey;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(ey||(ey={}));var ty;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ty||(ty={}));var ny;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ny||(ny={}));var iy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(iy||(iy={}));var ry;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ry||(ry={}));var oy;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(oy||(oy={}));var ly;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ly||(ly={}));var sy;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(sy||(sy={}));var ay;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ay||(ay={}));var uy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(uy||(uy={}));var cy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cy||(cy={}));var fy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(fy||(fy={}));var dy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(dy||(dy={}));var Da;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Da||(Da={}));var hy;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hy||(hy={}));var ed;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ed||(ed={}));var my;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(my||(my={}));var py;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(py||(py={}));var gy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(gy||(gy={}));var yy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yy||(yy={}));var vy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(vy||(vy={}));var xy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(xy||(xy={}));var by;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(by||(by={}));var Ty;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ty||(Ty={}));var Sy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sy||(Sy={}));var wy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wy||(wy={}));var Cy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cy||(Cy={}));var _y;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_y||(_y={}));var ky;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ky||(ky={}));var Ey;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ey||(Ey={}));var Ay;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ay||(Ay={}));var My;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(My||(My={}));var Ny;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ny||(Ny={}));var Ry;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ry||(Ry={}));var Dy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Dy||(Dy={}));var Iy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Iy||(Iy={}));var Py;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Py||(Py={}));var Ly;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ly||(Ly={}));var ao;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ao||(ao={}));class td{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ml{get text(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",g=!1;const v=[];for(const T of(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[S,_]of Object.entries(T))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&v.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,m+=T.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?m:void 0}get data(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const g=[];for(const v of(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[T,S]of Object.entries(v))T!=="inlineData"&&(S!==null||S!==void 0)&&g.push(T);v.inlineData&&typeof v.inlineData.data=="string"&&(m+=atob(v.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,n,i,l,s,u,h,p;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,n,i,l,s,u,h,p,m;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,n,i,l,s,u,h,p,m;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(h=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.output}}class Uy{}class Oy{}class w2{}class C2{}class By{}class zy{}class qy{}class _2{}class Fy{}class Vy{}class jy{}class k2{}class E2{}class A2{}class Gy{}class M2{get text(){var e,n,i;let l="",s=!1;const u=[];for(const h of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&u.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;s=!0,l+=h.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?l:void 0}get data(){var e,n,i;let l="";const s=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(u))h!=="inlineData"&&p!==null&&s.push(h);u.inlineData&&typeof u.inlineData.data=="string"&&(l+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class N2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function nb(t,e){const n=$e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ib(t){return Array.isArray(t)?t.map(e=>Ia(e)):[Ia(t)]}function Ia(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function rb(t){const e=Ia(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ob(t){const e=Ia(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lb(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Hy(e)):[Hy(t)]}function nd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $y(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Yy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ut(t){if(t==null)throw new Error("ContentUnion is required");return nd(t)?t:{role:"user",parts:lb(t)}}function sb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ut(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ut(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ut(n)):[Ut(e)]}function gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($y(t)||Yy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(t)]}const e=[],n=[],i=nd(t[0]);for(const l of t){const s=nd(l);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(l);else{if($y(l)||Yy(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:lb(n)}),e}function R2(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(ft).includes(n[0].toUpperCase())?n[0].toUpperCase():ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(ft).includes(i.toUpperCase())?i.toUpperCase():ft.TYPE_UNSPECIFIED})}}function co(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&R2(t.type,e);for(const[u,h]of Object.entries(t))if(h!=null)if(u=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(ft).includes(h.toUpperCase())?h.toUpperCase():ft.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=co(h);else if(i.includes(u)){const p=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}p.push(co(m))}e[u]=p}else if(l.includes(u)){const p={};for(const[m,g]of Object.entries(h))p[m]=co(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=h}return e}function Fd(t){return co(t)}function Vd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function yo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=co(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=co(e.response));return t}function vo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function D2(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function Qn(t,e){if(typeof e!="string")throw new Error("name must be a string");return D2(t,e,"cachedContents")}function ab(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wn(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function I2(t){return t!=null&&typeof t=="object"&&"name"in t}function P2(t){return t!=null&&typeof t=="object"&&"video"in t}function L2(t){return t!=null&&typeof t=="object"&&"uri"in t}function ub(t){var e;let n;if(I2(t)&&(n=t.name),!(L2(t)&&(n=t.uri,n===void 0))&&!(P2(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cb(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fb(t){for(const e of["models","tunedModels","publisherModels"])if(U2(t,e))return t[e];return[]}function U2(t,e){return t!==null&&typeof t=="object"&&e in t}function O2(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function B2(t,e={}){const n=[],i=new Set;for(const l of t){const s=l.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const u=O2(l,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function db(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function z2(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function xo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hb(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function F2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function V2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function j2(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],q2(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],F2(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],V2(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function mb(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>j2(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function G2(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const M=c(t,["nullable"]);M!=null&&f(e,["nullable"],M);const I=c(t,["pattern"]);I!=null&&f(e,["pattern"],I);const N=c(t,["properties"]);N!=null&&f(e,["properties"],N);const B=c(t,["propertyOrdering"]);B!=null&&f(e,["propertyOrdering"],B);const z=c(t,["required"]);z!=null&&f(e,["required"],z);const P=c(t,["title"]);P!=null&&f(e,["title"],P);const K=c(t,["type"]);return K!=null&&f(e,["type"],K),e}function H2(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&f(e,["category"],n);const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function $2(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function Y2(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function J2(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],Y2(n)),e}function K2(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function X2(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],K2(n)),e}function Q2(){return{}}function W2(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>$2(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],J2(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],X2(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],Q2());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function Z2(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function eM(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function tM(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],eM(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function nM(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],Z2(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],tM(i)),e}function iM(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function pb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],iM(n)),e}function rM(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],pb(i)),e}function oM(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>rM(l))),f(e,["speakerVoiceConfigs"],i)}return e}function lM(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],pb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],oM(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function sM(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function aM(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],mb(Ut(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],G2(Fd(M)));const I=c(e,["responseJsonSchema"]);if(I!=null&&f(i,["responseJsonSchema"],I),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=c(e,["safetySettings"]);if(n!==void 0&&N!=null){let Z=N;Array.isArray(Z)&&(Z=Z.map(ee=>H2(ee))),f(n,["safetySettings"],Z)}const B=c(e,["tools"]);if(n!==void 0&&B!=null){let Z=vo(B);Array.isArray(Z)&&(Z=Z.map(ee=>W2(yo(ee)))),f(n,["tools"],Z)}const z=c(e,["toolConfig"]);if(n!==void 0&&z!=null&&f(n,["toolConfig"],nM(z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=c(e,["cachedContent"]);n!==void 0&&P!=null&&f(n,["cachedContent"],Qn(t,P));const K=c(e,["responseModalities"]);K!=null&&f(i,["responseModalities"],K);const ie=c(e,["mediaResolution"]);ie!=null&&f(i,["mediaResolution"],ie);const W=c(e,["speechConfig"]);if(W!=null&&f(i,["speechConfig"],lM(Vd(W))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=c(e,["thinkingConfig"]);return U!=null&&f(i,["thinkingConfig"],sM(U)),i}function uM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["request","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>mb(h))),f(n,["request","contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["request","generationConfig"],aM(t,s,n)),n}function cM(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(e,["fileName"]);i!=null&&f(n,["fileName"],i);const l=c(e,["inlinedRequests"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>uM(t,u))),f(n,["requests","requests"],s)}return n}function fM(t,e){const n={},i=c(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["src"]);l!=null&&f(n,["batch","inputConfig"],cM(t,db(t,l)));const s=c(e,["config"]);return s!=null&&f(n,["config"],fM(s,n)),n}function hM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function mM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function pM(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gM(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],pM(n,e)),e}function yM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function vM(t){const e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const l=c(t,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function xM(t){const e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const l=c(t,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function bM(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],xM(z2(l))),n}function TM(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],$e(t,i));const l=c(e,["src"]);l!=null&&f(n,["inputConfig"],vM(db(t,l)));const s=c(e,["config"]);return s!=null&&f(n,["config"],bM(s,n)),n}function SM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function wM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function CM(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function _M(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],CM(n,e)),e}function kM(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],xo(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function gb(){return{}}function EM(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function AM(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function MM(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function NM(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],EM(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],AM(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],MM(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function RM(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>NM(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function DM(t){const e={},n=c(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function IM(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function PM(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>IM(l))),f(e,["urlMetadata"],i)}return e}function LM(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],RM(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],DM(i));const l=c(t,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],PM(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function UM(t){const e={},n=c(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>LM(h))),f(e,["candidates"],u)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function OM(t){const e={},n=c(t,["response"]);return n!=null&&f(e,["response"],UM(n)),c(t,["error"])!=null&&f(e,["error"],gb()),e}function BM(t){const e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=c(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>OM(s))),f(e,["inlinedResponses"],l)}return e}function id(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["metadata","state"]);l!=null&&f(e,["state"],hb(l));const s=c(t,["metadata","createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["metadata","endTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["metadata","model"]);p!=null&&f(e,["model"],p);const m=c(t,["metadata","output"]);return m!=null&&f(e,["dest"],BM(m)),e}function zM(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>id(s))),f(e,["batchJobs"],l)}return e}function qM(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["done"]);return i!=null&&f(e,["done"],i),c(t,["error"])!=null&&f(e,["error"],gb()),e}function yb(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["code"]);i!=null&&f(e,["code"],i);const l=c(t,["message"]);return l!=null&&f(e,["message"],l),e}function FM(t){const e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const l=c(t,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function VM(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const l=c(t,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function rd(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["state"]);l!=null&&f(e,["state"],hb(l));const s=c(t,["error"]);s!=null&&f(e,["error"],yb(s));const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["startTime"]);h!=null&&f(e,["startTime"],h);const p=c(t,["endTime"]);p!=null&&f(e,["endTime"],p);const m=c(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const g=c(t,["model"]);g!=null&&f(e,["model"],g);const v=c(t,["inputConfig"]);v!=null&&f(e,["src"],FM(v));const T=c(t,["outputConfig"]);return T!=null&&f(e,["dest"],VM(T)),e}function jM(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>rd(s))),f(e,["batchJobs"],l)}return e}function GM(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["done"]);i!=null&&f(e,["done"],i);const l=c(t,["error"]);return l!=null&&f(e,["error"],yb(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(lr||(lr={}));class Yl{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(l=u.config)===null||l===void 0?void 0:l.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HM extends ar{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${l}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Yl(lr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=TM(this.apiClient,e);return h=pe("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>rd(g))}else{const m=dM(this.apiClient,e);return h=pe("{model}:batchGenerateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>id(g))}}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=SM(this.apiClient,e);return h=pe("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>rd(g))}else{const m=hM(this.apiClient,e);return h=pe("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>id(g))}}async cancel(e){var n,i,l,s;let u="",h={};if(this.apiClient.isVertexAI()){const p=wM(this.apiClient,e);u=pe("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=mM(this.apiClient,e);u=pe("batches/{name}:cancel",p._url),h=p._query,delete p.config,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=_M(e);return h=pe("batchPredictionJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=jM(g),T=new Gy;return Object.assign(T,v),T})}else{const m=gM(e);return h=pe("batches",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=zM(g),T=new Gy;return Object.assign(T,v),T})}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=kM(this.apiClient,e);return h=pe("batchPredictionJobs/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>GM(g))}else{const m=yM(this.apiClient,e);return h=pe("batches/{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>qM(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $M(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function YM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function JM(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function KM(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],$M(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],YM(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],JM(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function Jy(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>KM(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function XM(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function QM(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function WM(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],QM(n)),e}function ZM(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function eN(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],ZM(n)),e}function tN(){return{}}function nN(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>XM(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],WM(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],eN(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],tN());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function iN(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function rN(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function oN(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],rN(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function lN(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],iN(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],oN(i)),e}function sN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let g=gn(u);Array.isArray(g)&&(g=g.map(v=>Jy(v))),f(e,["contents"],g)}const h=c(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Jy(Ut(h)));const p=c(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>nN(v))),f(e,["tools"],g)}const m=c(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],lN(m)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aN(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],nb(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],sN(l,n)),n}function uN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function cN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function fN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function dN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],fN(l,n)),n}function hN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function mN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],hN(n,e)),e}function pN(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function gN(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function yN(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function vN(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],pN(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],gN(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],yN(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function Ky(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>vN(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function xN(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function bN(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function TN(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],bN(n)),e}function SN(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function wN(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],SN(n)),e}function CN(){return{}}function _N(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function kN(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],_N(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function EN(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],kN(n)),e}function AN(){return{}}function MN(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>xN(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],TN(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],wN(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],CN());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],EN(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],AN());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function NN(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function RN(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function DN(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],RN(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function IN(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],NN(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],DN(i)),e}function PN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let v=gn(u);Array.isArray(v)&&(v=v.map(T=>Ky(T))),f(e,["contents"],v)}const h=c(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Ky(Ut(h)));const p=c(t,["tools"]);if(e!==void 0&&p!=null){let v=p;Array.isArray(v)&&(v=v.map(T=>MN(T))),f(e,["tools"],v)}const m=c(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],IN(m));const g=c(t,["kmsKeyName"]);return e!==void 0&&g!=null&&f(e,["encryption_spec","kmsKeyName"],g),n}function LN(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],nb(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],PN(l,n)),n}function UN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function ON(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function BN(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const l=c(t,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),n}function zN(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Qn(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],BN(l,n)),n}function qN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function FN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],qN(n,e)),e}function wa(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["model"]);l!=null&&f(e,["model"],l);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const h=c(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function VN(){return{}}function jN(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>wa(s))),f(e,["cachedContents"],l)}return e}function Ca(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["model"]);l!=null&&f(e,["model"],l);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const h=c(t,["expireTime"]);h!=null&&f(e,["expireTime"],h);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function GN(){return{}}function HN(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Ca(s))),f(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends ar{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yl(lr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=LN(this.apiClient,e);return h=pe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Ca(g))}else{const m=aN(this.apiClient,e);return h=pe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>wa(g))}}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=UN(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Ca(g))}else{const m=uN(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>wa(g))}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=ON(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(()=>{const g=GN(),v=new Vy;return Object.assign(v,g),v})}else{const m=cN(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(()=>{const g=VN(),v=new Vy;return Object.assign(v,g),v})}}async update(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=zN(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>Ca(g))}else{const m=dN(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>wa(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=FN(e);return h=pe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=HN(g),T=new jy;return Object.assign(T,v),T})}else{const m=mN(e);return h=pe("cachedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=jN(g),T=new jy;return Object.assign(T,v),T})}}}function Xy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(t){return this instanceof it?(this.v=t,this):new it(t)}function fo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,s=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(S){return function(_){return Promise.resolve(_).then(S,v)}}function h(S,_){i[S]&&(l[S]=function(E){return new Promise(function(R,M){s.push([S,E,R,M])>1||p(S,E)})},_&&(l[S]=_(l[S])))}function p(S,_){try{m(i[S](_))}catch(E){T(s[0][3],E)}}function m(S){S.value instanceof it?Promise.resolve(S.value.v).then(g,v):T(s[0][2],S)}function g(S){p("next",S)}function v(S){p("throw",S)}function T(S,_){S(_),s.shift(),s.length&&p(s[0][0],s[0][1])}}function Ll(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xy=="function"?Xy(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(u){return new Promise(function(h,p){u=t[s](u),l(h,p,u.done,u.value)})}}function l(s,u,h,p){Promise.resolve(p).then(function(m){s({value:m,done:h})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:vb(n)}function vb(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function JN(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let s=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),s&&!vb(t[i])&&(s=!1),i++;s?e.push(...l):e.pop()}return e}class KN{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new XN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class XN{constructor(e,n,i,l={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=s,this.sendPromise=Promise.resolve(),JN(s)}async sendMessage(e){var n;await this.sendPromise;const i=Ut(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,u,h;const p=await l,m=(u=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let T=[];g!=null&&(T=(h=g.slice(v))!==null&&h!==void 0?h:[]);const S=m?[m]:[];this.recordHistory(i,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=Ut(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const s=await l;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?Qy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return fo(this,arguments,function*(){var u,h,p,m;const g=[];try{for(var v=!0,T=Ll(e),S;S=yield it(T.next()),u=S.done,!u;v=!0){m=S.value,v=!1;const _=m;if(YN(_)){const E=(l=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;E!==void 0&&g.push(E)}yield yield it(_)}}catch(_){h={error:_}}finally{try{!v&&!u&&(p=T.return)&&(yield it(p.call(T)))}finally{if(h)throw h.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(s=>s.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Qy(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Va extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Va.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),n}function WN(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],QN(n,e)),e}function ZN(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["message"]);i!=null&&f(e,["message"],i);const l=c(t,["code"]);return l!=null&&f(e,["code"],l),e}function eR(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["mimeType"]);l!=null&&f(e,["mimeType"],l);const s=c(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=c(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=c(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const g=c(t,["uri"]);g!=null&&f(e,["uri"],g);const v=c(t,["downloadUri"]);v!=null&&f(e,["downloadUri"],v);const T=c(t,["state"]);T!=null&&f(e,["state"],T);const S=c(t,["source"]);S!=null&&f(e,["source"],S);const _=c(t,["videoMetadata"]);_!=null&&f(e,["videoMetadata"],_);const E=c(t,["error"]);return E!=null&&f(e,["error"],ZN(E)),e}function tR(t){const e={},n=c(t,["file"]);n!=null&&f(e,["file"],eR(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function nR(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","file"],ub(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function iR(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","file"],ub(n));const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function rR(t){const e={},n=c(t,["details"]);n!=null&&f(e,["details"],n);const i=c(t,["message"]);i!=null&&f(e,["message"],i);const l=c(t,["code"]);return l!=null&&f(e,["code"],l),e}function od(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["mimeType"]);l!=null&&f(e,["mimeType"],l);const s=c(t,["sizeBytes"]);s!=null&&f(e,["sizeBytes"],s);const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const h=c(t,["expirationTime"]);h!=null&&f(e,["expirationTime"],h);const p=c(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const m=c(t,["sha256Hash"]);m!=null&&f(e,["sha256Hash"],m);const g=c(t,["uri"]);g!=null&&f(e,["uri"],g);const v=c(t,["downloadUri"]);v!=null&&f(e,["downloadUri"],v);const T=c(t,["state"]);T!=null&&f(e,["state"],T);const S=c(t,["source"]);S!=null&&f(e,["source"],S);const _=c(t,["videoMetadata"]);_!=null&&f(e,["videoMetadata"],_);const E=c(t,["error"]);return E!=null&&f(e,["error"],rR(E)),e}function oR(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>od(s))),f(e,["files"],l)}return e}function lR(){return{}}function sR(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR extends ar{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yl(lr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>od(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WN(e);return s=pe("files",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=oR(p),g=new k2;return Object.assign(g,m),g})}}async createInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tR(e);return s=pe("upload/v1beta/files",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(()=>{const p=lR(),m=new E2;return Object.assign(m,p),m})}}async get(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nR(e);return s=pe("files/{file}",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>od(p))}}async delete(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iR(e);return s=pe("files/{file}",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(()=>{const p=sR(),m=new A2;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uR(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function cR(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function xb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],uR(n)),e}function fR(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],cR(n)),e}function dR(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],xb(i)),e}function hR(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>dR(l))),f(e,["speakerVoiceConfigs"],i)}return e}function mR(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],xb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],hR(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function pR(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],fR(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function gR(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function yR(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function vR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function xR(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function bR(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function TR(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function SR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],gR(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],vR(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],bR(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function wR(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],yR(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],xR(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],TR(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function CR(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>SR(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function _R(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>wR(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function kR(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function ER(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function AR(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function MR(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function NR(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],AR(n)),e}function RR(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],MR(n)),e}function DR(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function IR(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function PR(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],DR(n)),e}function LR(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],IR(n)),e}function UR(){return{}}function OR(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function BR(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],OR(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function zR(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],BR(n)),e}function qR(){return{}}function FR(){return{}}function VR(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>kR(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],NR(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],PR(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],qR());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function jR(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>ER(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],RR(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],LR(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],UR());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],zR(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],FR());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function GR(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HR(t){const e={},n=c(t,["handle"]);n!=null&&f(e,["handle"],n);const i=c(t,["transparent"]);return i!=null&&f(e,["transparent"],i),e}function Wy(){return{}}function Zy(){return{}}function $R(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function YR(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function JR(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],$R(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function KR(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],YR(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function XR(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function QR(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function WR(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],XR(i)),e}function ZR(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],QR(i)),e}function eD(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function tD(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function nD(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],mR(jd(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],CR(Ut(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let z=vo(_);Array.isArray(z)&&(z=z.map(P=>VR(yo(P)))),f(e,["setup","tools"],z)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],GR(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],Wy());const M=c(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","outputAudioTranscription"],Wy());const I=c(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],JR(I));const N=c(t,["contextWindowCompression"]);e!==void 0&&N!=null&&f(e,["setup","contextWindowCompression"],WR(N));const B=c(t,["proactivity"]);return e!==void 0&&B!=null&&f(e,["setup","proactivity"],eD(B)),n}function iD(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],pR(jd(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],_R(Ut(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let z=vo(_);Array.isArray(z)&&(z=z.map(P=>jR(yo(P)))),f(e,["setup","tools"],z)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],HR(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],Zy());const M=c(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","outputAudioTranscription"],Zy());const I=c(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],KR(I));const N=c(t,["contextWindowCompression"]);e!==void 0&&N!=null&&f(e,["setup","contextWindowCompression"],ZR(N));const B=c(t,["proactivity"]);return e!==void 0&&B!=null&&f(e,["setup","proactivity"],tD(B)),n}function rD(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],nD(l,n)),n}function oD(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],iD(l,n)),n}function lD(){return{}}function sD(){return{}}function aD(){return{}}function uD(){return{}}function cD(t){const e={},n=c(t,["media"]);n!=null&&f(e,["mediaChunks"],ib(n));const i=c(t,["audio"]);i!=null&&f(e,["audio"],ob(i));const l=c(t,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const s=c(t,["video"]);s!=null&&f(e,["video"],rb(s));const u=c(t,["text"]);return u!=null&&f(e,["text"],u),c(t,["activityStart"])!=null&&f(e,["activityStart"],lD()),c(t,["activityEnd"])!=null&&f(e,["activityEnd"],aD()),e}function fD(t){const e={},n=c(t,["media"]);n!=null&&f(e,["mediaChunks"],ib(n));const i=c(t,["audio"]);i!=null&&f(e,["audio"],ob(i));const l=c(t,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const s=c(t,["video"]);s!=null&&f(e,["video"],rb(s));const u=c(t,["text"]);return u!=null&&f(e,["text"],u),c(t,["activityStart"])!=null&&f(e,["activityStart"],sD()),c(t,["activityEnd"])!=null&&f(e,["activityEnd"],uD()),e}function bb(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function dD(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>bb(l))),f(e,["weightedPrompts"],i)}return e}function Tb(t){const e={},n=c(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=c(t,["topK"]);i!=null&&f(e,["topK"],i);const l=c(t,["seed"]);l!=null&&f(e,["seed"],l);const s=c(t,["guidance"]);s!=null&&f(e,["guidance"],s);const u=c(t,["bpm"]);u!=null&&f(e,["bpm"],u);const h=c(t,["density"]);h!=null&&f(e,["density"],h);const p=c(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=c(t,["scale"]);m!=null&&f(e,["scale"],m);const g=c(t,["muteBass"]);g!=null&&f(e,["muteBass"],g);const v=c(t,["muteDrums"]);v!=null&&f(e,["muteDrums"],v);const T=c(t,["onlyBassAndDrums"]);return T!=null&&f(e,["onlyBassAndDrums"],T),e}function hD(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],Tb(n)),e}function Sb(t){const e={},n=c(t,["model"]);return n!=null&&f(e,["model"],n),e}function wb(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>bb(l))),f(e,["weightedPrompts"],i)}return e}function ld(t){const e={},n=c(t,["setup"]);n!=null&&f(e,["setup"],Sb(n));const i=c(t,["clientContent"]);i!=null&&f(e,["clientContent"],wb(i));const l=c(t,["musicGenerationConfig"]);l!=null&&f(e,["musicGenerationConfig"],Tb(l));const s=c(t,["playbackControl"]);return s!=null&&f(e,["playbackControl"],s),e}function mD(){return{}}function pD(t){const e={},n=c(t,["sessionId"]);return n!=null&&f(e,["sessionId"],n),e}function gD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function yD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function vD(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function xD(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function bD(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function TD(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function SD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],gD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],vD(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],bD(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function wD(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],yD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],xD(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],TD(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function CD(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>SD(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function _D(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>wD(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function ev(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function tv(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["finished"]);return i!=null&&f(e,["finished"],i),e}function kD(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function ED(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>kD(l))),f(e,["urlMetadata"],i)}return e}function AD(t){const e={},n=c(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],CD(n));const i=c(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const l=c(t,["interrupted"]);l!=null&&f(e,["interrupted"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const u=c(t,["generationComplete"]);u!=null&&f(e,["generationComplete"],u);const h=c(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],ev(h));const p=c(t,["outputTranscription"]);p!=null&&f(e,["outputTranscription"],ev(p));const m=c(t,["urlContextMetadata"]);return m!=null&&f(e,["urlContextMetadata"],ED(m)),e}function MD(t){const e={},n=c(t,["modelTurn"]);n!=null&&f(e,["modelTurn"],_D(n));const i=c(t,["turnComplete"]);i!=null&&f(e,["turnComplete"],i);const l=c(t,["interrupted"]);l!=null&&f(e,["interrupted"],l);const s=c(t,["groundingMetadata"]);s!=null&&f(e,["groundingMetadata"],s);const u=c(t,["generationComplete"]);u!=null&&f(e,["generationComplete"],u);const h=c(t,["inputTranscription"]);h!=null&&f(e,["inputTranscription"],tv(h));const p=c(t,["outputTranscription"]);return p!=null&&f(e,["outputTranscription"],tv(p)),e}function ND(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const l=c(t,["name"]);return l!=null&&f(e,["name"],l),e}function RD(t){const e={},n=c(t,["args"]);n!=null&&f(e,["args"],n);const i=c(t,["name"]);return i!=null&&f(e,["name"],i),e}function DD(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ND(l))),f(e,["functionCalls"],i)}return e}function ID(t){const e={},n=c(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>RD(l))),f(e,["functionCalls"],i)}return e}function PD(t){const e={},n=c(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function LD(t){const e={},n=c(t,["ids"]);return n!=null&&f(e,["ids"],n),e}function ha(t){const e={},n=c(t,["modality"]);n!=null&&f(e,["modality"],n);const i=c(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function ma(t){const e={},n=c(t,["modality"]);n!=null&&f(e,["modality"],n);const i=c(t,["tokenCount"]);return i!=null&&f(e,["tokenCount"],i),e}function UD(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const l=c(t,["responseTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const u=c(t,["thoughtsTokenCount"]);u!=null&&f(e,["thoughtsTokenCount"],u);const h=c(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=c(t,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>ha(S))),f(e,["promptTokensDetails"],T)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(S=>ha(S))),f(e,["cacheTokensDetails"],T)}const g=c(t,["responseTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>ha(S))),f(e,["responseTokensDetails"],T)}const v=c(t,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>ha(S))),f(e,["toolUsePromptTokensDetails"],T)}return e}function OD(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const l=c(t,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const u=c(t,["thoughtsTokenCount"]);u!=null&&f(e,["thoughtsTokenCount"],u);const h=c(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const p=c(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>ma(_))),f(e,["promptTokensDetails"],S)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(_=>ma(_))),f(e,["cacheTokensDetails"],S)}const g=c(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(_=>ma(_))),f(e,["responseTokensDetails"],S)}const v=c(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>ma(_))),f(e,["toolUsePromptTokensDetails"],S)}const T=c(t,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function BD(t){const e={},n=c(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function zD(t){const e={},n=c(t,["timeLeft"]);return n!=null&&f(e,["timeLeft"],n),e}function qD(t){const e={},n=c(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=c(t,["resumable"]);i!=null&&f(e,["resumable"],i);const l=c(t,["lastConsumedClientMessageIndex"]);return l!=null&&f(e,["lastConsumedClientMessageIndex"],l),e}function FD(t){const e={},n=c(t,["newHandle"]);n!=null&&f(e,["newHandle"],n);const i=c(t,["resumable"]);i!=null&&f(e,["resumable"],i);const l=c(t,["lastConsumedClientMessageIndex"]);return l!=null&&f(e,["lastConsumedClientMessageIndex"],l),e}function VD(t){const e={};c(t,["setupComplete"])!=null&&f(e,["setupComplete"],mD());const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],AD(i));const l=c(t,["toolCall"]);l!=null&&f(e,["toolCall"],DD(l));const s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],PD(s));const u=c(t,["usageMetadata"]);u!=null&&f(e,["usageMetadata"],UD(u));const h=c(t,["goAway"]);h!=null&&f(e,["goAway"],BD(h));const p=c(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],qD(p)),e}function jD(t){const e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],pD(n));const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],MD(i));const l=c(t,["toolCall"]);l!=null&&f(e,["toolCall"],ID(l));const s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],LD(s));const u=c(t,["usageMetadata"]);u!=null&&f(e,["usageMetadata"],OD(u));const h=c(t,["goAway"]);h!=null&&f(e,["goAway"],zD(h));const p=c(t,["sessionResumptionUpdate"]);return p!=null&&f(e,["sessionResumptionUpdate"],FD(p)),e}function GD(){return{}}function HD(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["weight"]);return i!=null&&f(e,["weight"],i),e}function $D(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>HD(l))),f(e,["weightedPrompts"],i)}return e}function YD(t){const e={},n=c(t,["temperature"]);n!=null&&f(e,["temperature"],n);const i=c(t,["topK"]);i!=null&&f(e,["topK"],i);const l=c(t,["seed"]);l!=null&&f(e,["seed"],l);const s=c(t,["guidance"]);s!=null&&f(e,["guidance"],s);const u=c(t,["bpm"]);u!=null&&f(e,["bpm"],u);const h=c(t,["density"]);h!=null&&f(e,["density"],h);const p=c(t,["brightness"]);p!=null&&f(e,["brightness"],p);const m=c(t,["scale"]);m!=null&&f(e,["scale"],m);const g=c(t,["muteBass"]);g!=null&&f(e,["muteBass"],g);const v=c(t,["muteDrums"]);v!=null&&f(e,["muteDrums"],v);const T=c(t,["onlyBassAndDrums"]);return T!=null&&f(e,["onlyBassAndDrums"],T),e}function JD(t){const e={},n=c(t,["clientContent"]);n!=null&&f(e,["clientContent"],$D(n));const i=c(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],YD(i)),e}function KD(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);i!=null&&f(e,["mimeType"],i);const l=c(t,["sourceMetadata"]);return l!=null&&f(e,["sourceMetadata"],JD(l)),e}function XD(t){const e={},n=c(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>KD(l))),f(e,["audioChunks"],i)}return e}function QD(t){const e={},n=c(t,["text"]);n!=null&&f(e,["text"],n);const i=c(t,["filteredReason"]);return i!=null&&f(e,["filteredReason"],i),e}function WD(t){const e={};c(t,["setupComplete"])!=null&&f(e,["setupComplete"],GD());const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],XD(i));const l=c(t,["filteredPrompt"]);return l!=null&&f(e,["filteredPrompt"],QD(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZD(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function e4(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function t4(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function n4(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],ZD(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],e4(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],t4(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function ja(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>n4(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function i4(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const M=c(t,["nullable"]);M!=null&&f(e,["nullable"],M);const I=c(t,["pattern"]);I!=null&&f(e,["pattern"],I);const N=c(t,["properties"]);N!=null&&f(e,["properties"],N);const B=c(t,["propertyOrdering"]);B!=null&&f(e,["propertyOrdering"],B);const z=c(t,["required"]);z!=null&&f(e,["required"],z);const P=c(t,["title"]);P!=null&&f(e,["title"],P);const K=c(t,["type"]);return K!=null&&f(e,["type"],K),e}function r4(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=c(t,["category"]);n!=null&&f(e,["category"],n);const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function o4(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function l4(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function s4(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],l4(n)),e}function a4(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function u4(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],a4(n)),e}function c4(){return{}}function f4(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>o4(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],s4(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],u4(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],c4());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function d4(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function h4(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function m4(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],h4(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function p4(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],d4(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],m4(i)),e}function g4(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function Cb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],g4(n)),e}function y4(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],Cb(i)),e}function v4(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>y4(l))),f(e,["speakerVoiceConfigs"],i)}return e}function x4(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],Cb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],v4(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function b4(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function T4(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],ja(Ut(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],i4(Fd(M)));const I=c(e,["responseJsonSchema"]);if(I!=null&&f(i,["responseJsonSchema"],I),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=c(e,["safetySettings"]);if(n!==void 0&&N!=null){let Z=N;Array.isArray(Z)&&(Z=Z.map(ee=>r4(ee))),f(n,["safetySettings"],Z)}const B=c(e,["tools"]);if(n!==void 0&&B!=null){let Z=vo(B);Array.isArray(Z)&&(Z=Z.map(ee=>f4(yo(ee)))),f(n,["tools"],Z)}const z=c(e,["toolConfig"]);if(n!==void 0&&z!=null&&f(n,["toolConfig"],p4(z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=c(e,["cachedContent"]);n!==void 0&&P!=null&&f(n,["cachedContent"],Qn(t,P));const K=c(e,["responseModalities"]);K!=null&&f(i,["responseModalities"],K);const ie=c(e,["mediaResolution"]);ie!=null&&f(i,["mediaResolution"],ie);const W=c(e,["speechConfig"]);if(W!=null&&f(i,["speechConfig"],x4(Vd(W))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=c(e,["thinkingConfig"]);return U!=null&&f(i,["thinkingConfig"],b4(U)),i}function nv(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>ja(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],T4(t,s,n)),n}function S4(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const l=c(t,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function w4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);l!=null&&f(n,["requests[]","content"],sb(t,l));const s=c(e,["config"]);s!=null&&f(n,["config"],S4(s,n));const u=c(e,["model"]);return u!==void 0&&f(n,["requests[]","model"],$e(t,u)),n}function C4(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const s=c(t,["guidanceScale"]);if(e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const h=c(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const p=c(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const g=c(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const T=c(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function _4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["config"]);return s!=null&&f(n,["config"],C4(s,n)),n}function k4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function E4(t,e,n){const i={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const h=c(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],cb(t,h)),i}function A4(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],E4(t,i,n)),n}function M4(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function N4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],M4(l,n)),n}function R4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function D4(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function I4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>ja(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],D4(s)),n}function P4(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Wn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function L4(t,e){const n={},i=c(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(t,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(t,["aspectRatio"]);if(e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s),c(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=c(t,["personGeneration"]);if(e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=c(t,["negativePrompt"]);e!==void 0&&h!=null&&f(e,["parameters","negativePrompt"],h);const p=c(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&f(e,["parameters","enhancePrompt"],p),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(c(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function U4(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["image"]);if(s!=null&&f(n,["instances[0]","image"],P4(s)),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=c(e,["config"]);return u!=null&&f(n,["config"],L4(u,n)),n}function O4(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function B4(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function z4(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function q4(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],O4(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],B4(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],z4(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function bo(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>q4(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function F4(t){const e={},n=c(t,["anyOf"]);n!=null&&f(e,["anyOf"],n);const i=c(t,["default"]);i!=null&&f(e,["default"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["enum"]);s!=null&&f(e,["enum"],s);const u=c(t,["example"]);u!=null&&f(e,["example"],u);const h=c(t,["format"]);h!=null&&f(e,["format"],h);const p=c(t,["items"]);p!=null&&f(e,["items"],p);const m=c(t,["maxItems"]);m!=null&&f(e,["maxItems"],m);const g=c(t,["maxLength"]);g!=null&&f(e,["maxLength"],g);const v=c(t,["maxProperties"]);v!=null&&f(e,["maxProperties"],v);const T=c(t,["maximum"]);T!=null&&f(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&f(e,["minItems"],S);const _=c(t,["minLength"]);_!=null&&f(e,["minLength"],_);const E=c(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const R=c(t,["minimum"]);R!=null&&f(e,["minimum"],R);const M=c(t,["nullable"]);M!=null&&f(e,["nullable"],M);const I=c(t,["pattern"]);I!=null&&f(e,["pattern"],I);const N=c(t,["properties"]);N!=null&&f(e,["properties"],N);const B=c(t,["propertyOrdering"]);B!=null&&f(e,["propertyOrdering"],B);const z=c(t,["required"]);z!=null&&f(e,["required"],z);const P=c(t,["title"]);P!=null&&f(e,["title"],P);const K=c(t,["type"]);return K!=null&&f(e,["type"],K),e}function V4(t){const e={},n=c(t,["featureSelectionPreference"]);return n!=null&&f(e,["featureSelectionPreference"],n),e}function j4(t){const e={},n=c(t,["method"]);n!=null&&f(e,["method"],n);const i=c(t,["category"]);i!=null&&f(e,["category"],i);const l=c(t,["threshold"]);return l!=null&&f(e,["threshold"],l),e}function G4(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const l=c(t,["parameters"]);l!=null&&f(e,["parameters"],l);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const h=c(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function H4(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function $4(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],H4(n)),e}function Y4(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function J4(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],Y4(n)),e}function K4(){return{}}function X4(t){const e={},n=c(t,["apiKeyString"]);return n!=null&&f(e,["apiKeyString"],n),e}function Q4(t){const e={},n=c(t,["apiKeyConfig"]);n!=null&&f(e,["apiKeyConfig"],X4(n));const i=c(t,["authType"]);i!=null&&f(e,["authType"],i);const l=c(t,["googleServiceAccountConfig"]);l!=null&&f(e,["googleServiceAccountConfig"],l);const s=c(t,["httpBasicAuthConfig"]);s!=null&&f(e,["httpBasicAuthConfig"],s);const u=c(t,["oauthConfig"]);u!=null&&f(e,["oauthConfig"],u);const h=c(t,["oidcConfig"]);return h!=null&&f(e,["oidcConfig"],h),e}function W4(t){const e={},n=c(t,["authConfig"]);return n!=null&&f(e,["authConfig"],Q4(n)),e}function Z4(){return{}}function _b(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(T=>G4(T))),f(e,["functionDeclarations"],v)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const l=c(t,["googleSearch"]);l!=null&&f(e,["googleSearch"],$4(l));const s=c(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],J4(s)),c(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],K4());const h=c(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],W4(h)),c(t,["urlContext"])!=null&&f(e,["urlContext"],Z4());const m=c(t,["codeExecution"]);m!=null&&f(e,["codeExecution"],m);const g=c(t,["computerUse"]);return g!=null&&f(e,["computerUse"],g),e}function eI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);return i!=null&&f(e,["allowedFunctionNames"],i),e}function tI(t){const e={},n=c(t,["latitude"]);n!=null&&f(e,["latitude"],n);const i=c(t,["longitude"]);return i!=null&&f(e,["longitude"],i),e}function nI(t){const e={},n=c(t,["latLng"]);n!=null&&f(e,["latLng"],tI(n));const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function iI(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],eI(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],nI(i)),e}function rI(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function oI(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],rI(n)),e}function lI(t){const e={},n=c(t,["voiceConfig"]);if(n!=null&&f(e,["voiceConfig"],oI(n)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(t,["languageCode"]);return i!=null&&f(e,["languageCode"],i),e}function sI(t){const e={},n=c(t,["includeThoughts"]);n!=null&&f(e,["includeThoughts"],n);const i=c(t,["thinkingBudget"]);return i!=null&&f(e,["thinkingBudget"],i),e}function aI(t,e,n){const i={},l=c(e,["systemInstruction"]);n!==void 0&&l!=null&&f(n,["systemInstruction"],bo(Ut(l)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const h=c(e,["topK"]);h!=null&&f(i,["topK"],h);const p=c(e,["candidateCount"]);p!=null&&f(i,["candidateCount"],p);const m=c(e,["maxOutputTokens"]);m!=null&&f(i,["maxOutputTokens"],m);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const T=c(e,["logprobs"]);T!=null&&f(i,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const _=c(e,["frequencyPenalty"]);_!=null&&f(i,["frequencyPenalty"],_);const E=c(e,["seed"]);E!=null&&f(i,["seed"],E);const R=c(e,["responseMimeType"]);R!=null&&f(i,["responseMimeType"],R);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],F4(Fd(M)));const I=c(e,["responseJsonSchema"]);I!=null&&f(i,["responseJsonSchema"],I);const N=c(e,["routingConfig"]);N!=null&&f(i,["routingConfig"],N);const B=c(e,["modelSelectionConfig"]);B!=null&&f(i,["modelConfig"],V4(B));const z=c(e,["safetySettings"]);if(n!==void 0&&z!=null){let oe=z;Array.isArray(oe)&&(oe=oe.map(F=>j4(F))),f(n,["safetySettings"],oe)}const P=c(e,["tools"]);if(n!==void 0&&P!=null){let oe=vo(P);Array.isArray(oe)&&(oe=oe.map(F=>_b(yo(F)))),f(n,["tools"],oe)}const K=c(e,["toolConfig"]);n!==void 0&&K!=null&&f(n,["toolConfig"],iI(K));const ie=c(e,["labels"]);n!==void 0&&ie!=null&&f(n,["labels"],ie);const W=c(e,["cachedContent"]);n!==void 0&&W!=null&&f(n,["cachedContent"],Qn(t,W));const U=c(e,["responseModalities"]);U!=null&&f(i,["responseModalities"],U);const Z=c(e,["mediaResolution"]);Z!=null&&f(i,["mediaResolution"],Z);const ee=c(e,["speechConfig"]);ee!=null&&f(i,["speechConfig"],lI(Vd(ee)));const ae=c(e,["audioTimestamp"]);ae!=null&&f(i,["audioTimestamp"],ae);const le=c(e,["thinkingConfig"]);return le!=null&&f(i,["thinkingConfig"],sI(le)),i}function iv(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>bo(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],aI(t,s,n)),n}function uI(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const l=c(t,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const s=c(t,["outputDimensionality"]);e!==void 0&&s!=null&&f(e,["parameters","outputDimensionality"],s);const u=c(t,["mimeType"]);e!==void 0&&u!=null&&f(e,["instances[]","mimeType"],u);const h=c(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function cI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);l!=null&&f(n,["instances[]","content"],sb(t,l));const s=c(e,["config"]);return s!=null&&f(n,["config"],uI(s,n)),n}function fI(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const h=c(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const _=c(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const R=c(t,["addWatermark"]);e!==void 0&&R!=null&&f(e,["parameters","addWatermark"],R);const M=c(t,["enhancePrompt"]);return e!==void 0&&M!=null&&f(e,["parameters","enhancePrompt"],M),n}function dI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["config"]);return s!=null&&f(n,["config"],fI(s,n)),n}function Ga(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Wn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function hI(t){const e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=c(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const l=c(t,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function mI(t){const e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=c(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function pI(t){const e={},n=c(t,["styleDescription"]);return n!=null&&f(e,["styleDescription"],n),e}function gI(t){const e={},n=c(t,["subjectType"]);n!=null&&f(e,["subjectType"],n);const i=c(t,["subjectDescription"]);return i!=null&&f(e,["subjectDescription"],i),e}function yI(t){const e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],Ga(n));const i=c(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const l=c(t,["referenceType"]);l!=null&&f(e,["referenceType"],l);const s=c(t,["maskImageConfig"]);s!=null&&f(e,["maskImageConfig"],hI(s));const u=c(t,["controlImageConfig"]);u!=null&&f(e,["controlImageConfig"],mI(u));const h=c(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],pI(h));const p=c(t,["subjectImageConfig"]);return p!=null&&f(e,["subjectImageConfig"],gI(p)),e}function vI(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const h=c(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const _=c(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const R=c(t,["editMode"]);e!==void 0&&R!=null&&f(e,["parameters","editMode"],R);const M=c(t,["baseSteps"]);return e!==void 0&&M!=null&&f(e,["parameters","editConfig","baseSteps"],M),n}function xI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["referenceImages"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(p=>yI(p))),f(n,["instances[0]","referenceImages"],h)}const u=c(e,["config"]);return u!=null&&f(n,["config"],vI(u,n)),n}function bI(t,e){const n={},i=c(t,["includeRaiReason"]);e!==void 0&&i!=null&&f(e,["parameters","includeRaiReason"],i);const l=c(t,["outputMimeType"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","mimeType"],l);const s=c(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&f(e,["parameters","outputOptions","compressionQuality"],s);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=c(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=c(t,["numberOfImages"]);e!==void 0&&p!=null&&f(e,["parameters","sampleCount"],p);const m=c(t,["mode"]);return e!==void 0&&m!=null&&f(e,["parameters","mode"],m),n}function TI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["image"]);l!=null&&f(n,["instances[0]","image"],Ga(l));const s=c(e,["upscaleFactor"]);s!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],s);const u=c(e,["config"]);return u!=null&&f(n,["config"],bI(u,n)),n}function SI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function wI(t,e,n){const i={},l=c(e,["pageSize"]);n!==void 0&&l!=null&&f(n,["_query","pageSize"],l);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const h=c(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],cb(t,h)),i}function CI(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],wI(t,i,n)),n}function _I(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function kI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],_I(l,n)),n}function EI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],l),n}function AI(t,e){const n={},i=c(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],bo(Ut(i)));const l=c(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>_b(h))),f(e,["tools"],u)}const s=c(t,["generationConfig"]);return e!==void 0&&s!=null&&f(e,["generationConfig"],s),n}function MI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>bo(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],AI(s,n)),n}function NI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["contents"]);if(l!=null){let u=gn(l);Array.isArray(u)&&(u=u.map(h=>bo(h))),f(n,["contents"],u)}const s=c(e,["config"]);return s!=null&&f(n,["config"],s),n}function RI(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Wn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function DI(t,e){const n={},i=c(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const l=c(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const s=c(t,["fps"]);e!==void 0&&s!=null&&f(e,["parameters","fps"],s);const u=c(t,["durationSeconds"]);e!==void 0&&u!=null&&f(e,["parameters","durationSeconds"],u);const h=c(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const p=c(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const m=c(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["pubsubTopic"]);e!==void 0&&v!=null&&f(e,["parameters","pubsubTopic"],v);const T=c(t,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const S=c(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const _=c(t,["generateAudio"]);e!==void 0&&_!=null&&f(e,["parameters","generateAudio"],_);const E=c(t,["lastFrame"]);e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],Ga(E));const R=c(t,["compressionQuality"]);return e!==void 0&&R!=null&&f(e,["parameters","compressionQuality"],R),n}function II(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],$e(t,i));const l=c(e,["prompt"]);l!=null&&f(n,["instances[0]","prompt"],l);const s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],Ga(s));const u=c(e,["video"]);u!=null&&f(n,["instances[0]","video"],RI(u));const h=c(e,["config"]);return h!=null&&f(n,["config"],DI(h,n)),n}function PI(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function LI(t){const e={},n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function UI(t){const e={},n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function OI(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],PI(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],LI(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],UI(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function BI(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>OI(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function zI(t){const e={},n=c(t,["citationSources"]);return n!=null&&f(e,["citations"],n),e}function qI(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function FI(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>qI(l))),f(e,["urlMetadata"],i)}return e}function VI(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],BI(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],zI(i));const l=c(t,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],FI(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function rv(t){const e={},n=c(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>VI(h))),f(e,["candidates"],u)}const i=c(t,["modelVersion"]);i!=null&&f(e,["modelVersion"],i);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const s=c(t,["usageMetadata"]);return s!=null&&f(e,["usageMetadata"],s),e}function jI(t){const e={},n=c(t,["values"]);return n!=null&&f(e,["values"],n),e}function GI(){return{}}function HI(t){const e={},n=c(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>jI(s))),f(e,["embeddings"],l)}return c(t,["metadata"])!=null&&f(e,["metadata"],GI()),e}function $I(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Wn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function kb(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const l=c(t,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function YI(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],$I(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const l=c(t,["_self"]);return l!=null&&f(e,["safetyAttributes"],kb(l)),e}function JI(t){const e={},n=c(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>YI(s))),f(e,["generatedImages"],l)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],kb(i)),e}function KI(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function sd(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["version"]);s!=null&&f(e,["version"],s);const u=c(t,["_self"]);u!=null&&f(e,["tunedModelInfo"],KI(u));const h=c(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const p=c(t,["outputTokenLimit"]);p!=null&&f(e,["outputTokenLimit"],p);const m=c(t,["supportedGenerationMethods"]);return m!=null&&f(e,["supportedActions"],m),e}function XI(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["_self"]);if(i!=null){let l=fb(i);Array.isArray(l)&&(l=l.map(s=>sd(s))),f(e,["models"],l)}return e}function QI(){return{}}function WI(t){const e={},n=c(t,["totalTokens"]);n!=null&&f(e,["totalTokens"],n);const i=c(t,["cachedContentTokenCount"]);return i!=null&&f(e,["cachedContentTokenCount"],i),e}function ZI(t){const e={},n=c(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],Wn(i));const l=c(t,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function eP(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],ZI(n)),e}function tP(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>eP(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function nP(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],tP(u)),e}function iP(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function rP(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["data"]);i!=null&&f(e,["data"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function oP(t){const e={},n=c(t,["displayName"]);n!=null&&f(e,["displayName"],n);const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function lP(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],iP(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],rP(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],oP(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function sP(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>lP(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function aP(t){const e={},n=c(t,["citations"]);return n!=null&&f(e,["citations"],n),e}function uP(t){const e={},n=c(t,["retrievedUrl"]);n!=null&&f(e,["retrievedUrl"],n);const i=c(t,["urlRetrievalStatus"]);return i!=null&&f(e,["urlRetrievalStatus"],i),e}function cP(t){const e={},n=c(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>uP(l))),f(e,["urlMetadata"],i)}return e}function fP(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],sP(n));const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],aP(i));const l=c(t,["finishMessage"]);l!=null&&f(e,["finishMessage"],l);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const u=c(t,["urlContextMetadata"]);u!=null&&f(e,["urlContextMetadata"],cP(u));const h=c(t,["avgLogprobs"]);h!=null&&f(e,["avgLogprobs"],h);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const g=c(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(t,["safetyRatings"]);return v!=null&&f(e,["safetyRatings"],v),e}function ov(t){const e={},n=c(t,["candidates"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>fP(m))),f(e,["candidates"],p)}const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["responseId"]);l!=null&&f(e,["responseId"],l);const s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const h=c(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function dP(t){const e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=c(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function hP(t){const e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);const i=c(t,["statistics"]);return i!=null&&f(e,["statistics"],dP(i)),e}function mP(t){const e={},n=c(t,["billableCharacterCount"]);return n!=null&&f(e,["billableCharacterCount"],n),e}function pP(t){const e={},n=c(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>hP(s))),f(e,["embeddings"],l)}const i=c(t,["metadata"]);return i!=null&&f(e,["metadata"],mP(i)),e}function gP(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Wn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Eb(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const l=c(t,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function Gd(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],gP(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const l=c(t,["_self"]);l!=null&&f(e,["safetyAttributes"],Eb(l));const s=c(t,["prompt"]);return s!=null&&f(e,["enhancedPrompt"],s),e}function yP(t){const e={},n=c(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>Gd(s))),f(e,["generatedImages"],l)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&f(e,["positivePromptSafetyAttributes"],Eb(i)),e}function vP(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Gd(l))),f(e,["generatedImages"],i)}return e}function xP(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Gd(l))),f(e,["generatedImages"],i)}return e}function bP(t){const e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=c(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function TP(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const l=c(t,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function SP(t){const e={},n=c(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=c(t,["epoch"]);i!=null&&f(e,["epoch"],i);const l=c(t,["step"]);return l!=null&&f(e,["step"],l),e}function ad(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const l=c(t,["description"]);l!=null&&f(e,["description"],l);const s=c(t,["versionId"]);s!=null&&f(e,["version"],s);const u=c(t,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(T=>bP(T))),f(e,["endpoints"],v)}const h=c(t,["labels"]);h!=null&&f(e,["labels"],h);const p=c(t,["_self"]);p!=null&&f(e,["tunedModelInfo"],TP(p));const m=c(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const g=c(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>SP(T))),f(e,["checkpoints"],v)}return e}function wP(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["_self"]);if(i!=null){let l=fb(i);Array.isArray(l)&&(l=l.map(s=>ad(s))),f(e,["models"],l)}return e}function CP(){return{}}function _P(t){const e={},n=c(t,["totalTokens"]);return n!=null&&f(e,["totalTokens"],n),e}function kP(t){const e={},n=c(t,["tokensInfo"]);return n!=null&&f(e,["tokensInfo"],n),e}function EP(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Wn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function AP(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],EP(n)),e}function MP(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>AP(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function NP(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response"]);return u!=null&&f(e,["response"],MP(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RP="Content-Type",DP="X-Server-Timeout",IP="User-Agent",ud="x-goog-api-client",PP="1.9.0",LP=`google-genai-sdk/${PP}`,UP="v1beta1",OP="v1beta",lv=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class BP{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:UP,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:OP,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,h]of Object.entries(e.queryParams))l.searchParams.append(u,String(h));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(l,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,s]of Object.entries(n))typeof s=="object"?i[l]=Object.assign(Object.assign({},i[l]),s):s!==void 0&&(i[l]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(l,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,s=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=s}return n&&n.extraBody!==null&&zP(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await sv(l),new td(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await sv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return fo(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let u="";for(;;){const{done:h,value:p}=yield it(l.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(p,{stream:!0});try{const v=JSON.parse(m);if("error"in v){const T=JSON.parse(JSON.stringify(v.error)),S=T.status,_=T.code,E=`got status: ${S}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Va({message:E,status:_})}}catch(v){if(v.name==="ApiError")throw v}u+=m;let g=u.match(lv);for(;g;){const v=g[1];try{const T=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield it(new td(T)),u=u.slice(g[0].length),g=u.match(lv)}catch(T){throw new Error(`exception parsing stream chunk ${v}. ${T}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=LP+" "+this.clientOptions.userAgentExtra;return e[IP]=n,e[ud]=n,e[RP]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(DP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);l.sizeBytes=String(u.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const p=await this.fetchUploadUrl(l,n);return s.upload(e,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},u=await this.request({path:pe("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function sv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new Va({message:l,status:n}):new Error(l)}}function zP(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,u){const h=Object.assign({},s);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const m=u[p],g=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&g&&typeof g=="object"&&!Array.isArray(g)?h[p]=i(g,m):(g&&m&&typeof g!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qP="mcp_used/unknown";function Ab(t){for(const e of t)if(Hd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Mb(t){var e;const n=(e=t[ud])!==null&&e!==void 0?e:"";t[ud]=(n+` ${qP}`).trimStart()}function FP(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>Hd(l)))!==null&&i!==void 0?i:!1}function VP(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!Hd(l)))!==null&&i!==void 0?i:!1}function Hd(t){return t!==null&&typeof t=="object"&&t instanceof $d}function jP(t,e=100){return fo(this,arguments,function*(){let i,l=0;for(;l<e;){const s=yield it(t.listTools({cursor:i}));for(const u of s.tools)yield yield it(u),l++;if(!s.nextCursor)break;i=s.nextCursor}})}class $d{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $d(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const s={},u=[];for(const g of this.mcpClients)try{for(var h=!0,p=(n=void 0,Ll(jP(g))),m;m=await p.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const v=l;u.push(v);const T=v.name;if(s[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);s[T]=g}}catch(v){n={error:v}}finally{try{!h&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),B2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const u=await l.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GP(t,e,n){const i=new N2;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const s=WD(l);Object.assign(i,s),e(i)}class HP{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=JP(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${l}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const g=new Promise(N=>{m=N}),v=e.callbacks,T=function(){m({})},S=this.apiClient,_={onopen:T,onmessage:N=>{GP(S,v.onmessage,N)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(N){}},E=this.webSocketFactory.create(p,YP(u),_);E.connect(),await g;const R=$e(this.apiClient,e.model),M=Sb({model:R}),I=ld({setup:M});return E.send(JSON.stringify(I)),new $P(E,this.apiClient)}}class $P{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dD(e),i=wb(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hD(e),i=ld(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=ld({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ao.PLAY)}pause(){this.sendPlaybackControl(ao.PAUSE)}stop(){this.sendPlaybackControl(ao.STOP)}resetContext(){this.sendPlaybackControl(ao.RESET_CONTEXT)}close(){this.conn.close()}}function YP(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function JP(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XP(t,e,n){const i=new M2;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const s=JSON.parse(l);if(t.isVertexAI()){const u=jD(s);Object.assign(i,u)}else{const u=VD(s);Object.assign(i,u)}e(i)}class QP{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new HP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,s,u,h;const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let g;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ab(e.config.tools)&&Mb(v);const T=t3(v);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const W=this.apiClient.getApiKey();let U="BidiGenerateContent",Z="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",Z="access_token"),g=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${U}?${Z}=${W}`}let S=()=>{};const _=new Promise(W=>{S=W}),E=e.callbacks,R=function(){var W;(W=E==null?void 0:E.onopen)===null||W===void 0||W.call(E),S({})},M=this.apiClient,I={onopen:R,onmessage:W=>{XP(M,E.onmessage,W)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(W){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(W){}},N=this.webSocketFactory.create(g,e3(T),I);N.connect(),await _;let B=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const W=this.apiClient.getProject(),U=this.apiClient.getLocation();B=`projects/${W}/locations/${U}/`+B}let z={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Da.AUDIO]}:e.config.responseModalities=[Da.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(h=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[],K=[];for(const W of P)if(this.isCallableTool(W)){const U=W;K.push(await U.tool())}else K.push(W);K.length>0&&(e.config.tools=K);const ie={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=oD(this.apiClient,ie):z=rD(this.apiClient,ie),delete z.config,N.send(JSON.stringify(z)),new ZP(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const WP={turnComplete:!0};class ZP{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=gn(n.turns),e.isVertexAI()?i=i.map(l=>bo(l)):i=i.map(l=>ja(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(KP)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},WP),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fD(e)}:n={realtimeInput:cD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function e3(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function t3(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const av=10;function uv(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(_a(u)){l=!0;break}if(!l)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function _a(t){return"callTool"in t&&typeof t.callTool=="function"}function cv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n3 extends ar{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,s,u,h;const p=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!FP(n)||uv(n.config))return await this.generateContentInternal(p);if(VP(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,g;const v=gn(p.contents),T=(s=(l=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:av;let S=0;for(;S<T&&(m=await this.generateContentInternal(p),!(!m.functionCalls||m.functionCalls.length===0));){const _=m.candidates[0].content,E=[];for(const R of(h=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[])if(_a(R)){const I=await R.callTool(m.functionCalls);E.push(...I)}S++,g={role:"user",parts:E},p.contents=gn(p.contents),p.contents.push(_),p.contents.push(g),cv(p.config)&&(v.push(_),v.push(g))}return cv(p.config)&&(m.automaticFunctionCallingHistory=v),m},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),uv(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let s;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((l=p==null?void 0:p.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:u.push(p);let h;return s?h={generatedImages:u,positivePromptSafetyAttributes:s}:h={generatedImages:u},h}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Yl(lr.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,i,l;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const u=await Promise.all(s.map(async p=>_a(p)?await p.tool():p)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(h.config.tools=u,e.config&&e.config.tools&&Ab(e.config.tools)){const p=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Mb(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var n,i,l;const s=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(_a(u)){const h=u,p=await h.tool();for(const m of(l=p.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(s.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);s.set(m.name,h)}}return s}async processAfcStream(e){var n,i,l;const s=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:av;let u=!1,h=0;const p=await this.initAfcToolsMap(e);return function(m,g,v){var T,S;return fo(this,arguments,function*(){for(var _,E,R,M;h<s;){u&&(h++,u=!1);const z=yield it(m.processParamsForMcpUsage(v)),P=yield it(m.generateContentStreamInternal(z)),K=[],ie=[];try{for(var I=!0,N=(E=void 0,Ll(P)),B;B=yield it(N.next()),_=B.done,!_;I=!0){M=B.value,I=!1;const W=M;if(yield yield it(W),W.candidates&&(!((T=W.candidates[0])===null||T===void 0)&&T.content)){ie.push(W.candidates[0].content);for(const U of(S=W.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(h<s&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(U.functionCall.name)){const Z=yield it(g.get(U.functionCall.name).callTool([U.functionCall]));K.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(W){E={error:W}}finally{try{!I&&!_&&(R=N.return)&&(yield it(R.call(N)))}finally{if(E)throw E.error}}if(K.length>0){u=!0;const W=new Ml;W.candidates=[{content:{role:"user",parts:K}}],yield yield it(W);const U=[];U.push(...ie),U.push({role:"user",parts:K});const Z=gn(v.contents).concat(U);v.contents=Z}else break}})}(this,p,e)}async generateContentInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=iv(this.apiClient,e);return h=pe("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=ov(g),T=new Ml;return Object.assign(T,v),T})}else{const m=nv(this.apiClient,e);return h=pe("{model}:generateContent",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=rv(g),T=new Ml;return Object.assign(T,v),T})}}async generateContentStreamInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=iv(this.apiClient,e);return h=pe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(v){return fo(this,arguments,function*(){var T,S,_,E;try{for(var R=!0,M=Ll(v),I;I=yield it(M.next()),T=I.done,!T;R=!0){E=I.value,R=!1;const B=ov(yield it(E.json())),z=new Ml;Object.assign(z,B),yield yield it(z)}}catch(N){S={error:N}}finally{try{!R&&!T&&(_=M.return)&&(yield it(_.call(M)))}finally{if(S)throw S.error}}})})}else{const m=nv(this.apiClient,e);return h=pe("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(v){return fo(this,arguments,function*(){var T,S,_,E;try{for(var R=!0,M=Ll(v),I;I=yield it(M.next()),T=I.done,!T;R=!0){E=I.value,R=!1;const B=rv(yield it(E.json())),z=new Ml;Object.assign(z,B),yield yield it(z)}}catch(N){S={error:N}}finally{try{!R&&!T&&(_=M.return)&&(yield it(_.call(M)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=cI(this.apiClient,e);return h=pe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=pP(g),T=new Uy;return Object.assign(T,v),T})}else{const m=w4(this.apiClient,e);return h=pe("{model}:batchEmbedContents",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=HI(g),T=new Uy;return Object.assign(T,v),T})}}async generateImagesInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=dI(this.apiClient,e);return h=pe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=yP(g),T=new Oy;return Object.assign(T,v),T})}else{const m=_4(this.apiClient,e);return h=pe("{model}:predict",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=JI(g),T=new Oy;return Object.assign(T,v),T})}}async editImageInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=xI(this.apiClient,e);return s=pe("{model}:predict",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=vP(p),g=new w2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=TI(this.apiClient,e);return s=pe("{model}:predict",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=xP(p),g=new C2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=SI(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>ad(g))}else{const m=k4(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>sd(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=CI(this.apiClient,e);return h=pe("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=wP(g),T=new By;return Object.assign(T,v),T})}else{const m=A4(this.apiClient,e);return h=pe("{models_url}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=XI(g),T=new By;return Object.assign(T,v),T})}}async update(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=kI(this.apiClient,e);return h=pe("{model}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>ad(g))}else{const m=N4(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>sd(g))}}async delete(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=EI(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(()=>{const g=CP(),v=new zy;return Object.assign(v,g),v})}else{const m=R4(this.apiClient,e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(()=>{const g=QI(),v=new zy;return Object.assign(v,g),v})}}async countTokens(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=MI(this.apiClient,e);return h=pe("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=_P(g),T=new qy;return Object.assign(T,v),T})}else{const m=I4(this.apiClient,e);return h=pe("{model}:countTokens",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=WI(g),T=new qy;return Object.assign(T,v),T})}}async computeTokens(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=NI(this.apiClient,e);return s=pe("{model}:computeTokens",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>{const m=kP(p),g=new _2;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=II(this.apiClient,e);return h=pe("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>NP(g))}else{const m=U4(this.apiClient,e);return h=pe("{model}:predictLongRunning",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>nP(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i3(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function r3(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["_url","operationName"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function o3(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=c(t,["resourceName"]);i!=null&&f(e,["_url","resourceName"],i);const l=c(t,["config"]);return l!=null&&f(e,["config"],l),e}function l3(t){const e={},n=c(t,["video","uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["video","encodedVideo"]);i!=null&&f(e,["videoBytes"],Wn(i));const l=c(t,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function s3(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],l3(n)),e}function a3(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>s3(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function u3(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],a3(u)),e}function c3(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Wn(i));const l=c(t,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function f3(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],c3(n)),e}function d3(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>f3(u))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const l=c(t,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function fv(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const u=c(t,["response"]);return u!=null&&f(e,["response"],d3(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h3 extends ar{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=r3(e);return h=pe("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>fv(g))}else{const m=i3(e);return h=pe("{operationName}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>u3(g))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=o3(e);return s=pe("{resourceName}:fetchPredictOperation",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>fv(p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m3(t){const e={},n=c(t,["voiceName"]);return n!=null&&f(e,["voiceName"],n),e}function Nb(t){const e={},n=c(t,["prebuiltVoiceConfig"]);return n!=null&&f(e,["prebuiltVoiceConfig"],m3(n)),e}function p3(t){const e={},n=c(t,["speaker"]);n!=null&&f(e,["speaker"],n);const i=c(t,["voiceConfig"]);return i!=null&&f(e,["voiceConfig"],Nb(i)),e}function g3(t){const e={},n=c(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>p3(l))),f(e,["speakerVoiceConfigs"],i)}return e}function y3(t){const e={},n=c(t,["voiceConfig"]);n!=null&&f(e,["voiceConfig"],Nb(n));const i=c(t,["multiSpeakerVoiceConfig"]);i!=null&&f(e,["multiSpeakerVoiceConfig"],g3(i));const l=c(t,["languageCode"]);return l!=null&&f(e,["languageCode"],l),e}function v3(t){const e={},n=c(t,["fps"]);n!=null&&f(e,["fps"],n);const i=c(t,["endOffset"]);i!=null&&f(e,["endOffset"],i);const l=c(t,["startOffset"]);return l!=null&&f(e,["startOffset"],l),e}function x3(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["data"]);n!=null&&f(e,["data"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function b3(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function T3(t){const e={},n=c(t,["videoMetadata"]);n!=null&&f(e,["videoMetadata"],v3(n));const i=c(t,["thought"]);i!=null&&f(e,["thought"],i);const l=c(t,["inlineData"]);l!=null&&f(e,["inlineData"],x3(l));const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],b3(s));const u=c(t,["thoughtSignature"]);u!=null&&f(e,["thoughtSignature"],u);const h=c(t,["codeExecutionResult"]);h!=null&&f(e,["codeExecutionResult"],h);const p=c(t,["executableCode"]);p!=null&&f(e,["executableCode"],p);const m=c(t,["functionCall"]);m!=null&&f(e,["functionCall"],m);const g=c(t,["functionResponse"]);g!=null&&f(e,["functionResponse"],g);const v=c(t,["text"]);return v!=null&&f(e,["text"],v),e}function S3(t){const e={},n=c(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>T3(s))),f(e,["parts"],l)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function w3(t){const e={},n=c(t,["behavior"]);n!=null&&f(e,["behavior"],n);const i=c(t,["description"]);i!=null&&f(e,["description"],i);const l=c(t,["name"]);l!=null&&f(e,["name"],l);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&f(e,["response"],h);const p=c(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function C3(t){const e={},n=c(t,["startTime"]);n!=null&&f(e,["startTime"],n);const i=c(t,["endTime"]);return i!=null&&f(e,["endTime"],i),e}function _3(t){const e={},n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],C3(n)),e}function k3(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["dynamicThreshold"]);return i!=null&&f(e,["dynamicThreshold"],i),e}function E3(t){const e={},n=c(t,["dynamicRetrievalConfig"]);return n!=null&&f(e,["dynamicRetrievalConfig"],k3(n)),e}function A3(){return{}}function M3(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>w3(m))),f(e,["functionDeclarations"],p)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearch"]);i!=null&&f(e,["googleSearch"],_3(i));const l=c(t,["googleSearchRetrieval"]);if(l!=null&&f(e,["googleSearchRetrieval"],E3(l)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&f(e,["urlContext"],A3());const u=c(t,["codeExecution"]);u!=null&&f(e,["codeExecution"],u);const h=c(t,["computerUse"]);return h!=null&&f(e,["computerUse"],h),e}function N3(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dv(){return{}}function R3(t){const e={},n=c(t,["disabled"]);n!=null&&f(e,["disabled"],n);const i=c(t,["startOfSpeechSensitivity"]);i!=null&&f(e,["startOfSpeechSensitivity"],i);const l=c(t,["endOfSpeechSensitivity"]);l!=null&&f(e,["endOfSpeechSensitivity"],l);const s=c(t,["prefixPaddingMs"]);s!=null&&f(e,["prefixPaddingMs"],s);const u=c(t,["silenceDurationMs"]);return u!=null&&f(e,["silenceDurationMs"],u),e}function D3(t){const e={},n=c(t,["automaticActivityDetection"]);n!=null&&f(e,["automaticActivityDetection"],R3(n));const i=c(t,["activityHandling"]);i!=null&&f(e,["activityHandling"],i);const l=c(t,["turnCoverage"]);return l!=null&&f(e,["turnCoverage"],l),e}function I3(t){const e={},n=c(t,["targetTokens"]);return n!=null&&f(e,["targetTokens"],n),e}function P3(t){const e={},n=c(t,["triggerTokens"]);n!=null&&f(e,["triggerTokens"],n);const i=c(t,["slidingWindow"]);return i!=null&&f(e,["slidingWindow"],I3(i)),e}function L3(t){const e={},n=c(t,["proactiveAudio"]);return n!=null&&f(e,["proactiveAudio"],n),e}function U3(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const l=c(t,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const h=c(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const p=c(t,["maxOutputTokens"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","maxOutputTokens"],p);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],y3(jd(v)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],S3(Ut(S)));const _=c(t,["tools"]);if(e!==void 0&&_!=null){let z=vo(_);Array.isArray(z)&&(z=z.map(P=>M3(yo(P)))),f(e,["setup","tools"],z)}const E=c(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],N3(E));const R=c(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&f(e,["setup","inputAudioTranscription"],dv());const M=c(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","outputAudioTranscription"],dv());const I=c(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&f(e,["setup","realtimeInputConfig"],D3(I));const N=c(t,["contextWindowCompression"]);e!==void 0&&N!=null&&f(e,["setup","contextWindowCompression"],P3(N));const B=c(t,["proactivity"]);return e!==void 0&&B!=null&&f(e,["setup","proactivity"],L3(B)),n}function O3(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],$e(t,i));const l=c(e,["config"]);return l!=null&&f(n,["config"],U3(l,n)),n}function B3(t,e,n){const i={},l=c(e,["expireTime"]);n!==void 0&&l!=null&&f(n,["expireTime"],l);const s=c(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&f(n,["newSessionExpireTime"],s);const u=c(e,["uses"]);n!==void 0&&u!=null&&f(n,["uses"],u);const h=c(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],O3(t,h));const p=c(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&f(n,["fieldMask"],p),i}function z3(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],B3(t,i,n)),n}function q3(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F3(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(s=>`${n}.${s}`);e.push(...l)}else e.push(n)}return e.join(",")}function V3(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const s=F3(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>u.includes(m)?`generationConfig.${m}`:m));const p=[];s&&p.push(s),h.length>0&&p.push(...h),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class j3 extends ar{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=z3(this.apiClient,e);s=pe("auth_tokens",h._url),u=h._query,delete h.config,delete h._url,delete h._query;const p=V3(h,e.config);return l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>q3(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G3(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function H3(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function $3(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],H3(n,e)),e}function Y3(t){const e={},n=c(t,["textInput"]);n!=null&&f(e,["textInput"],n);const i=c(t,["output"]);return i!=null&&f(e,["output"],i),e}function J3(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=c(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Y3(l))),f(e,["examples","examples"],i)}return e}function K3(t,e){const n={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&f(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const s=c(t,["learningRateMultiplier"]);if(s!=null&&f(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=c(t,["batchSize"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","batchSize"],u);const h=c(t,["learningRate"]);return e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","learningRate"],h),n}function X3(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["trainingDataset"]);i!=null&&f(e,["tuningTask","trainingData"],J3(i));const l=c(t,["config"]);return l!=null&&f(e,["config"],K3(l,e)),e}function Q3(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&f(e,["config"],i),e}function W3(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function Z3(t){const e={},n=c(t,["config"]);return n!=null&&f(e,["config"],W3(n,e)),e}function eL(t,e){const n={},i=c(t,["gcsUri"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],i);const l=c(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l),c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function tL(t,e){const n={},i=c(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const l=c(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],l),n}function nL(t,e){const n={},i=c(t,["validationDataset"]);e!==void 0&&i!=null&&f(e,["supervisedTuningSpec"],tL(i,n));const l=c(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const s=c(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const u=c(t,["epochCount"]);e!==void 0&&u!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const h=c(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const p=c(t,["exportLastCheckpointOnly"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const m=c(t,["adapterSize"]);if(e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m),c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function iL(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["trainingDataset"]);i!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],eL(i,e));const l=c(t,["config"]);return l!=null&&f(e,["config"],nL(l,e)),e}function rL(t){const e={},n=c(t,["name"]);n!=null&&f(e,["model"],n);const i=c(t,["name"]);return i!=null&&f(e,["endpoint"],i),e}function Rb(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["state"]);i!=null&&f(e,["state"],ab(i));const l=c(t,["createTime"]);l!=null&&f(e,["createTime"],l);const s=c(t,["tuningTask","startTime"]);s!=null&&f(e,["startTime"],s);const u=c(t,["tuningTask","completeTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["description"]);p!=null&&f(e,["description"],p);const m=c(t,["baseModel"]);m!=null&&f(e,["baseModel"],m);const g=c(t,["_self"]);g!=null&&f(e,["tunedModel"],rL(g));const v=c(t,["distillationSpec"]);v!=null&&f(e,["distillationSpec"],v);const T=c(t,["experiment"]);T!=null&&f(e,["experiment"],T);const S=c(t,["labels"]);S!=null&&f(e,["labels"],S);const _=c(t,["pipelineJob"]);_!=null&&f(e,["pipelineJob"],_);const E=c(t,["satisfiesPzi"]);E!=null&&f(e,["satisfiesPzi"],E);const R=c(t,["satisfiesPzs"]);R!=null&&f(e,["satisfiesPzs"],R);const M=c(t,["serviceAccount"]);M!=null&&f(e,["serviceAccount"],M);const I=c(t,["tunedModelDisplayName"]);return I!=null&&f(e,["tunedModelDisplayName"],I),e}function oL(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Rb(s))),f(e,["tuningJobs"],l)}return e}function lL(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const l=c(t,["done"]);l!=null&&f(e,["done"],l);const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function sL(t){const e={},n=c(t,["checkpointId"]);n!=null&&f(e,["checkpointId"],n);const i=c(t,["epoch"]);i!=null&&f(e,["epoch"],i);const l=c(t,["step"]);l!=null&&f(e,["step"],l);const s=c(t,["endpoint"]);return s!=null&&f(e,["endpoint"],s),e}function aL(t){const e={},n=c(t,["model"]);n!=null&&f(e,["model"],n);const i=c(t,["endpoint"]);i!=null&&f(e,["endpoint"],i);const l=c(t,["checkpoints"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>sL(u))),f(e,["checkpoints"],s)}return e}function cd(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["state"]);i!=null&&f(e,["state"],ab(i));const l=c(t,["createTime"]);l!=null&&f(e,["createTime"],l);const s=c(t,["startTime"]);s!=null&&f(e,["startTime"],s);const u=c(t,["endTime"]);u!=null&&f(e,["endTime"],u);const h=c(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const p=c(t,["error"]);p!=null&&f(e,["error"],p);const m=c(t,["description"]);m!=null&&f(e,["description"],m);const g=c(t,["baseModel"]);g!=null&&f(e,["baseModel"],g);const v=c(t,["tunedModel"]);v!=null&&f(e,["tunedModel"],aL(v));const T=c(t,["supervisedTuningSpec"]);T!=null&&f(e,["supervisedTuningSpec"],T);const S=c(t,["tuningDataStats"]);S!=null&&f(e,["tuningDataStats"],S);const _=c(t,["encryptionSpec"]);_!=null&&f(e,["encryptionSpec"],_);const E=c(t,["partnerModelTuningSpec"]);E!=null&&f(e,["partnerModelTuningSpec"],E);const R=c(t,["distillationSpec"]);R!=null&&f(e,["distillationSpec"],R);const M=c(t,["experiment"]);M!=null&&f(e,["experiment"],M);const I=c(t,["labels"]);I!=null&&f(e,["labels"],I);const N=c(t,["pipelineJob"]);N!=null&&f(e,["pipelineJob"],N);const B=c(t,["satisfiesPzi"]);B!=null&&f(e,["satisfiesPzi"],B);const z=c(t,["satisfiesPzs"]);z!=null&&f(e,["satisfiesPzs"],z);const P=c(t,["serviceAccount"]);P!=null&&f(e,["serviceAccount"],P);const K=c(t,["tunedModelDisplayName"]);return K!=null&&f(e,["tunedModelDisplayName"],K),e}function uL(t){const e={},n=c(t,["nextPageToken"]);n!=null&&f(e,["nextPageToken"],n);const i=c(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>cd(s))),f(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cL extends ar{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Yl(lr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:ed.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=Q3(e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>cd(g))}else{const m=G3(e);return h=pe("{name}",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Rb(g))}}async listInternal(e){var n,i,l,s;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=Z3(e);return h=pe("tuningJobs",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=uL(g),T=new Fy;return Object.assign(T,v),T})}else{const m=$3(e);return h=pe("tunedModels",m._url),p=m._query,delete m.config,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const v=oL(g),T=new Fy;return Object.assign(T,v),T})}}async tuneInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI()){const h=iL(e);return s=pe("tuningJobs",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>cd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=X3(e);return s=pe("tunedModels",h._url),u=h._query,delete h.config,delete h._url,delete h._query,l=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),l.then(p=>lL(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dL=1024*1024*8,hL=3,mL=1e3,pL=2,Mf="x-goog-upload-status";async function gL(t,e,n){var i,l,s;let u=0,h=0,p=new td(new Response),m="upload";for(u=t.size;h<u;){const v=Math.min(dL,u-h),T=t.slice(h,h+v);h+v>=u&&(m+=", finalize");let S=0,_=mL;for(;S<hL&&(p=await n.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(h),"Content-Length":String(v)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[Mf]));)S++,await vL(_),_=_*pL;if(h+=v,((l=p==null?void 0:p.headers)===null||l===void 0?void 0:l[Mf])!=="active")break;if(u<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(p==null?void 0:p.json());if(((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[Mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function yL(t){return{size:t.size,type:t.type}}function vL(t){return new Promise(e=>setTimeout(e,t))}class xL{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gL(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bL{create(e,n,i){return new TL(e,n,i)}}class TL{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hv="x-goog-api-key";class SL{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(hv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wL="gl-node/";class Ha{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=S2(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new SL(this.apiKey);this.apiClient=new BP({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:wL+"web",uploader:new xL,downloader:new fL}),this.models=new n3(this.apiClient),this.live=new QP(this.apiClient,l,new bL),this.batches=new HM(this.apiClient),this.chats=new KN(this.models,this.apiClient),this.caches=new $N(this.apiClient),this.files=new aR(this.apiClient),this.operations=new h3(this.apiClient),this.authTokens=new j3(this.apiClient),this.tunings=new cL(this.apiClient)}}const CL=async t=>({inlineData:{data:await new Promise(n=>{const i=new FileReader;i.onloadend=()=>{const l=i.result.split(",")[1];n(l)},i.readAsDataURL(t)}),mimeType:t.type}}),_L=(t,e)=>{const n=`
    - Account Balance: $${t.accountBalance}
    - Current Equity: $${t.currentEquity}
    - Risk Per Trade: ${t.riskPerTrade}%
    - Leverage: ${t.leverage}x
    `,i={scalp:"Minimal Risk Reward Ratio (RRR) 1:1",day:"Minimal RRR 1:1.5",swing:"Minimal RRR 1:2",position:"Minimal RRR 1:3"};return`
    As a professional trading analyst AI, your task is to conduct a detailed, unbiased technical analysis of the provided chart image.
    Your analysis MUST be structured in the specified JSON format.

    **Context:**
    1.  **Trading Mode:** ${{scalp:`This is a SCALP trade. Focus on very short-term (1-15 minute) price action, tight stop losses, and quick profit-taking. Analyze momentum, order flow, and immediate support/resistance. ${i.scalp}`,day:`This is a DAY trade. The position will be closed today. Analyze intraday trends (5-min to 1-hour charts), key daily levels, and volume patterns. ${i.day}`,swing:`This is a SWING trade. The position could be held for a few days to a few weeks. Analyze the 4-hour to daily chart. Identify the dominant trend, key swing highs/lows, and consolidation patterns. ${i.swing}`,position:`This is a POSITION trade. The position could be held for weeks or months. Analyze the weekly and monthly charts. Focus on major economic trends, long-term support/resistance, and market structure. ${i.position}`}[e]}
    2.  **Trader's Risk Profile:** ${n}
    3.  **Current Equity:** $${t.currentEquity}

    **IMPORTANT:**
    - Tujuan utama Anda adalah memastikan Current Equity user bertambah secara konsisten dan berkelanjutan.
    - Hanya buat signal yang bertanggung jawab, berpeluang profit tinggi, dan hindari signal spekulatif atau berisiko tinggi.
    - Jika tidak ada setup yang memenuhi syarat ini, TOLAK memberikan signal dan jelaskan alasannya.
    - Setiap signal WAJIB memiliki potensi profit yang realistis dan risk management yang ketat.

    **Analysis Instructions (Risk Management Manual):**
    - Gunakan metode risk management profesional berikut untuk SEMUA perhitungan:
      1. Hitung risk per trade (USD) = persentase risk per trade  Current Equity.
      2. Hitung risk per unit = |Entry Price - Stop Loss|.
      3. Position size (unit) = risk per trade / risk per unit, dibulatkan ke bawah.
      4. Position size USD = position size  entry price.
      5. Margin dibutuhkan = position size USD / leverage.
      6. Estimated loss (USD) = position size  |Entry Price - Stop Loss|.
      7. Estimated profit (USD) = position size  |Take Profit - Entry Price|.
      8. RRR = |Take Profit - Entry Price| / |Entry Price - Stop Loss|.
    - Tampilkan semua field di output JSON: riskPerTradeUSD, positionSize, positionSizeUSD, marginRequiredUSD, entry, stopLoss, takeProfit, estimatedProfitUSD, estimatedLossUSD, rrr, leverage.
    - Jangan gunakan margin all-in atau full margin. Semua perhitungan harus berbasis risk management manual.
    - Selalu sebutkan satuan USD secara eksplisit.
    - Contoh output JSON profesional:
    {
      "riskPerTradeUSD": 0.0173,
      "positionSize": 11,
      "positionSizeUSD": 6.897,
      "marginRequiredUSD": 0.06897,
      "entry": 0.6270,
      "stopLoss": 0.6255,
      "takeProfit": 0.6295,
      "estimatedProfitUSD": 0.0275,
      "estimatedLossUSD": 0.0165,
      "rrr": 1.67,
      "leverage": 100
    }

    1.  **Comprehensive Evaluation:**
        - Analyze the chart for market trend, key chart patterns (e.g., Head and Shoulders, Triangles, Flags), and relevant indicator signals (RSI, MACD, Moving Averages, Volume).
        - Explicitly list both bullish and bearish factors you observe. This is critical for a balanced view.

    2.  **Determine Trade Bias & Confidence:**
        - Based on the balance of bullish vs. bearish factors, determine a primary trade bias: 'Bullish', 'Bearish', or 'Neutral/Sideways'.
        - Provide a confidence score (0-100) for this bias. The score must be justified by a transparent rubric in the rationale. A score of 50 means you are completely neutral.

    3.  **Construct Trade Rationale (Markdown Format):**
        - This is the core of your analysis and must be detailed.
        - **Bullish Factors:** List observed bullish signals (e.g., "- RSI shows bullish divergence.").
        - **Bearish Factors:** List observed bearish signals (e.g., "- Price rejected from the 50 EMA.").
        - **Core Thesis:** A 1-2 sentence summary explaining WHY you chose your trade bias.
        - **Execution Plan:**
            - **Confirmation Signal:** What specific event would confirm your thesis for entry (e.g., "A bullish candle closing above $1.25").
            - **Invalidation Condition:** What specific event would invalidate your thesis (e.g., "A daily close below the recent low of $1.10").
        - **Confidence Breakdown:** Justify your confidence score using this rubric. Assign points for each category (total points = confidence score).
            - **Trend Alignment (0-30 pts):** How well does the trade align with the dominant trend for the given timeframe? (e.g., 25/30 pts)
            - **Pattern Clarity (0-25 pts):** How clean and well-defined is the key chart pattern? (e.g., 20/25 pts)
            - **Indicator Confluence (0-20 pts):** How many indicators support the bias? (e.g., 15/20 pts)
            - **S/R Context (0-15 pts):** How is the price reacting to key support/resistance levels? (e.g., 10/15 pts)
            - **Risk/Reward Potential (0-10 pts):** Does the setup offer a favorable R:R based on the chart? (e.g., 8/10 pts)

    4.  **Define Trade Setup:**
        - Based on your analysis, provide a concrete trade setup (Long or Short).
        - **Entry Price:** A specific, actionable entry price.
        - **Stop Loss:** A specific price level for the stop loss. It must be logical based on the invalidation condition.
        - **Take Profit:** A specific price level for the take profit, targeting at least the minimum Risk/Reward Ratio (RRR) for the trading mode (${i[e]}).
        - **You MUST calculate and include the RRR value explicitly in the output JSON as a numeric field named 'rrr' in tradeSetup, using the formula: (Take Profit - Entry) / (Entry - Stop Loss) for Long, or (Entry - Take Profit) / (Stop Loss - Entry) for Short.**
        - **In the rationale, you MUST clearly show the RRR calculation step-by-step, e.g.: 'RRR = (104 - 100) / (100 - 98) = 4 / 2 = 2.0'.**
        - If the calculated RRR is below the minimum standard for the mode, suggest how to improve it in your rationale.
        - If the RRR calculation is not valid (e.g., stop loss = entry, take profit = entry, or denominator is zero/negative), you MUST NOT provide a trade setup and MUST explain the reason in the rationale.

    **CRITICAL:** Respond ONLY with a valid JSON object. Do not include any text, notes, or explanations outside of the JSON structure.
    The 'rationale' field MUST be a single JSON string containing well-formatted Markdown.

    **Example output JSON:**
    {
      "marketTrend": "Uptrend",
      "keyPattern": "Bull Flag",
      "indicatorAnalysis": "RSI bullish, MA20 support",
      "tradeBias": "Bullish",
      "tradeSetup": {
        "tradeType": "Long",
        "entryPrice": "100",
        "stopLoss": "98",
        "takeProfit": "104",
        "rrr": 2
      },
      "rationale": "### Faktor Bullish: ...
RRR = (104 - 100) / (100 - 98) = 4 / 2 = 2.0",
      "confidenceScore": 85
    }

    Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.`},kL={type:ft.OBJECT,properties:{marketTrend:{type:ft.STRING,description:"e.g., 'Uptrend', 'Downtrend', 'Sideways/Consolidation'"},keyPattern:{type:ft.STRING,description:"The most significant chart pattern observed, e.g., 'Bull Flag', 'Head and Shoulders'."},indicatorAnalysis:{type:ft.STRING,description:"A brief summary of key indicator signals (RSI, MACD, etc.)."},tradeBias:{type:ft.STRING,description:"'Bullish', 'Bearish', or 'Neutral/Sideways'"},tradeSetup:{type:ft.OBJECT,description:"Specific parameters for the suggested trade.",properties:{tradeType:{type:ft.STRING,description:"'Long' or 'Short'"},entryPrice:{type:ft.STRING,description:"Suggested entry price as a string."},stopLoss:{type:ft.STRING,description:"Suggested stop loss price as a string."},takeProfit:{type:ft.STRING,description:"Suggested take profit price as a string."},rrr:{type:ft.STRING,description:"The calculated Risk/Reward Ratio (RRR) for the trade setup."}},required:["tradeType","entryPrice","stopLoss","takeProfit"]},rationale:{type:ft.STRING,description:"A detailed, multi-section analysis formatted as a single Markdown string. Include Bullish/Bearish factors, Core Thesis, Execution Plan, and Confidence Breakdown."},confidenceScore:{type:ft.NUMBER,description:"A numerical confidence score from 0 to 100."}},required:["marketTrend","keyPattern","indicatorAnalysis","tradeBias","tradeSetup","rationale","confidenceScore"]},EL=async(t,e,n,i,l)=>{var p,m,g;if(!t)throw new Error("Gemini API key is not set.");const s=new Ha({apiKey:t}),u=await CL(e),h=_L({...n,currentEquity:l},i);try{const v=await s.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:h},u]},config:{responseMimeType:"application/json",responseSchema:kL}}),T=v.text??"",S=JSON.parse(T),_=((p=v.usageMetadata)==null?void 0:p.promptTokenCount)??0,E=((m=v.usageMetadata)==null?void 0:m.candidatesTokenCount)??0,R=((g=v.usageMetadata)==null?void 0:g.totalTokenCount)??0;return{analysis:S,usage:{prompt:_,completion:E,total:R}}}catch(v){console.error("Error calling Gemini API:",v);let T="An unknown error occurred during AI analysis.";v instanceof Error?(T=v.message,T.includes("429")&&(T=`API Key verification failed:
`+T)):T=`API Key verification failed:
`+JSON.stringify(v,null,2);const S=JSON.stringify(v);throw S.includes("RESOURCE_EXHAUSTED")?T="You have exceeded your Gemini API quota. Please check your plan and billing details.":S.includes("API_KEY_INVALID")&&(T="The provided Gemini API key is invalid. Please check it in the Settings."),new Error(T)}},AL=async(t,e)=>{var h,p,m;if(!t)throw new Error("Gemini API key is not set.");const i=await new Ha({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:e}),l=((h=i.usageMetadata)==null?void 0:h.promptTokenCount)??0,s=((p=i.usageMetadata)==null?void 0:p.candidatesTokenCount)??0,u=((m=i.usageMetadata)==null?void 0:m.totalTokenCount)??0;return{analysisText:i.text??"",usage:{prompt:l,completion:s,total:u}}},ML=async(t,e,n)=>{var g,v,T;if(!t)throw new Error("Gemini API key is not set.");if(!e)throw new Error("Portfolio data is not available.");const i=new Ha({apiKey:t}),l=`
        You are an AI financial advisor assistant. Your role is to provide educational and insightful analysis of a user's investment portfolio.
        - **NEVER** give direct financial advice to buy or sell specific assets.
        - **ALWAYS** be cautious, prudent, and educational.
        - Frame all responses in terms of financial principles, risk management, and diversification.
        - You can explain concepts, analyze the *current* state of the portfolio, and discuss potential strategies in a general sense.
        - **ALWAYS** include a disclaimer at the end of every response, formatted in Markdown as a blockquote, stating: "This information is for educational purposes only and is not financial advice. All investments involve risk. Consult with a qualified financial advisor before making any decisions."
        - Keep your responses concise and easy to understand.
        - Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,s=`
        Here is the user's current portfolio data:
        ${JSON.stringify(e,null,2)}

        The user has the following question: "${n}"

        Please provide a helpful and educational response based on their portfolio and question, following all the rules from your system instructions.
        Jawab seluruh analisis, penjelasan, dan saran ini dalam bahasa Indonesia yang jelas dan mudah dipahami.
    `,u=await i.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{systemInstruction:l}}),h=((g=u.usageMetadata)==null?void 0:g.promptTokenCount)??0,p=((v=u.usageMetadata)==null?void 0:v.candidatesTokenCount)??0,m=((T=u.usageMetadata)==null?void 0:T.totalTokenCount)??0;return{analysisText:u.text??"",usage:{prompt:h,completion:p,total:m}}},NL=async t=>{if(!t)return!1;try{return await new Ha({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:"test",config:{maxOutputTokens:5}}),!0}catch(e){return console.error("API Key validation failed:",e),!1}},RL=()=>x.jsxs("div",{className:"space-y-4 animate-pulse",children:[x.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/3"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"})]}),x.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]})]}),Nl=({buttonMode:t,activeMode:e,onClick:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-3 py-1.5 text-xs sm:px-4 sm:py-2 sm:text-sm font-medium rounded-md transition-colors ${e===t?"bg-violet-600 text-white shadow-sm":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:i}),DL=({updateTokenUsage:t,apiKey:e,apiStatus:n,allTrades:i,mode:l,setDashboardSource:s,theme:u,initialCapital:h,netPL:p,currentEquity:m,user:g,onLogoutClick:v,onNavigate:T})=>{const[S,_]=Q.useState(""),[E,R]=Q.useState(!0),[M,I]=Q.useState(!1),[N,B]=Q.useState(0),z=Q.useMemo(()=>({scalp:i.filter(ee=>ee.mode==="scalp"),swing:i.filter(ee=>ee.mode==="swing"),day:i.filter(ee=>ee.mode==="day"),position:i.filter(ee=>ee.mode==="position")}),[i]),P=Q.useMemo(()=>l==="all"?i:z[l],[l,i,z]),K=Q.useMemo(()=>v2(i),[i]),ie=Q.useMemo(()=>{const ee=P.filter(ne=>ne.status!=="pending"),ae=ee.filter(ne=>ne.status==="profit").length,le=ee.filter(ne=>ne.status==="stop-loss").length,oe=ae+le;return{winRate:oe>0?Math.round(ae/oe*100):0,wins:ae,losses:le,totalCompleted:oe}},[P]);Q.useEffect(()=>{_(""),R(!0)},[e]);const W=["all","scalp","day","swing","position"],U={all:"All",scalp:"Scalp",day:"Day",swing:"Swing",position:"Position"},Z=W.map(ee=>{const ae=ee==="all"?i:i.filter(J=>J.mode===ee),le=ae.filter(J=>J.status!=="pending"),oe=le.filter(J=>J.status==="profit").length,F=le.filter(J=>J.status==="stop-loss").length,ne=oe+F,ce=ne>0?Math.round(oe/ne*100):0,me=le.reduce((J,A)=>A.status==="profit"?J+(A.outcomeAmount||0):A.status==="stop-loss"?J-(A.outcomeAmount||0):J,0),C=ee==="all"?h:0,$=ee==="all"?m:0;return{mode:U[ee],initialCapital:C,netPL:me,currentEquity:$,totalTrades:ae.length,winRate:ce,wins:oe,losses:F,completed:ne}});return Q.useEffect(()=>{if(l!=="all")return;(async()=>{if(n!=="valid"){_("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),R(!1);return}if(i.length===0){_("Belum ada data untuk dianalisis. Lakukan beberapa trade untuk melihat analisis kinerja Anda."),R(!1);return}R(!0);try{const le=`You are an expert trading performance coach. Here are the user's trading statistics for each mode:

${Z.map(J=>`${J.mode}:
- Initial Capital: $${J.initialCapital.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Net P/L: $${J.netPL>=0?"+":""}${J.netPL.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Current Equity: $${J.currentEquity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}
- Total Trades: ${J.totalTrades}
- Win Rate: ${J.winRate}%
- Wins: ${J.wins}
- Losses: ${J.losses}
- Completed: ${J.completed}`).join(`

`)}

Give a concise, strategic, and insightful summary of the user's overall performance and 1 actionable suggestion for improvement. Keep it short, clear, and professional. Do not include code or JSON.

Jawab seluruh analisis dan saran ini dalam bahasa Indonesia yang jelas, singkat, dan mudah dipahami.`,oe=IL(Z),F="fomo-ai-analysis",ne="fomo-ai-hash",ce=localStorage.getItem(ne),me=localStorage.getItem(F);if(ce===oe&&me){_(me),R(!1);return}const{analysisText:C,usage:$}=await AL(e,le);t($),_(C),localStorage.setItem(F,C),localStorage.setItem(ne,oe)}catch(ae){console.error("Failed to get AI analysis:",ae);const le=ae instanceof Error?ae.message:String(ae);le.toLowerCase().includes("quota")?_("AI analysis failed because the API quota or prompt size has been exceeded. Coba kurangi jumlah trade atau hapus trade dengan rationale sangat panjang."):_(`An error occurred while fetching AI analysis: ${le}`)}finally{R(!1)}})()},[e,n,l,N,Z]),x.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6 w-full overflow-x-auto",children:[M&&x.jsx(g2,{profile:K,winRate:ie.winRate,totalTrades:ie.totalCompleted,onClose:()=>I(!1)}),x.jsxs("header",{className:"flex flex-col gap-4",children:[x.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Your Trading Performance"}),x.jsxs("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:["Displaying stats for ",x.jsx("span",{className:"font-semibold text-violet-600 dark:text-violet-400 capitalize",children:l==="all"?"All":l})," trading history."]})]})}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 p-1 bg-slate-200 dark:bg-slate-800 rounded-lg",children:[x.jsx(Nl,{buttonMode:"all",activeMode:l,onClick:s,children:"All"}),x.jsx(Nl,{buttonMode:"scalp",activeMode:l,onClick:s,children:"Scalp"}),x.jsx(Nl,{buttonMode:"day",activeMode:l,onClick:s,children:"Day"}),x.jsx(Nl,{buttonMode:"swing",activeMode:l,onClick:s,children:"Swing"}),x.jsx(Nl,{buttonMode:"position",activeMode:l,onClick:s,children:"Position"})]})]}),x.jsxs("main",{className:"flex flex-col gap-4 sm:gap-6",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[x.jsx(Ei,{label:"Initial Capital",value:`$${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(r0,{className:"w-6 h-6"}),color:"violet"}),x.jsx(Ei,{label:"Net P/L",value:`${p>=0?"+":""}$${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(Qv,{className:"w-6 h-6"}),color:p>=0?"green":"red"}),x.jsx(Ei,{label:"Current Equity",value:`$${m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:x.jsx(r0,{className:"w-6 h-6"}),color:"blue"}),x.jsx(Ei,{label:"Total Trades Analyzed",value:i.length,icon:x.jsx(Ew,{className:"w-6 h-6"}),color:"orange"})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[x.jsx(Ei,{label:"Active Win Rate",value:`${ie.winRate}%`,icon:x.jsx(Xv,{className:"w-6 h-6"}),color:"emerald"}),x.jsx(Ei,{label:"Active Wins",value:ie.wins,icon:x.jsx(Di,{className:"w-6 h-6"}),color:"green"}),x.jsx(Ei,{label:"Active Losses",value:ie.losses,icon:x.jsx(Rn,{className:"w-6 h-6"}),color:"red"}),x.jsx(Ei,{label:"Active Completed",value:ie.totalCompleted,icon:x.jsx(ka,{className:"w-6 h-6"}),color:"violet"})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center mb-4 gap-3",children:[x.jsx(bd,{className:"h-5 w-5 sm:h-6 sm:w-6 text-violet-600 dark:text-violet-400 mr-1"}),x.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:"AI Performance Analyst"}),l==="all"&&x.jsx("button",{onClick:()=>B(ee=>ee+1),className:"ml-auto px-3 py-1.5 text-xs rounded bg-violet-600 text-white hover:bg-violet-700 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:E,title:"Refresh AI Analysis",children:"Refresh"})]}),l==="all"?E?x.jsx(RL,{}):S&&(S.toLowerCase().includes("error")||S.toLowerCase().includes("unavailable")||S.toLowerCase().includes("failed")||S.toLowerCase().includes("quota"))?x.jsx("div",{className:"text-red-600 dark:text-red-400 font-semibold whitespace-pre-wrap",children:S}):x.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 dark:text-slate-100 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:x.jsx(Ud,{children:S,remarkPlugins:[qd]})}):x.jsxs("div",{className:"text-xs text-slate-400 italic",children:["AI Performance Analyst hanya tersedia di tab ",x.jsx("b",{children:"All"}),"."]})]}),x.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:x.jsx(p2,{history:P,theme:u})})]})]})};function IL(t){return btoa(unescape(encodeURIComponent(JSON.stringify(t))))}const PL=["BTC","ETH","XAU","EUR/USD","AUD/JPY","SOL","USDC","DOGE","JPY","GBP","ADA","XRP","SPX","NDQ"],mv=["bg-violet-500/20 border-violet-500/30 text-violet-700 dark:text-violet-200","bg-blue-500/20 border-blue-500/30 text-blue-700 dark:text-blue-200","bg-emerald-500/20 border-emerald-500/30 text-emerald-700 dark:text-emerald-200","bg-pink-500/20 border-pink-500/30 text-pink-700 dark:text-pink-200","bg-orange-500/20 border-orange-500/30 text-orange-700 dark:text-orange-200"],LL=()=>x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute inset-0 overflow-hidden z-0",children:PL.map((t,e)=>{const n=60+Math.random()*90,i=mv[e%mv.length];return x.jsx("div",{className:`absolute flex items-center justify-center rounded-full font-bold shadow-lg animate-float-up select-none border ${i}`,style:{width:`${n}px`,height:`${n}px`,left:`${5+Math.random()*90}%`,animationDuration:`${15+Math.random()*20}s`,animationDelay:`${Math.random()*15}s`,bottom:"-150px",fontSize:`${Math.max(12,n/6)}px`},children:t},t)})}),x.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) rotate(0deg);
            opacity: 0.7;
          }
          100% {
            transform: translateY(-120vh) rotate(360deg);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation-name: float-up;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]}),UL=()=>x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[200px] sm:w-[450px] sm:h-[300px] lg:w-[600px] lg:h-[400px] opacity-10 dark:opacity-5 z-0 animate-subtle-float select-none",children:x.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"chart-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"0%",stopColor:"rgba(124, 58, 237, 0.3)"}),x.jsx("stop",{offset:"100%",stopColor:"rgba(124, 58, 237, 0)"})]})}),x.jsx("path",{d:"M50 50 H550 M50 150 H550 M50 250 H550 M50 350 H550",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),x.jsx("path",{d:"M50 50 V350 M150 50 V350 M250 50 V350 M350 50 V350 M450 50 V350 M550 50 V350",stroke:"currentColor",strokeWidth:"0.5",strokeOpacity:"0.3"}),x.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",fill:"url(#chart-gradient)",className:"fade-in"}),x.jsx("path",{d:"M50 300 C 150 100, 200 350, 300 200 S 400 50, 500 150 L 550 180",stroke:"#7C3AED",strokeWidth:"3",className:"draw-chart-line"}),x.jsx("rect",{x:"70",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.2s"}}),x.jsx("rect",{x:"120",y:"320",width:"20",height:"60",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.4s"}}),x.jsx("rect",{x:"170",y:"370",width:"20",height:"10",fill:"#EF4444",className:"fade-in",style:{animationDelay:"0.6s"}}),x.jsx("rect",{x:"220",y:"340",width:"20",height:"40",fill:"#22C55E",className:"fade-in",style:{animationDelay:"0.8s"}}),x.jsx("rect",{x:"270",y:"310",width:"20",height:"70",fill:"#22C55E",className:"fade-in",style:{animationDelay:"1s"}}),x.jsx("rect",{x:"320",y:"360",width:"20",height:"20",fill:"#EF4444",className:"fade-in",style:{animationDelay:"1.2s"}})]})}),x.jsx("style",{children:`
                .draw-chart-line { stroke-dasharray: 2000; stroke-dashoffset: 2000; animation: draw-line 5s ease-out infinite alternate; }
                @keyframes draw-line { to { stroke-dashoffset: 0; } }
                
                .fade-in { animation: fade-in 2s ease-in-out infinite alternate; }
                @keyframes fade-in { 0% { opacity: 0.3; } 100% { opacity: 1; } }
                
                @keyframes subtle-float { 
                    0% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                    50% { transform: translate(-50%, -50%) translateY(-20px) rotate(2deg); } 
                    100% { transform: translate(-50%, -50%) translateY(0px) rotate(-2deg); } 
                }
                .animate-subtle-float { 
                    animation-name: subtle-float; 
                    animation-duration: 10s; 
                    animation-timing-function: ease-in-out; 
                    animation-iteration-count: infinite; 
                }
                `})]}),Nf=({icon:t,title:e,description:n})=>x.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-lg shadow-lg border border-slate-200/50 dark:border-slate-700/50 transition-transform transform hover:-translate-y-1",children:[x.jsx("div",{className:"flex items-center justify-center h-10 w-10 sm:h-12 sm:w-12 rounded-lg bg-violet-100 text-violet-600 dark:bg-violet-900/50 dark:text-violet-400",children:x.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6",children:t})}),x.jsx("h3",{className:"mt-4 sm:mt-5 text-base sm:text-lg font-semibold text-slate-800 dark:text-slate-100",children:e}),x.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:n})]}),OL=({onNavigate:t})=>x.jsxs("div",{className:"flex-1 w-full flex flex-col",children:[x.jsxs("main",{className:"flex-1 relative flex flex-col justify-center items-center overflow-hidden min-h-[calc(100vh-4rem)]",children:[x.jsx(LL,{}),x.jsx(UL,{}),x.jsxs("section",{className:"relative z-10 text-center px-4 sm:px-6 lg:px-8",children:[x.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-extrabold text-slate-800 dark:text-slate-100 leading-tight",children:["Welcome to ",x.jsx("br",{}),x.jsx("span",{className:"text-violet-600 dark:text-violet-400",children:"FOMO AI TRADING ANALYST"})]}),x.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-base sm:text-lg text-slate-600 dark:text-slate-300 leading-relaxed",children:"Leverage the power of AI to analyze trading charts, identify key patterns, and gain actionable insights. Stop guessing, start analyzing."}),x.jsx("button",{onClick:()=>t("dashboard"),className:"mt-6 sm:mt-8 px-6 sm:px-8 py-3 bg-violet-600 text-white font-semibold rounded-lg shadow-md hover:bg-violet-700 transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:ring-offset-slate-900",children:"Get Started"})]})]}),x.jsx("section",{className:"bg-white dark:bg-slate-800 py-12 sm:py-20 relative z-10",children:x.jsxs("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:[x.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Unlock Your Trading Potential"}),x.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-500 dark:text-slate-400",children:"Explore the powerful features designed to give you an edge."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-7xl mx-auto",children:[x.jsx(Nf,{icon:x.jsx(bd,{className:"w-6 h-6"}),title:"AI Chart Analysis",description:"Upload any trading chart screenshot and our Gemini-powered AI will provide a deep, unbiased technical analysis in seconds."}),x.jsx(Nf,{icon:x.jsx(Ff,{className:"w-6 h-6"}),title:"Performance Dashboard",description:"Track your win rate, analyze trade outcomes over time, and monitor your progress across different trading styles."}),x.jsx(Nf,{icon:x.jsx(Xv,{className:"w-6 h-6"}),title:"Personalized Insights",description:"Receive AI-generated feedback on your trading performance, helping you identify strengths and areas for improvement."})]})]})})]}),pv=({user:t,onNavigate:e,onLogoutClick:n})=>{const[i,l]=Q.useState(!1),s=Q.useRef(null);return Q.useEffect(()=>{const u=h=>{s.current&&!s.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),t?x.jsxs("div",{className:"relative",ref:s,children:[x.jsxs("button",{onClick:()=>l(!i),className:"flex items-center justify-center h-10 w-10 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors","aria-haspopup":"true","aria-expanded":i,children:[x.jsx(ww,{className:"h-6 w-6"}),x.jsx("span",{className:"sr-only",children:"Open user menu"})]}),i&&x.jsx("div",{className:"absolute right-0 mt-2 w-56 origin-top-right rounded-md bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-20",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",children:x.jsxs("div",{className:"py-1",role:"none",children:[x.jsxs("div",{className:"px-4 py-2 border-b border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 truncate",role:"none",children:"Signed in as"}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",role:"none",children:t.email})]}),x.jsxs("button",{onClick:()=>{e("settings"),l(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700",role:"menuitem",children:[x.jsx(Vf,{className:"w-5 h-5"}),x.jsx("span",{children:"Profile & Settings"})]}),x.jsxs("button",{onClick:()=>{n(),l(!1)},className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-slate-100 dark:text-red-400 dark:hover:bg-slate-700",role:"menuitem",children:[x.jsx(Rw,{className:"w-5 h-5"}),x.jsx("span",{children:"Logout"})]})]})})]}):null},gv=({onNavigate:t,theme:e,setTheme:n,user:i,onLoginClick:l,onLogoutClick:s,onMobileMenuToggle:u,showUserIcon:h,activeMode:p})=>x.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-[#202124] shadow-sm border-b border-slate-200 dark:border-[#33343a]",children:x.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex justify-between items-center h-16",children:[u&&x.jsx("button",{onClick:u,className:"lg:hidden p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors relative z-10 cursor-pointer","aria-label":"Toggle mobile menu",children:x.jsx(Iw,{className:"h-6 w-6 text-slate-600 dark:text-slate-300"})}),x.jsx("div",{className:"flex-shrink-0 flex items-center",children:x.jsxs("button",{onClick:()=>t("home"),className:"flex items-center gap-2",children:[x.jsx("h1",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"FOMO AI"}),x.jsx("span",{className:"hidden sm:inline text-xs font-medium text-slate-500 dark:text-slate-400 mt-1",children:"Trading Analyst"})]})}),x.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[p!=="dashboard"&&x.jsx("button",{onClick:()=>t("dashboard"),className:"text-sm font-medium text-slate-600 hover:text-violet-600 dark:text-slate-300 dark:hover:text-violet-400 transition-colors",children:"Dashboard"}),i?x.jsx(x.Fragment,{children:h&&x.jsx(pv,{user:i,onLogoutClick:s,onNavigate:t})}):x.jsx("button",{onClick:l,className:"text-sm font-medium px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})]}),x.jsx("div",{className:"lg:hidden flex items-center gap-2",children:i?x.jsx(x.Fragment,{children:h&&x.jsx(pv,{user:i,onLogoutClick:s,onNavigate:t})}):x.jsx("button",{onClick:l,className:"text-sm font-medium px-3 py-2 rounded-md bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 transition-colors",children:"Login"})})]})})}),BL="modulepreload",zL=function(t){return"/fomo/"+t},yv={},Jl=function(e,n,i){let l=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=u(n.map(m=>{if(m=zL(m),m in yv)return;yv[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":BL,g||(T.as="script"),T.crossOrigin="",T.href=m,p&&T.setAttribute("nonce",p),document.head.appendChild(T),g)return new Promise((S,_)=>{T.addEventListener("load",S),T.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return l.then(u=>{for(const h of u||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})},qL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>To);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Yd extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class FL extends Yd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vv extends Yd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xv extends Yd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fd||(fd={}));var VL=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class jL{constructor(e,{headers:n={},customFetch:i,region:l=fd.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=qL(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return VL(this,void 0,void 0,function*(){try{const{headers:l,method:s,body:u}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g}).catch(E=>{throw new FL(E)}),T=v.headers.get("x-relay-error");if(T&&T==="true")throw new vv(v);if(!v.ok)throw new xv(v);let S=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield v.json():S==="application/octet-stream"?_=yield v.blob():S==="text/event-stream"?_=v:S==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof xv||l instanceof vv?l.context:void 0}}})}}var _t={},Qr={},Wr={},Zr={},eo={},to={},GL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mo=GL();const HL=mo.fetch,Db=mo.fetch.bind(mo),Ib=mo.Headers,$L=mo.Request,YL=mo.Response,To=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ib,Request:$L,Response:YL,default:Db,fetch:HL},Symbol.toStringTag,{value:"Module"})),JL=fw(To);var pa={},bv;function Pb(){if(bv)return pa;bv=1,Object.defineProperty(pa,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pa.default=t,pa}var Tv;function Lb(){if(Tv)return to;Tv=1;var t=to&&to.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(to,"__esModule",{value:!0});const e=t(JL),n=t(Pb());class i{constructor(s){var u,h;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(u=s.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=s.signal,this.isMaybeSingle=(h=s.isMaybeSingle)!==null&&h!==void 0?h:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,u){return this.headers=new Headers(this.headers),this.headers.set(s,u),this}then(s,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,v,T,S;let _=null,E=null,R=null,M=m.status,I=m.statusText;if(m.ok){if(this.method!=="HEAD"){const P=await m.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?E=P:E=JSON.parse(P))}const B=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(T=m.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");B&&z&&z.length>1&&(R=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,R=null,M=406,I="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const B=await m.text();try{_=JSON.parse(B),Array.isArray(_)&&m.status===404&&(E=[],_=null,M=200,I="OK")}catch{m.status===404&&B===""?(M=204,I="No Content"):_={message:B}}if(_&&this.isMaybeSingle&&(!((S=_==null?void 0:_.details)===null||S===void 0)&&S.includes("0 rows"))&&(_=null,M=200,I="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:E,count:R,status:M,statusText:I}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,v,T;return{error:{message:`${(g=m==null?void 0:m.name)!==null&&g!==void 0?g:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(v=m==null?void 0:m.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(T=m==null?void 0:m.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),p.then(s,u)}returns(){return this}overrideTypes(){return this}}return to.default=i,to}var Sv;function Ub(){if(Sv)return eo;Sv=1;var t=eo&&eo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(eo,"__esModule",{value:!0});const e=t(Lb());class n extends e.default{select(l){let s=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:s=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${l}.${s?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:s,referencedTable:u=s}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,s,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${s-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:s=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:m="text"}={}){var g;const v=[l?"analyze":null,s?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),T=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${T}"; options=${v};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return eo.default=n,eo}var wv;function Jd(){if(wv)return Zr;wv=1;var t=Zr&&Zr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zr,"__esModule",{value:!0});const e=t(Ub());class n extends e.default{eq(l,s){return this.url.searchParams.append(l,`eq.${s}`),this}neq(l,s){return this.url.searchParams.append(l,`neq.${s}`),this}gt(l,s){return this.url.searchParams.append(l,`gt.${s}`),this}gte(l,s){return this.url.searchParams.append(l,`gte.${s}`),this}lt(l,s){return this.url.searchParams.append(l,`lt.${s}`),this}lte(l,s){return this.url.searchParams.append(l,`lte.${s}`),this}like(l,s){return this.url.searchParams.append(l,`like.${s}`),this}likeAllOf(l,s){return this.url.searchParams.append(l,`like(all).{${s.join(",")}}`),this}likeAnyOf(l,s){return this.url.searchParams.append(l,`like(any).{${s.join(",")}}`),this}ilike(l,s){return this.url.searchParams.append(l,`ilike.${s}`),this}ilikeAllOf(l,s){return this.url.searchParams.append(l,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(l,s){return this.url.searchParams.append(l,`ilike(any).{${s.join(",")}}`),this}is(l,s){return this.url.searchParams.append(l,`is.${s}`),this}in(l,s){const u=Array.from(new Set(s)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${u})`),this}contains(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cs.{${s.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(s)}`),this}containedBy(l,s){return typeof s=="string"?this.url.searchParams.append(l,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(l,`cd.{${s.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(s)}`),this}rangeGt(l,s){return this.url.searchParams.append(l,`sr.${s}`),this}rangeGte(l,s){return this.url.searchParams.append(l,`nxl.${s}`),this}rangeLt(l,s){return this.url.searchParams.append(l,`sl.${s}`),this}rangeLte(l,s){return this.url.searchParams.append(l,`nxr.${s}`),this}rangeAdjacent(l,s){return this.url.searchParams.append(l,`adj.${s}`),this}overlaps(l,s){return typeof s=="string"?this.url.searchParams.append(l,`ov.${s}`):this.url.searchParams.append(l,`ov.{${s.join(",")}}`),this}textSearch(l,s,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(l,`${p}fts${m}.${s}`),this}match(l){return Object.entries(l).forEach(([s,u])=>{this.url.searchParams.append(s,`eq.${u}`)}),this}not(l,s,u){return this.url.searchParams.append(l,`not.${s}.${u}`),this}or(l,{foreignTable:s,referencedTable:u=s}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,s,u){return this.url.searchParams.append(l,`${s}.${u}`),this}}return Zr.default=n,Zr}var Cv;function Ob(){if(Cv)return Wr;Cv=1;var t=Wr&&Wr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wr,"__esModule",{value:!0});const e=t(Jd());class n{constructor(l,{headers:s={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(s),this.schema=u,this.fetch=h}select(l,{head:s=!1,count:u}={}){const h=s?"HEAD":"GET";let p=!1;const m=(l??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:s,defaultToNull:u=!0}={}){var h;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:s,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((T,S)=>T.concat(Object.keys(S)),[]);if(v.length>0){const T=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:s}={}){var u;const h="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var s;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Wr.default=n,Wr}var _v;function KL(){if(_v)return Qr;_v=1;var t=Qr&&Qr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Qr,"__esModule",{value:!0});const e=t(Ob()),n=t(Jd());class i{constructor(s,{headers:u={},schema:h,fetch:p}={}){this.url=s,this.headers=new Headers(u),this.schemaName=h,this.fetch=p}from(s){const u=new URL(`${this.url}/${s}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,u={},{head:h=!1,get:p=!1,count:m}={}){var g;let v;const T=new URL(`${this.url}/rpc/${s}`);let S;h||p?(v=h?"HEAD":"GET",Object.entries(u).filter(([E,R])=>R!==void 0).map(([E,R])=>[E,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([E,R])=>{T.searchParams.append(E,R)})):(v="POST",S=u);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new n.default({method:v,url:T,headers:_,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Qr.default=i,Qr}var kv;function XL(){if(kv)return _t;kv=1;var t=_t&&_t.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const e=t(KL());_t.PostgrestClient=e.default;const n=t(Ob());_t.PostgrestQueryBuilder=n.default;const i=t(Jd());_t.PostgrestFilterBuilder=i.default;const l=t(Ub());_t.PostgrestTransformBuilder=l.default;const s=t(Lb());_t.PostgrestBuilder=s.default;const u=t(Pb());return _t.PostgrestError=u.default,_t.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:s.default,PostgrestError:u.default},_t}var QL=XL();const WL=jl(QL),{PostgrestClient:ZL,PostgrestQueryBuilder:c6,PostgrestFilterBuilder:f6,PostgrestTransformBuilder:d6,PostgrestBuilder:h6,PostgrestError:m6}=WL;function e5(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const t5=e5(),n5="2.11.15",i5=`realtime-js/${n5}`,r5="1.0.0",Bb=1e4,o5=1e3;var Ul;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ul||(Ul={}));var Pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pt||(Pt={}));var Sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sn||(Sn={}));var dd;(function(t){t.websocket="websocket"})(dd||(dd={}));var rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rr||(rr={}));class l5{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const l=n.getUint8(1),s=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+l));u=u+l;const p=i.decode(e.slice(u,u+s));u=u+s;const m=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:m}}}class zb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const Ev=(t,e,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,u)=>(s[u]=s5(u,t,e,l),s),{})},s5=(t,e,n,i)=>{const l=e.find(h=>h.name===t),s=l==null?void 0:l.type,u=n[t];return s&&!i.includes(s)?qb(s,u):hd(u)},qb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return f5(e,n)}switch(t){case tt.bool:return a5(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return u5(e);case tt.json:case tt.jsonb:return c5(e);case tt.timestamp:return d5(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return hd(e);default:return hd(e)}},hd=t=>t,a5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},c5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f5=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const u=t.slice(1,n);try{s=JSON.parse("["+u+"]")}catch{s=u?u.split(","):[]}return s.map(h=>qb(e,h))}return t},d5=t=>typeof t=="string"?t.replace(" ","T"):t,Fb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Rf{constructor(e,n,i={},l=Bb){this.channel=e,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Av;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Av||(Av={}));class Ol{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:s,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,l,s,u),this.pendingDiffs.forEach(p=>{this.state=Ol.syncDiff(this.state,p,s,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:s,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ol.syncDiff(this.state,l,s,u),h())}),this.onJoin((l,s,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:s,newPresences:u})}),this.onLeave((l,s,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:s,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,l){const s=this.cloneDeep(e),u=this.transformState(n),h={},p={};return this.map(s,(m,g)=>{u[m]||(p[m]=g)}),this.map(u,(m,g)=>{const v=s[m];if(v){const T=g.map(R=>R.presence_ref),S=v.map(R=>R.presence_ref),_=g.filter(R=>S.indexOf(R.presence_ref)<0),E=v.filter(R=>T.indexOf(R.presence_ref)<0);_.length>0&&(h[m]=_),E.length>0&&(p[m]=E)}else h[m]=g}),this.syncDiff(s,{joins:h,leaves:p},i,l)}static syncDiff(e,n,i,l){const{joins:s,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(s,(h,p)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(p),g.length>0){const v=e[h].map(S=>S.presence_ref),T=g.filter(S=>v.indexOf(S.presence_ref)<0);e[h].unshift(...T)}i(h,g,p)}),this.map(u,(h,p)=>{let m=e[h];if(!m)return;const g=p.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=m,l(h,m,p),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const l=e[i];return"metas"in l?n[i]=l.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Mv||(Mv={}));var Nv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nv||(Nv={}));var Kn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Kn||(Kn={}));class Kd{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rf(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new zb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(l,s)=>{this._trigger(this._replyEventName(s),l)}),this.presence=new Ol(this),this.broadcastEndpointURL=Fb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:s,presence:u,private:h}}=this.params;this._onError(g=>e==null?void 0:e(Kn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Kn.CLOSED));const p={},m={broadcast:s,presence:u,postgres_changes:(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&l!==void 0?l:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(Kn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(v=T==null?void 0:T.length)!==null&&v!==void 0?v:0,_=[];for(let E=0;E<S;E++){const R=T[E],{filter:{event:M,schema:I,table:N,filter:B}}=R,z=g&&g[E];if(z&&z.event===M&&z.schema===I&&z.table===N&&z.filter===B)_.push(Object.assign(Object.assign({},R),{id:z.id}));else{this.unsubscribe(),this.state=Pt.errored,e==null||e(Kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Kn.SUBSCRIBED);return}}).receive("error",g=>{this.state=Pt.errored,e==null||e(Kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var u,h,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new Rf(this,Sn.leave,{},e),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const l=new AbortController,s=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(s),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Rf(this,e,n,i);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var l,s;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=Sn;if(i&&[h,p,m,g].indexOf(u)>=0&&i!==this._joinRef())return;let T=this._onMessage(u,n,i);if(n&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var _,E,R;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(E=S.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(S=>S.callback(T,i)):(s=this.bindings[u])===null||s===void 0||s.filter(S=>{var _,E,R,M,I,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const B=S.id,z=(_=S.filter)===null||_===void 0?void 0:_.event;return B&&((E=n.ids)===null||E===void 0?void 0:E.includes(B))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const B=(I=(M=S==null?void 0:S.filter)===null||M===void 0?void 0:M.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return B==="*"||B===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof T=="object"&&"ids"in T){const _=T.data,{schema:E,table:R,commit_timestamp:M,type:I,errors:N}=_;T=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:M,eventType:I,new:{},old:{},errors:N}),this._getPayloadRecords(_))}S.callback(T,i)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const l=e.toLocaleLowerCase(),s={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(s):this.bindings[l]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(l=>{var s;return!(((s=l.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Kd.isEqual(l.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ev(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ev(e.columns,e.old_record)),n}}const Rv=()=>{},h5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m5{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rv,this.ref=0,this.logger=Rv,this.conn=null,this.sendBuffer=[],this.serializer=new l5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let u;return s?u=s:typeof fetch>"u"?u=(...h)=>Jl(async()=>{const{default:p}=await Promise.resolve().then(()=>To);return{default:p}},void 0).then(({default:p})=>p(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${dd.websocket}`,this.httpEndpoint=Fb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,u)=>u(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=t5),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:r5}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ul.connecting:return rr.Connecting;case Ul.open:return rr.Open;case Ul.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(s=>s.topic===i);if(l)return l;{const s=new Kd(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:l,ref:s}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${s})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:i5};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(o5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:l,payload:s,ref:u}=n;i==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${l} ${u&&"("+u+")"||""}`,s),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(l,s,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${i}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([h5],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Xd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class p5 extends Xd{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class md extends Xd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var g5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Vb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>To);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},y5=()=>g5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>To),void 0)).Response:Response}),pd=t=>{if(Array.isArray(t))return t.map(n=>pd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[l]=pd(i)}),e};var ur=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const Df=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v5=(t,e,n)=>ur(void 0,void 0,void 0,function*(){const i=yield y5();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(l=>{e(new p5(Df(l),t.status||500))}).catch(l=>{e(new md(Df(l),l))}):e(new md(Df(t),t))}),x5=(t,e,n,i)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(l.body=JSON.stringify(i)),Object.assign(Object.assign({},l),n))};function Kl(t,e,n,i,l,s){return ur(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,x5(e,i,l,s)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>v5(p,h,i))})})}function Pa(t,e,n,i){return ur(this,void 0,void 0,function*(){return Kl(t,"GET",e,n,i)})}function Mi(t,e,n,i,l){return ur(this,void 0,void 0,function*(){return Kl(t,"POST",e,i,l,n)})}function b5(t,e,n,i,l){return ur(this,void 0,void 0,function*(){return Kl(t,"PUT",e,i,l,n)})}function T5(t,e,n,i){return ur(this,void 0,void 0,function*(){return Kl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function jb(t,e,n,i,l){return ur(this,void 0,void 0,function*(){return Kl(t,"DELETE",e,i,l,n)})}var $t=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const S5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w5{constructor(e,n={},i,l){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Vb(l)}uploadOrUpdate(e,n,i,l){return $t(this,void 0,void 0,function*(){try{let s;const u=Object.assign(Object.assign({},Dv),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",u.cacheControl),p&&s.append("metadata",this.encodeMetadata(p))):(s=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l!=null&&l.headers&&(h=Object.assign(Object.assign({},h),l.headers));const m=this._removeEmptyFolders(n),g=this._getFinalPath(m),v=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:s,headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{})),T=yield v.json();return v.ok?{data:{path:m,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}upload(e,n,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,l){return $t(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),u=this._getFinalPath(s),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:Dv.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",m.cacheControl)):(p=i,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:p,headers:g}),T=yield v.json();return v.ok?{data:{path:s,fullPath:T.Key},error:null}:{data:null,error:T}}catch(p){if(kt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return $t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const s=yield Mi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+s.url),h=u.searchParams.get("token");if(!h)throw new Xd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}update(e,n,i){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return $t(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}copy(e,n,i){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield Mi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrl(e,n,i){return $t(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),s=yield Mi(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${u}`)},{data:s,error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}createSignedUrls(e,n,i){return $t(this,void 0,void 0,function*(){try{const l=yield Mi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${s}`):null})),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}download(e,n){return $t(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=s?`?${s}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Pa(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(kt(h))return{data:null,error:h};throw h}})}info(e){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Pa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pd(i),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}exists(e){return $t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield T5(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(kt(i)&&i instanceof md){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),l=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&l.push(s);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return $t(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(e,n,i){return $t(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},S5),n),{prefix:e||""});return{data:yield Mi(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(kt(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const C5="2.7.1",_5={"X-Client-Info":`storage-js/${C5}`};var no=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class k5{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},_5),n),this.fetch=Vb(i)}listBuckets(){return no(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(kt(e))return{data:null,error:e};throw e}})}getBucket(e){return no(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return no(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return no(this,void 0,void 0,function*(){try{return{data:yield b5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return no(this,void 0,void 0,function*(){try{return{data:yield Mi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return no(this,void 0,void 0,function*(){try{return{data:yield jb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class E5 extends k5{constructor(e,n={},i){super(e,n,i)}from(e){return new w5(this.url,this.headers,e,this.fetch)}}const A5="2.50.4";let Rl="";typeof Deno<"u"?Rl="deno":typeof document<"u"?Rl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rl="react-native":Rl="node";const M5={"X-Client-Info":`supabase-js-${Rl}/${A5}`},N5={headers:M5},R5={schema:"public"},D5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I5={};var P5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};const L5=t=>{let e;return t?e=t:typeof fetch>"u"?e=Db:e=fetch,(...n)=>e(...n)},U5=()=>typeof Headers>"u"?Ib:Headers,O5=(t,e,n)=>{const i=L5(n),l=U5();return(s,u)=>P5(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:t;let m=new l(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(s,Object.assign(Object.assign({},u),{headers:m}))})};var B5=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};function z5(t){return t.endsWith("/")?t:t+"/"}function q5(t,e){var n,i;const{db:l,auth:s,realtime:u,global:h}=t,{db:p,auth:m,realtime:g,global:v}=e,T={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>B5(this,void 0,void 0,function*(){return""})};return t.accessToken?T.accessToken=t.accessToken:delete T.accessToken,T}const Gb="2.70.0",so=30*1e3,gd=3,If=gd*so,F5="http://localhost:9999",V5="supabase.auth.token",j5={"X-Client-Info":`gotrue-js/${Gb}`},yd="X-Supabase-Api-Version",Hb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H5=6e5;class Qd extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $5 extends Qd{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Y5(t){return ke(t)&&t.name==="AuthApiError"}class $b extends Qd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pi extends Qd{constructor(e,n,i,l){super(e,i,l),this.name=n,this.status=i}}class Ai extends Pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J5(t){return ke(t)&&t.name==="AuthSessionMissingError"}class ga extends Pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ya extends Pi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class va extends Pi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K5(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iv extends Pi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vd extends Pi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Pf(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class Pv extends Pi{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Bl extends Pi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const La="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lv=` 	
\r=`.split(""),X5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lv.length;e+=1)t[Lv[e].charCodeAt(0)]=-2;for(let e=0;e<La.length;e+=1)t[La[e].charCodeAt(0)]=e;return t})();function Uv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(La[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(La[i]),e.queuedBits-=6}}function Yb(t,e,n){const i=X5[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ov(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},s=u=>{Z5(u,i,n)};for(let u=0;u<t.length;u+=1)Yb(t.charCodeAt(u),l,s);return e.join("")}function Q5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function W5(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Q5(i,e)}}function Z5(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function eU(t){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)Yb(t.charCodeAt(l),n,i);return new Uint8Array(e)}function tU(t){const e=[];return W5(t,n=>e.push(n)),new Uint8Array(e)}function nU(t){const e=[],n={queue:0,queuedBits:0},i=l=>{e.push(l)};return t.forEach(l=>Uv(l,n,i)),Uv(null,n,i),e.join("")}function iU(t){return Math.round(Date.now()/1e3)+t}function rU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tn=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},zl=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function oU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,s)=>{e[s]=l})}catch{}return n.searchParams.forEach((i,l)=>{e[l]=i}),e}const Jb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Jl(async()=>{const{default:i}=await Promise.resolve().then(()=>To);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},lU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Kb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},xa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ba=async(t,e)=>{await t.removeItem(e)};class $a{constructor(){this.promise=new $a.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}$a.promiseConstructor=Promise;function Lf(t){const e=t.split(".");if(e.length!==3)throw new Bl("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!G5.test(e[i]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(Ov(e[0])),payload:JSON.parse(Ov(e[1])),signature:eU(e[2]),raw:{header:e[0],payload:e[1]}}}async function sU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aU(t,e){return new Promise((i,l)=>{(async()=>{for(let s=0;s<1/0;s++)try{const u=await t(s);if(!e(s,null,u)){i(u);return}}catch(u){if(!e(s,u)){l(u);return}}})()})}function uU(t){return("0"+t.toString(16)).substr(-2)}function cU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let s=0;s<56;s++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,uU).join("")}async function fU(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(s=>String.fromCharCode(s)).join("")}async function dU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await fU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function io(t,e,n=!1){const i=cU();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await Kb(t,`${e}-code-verifier`,l);const s=await dU(i);return[s,i===s?"plain":"s256"]}const hU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mU(t){const e=t.headers.get(yd);if(!e||!e.match(hU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function pU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(t){if(!yU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var vU=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n};const ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xU=[502,503,504];async function Bv(t){var e;if(!lU(t))throw new vd(ir(t),0);if(xU.includes(t.status))throw new vd(ir(t),t.status);let n;try{n=await t.json()}catch(s){throw new $b(ir(s),s)}let i;const l=mU(t);if(l&&l.getTime()>=Hb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Pv(ir(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,u)=>s&&typeof u=="string",!0))throw new Pv(ir(n),t.status,n.weak_password.reasons);throw new $5(ir(n),t.status||500,i)}const bU=(t,e,n,i)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function Le(t,e,n,i){var l;const s=Object.assign({},i==null?void 0:i.headers);s[yd]||(s[yd]=Hb["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const u=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await TU(t,e,n+h,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function TU(t,e,n,i,l,s){const u=bU(e,i,l,s);let h;try{h=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new vd(ir(p),0)}if(h.ok||await Bv(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Bv(p)}}function Jn(t){var e;let n=null;_U(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iU(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function zv(t){const e=Jn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ni(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SU(t){return{data:t,error:null}}function wU(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:s}=t,u=vU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:l,verification_type:s},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function CU(t){return t}function _U(t){return t.access_token&&t.refresh_token&&t.expires_in}const Uf=["global","local","others"];var kU=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n};class EU{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Jb(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Uf[0]){if(Uf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uf.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=kU(e,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:wU,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ni})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,l,s,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&s!==void 0?s:""},xform:CU});if(g.error)throw g.error;const v=await g.json(),T=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);m[`${R}Page`]=E}),m.total=parseInt(T)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ke(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ro(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ni})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ro(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ni})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){ro(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ro(e.userId);try{const{data:n,error:i}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ro(e.userId),ro(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}const AU={getItem:t=>zl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zl()&&globalThis.localStorage.removeItem(t)}};function qv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function MU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oo={debug:!!(globalThis&&zl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NU extends Xb{}async function RU(t,e,n){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await n()}finally{oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}MU();const DU={url:F5,storageKey:V5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fv(t,e,n){return await n()}class Vl{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vl.nextInstanceID,Vl.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},DU),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new EU({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Jb(l.fetch),this.lock=l.lock||Fv,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=RU:this.lock=Fv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:zl()?this.storage=AU:(this.memoryStorage={},this.storage=qv(this.memoryStorage)):(this.memoryStorage={},this.storage=qv(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=oU(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Tn()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),K5(s)){const p=(e=s.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new $b("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,l;try{const s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:Jn}),{data:u,error:h}=s;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,l;try{let s;if("email"in e){const{email:g,password:v,options:T}=e;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await io(this.storage,this.storageKey)),s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:g,password:v,data:(n=T==null?void 0:T.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:S,code_challenge_method:_},xform:Jn})}else if("phone"in e){const{phone:g,password:v,options:T}=e;s=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=T==null?void 0:T.data)!==null&&i!==void 0?i:{},channel:(l=T==null?void 0:T.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:Jn})}else throw new ya("You must provide either an email or phone number and a password");const{data:u,error:h}=s;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:u,options:h}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zv})}else if("phone"in e){const{phone:s,password:u,options:h}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zv})}else throw new ya("You must provide either an email or phone number and a password");const{data:i,error:l}=n;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ga}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,l,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,l,s,u,h,p,m,g,v,T,S;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:R,wallet:M,statement:I,options:N}=e;let B;if(Tn())if(typeof M=="object")B=M;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))B=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=M}const z=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const P=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),I?{statement:I}:null));let K;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")K=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)K=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)_=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),E=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${z.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(l=(i=N==null?void 0:N.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((v=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...N.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const P=await B.signMessage(new TextEncoder().encode(_),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=P}}try{const{data:R,error:M}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:nU(E)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Jn});if(M)throw M;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ga}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:M})}catch(R){if(ke(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(e){const n=await xa(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:s,error:u}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Jn});if(await ba(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ga}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:l??null}),error:u})}catch(s){if(ke(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:l,access_token:s,nonce:u}=e,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:s,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jn}),{data:p,error:m}=h;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ga}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,l,s,u;try{if("email"in e){const{email:h,options:p}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await io(this.storage,this.storageKey));const{error:v}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:p}=e,{data:m,error:g}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g}}throw new ya("You must provide either an email or phone number.")}catch(h){if(ke(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let l,s;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:l,xform:Jn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var n,i,l;try{let s=null,u=null;return this.flowType==="pkce"&&([s,u]=await io(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:u}),headers:this.headers,xform:SU})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ai;const{error:l}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:s}=e,{error:u}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:l,options:s}=e,{data:u,error:h}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new ya("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<If:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:e},error:null}}const{session:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ni}):await this._useSession(async n=>{var i,l,s;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&s!==void 0?s:void 0,xform:Ni})})}catch(n){if(ke(n))return J5(n)&&(await this._removeSession(),await ba(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:l,error:s}=i;if(s)throw s;if(!l.session)throw new Ai;const u=l.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await io(this.storage,this.storageKey));const{data:m,error:g}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:Ni});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ai;const n=Date.now()/1e3;let i=n,l=!0,s=null;const{payload:u}=Lf(e.access_token);if(u.exp&&(i=u.exp,l=i<=n),l){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};s=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;s={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ai;const{session:l,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Tn())throw new va("No browser detected.");if(e.error||e.error_description||e.error_code)throw new va(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Iv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new va("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iv("No code detected.");const{data:I,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:s,refresh_token:u,expires_in:h,expires_at:p,token_type:m}=e;if(!s||!h||!u||!m)throw new va("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let T=g+v;p&&(T=parseInt(p));const S=T-g;S*1e3<=so&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const _=T-v;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,T,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,T,g);const{data:E,error:R}=await this._getUser(s);if(R)throw R;const M={provider_token:i,provider_refresh_token:l,access_token:s,expires_in:v,expires_at:T,refresh_token:u,token_type:m,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(i){if(ke(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:s}=n;if(s)return{error:s};const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Y5(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ba(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rU(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,l;try{const{data:{session:s},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await io(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:l}=await this._useSession(async s=>{var u,h,p,m,g;const{data:v,error:T}=s;if(T)throw T;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Tn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ke(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,l;const{data:s,error:u}=n;if(u)throw u;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await aU(async l=>(l>0&&await sU(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jn})),(l,s)=>{const u=200*Math.pow(2,l);return s&&Pf(s)&&Date.now()+u-i<so})}catch(i){if(this._debug(n,"error",i),ke(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Tn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await xa(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<If;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${If}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Pf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new $a;const{data:s,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!s.session)throw new Ai;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const h={session:s.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(s){if(this._debug(l,"error",s),ke(s)){const u={session:null,error:s};return Pf(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){s.push(p)}});if(await Promise.all(u),s.length>0){for(let h=0;h<s.length;h+=1)console.error(s[h]);throw s[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Kb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ba(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),so);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/so);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${so}ms, refresh threshold is ${gd} ticks`),l<=gd&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,u]=await io(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);l.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;return s?{data:null,error:s}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,l;const{data:s,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:m}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;if(s)return{data:null,error:s};const{data:u,error:h}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:s}=n;return s?{data:null,error:s}:await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],l=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),s=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:l,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:l},error:s}=e;if(s)return{data:null,error:s};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Lf(l.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(u=>u.kid===e);if(i||(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+H5>Date.now()))return i;const{data:l,error:s}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!l.keys||l.keys.length===0)throw new Bl("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),i=l.keys.find(u=>u.kid===e),!i)throw new Bl("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:S,error:_}=await this.getSession();if(_||!S.session)return{data:null,error:_};i=S.session.access_token}const{header:l,payload:s,signature:u,raw:{header:h,payload:p}}=Lf(i);if(pU(s.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:s,header:l,signature:u},error:null}}const m=gU(l.alg),g=await this.fetchJwk(l.kid,n),v=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,u,tU(`${h}.${p}`)))throw new Bl("Invalid JWT signature");return{data:{claims:s,header:l,signature:u},error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}}}Vl.nextInstanceID=0;const IU=Vl;class PU extends IU{constructor(e){super(e)}}var LU=function(t,e,n,i){function l(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function h(g){try{m(i.next(g))}catch(v){u(v)}}function p(g){try{m(i.throw(g))}catch(v){u(v)}}function m(g){g.done?s(g.value):l(g.value).then(h,p)}m((i=i.apply(t,e||[])).next())})};class UU{constructor(e,n,i){var l,s,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=z5(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:R5,realtime:I5,auth:Object.assign(Object.assign({},D5),{storageKey:m}),global:N5},v=q5(i??{},g);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(T,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=O5(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new ZL(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new jL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new E5(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return LU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,storageKey:s,flowType:u,lock:h,debug:p},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PU({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:l,flowType:u,lock:h,debug:p,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new m5(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OU=(t,e,n)=>new UU(t,e,n),Vv="https://vqzivktsvicvbdsuouap.supabase.co",BU="sb_publishable_-4ZuY1Bk4XaOCDxrvymo9A_plFhPgFz",Zn=(t,e,n)=>{const i=`There was a problem trying to ${t} data for the '${e}' table.`,s=(h=>h?typeof h.message=="string"&&h.message?h.message:typeof h.message=="object"&&h.message!==null?JSON.stringify(h.message,null,2):typeof h=="object"&&h!==null?JSON.stringify(h,null,2):String(h):"Unknown error: The error object was falsy.")(n);if(s.toLowerCase().includes('column "user_id" does not exist')||s.toLowerCase().includes("column trades.user_id does not exist"))return`
**Database Schema Mismatch Detected!**

The application code has been updated to support multiple users, which requires a \`user_id\` column in the \`trades\` table. This column is missing in your database.

---
**How to Fix It:**

You need to run the following SQL commands in your Supabase SQL Editor to update your table structure and enable security policies.

1.  Go to your **Supabase Dashboard**.
2.  Navigate to the **SQL Editor**.
3.  Click **+ New query**.
4.  Copy and paste the entire block of SQL code below and click **RUN**.

---
**SQL Code to Run:**

-- Step 1: Add the user_id column to the trades table
ALTER TABLE public.trades
ADD COLUMN user_id UUID;

-- Step 2: Add a foreign key constraint to link it to auth.users
-- This ensures data integrity and automatically deletes a user's trades if they are deleted.
ALTER TABLE public.trades
ADD CONSTRAINT trades_user_id_fkey
FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE;

-- Step 3: Enable Row Level Security on the table
-- This is a critical security step to ensure users can only see their own data.
ALTER TABLE public.trades
ENABLE ROW LEVEL SECURITY;

-- Step 4: Create policies to control access
-- Policy to allow users to view their own trades
CREATE POLICY "Allow users to read their own trades"
ON public.trades
FOR SELECT
USING (auth.uid() = user_id);

-- Policy to allow users to insert their own trades
CREATE POLICY "Allow users to insert their own trades"
ON public.trades
FOR INSERT
WITH CHECK (auth.uid() = user_id);

-- Policy to allow users to update their own trades
CREATE POLICY "Allow users to update their own trades"
ON public.trades
FOR UPDATE
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- (Optional) If you have existing trades, you might want to assign them to your user ID.
-- Find your user ID in Project Settings > Authentication > Users.
-- UPDATE public.trades SET user_id = 'YOUR_USER_ID_HERE' WHERE user_id IS NULL;
---
`;if(s.toLowerCase().includes("failed to fetch"))return`${i}


This is a "Failed to fetch" network error, which is almost always a Cross-Origin Resource Sharing (CORS) configuration issue.

Your web browser is blocking requests to Supabase for security reasons.

---
**How to Fix It:**

You need to add this application's URL to the list of allowed origins in your Supabase project.

1.  **Copy your application's URL** from your browser's address bar.
2.  Go to your **Supabase Dashboard**.
3.  Navigate to **Project Settings > API**.
4.  Find the **CORS Configuration** section.
5.  Add your application's URL as a new origin pattern.
6.  **Save** the changes in Supabase and **refresh this page**.
---
`;const u=`This could be due to a network connectivity issue or a restrictive Row Level Security (RLS) policy on the '${e}' table. Please check your RLS policies to ensure the requested data can be accessed.`;return`${i}

${u}

Technical Details:
${s}`},zU=()=>{if(Vv.includes("your-project-id"))return console.error("Supabase URL or Key is not configured. Please update it in services/supabaseService.ts"),null;try{return OU(Vv,BU)}catch(t){return console.error("Error creating Supabase client:",t),null}},qU=async(t,{email:e,password:n,nama:i})=>{const{data:l,error:s}=await t.auth.signUp({email:e,password:n,options:{data:{nama:i}}});if(s)throw s.message.toLowerCase().includes("user already registered")?new Error("A user with this email address already exists. Please try logging in."):(console.error("Supabase sign-up error:",s),new Error(`Failed to sign up: ${s.message}`));return l},FU=async(t,{email:e,password:n})=>{const{data:i,error:l}=await t.auth.signInWithPassword({email:e,password:n});if(l)throw l;return i},VU=async t=>{const{error:e}=await t.auth.signOut();if(e)throw e},jU=(t,e)=>{const{data:{subscription:n}}=t.auth.onAuthStateChange((i,l)=>{e(l)});return n},GU=async(t,e)=>{try{const{data:n,error:i}=await t.from("users").select("*").eq("id",e).single();if(i){if(i.code==="PGRST116")return console.warn(`No profile found for user ${e}. A new one may need to be created if this is unexpected.`),null;throw i}return n}catch(n){const i=Zn(`fetch profile for user ${e}`,"users",n);return console.error(i),null}},jv=async(t,e)=>{const{data:n,error:i}=await t.from("trades").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(i){const l=Zn("fetch","trades",i);throw console.error(l),new Error(l)}return(n||[]).map(l=>({id:l.id,timestamp:l.created_at,image:l.image,mode:l.mode,marketTrend:l.market_trend,keyPattern:l.key_pattern,indicatorAnalysis:l.indicator_analysis,tradeBias:l.trade_bias,tradeSetup:l.trade_setup,rationale:l.rationale,confidenceScore:l.confidence_score,status:l.status,outcomeAmount:l.outcome_amount??void 0}))},Qb=async(t,e,n)=>{const{error:i}=await t.from("users").update({initial_trade:n}).eq("id",e);if(i){const l=Zn(`update initial capital for user ${e}`,"users",i);throw console.error(l),new Error(l)}},HU=async(t,e,n,i)=>{const{error:l}=await t.from("users").update({nama:n,describe:i}).eq("id",e);if(l){const s=Zn(`update profile for user ${e}`,"users",l);throw console.error(s),new Error(s)}},$U=async(t,e,n)=>{const i={user_id:n,image:e.image,mode:e.mode,market_trend:e.marketTrend,key_pattern:e.keyPattern,indicator_analysis:e.indicatorAnalysis,trade_bias:e.tradeBias,trade_setup:e.tradeSetup,rationale:e.rationale,confidence_score:e.confidenceScore,status:e.status,outcome_amount:e.outcomeAmount??null},{data:l,error:s}=await t.from("trades").insert(i).select().single();if(s){const h=Zn("add","trades",s);throw console.error(h),new Error(h)}if(!l)throw new Error("Failed to add trade: no data returned.");const u=l;return{id:u.id,timestamp:u.created_at,image:u.image,mode:u.mode,marketTrend:u.market_trend,keyPattern:u.key_pattern,indicatorAnalysis:u.indicator_analysis,tradeBias:u.trade_bias,tradeSetup:u.trade_setup,rationale:u.rationale,confidenceScore:u.confidence_score,status:u.status,outcomeAmount:u.outcome_amount??void 0}},YU=async(t,e,n,i,l)=>{const{error:s}=await t.from("trades").update({status:n,outcome_amount:i}).eq("id",e).eq("user_id",l);if(s){const u=Zn(`update status for trade ${e}`,"trades",s);throw console.error(u),new Error(u)}},JU=async(t,e,n)=>{const{error:i}=await t.from("trades").delete().eq("id",e).eq("user_id",n);if(i){const l=Zn(`delete trade ${e}`,"trades",i);throw console.error(l),new Error(l)}},KU=async t=>{await new Promise(p=>setTimeout(p,500));const e=[{symbol:"BTC",name:"Bitcoin",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/btc.svg",amount:.75,avgBuyPrice:45e3},{symbol:"ETH",name:"Ethereum",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/eth.svg",amount:15,avgBuyPrice:3e3},{symbol:"SOL",name:"Solana",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/sol.svg",amount:250,avgBuyPrice:100},{symbol:"ADA",name:"Cardano",logoUrl:"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25668/svg/color/ada.svg",amount:1e4,avgBuyPrice:.85},{symbol:"XAU",name:"Gold Spot",logoUrl:"https://img.icons8.com/fluency/48/gold-bars.png",amount:5,avgBuyPrice:2050}];let n=0,i=0,l=0;const s=e.map(p=>{const m=(Math.random()-.5)*.1,g=p.avgBuyPrice*(1+m),v=g/(1+(Math.random()-.5)*.04),T=p.amount*g,S=(g-p.avgBuyPrice)*p.amount,_=p.amount*v,E=T-_;return n+=T,i+=S,l+=E,{...p,currentPrice:g,value:T,totalPl:S}}),u=n-l,h=u>0?l/u*100:0;return{assets:s,totalValue:n,totalPl:i,pl24h:l,pl24hPercent:h}},XU=async t=>{try{const{data:e,error:n}=await t.from("settings").select("gemini_api_key").eq("id",1).single();if(n){if(n.code==="PGRST116")return console.warn("No settings found in the database. A new settings row may need to be created."),null;throw n}return e}catch(e){const n=Zn("fetch","settings",e);throw console.error(n),new Error(n)}},QU=async(t,e)=>{const{error:n}=await t.from("settings").update({gemini_api_key:e}).eq("id",1);if(n){const i=Zn("update Gemini API key in","settings",n);throw console.error(i),new Error(i)}},Gv=({supabaseClient:t,onClose:e})=>{const[n,i]=Q.useState("login"),[l,s]=Q.useState(""),[u,h]=Q.useState(""),[p,m]=Q.useState(""),[g,v]=Q.useState(!0),[T,S]=Q.useState(!1),[_,E]=Q.useState("");Q.useEffect(()=>{const N=B=>{B.key==="Escape"&&e()};return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[e]),Q.useEffect(()=>{const N=localStorage.getItem("rememberedEmail");N?(s(N),v(!0)):v(!1)},[]);const R=N=>/^\S+@\S+\.\S+$/.test(N),M=async N=>{if(N.preventDefault(),S(!0),E(""),!R(l)){E("Please enter a valid email address."),S(!1);return}if(u.length<6){E("Password must be at least 6 characters."),S(!1);return}if(n==="register"&&p.trim().length<2){E("Name must be at least 2 characters."),S(!1);return}try{n==="login"?(await FU(t,{email:l,password:u}),g?localStorage.setItem("rememberedEmail",l):localStorage.removeItem("rememberedEmail")):await qU(t,{email:l,password:u,nama:p})}catch(B){E(B.message||"An unexpected error occurred.")}finally{S(!1)}},I=()=>{i(n==="login"?"register":"login"),E(""),h(""),m("")};return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:e,children:x.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full transform transition-all scale-100 opacity-100",onClick:N=>N.stopPropagation(),children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300","aria-label":"Close",children:x.jsx(Rn,{className:"w-8 h-8"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 dark:text-slate-100",children:n==="login"?"Welcome Back":"Create Account"}),x.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-1",children:n==="login"?"Sign in to continue":"Get started with FOMO AI"})]}),x.jsxs("form",{onSubmit:M,className:"mt-8 space-y-6",children:[n==="register"&&x.jsxs("div",{children:[x.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",required:!0,value:p,onChange:N=>m(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:N=>s(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password-auth",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{id:"password-auth",name:"password",type:"password",autoComplete:n==="login"?"current-password":"new-password",required:!0,value:u,onChange:N=>h(N.target.value),className:"block w-full rounded-md border-0 py-2 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-violet-600 sm:text-sm sm:leading-6 bg-white dark:bg-slate-700 dark:text-slate-100 dark:ring-slate-600 dark:focus:ring-violet-500"})})]}),n==="login"&&x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:g,onChange:N=>v(N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-violet-600 focus:ring-violet-600 dark:bg-slate-700 dark:border-slate-600 dark:focus:ring-violet-500 dark:ring-offset-slate-800"}),x.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-900 dark:text-slate-300",children:"Remember me"})]}),_&&x.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center whitespace-pre-wrap",children:_}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:T,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-wait",children:T?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):n==="login"?"Sign in":"Register"})})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[n==="login"?"Don't have an account?":"Already have an account?",x.jsx("button",{onClick:I,className:"font-medium text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 ml-1",children:n==="login"?"Register":"Sign in"})]})})]})})},WU=({initialCapital:t,supabaseClient:e,user:n,userProfile:i,geminiApiKey:l,apiStatus:s,onApiKeyUpdate:u,onCapitalUpdate:h,onProfileUpdate:p,onWithdraw:m})=>{const[g,v]=Q.useState(l),[T,S]=Q.useState(!1),[_,E]=Q.useState(""),[R,M]=Q.useState(!1),[I,N]=Q.useState(String(t)),[B,z]=Q.useState(!1),[P,K]=Q.useState(""),[ie,W]=Q.useState(!1),[U,Z]=Q.useState(""),[ee,ae]=Q.useState(!1),[le,oe]=Q.useState(""),[F,ne]=Q.useState(!1),[ce,me]=Q.useState(""),[C,$]=Q.useState(""),[J,A]=Q.useState(!1),[fe,ye]=Q.useState(""),[de,Ye]=Q.useState(!1);Q.useEffect(()=>{i&&(me(i.nama||""),$(i.describe||""))},[i]),Q.useEffect(()=>{N(String(t))},[t]),Q.useEffect(()=>{v(l)},[l]);const _e=async()=>{if(S(!0),E(""),M(!1),!g.trim()){E("API Key cannot be empty."),M(!0),S(!1),setTimeout(()=>E(""),5e3);return}try{await u(g),E("API Key updated and verified successfully!"),M(!1)}catch(Oe){const gt=Oe instanceof Error?Oe.message:"Failed to save or verify API key.";E(gt),M(!0)}finally{S(!1),setTimeout(()=>E(""),5e3)}},ot=async()=>{if(z(!0),K(""),W(!1),!e||!n){K("You must be logged in to save settings."),W(!0),z(!1);return}const Oe=Number(I);if(isNaN(Oe)||Oe<0){K("Please enter a valid positive number."),W(!0),z(!1);return}try{await Qb(e,n.id,Oe),h(Oe),K("Base capital updated successfully!"),W(!1),setTimeout(()=>K(""),3e3)}catch(gt){const yt=gt instanceof Error?gt.message:"Failed to save capital to the database.";K(yt),W(!0)}finally{z(!1)}},Qe=async()=>{ae(!0),oe(""),ne(!1);const Oe=Number(U);if(isNaN(Oe)||Oe<=0){oe("Please enter a valid positive withdrawal amount."),ne(!0),ae(!1);return}if(Oe>t){oe("Withdrawal amount cannot exceed your current capital."),ne(!0),ae(!1);return}try{await m(Oe),oe("Withdrawal successful!"),ne(!1),Z(""),setTimeout(()=>oe(""),3e3)}catch(gt){const yt=gt instanceof Error?gt.message:"Failed to process withdrawal.";oe(yt),ne(!0)}finally{ae(!1)}},Nt=async()=>{if(A(!0),ye(""),Ye(!1),!e||!n){ye("You must be logged in to save settings."),Ye(!0),A(!1);return}if(ce.trim().length<2){ye("Name must be at least 2 characters."),Ye(!0),A(!1);return}if(C.length>200){ye("Description cannot exceed 200 characters."),Ye(!0),A(!1);return}try{await HU(e,n.id,ce,C),p({name:ce,description:C}),ye("Profile updated successfully!"),Ye(!1),setTimeout(()=>ye(""),3e3)}catch(Oe){const gt=Oe instanceof Error?Oe.message:"Failed to save profile to the database.";ye(gt),Ye(!0)}finally{A(!1)}};return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Settings"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your application settings and profile."})]}),x.jsxs("main",{className:"space-y-8",children:[x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Profile Settings"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Update your public profile information. This may be used in the future for leaderboards or community features."}),x.jsxs("div",{className:"space-y-4 max-w-xl",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Name"}),x.jsx("div",{className:"mt-1",children:x.jsx("input",{type:"text",id:"profileName",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:ce,onChange:Oe=>me(Oe.target.value),placeholder:"Your Name",disabled:!e||!n||J})})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"profileDescription",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Description"}),x.jsx("div",{className:"mt-1",children:x.jsx("textarea",{id:"profileDescription",rows:3,className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:C,onChange:Oe=>$(Oe.target.value),placeholder:"A short bio about your trading style",disabled:!e||!n||J})})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("button",{onClick:Nt,disabled:!e||!n||J,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):"Save Profile"}),x.jsx("div",{className:"h-5 mt-2",children:fe&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${de?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[de?x.jsx(Rn,{className:"w-5 h-5"}):x.jsx(Di,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:fe})]})})]})]})]}),x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"AI Engine (Google Gemini)"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter your Google Gemini API key to enable all AI-powered analysis features. Your key is stored securely in the database."}),x.jsxs("div",{className:"space-y-4 max-w-xl",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"API Key"}),x.jsx("div",{className:"mt-1 flex items-center gap-2",children:x.jsx("input",{type:"password",id:"apiKey",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100 disabled:opacity-50",value:g,onChange:Oe=>v(Oe.target.value),placeholder:"Enter your Gemini API Key",disabled:!e||!n||T})})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("button",{onClick:_e,disabled:!e||!n||T||s==="verifying",className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:T||s==="verifying"?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):"Save & Verify Key"}),x.jsx("div",{className:"h-5 mt-2",children:_&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${R?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[R?x.jsx(Rn,{className:"w-5 h-5"}):x.jsx(Di,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:_})]})})]})]})]}),x.jsxs("section",{className:`bg-white dark:bg-slate-800 p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 transition-opacity ${(!e||!n)&&"opacity-50"}`,children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Financial Settings"}),x.jsxs("div",{className:"max-w-xl",children:[x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Set your base capital balance. This value is the foundation for all performance calculations and should only be changed to reflect deposits or withdrawals."}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"initialCapital",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Base Capital ($)"}),x.jsx("input",{type:"number",id:"initialCapital",disabled:!e||!n||B,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:I,onChange:Oe=>N(Oe.target.value)})]}),x.jsxs("div",{className:"mt-4 flex flex-col",children:[x.jsx("button",{onClick:ot,disabled:!e||!n||B,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:ring-violet-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:B?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):"Set Base Capital"}),x.jsx("div",{className:"h-5 mt-2",children:P&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${ie?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[ie?x.jsx(Rn,{className:"w-5 h-5"}):x.jsx(Di,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:P})]})})]}),x.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-md font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"Withdraw Funds"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:"Enter an amount to withdraw from your base capital. This will permanently reduce it."}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"withdrawalAmount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Withdrawal Amount ($)"}),x.jsx("input",{type:"number",id:"withdrawalAmount",placeholder:"0.00",disabled:!e||!n||ee,className:"shadow-sm disabled:opacity-50 focus:ring-violet-500 focus:border-violet-500 block w-full text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",value:U,onChange:Oe=>Z(Oe.target.value)})]}),x.jsxs("div",{className:"mt-4 flex flex-col",children:[x.jsx("button",{onClick:Qe,disabled:!e||!n||ee||!U,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700 focus:ring-rose-500 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed",children:ee?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):"Withdraw"}),x.jsx("div",{className:"h-5 mt-2",children:le&&x.jsxs("div",{className:`flex items-center gap-2 text-sm ${F?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:[F?x.jsx(Rn,{className:"w-5 h-5"}):x.jsx(Di,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium whitespace-pre-wrap",children:le})]})})]})]})]})]})]})]})},Ta=[{id:1,time:"00:30",currency:"AUD",flag:"",importance:3,event:"RBA Interest Rate Decision",actual:"3.85%",forecast:"3.60%",previous:"3.85%",betterThanForecast:!0},{id:2,time:"00:30",currency:"AUD",flag:"",importance:2,event:"RBA Rate Statement"},{id:3,time:"01:00",currency:"JPY",flag:"",importance:1,event:"Economy Watchers Current Index (Jun)",actual:"45.0",forecast:"45.1",previous:"44.4",betterThanForecast:!1},{id:4,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Exports (MoM) (May)",actual:"-1.4%",forecast:"-0.2%",previous:"-1.6%",betterThanForecast:!1},{id:5,time:"02:00",currency:"EUR",flag:"",importance:2,event:"German Imports (MoM) (May)",actual:"-3.8%",forecast:"",previous:"2.2%",betterThanForecast:!1},{id:6,time:"02:00",currency:"EUR",flag:"",importance:3,event:"German Trade Balance (May)",actual:"18.4B",forecast:"15.7B",previous:"15.8B",betterThanForecast:!0},{id:7,time:"05:30",currency:"USD",flag:"",importance:3,event:"Consumer Price Index (YoY) (Jun)",forecast:"3.1%",previous:"4.0%"},{id:8,time:"05:30",currency:"USD",flag:"",importance:3,event:"Core CPI (YoY) (Jun)",forecast:"5.0%",previous:"5.3%"},{id:9,time:"09:00",currency:"CAD",flag:"",importance:3,event:"BoC Interest Rate Decision",forecast:"4.75%",previous:"4.50%"},{id:10,time:"11:30",currency:"USD",flag:"",importance:2,event:"Crude Oil Inventories",previous:"-1.508M"},{id:11,time:"01:30",currency:"CNY",flag:"",importance:2,event:"Trade Balance (USD) (Jun)",forecast:"74.8B",previous:"65.81B"},{id:12,time:"05:30",currency:"USD",flag:"",importance:3,event:"Producer Price Index (MoM) (Jun)",forecast:"0.2%",previous:"-0.3%"},{id:13,time:"07:00",currency:"GBP",flag:"",importance:2,event:"GDP (MoM) (May)",forecast:"-0.2%",previous:"0.2%"}],ZU=()=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Ua,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-3",children:x.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[x.jsx("span",{className:"font-bold",children:"Demonstration Only:"}),x.jsx("br",{}),"This Economic Calendar is a high-fidelity demo and uses static data. Real-time data integration requires a dedicated backend service or an official data provider API due to browser security restrictions (CORS)."]})})]})}),e6=()=>{const[t,e]=Q.useState("today"),n=Q.useMemo(()=>{switch(t){case"today":return Ta.slice(0,10);case"tomorrow":return Ta.slice(10);case"thisWeek":return Ta;case"nextWeek":return[];default:return Ta}},[t]),i=({buttonFilter:u,children:h})=>x.jsx("button",{onClick:()=>e(u),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800 ${t===u?"bg-violet-600 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:h}),l=({count:u})=>x.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(3)].map((h,p)=>x.jsx("svg",{className:`w-4 h-4 ${p<u?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},p))}),s=({value:u,better:h})=>{const p=h===void 0?"text-slate-800 dark:text-slate-100":h?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400";return x.jsx("td",{className:`px-4 py-3 text-sm font-semibold text-right ${p}`,children:u||"-"})};return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Economic Calendar"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Key market-moving events and indicators."})]}),x.jsx(ZU,{}),x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[x.jsx(i,{buttonFilter:"today",children:"Today"}),x.jsx(i,{buttonFilter:"tomorrow",children:"Tomorrow"}),x.jsx(i,{buttonFilter:"thisWeek",children:"This Week"}),x.jsx(i,{buttonFilter:"nextWeek",children:"Next Week"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full min-w-[600px]",children:[x.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cur."}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Imp."}),x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Event"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actual"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Forecast"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Previous"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.length>0?n.map(u=>x.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[x.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:u.time}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{children:u.flag}),x.jsx("span",{children:u.currency})]})}),x.jsx("td",{className:"px-4 py-3",children:x.jsx(l,{count:u.importance})}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-800 dark:text-slate-200 font-medium",children:u.event}),x.jsx(s,{value:u.actual,better:u.betterThanForecast}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:u.forecast||"-"}),x.jsx("td",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-right",children:u.previous||"-"})]},u.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No events to display for this period."})})})]})})]})]})},t6=({assets:t,theme:e})=>{const n=Q.useRef(null),i=Q.useRef(null),l=["#8b5cf6","#3b82f6","#10b981","#f97316","#ec4899","#f59e0b","#6366f1","#06b6d4"],s=["#7c3aed","#2563eb","#059669","#ea580c","#db2777","#d97706","#4f46e5","#0891b2"];return Q.useEffect(()=>{if(!n.current||!t.length)return;const u=n.current.getContext("2d");if(!u)return;i.current&&i.current.destroy();const h=t.map(S=>S.name),p=t.map(S=>S.value),m=t.map((S,_)=>l[_%l.length]),g=t.map((S,_)=>s[_%s.length]),v=e==="dark",T=v?"rgba(203, 213, 225, 0.9)":"rgba(51, 65, 85, 1)";return i.current=new window.Chart(u,{type:"doughnut",data:{labels:h,datasets:[{label:"Portfolio Value",data:p,backgroundColor:m,hoverBackgroundColor:g,borderColor:v?"#1f2937":"#ffffff",borderWidth:2,hoverOffset:8}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{color:T,usePointStyle:!0,boxWidth:8,padding:20,font:{family:"inherit",size:12}}},tooltip:{enabled:!0,backgroundColor:v?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.85)",borderColor:v?"rgba(71, 85, 105, 0.5)":"rgba(226, 232, 240, 1)",borderWidth:1,titleColor:v?"#f1f5f9":"#1e293b",bodyColor:v?"#94a3b8":"#475569",bodySpacing:6,padding:12,cornerRadius:8,usePointStyle:!0,callbacks:{label:function(S){let _=S.dataset.label||"";return _&&(_+=": "),S.parsed!==null&&(_+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S.parsed)),_},afterLabel:function(S){const _=S.chart.getDatasetMeta(0).total||1;return`(${(S.parsed/_*100).toFixed(2)}%)`}}}}}}),()=>{i.current&&i.current.destroy()}},[t,e]),x.jsx("div",{className:"relative h-96 w-full",children:t.length>0?x.jsx("canvas",{ref:n}):x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:"No assets in portfolio to display chart."})})})},Of=({label:t,value:e,subvalue:n,valueColor:i})=>x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),x.jsx("p",{className:`text-3xl font-bold mt-2 ${i||"text-slate-800 dark:text-slate-100"}`,children:e}),n&&x.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:n})]}),n6=()=>x.jsxs("div",{className:"space-y-4 animate-pulse",children:[x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-5/6"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full mt-4"}),x.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-4/6"})]}),i6=()=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded-lg mb-6",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Ua,{className:"h-5 w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-3",children:x.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[x.jsx("span",{className:"font-bold",children:"Demonstration Portfolio:"}),x.jsx("br",{}),"The asset data on this page is for demonstration purposes to showcase a professional portfolio layout and AI advisor capabilities. The asset prices are randomized to simulate market changes. In a real application, this data would be connected to your live brokerage accounts."]})})]})}),r6=({apiKey:t,apiStatus:e,portfolioData:n,theme:i,updateTokenUsage:l})=>{const[s,u]=Q.useState(""),[h,p]=Q.useState(!1),[m,g]=Q.useState(""),[v,T]=Q.useState(!1),S=(ie,W=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:W,maximumFractionDigits:W}).format(ie),_=Q.useCallback(async ie=>{if(e!=="valid"){u("AI analysis is unavailable. Please set a valid Gemini API key in the settings."),p(!1);return}p(!0);try{const{analysisText:W,usage:U}=await ML(t,n,ie);u(W),l(U)}catch(W){const U=W instanceof Error?W.message:String(W);u(`An error occurred while fetching AI analysis: ${U}`)}finally{p(!1)}},[t,e,n,l]);Q.useEffect(()=>{n&&!v&&(_("Give me a brief overview of my current portfolio allocation and one high-level principle I should keep in mind."),T(!0))},[n,_,v]);const E=ie=>{ie.preventDefault(),m.trim()&&_(m)};if(!n)return x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"No Portfolio Data"}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"There was an issue loading your portfolio."})]});const{totalValue:R,totalPl:M,pl24h:I,pl24hPercent:N,assets:B}=n,z=M>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",P=I>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",K=I>=0?"+":"";return x.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"My Portfolio"}),x.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"An overview of your assets and performance."})]}),x.jsx(i6,{}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Of,{label:"Total Portfolio Value",value:S(R),subvalue:"Across all tracked assets"}),x.jsx(Of,{label:"Total Profit / Loss",value:S(M),valueColor:z,subvalue:"Represents overall unrealized P/L"}),x.jsx(Of,{label:"24-Hour Change",value:`${K}${S(I)}`,valueColor:P,subvalue:`${K}${N.toFixed(2)}%`})]}),x.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[x.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Your Assets"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[x.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Asset"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Holdings"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Avg. Buy Price"}),x.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Value / P&L"})]})}),x.jsx("tbody",{children:B.map(ie=>x.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700/50",children:[x.jsxs("td",{className:"px-4 py-4 flex items-center gap-3",children:[x.jsx("img",{src:ie.logoUrl,alt:ie.name,className:"h-8 w-8"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:ie.name}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ie.symbol})]})]}),x.jsxs("td",{className:"px-4 py-4 text-right",children:[x.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-slate-100",children:ie.amount.toLocaleString()}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S(ie.currentPrice,2)})]}),x.jsx("td",{className:"px-4 py-4 text-right font-mono text-sm text-slate-600 dark:text-slate-300",children:S(ie.avgBuyPrice,2)}),x.jsxs("td",{className:"px-4 py-4 text-right",children:[x.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-100",children:S(ie.value)}),x.jsxs("p",{className:`text-xs font-semibold ${ie.totalPl>=0?"text-emerald-500":"text-red-500"}`,children:[ie.totalPl>=0?"+":"",S(ie.totalPl)]})]})]},ie.symbol))})]})})]}),x.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-4",children:"Asset Allocation"}),x.jsx(t6,{assets:B,theme:i})]})]}),x.jsxs("section",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"flex-shrink-0 bg-violet-100 dark:bg-violet-900/50 p-2 rounded-full",children:x.jsx(bd,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"})}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Your AI Financial Advisor"})]}),x.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg min-h-[120px]",children:h?x.jsx(n6,{}):x.jsx("div",{className:"prose prose-sm max-w-none text-slate-600 dark:text-slate-300 dark:prose-headings:text-slate-100 dark:prose-strong:text-slate-100 dark:prose-p:my-1 dark:prose-h3:mt-4 dark:prose-h3:mb-2",children:x.jsx(Ud,{children:s,remarkPlugins:[qd]})})}),x.jsxs("form",{onSubmit:E,className:"mt-4 flex gap-3",children:[x.jsx("input",{type:"text",value:m,onChange:ie=>g(ie.target.value),placeholder:"Ask a follow-up question about your portfolio...",className:"flex-grow shadow-sm focus:ring-violet-500 focus:border-violet-500 block w-full sm:text-sm border-slate-300 rounded-md bg-slate-50 text-slate-900 dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100",disabled:h}),x.jsx("button",{type:"submit",disabled:h||!m.trim()||e!=="valid",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:h?x.jsx(Ri,{className:"w-5 h-5"}):"Get Advice"})]})]})]})},Hv=()=>x.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-80 flex items-center justify-center z-[100] p-4 text-slate-100",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-2xl max-w-2xl w-full p-8",children:[x.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-500/20 border-2 border-red-500/50",children:x.jsx(Cw,{className:"h-8 w-8 text-red-400"})}),x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"mt-6 text-2xl font-bold",children:"Database Connection Error"}),x.jsx("p",{className:"mt-2 text-slate-300",children:"The application cannot connect to the Supabase database."})]}),x.jsxs("div",{className:"mt-6 text-left bg-slate-900/70 p-6 rounded-lg border border-slate-700 space-y-4",children:[x.jsx("h3",{className:"font-semibold text-lg text-yellow-300",children:"This is a CORS Configuration Issue"}),x.jsx("p",{className:"text-sm text-slate-400",children:"For security, browsers block requests from this web app to the database server unless the server explicitly allows it. You need to add this app's URL to your Supabase project's list of approved origins."}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-slate-200 mb-2",children:"How to Fix It:"}),x.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-slate-300",children:[x.jsxs("li",{children:[x.jsx("span",{className:"font-semibold",children:"Copy this app's URL"})," from your browser's address bar."]}),x.jsxs("li",{children:["Go to your ",x.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-violet-400 underline hover:text-violet-300",children:"Supabase Dashboard"}),"."]}),x.jsxs("li",{children:["Navigate to: ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"Project Settings > API"}),"."]}),x.jsxs("li",{children:["Find the ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"CORS Configuration"})," section."]}),x.jsxs("li",{children:["Add your app's URL as a new origin pattern (e.g., ",x.jsx("code",{className:"text-xs bg-slate-700 px-1.5 py-1 rounded",children:"http://localhost:3000"})," or your deployment URL)."]}),x.jsxs("li",{children:["Click ",x.jsx("span",{className:"font-semibold",children:"Save"})," in Supabase."]})]})]})]}),x.jsxs("button",{onClick:()=>window.location.reload(),className:"mt-8 w-full inline-flex items-center justify-center gap-2 px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-violet-600 hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-500",children:[x.jsx(Nw,{className:"w-5 h-5"}),"I've updated my CORS settings, Refresh Page"]})]})}),$v=({isOpen:t,onClose:e,onConfirm:n,title:i,message:l,confirmText:s="Confirm",cancelText:u="Cancel",isDestructive:h=!1,isLoading:p=!1})=>{if(Q.useEffect(()=>{const T=S=>{S.key==="Escape"&&e()};return t&&document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[t,e]),!t)return null;const m=h?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-violet-600 hover:bg-violet-700 focus:ring-violet-500",g=h?"bg-red-100 dark:bg-red-900/50":"bg-violet-100 dark:bg-violet-900/50",v=h?x.jsx(Kv,{className:"h-6 w-6 text-red-600 dark:text-red-400"}):x.jsx(Ua,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"});return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity duration-300",role:"dialog","aria-modal":"true",onClick:e,children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 max-w-md w-full text-center transform transition-all scale-100 opacity-100",onClick:T=>T.stopPropagation(),children:[x.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${g}`,children:v}),x.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900 dark:text-slate-100",children:i}),x.jsx("div",{className:"mt-2",children:x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:l})}),x.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row-reverse gap-3",children:[x.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-slate-400 ${m}`,onClick:n,disabled:p,children:p?x.jsx(Ri,{className:"w-5 h-5 animate-spin"}):s}),x.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-slate-900 dark:text-slate-200 shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 disabled:opacity-50",onClick:e,disabled:p,children:u})]})]})})},Bf={scalp:{title:"Scalp Trading",icon:x.jsx(ka,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Get immediate trade opportunities for quick, short-term profits",description:"Scalp trading involves making numerous small trades on minor price changes. Trades are held for very short periods, from seconds to minutes, aiming to accumulate small profits that add up over time.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"0.25",stopLoss:"6.00",leverage:"100",riskRewardRatio:"1.3",entryPrice:"30000"},calculator:{timeframeSettings:{text:"Using 1-min scalping timeframe settings",link:"#"}}},swing:{title:"Swing Trading",icon:x.jsx(zf,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Analyze charts for multi-day to multi-week trade opportunities",description:"Swing trading is a strategy that focuses on capturing gains in a stock (or any financial instrument) over a period of a few days to several weeks. Swing traders primarily use technical analysis to look for trading opportunities.",initialRiskParams:{accountBalance:"10000",riskPerTrade:"1",stopLoss:"13.50",leverage:"20",riskRewardRatio:"1.8",entryPrice:"1500"},calculator:{timeframeSettings:{text:"Using 30-/60-min timeframe settings",link:"#"}}},day:{title:"Day Trading",icon:x.jsx(Ea,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Execute trades within a single trading day",description:"Day trading is a strategy where financial instruments are bought and sold within the same trading day. All positions are closed before the market closes, meaning no positions are held overnight.",initialRiskParams:{accountBalance:"25000",riskPerTrade:"0.5",stopLoss:"10",leverage:"50",riskRewardRatio:"1.5",entryPrice:"400"},calculator:{timeframeSettings:{text:"Using 5/15-min timeframe settings",link:"#"}}},position:{title:"Position Trading",icon:x.jsx(qf,{className:"h-8 w-8 text-violet-600 dark:text-violet-400"}),subtitle:"Hold trades for long-term trends, from weeks to months",description:"Position trading is a long-term strategy where traders hold a position for an extended period, typically months or even years. This style is less concerned with short-term market fluctuations and more with long-term trends.",initialRiskParams:{accountBalance:"50000",riskPerTrade:"2",stopLoss:"150",leverage:"5",riskRewardRatio:"3",entryPrice:"20000"},calculator:{timeframeSettings:{text:"Using Daily/Weekly chart settings",link:"#"}}}},o6=()=>x.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-500 p-3 sm:p-4 rounded-lg",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Kv,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 dark:text-yellow-500"})}),x.jsx("div",{className:"ml-2 sm:ml-3",children:x.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200 leading-relaxed",children:[x.jsx("span",{className:"font-bold",children:"Important: Not Financial Advice"}),x.jsx("br",{}),"All analysis provided is for educational and informational purposes only. Trading involves risk. Always conduct your own research and consider consulting a financial advisor before making investment decisions."]})})]})}),l6=({text:t})=>x.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 sm:p-4 rounded-lg",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Ua,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400 dark:text-blue-500"})}),x.jsx("div",{className:"ml-2 sm:ml-3",children:x.jsx("p",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300 leading-relaxed",children:t})})]})}),Yv=({tabName:t,activeTab:e,setActiveTab:n,children:i})=>x.jsx("button",{onClick:()=>n(t),className:`px-3 sm:px-6 py-2 text-xs sm:text-sm font-medium rounded-t-lg transition-colors duration-200 focus:outline-none ${e===t?"border-b-2 border-violet-600 text-violet-600 dark:border-violet-400 dark:text-violet-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:i});function s6(t){return t==="home"}function a6(){const[t,e]=Q.useState("light"),[n,i]=Q.useState("home"),[l,s]=Q.useState("all"),[u,h]=Q.useState(!1),[p,m]=Q.useState(null),[g,v]=Q.useState(null),[T,S]=Q.useState(null),[_,E]=Q.useState(!1),[R,M]=Q.useState(""),[I,N]=Q.useState("idle"),[B,z]=Q.useState(1e4),[P,K]=Q.useState(0),[ie,W]=Q.useState(0),[U,Z]=Q.useState("setup"),[ee,ae]=Q.useState(!1),[le,oe]=Q.useState(!1),[F,ne]=Q.useState(!1),[ce,me]=Q.useState(null),[C,$]=Q.useState(!1),[J,A]=Q.useState(null),[fe,ye]=Q.useState([]),[de,Ye]=Q.useState(null),[_e,ot]=Q.useState(null),[Qe,Nt]=Q.useState(null),[Oe,gt]=Q.useState(Bf.scalp.initialRiskParams),yt=Q.useCallback(ue=>{const xe=ue instanceof Error?ue.message:String(ue);xe.includes("Cross-Origin Resource Sharing")?($(!0),console.error(ue)):me(xe)},[]),ei=Q.useCallback(async ue=>{if(!ue){N("idle"),M("");return}M(ue),N("verifying");const xe=await NL(ue);N(xe?"valid":"invalid")},[]),{netPL:ti}=Q.useMemo(()=>({netPL:fe.filter(Ee=>Ee.status!=="pending"&&Ee.outcomeAmount!==void 0).reduce((Ee,Ae)=>Ae.status==="profit"?Ee+(Ae.outcomeAmount||0):Ae.status==="stop-loss"?Ee-(Ae.outcomeAmount||0):Ee,0)}),[fe]),dt=Q.useMemo(()=>B+ti,[B,ti]);Q.useEffect(()=>{const ue=zU();if(m(ue),ue){const xe=jU(ue,async Ee=>{const Ae=(Ee==null?void 0:Ee.user)??null;if(Ae){const je=await GU(ue,Ae.id);je?(v(Ae),S(je),je.initial_trade&&z(je.initial_trade),E(!1),i("dashboard")):(console.error(`User ${Ae.id} authenticated but has no profile in 'public.users'. Logging out.`),yt("Your account was authenticated, but your user profile could not be found. This can happen if the profile creation failed. Please contact support or try signing up again."),await VU(ue))}else v(null),S(null),ye([]),z(1e4),M(""),N("idle"),i("home")});return()=>xe.unsubscribe()}},[yt]),Q.useEffect(()=>{const ue=localStorage.getItem("theme");ue&&e(ue);const xe=localStorage.getItem("totalTokens");xe&&W(Number(xe)),p&&(async()=>{if(!p){me("Supabase client could not be created. Please configure credentials in services/supabaseService.ts");return}try{if(g){const[Ae,je]=await Promise.all([jv(p,g.id),XU(p)]);ye(Ae),je!=null&&je.gemini_api_key&&await ei(je.gemini_api_key)}me(null)}catch(Ae){yt(Ae)}})()},[p,g,yt,ei]);const So=async ue=>{if(!p)throw new Error("Database client not available.");await QU(p,ue),await ei(ue)},Li=Q.useCallback(ue=>{z(ue)},[]),Ui=Q.useCallback(ue=>{S(xe=>xe?{...xe,nama:ue.name,describe:ue.description}:null)},[]),ni=async ue=>{if(!p||!g)throw new Error("You must be logged in to make a withdrawal.");const xe=B-ue;if(xe<0)throw new Error("Withdrawal amount exceeds available capital.");await Qb(p,g.id,xe),z(xe)};Q.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),Q.useEffect(()=>{localStorage.setItem("totalTokens",String(ie))},[ie]),Q.useEffect(()=>{gt(ue=>({...ue,accountBalance:String(dt.toFixed(2))}))},[dt]);const wo=ue=>fe.filter(xe=>xe.mode===ue),Cn=async ue=>{if(ue===n)return;if(["dashboard","scalp","swing","day","position","settings","portfolio"].includes(ue)&&!g){E(!0);return}if(ue==="portfolio"&&!de){ne(!0);try{const Ee=await KU((g==null?void 0:g.id)??"");Ye(Ee)}catch(Ee){yt(Ee)}finally{ne(!1)}}if(ue!=="dashboard"&&ue!=="home"&&ue!=="settings"&&ue!=="economic-calendar"&&ue!=="portfolio"){const Ee=ue;s(Ee);const Ae={...Bf[Ee].initialRiskParams};Ae.accountBalance=String(dt.toFixed(2)),gt(Ae),A(null),me(null),Z("setup")}i(ue)},Oi=ue=>{K(xe=>xe+ue.total),W(xe=>xe+ue.total)},Co=Q.useCallback(async ue=>{if(n==="dashboard"||n==="home"||n==="settings"||n==="economic-calendar"||n==="portfolio")return;if(!p){me("Not connected to database. Please check settings."),i("settings");return}if(!g){me("You must be logged in to analyze a chart."),E(!0);return}if(I!=="valid"){me("Your Gemini API key is not valid. Please check it in Settings."),i("settings");return}const xe=n;ae(!0),me(null);try{const{analysis:Ee,usage:Ae}=await EL(R,ue,Oe,xe,dt);Oi(Ae);const je=new FileReader;je.readAsDataURL(ue),je.onload=async()=>{const Kt={...Ee,mode:xe,image:je.result,status:"pending"},_o=await $U(p,Kt,g.id);ye(Xl=>[_o,...Xl]),A(_o)}}catch(Ee){yt(Ee)}finally{ae(!1)}},[R,I,Oe,n,p,g,yt,dt]),H=()=>{A(null),me(null)},re=async(ue,xe,Ee)=>{if(!p||!g){me("Database not connected. Cannot save result.");return}try{await YU(p,ue,xe,Ee,g.id);const Ae=await jv(p,g.id);ye(Ae),J&&J.id===ue&&A(je=>je?{...je,status:xe,outcomeAmount:Ee}:null)}catch(Ae){yt(Ae)}ot(null)},ve=ue=>{A(ue),Z("setup")},Te=ue=>{Nt(ue)},qe=async()=>{if(!Qe||!p||!g){me("Could not delete trade. Missing information.");return}oe(!0),me(null);try{await JU(p,Qe.id,g.id),ye(ue=>ue.filter(xe=>xe.id!==Qe.id)),(J==null?void 0:J.id)===Qe.id&&A(null)}catch(ue){yt(ue)}finally{oe(!1),Nt(null)}};Q.useEffect(()=>{if(ce){const ue=setTimeout(()=>me(null),1e4);return()=>clearTimeout(ue)}},[ce]);const Bt=ue=>{const xe=Bf[ue],Ee=wo(ue);return x.jsxs("div",{className:"flex-1 flex flex-col gap-4 sm:gap-6",children:[x.jsxs("header",{children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-slate-100",children:xe.title}),x.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mt-1",children:xe.subtitle})]}),xe.description&&x.jsx(l6,{text:xe.description}),ue==="swing"&&x.jsx(o6,{}),x.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8",children:[x.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4 sm:gap-6",children:x.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:J?x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[x.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800 dark:text-slate-100",children:"AI Analysis Details"}),x.jsxs("button",{onClick:H,className:"inline-flex items-center gap-2 px-3 sm:px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md shadow-sm text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-violet-500",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),"Back to Uploader"]})]}),x.jsx(s2,{analysis:J,riskParams:Oe})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center mb-1",children:[x.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:xe.icon}),x.jsx("h2",{className:"ml-3 text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100",children:xe.title})]}),x.jsx("p",{className:"text-sm sm:text-base text-slate-500 dark:text-slate-400 mb-6 ml-9 sm:ml-11",children:xe.subtitle}),x.jsx(Lw,{onImageSelect:Co,isLoading:ee})]})})}),x.jsxs("div",{className:"lg:col-span-1 h-full flex flex-col bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[J&&J.status==="pending"&&x.jsx("div",{className:"p-4 sm:p-6 border-b border-slate-200 dark:border-slate-700",children:x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[x.jsxs("button",{onClick:()=>ot({analysisId:J.id,type:"profit"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:[x.jsx(Di,{className:"-ml-1 mr-3 h-5 w-5"}),"Profit"]}),x.jsxs("button",{onClick:()=>ot({analysisId:J.id,type:"stop-loss"}),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[x.jsx(Rn,{className:"-ml-1 mr-3 h-5 w-5"}),"Stop Loss"]})]})}),x.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-4 sm:px-6",children:[x.jsx(Yv,{tabName:"setup",activeTab:U,setActiveTab:Z,children:"Trade Setup"}),x.jsx(Yv,{tabName:"history",activeTab:U,setActiveTab:Z,children:"History"})]}),x.jsx("div",{className:"flex-1 min-h-0",children:U==="setup"?x.jsx("div",{className:"h-full overflow-y-auto",children:x.jsx(Uw,{params:Oe,setParams:gt,timeframeSettings:xe.calculator.timeframeSettings,currentAnalysis:J})}):x.jsx(u2,{history:Ee,onSelect:ve,onDeleteRequest:Te,currentAnalysisId:J==null?void 0:J.id})})]})]})]})},yn=()=>{if(F)return x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 animate-pulse",children:"Loading Portfolio..."})});if(!p&&n!=="home")return x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Database Not Connected"}),x.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"Please check your Supabase credentials in `services/supabaseService.ts`."})]});switch(n){case"dashboard":return x.jsx(DL,{updateTokenUsage:Oi,apiKey:R,apiStatus:I,allTrades:fe,mode:l,setDashboardSource:s,theme:t,initialCapital:B,netPL:ti,currentEquity:dt,user:g,onLogoutClick:()=>p==null?void 0:p.auth.signOut(),onNavigate:Cn});case"settings":return x.jsx(WU,{initialCapital:B,supabaseClient:p,user:g,userProfile:T,geminiApiKey:R,apiStatus:I,onApiKeyUpdate:So,onCapitalUpdate:Li,onProfileUpdate:Ui,onWithdraw:ni});case"economic-calendar":return x.jsx(e6,{});case"portfolio":return x.jsx(r6,{apiKey:R,apiStatus:I,portfolioData:de,theme:t,updateTokenUsage:Oi});case"scalp":case"swing":case"day":case"position":return Bt(n);default:return null}};return n==="home"?x.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[C&&x.jsx(Hv,{}),_e&&x.jsx(Q0,{type:_e.type,onSave:ue=>re(_e.analysisId,_e.type,ue),onClose:()=>ot(null)}),Qe&&x.jsx($v,{isOpen:!!Qe,onClose:()=>Nt(null),onConfirm:qe,title:"Delete Trade Analysis",message:x.jsxs("p",{children:["Are you sure you want to delete this signal? ",x.jsx("br",{}),x.jsx("span",{className:"font-semibold",children:Qe.tradeSetup.tradeType})," for ",x.jsx("span",{className:"font-semibold",children:Qe.keyPattern})," from ",x.jsx("span",{className:"font-mono text-xs",children:new Date(Qe.timestamp).toLocaleString()}),".",x.jsx("br",{}),x.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:le}),_&&p&&x.jsx(Gv,{supabaseClient:p,onClose:()=>E(!1)}),ce&&x.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("strong",{className:"font-bold",children:"Error! "}),x.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:ce})]}),x.jsx("button",{onClick:()=>me(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),x.jsx(gv,{onNavigate:Cn,theme:t,setTheme:e,user:g,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),showUserIcon:!1,activeMode:n}),x.jsx("main",{className:"flex-1 overflow-hidden",children:x.jsx(OL,{onNavigate:Cn})})]}):x.jsxs("div",{className:"min-h-screen flex flex-col text-slate-800 dark:text-slate-100",children:[C&&x.jsx(Hv,{}),_e&&x.jsx(Q0,{type:_e.type,onSave:ue=>re(_e.analysisId,_e.type,ue),onClose:()=>ot(null)}),Qe&&x.jsx($v,{isOpen:!!Qe,onClose:()=>Nt(null),onConfirm:qe,title:"Delete Trade Analysis",message:x.jsxs("p",{children:["Are you sure you want to delete this signal? ",x.jsx("br",{}),x.jsx("span",{className:"font-semibold",children:Qe.tradeSetup.tradeType})," for ",x.jsx("span",{className:"font-semibold",children:Qe.keyPattern})," from ",x.jsx("span",{className:"font-mono text-xs",children:new Date(Qe.timestamp).toLocaleString()}),".",x.jsx("br",{}),x.jsx("br",{}),"This action cannot be undone."]}),confirmText:"Yes, Delete",cancelText:"No, Keep It",isDestructive:!0,isLoading:le}),_&&p&&x.jsx(Gv,{supabaseClient:p,onClose:()=>E(!1)}),ce&&x.jsxs("div",{className:"fixed top-4 sm:top-5 left-4 sm:left-auto sm:right-5 bg-red-100 border border-red-400 text-red-700 px-3 sm:px-4 py-3 rounded-lg shadow-lg z-[200] dark:bg-red-900/50 dark:text-red-200 dark:border-red-700 max-w-[calc(100vw-2rem)] sm:max-w-lg overflow-y-auto max-h-48 flex items-start gap-3",role:"alert",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("strong",{className:"font-bold",children:"Error! "}),x.jsx("span",{className:"block sm:inline whitespace-pre-wrap text-sm sm:text-base",children:ce})]}),x.jsx("button",{onClick:()=>me(null),className:"ml-2 sm:ml-4 text-xl sm:text-2xl font-bold text-red-700 dark:text-red-200 focus:outline-none hover:text-red-900 dark:hover:text-white flex-shrink-0","aria-label":"Close error message",children:""})]}),x.jsx(gv,{onNavigate:Cn,theme:t,setTheme:e,user:g,onLoginClick:()=>E(!0),onLogoutClick:()=>p==null?void 0:p.auth.signOut(),onMobileMenuToggle:()=>h(!u),showUserIcon:!s6(n),activeMode:n}),x.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row",children:[x.jsx(c2,{activeMode:n,onModeChange:Cn,theme:t,setTheme:e,apiStatus:I,sessionTokens:P,totalTokens:ie,isMobileMenuOpen:u,onMobileMenuToggle:()=>h(!u)}),x.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-hidden",children:yn()})]})]})}const Wb=document.getElementById("root");if(!Wb)throw new Error("Could not find root element to mount to");const u6=Sw.createRoot(Wb);u6.render(x.jsx(Jv.StrictMode,{children:x.jsx(a6,{})}));
